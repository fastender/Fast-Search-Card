var kv=Object.defineProperty;var xv=(e,t,n)=>t in e?kv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var he=(e,t,n)=>xv(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const _v="modulepreload",Cv=function(e){return"/"+e},du={},Ze=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){let d=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};var a=d;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");s=d(n.map(u=>{if(u=Cv(u),u in du)return;du[u]=!0;const h=u.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":_v,h||(p.as="script"),p.crossOrigin="",p.href=u,c&&p.setAttribute("nonce",c),document.head.appendChild(p),h)return new Promise((g,m)=>{p.addEventListener("load",g),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})};var cs,Ee,bm,si,uu,wm,km,xm,zc,Sl,Nl,_m,$r={},Cm=[],Sv=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ds=Array.isArray;function ln(e,t){for(var n in t)e[n]=t[n];return e}function Vc(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function gi(e,t,n){var i,s,o,a={};for(o in t)o=="key"?i=t[o]:o=="ref"?s=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?cs.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)a[o]===void 0&&(a[o]=e.defaultProps[o]);return Lr(e,a,i,s,null)}function Lr(e,t,n,i,s){var o={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++bm,__i:-1,__u:0};return s==null&&Ee.vnode!=null&&Ee.vnode(o),o}function ke(e){return e.children}function Xt(e,t){this.props=e,this.context=t}function Wi(e,t){if(t==null)return e.__?Wi(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Wi(e):null}function Sm(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Sm(e)}}function Ll(e){(!e.__d&&(e.__d=!0)&&si.push(e)&&!Do.__r++||uu!=Ee.debounceRendering)&&((uu=Ee.debounceRendering)||wm)(Do)}function Do(){for(var e,t,n,i,s,o,a,l=1;si.length;)si.length>l&&si.sort(km),e=si.shift(),l=si.length,e.__d&&(n=void 0,s=(i=(t=e).__v).__e,o=[],a=[],t.__P&&((n=ln({},i)).__v=i.__v+1,Ee.vnode&&Ee.vnode(n),Oc(t.__P,n,i,t.__n,t.__P.namespaceURI,32&i.__u?[s]:null,o,s??Wi(i),!!(32&i.__u),a),n.__v=i.__v,n.__.__k[n.__i]=n,Mm(o,n,a),n.__e!=s&&Sm(n)));Do.__r=0}function Nm(e,t,n,i,s,o,a,l,c,d,u){var h,f,p,g,m,y,b,v=i&&i.__k||Cm,w=t.length;for(c=Nv(n,t,v,c,w),h=0;h<w;h++)(p=n.__k[h])!=null&&(f=p.__i==-1?$r:v[p.__i]||$r,p.__i=h,y=Oc(e,p,f,s,o,a,l,c,d,u),g=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&Wc(f.ref,null,p),u.push(p.ref,p.__c||g,p)),m==null&&g!=null&&(m=g),(b=!!(4&p.__u))||f.__k===p.__k?c=Lm(p,c,e,b):typeof p.type=="function"&&y!==void 0?c=y:g&&(c=g.nextSibling),p.__u&=-7);return n.__e=m,c}function Nv(e,t,n,i,s){var o,a,l,c,d,u=n.length,h=u,f=0;for(e.__k=new Array(s),o=0;o<s;o++)(a=t[o])!=null&&typeof a!="boolean"&&typeof a!="function"?(c=o+f,(a=e.__k[o]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?Lr(null,a,null,null,null):ds(a)?Lr(ke,{children:a},null,null,null):a.constructor==null&&a.__b>0?Lr(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,l=null,(d=a.__i=Lv(a,n,c,h))!=-1&&(h--,(l=n[d])&&(l.__u|=2)),l==null||l.__v==null?(d==-1&&(s>u?f--:s<u&&f++),typeof a.type!="function"&&(a.__u|=4)):d!=c&&(d==c-1?f--:d==c+1?f++:(d>c?f--:f++,a.__u|=4))):e.__k[o]=null;if(h)for(o=0;o<u;o++)(l=n[o])!=null&&(2&l.__u)==0&&(l.__e==i&&(i=Wi(l)),Tm(l,l));return i}function Lm(e,t,n,i){var s,o;if(typeof e.type=="function"){for(s=e.__k,o=0;s&&o<s.length;o++)s[o]&&(s[o].__=e,t=Lm(s[o],t,n,i));return t}e.__e!=t&&(i&&(t&&e.type&&!t.parentNode&&(t=Wi(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Cn(e,t){return t=t||[],e==null||typeof e=="boolean"||(ds(e)?e.some(function(n){Cn(n,t)}):t.push(e)),t}function Lv(e,t,n,i){var s,o,a,l=e.key,c=e.type,d=t[n],u=d!=null&&(2&d.__u)==0;if(d===null&&e.key==null||u&&l==d.key&&c==d.type)return n;if(i>(u?1:0)){for(s=n-1,o=n+1;s>=0||o<t.length;)if((d=t[a=s>=0?s--:o++])!=null&&(2&d.__u)==0&&l==d.key&&c==d.type)return a}return-1}function hu(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Sv.test(t)?n:n+"px"}function _s(e,t,n,i,s){var o,a;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||hu(e.style,t,"");if(n)for(t in n)i&&n[t]==i[t]||hu(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")o=t!=(t=t.replace(xm,"$1")),a=t.toLowerCase(),t=a in e||t=="onFocusOut"||t=="onFocusIn"?a.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?i?n.u=i.u:(n.u=zc,e.addEventListener(t,o?Nl:Sl,o)):e.removeEventListener(t,o?Nl:Sl,o);else{if(s=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function fu(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=zc++;else if(t.t<n.u)return;return n(Ee.event?Ee.event(t):t)}}}function Oc(e,t,n,i,s,o,a,l,c,d){var u,h,f,p,g,m,y,b,v,w,S,x,k,N,L,_,I,T=t.type;if(t.constructor!=null)return null;128&n.__u&&(c=!!(32&n.__u),o=[l=t.__e=n.__e]),(u=Ee.__b)&&u(t);e:if(typeof T=="function")try{if(b=t.props,v="prototype"in T&&T.prototype.render,w=(u=T.contextType)&&i[u.__c],S=u?w?w.props.value:u.__:i,n.__c?y=(h=t.__c=n.__c).__=h.__E:(v?t.__c=h=new T(b,S):(t.__c=h=new Xt(b,S),h.constructor=T,h.render=Ev),w&&w.sub(h),h.props=b,h.state||(h.state={}),h.context=S,h.__n=i,f=h.__d=!0,h.__h=[],h._sb=[]),v&&h.__s==null&&(h.__s=h.state),v&&T.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=ln({},h.__s)),ln(h.__s,T.getDerivedStateFromProps(b,h.__s))),p=h.props,g=h.state,h.__v=t,f)v&&T.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),v&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(v&&T.getDerivedStateFromProps==null&&b!==p&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(b,S),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(b,h.__s,S)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(h.props=b,h.state=h.__s,h.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(R){R&&(R.__=t)}),x=0;x<h._sb.length;x++)h.__h.push(h._sb[x]);h._sb=[],h.__h.length&&a.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(b,h.__s,S),v&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(p,g,m)})}if(h.context=S,h.props=b,h.__P=e,h.__e=!1,k=Ee.__r,N=0,v){for(h.state=h.__s,h.__d=!1,k&&k(t),u=h.render(h.props,h.state,h.context),L=0;L<h._sb.length;L++)h.__h.push(h._sb[L]);h._sb=[]}else do h.__d=!1,k&&k(t),u=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++N<25);h.state=h.__s,h.getChildContext!=null&&(i=ln(ln({},i),h.getChildContext())),v&&!f&&h.getSnapshotBeforeUpdate!=null&&(m=h.getSnapshotBeforeUpdate(p,g)),_=u,u!=null&&u.type===ke&&u.key==null&&(_=Em(u.props.children)),l=Nm(e,ds(_)?_:[_],t,n,i,s,o,a,l,c,d),h.base=t.__e,t.__u&=-161,h.__h.length&&a.push(h),y&&(h.__E=h.__=null)}catch(R){if(t.__v=null,c||o!=null)if(R.then){for(t.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;o[o.indexOf(l)]=null,t.__e=l}else{for(I=o.length;I--;)Vc(o[I]);Ml(t)}else t.__e=n.__e,t.__k=n.__k,R.then||Ml(t);Ee.__e(R,t,n)}else o==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):l=t.__e=Mv(n.__e,t,n,i,s,o,a,c,d);return(u=Ee.diffed)&&u(t),128&t.__u?void 0:l}function Ml(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(Ml)}function Mm(e,t,n){for(var i=0;i<n.length;i++)Wc(n[i],n[++i],n[++i]);Ee.__c&&Ee.__c(t,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(o){o.call(s)})}catch(o){Ee.__e(o,s.__v)}})}function Em(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:ds(e)?e.map(Em):ln({},e)}function Mv(e,t,n,i,s,o,a,l,c){var d,u,h,f,p,g,m,y=n.props,b=t.props,v=t.type;if(v=="svg"?s="http://www.w3.org/2000/svg":v=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),o!=null){for(d=0;d<o.length;d++)if((p=o[d])&&"setAttribute"in p==!!v&&(v?p.localName==v:p.nodeType==3)){e=p,o[d]=null;break}}if(e==null){if(v==null)return document.createTextNode(b);e=document.createElementNS(s,v,b.is&&b),l&&(Ee.__m&&Ee.__m(t,o),l=!1),o=null}if(v==null)y===b||l&&e.data==b||(e.data=b);else{if(o=o&&cs.call(e.childNodes),y=n.props||$r,!l&&o!=null)for(y={},d=0;d<e.attributes.length;d++)y[(p=e.attributes[d]).name]=p.value;for(d in y)if(p=y[d],d!="children"){if(d=="dangerouslySetInnerHTML")h=p;else if(!(d in b)){if(d=="value"&&"defaultValue"in b||d=="checked"&&"defaultChecked"in b)continue;_s(e,d,null,p,s)}}for(d in b)p=b[d],d=="children"?f=p:d=="dangerouslySetInnerHTML"?u=p:d=="value"?g=p:d=="checked"?m=p:l&&typeof p!="function"||y[d]===p||_s(e,d,p,y[d],s);if(u)l||h&&(u.__html==h.__html||u.__html==e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(h&&(e.innerHTML=""),Nm(t.type=="template"?e.content:e,ds(f)?f:[f],t,n,i,v=="foreignObject"?"http://www.w3.org/1999/xhtml":s,o,a,o?o[0]:n.__k&&Wi(n,0),l,c),o!=null)for(d=o.length;d--;)Vc(o[d]);l||(d="value",v=="progress"&&g==null?e.removeAttribute("value"):g!=null&&(g!==e[d]||v=="progress"&&!g||v=="option"&&g!=y[d])&&_s(e,d,g,y[d],s),d="checked",m!=null&&m!=e[d]&&_s(e,d,m,y[d],s))}return e}function Wc(e,t,n){try{if(typeof e=="function"){var i=typeof e.__u=="function";i&&e.__u(),i&&t==null||(e.__u=e(t))}else e.current=t}catch(s){Ee.__e(s,n)}}function Tm(e,t,n){var i,s;if(Ee.unmount&&Ee.unmount(e),(i=e.ref)&&(i.current&&i.current!=e.__e||Wc(i,null,t)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(o){Ee.__e(o,t)}i.base=i.__P=null}if(i=e.__k)for(s=0;s<i.length;s++)i[s]&&Tm(i[s],t,n||typeof e.type!="function");n||Vc(e.__e),e.__c=e.__=e.__e=void 0}function Ev(e,t,n){return this.constructor(e,n)}function po(e,t,n){var i,s,o,a;t==document&&(t=document.documentElement),Ee.__&&Ee.__(e,t),s=(i=!1)?null:t.__k,o=[],a=[],Oc(t,e=t.__k=gi(ke,null,[e]),s||$r,$r,t.namespaceURI,s?null:t.firstChild?cs.call(t.childNodes):null,o,s?s.__e:t.firstChild,i,a),Mm(o,e,a)}function Tv(e,t,n){var i,s,o,a,l=ln({},e.props);for(o in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)o=="key"?i=t[o]:o=="ref"?s=t[o]:l[o]=t[o]===void 0&&a!=null?a[o]:t[o];return arguments.length>2&&(l.children=arguments.length>3?cs.call(arguments,2):n),Lr(e.type,l,i||e.key,s||e.ref,null)}function ki(e){function t(n){var i,s;return this.getChildContext||(i=new Set,(s={})[t.__c]=this,this.getChildContext=function(){return s},this.componentWillUnmount=function(){i=null},this.shouldComponentUpdate=function(o){this.props.value!=o.value&&i.forEach(function(a){a.__e=!0,Ll(a)})},this.sub=function(o){i.add(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i&&i.delete(o),a&&a.call(o)}}),n.children}return t.__c="__cC"+_m++,t.__=e,t.Provider=t.__l=(t.Consumer=function(n,i){return n.children(i)}).contextType=t,t}cs=Cm.slice,Ee={__e:function(e,t,n,i){for(var s,o,a;t=t.__;)if((s=t.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(e)),a=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,i||{}),a=s.__d),a)return s.__E=s}catch(l){e=l}throw e}},bm=0,Xt.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=ln({},this.state),typeof e=="function"&&(e=e(ln({},n),this.props)),e&&ln(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Ll(this))},Xt.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Ll(this))},Xt.prototype.render=ke,si=[],wm=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,km=function(e,t){return e.__v.__b-t.__v.__b},Do.__r=0,xm=/(PointerCapture)$|Capture$/i,zc=0,Sl=fu(!1),Nl=fu(!0),_m=0;var Av=0;function r(e,t,n,i,s,o){t||(t={});var a,l,c=t;if("ref"in c)for(l in c={},t)l=="ref"?a=t[l]:c[l]=t[l];var d={type:e,props:c,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Av,__i:-1,__u:0,__source:s,__self:o};if(typeof e=="function"&&(a=e.defaultProps))for(l in a)c[l]===void 0&&(c[l]=a[l]);return Ee.vnode&&Ee.vnode(d),d}var Vn,qe,ba,pu,jr=0,Am=[],it=Ee,mu=it.__b,gu=it.__r,yu=it.diffed,vu=it.__c,bu=it.unmount,wu=it.__;function Gi(e,t){it.__h&&it.__h(qe,e,jr||t),jr=0;var n=qe.__H||(qe.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function D(e){return jr=1,Dm(Pm,e)}function Dm(e,t,n){var i=Gi(Vn++,2);if(i.t=e,!i.__c&&(i.__=[n?n(t):Pm(void 0,t),function(l){var c=i.__N?i.__N[0]:i.__[0],d=i.t(c,l);c!==d&&(i.__N=[d,i.__[1]],i.__c.setState({}))}],i.__c=qe,!qe.__f)){var s=function(l,c,d){if(!i.__c.__H)return!0;var u=i.__c.__H.__.filter(function(f){return!!f.__c});if(u.every(function(f){return!f.__N}))return!o||o.call(this,l,c,d);var h=i.__c.props!==l;return u.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(h=!0)}}),o&&o.call(this,l,c,d)||h};qe.__f=!0;var o=qe.shouldComponentUpdate,a=qe.componentWillUpdate;qe.componentWillUpdate=function(l,c,d){if(this.__e){var u=o;o=void 0,s(l,c,d),o=u}a&&a.call(this,l,c,d)},qe.shouldComponentUpdate=s}return i.__N||i.__}function Y(e,t){var n=Gi(Vn++,3);!it.__s&&$c(n.__H,t)&&(n.__=e,n.u=t,qe.__H.__h.push(n))}function Fm(e,t){var n=Gi(Vn++,4);!it.__s&&$c(n.__H,t)&&(n.__=e,n.u=t,qe.__h.push(n))}function oe(e){return jr=5,Re(function(){return{current:e}},[])}function Re(e,t){var n=Gi(Vn++,7);return $c(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Ie(e,t){return jr=8,Re(function(){return e},t)}function dt(e){var t=qe.context[e.__c],n=Gi(Vn++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(qe)),t.props.value):e.__}function Hc(){var e=Gi(Vn++,11);if(!e.__){for(var t=qe.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Dv(){for(var e;e=Am.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(mo),e.__H.__h.forEach(El),e.__H.__h=[]}catch(t){e.__H.__h=[],it.__e(t,e.__v)}}it.__b=function(e){qe=null,mu&&mu(e)},it.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),wu&&wu(e,t)},it.__r=function(e){gu&&gu(e),Vn=0;var t=(qe=e.__c).__H;t&&(ba===qe?(t.__h=[],qe.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(mo),t.__h.forEach(El),t.__h=[],Vn=0)),ba=qe},it.diffed=function(e){yu&&yu(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Am.push(t)!==1&&pu===it.requestAnimationFrame||((pu=it.requestAnimationFrame)||Fv)(Dv)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),ba=qe=null},it.__c=function(e,t){t.some(function(n){try{n.__h.forEach(mo),n.__h=n.__h.filter(function(i){return!i.__||El(i)})}catch(i){t.some(function(s){s.__h&&(s.__h=[])}),t=[],it.__e(i,n.__v)}}),vu&&vu(e,t)},it.unmount=function(e){bu&&bu(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{mo(i)}catch(s){t=s}}),n.__H=void 0,t&&it.__e(t,n.__v))};var ku=typeof requestAnimationFrame=="function";function Fv(e){var t,n=function(){clearTimeout(i),ku&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,35);ku&&(t=requestAnimationFrame(n))}function mo(e){var t=qe,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),qe=t}function El(e){var t=qe;e.__c=e.__(),qe=t}function $c(e,t){return!e||e.length!==t.length||t.some(function(n,i){return n!==e[i]})}function Pm(e,t){return typeof t=="function"?t(e):t}function Im(e,t){for(var n in t)e[n]=t[n];return e}function Tl(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var i in t)if(i!=="__source"&&e[i]!==t[i])return!0;return!1}var jc=Fm;function xu(e,t){this.props=e,this.context=t}function Uc(e,t){function n(s){var o=this.props.ref,a=o==s.ref;return!a&&o&&(o.call?o(null):o.current=null),t?!t(this.props,s)||!a:Tl(this.props,s)}function i(s){return this.shouldComponentUpdate=n,gi(e,s)}return i.displayName="Memo("+(e.displayName||e.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i.type=e,i}(xu.prototype=new Xt).isPureReactComponent=!0,xu.prototype.shouldComponentUpdate=function(e,t){return Tl(this.props,e)||Tl(this.state,t)};var _u=Ee.__b;Ee.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),_u&&_u(e)};var Pv=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Iv(e){function t(n){var i=Im({},n);return delete i.ref,e(i,n.ref||null)}return t.$$typeof=Pv,t.render=e,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var Cu=function(e,t){return e==null?null:Cn(Cn(e).map(t))},Rv={map:Cu,forEach:Cu,count:function(e){return e?Cn(e).length:0},only:function(e){var t=Cn(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:Cn},Bv=Ee.__e;Ee.__e=function(e,t,n,i){if(e.then){for(var s,o=t;o=o.__;)if((s=o.__c)&&s.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),s.__c(e,t)}Bv(e,t,n,i)};var Su=Ee.unmount;function Rm(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),e.__c.__H=null),(e=Im({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(i){return Rm(i,t,n)})),e}function Bm(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(i){return Bm(i,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function wa(){this.__u=0,this.o=null,this.__b=null}function zm(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Cs(){this.i=null,this.l=null}Ee.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),Su&&Su(e)},(wa.prototype=new Xt).__c=function(e,t){var n=t.__c,i=this;i.o==null&&(i.o=[]),i.o.push(n);var s=zm(i.__v),o=!1,a=function(){o||(o=!0,n.__R=null,s?s(l):l())};n.__R=a;var l=function(){if(!--i.__u){if(i.state.__a){var c=i.state.__a;i.__v.__k[0]=Bm(c,c.__c.__P,c.__c.__O)}var d;for(i.setState({__a:i.__b=null});d=i.o.pop();)d.forceUpdate()}};i.__u++||32&t.__u||i.setState({__a:i.__b=i.__v.__k[0]}),e.then(a,a)},wa.prototype.componentWillUnmount=function(){this.o=[]},wa.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=Rm(this.__b,n,i.__O=i.__P)}this.__b=null}var s=t.__a&&gi(ke,null,e.fallback);return s&&(s.__u&=-33),[gi(ke,null,t.__a?null:e.children),s]};var Nu=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};(Cs.prototype=new Xt).__a=function(e){var t=this,n=zm(t.__v),i=t.l.get(e);return i[0]++,function(s){var o=function(){t.props.revealOrder?(i.push(s),Nu(t,e,i)):s()};n?n(o):o()}},Cs.prototype.render=function(e){this.i=null,this.l=new Map;var t=Cn(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Cs.prototype.componentDidUpdate=Cs.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){Nu(e,n,t)})};var Vm=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,zv=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Vv=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Ov=/[A-Z0-9]/g,Wv=typeof document<"u",Hv=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};Xt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(Xt.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var Lu=Ee.event;function $v(){}function jv(){return this.cancelBubble}function Uv(){return this.defaultPrevented}Ee.event=function(e){return Lu&&(e=Lu(e)),e.persist=$v,e.isPropagationStopped=jv,e.isDefaultPrevented=Uv,e.nativeEvent=e};var Gv={enumerable:!1,configurable:!0,get:function(){return this.class}},Mu=Ee.vnode;Ee.vnode=function(e){typeof e.type=="string"&&(function(t){var n=t.props,i=t.type,s={},o=i.indexOf("-")===-1;for(var a in n){var l=n[a];if(!(a==="value"&&"defaultValue"in n&&l==null||Wv&&a==="children"&&i==="noscript"||a==="class"||a==="className")){var c=a.toLowerCase();a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&l===!0?l="":c==="translate"&&l==="no"?l=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?a="ondblclick":c!=="onchange"||i!=="input"&&i!=="textarea"||Hv(n.type)?c==="onfocus"?a="onfocusin":c==="onblur"?a="onfocusout":Vv.test(a)&&(a=c):c=a="oninput":o&&zv.test(a)?a=a.replace(Ov,"-$&").toLowerCase():l===null&&(l=void 0),c==="oninput"&&s[a=c]&&(a="oninputCapture"),s[a]=l}}i=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=Cn(n.children).forEach(function(d){d.props.selected=s.value.indexOf(d.props.value)!=-1})),i=="select"&&s.defaultValue!=null&&(s.value=Cn(n.children).forEach(function(d){d.props.selected=s.multiple?s.defaultValue.indexOf(d.props.value)!=-1:s.defaultValue==d.props.value})),n.class&&!n.className?(s.class=n.class,Object.defineProperty(s,"className",Gv)):(n.className&&!n.class||n.class&&n.className)&&(s.class=s.className=n.className),t.props=s})(e),e.$$typeof=Vm,Mu&&Mu(e)};var Eu=Ee.__r;Ee.__r=function(e){Eu&&Eu(e)};var Tu=Ee.diffed;Ee.diffed=function(e){Tu&&Tu(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value)};function Om(e){return!!e&&e.$$typeof===Vm}function Kv(e){return Om(e)?Tv.apply(null,arguments):e}const Gc=ki({});function us(e){const t=oe(null);return t.current===null&&(t.current=e()),t.current}const Kc=typeof window<"u",qc=Kc?Fm:Y,na=ki(null);function Yc(e,t){e.indexOf(t)===-1&&e.push(t)}function Zc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Sn=(e,t,n)=>n>t?t:n<e?e:n,Nn={},Wm=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Hm(e){return typeof e=="object"&&e!==null}const $m=e=>/^0[^.\s]+$/u.test(e);function Xc(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ht=e=>e,qv=(e,t)=>n=>t(e(n)),hs=(...e)=>e.reduce(qv),Ur=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class Jc{constructor(){this.subscriptions=[]}add(t){return Yc(this.subscriptions,t),()=>Zc(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let o=0;o<s;o++){const a=this.subscriptions[o];a&&a(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dn=e=>e*1e3,Wt=e=>e/1e3;function jm(e,t){return t?e*(1e3/t):0}const Um=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Yv=1e-7,Zv=12;function Xv(e,t,n,i,s){let o,a,l=0;do a=t+(n-t)/2,o=Um(a,i,s)-e,o>0?n=a:t=a;while(Math.abs(o)>Yv&&++l<Zv);return a}function fs(e,t,n,i){if(e===t&&n===i)return Ht;const s=o=>Xv(o,0,1,e,n);return o=>o===0||o===1?o:Um(s(o),t,i)}const Gm=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Km=e=>t=>1-e(1-t),qm=fs(.33,1.53,.69,.99),Qc=Km(qm),Ym=Gm(Qc),Zm=e=>(e*=2)<1?.5*Qc(e):.5*(2-Math.pow(2,-10*(e-1))),ed=e=>1-Math.sin(Math.acos(e)),Xm=Km(ed),Jm=Gm(ed),Jv=fs(.42,0,1,1),Qv=fs(0,0,.58,1),Qm=fs(.42,0,.58,1),eb=e=>Array.isArray(e)&&typeof e[0]!="number",eg=e=>Array.isArray(e)&&typeof e[0]=="number",tb={linear:Ht,easeIn:Jv,easeInOut:Qm,easeOut:Qv,circIn:ed,circInOut:Jm,circOut:Xm,backIn:Qc,backInOut:Ym,backOut:qm,anticipate:Zm},nb=e=>typeof e=="string",Au=e=>{if(eg(e)){const[t,n,i,s]=e;return fs(t,n,i,s)}else if(nb(e))return tb[e];return e},Ss=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ib(e,t){let n=new Set,i=new Set,s=!1,o=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){a.has(u)&&(d.schedule(u),e()),u(l)}const d={schedule:(u,h=!1,f=!1)=>{const g=f&&s?n:i;return h&&a.add(u),g.has(u)||g.add(u),u},cancel:u=>{i.delete(u),a.delete(u)},process:u=>{if(l=u,s){o=!0;return}s=!0,[n,i]=[i,n],n.forEach(c),n.clear(),s=!1,o&&(o=!1,d.process(u))}};return d}const rb=40;function tg(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=Ss.reduce((w,S)=>(w[S]=ib(o),w),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:f,render:p,postRender:g}=a,m=()=>{const w=Nn.useManualTiming?s.timestamp:performance.now();n=!1,Nn.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(w-s.timestamp,rb),1)),s.timestamp=w,s.isProcessing=!0,l.process(s),c.process(s),d.process(s),u.process(s),h.process(s),f.process(s),p.process(s),g.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(m))},y=()=>{n=!0,i=!0,s.isProcessing||e(m)};return{schedule:Ss.reduce((w,S)=>{const x=a[S];return w[S]=(k,N=!1,L=!1)=>(n||y(),x.schedule(k,N,L)),w},{}),cancel:w=>{for(let S=0;S<Ss.length;S++)a[Ss[S]].cancel(w)},state:s,steps:a}}const{schedule:Ge,cancel:Ln,state:mt,steps:ka}=tg(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ht,!0);let go;function sb(){go=void 0}const Et={now:()=>(go===void 0&&Et.set(mt.isProcessing||Nn.useManualTiming?mt.timestamp:performance.now()),go),set:e=>{go=e,queueMicrotask(sb)}},ng=e=>t=>typeof t=="string"&&t.startsWith(e),td=ng("--"),ob=ng("var(--"),nd=e=>ob(e)?ab.test(e.split("/*")[0].trim()):!1,ab=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ki={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Gr={...Ki,transform:e=>Sn(0,1,e)},Ns={...Ki,default:1},Mr=e=>Math.round(e*1e5)/1e5,id=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function lb(e){return e==null}const cb=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,rd=(e,t)=>n=>!!(typeof n=="string"&&cb.test(n)&&n.startsWith(e)||t&&!lb(n)&&Object.prototype.hasOwnProperty.call(n,t)),ig=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,o,a,l]=i.match(id);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},db=e=>Sn(0,255,e),xa={...Ki,transform:e=>Math.round(db(e))},ai={test:rd("rgb","red"),parse:ig("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+xa.transform(e)+", "+xa.transform(t)+", "+xa.transform(n)+", "+Mr(Gr.transform(i))+")"};function ub(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Al={test:rd("#"),parse:ub,transform:ai.transform},ps=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Fn=ps("deg"),un=ps("%"),Ce=ps("px"),hb=ps("vh"),fb=ps("vw"),Du={...un,parse:e=>un.parse(e)/100,transform:e=>un.transform(e*100)},Di={test:rd("hsl","hue"),parse:ig("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+un.transform(Mr(t))+", "+un.transform(Mr(n))+", "+Mr(Gr.transform(i))+")"},at={test:e=>ai.test(e)||Al.test(e)||Di.test(e),parse:e=>ai.test(e)?ai.parse(e):Di.test(e)?Di.parse(e):Al.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ai.transform(e):Di.transform(e),getAnimatableNone:e=>{const t=at.parse(e);return t.alpha=0,at.transform(t)}},pb=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mb(e){return isNaN(e)&&typeof e=="string"&&(e.match(id)?.length||0)+(e.match(pb)?.length||0)>0}const rg="number",sg="color",gb="var",yb="var(",Fu="${}",vb=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Kr(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let o=0;const l=t.replace(vb,c=>(at.test(c)?(i.color.push(o),s.push(sg),n.push(at.parse(c))):c.startsWith(yb)?(i.var.push(o),s.push(gb),n.push(c)):(i.number.push(o),s.push(rg),n.push(parseFloat(c))),++o,Fu)).split(Fu);return{values:n,split:l,indexes:i,types:s}}function og(e){return Kr(e).values}function ag(e){const{split:t,types:n}=Kr(e),i=t.length;return s=>{let o="";for(let a=0;a<i;a++)if(o+=t[a],s[a]!==void 0){const l=n[a];l===rg?o+=Mr(s[a]):l===sg?o+=at.transform(s[a]):o+=s[a]}return o}}const bb=e=>typeof e=="number"?0:at.test(e)?at.getAnimatableNone(e):e;function wb(e){const t=og(e);return ag(e)(t.map(bb))}const On={test:mb,parse:og,createTransformer:ag,getAnimatableNone:wb};function _a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function kb({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,o=0,a=0;if(!t)s=o=a=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=_a(c,l,e+1/3),o=_a(c,l,e),a=_a(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:i}}function Fo(e,t){return n=>n>0?t:e}const Qe=(e,t,n)=>e+(t-e)*n,Ca=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},xb=[Al,ai,Di],_b=e=>xb.find(t=>t.test(e));function Pu(e){const t=_b(e);if(!t)return!1;let n=t.parse(e);return t===Di&&(n=kb(n)),n}const Iu=(e,t)=>{const n=Pu(e),i=Pu(t);if(!n||!i)return Fo(e,t);const s={...n};return o=>(s.red=Ca(n.red,i.red,o),s.green=Ca(n.green,i.green,o),s.blue=Ca(n.blue,i.blue,o),s.alpha=Qe(n.alpha,i.alpha,o),ai.transform(s))},Dl=new Set(["none","hidden"]);function Cb(e,t){return Dl.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Sb(e,t){return n=>Qe(e,t,n)}function sd(e){return typeof e=="number"?Sb:typeof e=="string"?nd(e)?Fo:at.test(e)?Iu:Mb:Array.isArray(e)?lg:typeof e=="object"?at.test(e)?Iu:Nb:Fo}function lg(e,t){const n=[...e],i=n.length,s=e.map((o,a)=>sd(o)(o,t[a]));return o=>{for(let a=0;a<i;a++)n[a]=s[a](o);return n}}function Nb(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=sd(e[s])(e[s],t[s]));return s=>{for(const o in i)n[o]=i[o](s);return n}}function Lb(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][i[o]],l=e.values[a]??0;n[s]=l,i[o]++}return n}const Mb=(e,t)=>{const n=On.createTransformer(t),i=Kr(e),s=Kr(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Dl.has(e)&&!s.values.length||Dl.has(t)&&!i.values.length?Cb(e,t):hs(lg(Lb(i,s),s.values),n):Fo(e,t)};function cg(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Qe(e,t,n):sd(e)(e,t)}const Eb=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ge.update(t,n),stop:()=>Ln(t),now:()=>mt.isProcessing?mt.timestamp:Et.now()}},dg=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let o=0;o<s;o++)i+=Math.round(e(o/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Po=2e4;function od(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<Po;)t+=n,i=e.next(t);return t>=Po?1/0:t}function Tb(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(od(i),Po);return{type:"keyframes",ease:o=>i.next(s*o).value/t,duration:Wt(s)}}const Ab=5;function ug(e,t,n){const i=Math.max(t-Ab,0);return jm(n-e(i),t-i)}const et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sa=.001;function Db({duration:e=et.duration,bounce:t=et.bounce,velocity:n=et.velocity,mass:i=et.mass}){let s,o,a=1-t;a=Sn(et.minDamping,et.maxDamping,a),e=Sn(et.minDuration,et.maxDuration,Wt(e)),a<1?(s=d=>{const u=d*a,h=u*e,f=u-n,p=Fl(d,a),g=Math.exp(-h);return Sa-f/p*g},o=d=>{const h=d*a*e,f=h*n+n,p=Math.pow(a,2)*Math.pow(d,2)*e,g=Math.exp(-h),m=Fl(Math.pow(d,2),a);return(-s(d)+Sa>0?-1:1)*((f-p)*g)/m}):(s=d=>{const u=Math.exp(-d*e),h=(d-n)*e+1;return-Sa+u*h},o=d=>{const u=Math.exp(-d*e),h=(n-d)*(e*e);return u*h});const l=5/e,c=Pb(s,o,l);if(e=dn(e),isNaN(c))return{stiffness:et.stiffness,damping:et.damping,duration:e};{const d=Math.pow(c,2)*i;return{stiffness:d,damping:a*2*Math.sqrt(i*d),duration:e}}}const Fb=12;function Pb(e,t,n){let i=n;for(let s=1;s<Fb;s++)i=i-e(i)/t(i);return i}function Fl(e,t){return e*Math.sqrt(1-t*t)}const Ib=["duration","bounce"],Rb=["stiffness","damping","mass"];function Ru(e,t){return t.some(n=>e[n]!==void 0)}function Bb(e){let t={velocity:et.velocity,stiffness:et.stiffness,damping:et.damping,mass:et.mass,isResolvedFromDuration:!1,...e};if(!Ru(e,Rb)&&Ru(e,Ib))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,o=2*Sn(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:et.mass,stiffness:s,damping:o}}else{const n=Db(e);t={...t,...n,mass:et.mass},t.isResolvedFromDuration=!0}return t}function Io(e=et.visualDuration,t=et.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:o},{stiffness:c,damping:d,mass:u,duration:h,velocity:f,isResolvedFromDuration:p}=Bb({...n,velocity:-Wt(n.velocity||0)}),g=f||0,m=d/(2*Math.sqrt(c*u)),y=a-o,b=Wt(Math.sqrt(c/u)),v=Math.abs(y)<5;i||(i=v?et.restSpeed.granular:et.restSpeed.default),s||(s=v?et.restDelta.granular:et.restDelta.default);let w;if(m<1){const x=Fl(b,m);w=k=>{const N=Math.exp(-m*b*k);return a-N*((g+m*b*y)/x*Math.sin(x*k)+y*Math.cos(x*k))}}else if(m===1)w=x=>a-Math.exp(-b*x)*(y+(g+b*y)*x);else{const x=b*Math.sqrt(m*m-1);w=k=>{const N=Math.exp(-m*b*k),L=Math.min(x*k,300);return a-N*((g+m*b*y)*Math.sinh(L)+x*y*Math.cosh(L))/x}}const S={calculatedDuration:p&&h||null,next:x=>{const k=w(x);if(p)l.done=x>=h;else{let N=x===0?g:0;m<1&&(N=x===0?dn(g):ug(w,x,k));const L=Math.abs(N)<=i,_=Math.abs(a-k)<=s;l.done=L&&_}return l.value=l.done?a:k,l},toString:()=>{const x=Math.min(od(S),Po),k=dg(N=>S.next(x*N).value,x,30);return x+"ms "+k},toTransition:()=>{}};return S}Io.applyToOptions=e=>{const t=Tb(e,100,Io);return e.ease=t.ease,e.duration=dn(t.duration),e.type="keyframes",e};function Pl({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],f={done:!1,value:h},p=L=>l!==void 0&&L<l||c!==void 0&&L>c,g=L=>l===void 0?c:c===void 0||Math.abs(l-L)<Math.abs(c-L)?l:c;let m=n*t;const y=h+m,b=a===void 0?y:a(y);b!==y&&(m=b-h);const v=L=>-m*Math.exp(-L/i),w=L=>b+v(L),S=L=>{const _=v(L),I=w(L);f.done=Math.abs(_)<=d,f.value=f.done?b:I};let x,k;const N=L=>{p(f.value)&&(x=L,k=Io({keyframes:[f.value,g(f.value)],velocity:ug(w,L,f.value),damping:s,stiffness:o,restDelta:d,restSpeed:u}))};return N(0),{calculatedDuration:null,next:L=>{let _=!1;return!k&&x===void 0&&(_=!0,S(L),N(L)),x!==void 0&&L>=x?k.next(L-x):(!_&&S(L),f)}}}function zb(e,t,n){const i=[],s=n||Nn.mix||cg,o=e.length-1;for(let a=0;a<o;a++){let l=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||Ht:t;l=hs(c,l)}i.push(l)}return i}function hg(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const o=e.length;if(o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=zb(t,i,s),c=l.length,d=u=>{if(a&&u<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const f=Ur(e[h],e[h+1],u);return l[h](f)};return n?u=>d(Sn(e[0],e[o-1],u)):d}function Vb(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=Ur(0,t,i);e.push(Qe(n,1,s))}}function Ob(e){const t=[0];return Vb(t,e.length-1),t}function Wb(e,t){return e.map(n=>n*t)}function Hb(e,t){return e.map(()=>t||Qm).splice(0,e.length-1)}function Er({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=eb(i)?i.map(Au):Au(i),o={done:!1,value:t[0]},a=Wb(n&&n.length===t.length?n:Ob(t),e),l=hg(a,t,{ease:Array.isArray(s)?s:Hb(t,s)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}const $b=e=>e!==null;function ad(e,{repeat:t,repeatType:n="loop"},i,s=1){const o=e.filter($b),l=s<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!l||i===void 0?o[l]:i}const jb={decay:Pl,inertia:Pl,tween:Er,keyframes:Er,spring:Io};function fg(e){typeof e.type=="string"&&(e.type=jb[e.type])}class ld{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Ub=e=>e/100;class ia extends ld{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Et.now()&&this.tick(Et.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;fg(t);const{type:n=Er,repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:a=0}=t;let{keyframes:l}=t;const c=n||Er;c!==Er&&typeof l[0]!="number"&&(this.mixKeyframes=hs(Ub,cg(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});o==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=od(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:s,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:f,repeatDelay:p,type:g,onUpdate:m,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const b=this.currentTime-d*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?b<0:b>s;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let w=this.currentTime,S=i;if(h){const L=Math.min(this.currentTime,s)/l;let _=Math.floor(L),I=L%1;!I&&L>=1&&(I=1),I===1&&_--,_=Math.min(_,h+1),!!(_%2)&&(f==="reverse"?(I=1-I,p&&(I-=p/l)):f==="mirror"&&(S=a)),w=Sn(0,1,I)*l}const x=v?{done:!1,value:u[0]}:S.next(w);o&&(x.value=o(x.value));let{done:k}=x;!v&&c!==null&&(k=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return N&&g!==Pl&&(x.value=ad(u,this.options,y,this.speed)),m&&m(x.value),N&&this.finish(),x}then(t,n){return this.finished.then(t,n)}get duration(){return Wt(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Wt(t)}get time(){return Wt(this.currentTime)}set time(t){t=dn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Et.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Wt(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Eb,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Et.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Gb(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const li=e=>e*180/Math.PI,Il=e=>{const t=li(Math.atan2(e[1],e[0]));return Rl(t)},Kb={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Il,rotateZ:Il,skewX:e=>li(Math.atan(e[1])),skewY:e=>li(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Rl=e=>(e=e%360,e<0&&(e+=360),e),Bu=Il,zu=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Vu=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),qb={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:zu,scaleY:Vu,scale:e=>(zu(e)+Vu(e))/2,rotateX:e=>Rl(li(Math.atan2(e[6],e[5]))),rotateY:e=>Rl(li(Math.atan2(-e[2],e[0]))),rotateZ:Bu,rotate:Bu,skewX:e=>li(Math.atan(e[4])),skewY:e=>li(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Bl(e){return e.includes("scale")?1:0}function zl(e,t){if(!e||e==="none")return Bl(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=qb,s=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Kb,s=l}if(!s)return Bl(t);const o=i[t],a=s[1].split(",").map(Zb);return typeof o=="function"?o(a):a[o]}const Yb=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return zl(n,t)};function Zb(e){return parseFloat(e.trim())}const qi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yi=new Set(qi),Ou=e=>e===Ki||e===Ce,Xb=new Set(["x","y","z"]),Jb=qi.filter(e=>!Xb.has(e));function Qb(e){const t=[];return Jb.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const ui={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>zl(t,"x"),y:(e,{transform:t})=>zl(t,"y")};ui.translateX=ui.x;ui.translateY=ui.y;const hi=new Set;let Vl=!1,Ol=!1,Wl=!1;function pg(){if(Ol){const e=Array.from(hi).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=Qb(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([o,a])=>{i.getValue(o)?.set(a)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Ol=!1,Vl=!1,hi.forEach(e=>e.complete(Wl)),hi.clear()}function mg(){hi.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ol=!0)})}function e5(){Wl=!0,mg(),pg(),Wl=!1}class cd{constructor(t,n,i,s,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(hi.add(this),Vl||(Vl=!0,Ge.read(mg),Ge.resolveKeyframes(pg))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;if(t[0]===null){const o=s?.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&n){const l=i.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&o===void 0&&s.set(t[0])}Gb(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),hi.delete(this)}cancel(){this.state==="scheduled"&&(hi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const t5=e=>e.startsWith("--");function n5(e,t,n){t5(t)?e.style.setProperty(t,n):e.style[t]=n}const i5=Xc(()=>window.ScrollTimeline!==void 0),r5={};function s5(e,t){const n=Xc(e);return()=>r5[t]??n()}const gg=s5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yr=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,Wu={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yr([0,.65,.55,1]),circOut:yr([.55,0,1,.45]),backIn:yr([.31,.01,.66,-.59]),backOut:yr([.33,1.53,.69,.99])};function yg(e,t){if(e)return typeof e=="function"?gg()?dg(e,t):"ease-out":eg(e)?yr(e):Array.isArray(e)?e.map(n=>yg(n,t)||Wu.easeOut):Wu[e]}function o5(e,t,n,{delay:i=0,duration:s=300,repeat:o=0,repeatType:a="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:n};c&&(u.offset=c);const h=yg(l,s);Array.isArray(h)&&(u.easing=h);const f={delay:i,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return d&&(f.pseudoElement=d),e.animate(u,f)}function vg(e){return typeof e=="function"&&"applyToOptions"in e}function a5({type:e,...t}){return vg(e)&&gg()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class l5 extends ld{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:s,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=t;const d=a5(t);this.animation=o5(n,i,s,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const u=ad(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):n5(n,i,u),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Wt(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Wt(t)}get time(){return Wt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=dn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&i5()?(this.animation.timeline=t,Ht):n(this)}}const bg={anticipate:Zm,backInOut:Ym,circInOut:Jm};function c5(e){return e in bg}function d5(e){typeof e.ease=="string"&&c5(e.ease)&&(e.ease=bg[e.ease])}const Hu=10;class u5 extends l5{constructor(t){d5(t),fg(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:s,element:o,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new ia({...a,autoplay:!1}),c=dn(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-Hu).value,l.sample(c).value,Hu),l.stop()}}const $u=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(On.test(e)||e==="0")&&!e.startsWith("url("));function h5(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function f5(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],a=$u(s,t),l=$u(o,t);return!a||!l?!1:h5(e)||(n==="spring"||vg(n))&&i}function Hl(e){e.duration=0,e.type="keyframes"}const p5=new Set(["opacity","clipPath","filter","transform"]),m5=Xc(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function g5(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return m5()&&n&&p5.has(n)&&(n!=="transform"||!d)&&!c&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}const y5=40;class v5 extends ld{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Et.now();const f={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:o,repeatType:a,name:c,motionValue:d,element:u,...h},p=u?.KeyframeResolver||cd;this.keyframeResolver=new p(l,(g,m,y)=>this.onKeyframesResolved(g,m,f,!y),c,d,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,s){this.keyframeResolver=void 0;const{name:o,type:a,velocity:l,delay:c,isHandoff:d,onUpdate:u}=i;this.resolvedAt=Et.now(),f5(t,o,a,l)||((Nn.instantAnimations||!c)&&u?.(ad(t,i,n)),t[0]=t[t.length-1],Hl(i),i.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>y5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},p=!d&&g5(f)?new u5({...f,element:f.motionValue.owner.current}):new ia(f);p.finished.then(()=>this.notifyFinished()).catch(Ht),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),e5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const b5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function w5(e){const t=b5.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function wg(e,t,n=1){const[i,s]=w5(e);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const a=o.trim();return Wm(a)?parseFloat(a):a}return nd(s)?wg(s,t,n+1):s}function dd(e,t){return e?.[t]??e?.default??e}const kg=new Set(["width","height","top","left","right","bottom",...qi]),k5={test:e=>e==="auto",parse:e=>e},xg=e=>t=>t.test(e),_g=[Ki,Ce,un,Fn,fb,hb,k5],ju=e=>_g.find(xg(e));function x5(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||$m(e):!0}const _5=new Set(["brightness","contrast","saturate","opacity"]);function C5(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(id)||[];if(!i)return e;const s=n.replace(i,"");let o=_5.has(t)?1:0;return i!==n&&(o*=100),t+"("+o+s+")"}const S5=/\b([a-z-]*)\(.*?\)/gu,$l={...On,getAnimatableNone:e=>{const t=e.match(S5);return t?t.map(C5).join(" "):e}},Uu={...Ki,transform:Math.round},N5={rotate:Fn,rotateX:Fn,rotateY:Fn,rotateZ:Fn,scale:Ns,scaleX:Ns,scaleY:Ns,scaleZ:Ns,skew:Fn,skewX:Fn,skewY:Fn,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:Gr,originX:Du,originY:Du,originZ:Ce},ud={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce,...N5,zIndex:Uu,fillOpacity:Gr,strokeOpacity:Gr,numOctaves:Uu},L5={...ud,color:at,backgroundColor:at,outlineColor:at,fill:at,stroke:at,borderColor:at,borderTopColor:at,borderRightColor:at,borderBottomColor:at,borderLeftColor:at,filter:$l,WebkitFilter:$l},Cg=e=>L5[e];function Sg(e,t){let n=Cg(e);return n!==$l&&(n=On),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const M5=new Set(["auto","none","0"]);function E5(e,t,n){let i=0,s;for(;i<e.length&&!s;){const o=e[i];typeof o=="string"&&!M5.has(o)&&Kr(o).values.length&&(s=e[i]),i++}if(s&&n)for(const o of t)e[o]=Sg(n,s)}class T5 extends cd{constructor(t,n,i,s,o){super(t,n,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),nd(d))){const u=wg(d,n.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!kg.has(i)||t.length!==2)return;const[s,o]=t,a=ju(s),l=ju(o);if(a!==l)if(Ou(a)&&Ou(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else ui[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||x5(t[s]))&&i.push(s);i.length&&E5(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ui[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=ui[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function A5(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=n?.[e]??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Ng=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Lg(e){return Hm(e)&&"offsetHeight"in e}const Gu=30,D5=e=>!isNaN(parseFloat(e)),Tr={current:void 0};class F5{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=Et.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Et.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=D5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Jc);const i=this.events[t].add(n);return t==="change"?()=>{i(),Ge.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Tr.current&&Tr.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Et.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Gu)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Gu);return jm(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yi(e,t){return new F5(e,t)}const{schedule:hd}=tg(queueMicrotask,!1),qt={x:!1,y:!1};function Mg(){return qt.x||qt.y}function P5(e){return e==="x"||e==="y"?qt[e]?null:(qt[e]=!0,()=>{qt[e]=!1}):qt.x||qt.y?null:(qt.x=qt.y=!0,()=>{qt.x=qt.y=!1})}function Eg(e,t){const n=A5(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function Ku(e){return!(e.pointerType==="touch"||Mg())}function I5(e,t,n={}){const[i,s,o]=Eg(e,n),a=l=>{if(!Ku(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=h=>{Ku(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,s)};return i.forEach(l=>{l.addEventListener("pointerenter",a,s)}),o}const Tg=(e,t)=>t?e===t?!0:Tg(e,t.parentElement):!1,fd=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,R5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function B5(e){return R5.has(e.tagName)||e.tabIndex!==-1}const yo=new WeakSet;function qu(e){return t=>{t.key==="Enter"&&e(t)}}function Na(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const z5=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=qu(()=>{if(yo.has(n))return;Na(n,"down");const s=qu(()=>{Na(n,"up")}),o=()=>Na(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function Yu(e){return fd(e)&&!Mg()}function V5(e,t,n={}){const[i,s,o]=Eg(e,n),a=l=>{const c=l.currentTarget;if(!Yu(l))return;yo.add(c);const d=t(c,l),u=(p,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),yo.has(c)&&yo.delete(c),Yu(p)&&typeof d=="function"&&d(p,{success:g})},h=p=>{u(p,c===window||c===document||n.useGlobalTarget||Tg(c,p.target))},f=p=>{u(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return i.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),Lg(l)&&(l.addEventListener("focus",d=>z5(d,s)),!B5(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}function Ag(e){return Hm(e)&&"ownerSVGElement"in e}function O5(e){return Ag(e)&&e.tagName==="svg"}function W5(...e){const t=!Array.isArray(e[0]),n=t?0:-1,i=e[0+n],s=e[1+n],o=e[2+n],a=e[3+n],l=hg(s,o,a);return t?l(i):l}const ft=e=>!!(e&&e.getVelocity);function H5(e,t,n){const i=e.get();let s=null,o=i,a;const l=typeof i=="string"?i.replace(/[\d.-]/g,""):void 0,c=()=>{s&&(s.stop(),s=null)},d=()=>{c(),s=new ia({keyframes:[Xu(e.get()),Xu(o)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:a})};if(e.attach((u,h)=>(o=u,a=f=>h(Zu(f,l)),Ge.postRender(d),e.get()),c),ft(t)){const u=t.on("change",f=>e.set(Zu(f,l))),h=e.on("destroy",u);return()=>{u(),h()}}return c}function Zu(e,t){return t?e+t:e}function Xu(e){return typeof e=="number"?e:parseFloat(e)}const $5=[..._g,at,On],j5=e=>$5.find(xg(e)),ms=ki({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Ju(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function U5(...e){return t=>{let n=!1;const i=e.map(s=>{const o=Ju(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<i.length;s++){const o=i[s];typeof o=="function"?o():Ju(e[s],null)}}}}function G5(...e){return Ie(U5(...e),e)}class K5 extends Xt{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=Lg(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function q5({children:e,isPresent:t,anchorX:n,root:i}){const s=Hc(),o=oe(null),a=oe({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=dt(ms),c=G5(o,e?.ref);return jc(()=>{const{width:d,height:u,top:h,left:f,right:p}=a.current;if(t||!o.current||!d||!u)return;const g=n==="left"?`left: ${f}`:`right: ${p}`;o.current.dataset.motionPopId=s;const m=document.createElement("style");l&&(m.nonce=l);const y=i??document.head;return y.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${u}px !important;
            ${g}px !important;
            top: ${h}px !important;
          }
        `),()=>{y.contains(m)&&y.removeChild(m)}},[t]),r(K5,{isPresent:t,childRef:o,sizeRef:a,children:Kv(e,{ref:c})})}const Y5=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:a,anchorX:l,root:c})=>{const d=us(Z5),u=Hc();let h=!0,f=Re(()=>(h=!1,{id:u,initial:t,isPresent:n,custom:s,onExitComplete:p=>{d.set(p,!0);for(const g of d.values())if(!g)return;i&&i()},register:p=>(d.set(p,!1),()=>d.delete(p))}),[n,d,i]);return o&&h&&(f={...f}),Re(()=>{d.forEach((p,g)=>d.set(g,!1))},[n]),Y(()=>{!n&&!d.size&&i&&i()},[n]),a==="popLayout"&&(e=r(q5,{isPresent:n,anchorX:l,root:c,children:e})),r(na.Provider,{value:f,children:e})};function Z5(){return new Map}function Dg(e=!0){const t=dt(na);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,o=Hc();Y(()=>{if(e)return s(o)},[e]);const a=Ie(()=>e&&i&&i(o),[o,i,e]);return!n&&i?[!1,a]:[!0]}const Ls=e=>e.key||"";function Qu(e){const t=[];return Rv.forEach(e,n=>{Om(n)&&t.push(n)}),t}const Te=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[d,u]=Dg(a),h=Re(()=>Qu(e),[e]),f=a&&!d?[]:h.map(Ls),p=oe(!0),g=oe(h),m=us(()=>new Map),[y,b]=D(h),[v,w]=D(h);qc(()=>{p.current=!1,g.current=h;for(let k=0;k<v.length;k++){const N=Ls(v[k]);f.includes(N)?m.delete(N):m.get(N)!==!0&&m.set(N,!1)}},[v,f.length,f.join("-")]);const S=[];if(h!==y){let k=[...h];for(let N=0;N<v.length;N++){const L=v[N],_=Ls(L);f.includes(_)||(k.splice(N,0,L),S.push(L))}return o==="wait"&&S.length&&(k=S),w(Qu(k)),b(h),null}const{forceRender:x}=dt(Gc);return r(ke,{children:v.map(k=>{const N=Ls(k),L=a&&!d?!1:h===v||f.includes(N),_=()=>{if(m.has(N))m.set(N,!0);else return;let I=!0;m.forEach(T=>{T||(I=!1)}),I&&(x?.(),w(g.current),a&&u?.(),i&&i())};return r(Y5,{isPresent:L,initial:!p.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:o,root:c,onExitComplete:L?void 0:_,anchorX:l,children:k},N)})})},Fg=ki({strict:!1}),eh={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hi={};for(const e in eh)Hi[e]={isEnabled:t=>eh[e].some(n=>!!t[n])};function X5(e){for(const t in e)Hi[t]={...Hi[t],...e[t]}}const J5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ro(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||J5.has(e)}let Pg=e=>!Ro(e);function Q5(e){typeof e=="function"&&(Pg=t=>t.startsWith("on")?!Ro(t):e(t))}try{Q5(require("@emotion/is-prop-valid").default)}catch{}function ew(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(Pg(s)||n===!0&&Ro(s)||!t&&!Ro(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}const ra=ki({});function sa(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function qr(e){return typeof e=="string"||Array.isArray(e)}const pd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],md=["initial",...pd];function oa(e){return sa(e.animate)||md.some(t=>qr(e[t]))}function Ig(e){return!!(oa(e)||e.variants)}function tw(e,t){if(oa(e)){const{initial:n,animate:i}=e;return{initial:n===!1||qr(n)?n:void 0,animate:qr(i)?i:void 0}}return e.inherit!==!1?t:{}}function nw(e){const{initial:t,animate:n}=tw(e,dt(ra));return Re(()=>({initial:t,animate:n}),[th(t),th(n)])}function th(e){return Array.isArray(e)?e.join(" "):e}const Yr={};function iw(e){for(const t in e)Yr[t]=e[t],td(t)&&(Yr[t].isCSSVariable=!0)}function Rg(e,{layout:t,layoutId:n}){return Yi.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Yr[e]||e==="opacity")}const rw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sw=qi.length;function ow(e,t,n){let i="",s=!0;for(let o=0;o<sw;o++){const a=qi[o],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=Ng(l,ud[a]);if(!c){s=!1;const u=rw[a]||a;i+=`${u}(${d}) `}n&&(t[a]=d)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function gd(e,t,n){const{style:i,vars:s,transformOrigin:o}=e;let a=!1,l=!1;for(const c in t){const d=t[c];if(Yi.has(c)){a=!0;continue}else if(td(c)){s[c]=d;continue}else{const u=Ng(d,ud[c]);c.startsWith("origin")?(l=!0,o[c]=u):i[c]=u}}if(t.transform||(a||n?i.transform=ow(t,e.transform,n):i.transform&&(i.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=o;i.transformOrigin=`${c} ${d} ${u}`}}const yd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Bg(e,t,n){for(const i in t)!ft(t[i])&&!Rg(i,n)&&(e[i]=t[i])}function aw({transformTemplate:e},t){return Re(()=>{const n=yd();return gd(n,t,e),Object.assign({},n.vars,n.style)},[t])}function lw(e,t){const n=e.style||{},i={};return Bg(i,n,e),Object.assign(i,aw(e,t)),i}function cw(e,t){const n={},i=lw(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const dw={offset:"stroke-dashoffset",array:"stroke-dasharray"},uw={offset:"strokeDashoffset",array:"strokeDasharray"};function hw(e,t,n=1,i=0,s=!0){e.pathLength=1;const o=s?dw:uw;e[o.offset]=Ce.transform(-i);const a=Ce.transform(t),l=Ce.transform(n);e[o.array]=`${a} ${l}`}function zg(e,{attrX:t,attrY:n,attrScale:i,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},c,d,u){if(gd(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=u?.transformBox??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),i!==void 0&&(h.scale=i),s!==void 0&&hw(h,s,o,a,!1)}const Vg=()=>({...yd(),attrs:{}}),Og=e=>typeof e=="string"&&e.toLowerCase()==="svg";function fw(e,t,n,i){const s=Re(()=>{const o=Vg();return zg(o,t,Og(i),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Bg(o,e.style,e),s.style={...o,...s.style}}return s}const pw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vd(e){return typeof e!="string"||e.includes("-")?!1:!!(pw.indexOf(e)>-1||/[A-Z]/u.test(e))}function mw(e,t,n,{latestValues:i},s,o=!1){const l=(vd(e)?fw:cw)(t,i,s,e),c=ew(t,typeof e=="string",o),d=e!==ke?{...c,...l,ref:n}:{},{children:u}=t,h=Re(()=>ft(u)?u.get():u,[u]);return gi(e,{...d,children:h})}function nh(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function bd(e,t,n,i){if(typeof t=="function"){const[s,o]=nh(i);t=t(n!==void 0?n:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=nh(i);t=t(n!==void 0?n:e.custom,s,o)}return t}function vo(e){return ft(e)?e.get():e}function gw({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,s){return{latestValues:yw(n,i,s,e),renderState:t()}}function yw(e,t,n,i){const s={},o=i(e,{});for(const f in o)s[f]=vo(o[f]);let{initial:a,animate:l}=e;const c=oa(e),d=Ig(e);t&&d&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let u=n?n.initial===!1:!1;u=u||a===!1;const h=u?l:a;if(h&&typeof h!="boolean"&&!sa(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const g=bd(e,f[p]);if(g){const{transitionEnd:m,transition:y,...b}=g;for(const v in b){let w=b[v];if(Array.isArray(w)){const S=u?w.length-1:0;w=w[S]}w!==null&&(s[v]=w)}for(const v in m)s[v]=m[v]}}}return s}const Wg=e=>(t,n)=>{const i=dt(ra),s=dt(na),o=()=>gw(e,t,i,s);return n?o():us(o)};function wd(e,t,n){const{style:i}=e,s={};for(const o in i)(ft(i[o])||t.style&&ft(t.style[o])||Rg(o,e)||n?.getValue(o)?.liveStyle!==void 0)&&(s[o]=i[o]);return s}const vw=Wg({scrapeMotionValuesFromProps:wd,createRenderState:yd});function Hg(e,t,n){const i=wd(e,t,n);for(const s in e)if(ft(e[s])||ft(t[s])){const o=qi.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=e[s]}return i}const bw=Wg({scrapeMotionValuesFromProps:Hg,createRenderState:Vg}),ww=Symbol.for("motionComponentSymbol");function Fi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function kw(e,t,n){return Ie(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):Fi(n)&&(n.current=i))},[t])}const kd=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xw="framerAppearId",$g="data-"+kd(xw),jg=ki({});function _w(e,t,n,i,s){const{visualElement:o}=dt(ra),a=dt(Fg),l=dt(na),c=dt(ms).reducedMotion,d=oe(null);i=i||a.renderer,!d.current&&i&&(d.current=i(e,{visualState:t,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=dt(jg);u&&!u.projection&&s&&(u.type==="html"||u.type==="svg")&&Cw(d.current,n,s,h);const f=oe(!1);jc(()=>{u&&f.current&&u.update(n,l)});const p=n[$g],g=oe(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return qc(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),g.current&&u.animationState&&u.animationState.animateChanges())}),Y(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),g.current=!1),u.enteringChildren=void 0)}),u}function Cw(e,t,n,i){const{layoutId:s,layout:o,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Ug(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!a||l&&Fi(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:u,layoutScroll:c,layoutRoot:d})}function Ug(e){if(e)return e.options.allowProjection!==!1?e.projection:Ug(e.parent)}function La(e,{forwardMotionProps:t=!1}={},n,i){n&&X5(n);const s=vd(e)?bw:vw;function o(l,c){let d;const u={...dt(ms),...l,layoutId:Sw(l)},{isStatic:h}=u,f=nw(l),p=s(l,h);if(!h&&Kc){Nw();const g=Lw(u);d=g.MeasureLayout,f.visualElement=_w(e,p,u,i,g.ProjectionNode)}return r(ra.Provider,{value:f,children:[d&&f.visualElement?r(d,{visualElement:f.visualElement,...u}):null,mw(e,l,kw(p,f.visualElement,c),p,h,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const a=Iv(o);return a[ww]=e,a}function Sw({layoutId:e}){const t=dt(Gc).id;return t&&e!==void 0?t+"-"+e:e}function Nw(e,t){dt(Fg).strict}function Lw(e){const{drag:t,layout:n}=Hi;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Mw(e,t){if(typeof Proxy>"u")return La;const n=new Map,i=(o,a)=>La(o,a,e,t),s=(o,a)=>i(o,a);return new Proxy(s,{get:(o,a)=>a==="create"?i:(n.has(a)||n.set(a,La(a,void 0,e,t)),n.get(a))})}function Gg({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function Ew({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Tw(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Ma(e){return e===void 0||e===1}function jl({scale:e,scaleX:t,scaleY:n}){return!Ma(e)||!Ma(t)||!Ma(n)}function ni(e){return jl(e)||Kg(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Kg(e){return ih(e.x)||ih(e.y)}function ih(e){return e&&e!=="0%"}function Bo(e,t,n){const i=e-n,s=t*i;return n+s}function rh(e,t,n,i,s){return s!==void 0&&(e=Bo(e,s,i)),Bo(e,n,i)+t}function Ul(e,t=0,n=1,i,s){e.min=rh(e.min,t,n,i,s),e.max=rh(e.max,t,n,i,s)}function qg(e,{x:t,y:n}){Ul(e.x,t.translate,t.scale,t.originPoint),Ul(e.y,n.translate,n.scale,n.originPoint)}const sh=.999999999999,oh=1.0000000000001;function Aw(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,a;for(let l=0;l<s;l++){o=n[l],a=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ii(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,qg(e,a)),i&&ni(o.latestValues)&&Ii(e,o.latestValues))}t.x<oh&&t.x>sh&&(t.x=1),t.y<oh&&t.y>sh&&(t.y=1)}function Pi(e,t){e.min=e.min+t,e.max=e.max+t}function ah(e,t,n,i,s=.5){const o=Qe(e.min,e.max,s);Ul(e,t,n,o,i)}function Ii(e,t){ah(e.x,t.x,t.scaleX,t.scale,t.originX),ah(e.y,t.y,t.scaleY,t.scale,t.originY)}function Yg(e,t){return Gg(Tw(e.getBoundingClientRect(),t))}function Dw(e,t,n){const i=Yg(e,n),{scroll:s}=t;return s&&(Pi(i.x,s.offset.x),Pi(i.y,s.offset.y)),i}const lh=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ri=()=>({x:lh(),y:lh()}),ch=()=>({min:0,max:0}),nt=()=>({x:ch(),y:ch()}),Gl={current:null},Zg={current:!1};function Fw(){if(Zg.current=!0,!!Kc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Gl.current=e.matches;e.addEventListener("change",t),t()}else Gl.current=!1}const Pw=new WeakMap;function Iw(e,t,n){for(const i in t){const s=t[i],o=n[i];if(ft(s))e.addValue(i,s);else if(ft(o))e.addValue(i,yi(s,{owner:e}));else if(o!==s)if(e.hasValue(i)){const a=e.getValue(i);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(i);e.addValue(i,yi(a!==void 0?a:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const dh=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Rw{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Et.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Ge.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=oa(n),this.isVariantNode=Ig(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const p=h[f];c[f]!==void 0&&ft(p)&&p.set(c[f])}}mount(t){this.current=t,Pw.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),Zg.current||Fw(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gl.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ln(this.notifyUpdate),Ln(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Yi.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Ge.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Hi){const n=Hi[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<dh.length;i++){const s=dh[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,a=t[o];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=Iw(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=yi(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(Wm(i)||$m(i))?i=parseFloat(i):!j5(i)&&On.test(n)&&(i=Sg(t,n)),this.setBaseTarget(t,ft(i)?i.get():i)),ft(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=bd(this.props,n,this.presenceContext?.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ft(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Jc),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){hd.render(this.render)}}class Xg extends Rw{constructor(){super(...arguments),this.KeyframeResolver=T5}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ft(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Jg(e,{style:t,vars:n},i,s){const o=e.style;let a;for(a in t)o[a]=t[a];s?.applyProjectionStyles(o,i);for(a in n)o.setProperty(a,n[a])}function Bw(e){return window.getComputedStyle(e)}class zw extends Xg{constructor(){super(...arguments),this.type="html",this.renderInstance=Jg}readValueFromInstance(t,n){if(Yi.has(n))return this.projection?.isProjecting?Bl(n):Yb(t,n);{const i=Bw(t),s=(td(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Yg(t,n)}build(t,n,i){gd(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return wd(t,n,i)}}const Qg=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Vw(e,t,n,i){Jg(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(Qg.has(s)?s:kd(s),t.attrs[s])}class Ow extends Xg{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Yi.has(n)){const i=Cg(n);return i&&i.default||0}return n=Qg.has(n)?n:kd(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return Hg(t,n,i)}build(t,n,i){zg(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){Vw(t,n,i,s)}mount(t){this.isSVGTag=Og(t.tagName),super.mount(t)}}const Ww=(e,t)=>vd(e)?new Ow(t):new zw(t,{allowProjection:e!==ke});function Bi(e,t,n){const i=e.getProps();return bd(i,t,n!==void 0?n:i.custom,e)}const Kl=e=>Array.isArray(e);function Hw(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,yi(n))}function $w(e){return Kl(e)?e[e.length-1]||0:e}function jw(e,t){const n=Bi(e,t);let{transitionEnd:i={},transition:s={},...o}=n||{};o={...o,...i};for(const a in o){const l=$w(o[a]);Hw(e,a,l)}}function Uw(e){return!!(ft(e)&&e.add)}function ql(e,t){const n=e.getValue("willChange");if(Uw(n))return n.add(t);if(!n&&Nn.WillChange){const i=new Nn.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function e1(e){return e.props[$g]}const Gw=e=>e!==null;function Kw(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(Gw),o=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[o]}const qw={type:"spring",stiffness:500,damping:25,restSpeed:10},Yw=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Zw={type:"keyframes",duration:.8},Xw={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Jw=(e,{keyframes:t})=>t.length>2?Zw:Yi.has(e)?e.startsWith("scale")?Yw(t[1]):qw:Xw;function Qw({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const xd=(e,t,n,i={},s,o)=>a=>{const l=dd(i,e)||{},c=l.delay||i.delay||0;let{elapsed:d=0}=i;d=d-dn(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:s};Qw(l)||Object.assign(u,Jw(e,u)),u.duration&&(u.duration=dn(u.duration)),u.repeatDelay&&(u.repeatDelay=dn(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Hl(u),u.delay===0&&(h=!0)),(Nn.instantAnimations||Nn.skipAnimations)&&(h=!0,Hl(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!o&&t.get()!==void 0){const f=Kw(u.keyframes,l);if(f!==void 0){Ge.update(()=>{u.onUpdate(f),u.onComplete()});return}}return l.isSync?new ia(u):new v5(u)};function ek({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function t1(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;i&&(o=i);const c=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const u in l){const h=e.getValue(u,e.latestValues[u]??null),f=l[u];if(f===void 0||d&&ek(d,u))continue;const p={delay:n,...dd(o||{},u)},g=h.get();if(g!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===g&&!p.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const b=e1(e);if(b){const v=window.MotionHandoffAnimation(b,u,Ge);v!==null&&(p.startTime=v,m=!0)}}ql(e,u),h.start(xd(u,h,f,e.shouldReduceMotion&&kg.has(u)?{type:!1}:p,e,m));const y=h.animation;y&&c.push(y)}return a&&Promise.all(c).then(()=>{Ge.update(()=>{a&&jw(e,a)})}),c}function n1(e,t,n,i=0,s=1){const o=Array.from(e).sort((d,u)=>d.sortNodePosition(u)).indexOf(t),a=e.size,l=(a-1)*i;return typeof n=="function"?n(o,a):s===1?o*i:l-o*i}function Yl(e,t,n={}){const i=Bi(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(t1(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=s;return tk(e,t,c,d,u,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function tk(e,t,n=0,i=0,s=0,o=1,a){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Yl(c,t,{...a,delay:n+(typeof i=="function"?0:i)+n1(e.variantChildren,c,i,s,o)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function nk(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(o=>Yl(e,o,n));i=Promise.all(s)}else if(typeof t=="string")i=Yl(e,t,n);else{const s=typeof t=="function"?Bi(e,t,n.custom):t;i=Promise.all(t1(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function i1(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const ik=md.length;function r1(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?r1(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<ik;n++){const i=md[n],s=e.props[i];(qr(s)||s===!1)&&(t[i]=s)}return t}const rk=[...pd].reverse(),sk=pd.length;function ok(e){return t=>Promise.all(t.map(({animation:n,options:i})=>nk(e,n,i)))}function ak(e){let t=ok(e),n=uh(),i=!0;const s=c=>(d,u)=>{const h=Bi(e,u,c==="exit"?e.presenceContext?.custom:void 0);if(h){const{transition:f,transitionEnd:p,...g}=h;d={...d,...g,...p}}return d};function o(c){t=c(e)}function a(c){const{props:d}=e,u=r1(e.parent)||{},h=[],f=new Set;let p={},g=1/0;for(let y=0;y<sk;y++){const b=rk[y],v=n[b],w=d[b]!==void 0?d[b]:u[b],S=qr(w),x=b===c?v.isActive:null;x===!1&&(g=y);let k=w===u[b]&&w!==d[b]&&S;if(k&&i&&e.manuallyAnimateOnMount&&(k=!1),v.protectedKeys={...p},!v.isActive&&x===null||!w&&!v.prevProp||sa(w)||typeof w=="boolean")continue;const N=lk(v.prevProp,w);let L=N||b===c&&v.isActive&&!k&&S||y>g&&S,_=!1;const I=Array.isArray(w)?w:[w];let T=I.reduce(s(b),{});x===!1&&(T={});const{prevResolvedValues:R={}}=v,j={...R,...T},z=A=>{L=!0,f.has(A)&&(_=!0,f.delete(A)),v.needsAnimating[A]=!0;const F=e.getValue(A);F&&(F.liveStyle=!1)};for(const A in j){const F=T[A],M=R[A];if(p.hasOwnProperty(A))continue;let C=!1;Kl(F)&&Kl(M)?C=!i1(F,M):C=F!==M,C?F!=null?z(A):f.add(A):F!==void 0&&f.has(A)?z(A):v.protectedKeys[A]=!0}v.prevProp=w,v.prevResolvedValues=T,v.isActive&&(p={...p,...T}),i&&e.blockInitialAnimation&&(L=!1);const B=k&&N;L&&(!B||_)&&h.push(...I.map(A=>{const F={type:b};if(typeof A=="string"&&i&&!B&&e.manuallyAnimateOnMount&&e.parent){const{parent:M}=e,C=Bi(M,A);if(M.enteringChildren&&C){const{delayChildren:X}=C.transition||{};F.delay=n1(M.enteringChildren,e,X)}}return{animation:A,options:F}}))}if(f.size){const y={};if(typeof d.initial!="boolean"){const b=Bi(e,Array.isArray(d.initial)?d.initial[0]:d.initial);b&&b.transition&&(y.transition=b.transition)}f.forEach(b=>{const v=e.getBaseTarget(b),w=e.getValue(b);w&&(w.liveStyle=!0),y[b]=v??null}),h.push({animation:y})}let m=!!h.length;return i&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(m=!1),i=!1,m?t(h):Promise.resolve()}function l(c,d){if(n[c].isActive===d)return Promise.resolve();e.variantChildren?.forEach(h=>h.animationState?.setActive(c,d)),n[c].isActive=d;const u=a(c);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:a,setActive:l,setAnimateFunction:o,getState:()=>n,reset:()=>{n=uh(),i=!0}}}function lk(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!i1(t,e):!1}function qn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uh(){return{animate:qn(!0),whileInView:qn(),whileHover:qn(),whileTap:qn(),whileDrag:qn(),whileFocus:qn(),exit:qn()}}class $n{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ck extends $n{constructor(t){super(t),t.animationState||(t.animationState=ak(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();sa(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let dk=0;class uk extends $n{constructor(){super(...arguments),this.id=dk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const hk={animation:{Feature:ck},exit:{Feature:uk}};function Zr(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function gs(e){return{point:{x:e.pageX,y:e.pageY}}}const fk=e=>t=>fd(t)&&e(t,gs(t));function Ar(e,t,n,i){return Zr(e,t,fk(n),i)}const s1=1e-4,pk=1-s1,mk=1+s1,o1=.01,gk=0-o1,yk=0+o1;function xt(e){return e.max-e.min}function vk(e,t,n){return Math.abs(e-t)<=n}function hh(e,t,n,i=.5){e.origin=i,e.originPoint=Qe(t.min,t.max,e.origin),e.scale=xt(n)/xt(t),e.translate=Qe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=pk&&e.scale<=mk||isNaN(e.scale))&&(e.scale=1),(e.translate>=gk&&e.translate<=yk||isNaN(e.translate))&&(e.translate=0)}function Dr(e,t,n,i){hh(e.x,t.x,n.x,i?i.originX:void 0),hh(e.y,t.y,n.y,i?i.originY:void 0)}function fh(e,t,n){e.min=n.min+t.min,e.max=e.min+xt(t)}function bk(e,t,n){fh(e.x,t.x,n.x),fh(e.y,t.y,n.y)}function ph(e,t,n){e.min=t.min-n.min,e.max=e.min+xt(t)}function Fr(e,t,n){ph(e.x,t.x,n.x),ph(e.y,t.y,n.y)}function Vt(e){return[e("x"),e("y")]}const a1=({current:e})=>e?e.ownerDocument.defaultView:null,mh=(e,t)=>Math.abs(e-t);function wk(e,t){const n=mh(e.x,t.x),i=mh(e.y,t.y);return Math.sqrt(n**2+i**2)}class l1{constructor(t,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Ta(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=wk(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!g)return;const{point:m}=f,{timestamp:y}=mt;this.history.push({...m,timestamp:y});const{onStart:b,onMove:v}=this.handlers;p||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Ea(p,this.transformPagePoint),Ge.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:g,onSessionEnd:m,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Ta(f.type==="pointercancel"?this.lastMoveEventInfo:Ea(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,b),m&&m(f,b)},!fd(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=a,this.contextWindow=s||window;const l=gs(t),c=Ea(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=mt;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=n;h&&h(t,Ta(c,this.history)),this.removeListeners=hs(Ar(this.contextWindow,"pointermove",this.handlePointerMove),Ar(this.contextWindow,"pointerup",this.handlePointerUp),Ar(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ln(this.updatePoint)}}function Ea(e,t){return t?{point:t(e.point)}:e}function gh(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ta({point:e},t){return{point:e,delta:gh(e,c1(t)),offset:gh(e,kk(t)),velocity:xk(t,.1)}}function kk(e){return e[0]}function c1(e){return e[e.length-1]}function xk(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=c1(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>dn(t)));)n--;if(!i)return{x:0,y:0};const o=Wt(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const a={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function _k(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Qe(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Qe(n,e,i.max):Math.min(e,n)),e}function yh(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Ck(e,{top:t,left:n,bottom:i,right:s}){return{x:yh(e.x,n,s),y:yh(e.y,t,i)}}function vh(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function Sk(e,t){return{x:vh(e.x,t.x),y:vh(e.y,t.y)}}function Nk(e,t){let n=.5;const i=xt(e),s=xt(t);return s>i?n=Ur(t.min,t.max-i,e.min):i>s&&(n=Ur(e.min,e.max-s,t.min)),Sn(0,1,n)}function Lk(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Zl=.35;function Mk(e=Zl){return e===!1?e=0:e===!0&&(e=Zl),{x:bh(e,"left","right"),y:bh(e,"top","bottom")}}function bh(e,t,n){return{min:wh(e,t),max:wh(e,n)}}function wh(e,t){return typeof e=="number"?e:e[t]||0}const Ek=new WeakMap;class Tk{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(gs(h).point)},a=(h,f)=>{const{drag:p,dragPropagation:g,onDragStart:m}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=P5(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vt(b=>{let v=this.getAxisMotionValue(b).get()||0;if(un.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const S=w.layout.layoutBox[b];S&&(v=xt(S)*(parseFloat(v)/100))}}this.originPoint[b]=v}),m&&Ge.postRender(()=>m(h,f)),ql(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:m,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:b}=f;if(g&&this.currentDirection===null){this.currentDirection=Ak(b),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),y&&y(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Vt(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new l1(t,{onSessionStart:o,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:i,contextWindow:a1(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!i)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Ge.postRender(()=>l(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!Ms(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let a=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(a=_k(a,this.constraints[t],this.elastic[t])),o.set(a)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&Fi(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=Ck(i.layoutBox,t):this.constraints=!1,this.elastic=Mk(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Vt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Lk(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Fi(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=Dw(i,s.root,this.visualElement.getTransformPagePoint());let a=Sk(s.layout.layoutBox,o);if(n){const l=n(Ew(a));this.hasMutatedConstraints=!!l,l&&(a=Gg(l))}return a}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Vt(u=>{if(!Ms(u,n,this.currentDirection))return;let h=c&&c[u]||{};a&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,g={type:"inertia",velocity:i?t[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return ql(this.visualElement,t),i.start(xd(t,i,0,n,this.visualElement,!1))}stopAnimation(){Vt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Vt(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Vt(n=>{const{drag:i}=this.getProps();if(!Ms(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];o.set(t[n]-Qe(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Fi(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Vt(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();s[a]=Nk({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Vt(a=>{if(!Ms(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:d}=this.constraints[a];l.set(Qe(c,d,s[a]))})}addListeners(){if(!this.visualElement.current)return;Ek.set(this.visualElement,this);const t=this.visualElement.current,n=Ar(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();Fi(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ge.read(i);const a=Zr(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Vt(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())}));return()=>{a(),n(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:a=Zl,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:a,dragMomentum:l}}}function Ms(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Ak(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Dk extends $n{constructor(t){super(t),this.removeGroupControls=Ht,this.removeListeners=Ht,this.controls=new Tk(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ht}unmount(){this.removeGroupControls(),this.removeListeners()}}const kh=e=>(t,n)=>{e&&Ge.postRender(()=>e(t,n))};class Fk extends $n{constructor(){super(...arguments),this.removePointerDownListener=Ht}onPointerDown(t){this.session=new l1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:a1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:kh(t),onStart:kh(n),onMove:i,onEnd:(o,a)=>{delete this.session,s&&Ge.postRender(()=>s(o,a))}}}mount(){this.removePointerDownListener=Ar(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xh(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const er={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ce.test(e))e=parseFloat(e);else return e;const n=xh(e,t.target.x),i=xh(e,t.target.y);return`${n}% ${i}%`}},Pk={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=On.parse(e);if(s.length>5)return i;const o=On.createTransformer(e),a=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+a]/=l,s[1+a]/=c;const d=Qe(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=d),typeof s[3+a]=="number"&&(s[3+a]/=d),o(s)}};let Aa=!1;class Ik extends Xt{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=t;iw(Rk),o&&(n.group&&n.group.add(o),i&&i.register&&s&&i.register(o),Aa&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),bo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:o}=this.props,{projection:a}=i;return a&&(a.isPresent=o,Aa=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==o?a.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?a.promote():a.relegate()||Ge.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),hd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;Aa=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function d1(e){const[t,n]=Dg(),i=dt(Gc);return r(Ik,{...e,layoutGroup:i,switchLayoutGroup:dt(jg),isPresent:t,safeToRemove:n})}const Rk={borderRadius:{...er,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:er,borderTopRightRadius:er,borderBottomLeftRadius:er,borderBottomRightRadius:er,boxShadow:Pk};function Bk(e,t,n){const i=ft(e)?e:yi(e);return i.start(xd("",i,t,n)),i.animation}const zk=(e,t)=>e.depth-t.depth;class Vk{constructor(){this.children=[],this.isDirty=!1}add(t){Yc(this.children,t),this.isDirty=!0}remove(t){Zc(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(zk),this.isDirty=!1,this.children.forEach(t)}}function Ok(e,t){const n=Et.now(),i=({timestamp:s})=>{const o=s-n;o>=t&&(Ln(i),e(o-t))};return Ge.setup(i,!0),()=>Ln(i)}const u1=["TopLeft","TopRight","BottomLeft","BottomRight"],Wk=u1.length,_h=e=>typeof e=="string"?parseFloat(e):e,Ch=e=>typeof e=="number"||Ce.test(e);function Hk(e,t,n,i,s,o){s?(e.opacity=Qe(0,n.opacity??1,$k(i)),e.opacityExit=Qe(t.opacity??1,0,jk(i))):o&&(e.opacity=Qe(t.opacity??1,n.opacity??1,i));for(let a=0;a<Wk;a++){const l=`border${u1[a]}Radius`;let c=Sh(t,l),d=Sh(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Ch(c)===Ch(d)?(e[l]=Math.max(Qe(_h(c),_h(d),i),0),(un.test(d)||un.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=Qe(t.rotate||0,n.rotate||0,i))}function Sh(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const $k=h1(0,.5,Xm),jk=h1(.5,.95,Ht);function h1(e,t,n){return i=>i<e?0:i>t?1:n(Ur(e,t,i))}function Nh(e,t){e.min=t.min,e.max=t.max}function Bt(e,t){Nh(e.x,t.x),Nh(e.y,t.y)}function Lh(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Mh(e,t,n,i,s){return e-=t,e=Bo(e,1/n,i),s!==void 0&&(e=Bo(e,1/s,i)),e}function Uk(e,t=0,n=1,i=.5,s,o=e,a=e){if(un.test(t)&&(t=parseFloat(t),t=Qe(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=Qe(o.min,o.max,i);e===o&&(l-=t),e.min=Mh(e.min,t,n,l,s),e.max=Mh(e.max,t,n,l,s)}function Eh(e,t,[n,i,s],o,a){Uk(e,t[n],t[i],t[s],t.scale,o,a)}const Gk=["x","scaleX","originX"],Kk=["y","scaleY","originY"];function Th(e,t,n,i){Eh(e.x,t,Gk,n?n.x:void 0,i?i.x:void 0),Eh(e.y,t,Kk,n?n.y:void 0,i?i.y:void 0)}function Ah(e){return e.translate===0&&e.scale===1}function f1(e){return Ah(e.x)&&Ah(e.y)}function Dh(e,t){return e.min===t.min&&e.max===t.max}function qk(e,t){return Dh(e.x,t.x)&&Dh(e.y,t.y)}function Fh(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function p1(e,t){return Fh(e.x,t.x)&&Fh(e.y,t.y)}function Ph(e){return xt(e.x)/xt(e.y)}function Ih(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Yk{constructor(){this.members=[]}add(t){Yc(this.members,t),t.scheduleRender()}remove(t){if(Zc(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Zk(e,t,n){let i="";const s=e.x.translate/t.x,o=e.y.translate/t.y,a=n?.z||0;if((s||o||a)&&(i=`translate3d(${s}px, ${o}px, ${a}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:f,skewX:p,skewY:g}=n;d&&(i=`perspective(${d}px) ${i}`),u&&(i+=`rotate(${u}deg) `),h&&(i+=`rotateX(${h}deg) `),f&&(i+=`rotateY(${f}deg) `),p&&(i+=`skewX(${p}deg) `),g&&(i+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(i+=`scale(${l}, ${c})`),i||"none"}const Da=["","X","Y","Z"],Xk=1e3;let Jk=0;function Fa(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function m1(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=e1(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ge,!(s||o))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&m1(i)}function g1({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(a={},l=t?.()){this.id=Jk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tx),this.nodes.forEach(sx),this.nodes.forEach(ox),this.nodes.forEach(nx)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Vk)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Jc),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Ag(a)&&!O5(a),this.instance=a;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u,h=0;const f=()=>this.root.updateBlockedByResize=!1;Ge.read(()=>{h=window.innerWidth}),e(a,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,u&&u(),u=Ok(f,250),bo.hasAnimatedSinceResize&&(bo.hasAnimatedSinceResize=!1,this.nodes.forEach(zh)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||ux,{onLayoutAnimationStart:m,onLayoutAnimationComplete:y}=d.getProps(),b=!this.targetLayout||!p1(this.targetLayout,p),v=!h&&f;if(this.options.layoutRoot||this.resumeFrom||v||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...dd(g,"layout"),onPlay:m,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(u,v)}else h||zh(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ln(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ax),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&m1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Rh);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Bh);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(rx),this.nodes.forEach(Qk),this.nodes.forEach(ex)):this.nodes.forEach(Bh),this.clearAllSnapshots();const l=Et.now();mt.delta=Sn(0,1e3/60,l-mt.timestamp),mt.timestamp=l,mt.isProcessing=!0,ka.update.process(mt),ka.preRender.process(mt),ka.render.process(mt),mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ix),this.sharedNodes.forEach(lx)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!xt(this.snapshot.measuredBox.x)&&!xt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!f1(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;a&&this.instance&&(l||ni(this.latestValues)||u)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),hx(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return nt();const l=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(fx))){const{scroll:d}=this.root;d&&(Pi(l.x,d.offset.x),Pi(l.y,d.offset.y))}return l}removeElementScroll(a){const l=nt();if(Bt(l,a),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:h}=d;d!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&Bt(l,a),Pi(l.x,u.offset.x),Pi(l.y,u.offset.y))}return l}applyTransform(a,l=!1){const c=nt();Bt(c,a);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ii(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ni(u.latestValues)&&Ii(c,u.latestValues)}return ni(this.latestValues)&&Ii(c,this.latestValues),c}removeTransform(a){const l=nt();Bt(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!ni(d.latestValues))continue;jl(d.latestValues)&&d.updateSnapshot();const u=nt(),h=d.measurePageBox();Bt(u,h),Th(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return ni(this.latestValues)&&Th(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=mt.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),Fr(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Bt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nt(),this.targetWithTransforms=nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bt(this.target,this.layout.layoutBox),qg(this.target,this.targetDelta)):Bt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),Fr(this.relativeTargetOrigin,this.target,f.target),Bt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||jl(this.parent.latestValues)||Kg(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===mt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Bt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Aw(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=nt());const{target:p}=a;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Lh(this.prevProjectionDelta.x,this.projectionDelta.x),Lh(this.prevProjectionDelta.y,this.projectionDelta.y)),Dr(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Ih(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ih(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ri(),this.projectionDelta=Ri(),this.projectionDeltaWithTransform=Ri()}setAnimationOrigin(a,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=Ri();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=nt(),p=c?c.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,y=this.getStack(),b=!y||y.members.length<=1,v=!!(m&&!b&&this.options.crossfade===!0&&!this.path.some(dx));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const x=S/1e3;Vh(h.x,a.x,x),Vh(h.y,a.y,x),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fr(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cx(this.relativeTarget,this.relativeTargetOrigin,f,x),w&&qk(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=nt()),Bt(w,this.relativeTarget)),m&&(this.animationValues=u,Hk(u,d,this.latestValues,x,v,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ln(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ge.update(()=>{bo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yi(0)),this.currentAnimation=Bk(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Xk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=a;if(!(!l||!c||!d)){if(this!==a&&this.layout&&d&&y1(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||nt();const h=xt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=xt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}Bt(l,c),Ii(l,u),Dr(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Yk),this.sharedNodes.get(a).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Fa("z",a,d,this.animationValues);for(let u=0;u<Da.length;u++)Fa(`rotate${Da[u]}`,a,d,this.animationValues),Fa(`skew${Da[u]}`,a,d,this.animationValues);a.render();for(const u in d)a.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=vo(l?.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=vo(l?.pointerEvents)||""),this.hasProjected&&!ni(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=Zk(this.projectionDeltaWithTransform,this.treeScale,u);c&&(h=c(u,h)),a.transform=h;const{x:f,y:p}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,d.animationValues?a.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:a.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in Yr){if(u[g]===void 0)continue;const{correct:m,applyTo:y,isCSSVariable:b}=Yr[g],v=h==="none"?u[g]:m(u[g],d);if(y){const w=y.length;for(let S=0;S<w;S++)a[y[S]]=v}else b?this.options.visualElement.renderState.vars[g]=v:a[g]=v}this.options.layoutId&&(a.pointerEvents=d===this?vo(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(Rh),this.root.sharedNodes.clear()}}}function Qk(e){e.updateLayout()}function ex(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?Vt(u=>{const h=o?t.measuredBox[u]:t.layoutBox[u],f=xt(h);h.min=n[u].min,h.max=h.min+f}):y1(s,t.layoutBox,n)&&Vt(u=>{const h=o?t.measuredBox[u]:t.layoutBox[u],f=xt(n[u]);h.max=h.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+f)});const a=Ri();Dr(a,n,t.layoutBox);const l=Ri();o?Dr(l,e.applyTransform(i,!0),t.measuredBox):Dr(l,n,t.layoutBox);const c=!f1(a);let d=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:f}=u;if(h&&f){const p=nt();Fr(p,t.layoutBox,h.layoutBox);const g=nt();Fr(g,n,f.layoutBox),p1(p,g)||(d=!0),u.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function tx(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function nx(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ix(e){e.clearSnapshot()}function Rh(e){e.clearMeasurements()}function Bh(e){e.isLayoutDirty=!1}function rx(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function zh(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function sx(e){e.resolveTargetDelta()}function ox(e){e.calcProjection()}function ax(e){e.resetSkewAndRotation()}function lx(e){e.removeLeadSnapshot()}function Vh(e,t,n){e.translate=Qe(t.translate,0,n),e.scale=Qe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Oh(e,t,n,i){e.min=Qe(t.min,n.min,i),e.max=Qe(t.max,n.max,i)}function cx(e,t,n,i){Oh(e.x,t.x,n.x,i),Oh(e.y,t.y,n.y,i)}function dx(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ux={duration:.45,ease:[.4,0,.1,1]},Wh=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Hh=Wh("applewebkit/")&&!Wh("chrome/")?Math.round:Ht;function $h(e){e.min=Hh(e.min),e.max=Hh(e.max)}function hx(e){$h(e.x),$h(e.y)}function y1(e,t,n){return e==="position"||e==="preserve-aspect"&&!vk(Ph(t),Ph(n),.2)}function fx(e){return e!==e.root&&e.scroll?.wasRoot}const px=g1({attachResizeListener:(e,t)=>Zr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Pa={current:void 0},v1=g1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Pa.current){const e=new px({});e.mount(window),e.setOptions({layoutScroll:!0}),Pa.current=e}return Pa.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),mx={pan:{Feature:Fk},drag:{Feature:Dk,ProjectionNode:v1,MeasureLayout:d1}};function jh(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=i[s];o&&Ge.postRender(()=>o(t,gs(t)))}class gx extends $n{mount(){const{current:t}=this.node;t&&(this.unmount=I5(t,(n,i)=>(jh(this.node,i,"Start"),s=>jh(this.node,s,"End"))))}unmount(){}}class yx extends $n{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hs(Zr(this.node.current,"focus",()=>this.onFocus()),Zr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Uh(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=i[s];o&&Ge.postRender(()=>o(t,gs(t)))}class vx extends $n{mount(){const{current:t}=this.node;t&&(this.unmount=V5(t,(n,i)=>(Uh(this.node,i,"Start"),(s,{success:o})=>Uh(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xl=new WeakMap,Ia=new WeakMap,bx=e=>{const t=Xl.get(e.target);t&&t(e)},wx=e=>{e.forEach(bx)};function kx({root:e,...t}){const n=e||document;Ia.has(n)||Ia.set(n,{});const i=Ia.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(wx,{root:e,...t})),i[s]}function xx(e,t,n){const i=kx(t);return Xl.set(e,n),i.observe(e),()=>{Xl.delete(e),i.unobserve(e)}}const _x={some:0,all:1};class Cx extends $n{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:o}=t,a={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:_x[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return xx(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Sx(t,n))&&this.startObserver()}unmount(){}}function Sx({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Nx={inView:{Feature:Cx},tap:{Feature:vx},focus:{Feature:yx},hover:{Feature:gx}},Lx={layout:{ProjectionNode:v1,MeasureLayout:d1}},Mx={...hk,...Nx,...mx,...Lx},P=Mw(Mx,Ww);function zo(e){const t=us(()=>yi(e)),{isStatic:n}=dt(ms);if(n){const[,i]=D(e);Y(()=>t.on("change",i),[])}return t}function b1(e,t){const n=zo(t()),i=()=>n.set(t());return i(),qc(()=>{const s=()=>Ge.preRender(i,!1,!0),o=e.map(a=>a.on("change",s));return()=>{o.forEach(a=>a()),Ln(i)}}),n}function Ex(e){Tr.current=[],e();const t=b1(Tr.current,e);return Tr.current=void 0,t}function fi(e,t,n,i){if(typeof e=="function")return Ex(e);const s=typeof t=="function"?t:W5(t,n,i);return Array.isArray(e)?Gh(e,s):Gh([e],([o])=>s(o))}function Gh(e,t){const n=us(()=>[]);return b1(e,()=>{n.length=0;const i=e.length;for(let s=0;s<i;s++)n[s]=e[s].get();return t(n)})}function Vo(e,t={}){const{isStatic:n}=dt(ms),i=()=>ft(e)?e.get():e;if(n)return fi(i);const s=zo(i());return jc(()=>H5(s,e,t),[s,JSON.stringify(t)]),s}const Tx={ui:{common:{pleaseSelect:"Bitte auswhlen"},controls:{brightness:"Helligkeit",colorTemperature:"Farbtemperatur",color:"Farbe",effects:"Effekte",hvac:"HVAC",fan:"Lfter",preset:"Voreinstellung",swing:"Schwenk",play:"Wiedergabe",pause:"Pause",previous:"Zurck",next:"Weiter",source:"Quelle",open:"ffnen",stop:"Stop",close:"Schlieen",position:"Position",speed:"Geschwindigkeit",volume:"Lautstrke",targetTemperature:"Zieltemperatur",currentTemperature:"Aktuell",control:"Steuerung",production:"Produktion",consumption:"Verbrauch",battery:"Batterie",printProgress:"Druckfortschritt",sensor:"Sensor",sensors:"Sensoren",diagnostics:"Diagnose",misc:"Sonstiges",controls:"Steuerung",temperature:"Temperatur",humidity:"Luftfeuchtigkeit",power:"Leistung",energy:"Energie",co2:"CO",movement:"Bewegung",door:"Tr",window:"Fenster",presence:"Prsenz",solar:"Solar",info:"Information",settings:"Einstellungen",systemSettings:"System Einstellungen",appearance:"Darstellung",language:"Sprache",notifications:"Benachrichtigungen",privacy:"Datenschutz",about:"ber",theme:"Design",darkMode:"Dunkler Modus",lightMode:"Heller Modus",autoMode:"Automatisch",security:"Sicherheit",lock:"Verriegeln",unlock:"Entriegeln",locked:"Verriegelt",unlocked:"Entriegelt",activate:"Aktivieren",run:"Ausfhren",disable:"Deaktivieren",enable:"Aktivieren",trigger:"Auslsen",scene:"Szene",script:"Skript",automation:"Automatisierung",veryWarm:"Sehr Warm",warm:"Warm",neutral:"Neutral",cold:"Kalt",daylight:"Tageslicht",on:"An",off:"Aus",active:"Aktiv",inactive:"Inaktiv",since:"seit",noRoom:"Kein Raum",unknown:"Unbekannt",justNow:"gerade eben",turned_on:"Eingeschaltet",turned_off:"Ausgeschaltet",heating:"Heizen",cooling:"Khlen",auto:"Auto",drying:"Entfeuchten",fanOnly:"Nur Lfter",idle:"Bereit",heatingTo:"Heizen auf",coolingTo:"Khlen auf",maintaining:"Halte",eco:"Eco-Modus",comfort:"Komfort",boost:"Boost",fanSpeed:"Lftergeschwindigkeit",horizontalOscillation:"Horizontale Oszillation",verticalOscillation:"Vertikale Oszillation",apply:"Anwenden",cancel:"Abbrechen",veryCold:"Sehr kalt",cold:"Kalt",cool:"Khl",comfortable:"Angenehm",warm:"Warm",hot:"Hei",veryHot:"Sehr hei",veryDry:"Sehr trocken",dry:"Trocken",optimal:"Optimal",humid:"Feucht",veryHumid:"Sehr feucht",critical:"Kritisch",low:"Niedrig",medium:"Mittel",good:"Gut",full:"Voll",minimal:"Minimal",high:"Hoch",veryHigh:"Sehr hoch",excellent:"Exzellent",acceptable:"Akzeptabel",moderate:"Mig",poor:"Schlecht"},search:{noResults:'Keine Ergebnisse fr "{term}"',tryDifferent:"Versuche es mit anderen Suchbegriffen"},aiMode:{askAnything:"Frag mich was",subtitle:"Frage mich alles ber dein Smart Home",thinking:"AI denkt nach...",wasHelpful:"War das hilfreich?",yes:"Ja",no:"Nein",followUp:"Stelle eine Folgefrage...",suggestions:{lightsOff:"Schalte alle Lichter aus",weather:"Wie ist das Wetter heute?",temperature:"Stelle die Heizung auf 22 Grad"},badges:{webSearch:"Web-Suche",location:"Standort",deviceControl:"Gertesteuerung",assistant:"Assistent"}},subcategories:{all:"Alle",favorites:"Favoriten",suggestions:"Vorschlge",lights:"Beleuchtung",switches:"Schalter",climate:"Klima",covers:"Rollden",media:"Medien",cleaning:"Reinigung",security:"Sicherheit",utilities:"Drucker",scripts:"Skripte",automations:"Automationen",scenes:"Szenen",temperature:"Temperatur",humidity:"Feuchtigkeit",motion:"Bewegung",door_window:"Tren & Fenster",energy:"Energie",light:"Licht",presence:"Prsenz",pressure:"Luftdruck",battery:"Batterie",air_quality:"Luftqualitt",other_sensors:"Sonstige",system:"System",apps:"Apps"},placeholders:{searchDevices:"Gerte",searchSensors:"Sensoren",searchActions:"Aktionen",searchCustom:"Benutzerdefiniert",search:"Suchen..."},categories:{devices:"Gerte",sensors:"Sensoren",actions:"Aktionen",custom:"Benutzerdefiniert"},viewModes:{grid:"Kacheln",list:"Liste"},filters:{categories:"Kategorien",areas:"Rume",types:"Typen",toggleFilter:"Filter ffnen/schlieen"},tooltips:{gridView:"Kachelansicht",listView:"Listenansicht",filterCategories:"Nach Kategorien filtern",filterAreas:"Nach Rumen filtern",filterTypes:"Nach Typen filtern",toggleFilter:"Filter ffnen/schlieen",controlsTab:"Steuerung",scheduleTab:"Zeitplan",historyTab:"Verlauf",contextTab:"Kontext",generalTab:"Allgemein",appearanceTab:"Darstellung",privacyTab:"Privatsphre",aboutTab:"ber"},actionButtons:{overview:"bersicht",settings:"Einstellungen",refresh:"Aktualisieren",back:"Zurck",add:"Hinzufgen",camera:"Kamera",image:"Bild",read:"Gelesen/Ungelesen",favorite:"Favorit"},general:{noRoom:"Kein Raum",favorites:"Favoriten"},suggestions:{highlyLikely:"Sehr wahrscheinlich",likely:"Wahrscheinlich",possible:"Mglich"},deviceNames:{settings:"Einstellungen",marketplace:"Marktplatz",weather:"Wetter",news:"Nachrichten",todos:"Aufgaben","all-schedules":"Zeitplne bersicht",pluginstore:"Plugin Store"},settings:{general:"ALLGEMEIN",appearance:"Darstellung",privacy:"Datenschutz",about:"ber",generalSettings:"Allgemeine Einstellungen",aiMode:"AI-Modus",aiModeDescription:"KI-Assistent fr erweiterte Suche und Steuerung aktivieren",animations:"Animationen",animationsDescription:"bergangseffekte und Animationen aktivieren",soundEffects:"Soundeffekte",soundEffectsDescription:"Akustische Rckmeldungen bei Aktionen",languageSettings:"Spracheinstellungen",appLanguage:"App-Sprache",appLanguageDescription:"Whle deine bevorzugte Sprache",currencySettings:"Whrungseinstellungen",appCurrency:"Whrung",appCurrencyDescription:"Whle deine bevorzugte Whrung",notifications:"Benachrichtigungen",pushNotifications:"Push-Benachrichtigungen",pushNotificationsDescription:"Erhalte Benachrichtigungen ber wichtige Ereignisse",design:"Design",backgroundMode:"Hintergrund-Modus",backgroundModeDescription:"Overlay anpassen fr besseren Fokus",automatic:"Automatisch",light:"Hell",dark:"Dunkel",background:"Hintergrund",backgroundDescription:"Filter und Effekte anpassen",gridColumns:"Rasterspalten",gridColumnsDescription:"Anzahl der Gertekarten pro Zeile",fourColumns:"4 Spalten",fourColumnsDescription:"Standard-Layout - mehr Platz pro Karte",fiveColumns:"5 Spalten",fiveColumnsDescription:"Kompaktes Layout - mehr Karten auf einen Blick",columnsCount:"{count} Spalten",gridColumnsFooter:"Diese Einstellung gilt nur fr die Desktop-Ansicht (ab 1024px Bildschirmbreite).",cardShape:"Kartenform",cardShapeDescription:"Ecken-Rundung der Gertekarten",squircleStandard:"Standard",squircleStandardDescription:"Klassische abgerundete Ecken",squircleProminent:"Ausgeprgt",squircleProminentDescription:"Starke, markante Kurvenform",squircleBalanced:"Ausgewogen",squircleBalancedDescription:"Ausgewogene organische Kurven",squircleSubtle:"Dezent",squircleSubtleDescription:"Zarte weiche Kurven",squircleFooter:"Squircles sind organischere Kurven als normale Rundungen - je strker, desto mehr weichen sie vom Kreis ab.",customized:"Angepasst",brightness:"Helligkeit",brightnessLabel:"Deckkraft",brightnessFooter:"Steuert die Helligkeit des Hintergrundbildes (100% = Original, 0% = Schwarz)",blur:"Unschrfe",blurLabel:"Weichzeichner",blurFooter:"Wendet einen weichen Unschrfe-Effekt auf den Hintergrund an (0px = Scharf, 50px = Sehr unscharf)",contrast:"Kontrast",contrastLabel:"Kontrast",contrastFooter:"Kontrast-Anpassung (100% = Original, 0% = Grau, 200% = Maximum)",saturation:"Sttigung",saturationLabel:"Sttigung",saturationFooter:"Farbintensitt (100% = Original, 0% = Graustufen, 200% = bersttigt)",grayscale:"Graustufen",grayscaleLabel:"Schwarz & Wei",grayscaleFooter:"Schwarz-Wei-Effekt (0% = Farbe, 100% = Vollstndig Schwarz & Wei)",detailViewVideos:"Detail-Ansicht Videos",detailViewVideosDescription:"Hintergrund-Videos in der Detail-Ansicht",enableVideos:"Videos aktivieren",enableVideosDescription:"Hintergrund-Videos in der Detail-Ansicht anzeigen",onMobile:"Auf mobilen Gerten",onMobileDescription:"Videos auch auf Smartphones/Tablets anzeigen",videoFolder:"Video-Ordner",path:"Pfad",videoFiles:"Video-Dateien",videoFooter:"Videos im Home Assistant www-Ordner platzieren: config/www/fast-search-videos/",videoNamingScheme:"Namensschema:",videoExamples:"Beispiele:",videoNote:"Hinweis:",videoNoteDescription:"Videos werden einmalig abgespielt, wenn die Detail-Ansicht geffnet wird. Das letzte Frame bleibt sichtbar. Default_1.mp4 bis default_10.mp4 knnen als Platzhalter verwendet werden (zufllige Auswahl).",back:"Zurck",active:"Aktiv",inactive:"Inaktiv",standard:"Standard",privacySecurity:"Datenschutz & Sicherheit",clearCache:"Cache leeren",clearCacheConfirm:"Cache wirklich lschen?",clearCacheSuccess:"Cache erfolgreich gelscht",resetData:"Daten zurcksetzen",resetDataWarning:"ACHTUNG: Alle Daten werden gelscht. Fortfahren?",resetDataConfirm:"Wirklich ALLE Einstellungen und Daten zurcksetzen?",privacySecure:"Ihre Daten sind sicher",privacyLocalOnly:"Alle Berechnungen erfolgen lokal. Keine Daten verlassen Ihr Gert.",intelligentSuggestions:"Intelligente Vorschlge",predictiveSuggestions:"VORSCHLGE AKTIVIEREN",predictiveSuggestionsDesc:"Lernt Ihre Nutzungsmuster und schlgt Gerte vor",enableSuggestions:"Vorschlge aktivieren",enableSuggestionsDescription:"KI-Assistent fr erweiterte Suche und Steuerung aktivieren",confidenceThreshold:"Confidence-Schwellenwert",confidenceThresholdLabel:"Confidence-Schwellenwert",confidenceThresholdDescription:"Mindest-Wahrscheinlichkeit fr Vorschlge",confidenceThresholdCurrent:"Aktuell: {value}%",confidenceThresholdDesc:"Mindest-Wahrscheinlichkeit fr Vorschlge",timeWindow:"Zeitfenster",timeWindowLabel:"Zeitfenster",timeWindowDescription:"Zeitraum um die aktuelle Uhrzeit fr Vorschlge",timeWindowCurrent:"Aktuell: {value} Minuten",timeWindowDesc:"Zeitraum um die aktuelle Uhrzeit fr Vorschlge",maxSuggestions:"Maximale Anzahl",maxSuggestionsLabel:"Maximale Anzahl",maxSuggestionsDescription:"Maximale Anzahl der angezeigten Vorschlge",maxSuggestionsShow:"Zeige {value} Vorschlge",maxSuggestionsDesc:"Maximale Anzahl der angezeigten Vorschlge",learningSpeed:"Lern-Geschwindigkeit",learningSpeedDescription:"Wie schnell sich das System an neue Muster anpasst",learningRate:"Lern-Geschwindigkeit",learningRateDesc:"Wie schnell sich das System an neue Muster anpasst",slow:"Langsam",normal:"Normal",fast:"Schnell",learningRateSlow:"Langsam",learningRateNormal:"Normal",learningRateFast:"Schnell",privacyTitle:"Ihre Daten sind sicher",privacyDesc:"Alle Berechnungen erfolgen lokal. Keine Daten verlassen Ihr Gert.",cacheCleared:"Gelscht",statsBar:"StatsBar",settings:"Einstellungen",widgets:"Widgets",widgetsDescription:"Verfgbare Widgets verwalten",dataSources:"Datenquellen",dataSourcesDescription:"Energie-Sensoren konfigurieren",aboutStatsBar:"BER STATSBAR",statsBarDescription:"Die StatsBar zeigt wichtige Informationen wie Wetter, Energieverbrauch und Uhrzeit dauerhaft oberhalb des Suchfeldes an.",features:"Features:",liveUpdates:"Live-Updates",energyDashboardIntegration:"Energy Dashboard Integration",customizableWidgets:"Anpassbare Widgets",availableWidgets:"Verfgbare Widgets",weatherWidget:"Wetter (Temperatur & Icon)",weatherWidgetDescription:"Temperatur & Icon",energyGridConsumptionWidget:"Leistung (Netzbezug)",energyGridConsumptionDescription:"Aktueller Netzbezug",energyGridReturnWidget:"Leistung (Einspeisung)",energyGridReturnDescription:"Rckspeisung ins Netz",solarProductionWidget:"PV Leistung",solarProductionDescription:"Aktuelle PV-Erzeugung",notificationsWidget:"Benachrichtigungen (mit Zhler)",notificationsWidgetDescription:"Zhler anzeigen",timeWidget:"Uhrzeit (live)",timeWidgetDescription:"Live-Update",consumptionWidget:"Verbrauch",consumptionDescription:"Aktueller Hausverbrauch",todayConsumptionWidget:"Bisheriger Verbrauch heute",todayConsumptionDescription:"Tagesverbrauch in kWh",todayCostWidget:"Heutige Kosten",todayCostDescription:"Kosten basierend auf Energiepreis",widgetsFooter:"Widgets werden in der StatsBar rechts angezeigt",detectionMode:"Erkennungsmodus",autoDetection:"Automatische Erkennung",detectionRunning:"Erkennung luft...",energyDashboardFound:"Energy Dashboard gefunden",patternBasedDetection:"Muster-basierte Erkennung",noSensorsDetected:"Keine Sensoren erkannt",detectionError:"Fehler bei Erkennung",notChecked:"Nicht geprft",startDetection:"Erkennung starten",redetectSensors:"Sensoren neu erkennen",searchRunning:"Suche luft...",autoDetectionInfo:"Sensoren werden aus dem Energy Dashboard oder durch Muster erkannt",manualConfigInfo:"Manuelle Konfiguration: Gib die Entity IDs selbst ein",gridPowerConsumption:"Leistung (Netzbezug)",gridPowerReturn:"Leistung (Einspeisung)",pvPower:"PV Leistung",homeConsumption:"Verbrauch",configuredSensors:"Konfigurierte Sensoren",gridConsumption:"Netzbezug",gridReturn:"Einspeisung",solar:"Solar",battery:"Batterie",notConfigured:"Nicht konfiguriert",sensorStatusLegend:" Konfiguriert |  Nicht gefunden | -- Nicht konfiguriert",energyPriceConfig:"Energiepreis",energyPriceLabel:"Preis pro kWh",energyPriceDescription:"Strompreis fr Kostenberechnung",energyPriceFooter:"Dieser Preis wird verwendet, um die tglichen Kosten zu berechnen",manualConfiguration:"Manuelle Konfiguration",manualConfigDescription:"Whle die Sensor-Entity IDs manuell aus. Tipp: Die Entity-Auswahl wird in einer zuknftigen Version hinzugefgt.",gridConsumptionEntityLabel:"Netzbezug Entity ID",gridReturnEntityLabel:"Einspeisung Entity ID",solarEntityLabel:"Solar Entity ID",batteryEntityLabel:"Batterie Entity ID",aboutDataSources:"ber Datenquellen",autoDetectionDescription:`Automatische Erkennung:
1. Energy Dashboard - Nutzt die konfigurierten Energie-Sensoren
2. Muster-basiert - Sucht nach Sensoren mit blichen Namen

Manuelle Konfiguration:
Gib die Entity IDs deiner Energie-Sensoren direkt ein. Diese werden fr die StatsBar Widgets verwendet.`,systemSettings:"Systemeinstellungen",maxEntities:"Maximale Anzahl Entities",maxEntitiesDescription:"{count} Entities laden (0 = Unbegrenzt)",maxEntitiesUnlimited:"Unbegrenzte Entities laden (0 = Unbegrenzt)",onlyEntitiesWithArea:"Nur Entities mit Bereich laden",onlyEntitiesWithAreaDescription:"Filtert Entities ohne Bereichszuweisung heraus (Permanent aktiviert)",excludedPatterns:"Ausschlussmuster",excludedPatternsDescription:"Definiere Muster um bestimmte Entities von der Suche auszuschlieen. Verwende Wildcards:",wildcardAny:"beliebige Zeichen (z.B.",wildcardAnySuffix:"fr alle Sensoren)",wildcardSingle:"ein einzelnes Zeichen",examples:"Beispiele:",patternPlaceholder:"z.B. sensor.temp_*",addPattern:"+ Hinzufgen",activePatterns:"Aktive Muster ({count})",removePattern:"Muster entfernen",noPatternsYet:"Keine Muster definiert. Alle Entities werden angezeigt.",statusAndGreetings:"STATUS & BEGRSSUNG",statsBarLabel:"StatsBar",statsBarDescription:"Statusleiste mit Widgets anzeigen",greetingsBarLabel:"GreetingsBar",greetingsBarDescription:"Begrung anzeigen",showStatsBar:"StatsBar anzeigen",showStatsBarDescription:"Statusleiste oberhalb des Suchfeldes",username:"Benutzername",usernamePlaceholder:"Benutzername eingeben",usernameFooter:"Der Benutzername wird in der StatsBar links angezeigt",widgets:"Widgets",fixedWidgets:"Feste Widgets:",weatherWidget:"Wetter (Temperatur & Icon)",energyWidget:"Energieverbrauch",notificationsWidget:"Benachrichtigungen (mit Zhler)",timeWidget:"Uhrzeit (live)",statsBarNote:"Die StatsBar bleibt immer sichtbar, auch wenn das Panel geffnet ist.",namingScheme:"Namensschema:",namingSchemeNote:"Videos werden einmalig abgespielt wenn die Detail-Ansicht geffnet wird. Das letzte Frame bleibt sichtbar. Als Platzhalter knnen default_1.mp4 bis default_10.mp4 verwendet werden (zufllige Auswahl).",suggestions:"Vorschlge",aboutCard:"ber Fast Search Card",version:"Version",build:"Build",developer:"Entwickler",license:"Lizenz"},schedule:{all:"Alle",timer:"Timer",schedules:"Zeitplne",turnOn:"Einschalten",turnOff:"Ausschalten",open:"ffnen",close:"Schlieen",setPosition:"Position setzen",position:"Position",timerMode:"Timer",scheduleMode:"Zeitplan",timeFormat:"Zeitanzeige",format24h:"24h",formatAM:"AM",formatPM:"PM",days:"Tage",monday:"Mo",tuesday:"Di",wednesday:"Mi",thursday:"Do",friday:"Fr",saturday:"Sa",sunday:"So",daily:"Tglich",weekdays:"Mo-Fr",weekend:"Sa, So",noDays:"Keine",selectDay:"Auswhlen",deselectDay:"Abwhlen",repeat:"Wiederholung",regular:"Regelmig",once:"Einmalig",add:"Neu",cancel:"Abbrechen",confirm:"Jetzt erstellen",save:"Speichern",action:"Aktion",scheduler:"Scheduler",atTime:"Um",remaining:"Noch",minutes:"Min",noTimers:"Keine Timer",noSchedules:"Keine Zeitplne",noEntries:"Keine Eintrge",timerName:"Timer",scheduleName:"Zeitplan",morningRoutine:"Morgenroutine",evening:"Abends"},climate:{temperature:"Temperatur",hvacMode:"HVAC-Modus",fanMode:"Lftermodus",swingMode:"Schwenkmodus",presetMode:"Voreinstellung",off:"Aus",heat:"Heizen",cool:"Khlen",heatCool:"Auto",auto:"Automatisch",dry:"Entfeuchten",fanOnly:"Nur Lfter",low:"Niedrig",medium:"Mittel",high:"Hoch",quiet:"Leise",turbo:"Turbo",vertical:"Vertikal",horizontal:"Horizontal",both:"Beide",none:"Keine",away:"Abwesend",home:"Zuhause",eco:"Eco",boost:"Boost",comfort:"Komfort",sleep:"Schlaf"},context:{tabActions:"Aktionen",tabFavorites:"Favoriten",tabEnvironment:"Umgebung",loading:"Lade Umgebung...",noFavorites:"Keine Favoriten markiert",noEnvironment:"Keine verwandten Gerte gefunden",noActions:"Keine Aktionen gefunden"}},states:{on:"Ein",off:"Aus",home:"Zuhause",not_home:"Abwesend",unknown:"Unbekannt",unavailable:"Nicht verfgbar",heat:"Heizen",cool:"Khlen",heat_cool:"Auto",dry:"Entfeuchten",fan_only:"Nur Lfter",auto:"Automatisch",open:"Offen",closed:"Geschlossen",opening:"ffnet",closing:"Schliet",stopped:"Gestoppt",locked:"Verriegelt",unlocked:"Entriegelt",locking:"Verriegelt...",unlocking:"Entriegelt...",jammed:"Verklemmt",disarmed:"Deaktiviert",armed_home:"Zuhause scharf",armed_away:"Abwesend scharf",armed_night:"Nacht scharf",armed_vacation:"Urlaub scharf",armed_custom_bypass:"Teilscharf",pending:"Aktiviert...",triggered:"Ausgelst",arming:"Wird scharf...",playing:"Wiedergabe",paused:"Pausiert",idle:"Bereit",standby:"Standby",buffering:"Puffert",docked:"Ladestation",cleaning:"Reinigt",returning:"Kehrt zurck",error:"Fehler","clear-night":"Klare Nacht",cloudy:"Bewlkt",fog:"Neblig",hail:"Hagel",lightning:"Gewitter","lightning-rainy":"Gewitterregen",partlycloudy:"Teilweise bewlkt",pouring:"Starkregen",rainy:"Regnerisch",snowy:"Schnee","snowy-rainy":"Schneeregen",sunny:"Sonnig",windy:"Windig","windy-variant":"Windig",exceptional:"Auergewhnlich",recording:"Aufnahme",streaming:"Streaming",active:"Aktiv",scening:"Szene"},deviceClasses:{battery:{on:"Niedrig",off:"Normal"},battery_charging:{on:"Ldt",off:"Ldt nicht"},cold:{on:"Kalt",off:"Normal"},connectivity:{on:"Verbunden",off:"Getrennt"},door:{on:"Offen",off:"Geschlossen"},garage_door:{on:"Offen",off:"Geschlossen"},gas:{on:"Gas erkannt",off:"Kein Gas"},heat:{on:"Hei",off:"Normal"},light:{on:"Licht erkannt",off:"Dunkel"},lock:{on:"Entriegelt",off:"Verriegelt"},moisture:{on:"Feucht",off:"Trocken"},motion:{on:"Bewegung",off:"Keine Bewegung"},moving:{on:"Bewegt sich",off:"Stillstand"},occupancy:{on:"Belegt",off:"Frei"},opening:{on:"Offen",off:"Geschlossen"},plug:{on:"Eingesteckt",off:"Ausgesteckt"},power:{on:"Ein",off:"Aus"},presence:{on:"Anwesend",off:"Abwesend"},problem:{on:"Problem",off:"OK"},running:{on:"Luft",off:"Gestoppt"},safety:{on:"Unsicher",off:"Sicher"},smoke:{on:"Rauch erkannt",off:"Kein Rauch"},sound:{on:"Gerusch erkannt",off:"Still"},tamper:{on:"Manipulation",off:"OK"},update:{on:"Update verfgbar",off:"Aktuell"},vibration:{on:"Vibration",off:"Keine Vibration"},window:{on:"Offen",off:"Geschlossen"}},domains:{automation:"Automatisierung",binary_sensor:"Sensor",camera:"Kamera",climate:"Klima",cover:"Abdeckung",device_tracker:"Gert",fan:"Ventilator",input_boolean:"Schalter",input_number:"Nummer",light:"Licht",lock:"Schloss",media_player:"Media Player",person:"Person",scene:"Szene",script:"Skript",sensor:"Sensor",switch:"Schalter",timer:"Timer",vacuum:"Staubsauger",weather:"Wetter",alarm_control_panel:"Alarmanlage"},units:{"C":"C","F":"F","%":"%",W:"W",kW:"kW",kWh:"kWh",A:"A",V:"V","km/h":"km/h","m/s":"m/s",mm:"mm",hPa:"hPa",bar:"bar",lx:"lx",lm:"lm",dB:"dB",ppm:"ppm","g/m":"g/m"},advice:{temp_very_cold:"Sehr kalt",temp_cold:"Kalt",temp_cool:"Khl",temp_comfortable:"Angenehm",temp_warm:"Warm",temp_hot:"Hei",temp_very_hot:"Sehr hei",humidity_too_dry:"Zu trocken",humidity_dry:"Trocken",humidity_optimal:"Optimal",humidity_humid:"Feucht",humidity_too_humid:"Zu feucht",energy_none:"Keine Produktion",energy_low:"Geringer Ertrag",energy_medium:"Mittlerer Ertrag",energy_good:"Guter Ertrag",energy_excellent:"Sehr guter Ertrag",energy_consuming:"Verbrauch",air_excellent:"Sehr gut",air_good:"Gut",air_acceptable:"Akzeptabel",air_moderate:"Mig",air_poor:"Lften empfohlen",air_very_poor:"Dringend lften",battery_critical:"Kritisch niedrig",battery_low:"Niedrig",battery_medium:"Mittel",battery_good:"Gut",battery_full:"Voll",light_dark:"Dunkel",light_dim:"Dmmerig",light_moderate:"Mig hell",light_bright:"Hell",light_very_bright:"Sehr hell",pressure_low:"Tiefdruck",pressure_normal:"Normal",pressure_high:"Hochdruck",noise_quiet:"Ruhig",noise_moderate:"Mig",noise_loud:"Laut",noise_very_loud:"Sehr laut"},actions:{title:"Aktionen",execute:"Ausfhren",toggle:"Umschalten",noActions:"Keine Aktionen verfgbar",noRelevantActions:"Keine relevanten Aktionen fr dieses Gert",loading:"Lade Aktionen...",sceneActivated:"Szene aktiviert",scriptExecuted:"Skript ausgefhrt",automationOn:"Automation aktiviert",automationOff:"Automation deaktiviert",actionExecuted:"Aktion erfolgreich ausgefhrt",executionError:"Fehler beim Ausfhren der Aktion",loadingError:"Fehler beim Laden der Aktionen",noCallback:"Keine Callback-Funktion verfgbar",types:{scene:"Szene",script:"Skript",automation:"Automation"},relevance:{veryHigh:"Sehr relevant",high:"Relevant",medium:"Mig relevant",low:"Wenig relevant"},areas:{noRoom:"Kein Raum",house:"Haus",global:"Global"},states:{on:"EIN",off:"AUS",unknown:"Unbekannt"}}},Ax={ui:{common:{pleaseSelect:"Please select"},controls:{brightness:"Brightness",colorTemperature:"Color Temperature",color:"Color",effects:"Effects",hvac:"HVAC",fan:"Fan",preset:"Preset",swing:"Swing",play:"Play",pause:"Pause",previous:"Previous",next:"Next",source:"Source",open:"Open",stop:"Stop",close:"Close",position:"Position",speed:"Speed",volume:"Volume",targetTemperature:"Target Temperature",currentTemperature:"Current",control:"Control",production:"Production",consumption:"Consumption",battery:"Battery",printProgress:"Print Progress",sensor:"Sensor",sensors:"Sensors",diagnostics:"Diagnostics",misc:"Miscellaneous",controls:"Controls",temperature:"Temperature",humidity:"Humidity",power:"Power",energy:"Energy",co2:"CO",movement:"Motion",door:"Door",window:"Window",presence:"Presence",solar:"Solar",info:"Information",settings:"Settings",systemSettings:"System Settings",appearance:"Appearance",language:"Language",notifications:"Notifications",privacy:"Privacy",about:"About",theme:"Theme",darkMode:"Dark Mode",lightMode:"Light Mode",autoMode:"Automatic",security:"Security",lock:"Lock",unlock:"Unlock",locked:"Locked",unlocked:"Unlocked",activate:"Activate",run:"Run",disable:"Disable",enable:"Enable",trigger:"Trigger",scene:"Scene",script:"Script",automation:"Automation",veryWarm:"Very Warm",warm:"Warm",neutral:"Neutral",cold:"Cold",daylight:"Daylight",on:"On",off:"Off",active:"Active",inactive:"Inactive",since:"since",noRoom:"No Room",unknown:"Unknown",justNow:"just now",turned_on:"Turned on",turned_off:"Turned off",heating:"Heating",cooling:"Cooling",auto:"Auto",drying:"Drying",fanOnly:"Fan only",idle:"Idle",heatingTo:"Heating to",coolingTo:"Cooling to",maintaining:"Maintaining",eco:"Eco mode",comfort:"Comfort",boost:"Boost",veryCold:"Very cold",cold:"Cold",cool:"Cool",comfortable:"Comfortable",warm:"Warm",hot:"Hot",veryHot:"Very hot",veryDry:"Very dry",dry:"Dry",optimal:"Optimal",humid:"Humid",veryHumid:"Very humid",critical:"Critical",low:"Low",medium:"Medium",good:"Good",full:"Full",minimal:"Minimal",high:"High",veryHigh:"Very high",excellent:"Excellent",acceptable:"Acceptable",moderate:"Moderate",poor:"Poor"},search:{noResults:'No results for "{term}"',tryDifferent:"Try different search terms"},aiMode:{askAnything:"Ask Anything",subtitle:"Ask me anything about your Smart Home",thinking:"AI is thinking...",wasHelpful:"Was this helpful?",yes:"Yes",no:"No",followUp:"Ask a follow-up question...",suggestions:{lightsOff:"Turn off all lights",weather:"What's the weather today?",temperature:"Set temperature to 72F"},badges:{webSearch:"Web Search",location:"Location",deviceControl:"Device Control",assistant:"Assistant"}},subcategories:{all:"All",favorites:"Favorites",suggestions:"Suggestions",lights:"Lights",switches:"Switches",climate:"Climate",covers:"Covers",media:"Media",cleaning:"Cleaning",security:"Security",utilities:"Utilities",scripts:"Scripts",automations:"Automations",scenes:"Scenes",temperature:"Temperature",humidity:"Humidity",motion:"Motion",door_window:"Doors & Windows",energy:"Energy",light:"Light",presence:"Presence",pressure:"Pressure",battery:"Battery",air_quality:"Air Quality",other_sensors:"Other",system:"System",apps:"Apps"},placeholders:{searchDevices:"Devices",searchSensors:"Sensors",searchActions:"Actions",searchCustom:"Custom",search:"Search..."},categories:{devices:"Devices",sensors:"Sensors",actions:"Actions",custom:"Custom"},viewModes:{grid:"Grid",list:"List"},filters:{categories:"Categories",areas:"Areas",types:"Types",toggleFilter:"Toggle filters"},tooltips:{gridView:"Grid view",listView:"List view",filterCategories:"Filter by categories",filterAreas:"Filter by areas",filterTypes:"Filter by types",toggleFilter:"Toggle filters",controlsTab:"Controls",scheduleTab:"Schedule",historyTab:"History",contextTab:"Context",generalTab:"General",appearanceTab:"Appearance",privacyTab:"Privacy",aboutTab:"About"},actionButtons:{overview:"Overview",settings:"Settings",refresh:"Refresh",back:"Back",add:"Add",camera:"Camera",image:"Image",read:"Read/Unread",favorite:"Favorite"},general:{noRoom:"No Room",favorites:"Favorites"},deviceNames:{settings:"Settings",marketplace:"Marketplace",weather:"Weather",news:"News",todos:"Tasks","all-schedules":"Schedules Overview",pluginstore:"Plugin Store"},settings:{general:"GENERAL",appearance:"Appearance",privacy:"Privacy",about:"About",generalSettings:"General Settings",aiMode:"AI Mode",aiModeDescription:"Enable AI assistant for advanced search and control",animations:"Animations",animationsDescription:"Enable transition effects and animations",soundEffects:"Sound Effects",soundEffectsDescription:"Acoustic feedback for actions",languageSettings:"Language Settings",appLanguage:"App Language",appLanguageDescription:"Choose your preferred language",currencySettings:"Currency Settings",appCurrency:"Currency",appCurrencyDescription:"Choose your preferred currency",notifications:"Notifications",pushNotifications:"Push Notifications",pushNotificationsDescription:"Receive notifications about important events",design:"Design",backgroundMode:"Background Mode",backgroundModeDescription:"Adjust overlay for better focus",automatic:"Automatic",light:"Light",dark:"Dark",background:"Background",backgroundDescription:"Adjust filters and effects",gridColumns:"Grid Columns",gridColumnsDescription:"Number of device cards per row",fourColumns:"4 Columns",fourColumnsDescription:"Standard layout - more space per card",fiveColumns:"5 Columns",fiveColumnsDescription:"Compact layout - more cards at a glance",columnsCount:"{count} Columns",gridColumnsFooter:"This setting only applies to desktop view (from 1024px screen width).",cardShape:"Card Shape",cardShapeDescription:"Corner rounding of device cards",squircleStandard:"Standard",squircleStandardDescription:"Classic rounded corners",squircleProminent:"Prominent",squircleProminentDescription:"Strong, distinctive curve form",squircleBalanced:"Balanced",squircleBalancedDescription:"Balanced organic curves",squircleSubtle:"Subtle",squircleSubtleDescription:"Delicate soft curves",squircleFooter:"Squircles are more organic curves than normal rounding - the stronger, the more they deviate from the circle.",customized:"Customized",brightness:"Brightness",brightnessLabel:"Opacity",brightnessFooter:"Controls the brightness of the background image (100% = Original, 0% = Black)",blur:"Blur",blurLabel:"Blur",blurFooter:"Applies a soft blur to the background (0px = Sharp, 50px = Very blurred)",contrast:"Contrast",contrastLabel:"Contrast",contrastFooter:"Contrast adjustment (100% = Original, 0% = Gray, 200% = Maximum)",saturation:"Saturation",saturationLabel:"Saturation",saturationFooter:"Color intensity (100% = Original, 0% = Grayscale, 200% = Oversaturated)",grayscale:"Grayscale",grayscaleLabel:"Black & White",grayscaleFooter:"Black and white effect (0% = Color, 100% = Fully Black & White)",detailViewVideos:"Detail View Videos",detailViewVideosDescription:"Background videos in detail view",enableVideos:"Enable videos",enableVideosDescription:"Show background videos in detail view",onMobile:"On mobile devices",onMobileDescription:"Also show videos on smartphones/tablets",videoFolder:"Video Folder",path:"Path",videoFiles:"Video Files",videoFooter:"Place videos in Home Assistant www folder: config/www/fast-search-videos/",videoNamingScheme:"Naming Scheme:",videoExamples:"Examples:",videoNote:"Note:",videoNoteDescription:"Videos are played once when the detail view is opened. The last frame remains visible. Default_1.mp4 to default_10.mp4 can be used as placeholders (random selection).",back:"Back",active:"Active",inactive:"Inactive",standard:"Standard",privacySecurity:"Privacy & Security",clearCache:"Clear Cache",clearCacheConfirm:"Really clear cache?",clearCacheSuccess:"Cache successfully cleared",resetData:"Reset Data",resetDataWarning:"WARNING: All data will be deleted. Continue?",resetDataConfirm:"Really reset ALL settings and data?",privacySecure:"Your data is secure",privacyLocalOnly:"All calculations are performed locally. No data leaves your device.",intelligentSuggestions:"Intelligent Suggestions",predictiveSuggestions:"ENABLE SUGGESTIONS",predictiveSuggestionsDesc:"Learns your usage patterns and suggests devices",enableSuggestions:"Enable Suggestions",enableSuggestionsDescription:"AI assistant for enhanced search and control",confidenceThreshold:"Confidence Threshold",confidenceThresholdLabel:"Confidence Threshold",confidenceThresholdDescription:"Minimum probability for suggestions",confidenceThresholdCurrent:"Current: {value}%",confidenceThresholdDesc:"Minimum probability for suggestions",timeWindow:"Time Window",timeWindowLabel:"Time Window",timeWindowDescription:"Time range around current time for suggestions",timeWindowCurrent:"Current: {value} minutes",timeWindowDesc:"Time range around current time for suggestions",maxSuggestions:"Maximum Number",maxSuggestionsLabel:"Maximum Number",maxSuggestionsDescription:"Maximum number of displayed suggestions",maxSuggestionsShow:"Show {value} suggestions",maxSuggestionsDesc:"Maximum number of displayed suggestions",learningSpeed:"Learning Speed",learningSpeedDescription:"How quickly the system adapts to new patterns",learningRate:"Learning Speed",learningRateDesc:"How quickly the system adapts to new patterns",slow:"Slow",normal:"Normal",fast:"Fast",learningRateSlow:"Slow",learningRateNormal:"Normal",learningRateFast:"Fast",privacyTitle:"Your data is secure",privacyDesc:"All calculations are performed locally. No data leaves your device.",cacheCleared:"Cleared",statsBar:"StatsBar",settings:"Settings",widgets:"Widgets",widgetsDescription:"Manage available widgets",dataSources:"Data Sources",dataSourcesDescription:"Configure energy sensors",aboutStatsBar:"ABOUT STATSBAR",statsBarDescription:"The StatsBar displays important information like weather, energy consumption, and time permanently above the search field.",features:"Features:",liveUpdates:"Live Updates",energyDashboardIntegration:"Energy Dashboard Integration",customizableWidgets:"Customizable Widgets",availableWidgets:"Available Widgets",weatherWidget:"Weather (Temperature & Icon)",weatherWidgetDescription:"Temperature & Icon",energyGridConsumptionWidget:"Power (Grid Import)",energyGridConsumptionDescription:"Current grid import",energyGridReturnWidget:"Power (Grid Export)",energyGridReturnDescription:"Return to grid",solarProductionWidget:"PV Power",solarProductionDescription:"Current PV generation",notificationsWidget:"Notifications (with counter)",notificationsWidgetDescription:"Show counter",timeWidget:"Time (live)",timeWidgetDescription:"Live update",consumptionWidget:"Consumption",consumptionDescription:"Current home consumption",todayConsumptionWidget:"Today's Consumption",todayConsumptionDescription:"Daily consumption in kWh",todayCostWidget:"Today's Cost",todayCostDescription:"Cost based on energy price",widgetsFooter:"Widgets are displayed on the right side of the StatsBar",detectionMode:"Detection Mode",autoDetection:"Automatic Detection",detectionRunning:"Detection running...",energyDashboardFound:"Energy Dashboard found",patternBasedDetection:"Pattern-based detection",noSensorsDetected:"No sensors detected",detectionError:"Detection error",notChecked:"Not checked",startDetection:"Start Detection",redetectSensors:"Redetect sensors",searchRunning:"Search running...",autoDetectionInfo:"Sensors are detected from Energy Dashboard or by pattern",manualConfigInfo:"Manual configuration: Enter the entity IDs yourself",gridPowerConsumption:"Power (Grid Import)",gridPowerReturn:"Power (Grid Export)",pvPower:"PV Power",homeConsumption:"Consumption",configuredSensors:"Configured Sensors",gridConsumption:"Grid Import",gridReturn:"Grid Export",solar:"Solar",battery:"Battery",notConfigured:"Not configured",sensorStatusLegend:" Configured |  Not found | -- Not configured",energyPriceConfig:"Energy Price",energyPriceLabel:"Price per kWh",energyPriceDescription:"Electricity price for cost calculation",energyPriceFooter:"This price is used to calculate daily costs",manualConfiguration:"Manual Configuration",manualConfigDescription:"Select the sensor entity IDs manually. Tip: Entity selection will be added in a future version.",gridConsumptionEntityLabel:"Grid Import Entity ID",gridReturnEntityLabel:"Grid Export Entity ID",solarEntityLabel:"Solar Entity ID",batteryEntityLabel:"Battery Entity ID",aboutDataSources:"About Data Sources",autoDetectionDescription:`Automatic Detection:
1. Energy Dashboard - Uses configured energy sensors
2. Pattern-based - Searches for sensors with common names

Manual Configuration:
Enter the entity IDs of your energy sensors directly. These are used for the StatsBar widgets.`,systemSettings:"System Settings",maxEntities:"Maximum Number of Entities",maxEntitiesDescription:"{count} entities load (0 = Unlimited)",maxEntitiesUnlimited:"Unlimited entities load (0 = Unlimited)",onlyEntitiesWithArea:"Load only entities with area",onlyEntitiesWithAreaDescription:"Filters out entities without area assignment (Permanently enabled)",excludedPatterns:"Excluded Patterns",excludedPatternsDescription:"Define patterns to exclude specific entities from search. Use wildcards:",wildcardAny:"any characters (e.g.",wildcardAnySuffix:"for all sensors)",wildcardSingle:"a single character",examples:"Examples:",patternPlaceholder:"e.g. sensor.temp_*",addPattern:"+ Add",activePatterns:"Active Patterns ({count})",removePattern:"Remove pattern",noPatternsYet:"No patterns defined. All entities will be shown.",statusAndGreetings:"STATUS & GREETINGS",statsBarLabel:"StatsBar",statsBarDescription:"Show status bar with widgets",greetingsBarLabel:"GreetingsBar",greetingsBarDescription:"Show greeting",showStatsBar:"Show StatsBar",showStatsBarDescription:"Status bar above search field",username:"Username",usernamePlaceholder:"Enter username",usernameFooter:"The username is displayed on the left in the StatsBar",widgets:"Widgets",fixedWidgets:"Fixed Widgets:",weatherWidget:"Weather (Temperature & Icon)",energyWidget:"Energy consumption",notificationsWidget:"Notifications (with counter)",timeWidget:"Time (live)",statsBarNote:"The StatsBar remains visible even when the panel is open.",namingScheme:"Naming Scheme:",namingSchemeNote:"Videos are played once when the detail view is opened. The last frame remains visible. Placeholder videos default_1.mp4 to default_10.mp4 can be used (random selection).",suggestions:"Suggestions",aboutCard:"About Fast Search Card",version:"Version",build:"Build",developer:"Developer",license:"License"},schedule:{all:"All",timer:"Timer",schedules:"Schedules",turnOn:"Turn on",turnOff:"Turn off",open:"Open",close:"Close",setPosition:"Set position",position:"Position",timerMode:"Timer",scheduleMode:"Schedule",timeFormat:"Time Display",format24h:"24h",formatAM:"AM",formatPM:"PM",days:"Days",monday:"Mon",tuesday:"Tue",wednesday:"Wed",thursday:"Thu",friday:"Fri",saturday:"Sat",sunday:"Sun",daily:"Daily",weekdays:"Mon-Fri",weekend:"Sat, Sun",noDays:"None",selectDay:"Select",deselectDay:"Deselect",repeat:"Repeat",regular:"Regular",once:"Once",add:"New",cancel:"Cancel",confirm:"Create now",save:"Save",action:"Action",scheduler:"Scheduler",atTime:"At",remaining:"Remaining",minutes:"min",noTimers:"No timers",noSchedules:"No schedules",noEntries:"No entries",timerName:"Timer",scheduleName:"Schedule",morningRoutine:"Morning routine",evening:"Evening"},context:{tabActions:"Actions",tabFavorites:"Favorites",tabEnvironment:"Environment",loading:"Loading environment...",noFavorites:"No favorites marked",noEnvironment:"No related devices found",noActions:"No actions found"}},states:{on:"On",off:"Off",home:"Home",not_home:"Away",unknown:"Unknown",unavailable:"Unavailable",heat:"Heating",cool:"Cooling",heat_cool:"Auto",dry:"Drying",fan_only:"Fan only",auto:"Automatic",open:"Open",closed:"Closed",opening:"Opening",closing:"Closing",stopped:"Stopped",locked:"Locked",unlocked:"Unlocked",locking:"Locking...",unlocking:"Unlocking...",jammed:"Jammed",disarmed:"Disarmed",armed_home:"Armed Home",armed_away:"Armed Away",armed_night:"Armed Night",armed_vacation:"Armed Vacation",armed_custom_bypass:"Armed Custom",pending:"Pending...",triggered:"Triggered",arming:"Arming...",playing:"Playing",paused:"Paused",idle:"Idle",standby:"Standby",buffering:"Buffering",docked:"Docked",cleaning:"Cleaning",returning:"Returning",error:"Error","clear-night":"Clear Night",cloudy:"Cloudy",fog:"Foggy",hail:"Hail",lightning:"Lightning","lightning-rainy":"Lightning Rain",partlycloudy:"Partly Cloudy",pouring:"Heavy Rain",rainy:"Rainy",snowy:"Snowy","snowy-rainy":"Sleet",sunny:"Sunny",windy:"Windy","windy-variant":"Windy",exceptional:"Exceptional",recording:"Recording",streaming:"Streaming",active:"Active",scening:"Scene"},deviceClasses:{battery:{on:"Low",off:"Normal"},battery_charging:{on:"Charging",off:"Not charging"},cold:{on:"Cold",off:"Normal"},connectivity:{on:"Connected",off:"Disconnected"},door:{on:"Open",off:"Closed"},garage_door:{on:"Open",off:"Closed"},gas:{on:"Gas detected",off:"Clear"},heat:{on:"Hot",off:"Normal"},light:{on:"Light detected",off:"Dark"},lock:{on:"Unlocked",off:"Locked"},moisture:{on:"Wet",off:"Dry"},motion:{on:"Motion detected",off:"No motion"},moving:{on:"Moving",off:"Stopped"},occupancy:{on:"Occupied",off:"Clear"},opening:{on:"Open",off:"Closed"},plug:{on:"Plugged in",off:"Unplugged"},power:{on:"On",off:"Off"},presence:{on:"Present",off:"Away"},problem:{on:"Problem",off:"OK"},running:{on:"Running",off:"Stopped"},safety:{on:"Unsafe",off:"Safe"},smoke:{on:"Smoke detected",off:"Clear"},sound:{on:"Sound detected",off:"Quiet"},tamper:{on:"Tampered",off:"OK"},update:{on:"Update available",off:"Up to date"},vibration:{on:"Vibration",off:"No vibration"},window:{on:"Open",off:"Closed"}},domains:{automation:"Automation",binary_sensor:"Sensor",camera:"Camera",climate:"Climate",cover:"Cover",device_tracker:"Device",fan:"Fan",input_boolean:"Switch",input_number:"Number",light:"Light",lock:"Lock",media_player:"Media Player",person:"Person",scene:"Scene",script:"Script",sensor:"Sensor",switch:"Switch",timer:"Timer",vacuum:"Vacuum",weather:"Weather",alarm_control_panel:"Alarm"},units:{"C":"C","F":"F","%":"%",W:"W",kW:"kW",kWh:"kWh",A:"A",V:"V","km/h":"km/h",mph:"mph","m/s":"m/s",mm:"mm",in:"in",hPa:"hPa",bar:"bar",lx:"lx",lm:"lm",dB:"dB",ppm:"ppm","g/m":"g/m"},advice:{temp_very_cold:"Very cold",temp_cold:"Cold",temp_cool:"Cool",temp_comfortable:"Comfortable",temp_warm:"Warm",temp_hot:"Hot",temp_very_hot:"Very hot",humidity_too_dry:"Too dry",humidity_dry:"Dry",humidity_optimal:"Optimal",humidity_humid:"Humid",humidity_too_humid:"Too humid",energy_none:"No production",energy_low:"Low yield",energy_medium:"Medium yield",energy_good:"Good yield",energy_excellent:"Excellent yield",energy_consuming:"Consuming",air_excellent:"Excellent",air_good:"Good",air_acceptable:"Acceptable",air_moderate:"Moderate",air_poor:"Ventilate",air_very_poor:"Ventilate now",battery_critical:"Critical",battery_low:"Low",battery_medium:"Medium",battery_good:"Good",battery_full:"Full",light_dark:"Dark",light_dim:"Dim",light_moderate:"Moderate",light_bright:"Bright",light_very_bright:"Very bright",pressure_low:"Low pressure",pressure_normal:"Normal",pressure_high:"High pressure",noise_quiet:"Quiet",noise_moderate:"Moderate",noise_loud:"Loud",noise_very_loud:"Very loud"},actions:{title:"Actions",execute:"Execute",toggle:"Toggle",noActions:"No actions available",noRelevantActions:"No relevant actions for this device",loading:"Loading actions...",sceneActivated:"Scene activated",scriptExecuted:"Script executed",automationOn:"Automation enabled",automationOff:"Automation disabled",actionExecuted:"Action executed successfully",executionError:"Error executing action",loadingError:"Error loading actions",noCallback:"No callback function available",types:{scene:"Scene",script:"Script",automation:"Automation"},relevance:{veryHigh:"Very relevant",high:"Relevant",medium:"Moderately relevant",low:"Less relevant"},areas:{noRoom:"No Room",house:"House",global:"Global"},states:{on:"ON",off:"OFF",unknown:"Unknown"}}},Dx={ui:{common:{pleaseSelect:"Veuillez slectionner"},controls:{brightness:"Luminosit",colorTemperature:"Temprature de couleur",color:"Couleur",effects:"Effets",hvac:"CVC",fan:"Ventilateur",preset:"Prrglage",swing:"Oscillation",play:"Lecture",pause:"Pause",previous:"Prcdent",next:"Suivant",source:"Source",open:"Ouvrir",stop:"Arrt",close:"Fermer",position:"Position",speed:"Vitesse",volume:"Volume",targetTemperature:"Temprature cible",currentTemperature:"Actuelle",control:"Contrle",production:"Production",consumption:"Consommation",battery:"Batterie",sensor:"Capteur",temperature:"Temprature",humidity:"Humidit",power:"Puissance",energy:"nergie",co2:"CO",movement:"Mouvement",door:"Porte",window:"Fentre",presence:"Prsence",solar:"Solaire",info:"Information",settings:"Paramtres",systemSettings:"Paramtres systme",appearance:"Apparence",language:"Langue",notifications:"Notifications",privacy:"Confidentialit",about:" propos",theme:"Thme",darkMode:"Mode sombre",lightMode:"Mode clair",autoMode:"Automatique",security:"Scurit",lock:"Verrouiller",unlock:"Dverrouiller",locked:"Verrouill",unlocked:"Dverrouill",activate:"Activer",run:"Excuter",disable:"Dsactiver",enable:"Activer",trigger:"Dclencher",scene:"Scne",script:"Script",automation:"Automatisation",veryWarm:"Trs chaud",warm:"Chaud",neutral:"Neutre",cold:"Froid",daylight:"Lumire du jour",on:"Allum",off:"teint",active:"Actif",inactive:"Inactif",since:"depuis",noRoom:"Aucune pice",unknown:"Inconnu",justNow:" l'instant",turned_on:"Allum",turned_off:"teint",heating:"Chauffage",cooling:"Refroidissement",auto:"Auto",drying:"Dshumidification",fanOnly:"Ventilateur seulement",idle:"En attente",heatingTo:"Chauffage ",coolingTo:"Refroidissement ",maintaining:"Maintien",eco:"Mode co",comfort:"Confort",boost:"Boost",veryCold:"Trs froid",cold:"Froid",cool:"Frais",comfortable:"Confortable",warm:"Chaud",hot:"Trs chaud",veryHot:"Extrmement chaud",veryDry:"Trs sec",dry:"Sec",optimal:"Optimal",humid:"Humide",veryHumid:"Trs humide",critical:"Critique",low:"Bas",medium:"Moyen",good:"Bon",full:"Plein",minimal:"Minimal",high:"lev",veryHigh:"Trs lev",excellent:"Excellent",acceptable:"Acceptable",moderate:"Modr",poor:"Mauvais"},search:{noResults:"Aucun rsultat pour",tryDifferent:"Essayez avec d'autres termes"},aiMode:{askAnything:"Demandez tout",subtitle:"Posez-moi toutes vos questions sur votre maison intelligente",thinking:"L'IA rflchit...",wasHelpful:"Cela vous a-t-il aid ?",yes:"Oui",no:"Non",followUp:"Posez une question de suivi...",suggestions:{lightsOff:"teindre toutes les lumires",weather:"Quel temps fait-il aujourd'hui ?",temperature:"Rgler la temprature  22C"},badges:{webSearch:"Recherche Web",location:"Localisation",deviceControl:"Contrle des appareils",assistant:"Assistant"}},subcategories:{all:"Tous",lights:"clairage",switches:"Interrupteurs",climate:"Climat",covers:"Volets",media:"Mdias",cleaning:"Nettoyage",security:"Scurit",utilities:"Appareils",scripts:"Scripts",automations:"Automatisations",scenes:"Scnes",temperature:"Temprature",humidity:"Humidit",motion:"Mouvement",door_window:"Portes & Fentres",energy:"nergie",light:"Lumire",presence:"Prsence",pressure:"Pression",battery:"Batterie",air_quality:"Qualit de l'air",other_sensors:"Autres",system:"Systme",apps:"Applications"},placeholders:{searchDevices:"Appareils",searchSensors:"Capteurs",searchActions:"Actions",searchCustom:"Personnalis",search:"Rechercher..."},categories:{devices:"Appareils",sensors:"Capteurs",actions:"Actions",custom:"Personnalis"},viewModes:{grid:"Grille",list:"Liste"},filters:{categories:"Catgories",areas:"Pices",types:"Types"},general:{noRoom:"Aucune pice"},deviceNames:{settings:"Paramtres",marketplace:"Boutique"},settings:{general:"Gnral",appearance:"Apparence",privacy:"Confidentialit",about:" propos",generalSettings:"Paramtres gnraux",aiMode:"Mode IA",aiModeDescription:"Activer l'assistant IA pour recherche et contrle avancs",animations:"Animations",animationsDescription:"Activer les effets de transition et animations",soundEffects:"Effets sonores",soundEffectsDescription:"Retour acoustique pour les actions",languageSettings:"Paramtres de langue",appLanguage:"Langue de l'application",appLanguageDescription:"Choisissez votre langue prfre",notifications:"Notifications",pushNotifications:"Notifications push",pushNotificationsDescription:"Recevoir des notifications sur les vnements importants",design:"Design",backgroundMode:"Mode d'arrire-plan",backgroundModeDescription:"Ajuster la superposition pour une meilleure concentration",automatic:"Automatique",light:"Clair",dark:"Sombre",background:"Arrire-plan",privacySecurity:"Confidentialit et scurit",clearCache:"Vider le cache",resetData:"Rinitialiser les donnes",aboutCard:" propos de Fast Search Card",version:"Version",build:"Build",developer:"Dveloppeur",license:"Licence"},schedule:{all:"Tous",timer:"Minuteur",schedules:"Horaires",turnOn:"Allumer",turnOff:"teindre",timerMode:"Minuteur",scheduleMode:"Horaire",timeFormat:"Format horaire",format24h:"24h",formatAM:"AM",formatPM:"PM",days:"Jours",monday:"Lun",tuesday:"Mar",wednesday:"Mer",thursday:"Jeu",friday:"Ven",saturday:"Sam",sunday:"Dim",daily:"Quotidien",weekdays:"Lun-Ven",weekend:"Sam, Dim",noDays:"Aucun",selectDay:"Slectionner",deselectDay:"Dslectionner",repeat:"Rptition",regular:"Rgulier",once:"Une fois",add:"Nouveau",cancel:"Annuler",confirm:"Crer maintenant",save:"Enregistrer",action:"Action",scheduler:"Planificateur",atTime:"",remaining:"Restant",minutes:"min",noTimers:"Aucun minuteur",noSchedules:"Aucun horaire",noEntries:"Aucune entre",timerName:"Minuteur",scheduleName:"Horaire",morningRoutine:"Routine matinale",evening:"Soir"},context:{tabActions:"Actions",tabFavorites:"Favoris",tabEnvironment:"Environnement",loading:"Chargement de l'environnement...",noFavorites:"Aucun favori marqu",noEnvironment:"Aucun appareil associ trouv",noActions:"Aucune action trouve"}},states:{on:"Allum",off:"teint",home:"Maison",not_home:"Absent",heat:"Chauffage",cool:"Refroidissement",unknown:"Inconnu",unavailable:"Indisponible"},deviceClasses:{motion:{on:"Mouvement dtect",off:"Pas de mouvement"},door:{on:"Ouvert",off:"Ferm"},window:{on:"Ouvert",off:"Ferm"}},domains:{light:"Lumire",switch:"Interrupteur",sensor:"Capteur",climate:"Climat"}},Fx={ui:{common:{pleaseSelect:"Por favor seleccione"},controls:{brightness:"Brillo",colorTemperature:"Temperatura de color",color:"Color",effects:"Efectos",hvac:"HVAC",fan:"Ventilador",preset:"Preajuste",swing:"Oscilacin",play:"Reproducir",pause:"Pausar",previous:"Anterior",next:"Siguiente",source:"Fuente",open:"Abrir",stop:"Detener",close:"Cerrar",position:"Posicin",speed:"Velocidad",volume:"Volumen",targetTemperature:"Temperatura objetivo",currentTemperature:"Actual",control:"Control",production:"Produccin",consumption:"Consumo",battery:"Batera",sensor:"Sensor",temperature:"Temperatura",humidity:"Humedad",power:"Potencia",energy:"Energa",co2:"CO",movement:"Movimiento",door:"Puerta",window:"Ventana",presence:"Presencia",solar:"Solar",info:"Informacin",settings:"Configuracin",systemSettings:"Configuracin del sistema",appearance:"Apariencia",language:"Idioma",notifications:"Notificaciones",privacy:"Privacidad",about:"Acerca de",theme:"Tema",darkMode:"Modo oscuro",lightMode:"Modo claro",autoMode:"Automtico",security:"Seguridad",lock:"Bloquear",unlock:"Desbloquear",locked:"Bloqueado",unlocked:"Desbloqueado",activate:"Activar",run:"Ejecutar",disable:"Desactivar",enable:"Activar",trigger:"Disparar",scene:"Escena",script:"Script",automation:"Automatizacin",veryWarm:"Muy clido",warm:"Clido",neutral:"Neutro",cold:"Fro",daylight:"Luz del da",on:"Encendido",off:"Apagado",active:"Activo",inactive:"Inactivo",since:"desde",noRoom:"Sin habitacin",unknown:"Desconocido",justNow:"justo ahora",turned_on:"Encendido",turned_off:"Apagado",heating:"Calefaccin",cooling:"Refrigeracin",auto:"Auto",drying:"Deshumidificacin",fanOnly:"Solo ventilador",idle:"En espera",heatingTo:"Calentando a",coolingTo:"Enfriando a",maintaining:"Manteniendo",eco:"Modo eco",comfort:"Confort",boost:"Boost",veryCold:"Muy fro",cold:"Fro",cool:"Fresco",comfortable:"Confortable",warm:"Clido",hot:"Caliente",veryHot:"Muy caliente",veryDry:"Muy seco",dry:"Seco",optimal:"ptimo",humid:"Hmedo",veryHumid:"Muy hmedo",critical:"Crtico",low:"Bajo",medium:"Medio",good:"Bueno",full:"Lleno",minimal:"Mnimo",high:"Alto",veryHigh:"Muy alto",excellent:"Excelente",acceptable:"Aceptable",moderate:"Moderado",poor:"Pobre"},search:{noResults:"Sin resultados para",tryDifferent:"Prueba con otros trminos"},aiMode:{askAnything:"Pregunta lo que sea",subtitle:"Pregntame cualquier cosa sobre tu hogar inteligente",thinking:"La IA est pensando...",wasHelpful:"Te fue til?",yes:"S",no:"No",followUp:"Haz una pregunta de seguimiento...",suggestions:{lightsOff:"Apagar todas las luces",weather:"Cmo est el tiempo hoy?",temperature:"Ajustar temperatura a 22C"},badges:{webSearch:"Bsqueda web",location:"Ubicacin",deviceControl:"Control de dispositivos",assistant:"Asistente"}},subcategories:{all:"Todos",lights:"Iluminacin",switches:"Interruptores",climate:"Clima",covers:"Persianas",media:"Medios",cleaning:"Limpieza",security:"Seguridad",utilities:"Dispositivos",scripts:"Scripts",automations:"Automatizaciones",scenes:"Escenas",temperature:"Temperatura",humidity:"Humedad",motion:"Movimiento",door_window:"Puertas y Ventanas",energy:"Energa",light:"Luz",presence:"Presencia",pressure:"Presin",battery:"Batera",air_quality:"Calidad del aire",other_sensors:"Otros",system:"Sistema",apps:"Aplicaciones"},placeholders:{searchDevices:"Dispositivos",searchSensors:"Sensores",searchActions:"Acciones",searchCustom:"Personalizado",search:"Buscar..."},categories:{devices:"Dispositivos",sensors:"Sensores",actions:"Acciones",custom:"Personalizado"},viewModes:{grid:"Cuadrcula",list:"Lista"},filters:{categories:"Categoras",areas:"Habitaciones",types:"Tipos"},general:{noRoom:"Sin habitacin"},deviceNames:{settings:"Configuracin",marketplace:"Tienda"},settings:{general:"General",appearance:"Apariencia",privacy:"Privacidad",about:"Acerca de",generalSettings:"Configuracin general",aiMode:"Modo IA",aiModeDescription:"Activar asistente de IA para bsqueda y control avanzados",animations:"Animaciones",animationsDescription:"Activar efectos de transicin y animaciones",soundEffects:"Efectos de sonido",soundEffectsDescription:"Retroalimentacin acstica para acciones",languageSettings:"Configuracin de idioma",appLanguage:"Idioma de la aplicacin",appLanguageDescription:"Elige tu idioma preferido",notifications:"Notificaciones",pushNotifications:"Notificaciones push",pushNotificationsDescription:"Recibir notificaciones sobre eventos importantes",design:"Diseo",backgroundMode:"Modo de fondo",backgroundModeDescription:"Ajustar superposicin para mejor enfoque",automatic:"Automtico",light:"Claro",dark:"Oscuro",background:"Fondo",privacySecurity:"Privacidad y seguridad",clearCache:"Limpiar cach",resetData:"Restablecer datos",aboutCard:"Acerca de Fast Search Card",version:"Versin",build:"Build",developer:"Desarrollador",license:"Licencia"},schedule:{all:"Todos",timer:"Temporizador",schedules:"Horarios",turnOn:"Encender",turnOff:"Apagar",timerMode:"Temporizador",scheduleMode:"Horario",timeFormat:"Formato de hora",format24h:"24h",formatAM:"AM",formatPM:"PM",days:"Das",monday:"Lun",tuesday:"Mar",wednesday:"Mi",thursday:"Jue",friday:"Vie",saturday:"Sb",sunday:"Dom",daily:"Diario",weekdays:"Lun-Vie",weekend:"Sb, Dom",noDays:"Ninguno",selectDay:"Seleccionar",deselectDay:"Deseleccionar",repeat:"Repeticin",regular:"Regular",once:"Una vez",add:"Nuevo",cancel:"Cancelar",confirm:"Crear ahora",save:"Guardar",action:"Accin",scheduler:"Programador",atTime:"A las",remaining:"Restante",minutes:"min",noTimers:"Sin temporizadores",noSchedules:"Sin horarios",noEntries:"Sin entradas",timerName:"Temporizador",scheduleName:"Horario",morningRoutine:"Rutina matutina",evening:"Noche"},context:{tabActions:"Acciones",tabFavorites:"Favoritos",tabEnvironment:"Entorno",loading:"Cargando entorno...",noFavorites:"No hay favoritos marcados",noEnvironment:"No se encontraron dispositivos relacionados",noActions:"No se encontraron acciones"}},states:{on:"Encendido",off:"Apagado",home:"En casa",not_home:"Ausente",heat:"Calefaccin",cool:"Refrigeracin",unknown:"Desconocido",unavailable:"No disponible"}},Px={ui:{common:{pleaseSelect:"Seleziona"},controls:{brightness:"Luminosit",colorTemperature:"Temperatura colore",color:"Colore",temperature:"Temperatura",humidity:"Umidit",settings:"Impostazioni",security:"Sicurezza",on:"Acceso",off:"Spento",open:"Apri",close:"Chiudi",locked:"Bloccato",unlocked:"Sbloccato",active:"Attivo",inactive:"Inattivo",since:"da",noRoom:"Nessuna stanza",unknown:"Sconosciuto",justNow:"proprio ora",turned_on:"Acceso",turned_off:"Spento"},search:{noResults:"Nessun risultato per",tryDifferent:"Prova con altri termini"},aiMode:{askAnything:"Chiedi qualsiasi cosa",subtitle:"Chiedimi tutto sulla tua casa intelligente",thinking:"L'IA sta pensando...",wasHelpful:" stato utile?",yes:"S",no:"No",followUp:"Fai una domanda di follow-up...",suggestions:{lightsOff:"Spegni tutte le luci",weather:"Com' il tempo oggi?",temperature:"Imposta la temperatura a 22C"},badges:{webSearch:"Ricerca Web",location:"Posizione",deviceControl:"Controllo dispositivi",assistant:"Assistente"}},subcategories:{all:"Tutti",lights:"Illuminazione",switches:"Interruttori",climate:"Clima",covers:"Tapparelle",media:"Media",cleaning:"Pulizia",security:"Sicurezza",utilities:"Dispositivi",scripts:"Script",automations:"Automazioni",scenes:"Scene",temperature:"Temperatura",humidity:"Umidit",motion:"Movimento",door_window:"Porte e Finestre",energy:"Energia",light:"Luce",presence:"Presenza",pressure:"Pressione",battery:"Batteria",air_quality:"Qualit dell'aria",other_sensors:"Altri",system:"Sistema",apps:"Applicazioni"},placeholders:{searchDevices:"Dispositivi",searchSensors:"Sensori",searchActions:"Azioni",searchCustom:"Personalizzato",search:"Cerca..."},categories:{devices:"Dispositivi",sensors:"Sensori",actions:"Azioni",custom:"Personalizzato"},viewModes:{grid:"Griglia",list:"Lista"},filters:{categories:"Categorie",areas:"Stanze",types:"Tipi"},general:{noRoom:"Nessuna stanza"},deviceNames:{settings:"Impostazioni",marketplace:"Negozio"},settings:{general:"Generale",appearance:"Aspetto",privacy:"Privacy",about:"Informazioni",generalSettings:"Impostazioni generali",aiMode:"Modalit IA",aiModeDescription:"Abilita assistente IA per ricerca e controllo avanzati",animations:"Animazioni",animationsDescription:"Abilita effetti di transizione e animazioni",soundEffects:"Effetti sonori",soundEffectsDescription:"Feedback acustico per le azioni",languageSettings:"Impostazioni lingua",appLanguage:"Lingua dell'app",appLanguageDescription:"Scegli la tua lingua preferita",notifications:"Notifiche",pushNotifications:"Notifiche push",pushNotificationsDescription:"Ricevi notifiche su eventi importanti",design:"Design",backgroundMode:"Modalit sfondo",backgroundModeDescription:"Regola sovrapposizione per migliore focus",automatic:"Automatico",light:"Chiaro",dark:"Scuro",background:"Sfondo",privacySecurity:"Privacy e sicurezza",clearCache:"Svuota cache",resetData:"Ripristina dati",aboutCard:"Info su Fast Search Card",version:"Versione",build:"Build",developer:"Sviluppatore",license:"Licenza"},schedule:{all:"Tutti",timer:"Timer",schedules:"Programmi",turnOn:"Accendi",turnOff:"Spegni",timerMode:"Timer",scheduleMode:"Programma",timeFormat:"Formato ora",format24h:"24h",formatAM:"AM",formatPM:"PM",days:"Giorni",monday:"Lun",tuesday:"Mar",wednesday:"Mer",thursday:"Gio",friday:"Ven",saturday:"Sab",sunday:"Dom",daily:"Giornaliero",weekdays:"Lun-Ven",weekend:"Sab, Dom",noDays:"Nessuno",selectDay:"Seleziona",deselectDay:"Deseleziona",repeat:"Ripeti",regular:"Regolare",once:"Una volta",add:"Nuovo",cancel:"Annulla",confirm:"Crea ora",save:"Salva",action:"Azione",scheduler:"Programmatore",atTime:"Alle",remaining:"Rimanente",minutes:"min",noTimers:"Nessun timer",noSchedules:"Nessun programma",noEntries:"Nessun elemento",timerName:"Timer",scheduleName:"Programma",morningRoutine:"Routine mattutina",evening:"Sera"},context:{tabActions:"Azioni",tabFavorites:"Preferiti",tabEnvironment:"Ambiente",loading:"Caricamento ambiente...",noFavorites:"Nessun preferito contrassegnato",noEnvironment:"Nessun dispositivo correlato trovato",noActions:"Nessuna azione trovata"}},states:{on:"Acceso",off:"Spento",home:"Casa",not_home:"Assente"}},Ix={ui:{common:{pleaseSelect:"Selecteer alstublieft"},controls:{brightness:"Helderheid",colorTemperature:"Kleurtemperatuur",color:"Kleur",temperature:"Temperatuur",humidity:"Vochtigheid",settings:"Instellingen",security:"Beveiliging",on:"Aan",off:"Uit",open:"Open",close:"Sluiten",locked:"Vergrendeld",unlocked:"Ontgrendeld"},search:{noResults:"Geen resultaten voor",tryDifferent:"Probeer andere zoektermen"},aiMode:{askAnything:"Vraag het maar",subtitle:"Vraag me alles over je slimme woning",thinking:"AI is aan het denken...",wasHelpful:"Was dit nuttig?",yes:"Ja",no:"Nee",followUp:"Stel een vervolgvraag...",suggestions:{lightsOff:"Schakel alle lichten uit",weather:"Hoe is het weer vandaag?",temperature:"Stel temperatuur in op 22C"},badges:{webSearch:"Web zoeken",location:"Locatie",deviceControl:"Apparaatbediening",assistant:"Assistent"}},subcategories:{all:"Alle",lights:"Verlichting",switches:"Schakelaars",climate:"Klimaat",covers:"Rolgordijnen",media:"Media",cleaning:"Reiniging",security:"Beveiliging",utilities:"Apparaten",scripts:"Scripts",automations:"Automatiseringen",scenes:"Scnes",temperature:"Temperatuur",humidity:"Vochtigheid",motion:"Beweging",door_window:"Deuren en Ramen",energy:"Energie",light:"Licht",presence:"Aanwezigheid",pressure:"Druk",battery:"Batterij",air_quality:"Luchtkwaliteit",other_sensors:"Overige",system:"Systeem",apps:"Apps"},placeholders:{searchDevices:"Apparaten",searchSensors:"Sensoren",searchActions:"Acties",searchCustom:"Aangepast",search:"Zoeken..."},categories:{devices:"Apparaten",sensors:"Sensoren",actions:"Acties",custom:"Aangepast"},viewModes:{grid:"Raster",list:"Lijst"},filters:{categories:"Categorien",areas:"Kamers",types:"Types"},general:{noRoom:"Geen kamer"},deviceNames:{settings:"Instellingen",marketplace:"Winkel"},settings:{general:"Algemeen",appearance:"Uiterlijk",privacy:"Privacy",about:"Over",generalSettings:"Algemene instellingen",aiMode:"AI-modus",aiModeDescription:"AI-assistent inschakelen voor geavanceerd zoeken en beheer",animations:"Animaties",animationsDescription:"Overgangseffecten en animaties inschakelen",soundEffects:"Geluidseffecten",soundEffectsDescription:"Akoestische feedback bij acties",languageSettings:"Taalinstellingen",appLanguage:"App-taal",appLanguageDescription:"Kies je voorkeurstaal",notifications:"Meldingen",pushNotifications:"Push-meldingen",pushNotificationsDescription:"Ontvang meldingen over belangrijke gebeurtenissen",design:"Ontwerp",backgroundMode:"Achtergrondmodus",backgroundModeDescription:"Overlay aanpassen voor betere focus",automatic:"Automatisch",light:"Licht",dark:"Donker",background:"Achtergrond",privacySecurity:"Privacy & Beveiliging",clearCache:"Cache wissen",resetData:"Gegevens resetten",aboutCard:"Over Fast Search Card",version:"Versie",build:"Build",developer:"Ontwikkelaar",license:"Licentie"},schedule:{all:"Alle",timer:"Timer",schedules:"Schema's",turnOn:"Inschakelen",turnOff:"Uitschakelen",timerMode:"Timer",scheduleMode:"Schema",timeFormat:"Tijdweergave",format24h:"24u",formatAM:"AM",formatPM:"PM",days:"Dagen",monday:"Ma",tuesday:"Di",wednesday:"Wo",thursday:"Do",friday:"Vr",saturday:"Za",sunday:"Zo",daily:"Dagelijks",weekdays:"Ma-Vr",weekend:"Za, Zo",noDays:"Geen",selectDay:"Selecteren",deselectDay:"Deselecteren",repeat:"Herhaling",regular:"Regelmatig",once:"Eenmalig",add:"Nieuw",cancel:"Annuleren",confirm:"Nu maken",save:"Opslaan",action:"Actie",scheduler:"Planner",atTime:"Om",remaining:"Resterend",minutes:"min",noTimers:"Geen timers",noSchedules:"Geen schema's",noEntries:"Geen items",timerName:"Timer",scheduleName:"Schema",morningRoutine:"Ochtendroutine",evening:"Avond"},context:{tabActions:"Acties",tabFavorites:"Favorieten",tabEnvironment:"Omgeving",loading:"Omgeving laden...",noFavorites:"Geen favorieten gemarkeerd",noEnvironment:"Geen gerelateerde apparaten gevonden",noActions:"Geen acties gevonden"}},states:{on:"Aan",off:"Uit",home:"Thuis",not_home:"Afwezig"}},Rx={ui:{common:{pleaseSelect:"Por favor selecione"},controls:{brightness:"Brilho",colorTemperature:"Temperatura de cor",color:"Cor",temperature:"Temperatura",humidity:"Umidade",settings:"Configuraes",security:"Segurana",on:"Ligado",off:"Desligado",open:"Abrir",close:"Fechar",locked:"Bloqueado",unlocked:"Desbloqueado"},search:{noResults:"Sem resultados para",tryDifferent:"Tente termos diferentes"},aiMode:{askAnything:"Pergunte qualquer coisa",subtitle:"Me pergunte tudo sobre sua casa inteligente",thinking:"IA est pensando...",wasHelpful:"Isso foi til?",yes:"Sim",no:"No",followUp:"Faa uma pergunta de acompanhamento...",suggestions:{lightsOff:"Apagar todas as luzes",weather:"Como est o tempo hoje?",temperature:"Definir temperatura para 22C"},badges:{webSearch:"Pesquisa na Web",location:"Localizao",deviceControl:"Controle de dispositivos",assistant:"Assistente"}},subcategories:{all:"Todos",lights:"Iluminao",switches:"Interruptores",climate:"Clima",covers:"Persianas",media:"Mdia",cleaning:"Limpeza",security:"Segurana",utilities:"Dispositivos",scripts:"Scripts",automations:"Automaes",scenes:"Cenas",temperature:"Temperatura",humidity:"Umidade",motion:"Movimento",door_window:"Portas e Janelas",energy:"Energia",light:"Luz",presence:"Presena",pressure:"Presso",battery:"Bateria",air_quality:"Qualidade do ar",other_sensors:"Outros",system:"Sistema",apps:"Aplicaes"},placeholders:{searchDevices:"Dispositivos",searchSensors:"Sensores",searchActions:"Aes",searchCustom:"Personalizado",search:"Buscar..."},categories:{devices:"Dispositivos",sensors:"Sensores",actions:"Aes",custom:"Personalizado"},viewModes:{grid:"Grade",list:"Lista"},filters:{categories:"Categorias",areas:"Cmodos",types:"Tipos"},general:{noRoom:"Sem cmodo"},deviceNames:{settings:"Configuraes",marketplace:"Loja"},settings:{general:"Geral",appearance:"Aparncia",privacy:"Privacidade",about:"Sobre",generalSettings:"Configuraes gerais",aiMode:"Modo IA",aiModeDescription:"Ativar assistente de IA para busca e controle avanados",animations:"Animaes",animationsDescription:"Ativar efeitos de transio e animaes",soundEffects:"Efeitos sonoros",soundEffectsDescription:"Feedback acstico para aes",languageSettings:"Configuraes de idioma",appLanguage:"Idioma do app",appLanguageDescription:"Escolha seu idioma preferido",notifications:"Notificaes",pushNotifications:"Notificaes push",pushNotificationsDescription:"Receber notificaes sobre eventos importantes",design:"Design",backgroundMode:"Modo de fundo",backgroundModeDescription:"Ajustar sobreposio para melhor foco",automatic:"Automtico",light:"Claro",dark:"Escuro",background:"Fundo",privacySecurity:"Privacidade e Segurana",clearCache:"Limpar cache",resetData:"Redefinir dados",aboutCard:"Sobre Fast Search Card",version:"Verso",build:"Build",developer:"Desenvolvedor",license:"Licena"},schedule:{all:"Todos",timer:"Timer",schedules:"Agendamentos",turnOn:"Ligar",turnOff:"Desligar",timerMode:"Timer",scheduleMode:"Agendamento",timeFormat:"Formato de hora",format24h:"24h",formatAM:"AM",formatPM:"PM",days:"Dias",monday:"Seg",tuesday:"Ter",wednesday:"Qua",thursday:"Qui",friday:"Sex",saturday:"Sb",sunday:"Dom",daily:"Dirio",weekdays:"Seg-Sex",weekend:"Sb, Dom",noDays:"Nenhum",selectDay:"Selecionar",deselectDay:"Desselecionar",repeat:"Repetir",regular:"Regular",once:"Uma vez",add:"Novo",cancel:"Cancelar",confirm:"Criar agora",save:"Salvar",action:"Ao",scheduler:"Agendador",atTime:"s",remaining:"Restante",minutes:"min",noTimers:"Sem timers",noSchedules:"Sem agendamentos",noEntries:"Sem itens",timerName:"Timer",scheduleName:"Agendamento",morningRoutine:"Rotina matinal",evening:"Noite"},context:{tabActions:"Aes",tabFavorites:"Favoritos",tabEnvironment:"Ambiente",loading:"Carregando ambiente...",noFavorites:"Nenhum favorito marcado",noEnvironment:"Nenhum dispositivo relacionado encontrado",noActions:"Nenhuma ao encontrada"}},states:{on:"Ligado",off:"Desligado",home:"Em casa",not_home:"Ausente"}},Bx={ui:{common:{pleaseSelect:", "},controls:{brightness:"",colorTemperature:" ",color:"",temperature:"",humidity:"",settings:"",security:"",on:"",off:"",open:"",close:"",locked:"",unlocked:""},search:{noResults:"  ",tryDifferent:"   "},aiMode:{askAnything:"  ",subtitle:"     ",thinking:" ...",wasHelpful:"  ?",yes:"",no:"",followUp:"  ...",suggestions:{lightsOff:"  ",weather:"  ?",temperature:"  22C"},badges:{webSearch:"  ",location:"",deviceControl:" ",assistant:""}},subcategories:{all:"",lights:"",switches:"",climate:"",covers:"",media:"",cleaning:"",security:"",utilities:"",scripts:"",automations:"",scenes:"",temperature:"",humidity:"",motion:"",door_window:"  ",energy:"",light:"",presence:"",pressure:"",battery:"",air_quality:" ",other_sensors:"",system:"",apps:""},placeholders:{searchDevices:"",searchSensors:"",searchActions:"",searchCustom:"",search:"..."},categories:{devices:"",sensors:"",actions:"",custom:""},viewModes:{grid:"",list:""},filters:{categories:"",areas:"",types:""},general:{noRoom:" "},deviceNames:{settings:"",marketplace:""},settings:{general:"",appearance:" ",privacy:"",about:" ",generalSettings:" ",aiMode:" ",aiModeDescription:" -     ",animations:"",animationsDescription:"    ",soundEffects:" ",soundEffectsDescription:"    ",languageSettings:" ",appLanguage:" ",appLanguageDescription:"  ",notifications:"",pushNotifications:"Push-",pushNotificationsDescription:"    ",design:"",backgroundMode:" ",backgroundModeDescription:"    ",automatic:"",light:"",dark:"",background:"",privacySecurity:"  ",clearCache:" ",resetData:" ",aboutCard:" Fast Search Card",version:"",build:"",developer:"",license:""},schedule:{all:"",timer:"",schedules:"",turnOn:"",turnOff:"",timerMode:"",scheduleMode:"",timeFormat:" ",format24h:"24",formatAM:"AM",formatPM:"PM",days:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:"",daily:"",weekdays:"-",weekend:", ",noDays:"",selectDay:"",deselectDay:" ",repeat:"",regular:"",once:" ",add:"",cancel:"",confirm:" ",save:"",action:"",scheduler:"",atTime:"",remaining:"",minutes:"",noTimers:" ",noSchedules:" ",noEntries:" ",timerName:"",scheduleName:"",morningRoutine:" ",evening:""},context:{tabActions:"",tabFavorites:"",tabEnvironment:"",loading:" ...",noFavorites:" ",noEnvironment:"   ",noActions:"  "}},states:{on:"",off:"",home:"",not_home:""}},zx={ui:{common:{pleaseSelect:""},controls:{brightness:"",colorTemperature:"",color:"",temperature:"",humidity:"",settings:"",security:"",on:"",off:"",open:"",close:"",locked:"",unlocked:""},search:{noResults:"",tryDifferent:""},aiMode:{askAnything:"",subtitle:"",thinking:"AI ...",wasHelpful:"",yes:"",no:"",followUp:"...",suggestions:{lightsOff:"",weather:"",temperature:"22C"},badges:{webSearch:"",location:"",deviceControl:"",assistant:""}},subcategories:{all:"",lights:"",switches:"",climate:"",covers:"",media:"",cleaning:"",security:"",utilities:"",scripts:"",automations:"",scenes:"",temperature:"",humidity:"",motion:"",door_window:"",energy:"",light:"",presence:"",pressure:"",battery:"",air_quality:"",other_sensors:"",system:"",apps:""},placeholders:{searchDevices:"",searchSensors:"",searchActions:"",searchCustom:"",search:"..."},categories:{devices:"",sensors:"",actions:"",custom:""},viewModes:{grid:"",list:""},filters:{categories:"",areas:"",types:""},general:{noRoom:""},deviceNames:{settings:"",marketplace:""},settings:{general:"",appearance:"",privacy:"",about:"",generalSettings:"",aiMode:"AI ",aiModeDescription:"AI",animations:"",animationsDescription:"",soundEffects:"",soundEffectsDescription:"",languageSettings:"",appLanguage:"",appLanguageDescription:"",notifications:"",pushNotifications:"",pushNotificationsDescription:"",design:"",backgroundMode:"",backgroundModeDescription:"",automatic:"",light:"",dark:"",background:"",privacySecurity:"",clearCache:"",resetData:"",aboutCard:" Fast Search Card",version:"",build:"",developer:"",license:""},schedule:{all:"",timer:"",schedules:"",turnOn:"",turnOff:"",timerMode:"",scheduleMode:"",timeFormat:"",format24h:"24",formatAM:"",formatPM:"",days:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:"",daily:"",weekdays:"",weekend:"",noDays:"",selectDay:"",deselectDay:"",repeat:"",regular:"",once:"",add:"",cancel:"",confirm:"",save:"",action:"",scheduler:"",atTime:"",remaining:"",minutes:"",noTimers:"",noSchedules:"",noEntries:"",timerName:"",scheduleName:"",morningRoutine:"",evening:""},context:{tabActions:"",tabFavorites:"",tabEnvironment:"",loading:"...",noFavorites:"",noEnvironment:"",noActions:""}},states:{on:"",off:"",home:"",not_home:""}},Vx={ui:{common:{pleaseSelect:"Ltfen sein"},controls:{brightness:"Parlaklk",colorTemperature:"Renk scakl",color:"Renk",temperature:"Scaklk",humidity:"Nem",settings:"Ayarlar",security:"Gvenlik",on:"Ak",off:"Kapal",open:"A",close:"Kapat",locked:"Kilitli",unlocked:"Kilit ak"},search:{noResults:"unun iin sonu yok",tryDifferent:"Farkl arama terimleri deneyin"},aiMode:{askAnything:"Ne istersen sor",subtitle:"Akll eviniz hakknda bana her eyi sorun",thinking:"AI dnyor...",wasHelpful:"Bu yardmc oldu mu?",yes:"Evet",no:"Hayr",followUp:"Bir takip sorusu sorun...",suggestions:{lightsOff:"Tm klar kapat",weather:"Bugn hava nasl?",temperature:"Scakl 22C'ye ayarla"},badges:{webSearch:"Web Aramas",location:"Konum",deviceControl:"Cihaz Kontrol",assistant:"Asistan"}},subcategories:{all:"Tm",lights:"Aydnlatma",switches:"Anahtarlar",climate:"klim",covers:"Perdeler",media:"Medya",cleaning:"Temizlik",security:"Gvenlik",utilities:"Cihazlar",scripts:"Betikler",automations:"Otomasyonlar",scenes:"Sahneler",temperature:"Scaklk",humidity:"Nem",motion:"Hareket",door_window:"Kaplar ve Pencereler",energy:"Enerji",light:"Ik",presence:"Varlk",pressure:"Basn",battery:"Pil",air_quality:"Hava kalitesi",other_sensors:"Dier",system:"Sistem",apps:"Uygulamalar"},placeholders:{searchDevices:"Cihazlar",searchSensors:"Sensrler",searchActions:"Eylemler",searchCustom:"zel",search:"Ara..."},categories:{devices:"Cihazlar",sensors:"Sensrler",actions:"Eylemler",custom:"zel"},viewModes:{grid:"Izgara",list:"Liste"},filters:{categories:"Kategoriler",areas:"Odalar",types:"Trler"},general:{noRoom:"Oda yok"},deviceNames:{settings:"Ayarlar",marketplace:"Maaza"},settings:{general:"Genel",appearance:"Grnm",privacy:"Gizlilik",about:"Hakknda",generalSettings:"Genel Ayarlar",aiMode:"AI Modu",aiModeDescription:"Gelimi arama ve kontrol iin AI asistann etkinletir",animations:"Animasyonlar",animationsDescription:"Gei efektlerini ve animasyonlar etkinletir",soundEffects:"Ses Efektleri",soundEffectsDescription:"Eylemler iin sesli geri bildirim",languageSettings:"Dil Ayarlar",appLanguage:"Uygulama Dili",appLanguageDescription:"Tercih ettiiniz dili sein",notifications:"Bildirimler",pushNotifications:"Anlk Bildirimler",pushNotificationsDescription:"nemli olaylar hakknda bildirimler aln",design:"Tasarm",backgroundMode:"Arka Plan Modu",backgroundModeDescription:"Daha iyi odaklanma iin kaplamay ayarlayn",automatic:"Otomatik",light:"Ak",dark:"Koyu",background:"Arka Plan",privacySecurity:"Gizlilik ve Gvenlik",clearCache:"nbellei Temizle",resetData:"Verileri Sfrla",aboutCard:"Fast Search Card Hakknda",version:"Srm",build:"Yap",developer:"Gelitirici",license:"Lisans"},schedule:{all:"Tm",timer:"Zamanlayc",schedules:"Programlar",turnOn:"A",turnOff:"Kapat",timerMode:"Zamanlayc",scheduleMode:"Program",timeFormat:"Saat Gsterimi",format24h:"24 saat",formatAM:"",formatPM:"S",days:"Gnler",monday:"Pzt",tuesday:"Sal",wednesday:"ar",thursday:"Per",friday:"Cum",saturday:"Cmt",sunday:"Paz",daily:"Her gn",weekdays:"Hafta ii",weekend:"Hafta sonu",noDays:"Yok",selectDay:"Se",deselectDay:"Seimi kaldr",repeat:"Tekrar",regular:"Dzenli",once:"Bir kere",add:"Yeni",cancel:"ptal",confirm:"imdi olutur",save:"Kaydet",action:"Eylem",scheduler:"Programlayc",atTime:"Saat",remaining:"Kalan",minutes:"dk",noTimers:"Zamanlayc yok",noSchedules:"Program yok",noEntries:"Giri yok",timerName:"Zamanlayc",scheduleName:"Program",morningRoutine:"Sabah rutini",evening:"Akam"},context:{tabActions:"Eylemler",tabFavorites:"Favoriler",tabEnvironment:"evre",loading:"evre yklenyor...",noFavorites:"aretlenmi favori yok",noEnvironment:"lgili cihaz bulunamad",noActions:"Eylem bulunamad"}},states:{on:"Ak",off:"Kapal",home:"Evde",not_home:"Darda"}};function Ox(e,t,n,i="de",s={}){const o=s[i]||s.de;return t==="binary_sensor"&&n&&o.deviceClasses?.[n]?o.deviceClasses[n][e]||o.states?.[e]||e:o.states?.[e]||e}function Jl(e){if(!e)return null;const t=e.domain,n=e.attributes?.device_class,i=e.entity_id;return t==="binary_sensor"?["door","window","garage_door","opening"].includes(n)?"door_window":["motion","moving","occupancy"].includes(n)?"motion":["presence","home"].includes(n)?"presence":["smoke","gas","carbon_monoxide","safety","sound","vibration","problem"].includes(n)?"security":["moisture","water"].includes(n)?"water":n==="light"?"light":n==="battery"||n==="battery_charging"?"battery":"other_sensors":t==="sensor"?n==="temperature"||i?.includes("temperature")?"temperature":n==="humidity"||i?.includes("humidity")?"humidity":["power","energy","current","voltage","apparent_power","reactive_power"].includes(n)?"energy":n==="battery"||i?.includes("battery")?"battery":n==="illuminance"||i?.includes("illuminance")||i?.includes("lux")?"light":n==="pressure"||i?.includes("pressure")?"pressure":["pm25","pm10","co2","co","aqi","voc","nox"].includes(n)||i?.includes("air_quality")||i?.includes("pm25")?"air_quality":"other_sensors":t==="weather_device"?"temperature":t==="energy_dashboard_device"?"energy":null}function Wx(e,t,n,i="de"){const s={de:{temperature:{cold:"Khl - Heizung erwgen",optimal:"Optimale Temperatur",warm:"Warm - Lften empfohlen",hot:"Sehr warm - Khlung empfohlen"},humidity:{low:"Zu trocken - Befeuchter empfohlen",optimal:"Optimale Luftfeuchtigkeit",high:"Zu feucht - Lften empfohlen"},co2:{good:"Gute Luftqualitt",moderate:"Mige Luftqualitt",poor:"Schlechte Luft - Lften!"},battery:{critical:"Batterie fast leer!",low:"Batterie schwach",good:"Batterie OK",full:"Batterie voll"}},en:{temperature:{cold:"Cool - Consider heating",optimal:"Optimal temperature",warm:"Warm - Ventilation recommended",hot:"Very warm - Cooling recommended"},humidity:{low:"Too dry - Humidifier recommended",optimal:"Optimal humidity",high:"Too humid - Ventilation recommended"},co2:{good:"Good air quality",moderate:"Moderate air quality",poor:"Poor air - Ventilate!"},battery:{critical:"Battery almost empty!",low:"Battery low",good:"Battery OK",full:"Battery full"}}},o=s[i]||s.en;if(!e||!t||!o[t])return null;const a=parseFloat(e);if(isNaN(a))return null;if(t==="temperature"){if(a<18)return o.temperature.cold;if(a>=18&&a<=24)return o.temperature.optimal;if(a>24&&a<=27)return o.temperature.warm;if(a>27)return o.temperature.hot}if(t==="humidity"){if(a<30)return o.humidity.low;if(a>=30&&a<=60)return o.humidity.optimal;if(a>60)return o.humidity.high}if(t==="co2"||n==="ppm"){if(a<800)return o.co2.good;if(a>=800&&a<=1200)return o.co2.moderate;if(a>1200)return o.co2.poor}if(t==="battery"||n==="%"){if(a<=10)return o.battery.critical;if(a>10&&a<=30)return o.battery.low;if(a>30&&a<90)return o.battery.good;if(a>=90)return o.battery.full}return null}function Hx(e,t,n={}){if(!e)return!1;const i=e.toString().toLowerCase();if(["on","ein","an","open","offen","home","zuhause","playing","active","aktiv"].includes(i))return!0;switch(t){case"light":case"switch":case"input_boolean":case"fan":return i==="on"||i==="ein";case"cover":return i==="open"||i==="offen";case"lock":return i==="unlocked"||i==="entriegelt";case"binary_sensor":return i==="on"||i==="true";case"media_player":return["playing","paused","on"].includes(i);case"climate":return i!=="off"&&i!=="aus";case"vacuum":return["cleaning","returning","docked"].includes(i);case"person":case"device_tracker":return i==="home"||i==="zuhause";case"alarm_control_panel":return["armed_home","armed_away","armed_night","triggered"].includes(i);case"timer":return i==="active"||i==="paused";case"automation":case"script":case"scene":if(n.last_triggered){const o=new Date(n.last_triggered);return(new Date-o)/1e3/60<5}return!1;case"sensor":return!1;default:return i==="on"||i==="ein"}}function Ql(e,t,n="de"){const i=t?.unit_of_measurement||"",s=t?.device_class;if(!isNaN(parseFloat(e))){const o=parseFloat(e);let a,l=i;switch(s){case"temperature":a=o.toFixed(1);break;case"humidity":case"battery":a=Math.round(o).toString();break;case"power":o>=1e3?(a=(o/1e3).toFixed(1),l="kW"):a=Math.round(o).toString();break;case"energy":a=o.toFixed(1);break;default:i&&(i.includes("")||i==="K")?a=o.toFixed(1):o%1===0?a=o.toString():a=o.toFixed(1)}return{value:a,unit:l,combined:`${a}${l?" "+l:""}`}}return{value:e,unit:"",combined:e}}function $x(e,t,n="de"){const i=e[n]||e.de;if(!i)return console.error("getTranslation: No language data found!"),t;const s=t.split(".");let o=i;for(let a=0;a<s.length;a++){const l=s[a];if(o&&typeof o=="object"&&l in o)o=o[l];else{o=e.de;for(const c of s)if(o&&typeof o=="object"&&c in o)o=o[c];else return t;break}}return o||t}function jx(e,t){return e.replace(/\{(\w+)\}/g,(n,i)=>t.hasOwnProperty(i)?t[i]:n)}const ec={de:Tx,en:Ax,fr:Dx,es:Fx,it:Px,nl:Ix,pt:Rx,ru:Bx,zh:zx,tr:Vx};function Ux(e,t="de",n={}){const i=$x(ec,e,t);return n&&Object.keys(n).length>0?jx(i,n):i}function Kh(e,t,n,i="de"){return ec[i]||(console.warn(`Language '${i}' not found, falling back to 'de'`),i="de"),Ox(e,t,n,i,ec)}function te(e,t="de",n={}){const i=`ui.${e}`;return Ux(i,t,n)}const ye={smooth:[.16,1,.3,1],spring:[.25,.46,.45,.94],elastic:[.68,-.55,.265,1.55],easeOut:[0,0,.2,1],easeIn:[.4,0,1,1],easeInOut:[.4,0,.2,1]},Ae={instant:.1,fast:.2,normal:.3,medium:.4},qh={collapsed:{height:60,opacity:.95,scale:.98,transition:{duration:Ae.medium,ease:ye.smooth}},expanded:{height:"auto",opacity:1,scale:1,transition:{duration:Ae.medium,ease:ye.smooth}}},Es={initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1,transition:{duration:Ae.normal,ease:ye.easeInOut}},exit:{scale:.8,opacity:0,transition:{duration:Ae.normal,ease:ye.easeInOut}}},Yh={hover:{scale:1.05,backgroundColor:"rgba(255, 255, 255, 0.25)",transition:{duration:Ae.fast,ease:ye.spring}},tap:{scale:.95,transition:{duration:Ae.instant,ease:ye.easeOut}}},tr={active:{backgroundColor:"rgba(255, 255, 255, 0.25)",transition:{duration:Ae.normal,ease:ye.smooth}},inactive:{backgroundColor:"transparent",transition:{duration:Ae.normal,ease:ye.smooth}}},en={hover:{scale:1.05,backgroundColor:"rgba(255, 255, 255, 0.15)",transition:{duration:Ae.fast,ease:ye.spring}},tap:{scale:.95,transition:{duration:Ae.instant,ease:ye.easeOut}}},Gx={inactive:{backgroundColor:"rgba(255, 255, 255, 0.08)",transition:{duration:Ae.normal,ease:ye.smooth}},active:{backgroundColor:"rgb(0, 145, 255)",transition:{duration:Ae.normal,ease:ye.smooth}},hover:{scale:1.08,transition:{duration:Ae.fast,ease:ye.spring}},tap:{scale:.92,transition:{duration:Ae.fast,ease:ye.easeOut}}},Kx={hidden:{opacity:0,scale:.8,y:10},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:24}}},Zh={hover:{scale:1.05,transition:{duration:Ae.fast,ease:ye.spring}},tap:{scale:.95,transition:{duration:Ae.instant,ease:ye.easeOut}}},qx=e=>({scale:1,backgroundColor:e?"rgba(255, 255, 255, 0.95)":"rgba(255, 255, 255, 0.08)",borderColor:e?"rgba(255, 255, 255, 0.3)":"rgba(255, 255, 255, 0.1)",transition:{duration:Ae.normal,ease:ye.easeInOut}}),Xh={hover:{scale:1.1,backgroundColor:"rgba(0, 0, 0, 0.25)",transition:{duration:Ae.fast,ease:ye.spring}},tap:{scale:.95,transition:{duration:Ae.instant,ease:ye.easeOut}}},Yx={inactive:{scale:1,backgroundColor:"rgba(255, 255, 255, 0.08)",borderColor:"rgba(255, 255, 255, 0.15)"},active:{scale:1,backgroundColor:"rgba(255, 255, 255, 0.25)",borderColor:"rgba(255, 255, 255, 0.35)",transition:{duration:Ae.normal,ease:ye.smooth}},hover:{scale:1.04,backgroundColor:"rgba(255, 255, 255, 0.15)",transition:{duration:Ae.fast,ease:ye.easeOut}},tap:{scale:.96,transition:{duration:Ae.instant,ease:ye.easeOut}}},Zx={hidden:{opacity:0,scale:.85,y:10},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:24}},idle:{scale:1,backgroundColor:"rgba(255, 255, 255, 0.1)",transition:{duration:Ae.normal,ease:ye.smooth}},hover:{scale:1.05,backgroundColor:"rgba(255, 255, 255, 0.15)",boxShadow:"0 8px 24px rgba(0, 145, 255, 0.2)",transition:{duration:Ae.fast,ease:ye.spring}},tap:{scale:.95,transition:{duration:Ae.instant,ease:ye.easeOut}}},Jh={hidden:{opacity:0,scale:.8,y:10},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:24}},idle:{scale:1,backgroundColor:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)"},hover:{scale:1.05,backgroundColor:"rgba(255, 255, 255, 0.15)",borderColor:"rgba(255, 255, 255, 0.3)",transition:{duration:Ae.fast,ease:ye.spring}},tap:{scale:.95,transition:{duration:Ae.instant,ease:ye.easeOut}}},Xx={initial:{opacity:0},animate:{opacity:1,transition:{duration:Ae.fast}},exit:{opacity:0,transition:{duration:Ae.fast}}},Ts={initial:{x:20,scale:.8,opacity:0},animate:(e=.1)=>({x:0,scale:1,opacity:1,transition:{duration:Ae.medium,delay:e,ease:ye.easeInOut}}),exit:{x:20,scale:.8,opacity:0,transition:{duration:Ae.medium,ease:ye.easeInOut}}},Jx={hidden:{opacity:0,x:20},visible:{opacity:1,x:0,transition:{duration:.35,ease:ye.smooth,staggerChildren:.08,delayChildren:.1}}},Qx={hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1,transition:{duration:.6,ease:ye.smooth,opacity:{duration:.4,ease:ye.easeOut}}},exit:{x:"100%",opacity:0,transition:{duration:.4,ease:ye.easeInOut}}},Qh={hidden:{opacity:0,scale:.8,transition:{duration:Ae.fast,ease:ye.easeIn}},visible:{opacity:1,scale:1,backgroundColor:"rgba(0, 0, 0, 0.5)",transition:{duration:Ae.medium,ease:ye.smooth}},hover:{scale:1.15,backgroundColor:"rgba(255, 255, 255, 0.25)",transition:{duration:Ae.fast,ease:ye.spring}}},ef={visible:{opacity:1,height:280,scale:1,y:0,transition:{duration:.35,ease:ye.smooth}},hidden:{opacity:0,height:0,scale:.9,y:-20,transition:{duration:.35,ease:[.4,0,.6,1]}}},tf={visible:{opacity:1,height:160,scale:1,y:0,transition:{duration:.35,ease:ye.smooth}},hidden:{opacity:0,height:0,scale:.9,y:-20,transition:{duration:.35,ease:[.4,0,.6,1]}}},nf={normal:{y:0,transition:{duration:.4,ease:[.34,1.56,.64,1]}},movedUp:{y:-8,transition:{duration:.4,ease:[.34,1.56,.64,1]}}},e_={hidden:{opacity:0,height:0,y:-10,overflow:"hidden",transition:{duration:.3,ease:ye.easeInOut}},visible:{opacity:1,height:"auto",y:0,overflow:"visible",transition:{duration:.4,ease:ye.smooth,delayChildren:.1,staggerChildren:.03}}},t_={hidden:{opacity:0,scale:.85,rotate:-12},visible:{opacity:1,scale:1,rotate:0,transition:{duration:.6,ease:ye.elastic,when:"beforeChildren",staggerChildren:.08}},hover:{scale:1.01,transition:{duration:Ae.fast,ease:ye.spring}}},n_={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.4,ease:ye.smooth}}},i_={idle:{scale:1,filter:"brightness(1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},hover:{scale:1.08,filter:"brightness(1.05)",boxShadow:"0 4px 16px rgba(255, 255, 255, 0.3)",transition:{type:"spring",stiffness:400,damping:15}},dragging:{scale:1.15,filter:"brightness(1.2)",boxShadow:"0 0 24px rgba(255, 255, 255, 0.7)",transition:{type:"spring",stiffness:600,damping:20}}},rf={hidden:{opacity:0,y:-5,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.3,ease:ye.smooth}},update:{scale:[1,1.08,1],transition:{duration:.25,ease:ye.spring}}},r_={off:{rotate:0,scale:1},on:{rotate:360,scale:1,transition:{rotate:{type:"spring",stiffness:200,damping:20},scale:{duration:.2}}},tap:{scale:.9,transition:{duration:.1}}},As={hidden:{opacity:0,y:10},visible:{opacity:.5,y:0,transition:{delay:.2,duration:.4,ease:ye.smooth}}},s_={hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{backgroundColor:"rgba(255, 255, 255, 0.1)",scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:Ae.medium,ease:ye.smooth,opacity:{duration:.4,ease:ye.easeOut},scale:{duration:.45,ease:ye.smooth},y:{duration:.45,ease:ye.smooth},filter:{duration:.35,ease:ye.easeOut}}},active:{backgroundColor:"#FFFFFF",scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:Ae.medium,ease:ye.smooth}}},o_={hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{backgroundColor:"rgba(255, 255, 255, 0.1)",scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:Ae.medium,ease:ye.smooth,opacity:{duration:.4,ease:ye.easeOut},scale:{duration:.45,ease:ye.smooth},y:{duration:.45,ease:ye.smooth},filter:{duration:.35,ease:ye.easeOut}}},active:{backgroundColor:"#FFFFFF",scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:Ae.medium,ease:ye.smooth}}},a_={hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{backgroundColor:"#FFFFFF",scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:Ae.medium,ease:ye.smooth,opacity:{duration:.4,ease:ye.easeOut},scale:{duration:.45,ease:ye.smooth},y:{duration:.45,ease:ye.smooth},filter:{duration:.35,ease:ye.easeOut}}},active:{backgroundColor:"#FFFFFF",scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:Ae.medium,ease:ye.smooth}}},l_={hidden:{scale:.96,opacity:0,filter:"blur(25px)"},visible:{scale:1,opacity:1,filter:"blur(0px)",transition:{delay:.05,duration:.35,ease:[.25,.1,.25,1],scale:{type:"spring",damping:28,stiffness:250,mass:.6},opacity:{duration:.25,ease:ye.easeOut},filter:{duration:.35,ease:[.16,1,.3,1]}}},exit:{scale:.94,y:20,opacity:0,filter:"blur(18px)",transition:{duration:.32,ease:[.4,0,.6,1],opacity:{duration:.28,ease:ye.easeIn},filter:{duration:.35,ease:[.4,0,1,1]}}}},c_={hidden:{opacity:0,scale:.98,filter:"blur(15px)"},visible:{opacity:1,scale:1,filter:"blur(0px)",transition:{delay:.08,duration:.3,ease:[.25,.1,.25,1],opacity:{duration:.25,ease:ye.easeOut,delay:.1},filter:{duration:.32,ease:[.16,1,.3,1],delay:.08}}},exit:{opacity:0,scale:.96,y:15,filter:"blur(12px)",transition:{duration:.25,ease:[.4,0,.6,1],filter:{duration:.28,ease:ye.easeIn}}}},d_=({activeCategory:e="devices",items:t=[],allItems:n=[],onSubcategoryChange:i,mode:s="categories",lang:o="de",activeSubcategory:a="all",suggestions:l=[],hasSuggestions:c=!1})=>{const[d,u]=D({}),[h,f]=D({}),[p,g]=D(!1),[m,y]=D(!1),b=oe(null),v={light:"lights",switch:"switches",climate:"climate",fan:"climate",humidifier:"climate",cover:"covers",media_player:"media",vacuum:"cleaning",dishwasher:"cleaning",washing_machine:"cleaning",air_purifier:"cleaning",camera:"security",lock:"security",siren:"security",alert:"security",alarm_control_panel:"security",valve:"utilities",printer3d_device:"utilities",script:"scripts",automation:"automations",scene:"scenes"},w=z=>te(`subcategories.${z}`,o),S={all:te("subcategories.all",o),script:"Skripte",automation:"Automationen",scene:"Szenen",playlist:"Playlists",custom_card:"Karten",lovelace_view:"Views"},x=()=>{const B=(n.length>0?n:t).some(E=>E.isFavorite),V=["all"];if(B&&V.push("favorites"),c&&V.push("suggestions"),s==="areas"){const E=new Set(t.map(ee=>ee.area).filter(Boolean));return[...V,...Array.from(E).sort()]}if(s==="types"&&e==="custom"){const E=new Set(t.map(ee=>ee.custom_data?.type).filter(Boolean));return["all",...Array.from(E)]}if(e==="custom")return[...V,"system","apps"];if(e==="sensors"){const E=new Set,ee=new Set;t.forEach(ie=>{const se=Jl(ie);se&&se!==null&&E.add(se),ie.area&&ee.add(ie.area)});const ue=["temperature","humidity","motion","door_window","presence","energy","light","pressure","battery","air_quality","other_sensors"],K=Array.from(E).sort((ie,se)=>{const xe=ue.indexOf(ie),we=ue.indexOf(se);return(xe===-1?999:xe)-(we===-1?999:we)}),Q=Array.from(ee).sort((ie,se)=>ie.localeCompare(se,"de"));return[...V,...K,...Q]}if(e==="actions"){const E=new Set(t.map(Q=>Q.domain)),ee=new Set;E.forEach(Q=>{const ie=v[Q];ie&&ee.add(ie)});const ue=["scripts","automations","scenes"],K=Array.from(ee).sort((Q,ie)=>{const se=ue.indexOf(Q),xe=ue.indexOf(ie);return(se===-1?999:se)-(xe===-1?999:xe)});return[...V,...K]}const A=new Set(t.map(E=>E.domain)),F=new Set;A.forEach(E=>{if(e==="devices"&&E==="scene")return;const ee=v[E];ee&&F.add(ee)}),t.some(E=>E.domain==="fan"&&E.attributes?.device_class==="air_purifier")&&(F.add("cleaning"),!t.some(ee=>ee.domain==="fan"&&ee.attributes?.device_class!=="air_purifier")&&F.has("climate")&&(t.some(ue=>ue.domain==="climate"||ue.domain==="humidifier")||F.delete("climate"))),t.some(E=>E.domain==="binary_sensor"?["smoke","gas","carbon_monoxide","safety","sound","vibration","problem"].includes(E.attributes?.device_class):!1)&&F.add("security");const X=["lights","switches","climate","covers","media","cleaning","security","utilities"],q=Array.from(F).sort((E,ee)=>{const ue=X.indexOf(E),K=X.indexOf(ee);return(ue===-1?999:ue)-(K===-1?999:K)});return[...V,...q]},k=()=>{const z={},B={};x().forEach(A=>{if(A==="all")z.all=t.length,B.all=t.filter(F=>F.isActive).length;else if(A==="favorites"){const F=t.filter(M=>M.isFavorite);z.favorites=F.length,B.favorites=F.filter(M=>M.isActive).length}else if(A==="suggestions")z.suggestions=l.length,B.suggestions=l.filter(F=>F.isActive).length;else if(s==="areas"){const F=t.filter(M=>M.area===A);z[A]=F.length,B[A]=F.filter(M=>M.isActive).length}else if(s==="types"){const F=t.filter(M=>M.custom_data?.type===A);z[A]=F.length,B[A]=F.filter(M=>M.isActive).length}else if(e==="sensors"){const F=t.filter(M=>Jl(M)===A||M.area===A);z[A]=F.length,B[A]=F.filter(M=>M.isActive).length}else if(e==="actions"){const F=t.filter(M=>v[M.domain]===A);z[A]=F.length,B[A]=F.filter(M=>M.isActive).length}else if(e==="custom"){if(A==="system"){const F=t.filter(M=>M.domain==="settings");z[A]=F.length,B[A]=F.filter(M=>M.isActive).length}else if(A==="apps"){const F=t.filter(M=>M.domain==="marketplace");z[A]=F.length,B[A]=F.filter(M=>M.isActive).length}}else{const F=Object.entries(v).filter(([C,X])=>X===A).map(([C])=>C),M=t.filter(C=>F.includes(C.domain)?C.domain==="fan"&&C.attributes?.device_class==="air_purifier"?A==="cleaning":!0:!!(C.domain==="fan"&&C.attributes?.device_class==="air_purifier"&&A==="cleaning"||C.domain==="binary_sensor"&&A==="security"&&["smoke","gas","carbon_monoxide","safety","sound","vibration","problem"].includes(C.attributes?.device_class)));z[A]=M.length,B[A]=M.filter(C=>C.isActive).length}}),u(z),f(B)},N=()=>{if(!b.current)return;const{scrollLeft:z,scrollWidth:B,clientWidth:V}=b.current;g(z>0),y(z<B-V-5)};Y(()=>{k()},[t,s,e]),Y(()=>{const z=b.current;if(z){z.addEventListener("scroll",N),N();const B=new ResizeObserver(N);return B.observe(z),()=>{z.removeEventListener("scroll",N),B.disconnect()}}},[]);const L=(z,B)=>{z&&(z.stopPropagation(),z.preventDefault()),i?.(B===a&&B!=="all"?"all":B),typeof window<"u"&&window.dispatchEvent(new CustomEvent("subcategory-changed"))},_=(z,B)=>{if(z&&(z.stopPropagation(),z.preventDefault()),!b.current)return;const V=200;b.current.scrollBy({left:B==="left"?-V:V,behavior:"smooth"})},I=z=>s==="areas"?z==="all"?te("subcategories.all",o)+" "+te("filters.areas",o):z==="favorites"||z==="suggestions"?w(z):z:s==="types"?S[z]||z:w(z),T=x(),R=z=>{z.stopPropagation(),z.preventDefault()},j=z=>{z.stopPropagation(),z.preventDefault()};return r(P.div,{className:"subcategory-bar-container",onClick:R,onMouseDown:j,onPointerDown:j,"data-subcategory-bar":"true",variants:Qx,initial:"hidden",animate:"visible",exit:"exit",children:[r("style",{children:`
        .subcategory-bar-container {
          position: relative;
          margin: 0;
          width: 100%;
        }

        .subcategory-bar {
          display: flex;
          gap: 8px;
          padding: 8px 20px;
          margin: 0 -20px;
          overflow-x: auto;
          scrollbar-width: none;
          -ms-overflow-style: none;
          -webkit-overflow-scrolling: touch;
          scroll-behavior: smooth;
          position: relative;
        }

        .subcategory-bar::-webkit-scrollbar {
          display: none;
        }

        .subcategory-chip {
          padding: 8px 16px;
          border: 0px solid;
          border-radius: 20px;
          cursor: pointer;
          white-space: nowrap;
          flex-shrink: 0;
          user-select: none;
          display: inline-flex;
          align-items: center;
          gap: 8px;
          min-height: 38px;
          font-size: 17px;
          /* Removed CSS transitions - handled by Framer Motion */
        }

        .chip-label {
          font-weight: 500;
          color: rgba(255, 255, 255, 0.9);
          font-size: 16px;
        }

        .chip-active-badge {
          font-size: 14px;
          padding: 2px 6px;
          background: rgba(255, 255, 255, 0.1);
          border-radius: 10px;
          color: rgba(255, 255, 255, 0.7);
          font-weight: 500;
          min-width: 20px;
          text-align: center;
        }

        .scroll-indicator {
          position: absolute;
          top: 25%;
          transform: translateY(-50%);
          width: 28px;
          height: 28px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          cursor: pointer;
          z-index: 10;
          backdrop-filter: blur(10px);
          -webkit-backdrop-filter: blur(10px);
          border: 1px solid rgba(255, 255, 255, 0.1);
          /* Removed CSS transitions - handled by Framer Motion */
        }

        .scroll-indicator-left {
          left: 0px;
        }

        .scroll-indicator-right {
          right: 0px;
        }

        .scroll-indicator svg {
          width: 14px;
          height: 14px;
        }
      `}),r("div",{ref:b,className:"subcategory-bar",children:r(Te,{mode:"sync",children:T.map((z,B)=>{const V=h[z]||0,A=z===a,F=V>0;return r(P.div,{layout:!0,className:"subcategory-chip","data-subcategory":z,onClick:M=>L(M,z),initial:"inactive",animate:A?"active":"inactive",whileHover:A?{}:"hover",whileTap:"tap",variants:Yx,transition:{layout:{duration:.3,ease:[.16,1,.3,1]},backgroundColor:{duration:.2},scale:{duration:.2,ease:[.16,1,.3,1]}},children:[r(P.span,{className:"chip-label",layout:"position",children:I(z)}),r(Te,{children:F&&r(P.span,{className:"chip-active-badge",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{duration:.2,ease:"easeOut"},layout:"position",children:V})})]},z)})})}),r(Te,{children:p&&r(P.div,{className:"scroll-indicator scroll-indicator-left",onClick:z=>_(z,"left"),variants:Qh,initial:"hidden",animate:"visible",exit:"hidden",whileHover:"hover",whileTap:{scale:.95},children:r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r("polyline",{points:"15 18 9 12 15 6"})})})}),r(Te,{children:m&&r(P.div,{className:"scroll-indicator scroll-indicator-right",onClick:z=>_(z,"right"),variants:Qh,initial:"hidden",animate:"visible",exit:"hidden",whileHover:"hover",whileTap:{scale:.95},children:r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r("polyline",{points:"9 18 15 12 9 6"})})})})]})},De=({scrollContainerRef:e,isHovered:t=!1,updateTriggerEvent:n=null})=>{const[i,s]=D(!1),[o,a]=D(0),[l,c]=D(8),[d,u]=D(!1),h=oe(null),f=64,p=8;return Y(()=>{const g=e?.current;if(!g)return;const m=()=>{const{scrollTop:b,scrollHeight:v,clientHeight:w}=g,S=v>w;if(s(S),!S)return;const x=w/v,k=Math.max(p,f*x);c(k);const N=b/(v-w),L=f-k,_=N*L;a(_),u(!0),clearTimeout(h.current),h.current=setTimeout(()=>{u(!1)},1e3)};m(),g.addEventListener("scroll",m);const y=new ResizeObserver(m);return y.observe(g),n&&window.addEventListener(n,m),()=>{g.removeEventListener("scroll",m),y.disconnect(),n&&window.removeEventListener(n,m),clearTimeout(h.current)}},[e,n]),i?r(Te,{children:i&&r(P.div,{className:"custom-scrollbar-container",initial:{opacity:0},animate:{opacity:d||t?1:0},exit:{opacity:0},transition:{duration:.3},style:{position:"absolute",right:"3px",top:"50%",transform:"translateY(-50%)",zIndex:1e3,pointerEvents:"none"},children:r("div",{style:{width:"11px",height:`${f}px`,background:"rgba(255, 255, 255, 0.1)",borderRadius:"11px",position:"relative",overflow:"hidden"},children:r(P.div,{style:{position:"absolute",top:`${o}px`,left:"3px",right:"3px",height:`${l}px`,background:"rgba(255, 255, 255, 0.6)",borderRadius:"8px"},transition:{type:"spring",stiffness:300,damping:30}})})})}):null};let Ds=null,sf=!1;const w1=async(e,t={})=>{const{maxRetries:n=20,interval:i=500}=t;return sf&&(e?.hass||window._hass)?e?.hass||window._hass:Ds||(Ds=new Promise((s,o)=>{let a=0;const l=()=>{let c=null;if(e?.hass&&(c=e.hass),!c&&typeof window<"u"&&window._hass&&(c=window._hass),c&&c.states&&Object.keys(c.states).length>0){sf=!0,window._hassReady=!0,s(c);return}if(a<n)a++,setTimeout(l,i);else{const d=new Error(`Hass not available after ${n} attempts (${n*i}ms)`);o(d)}};l()}),Ds)};class _t{constructor(t){if(!t.id)throw new Error("SystemEntity requires an id");if(!t.domain)throw new Error("SystemEntity requires a domain");if(!t.name)throw new Error("SystemEntity requires a name");this.id=t.id,this.domain=t.domain,this.name=t.name,this.icon=t.icon||"mdi:puzzle",this.category=t.category||"system",this.subcategory=t.subcategory||null,this.description=t.description||"",this.relevance=t.relevance||80,this.brandColor=t.brandColor||null,this.attributes=t.attributes||{},this.permissions=t.permissions||[],this.routes=t.routes||{},this.actions=t.actions||{},this.viewComponent=t.viewComponent||null,this.isPlugin=t.isPlugin||!1,this.pluginManifest=t.pluginManifest||null,this.hasTabs=t.hasTabs!==void 0?t.hasTabs:!1,this.hasCustomView=t.hasCustomView!==void 0?t.hasCustomView:!0,this.showInDetailView=t.showInDetailView!==void 0?t.showInDetailView:!0,this.actionButtons=t.actionButtons||null,this._mounted=!1,this._context=null,this._storage=null,this._config=t}async onMount(t){if(this._mounted){console.warn(`SystemEntity ${this.id} is already mounted`);return}this._context=t,this._mounted=!0,t.storage&&(this._storage=await this._initializeStorage(t.storage))}async mountWithRetry(t,n,i={}){if(this._mounted){console.warn(`SystemEntity ${this.id} is already mounted`);return}this._context=t,this._mounted=!0,t.storage&&(this._storage=await this._initializeStorage(t.storage));try{const s=await w1(t,i);await n.call(this,s)}catch(s){console.warn(`[${this.id}] Failed to mount with retry:`,s)}}async onUnmount(){this._mounted&&(this._context=null,this._storage=null,this._mounted=!1,console.log(` SystemEntity unmounted: ${this.id}`))}async _initializeStorage(t){const n=`system_entity_${this.id}`;return{get:i=>t.get(`${n}_${i}`),set:(i,s)=>t.set(`${n}_${i}`,s),delete:i=>t.delete(`${n}_${i}`),clear:()=>t.clearNamespace(n)}}async executeAction(t,n={}){const i=this.actions[t];if(!i)throw new Error(`Action '${t}' not found in entity '${this.id}'`);if(typeof i!="function")throw new Error(`Action '${t}' is not a function`);try{return await i.call(this,n,this._context)}catch(s){throw console.error(` Action failed: ${this.id}.${t}`,s),s}}getRoute(t){return this.routes[t]||null}hasPermission(t){return this.permissions.includes(t)}toEntity(){const t=this.isPlugin?`plugin.${this.id}`:`system.${this.id}`;return{entity_id:t,id:t,domain:this.domain,name:this.name,state:this._mounted?"active":"inactive",area:this.area||null,category:this.category,subcategory:this.subcategory||null,attributes:{friendly_name:this.name,icon:this.icon,description:this.description,category:this.category,subcategory:this.subcategory,is_plugin:this.isPlugin,permissions:this.permissions,routes:Object.keys(this.routes),actions:Object.keys(this.actions),...this.attributes},is_system:!0,is_plugin:this.isPlugin,relevance_score:this.relevance,usage_count:0,last_used:null}}async loadView(){if(!this.viewComponent)throw new Error(`No view component defined for entity '${this.id}'`);if(typeof this.viewComponent=="function")try{const t=await this.viewComponent();return t.default||t}catch(t){throw console.error(`Failed to load view for entity '${this.id}':`,t),t}return this.viewComponent}updateAttributes(t){if(this.attributes={...this.attributes,...t},typeof window<"u"){const n=new CustomEvent("system-entity-updated",{detail:{entity_id:this.isPlugin?`plugin.${this.id}`:`system.${this.id}`,attributes:this.attributes}});window.dispatchEvent(n)}}getStorage(){return this._storage||console.warn(`No storage available for entity '${this.id}'`),this._storage}getContext(){return this._mounted||console.warn(`Entity '${this.id}' is not mounted`),this._context}isMounted(){return this._mounted}clone(){return new _t(this._config)}toJSON(){return{id:this.id,domain:this.domain,name:this.name,icon:this.icon,category:this.category,description:this.description,relevance:this.relevance,attributes:this.attributes,permissions:this.permissions,routes:this.routes,actions:Object.keys(this.actions),isPlugin:this.isPlugin,isMounted:this._mounted}}}class u_{constructor(){this.entities=new Map,this.viewComponents=new Map,this.categories=new Map,this.plugins=new Map,this.pluginLoaders=new Map,this.isInitialized=!1,this.context=null,this.listeners=new Map,this._initializeCategories()}_initializeCategories(){[{id:"system",label:"System",order:1},{id:"tools",label:"Tools",order:2},{id:"apps",label:"Apps",order:3},{id:"services",label:"Services",order:4}].forEach(n=>{this.categories.set(n.id,n)})}async initialize(t){if(this.isInitialized){console.warn("SystemEntityRegistry is already initialized");return}this.context=t,await this.autoDiscover(),await this.mountAll(),this.isInitialized=!0,this._emit("initialized",{count:this.entities.size})}register(t){if(t instanceof _t||(t=new _t(t)),!t.id||!t.domain)throw new Error("Invalid entity: missing id or domain");this.entities.has(t.id)&&console.warn(`Entity '${t.id}' is already registered, overwriting...`),this.entities.set(t.id,t),t.viewComponent&&this.viewComponents.set(t.domain,t.viewComponent);const n=t.category||"system";return this.categories.has(n)||this.categories.set(n,{id:n,label:n.charAt(0).toUpperCase()+n.slice(1),order:99}),this.isInitialized&&this.context&&t.onMount(this.context).catch(i=>{console.error(`Failed to mount entity '${t.id}':`,i)}),this._emit("entity-registered",{entity:t}),this}async unregister(t){const n=this.entities.get(t);if(!n){console.warn(`Entity '${t}' not found`);return}n.isMounted()&&await n.onUnmount(),this.entities.delete(t),this.viewComponents.delete(n.domain),n.isPlugin&&this.plugins.delete(t),console.log(` Unregistered entity: ${t}`),this._emit("entity-unregistered",{id:t})}getEntity(t){return this.entities.get(t)||null}getEntityByDomain(t){for(const n of this.entities.values())if(n.domain===t)return n;return null}getViewComponent(t){return this.viewComponents.has(t)?this.viewComponents.get(t):this.getEntityByDomain(t)?.viewComponent||null}getAllEntities(){return Array.from(this.entities.values())}getEntitiesByCategory(t){return this.getAllEntities().filter(n=>n.category===t)}getAsHomeAssistantEntities(){return this.getAllEntities().map(t=>t.toEntity())}isSystemEntity(t){return t?this.getEntityByDomain(t)!==null:!1}hasTabs(t){return this.getEntityByDomain(t)?.hasTabs||!1}hasCustomView(t){const n=this.getEntityByDomain(t);return n?.hasCustomView!==void 0?n.hasCustomView:!0}shouldShowInDetailView(t){const n=this.getEntityByDomain(t);return n?.showInDetailView!==void 0?n.showInDetailView:!0}getActionButtons(t){return this.getEntityByDomain(t)?.actionButtons||null}async autoDiscover(){const t=[()=>Ze(()=>Promise.resolve().then(()=>SL),void 0),()=>Ze(()=>Promise.resolve().then(()=>ML),void 0),()=>Ze(()=>Promise.resolve().then(()=>EL),void 0),()=>Ze(()=>Promise.resolve().then(()=>TL),void 0),()=>Ze(()=>Promise.resolve().then(()=>FL),void 0),()=>Ze(()=>Promise.resolve().then(()=>OL),void 0)];for(const n of t)try{const i=await n(),s=i.default||i.entity||i;if(s){const o=typeof s=="function"&&!(s instanceof _t)?s():s;o&&this.register(o)}}catch(i){console.error("Failed to load known entity:",i)}}async mountAll(){if(!this.context){console.warn("Cannot mount entities without context");return}const t=[];for(const n of this.entities.values())n.isMounted()||t.push(n.onMount(this.context).catch(i=>{console.error(`Failed to mount entity '${n.id}':`,i)}));await Promise.all(t)}async unmountAll(){const t=[];for(const n of this.entities.values())n.isMounted()&&t.push(n.onUnmount().catch(i=>{console.error(`Failed to unmount entity '${n.id}':`,i)}));await Promise.all(t),console.log(` Unmounted ${t.length} entities`)}async registerPlugin(t,n){const i=new _t({id:n.id,domain:n.system_entity.domain,name:n.name,icon:n.system_entity.icon||"mdi:puzzle",category:n.system_entity.category||"apps",description:n.description,relevance:n.system_entity.relevance||80,isPlugin:!0,pluginManifest:n,viewComponent:t.viewComponent||n.system_entity.viewComponent,actions:t.actions||{},permissions:n.requirements?.permissions||[]});if(this.plugins.set(n.id,{entity:i,plugin:t,manifest:n}),this.register(i),typeof t.init=="function")try{console.log(` Initializing plugin: ${n.id}`),await t.init({hass:window._hass||null,storage:localStorage,registry:this}),console.log(` Plugin initialized: ${n.id}`)}catch(s){console.error(` Plugin init failed for ${n.id}:`,s)}console.log(` Registered plugin: ${n.id}`)}getPlugin(t){return this.plugins.get(t)||null}getAllPlugins(){return Array.from(this.plugins.values())}on(t,n){this.listeners.has(t)||this.listeners.set(t,new Set),this.listeners.get(t).add(n)}off(t,n){const i=this.listeners.get(t);i&&i.delete(n)}_emit(t,n){const i=this.listeners.get(t);i&&i.forEach(s=>{try{s(n)}catch(o){console.error(`Error in event listener for '${t}':`,o)}})}async reset(){await this.unmountAll(),this.entities.clear(),this.viewComponents.clear(),this.plugins.clear(),this.pluginLoaders.clear(),this.isInitialized=!1,this.context=null,console.log(" Registry reset")}debug(){console.group("SystemEntityRegistry Debug"),console.log("Initialized:",this.isInitialized),console.log("Entities:",this.entities.size),console.log("Plugins:",this.plugins.size),console.log("Categories:",Array.from(this.categories.keys())),console.table(this.getAllEntities().map(t=>({id:t.id,domain:t.domain,category:t.category,mounted:t.isMounted(),isPlugin:t.isPlugin}))),console.groupEnd()}}const Fe=new u_;typeof window<"u"&&(window.systemRegistry=Fe,window.debugRegistry=()=>{console.log("Registry initialized:",Fe.isInitialized),console.log("Entities:",Fe.entities.size),console.log("All entities:",Fe.getAllEntities()),console.log("As HA entities:",Fe.getAsHomeAssistantEntities())});const k1={light:{turn_on:{parameters:["transition","rgb_color","rgbw_color","rgbww_color","color_name","hs_color","xy_color","color_temp","color_temp_kelvin","brightness","brightness_pct","brightness_step","brightness_step_pct","white","profile","flash","effect"]},turn_off:{parameters:["transition","flash"]},toggle:{parameters:["transition"]}},switch:{turn_on:{parameters:[]},turn_off:{parameters:[]},toggle:{parameters:[]}},climate:{set_temperature:{parameters:["temperature","target_temp_high","target_temp_low","hvac_mode"]},set_hvac_mode:{parameters:["hvac_mode"]},set_preset_mode:{parameters:["preset_mode"]},set_fan_mode:{parameters:["fan_mode"]},set_swing_mode:{parameters:["swing_mode"]},set_humidity:{parameters:["humidity"]},turn_on:{parameters:[]},turn_off:{parameters:[]}},cover:{open_cover:{parameters:[]},close_cover:{parameters:[]},stop_cover:{parameters:[]},toggle:{parameters:[]},open_cover_tilt:{parameters:[]},close_cover_tilt:{parameters:[]},stop_cover_tilt:{parameters:[]},set_cover_position:{parameters:["position"]},set_cover_tilt_position:{parameters:["tilt_position"]}},media_player:{turn_on:{parameters:[]},turn_off:{parameters:[]},toggle:{parameters:[]},volume_up:{parameters:[]},volume_down:{parameters:[]},volume_set:{parameters:["volume_level"]},volume_mute:{parameters:["is_volume_muted"]},media_play_pause:{parameters:[]},media_play:{parameters:[]},media_pause:{parameters:[]},media_stop:{parameters:[]},media_next_track:{parameters:[]},media_previous_track:{parameters:[]},media_seek:{parameters:["seek_position"]},select_source:{parameters:["source"]},select_sound_mode:{parameters:["sound_mode"]},play_media:{parameters:["media_content_type","media_content_id","enqueue","announce"]},shuffle_set:{parameters:["shuffle"]},repeat_set:{parameters:["repeat"]}},fan:{turn_on:{parameters:["speed","percentage","preset_mode"]},turn_off:{parameters:[]},toggle:{parameters:[]},set_percentage:{parameters:["percentage"]},set_preset_mode:{parameters:["preset_mode"]},set_direction:{parameters:["direction"]},oscillate:{parameters:["oscillating"]}},lock:{lock:{parameters:["code"]},unlock:{parameters:["code"]},open:{parameters:["code"]}},vacuum:{turn_on:{parameters:[]},turn_off:{parameters:[]},start:{parameters:[]},pause:{parameters:[]},stop:{parameters:[]},return_to_base:{parameters:[]},clean_spot:{parameters:[]},locate:{parameters:[]},set_fan_speed:{parameters:["fan_speed"]},send_command:{parameters:["command","params"]}},alarm_control_panel:{alarm_disarm:{parameters:["code"]},alarm_arm_home:{parameters:["code"]},alarm_arm_away:{parameters:["code"]},alarm_arm_night:{parameters:["code"]},alarm_arm_vacation:{parameters:["code"]},alarm_arm_custom_bypass:{parameters:["code"]},alarm_trigger:{parameters:[]}},scene:{turn_on:{parameters:["transition"]}},script:{turn_on:{parameters:[]},turn_off:{parameters:[]},toggle:{parameters:[]}},automation:{turn_on:{parameters:[]},turn_off:{parameters:[]},toggle:{parameters:[]},trigger:{parameters:["skip_condition"]}},input_boolean:{turn_on:{parameters:[]},turn_off:{parameters:[]},toggle:{parameters:[]}},input_number:{set_value:{parameters:["value"]},increment:{parameters:[]},decrement:{parameters:[]}},timer:{start:{parameters:["duration"]},pause:{parameters:[]},cancel:{parameters:[]},finish:{parameters:[]}}};function _d(e,t,n){const i={...n};return e==="light"&&("kelvin"in i&&!("color_temp_kelvin"in i)&&(i.color_temp_kelvin=i.kelvin,delete i.kelvin),"color_temp"in i&&!("color_temp_kelvin"in i)&&(i.color_temp_kelvin=Math.round(1e6/i.color_temp)),"brightness"in i&&(i.brightness=Math.max(0,Math.min(255,Math.round(i.brightness)))),"brightness_pct"in i&&!("brightness"in i)&&(i.brightness=Math.round(i.brightness_pct/100*255)),"rgb_color"in i&&(i.rgb_color=i.rgb_color.map(s=>Math.max(0,Math.min(255,Math.round(s))))),"hs_color"in i&&(i.hs_color=[Math.max(0,Math.min(360,i.hs_color[0])),Math.max(0,Math.min(100,i.hs_color[1]))])),e==="climate"&&("temperature"in i&&(i.temperature=Number(i.temperature)),"target_temp_high"in i&&(i.target_temp_high=Number(i.target_temp_high)),"target_temp_low"in i&&(i.target_temp_low=Number(i.target_temp_low)),"humidity"in i&&(i.humidity=Math.max(0,Math.min(100,Number(i.humidity))))),e==="media_player"&&"volume_level"in i&&(i.volume_level=Math.max(0,Math.min(1,Number(i.volume_level)))),e==="cover"&&("position"in i&&(i.position=Math.max(0,Math.min(100,Math.round(i.position)))),"tilt_position"in i&&(i.tilt_position=Math.max(0,Math.min(100,Math.round(i.tilt_position))))),e==="fan"&&"percentage"in i&&(i.percentage=Math.max(0,Math.min(100,Math.round(i.percentage)))),i}function x1(e,t){return k1[e]?.hasOwnProperty(t)||!1}async function _1(e,t,n,i){if(!e)return console.warn("Home Assistant not available"),Promise.reject("Home Assistant not available");if(!x1(t,n))return console.warn(`Service ${t}.${n} not available`),Promise.reject(`Service ${t}.${n} not available`);const s=_d(t,n,i);console.log("Calling HA Service:",{domain:t,service:n,data:s});try{return await e.callService(t,n,s)}catch(o){throw console.error("HA Service Call failed:",o),o}}async function C1(e){if(!e)return console.warn("Home Assistant not available"),[];try{return await e.callWS({type:"config/area_registry/list"})||[]}catch(t){return console.error("Failed to load areas from HA:",t),[]}}async function S1(e){if(!e)return console.warn("Home Assistant not available"),[];try{const t=await e.callWS({type:"config/device_registry/list"});return console.log("Loaded devices from HA:",t.length),t||[]}catch(t){return console.error("Failed to load devices from HA:",t),[]}}async function N1(e){if(!e)return console.warn("Home Assistant not available"),[];try{const t=await e.callWS({type:"config/entity_registry/list"});return console.log("Loaded entity registry from HA:",t.length),t||[]}catch(t){return console.error("Failed to load entity registry from HA:",t),[]}}function L1(e,t=[],n=[],i=[]){const s=i.find(o=>o.entity_id===e.entity_id);if(s?.area_id){const o=t.find(a=>a.area_id===s.area_id);if(o)return{...e,area:o.name,area_id:s.area_id}}if(s?.device_id){const o=n.find(a=>a.id===s.device_id);if(o?.area_id){const a=t.find(l=>l.area_id===o.area_id);if(a)return{...e,area:a.name,area_id:o.area_id}}}return e.attributes?.area?e:{...e,area:null,area_id:null}}function M1(e,t,n,i){return e.map(s=>L1(s,t,n,i))}async function h_(e,t,n="24h"){if(!e)return console.warn("Home Assistant not available"),null;try{const i=new Date,s=i.toISOString();let o;switch(n){case"1h":o=new Date(i.getTime()-3600*1e3).toISOString();break;case"24h":o=new Date(i.getTime()-1440*60*1e3).toISOString();break;case"7d":o=new Date(i.getTime()-10080*60*1e3).toISOString();break;default:o=new Date(i.getTime()-1440*60*1e3).toISOString()}console.log(" Loading history from HA:",{entityId:t,timeRange:n,startTime:o,endTime:s});const a=await e.callApi("GET",`history/period/${o}?filter_entity_id=${t}&end_time=${s}&minimal_response&no_attributes`);if(!a||!a[0]||a[0].length===0)return console.warn("No history data returned from HA"),null;const l=a[0];console.log(" Received history data points:",l.length);const c=l.map(u=>({timestamp:new Date(u.last_changed).getTime(),value:of(u.state),state:u.state})).filter(u=>u.value!==null),d=l.filter((u,h)=>h===0?!0:u.state!==l[h-1].state).map(u=>({timestamp:new Date(u.last_changed).getTime(),state:u.state,value:of(u.state)}));return console.log(" Processed data:",{chartPoints:c.length,events:d.length}),{data:c,events:d}}catch(i){return console.error("Failed to load history from HA:",i),null}}function of(e){const t=parseFloat(e);return isNaN(t)?e==="on"?100:e==="off"?0:e==="open"?100:e==="closed"||e==="locked"?0:e==="unlocked"||e==="home"?100:e==="not_home"?0:e==="playing"?100:e==="paused"?50:e==="idle"?0:null:t}const f_=Object.freeze(Object.defineProperty({__proto__:null,DOMAIN_SERVICES:k1,callHAService:_1,enrichAllEntitiesWithAreas:M1,enrichEntityWithArea:L1,formatServiceData:_d,isServiceAvailable:x1,loadAreasFromHA:C1,loadDeviceRegistry:S1,loadEntityHistory:h_,loadEntityRegistry:N1},Symbol.toStringTag,{value:"Module"})),p_=()=>Fe&&Fe.isInitialized?Fe.getAsHomeAssistantEntities():[{entity_id:"system.settings",id:"system.settings",domain:"settings",name:"Einstellungen",state:"active",area:null,attributes:{friendly_name:"Einstellungen",icon:"mdi:cog",description:"Konfiguriere deine Fast Search Card"},relevance_score:100,is_system:!0,usage_count:0,last_used:null},{entity_id:"system.pluginstore",id:"system.pluginstore",domain:"pluginstore",name:"Plugin Store",state:"active",area:null,attributes:{friendly_name:"Plugin Store",icon:"mdi:puzzle-plus",description:"Erweitere deine Fast Search Card mit Plugins"},relevance_score:90,is_system:!0,usage_count:0,last_used:null}],m_="FastSearchDB",g_=1,He={ENTITIES:"entities",SETTINGS:"settings",SEARCH_INDEX:"searchIndex",USER_PATTERNS:"userPatterns",AREA_MAPPINGS:"areaMappings",FAVORITES:"favorites"};class y_{constructor(){this.db=null,this.isInitialized=!1}async init(){return this.isInitialized?this.db:new Promise((t,n)=>{const i=indexedDB.open(m_,g_);i.onerror=()=>{console.error("IndexedDB error:",i.error),n(i.error)},i.onsuccess=()=>{this.db=i.result,this.isInitialized=!0,t(this.db)},i.onupgradeneeded=s=>{const o=s.target.result;this.createStores(o)}})}createStores(t){if(!t.objectStoreNames.contains(He.ENTITIES)){const n=t.createObjectStore(He.ENTITIES,{keyPath:"entity_id"});n.createIndex("domain","domain",{unique:!1}),n.createIndex("area_id","area_id",{unique:!1}),n.createIndex("relevance_score","relevance_score",{unique:!1}),n.createIndex("last_used","last_used",{unique:!1})}if(t.objectStoreNames.contains(He.SETTINGS)||t.createObjectStore(He.SETTINGS,{keyPath:"key"}),t.objectStoreNames.contains(He.SEARCH_INDEX)||t.createObjectStore(He.SEARCH_INDEX,{keyPath:"term"}).createIndex("entity_count","entity_count",{unique:!1}),!t.objectStoreNames.contains(He.USER_PATTERNS)){const n=t.createObjectStore(He.USER_PATTERNS,{keyPath:"id",autoIncrement:!0});n.createIndex("entity_id","entity_id",{unique:!1}),n.createIndex("timestamp","timestamp",{unique:!1}),n.createIndex("action_type","action_type",{unique:!1})}if(t.objectStoreNames.contains(He.AREA_MAPPINGS)||t.createObjectStore(He.AREA_MAPPINGS,{keyPath:"area_id"}).createIndex("activity_level","activity_level",{unique:!1}),!t.objectStoreNames.contains(He.FAVORITES)){const n=t.createObjectStore(He.FAVORITES,{keyPath:"entity_id"});n.createIndex("added_date","added_date",{unique:!1}),n.createIndex("usage_count","usage_count",{unique:!1})}console.log("IndexedDB stores created successfully")}async get(t,n){return this.db||await this.init(),new Promise((i,s)=>{const l=this.db.transaction([t],"readonly").objectStore(t).get(n);l.onsuccess=()=>i(l.result),l.onerror=()=>s(l.error)})}async put(t,n){return this.db||await this.init(),new Promise((i,s)=>{const l=this.db.transaction([t],"readwrite").objectStore(t).put(n);l.onsuccess=()=>i(l.result),l.onerror=()=>s(l.error)})}async delete(t,n){return this.db||await this.init(),new Promise((i,s)=>{const l=this.db.transaction([t],"readwrite").objectStore(t).delete(n);l.onsuccess=()=>i(l.result),l.onerror=()=>s(l.error)})}async getAll(t,n=null,i=null){return this.db||await this.init(),new Promise((s,o)=>{const l=this.db.transaction([t],"readonly").objectStore(t),c=n?l.index(n):l,d=i?c.getAll(i):c.getAll();d.onsuccess=()=>s(d.result||[]),d.onerror=()=>o(d.error)})}async clear(t){return this.db||await this.init(),new Promise((n,i)=>{const a=this.db.transaction([t],"readwrite").objectStore(t).clear();a.onsuccess=()=>n(!0),a.onerror=()=>i(a.error)})}}class v_{constructor(){this.cache={settings:{language:"de",viewMode:"grid",theme:"auto",aiModeEnabled:!0},entities:new Map,favorites:new Set,recentSearches:[],searchCache:new Map,areaMappings:new Map,activeFilters:{category:"devices",subcategory:"all",area:null}},this.stats={hits:0,misses:0,writes:0}}get(t,n=null){return this.stats.hits++,n?this.cache[t]?.[n]:this.cache[t]}set(t,n,i=null){this.stats.writes++,i?(this.cache[t]||(this.cache[t]={}),this.cache[t][i]=n):this.cache[t]=n}has(t,n=null){return n?this.cache[t]?.hasOwnProperty(n):this.cache.hasOwnProperty(t)}clear(t=null){if(t)this.cache[t]instanceof Map?this.cache[t].clear():this.cache[t]instanceof Set?this.cache[t].clear():this.cache[t]={};else{const n=this.cache.settings;this.cache=this.constructor().cache,this.cache.settings=n}}getStats(){return{...this.stats,hitRate:this.stats.hits/(this.stats.hits+this.stats.misses)}}}const b_=(e,t)=>{if(!e||!t)return!1;try{const n=t.replace(/\./g,"\\.").replace(/\*/g,".*").replace(/\?/g,".");return new RegExp(`^${n}$`,"i").test(e)}catch(n){return console.error("Invalid pattern regex:",t,n),!1}},w_=()=>{try{const e=localStorage.getItem("integration_config");if(!e)return new Set;const t=JSON.parse(e);if(!t.devices||!Array.isArray(t.devices))return new Set;const n=t.devices.filter(i=>i.entity_id).map(i=>i.entity_id);return new Set(n)}catch(e){return console.error("Error loading integration entity IDs:",e),new Set}},hn=e=>{try{const t=localStorage.getItem("excludedPatterns"),n=t?JSON.parse(t):[],i=w_();return e.filter(o=>{if(o.is_system===!0)return!0;const a=o.entity_id||o.id;return a?!(i.has(a)||Array.isArray(n)&&n.length>0&&n.some(c=>b_(a,c))):!0})}catch(t){return console.error("Error filtering excluded entities:",t),e}},Fs=async(e,t,n,i,s={})=>{if(!i){console.warn("recordUserAction called without entityId");return}const o=new Date,a={action_type:n,entity_id:i,timestamp:o.toISOString(),context:{time_of_day:o.getHours()<12?"morning":o.getHours()<18?"afternoon":"evening",hour:o.getHours(),minute:o.getMinutes(),day_of_week:o.getDay(),week_of_year:Math.ceil((o-new Date(o.getFullYear(),0,1))/6048e5),is_weekend:o.getDay()===0||o.getDay()===6,...s}};try{await e.put(He.USER_PATTERNS,a);const l=await e.get(He.ENTITIES,i);l&&(l.usage_count=(l.usage_count||0)+1,l.last_used=new Date().toISOString(),await e.put(He.ENTITIES,l),t.cache.entities.has(i)&&t.cache.entities.set(i,l))}catch(l){console.error("Failed to record user action:",l)}},k_=async(e,t)=>{const n=await e.getAll(He.USER_PATTERNS),i=new Map;return n.forEach(s=>{const o=i.get(s.entity_id)||0;i.set(s.entity_id,o+1)}),t.map(s=>{let o=0;o+={light:15,switch:12,climate:18,cover:10,media_player:8,sensor:5,binary_sensor:5,scene:10,script:8,automation:6}[s.domain]||3,s.state!=="unavailable"&&s.state!=="unknown"&&(o+=10,(s.state==="on"||s.state==="playing"||s.state==="open")&&(o+=5));const l=i.get(s.entity_id)||0;o+=Math.min(l*3,30);const c=["living_room","kitchen","bedroom","bathroom"];if(s.area_id&&c.includes(s.area_id)&&(o+=20),s.attributes?.friendly_name&&(o+=5),s.last_updated){const d=new Date(s.last_updated),u=new Date(Date.now()-3600*1e3);d>u&&(o+=10)}return{...s,relevance_score:o,usage_count:l}})},x_=e=>e?e.toLowerCase().replace(/[^a-z0-9\s]/g,"").split(/\s+/).filter(t=>t.length>1):[],__=async(e,t)=>{const n=new Map;for(const i of t){const s=[i.attributes?.friendly_name,i.entity_id,i.area,i.domain].filter(Boolean).join(" "),o=x_(s);for(const a of o)n.has(a)||n.set(a,[]),n.get(a).push({entity_id:i.entity_id,score:i.relevance_score})}for(const[i,s]of n.entries())await e.put(He.SEARCH_INDEX,{term:i,matches:s,entity_count:s.length})},C_=async(e,t,n,i)=>{try{const s=await e.get(He.SETTINGS,"user_preferences");s&&(t.set("settings",s.value),n(s.value));const o=await e.getAll(He.FAVORITES),a=new Set(o.map(l=>l.entity_id));t.set("favorites",a),i(a)}catch(s){console.error("Failed to load critical data:",s)}},S_=async(e,t,n,i,s)=>{try{if(n.current)await s();else{const a=await e.getAll(He.ENTITIES),l=Fe.isInitialized?Fe.getAsHomeAssistantEntities():[];console.log(`[loadBackgroundData] System entities from registry: ${l.length}`);const c=[...l,...a.filter(d=>!d.is_system)];if(c.length>0){const d=hn(c);console.log(`[loadBackgroundData] Setting ${d.length} entities (${l.length} system)`),i(d),d.sort((h,f)=>(f.relevance_score||0)-(h.relevance_score||0)).slice(0,20).forEach(h=>{t.cache.entities.set(h.entity_id,h)})}}(await e.getAll(He.AREA_MAPPINGS)).forEach(a=>{t.cache.areaMappings.set(a.area_id,a)})}catch(o){console.error("Failed to load background data:",o)}},N_=async(e,t)=>{try{if(localStorage.getItem("predictiveSuggestions")==="false")return[];const n=parseInt(localStorage.getItem("confidenceThreshold")||"60")/100,i=parseInt(localStorage.getItem("suggestionTimeWindow")||"45"),s=parseInt(localStorage.getItem("maxSuggestions")||"10"),o=localStorage.getItem("learningRate")||"normal",a=new Date,l=a.getHours(),c=a.getMinutes(),d=a.getDay(),u={slow:45,normal:30,fast:15}[o]||30,h=new Date(a.getTime()-u*24*60*60*1e3),p=(await e.getAll(He.USER_PATTERNS)).filter(y=>{if(!y.context?.hour||new Date(y.timestamp)<h)return!1;const v=y.context.hour*60+(y.context.minute||0),w=l*60+c;let S=Math.abs(v-w);return S>720&&(S=1440-S),S<=i}),g=new Map;p.forEach(y=>{if(y.action_type!=="device_click")return;const b=y.entity_id;g.has(b)||g.set(b,{entity_id:b,total_count:0,same_day_count:0,recent_uses:[],last_used:null});const v=g.get(b);v.total_count++,y.context?.day_of_week===d&&v.same_day_count++,v.recent_uses.push(new Date(y.timestamp)),v.last_used=y.timestamp});const m=[];for(const[y,b]of g.entries()){const v={slow:5,normal:3,fast:2}[o]||3;if(b.total_count<v)continue;let w=b.total_count/u;const S={slow:.8,normal:1,fast:1.3}[o]||1;if(b.same_day_count>0){const N=b.same_day_count/Math.ceil(u/7)*.3*S;w+=N}const x=Math.floor((a-new Date(b.last_used))/(1440*60*1e3));x>7&&(w*=o==="fast"?.5:.7);const k=b.recent_uses.sort((N,L)=>N-L);if(k.length>=v){const N=[];for(let I=1;I<k.length;I++)N.push(k[I]-k[I-1]);N.reduce((I,T)=>I+T)/N.length<2880*60*1e3&&(w+=.2*S)}if(w=Math.min(Math.max(w,0),1),w>=n){const N=t.find(L=>L.entity_id===y||L.id===y);N&&m.push({...N,suggestion_confidence:w,suggestion_reason:w>.85?"highly_likely":w>.7?"likely":"possible",usage_pattern:{total_uses:b.total_count,same_weekday_uses:b.same_day_count,days_since_last:x,lookback_days:u}})}}return m.sort((y,b)=>b.suggestion_confidence-y.suggestion_confidence),m.slice(0,s)}catch(n){return console.error("Failed to calculate suggestions:",n),[]}},E1=ki(null),L_=({children:e,hass:t=null,config:n=null})=>{const[i,s]=D(!1),[o,a]=D(!0),[l,c]=D(null),[d,u]=D([]),[h,f]=D(new Set),[p,g]=D({}),m=oe(new y_),y=oe(new v_),b=oe(t);Y(()=>{b.current=t},[t]),Y(()=>{if(!t?.connection)return;const V=t.connection.subscribeMessage(A=>{if(A?.event_type==="state_changed"&&A?.data){const{entity_id:F,new_state:M}=A.data;if(!M||!F)return;j(F,M)}},{type:"subscribe_events",event_type:"state_changed"});return()=>{V.then(A=>A())}},[t?.connection]),Y(()=>{const V=()=>{b.current?k():x()};return window.addEventListener("excludedPatternsChanged",V),()=>window.removeEventListener("excludedPatternsChanged",V)},[]),Y(()=>{const V=()=>{v()},A=()=>{v()};return Fe.on("entity-registered",V),Fe.on("entity-unregistered",A),()=>{Fe.off("entity-registered",V),Fe.off("entity-unregistered",A)}},[]),Y(()=>{const V=A=>{const{entity_id:F,attributes:M}=A.detail;u(C=>{const X=C.findIndex(q=>q.entity_id===F);if(X!==-1){const q=[...C];return q[X]={...q[X],attributes:{...q[X].attributes,...M}},q}return C})};return window.addEventListener("system-entity-updated",V),()=>{window.removeEventListener("system-entity-updated",V)}},[]);const v=()=>{u(V=>{const A=Fe.getAsHomeAssistantEntities(),F=V.filter(C=>!C.is_system),M=hn(F);return[...A,...M]})};Y(()=>{w()},[]);const w=async()=>{try{a(!0),await m.current.init();try{await Fe.initialize({hass:b.current,storage:{get:A=>localStorage.getItem(A),set:(A,F)=>localStorage.setItem(A,F),delete:A=>localStorage.removeItem(A),clearNamespace:A=>{Object.keys(localStorage).forEach(F=>{F.startsWith(A)&&localStorage.removeItem(F)})}}});const V=Fe.getAsHomeAssistantEntities();u(V)}catch(V){console.error("Failed to initialize system registry:",V)}await S(),s(!0),x()}catch(V){console.error("Failed to initialize DataProvider:",V),c(V.message)}finally{a(!1)}},S=async()=>{await C_(m.current,y.current,g,f)},x=async()=>{await S_(m.current,y.current,b,u,k)},k=async()=>{if(b.current)try{const[V,A,F]=await Promise.all([C1(b.current),S1(b.current),N1(b.current)]),C=Object.values(b.current.states||{}).map(se=>({entity_id:se.entity_id,domain:se.entity_id.split(".")[0],state:se.state,attributes:se.attributes,last_changed:se.last_changed,last_updated:se.last_updated,context:se.context,relevance_score:0,usage_count:0,last_used:null})),X=M1(C,V,A,F),q=await k_(m.current,X),E=p_(),ee=q.filter(se=>!(["unavailable","unknown","disabled","None"].includes(se.state)||se.attributes?.disabled===!0||se.entity_id&&se.entity_id.startsWith("disabled_"))),ue=hn(ee),K=parseInt(localStorage.getItem("maxEntitiesLimit")||"0");let Q=ue.filter(se=>se.area!=null&&se.area!=="").sort((se,xe)=>xe.relevance_score-se.relevance_score);K>0&&(Q=Q.slice(0,K));let ie=[...E,...Q];for(const se of Q)se.is_system||await m.current.put(He.ENTITIES,se);u(ie),ie.slice(0,20).forEach(se=>{y.current.cache.entities.set(se.entity_id,se)}),await __(m.current,ie)}catch(V){console.error("Failed to load entities from HA:",V)}},N=Ie(async V=>{if(!V){console.warn("toggleFavorite called without entityId");return}const A=new Set(h);try{A.has(V)?(A.delete(V),await m.current.delete(He.FAVORITES,V),await Fs(m.current,y.current,"unfavorite",V)):(A.add(V),await m.current.put(He.FAVORITES,{entity_id:V,added_date:new Date().toISOString(),usage_count:0}),await Fs(m.current,y.current,"favorite",V)),f(A),y.current.set("favorites",A)}catch(F){console.error("Failed to toggle favorite:",F)}},[h]),L=Ie(async(V,A)=>{const F={...p,[V]:A};y.current.set("settings",F),g(F),await m.current.put(He.SETTINGS,{key:"user_preferences",value:F,updated:new Date().toISOString()})},[p]),_=Ie(async V=>{if(!V||V.length<2)return[];if(y.current.cache.searchCache.has(V))return y.current.cache.searchCache.get(V);const A=V.toLowerCase().split(/\s+/).filter(C=>C.length>1),F=new Map;for(const C of A){const X=await m.current.get(He.SEARCH_INDEX,C);if(X)for(const q of X.matches){const E=F.get(q.entity_id)||0;F.set(q.entity_id,E+q.score)}}const M=Array.from(F.entries()).sort((C,X)=>X[1]-C[1]).slice(0,20).map(([C])=>d.find(X=>X.entity_id===C)).filter(Boolean);return y.current.cache.searchCache.set(V,M),M},[d]),I=Ie(async()=>N_(m.current,d),[d]),T=Ie(async(V,A,F={})=>{if(!b.current)return console.warn("No Home Assistant connection"),!1;try{return await b.current.callService(V,A,F),F.entity_id&&Fs(m.current,y.current,"service_call",F.entity_id,{domain:V,service:A}),!0}catch(M){return console.error("Service call failed:",M),!1}},[]),R=async()=>{const V=new Date;let A=[];d&&d.length>0?A=d.slice(0,Math.min(10,d.length)).map(M=>M.entity_id||M.id):A=["light.wohnzimmer","light.schlafzimmer","switch.kaffeemaschine","climate.heizung_wohnzimmer","cover.rolladen_wohnzimmer"];for(let M=0;M<30;M++)for(const C of A){const X=Math.floor(Math.random()*3)+2;for(let q=0;q<X;q++){const E=new Date(V);E.setDate(E.getDate()-M);const ee=V.getHours(),ue=V.getMinutes();q===0?(E.setHours(ee),E.setMinutes(ue)):q===1?(E.setHours(ee),E.setMinutes(Math.max(0,ue-30))):(E.setHours(ee+(Math.random()-.5)),E.setMinutes(Math.floor(Math.random()*60)));const K={action_type:"device_click",entity_id:C,timestamp:E.toISOString(),context:{time_of_day:E.getHours()<12?"morning":E.getHours()<18?"afternoon":"evening",hour:E.getHours(),minute:E.getMinutes(),day_of_week:E.getDay(),week_of_year:Math.ceil((E-new Date(E.getFullYear(),0,1))/6048e5),is_weekend:E.getDay()===0||E.getDay()===6}};try{await m.current.put(He.USER_PATTERNS,K)}catch{}}}return await I()},j=Ie((V,A)=>{if(!V||!A){console.warn("[DataProvider] updateEntityState called with invalid data:",{entity_id:V,new_state:A});return}u(F=>{const M=F.findIndex(X=>X.entity_id===V),C=[...F];if(M!==-1){const X=C[M];C[M]={...X,state:A.state,attributes:{...X.attributes,...A.attributes},last_changed:A.last_changed,last_updated:A.last_updated,context:A.context}}else{const X=V.split(".")[0];C.push({entity_id:V,domain:X,state:A.state,attributes:A.attributes||{},last_changed:A.last_changed,last_updated:A.last_updated,context:A.context,relevance_score:0,usage_count:0,last_used:null})}return C})},[]),z=Ie(async(V,A,F={})=>{try{m.current&&y.current&&await Fs(m.current,y.current,V,A,F)}catch(M){console.warn("Failed to record user action:",M)}},[]),B={isInitialized:i,isLoading:o,error:l,entities:d,favorites:h,settings:p,cache:y.current,toggleFavorite:N,updateSetting:L,searchEntities:_,callService:T,calculateSuggestions:I,updateEntityState:j,recordUserAction:z,db:m.current,generateTestPatterns:R,hass:b.current};return r(E1.Provider,{value:B,children:e})},Qt=()=>{const e=dt(E1);if(!e)throw new Error("useData must be used within DataProvider");return e},T1=()=>{const{settings:e,updateSetting:t}=Qt();return[e,t]},M_=()=>{const{favorites:e,toggleFavorite:t}=Qt();return[e,t]},Cd=()=>{const{entities:e,searchEntities:t}=Qt();return[e,t]},E_=()=>{const{hass:e,callService:t}=Qt();return[e,t]},T_=()=>{const{calculateSuggestions:e}=Qt(),[t,n]=D([]),[i,s]=D(!1),o=Ie(async()=>{s(!0);try{const l=await e();n(l)}catch(l){console.error("Failed to load suggestions:",l),n([])}finally{s(!1)}},[e]);return Y(()=>{o()},[]),Y(()=>{const l=setInterval(o,3e5);return()=>clearInterval(l)},[o]),Y(()=>{const l=c=>{o()};return window.addEventListener("predictiveSettingChanged",l),()=>{window.removeEventListener("predictiveSettingChanged",l)}},[o]),[localStorage.getItem("predictiveSuggestions")!=="false"?t:[],i,o]},Pr={SINGLE:"single",REPEAT:"repeat"},A_={MONDAY:{key:"mon",label:"Montag",labelEn:"Monday",labelShort:"Mo",labelShortEn:"Mon"},TUESDAY:{key:"tue",label:"Dienstag",labelEn:"Tuesday",labelShort:"Di",labelShortEn:"Tue"},WEDNESDAY:{key:"wed",label:"Mittwoch",labelEn:"Wednesday",labelShort:"Mi",labelShortEn:"Wed"},THURSDAY:{key:"thu",label:"Donnerstag",labelEn:"Thursday",labelShort:"Do",labelShortEn:"Thu"},FRIDAY:{key:"fri",label:"Freitag",labelEn:"Friday",labelShort:"Fr",labelShortEn:"Fri"},SATURDAY:{key:"sat",label:"Samstag",labelEn:"Saturday",labelShort:"Sa",labelShortEn:"Sat"},SUNDAY:{key:"sun",label:"Sonntag",labelEn:"Sunday",labelShort:"So",labelShortEn:"Sun"}},Ra=["mon","tue","wed","thu","fri","sat","sun"],A1={LIGHT:{TURN_ON:{service:"turn_on",label:"Einschalten",labelEn:"Turn On"},TURN_OFF:{service:"turn_off",label:"Ausschalten",labelEn:"Turn Off"}},SWITCH:{TURN_ON:{service:"turn_on",label:"Einschalten",labelEn:"Turn On"},TURN_OFF:{service:"turn_off",label:"Ausschalten",labelEn:"Turn Off"}},CLIMATE:{SET_TEMPERATURE:{service:"set_temperature",label:"Temperatur setzen",labelEn:"Set Temperature"},TURN_ON:{service:"turn_on",label:"Einschalten",labelEn:"Turn On"},TURN_OFF:{service:"turn_off",label:"Ausschalten",labelEn:"Turn Off"}},COVER:{OPEN:{service:"open_cover",label:"ffnen",labelEn:"Open"},CLOSE:{service:"close_cover",label:"Schlieen",labelEn:"Close"},SET_POSITION:{service:"set_cover_position",label:"Position setzen",labelEn:"Set Position"},STOP:{service:"stop_cover",label:"Stoppen",labelEn:"Stop"}},MEDIA_PLAYER:{TURN_ON:{service:"turn_on",label:"Einschalten",labelEn:"Turn On"},TURN_OFF:{service:"turn_off",label:"Ausschalten",labelEn:"Turn Off"},PLAY:{service:"media_play",label:"Abspielen",labelEn:"Play"},PAUSE:{service:"media_pause",label:"Pausieren",labelEn:"Pause"}}},Ci={MIN_SCHEDULES:2,MAX_SCHEDULES:8,MIN_TIMERS:1,MAX_TIMERS:4},vr={MINUTE_IN_MS:6e4,HOUR_IN_MS:36e5},D_=(e,t="de")=>!e||e.length===0?t==="en"?"No days":"Keine Tage":e.length===7?t==="en"?"Daily":"Tglich":e.length===5&&e.includes("mon")&&e.includes("tue")&&e.includes("wed")&&e.includes("thu")&&e.includes("fri")?t==="en"?"Weekdays":"Werktags":e.length===2&&e.includes("sat")&&e.includes("sun")?t==="en"?"Weekend":"Wochenende":e.map(i=>{const s=Object.values(A_).find(o=>o.key===i);return s?t==="en"?s.labelShortEn:s.labelShort:i}).join(", "),F_=e=>{const t=new Date,i=new Date(e)-t;if(i<=0)return{hours:0,minutes:0,seconds:0,isPast:!0};const s=Math.floor(i/vr.HOUR_IN_MS),o=Math.floor(i%vr.HOUR_IN_MS/vr.MINUTE_IN_MS),a=Math.floor(i%vr.MINUTE_IN_MS/1e3);return{hours:s,minutes:o,seconds:a,isPast:!1}},af=(e,t)=>`${String(e).padStart(2,"0")}:${String(t).padStart(2,"0")}`,lf=(e,t,n="de")=>{if(!e)return t;const i=A1[e.toUpperCase()];if(!i)return t;const s=Object.values(i).find(o=>o.service===t);return s?n==="en"?s.labelEn:s.label:t},P_=async(e,t)=>{if(!e||!t)return console.warn("fetchSchedules: hass oder entityId fehlt"),[];try{console.log(` Lade Schedules fr ${t}...`);let n=[],i=[];if(e.states)console.log(" Suche in States nach switch.schedule_* Entities"),i=Object.values(e.states);else if(e.connection&&e.connection.sendMessagePromise)console.log(" States nicht verfgbar, lade via sendMessagePromise..."),i=await e.connection.sendMessagePromise({type:"get_states"});else if(e.callWS)console.log(" States nicht verfgbar, lade via callWS..."),i=await e.callWS({type:"get_states"});else return console.error(" Keine Methode zum Laden der States gefunden!"),[];if(i.length===0)return console.warn(" Keine States geladen!"),[];console.log(` ${i.length} States geladen`);const s=i.filter(a=>a.entity_id.startsWith("switch.schedule_"));return console.log(` Gefundene switch.schedule_* entities: ${s.length}`),n=s.filter(a=>{const l=a.attributes?.entities||[],c=l.includes(t);return console.log(` Check ${a.entity_id}:`,{entities:l,match:c,weekdays:a.attributes?.weekdays,timeslots:a.attributes?.timeslots,actions:a.attributes?.actions}),c}).map(a=>({schedule_id:a.entity_id,name:a.attributes.friendly_name||a.entity_id,entity_id:t,enabled:a.state==="on",weekdays:a.attributes.weekdays||[],timeslots:a.attributes.timeslots||[],actions:a.attributes.actions||[],entities:a.attributes.entities||[],repeat_type:I_(a.attributes),time:a.attributes.timeslots?.[0]||"00:00",...a.attributes})),console.log(` ${n.length} passende Schedules gefunden fr ${t}`),n.length===0&&console.warn(` Keine Schedules fr ${t} gefunden`),n}catch(n){return console.error(" Fehler beim Laden der Schedules:",n),[]}},I_=e=>{const t=e?.weekdays||[];return t.includes("daily")||t.length>1||t.length===1&&t[0]!=="daily",Pr.REPEAT},R_=e=>{if(!e||!e.entity_id)return console.warn("generateMockSchedules: item oder entity_id fehlt"),[];console.log(` Generiere Mock-Schedules fr ${e.entity_id}`);const t=[],n=[],i=Math.floor(Math.random()*(Ci.MAX_SCHEDULES-Ci.MIN_SCHEDULES+1))+Ci.MIN_SCHEDULES;for(let a=0;a<i;a++){const l=Math.floor(Math.random()*24),c=Math.floor(Math.random()*60),d=V_(),u=cf(e.domain);t.push({schedule_id:`schedule_mock_${e.entity_id}_${a}`,name:`${e.name||e.entity_id} - ${af(l,c)}`,entity_id:e.entity_id,enabled:Math.random()>.3,repeat_type:Pr.REPEAT,weekdays:d,time:af(l,c),action:u.service,service_data:u.data||{},next_execution:O_(l,c,d)})}const s=Math.floor(Math.random()*(Ci.MAX_TIMERS-Ci.MIN_TIMERS+1))+Ci.MIN_TIMERS;for(let a=0;a<s;a++){const l=new Date(Date.now()+Math.random()*3*vr.HOUR_IN_MS),c=cf(e.domain);n.push({schedule_id:`timer_mock_${e.entity_id}_${a}`,name:`Timer: ${e.name||e.entity_id}`,entity_id:e.entity_id,enabled:!0,repeat_type:Pr.SINGLE,execution_time:l.toISOString(),action:c.service,service_data:c.data||{},remaining_time:F_(l.toISOString())})}const o=[...t,...n];return console.log(` ${t.length} Schedules + ${n.length} Timer generiert`),o},B_=(e,t,n)=>{if(!e||e.length===0)return console.warn("transformToScheduleObject: Keine Schedules vorhanden"),{activeSchedules:[],activeTimers:[],stats:{totalSchedules:0,activeSchedules:0,totalTimers:0,activeTimers:0}};console.log(` Transformiere ${e.length} Schedules fr ${t}`);const i=e.filter(c=>{const d=c.name||c.attributes?.friendly_name||"";return!d.toLowerCase().startsWith("timer")&&!d.toLowerCase().includes("timer:")}),s=e.filter(c=>{const d=c.name||c.attributes?.friendly_name||"";return d.toLowerCase().startsWith("timer")||d.toLowerCase().includes("timer:")});console.log(` Kategorisierung: ${i.length} Schedules, ${s.length} Timer`);const o=i.map(c=>{const d=c.timeslots?.[0]||"00:00",u=c.actions?.[0]||{},h=u.service||"turn_on",f=h.includes(".")?h.split(".")[1]:h,p=c.entities||[],g=p[0]||t,m=g?g.split(".")[0]:n||"unknown";return{id:c.schedule_id,type:"schedule",name:c.name,time:d.slice(0,5),days:D_(c.weekdays||[]),daysRaw:c.weekdays||[],action:lf(m,f),actionRaw:h,enabled:c.enabled!==!1,nextExecution:c.next_execution,serviceData:u.data||u.service_data||{},domain:m,entities:p}}),a=s.map(c=>{const d=c.timeslots?.[0]||"00:00",u=c.actions?.[0]||{},h=u.service||"turn_on",f=h.includes(".")?h.split(".")[1]:h,p=new Date,[g,m]=d.split(":").map(L=>parseInt(L)),y=new Date;y.setHours(g,m,0,0),y<=p&&y.setDate(y.getDate()+1);const b=y.getTime()-p.getTime(),v=Math.floor(b/6e4),w=Math.floor(v/60),S=v%60,x=c.entities||[],k=x[0]||t,N=k?k.split(".")[0]:n||"unknown";return{id:c.schedule_id,type:"timer",name:c.name,time:d.slice(0,5),executionTime:y.toISOString(),action:lf(N,f),actionRaw:h,enabled:c.enabled!==!1,remaining:v,remainingTime:{hours:w,minutes:S,isPast:v<0},isPast:v<0,serviceData:u.data||u.service_data||{},domain:N,entities:x}}),l={totalSchedules:i.length,activeSchedules:i.filter(c=>c.enabled!==!1).length,totalTimers:s.length,activeTimers:s.filter(c=>c.enabled!==!1).length};return console.log(" Transformation abgeschlossen:",{schedules:o.length,timers:a.length,stats:l}),{activeSchedules:o,activeTimers:a,stats:l}},D1=async(e,t)=>{if(!e||!t)return console.warn("createSchedule: hass oder scheduleData fehlt"),!1;try{return console.log(" Erstelle neuen Schedule:",t),e.callService?(await e.callService("scheduler","add",t),console.log(" Schedule erfolgreich erstellt"),!0):(console.warn(" Keine Methode zum Erstellen verfgbar"),!1)}catch(n){return console.error(" Fehler beim Erstellen des Schedules:",n),!1}},z_=async(e,t)=>{if(!e||!t)return console.warn("deleteSchedule: hass oder scheduleId fehlt"),!1;try{return console.log(` Lsche Schedule ${t}`),e.callService?(await e.callService("scheduler","remove",{entity_id:t}),console.log(" Schedule erfolgreich gelscht"),!0):(console.warn(" Keine Methode zum Lschen verfgbar"),!1)}catch(n){return console.error(" Fehler beim Lschen des Schedules:",n),!1}},V_=()=>{const e=Math.random();if(e>.7)return["daily"];if(e>.5)return["mon","tue","wed","thu","fri"];if(e>.3)return["sat","sun"];{const t=Math.floor(Math.random()*4)+2;return[...Ra].sort(()=>Math.random()-.5).slice(0,t).sort((i,s)=>Ra.indexOf(i)-Ra.indexOf(s))}},cf=e=>{const t=e?.toUpperCase()||"LIGHT",n=A1[t];if(!n)return{service:"turn_on",data:{}};const i=Object.keys(n),s=i[Math.floor(Math.random()*i.length)],o=n[s];let a={};return e==="light"&&o.service==="turn_on"?a.brightness=Math.floor(Math.random()*255):e==="climate"&&o.service==="set_temperature"&&(a.temperature=18+Math.floor(Math.random()*8)),{service:o.service,data:a}},O_=(e,t,n)=>{if(!n||n.length===0)return null;const i=new Date,s=i.getDay(),o=i.getHours(),a=i.getMinutes(),l=["sun","mon","tue","wed","thu","fri","sat"];for(let d=0;d<7;d++){const u=(s+d)%7,h=l[u];if((n.includes(h)||n.includes("daily"))&&!(d===0&&(o>e||o===e&&a>=t))){const g=new Date(i);return g.setDate(i.getDate()+d),g.setHours(e,t,0,0),g.toISOString()}}const c=new Date(i);return c.setDate(i.getDate()+7),c.setHours(e,t,0,0),c.toISOString()},W_=async(e,t,n)=>{if(console.log(" handleTimerCreate called with:",n),!e)return console.warn(" No hass available, cannot create timer"),!1;if(!t||!t.entity_id)return console.warn(" No valid item provided"),!1;try{const i={weekdays:n.weekdays||[],timeslots:[{start:n.time||"00:00",actions:[{service:`${t.domain}.${n.action||"turn_on"}`,entity_id:t.entity_id,service_data:n.serviceData||{}}]}],name:n.name||`Timer: ${t.name||t.entity_id}`,repeat_type:"single"},s=await D1(e,i);return s?(console.log(" Timer erfolgreich erstellt! Warte kurz vor Reload..."),await new Promise(o=>setTimeout(o,500))):console.error(" Timer konnte nicht erstellt werden"),s}catch(i){return console.error(" Error creating timer:",i),!1}},H_=async(e,t,n)=>{if(console.log(" handleScheduleCreate called with:",n),!e)return console.warn(" No hass available, cannot create schedule"),!1;if(!t||!t.entity_id)return console.warn(" No valid item provided"),!1;try{const i={weekdays:n.weekdays||[],timeslots:[{start:n.time||"00:00",actions:[{service:`${t.domain}.${n.action||"turn_on"}`,entity_id:t.entity_id,service_data:n.serviceData||{}}]}],name:n.name||`Schedule: ${t.name||t.entity_id}`,repeat_type:"repeat"};console.log(" Sende an Scheduler Component:",i);const s=await D1(e,i);return s?(console.log(" Schedule erfolgreich erstellt! Warte kurz vor Reload..."),await new Promise(o=>setTimeout(o,500))):console.error(" Schedule konnte nicht erstellt werden"),s}catch(i){return console.error(" Error creating schedule:",i),!1}},Ps={heat:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="12" cy="12" r="6" stroke-linecap="round" stroke-linejoin="round"/><path d="M22 12L23 12M12 2V1M12 23V22M20 20L19 19M20 4L19 5M4 20L5 19M4 4L5 5M1 12L2 12" stroke-linecap="round" stroke-linejoin="round"/></svg>',cool:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M3 7L6.5 9M21 17L17.5 15M12 12L6.5 9M12 12L6.5 15M12 12V5M12 12V18.5M12 12L17.5 15M12 12L17.5 9M12 2V5M12 22V18.5M21 7L17.5 9M3 17L6.5 15M6.5 9L3 10M6.5 9L6 5.5M6.5 15L3 14M6.5 15L6 18.5M12 5L9.5 4M12 5L14.5 4M12 18.5L14.5 20M12 18.5L9.5 20M17.5 15L18 18.5M17.5 15L21 14M17.5 9L21 10M17.5 9L18 5.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',dry:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M20 14C20 9.58172 12 2 12 2C12 2 4 9.58172 4 14C4 18.4183 7.58172 22 12 22C16.4183 22 20 18.4183 20 14Z"/></svg>',fan_only:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M18.2785 7C19.7816 7 21 8.11929 21 9.5C21 10.8807 19.7816 12 18.2785 12H3M17.9375 20C19.0766 20 20.5 19.5 20.5 17.5C20.5 15.5 19.0766 15 17.9375 15H3M10.4118 4C11.8412 4 13 5.11929 13 6.5C13 7.88071 11.8412 9 10.4118 9H3" stroke-linecap="round" stroke-linejoin="round"/></svg>'},Ct={brightness:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>',thermometer:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"/></svg>',palette:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"/></svg>',settings:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><circle cx="12" cy="12" r="3"/><path d="M12 1v6m0 6v6m4.22-13.22l4.24 4.24M1.54 1.54l4.24 4.24M20.46 20.46l-4.24-4.24M1.54 20.46l4.24-4.24"/></svg>',settings_climate:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="1.5"><path d="M13.9922 17H16.9922M19.9922 17H16.9922M16.9922 17V14M16.9922 17V20" stroke-linecap="round" stroke-linejoin="round"/><path d="M4 9.4V4.6C4 4.26863 4.26863 4 4.6 4H9.4C9.73137 4 10 4.26863 10 4.6V9.4C10 9.73137 9.73137 10 9.4 10H4.6C4.26863 10 4 9.73137 4 9.4Z"/><path d="M4 19.4V14.6C4 14.2686 4.26863 14 4.6 14H9.4C9.73137 14 10 14.2686 10 14.6V19.4C10 19.7314 9.73137 20 9.4 20H4.6C4.26863 20 4 19.7314 4 19.4Z"/><path d="M14 9.4V4.6C14 4.26863 14.2686 4 14.6 4H19.4C19.7314 4 20 4.26863 20 4.6V9.4C20 9.73137 19.7314 10 19.4 10H14.6C14.2686 10 14 9.73137 14 9.4Z"/></svg>',play:'<svg width="24" height="24" viewBox="0 0 24 24" fill="white"><polygon points="5 3 19 12 5 21 5 3"/></svg>',pause:'<svg width="24" height="24" viewBox="0 0 24 24" fill="white"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>',skip_back:'<svg width="24" height="24" viewBox="0 0 24 24" fill="white"><polygon points="11 19 2 12 11 5 11 19"/><polygon points="22 19 13 12 22 5 22 19"/></svg>',skip_forward:'<svg width="24" height="24" viewBox="0 0 24 24" fill="white"><polygon points="13 19 22 12 13 5 13 19"/><polygon points="2 19 11 12 2 5 2 19"/></svg>',tv:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><rect x="2" y="7" width="20" height="15" rx="2" ry="2"/><polyline points="17 2 12 7 7 2"/></svg>',info:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>',lock:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>',unlock:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 9.9-1"/></svg>'},$_=(e,t,n,i="de")=>{const s=o=>te(`controls.${o}`,i);if(t==="temperature"){const o=parseFloat(e);return isNaN(o)?"":n==="F"?o<50?s("cold"):o<68?s("cool"):o<77?s("comfortable"):o<86?s("warm"):s("hot"):o<10?s("cold"):o<20?s("cool"):o<25?s("comfortable"):o<30?s("warm"):s("hot")}if(t==="humidity"){const o=parseFloat(e);return isNaN(o)?"":o<30?s("veryDry"):o<40?s("dry"):o<60?s("optimal"):o<70?s("humid"):s("veryHumid")}if(t==="battery"){const o=parseFloat(e);return isNaN(o)?"":o<20?s("critical"):o<40?s("low"):o<60?s("medium"):o<80?s("good"):s("full")}if(t==="power"||t==="energy"){const o=parseFloat(e);return isNaN(o)?"":o===0?s("off"):o<100?s("minimal"):o<500?s("low"):o<1e3?s("medium"):o<3e3?s("high"):s("veryHigh")}if(t==="carbon_dioxide"){const o=parseFloat(e);return isNaN(o)?"":o<400?s("excellent"):o<600?s("good"):o<1e3?s("acceptable"):o<1500?s("moderate"):s("poor")}return""},j_=(e,t="de")=>{const n=e?.attributes?.device_class||e?.entity?.attributes?.device_class,i=e?.entity_id||e?.id||"",s=o=>te(`controls.${o}`,t);return n==="temperature"?s("temperature"):n==="humidity"?s("humidity"):n==="battery"?s("battery"):n==="power"?s("power"):n==="energy"?s("energy"):n==="carbon_dioxide"?s("co2"):n==="motion"?s("movement"):n==="door"?s("door"):n==="window"?s("window"):n==="presence"?s("presence"):i.includes("temperature")||i.includes("temperatur")?s("temperature"):i.includes("humidity")||i.includes("feuchtigkeit")?s("humidity"):i.includes("power")||i.includes("leistung")?s("power"):i.includes("energy")||i.includes("energie")?s("energy"):i.includes("battery")||i.includes("batterie")?s("battery"):i.includes("co2")?s("co2"):i.includes("solar")?s("solar"):s("sensor")},U_=(e,t="C")=>{let n=parseFloat(e);return t==="F"&&(n=(n-32)*5/9),n<16?"#0288D1":n<18?"#03A9F4":n<20?"#00BCD4":n<22?"#4CAF50":n<24?"#8BC34A":n<26?"#FFC107":n<28?"#FF9800":n<30?"#FF5722":"#F44336"},Is=(e,t)=>{const n=e?.supported_features||0,i=e?.supported_color_modes||[],s=1,o=2,a=4,l=16;switch(t){case"brightness":return n&s||i.includes("brightness")||i.includes("color_temp")||i.includes("hs")||i.includes("xy")||i.includes("rgb")||i.includes("rgbw")||i.includes("rgbww");case"colortemp":return n&o||i.includes("color_temp");case"color":return n&l||i.includes("hs")||i.includes("xy")||i.includes("rgb")||i.includes("rgbw")||i.includes("rgbww");case"effects":return n&a||e?.effect_list&&e.effect_list.length>0;default:return!1}},G_=(e,t="de")=>{const n=String(e).toLowerCase();return{idle:t==="de"?"Leerlauf":"Idle",offline:"Offline",unavailable:t==="de"?"Nicht verfgbar":"Unavailable",unknown:t==="de"?"Unbekannt":"Unknown",bereit:t==="de"?"Bereit":"Ready",ready:t==="de"?"Bereit":"Ready",printing:t==="de"?"Druckt":"Printing",paused:t==="de"?"Pausiert":"Paused",error:t==="de"?"Fehler":"Error",complete:t==="de"?"Abgeschlossen":"Complete",finished:t==="de"?"Fertig":"Finished"}[n]||e},tc=(e,t="de")=>{const n=e?.domain||"unknown",i=e?.entity?.state||e?.state,s=e?.entity?.attributes||e?.attributes||{},o=a=>te(`controls.${a}`,t);switch(n){case"switch":return{primary:[],expandable:[]};case"light":const a=[],l=[];return Is(s,"brightness")&&(a.push({id:"brightness",icon:Ct.brightness,label:o("brightness"),expandable:!0}),l.push({id:"brightness",service:"turn_on",items:[{label:"10%",data:{brightness_pct:10},style:{background:"rgba(255, 255, 255, 0.1)"}},{label:"25%",data:{brightness_pct:25},style:{background:"rgba(255, 255, 255, 0.25)"}},{label:"50%",data:{brightness_pct:50},style:{background:"rgba(255, 255, 255, 0.5)"}},{label:"75%",data:{brightness_pct:75},style:{background:"rgba(255, 255, 255, 0.75)"}},{label:"100%",data:{brightness_pct:100},style:{background:"rgba(255, 215, 0, 0.9)"}}]})),Is(s,"colortemp")&&(a.push({id:"colortemp",icon:Ct.thermometer,label:o("colorTemperature"),expandable:!0}),l.push({id:"colortemp",service:"turn_on",items:[{label:o("veryWarm"),data:{color_temp_kelvin:2e3},style:{background:"#ff8c42"}},{label:o("warm"),data:{color_temp_kelvin:2700},style:{background:"#ffb366"}},{label:o("neutral"),data:{color_temp_kelvin:3500},style:{background:"#ffd4a3"}},{label:o("cold"),data:{color_temp_kelvin:5e3},style:{background:"#e8e4ff"}},{label:o("daylight"),data:{color_temp_kelvin:6500},style:{background:"#d4e4ff"}}]})),Is(s,"color")&&(a.push({id:"color",icon:Ct.palette,label:o("color"),expandable:!0}),l.push({id:"color",service:"turn_on",items:[{label:t==="de"?"Rot":"Red",data:{rgb_color:[255,0,0]},style:{background:"#ff0000"}},{label:t==="de"?"Grn":"Green",data:{rgb_color:[0,255,0]},style:{background:"#00ff00"}},{label:t==="de"?"Blau":"Blue",data:{rgb_color:[0,0,255]},style:{background:"#0000ff"}},{label:t==="de"?"Gelb":"Yellow",data:{rgb_color:[255,255,0]},style:{background:"#ffff00"}},{label:"Cyan",data:{rgb_color:[0,255,255]},style:{background:"#00ffff"}},{label:"Magenta",data:{rgb_color:[255,0,255]},style:{background:"#ff00ff"}},{label:"Orange",data:{rgb_color:[255,165,0]},style:{background:"#ffa500"}},{label:"Pink",data:{rgb_color:[255,192,203]},style:{background:"#ffc0cb"}}]})),Is(s,"effects")&&(a.push({id:"effects",icon:Ct.settings,label:o("effects"),expandable:!0}),l.push({id:"effects",service:"turn_on",items:s.effect_list?.slice(0,8).map(y=>({label:y,data:{effect:y},icon:""}))||[]})),a.length===0&&a.push({id:"info",icon:Ct.info,label:t==="de"?"Einfaches Licht":"Simple Light",expandable:!1,disabled:!0}),{primary:a,expandable:l};case"climate":const c=[],d=s.hvac_modes||[],u={heat:{icon:Ps.heat,label:o("heating")||"Heizen"},cool:{icon:Ps.cool,label:o("cooling")||"Khlen"},dry:{icon:Ps.dry,label:o("drying")||"Entfeuchten"},fan_only:{icon:Ps.fan_only,label:o("fanOnly")||"Nur Lfter"}};return["heat","cool","dry","fan_only"].forEach(y=>{d.includes(y)&&u[y]&&c.push({id:`hvac_${y}`,icon:u[y].icon,label:u[y].label,action:"set_hvac_mode",data:{hvac_mode:y},active:s.hvac_mode===y})}),c.push({id:"settings",icon:Ct.settings_climate,label:o("settings")||"Einstellungen",expandable:!0}),{primary:c,expandable:[{id:"settings",renderCustom:!0}]};case"printer3d_device":const h={controls:'<svg width="24" height="24" stroke-width="1.5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="currentColor"><path d="M12 2V6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 18V22" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M22 12H18" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6 12H2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M4.92896 4.92896L7.75738 7.75738" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M16.2427 16.2427L19.0711 19.0711" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M19.071 4.92896L16.2426 7.75738" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M7.75732 16.2427L4.9289 19.0711" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',sensors:'<svg width="24" height="24" stroke-width="1.5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="currentColor"><path d="M3 12H6L9 3L15 21L18 12H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',diagnostics:'<svg width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" fill="none" xmlns="http://www.w3.org/2000/svg" color="currentColor"><path d="M10.0503 10.6066L2.97923 17.6777C2.19818 18.4587 2.19818 19.725 2.97923 20.5061V20.5061C3.76027 21.2871 5.0266 21.2871 5.80765 20.5061L12.8787 13.435" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M10.0502 10.6066C9.20638 8.45358 9.37134 5.6286 11.1109 3.88909C12.8504 2.14957 16.0606 1.76777 17.8284 2.82843L14.7877 5.8691L14.5051 8.98014L17.6161 8.69753L20.6568 5.65685C21.7175 7.42462 21.3357 10.6349 19.5961 12.3744C17.8566 14.1139 15.0316 14.2789 12.8786 13.435" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',misc:'<svg width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" fill="none" xmlns="http://www.w3.org/2000/svg" color="currentColor"><path d="M5.5 5C5.22386 5 5 4.77614 5 4.5C5 4.22386 5.22386 4 5.5 4C5.77614 4 6 4.22386 6 4.5C6 4.77614 5.77614 5 5.5 5Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5.5 10C5.22386 10 5 9.77614 5 9.5C5 9.22386 5.22386 9 5.5 9C5.77614 9 6 9.22386 6 9.5C6 9.77614 5.77614 10 5.5 10Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5.5 15C5.22386 15 5 14.7761 5 14.5C5 14.2239 5.22386 14 5.5 14C5.77614 14 6 14.2239 6 14.5C6 14.7761 5.77614 15 5.5 15Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 5C11.7239 5 11.5 4.77614 11.5 4.5C11.5 4.22386 11.7239 4 12 4C12.2761 4 12.5 4.22386 12.5 4.5C12.5 4.77614 12.2761 5 12 5Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 10C11.7239 10 11.5 9.77614 11.5 9.5C11.5 9.22386 11.7239 9 12 9C12.2761 9 12.5 9.22386 12.5 9.5C12.5 9.77614 12.2761 10 12 10Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 15C11.7239 15 11.5 14.7761 11.5 14.5C11.5 14.2239 11.7239 14 12 14C12.2761 14 12.5 14.2239 12.5 14.5C12.5 14.7761 12.2761 15 12 15Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 20C11.7239 20 11.5 19.7761 11.5 19.5C11.5 19.2239 11.7239 19 12 19C12.2761 19 12.5 19.2239 12.5 19.5C12.5 19.7761 12.2761 20 12 20Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M18.5 5C18.2239 5 18 4.77614 18 4.5C18 4.22386 18.2239 4 18.5 4C18.7761 4 19 4.22386 19 4.5C19 4.77614 18.7761 5 18.5 5Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M18.5 10C18.2239 10 18 9.77614 18 9.5C18 9.22386 18.2239 9 18.5 9C18.7761 9 19 9.22386 19 9.5C19 9.77614 18.7761 10 18.5 10Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M18.5 15C18.2239 15 18 14.7761 18 14.5C18 14.2239 18.2239 14 18.5 14C18.7761 14 19 14.2239 19 14.5C19 14.7761 18.7761 15 18.5 15Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>'};return{primary:[{id:"controls",icon:h.controls,label:t==="de"?"Steuerung":"Controls",expandable:!0},{id:"sensors",icon:h.sensors,label:t==="de"?"Sensoren":"Sensors",expandable:!0},{id:"diagnostics",icon:h.diagnostics,label:t==="de"?"Diagnose":"Diagnostics",expandable:!0},{id:"misc",icon:h.misc,label:t==="de"?"Sonstiges":"Miscellaneous",expandable:!0}],expandable:[{id:"controls",service:"button.press",items:[{label:t==="de"?"Fortsetzen":"Resume",data:{action:"resume"},customIcon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="currentColor" stroke-width="1.5"><path d="M6.90588 4.53682C6.50592 4.2998 6 4.58808 6 5.05299V18.947C6 19.4119 6.50592 19.7002 6.90588 19.4632L18.629 12.5162C19.0211 12.2838 19.0211 11.7162 18.629 11.4838L6.90588 4.53682Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',style:{background:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.9)"}},{label:t==="de"?"Pausieren":"Pause",data:{action:"pause"},customIcon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="currentColor" stroke-width="1.5"><path d="M6 18.4V5.6C6 5.26863 6.26863 5 6.6 5H9.4C9.73137 5 10 5.26863 10 5.6V18.4C10 18.7314 9.73137 19 9.4 19H6.6C6.26863 19 6 18.7314 6 18.4Z" fill="currentColor" stroke="currentColor" stroke-width="1.5"></path><path d="M14 18.4V5.6C14 5.26863 14.2686 5 14.6 5H17.4C17.7314 5 18 5.26863 18 5.6V18.4C18 18.7314 17.7314 19 17.4 19H14.6C14.2686 19 14 18.7314 14 18.4Z" fill="currentColor" stroke="currentColor" stroke-width="1.5"></path></svg>',style:{background:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.9)"}},{label:t==="de"?"Stoppen":"Stop",data:{action:"stop"},customIcon:'<svg width="24" height="24" stroke-width="1.5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="currentColor"><path d="M21 3.6V20.4C21 20.7314 20.7314 21 20.4 21H3.6C3.26863 21 3 20.7314 3 20.4V3.6C3 3.26863 3.26863 3 3.6 3H20.4C20.7314 3 21 3.26863 21 3.6Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="currentColor"></path></svg>',style:{background:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.9)"}}]},{id:"sensors",renderCustom:!0},{id:"diagnostics",renderCustom:!0},{id:"misc",renderCustom:!0}]};case"energy_dashboard_device":const p={controls:'<svg width="24" height="24" viewBox="0 0 463 463" fill="currentColor" xmlns="http://www.w3.org/2000/svg" color="currentColor"><path d="M367.5,159c4.142,0,7.5-3.357,7.5-7.5v-32c0-0.278-0.018-0.552-0.047-0.822c-0.004-0.037-0.012-0.074-0.017-0.111 c-0.039-0.313-0.1-0.619-0.176-0.919c-0.015-0.061-0.03-0.121-0.046-0.181c-0.093-0.332-0.206-0.656-0.342-0.967 c-0.013-0.03-0.029-0.058-0.042-0.087c-0.132-0.291-0.282-0.57-0.448-0.839c-0.031-0.051-0.06-0.103-0.093-0.153 c-0.183-0.281-0.384-0.549-0.602-0.802c-0.044-0.052-0.092-0.101-0.138-0.152c-0.225-0.248-0.462-0.483-0.718-0.699 c-0.011-0.009-0.019-0.02-0.03-0.029l-0.026-0.022c-0.003-0.002-0.006-0.005-0.008-0.007l-95.292-79.41L253.5,3 c-1.417-1.889-3.639-3-6-3h-32c-2.361,0-4.583,1.111-6,3l-23.474,31.299l-95.292,79.41c-0.003,0.002-0.006,0.005-0.008,0.007 l-0.026,0.022c-0.011,0.009-0.019,0.02-0.03,0.029c-0.256,0.216-0.493,0.452-0.718,0.699c-0.046,0.051-0.093,0.1-0.138,0.152 c-0.218,0.253-0.419,0.521-0.602,0.802c-0.033,0.05-0.062,0.102-0.093,0.153c-0.166,0.269-0.317,0.548-0.448,0.839 c-0.013,0.029-0.029,0.057-0.042,0.087c-0.136,0.312-0.248,0.635-0.342,0.967c-0.017,0.06-0.031,0.12-0.046,0.181 c-0.076,0.3-0.137,0.606-0.176,0.919c-0.005,0.037-0.013,0.074-0.017,0.111C88.018,118.948,88,119.222,88,119.5v32 c0,4.143,3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5V127h81v68.987l-93.267,77.722c-0.003,0.002-0.006,0.005-0.008,0.007l-0.026,0.022 c-0.011,0.009-0.019,0.02-0.03,0.029c-0.256,0.216-0.493,0.452-0.718,0.699c-0.046,0.051-0.093,0.1-0.138,0.152 c-0.218,0.253-0.419,0.521-0.602,0.802c-0.033,0.05-0.062,0.102-0.093,0.153c-0.166,0.269-0.317,0.548-0.448,0.839 c-0.013,0.029-0.029,0.057-0.042,0.087c-0.136,0.312-0.248,0.635-0.342,0.967c-0.017,0.06-0.031,0.12-0.046,0.181 c-0.076,0.3-0.137,0.606-0.176,0.919c-0.005,0.037-0.013,0.074-0.017,0.111C88.018,278.948,88,279.222,88,279.5v32 c0,4.143,3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5V287h77.792l-58.545,161H111.5c-4.142,0-7.5,3.357-7.5,7.5s3.358,7.5,7.5,7.5h40 c4.142,0,7.5-3.357,7.5-7.5s-3.358-7.5-7.5-7.5h-8.173L231.5,340.233L319.673,448H319.5c-4.142,0-7.5,3.357-7.5,7.5 s3.358,7.5,7.5,7.5h40c4.142,0,7.5-3.357,7.5-7.5s-3.358-7.5-7.5-7.5h-18.747l-58.545-161H360v24.5c0,4.143,3.358,7.5,7.5,7.5 s7.5-3.357,7.5-7.5v-32c0-0.278-0.018-0.552-0.047-0.822c-0.004-0.037-0.012-0.074-0.017-0.111c-0.039-0.313-0.1-0.619-0.176-0.919 c-0.015-0.061-0.03-0.121-0.046-0.181c-0.093-0.332-0.206-0.656-0.342-0.967c-0.013-0.03-0.029-0.058-0.042-0.087 c-0.132-0.291-0.282-0.57-0.448-0.839c-0.031-0.051-0.06-0.103-0.093-0.153c-0.183-0.281-0.384-0.549-0.602-0.802 c-0.044-0.052-0.092-0.101-0.138-0.152c-0.225-0.248-0.462-0.483-0.718-0.699c-0.011-0.009-0.019-0.02-0.03-0.029l-0.026-0.022 c-0.003-0.002-0.006-0.005-0.008-0.007L279,195.987V127h81v24.5C360,155.643,363.358,159,367.5,159z M220.893,79.5L199,101.393 V57.607L220.893,79.5z M209.607,47h43.786L231.5,68.893L209.607,47z M209.607,112L231.5,90.107L253.393,112H209.607z M253.393,127 L231.5,148.893L209.607,127H253.393z M220.893,159.5L199,181.393v-43.786L220.893,159.5z M209.607,192l21.893-21.893L253.393,192 H209.607z M253.393,207L231.5,228.893L209.607,207H253.393z M220.893,239.5L199,261.393v-43.786L220.893,239.5z M231.5,250.107 L253.393,272h-43.786L231.5,250.107z M255.673,287L231.5,316.545L207.327,287H255.673z M242.107,239.5L264,217.607v43.786 L242.107,239.5z M242.107,159.5L264,137.607v43.786L242.107,159.5z M242.107,79.5L264,57.607v43.786L242.107,79.5z M219.25,15h24.5 l12.75,17h-50L219.25,15z M184,55.513V112h-67.785L184,55.513z M184,215.513V272h-67.785L184,215.513z M149.617,416.624 l44.426-122.172l27.766,33.937L149.617,416.624z M241.19,328.389l27.766-33.937l44.426,122.172L241.19,328.389z M279,272v-56.487 L346.785,272H279z M279,112V55.513L346.785,112H279z"/></svg>',sensors:'<svg width="24" height="24" viewBox="0 0 512 512" fill="currentColor" xmlns="http://www.w3.org/2000/svg" color="currentColor"><path d="M48 32h96v96H48zm128 0h96v96h-96zm128 0h96v96h-96zM48 160h96v96H48zm128 0h96v96h-96zm128 0h96v96h-96zM48 288h96v96H48zm128 0h96v96h-96zm128 0h96v96h-96zM80 416h288v32H80z"/></svg>',diagnostics:'<svg width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" fill="none" xmlns="http://www.w3.org/2000/svg" color="currentColor"><path d="M5.5 5C5.22386 5 5 4.77614 5 4.5C5 4.22386 5.22386 4 5.5 4C5.77614 4 6 4.22386 6 4.5C6 4.77614 5.77614 5 5.5 5Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5.5 10C5.22386 10 5 9.77614 5 9.5C5 9.22386 5.22386 9 5.5 9C5.77614 9 6 9.22386 6 9.5C6 9.77614 5.77614 10 5.5 10Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5.5 15C5.22386 15 5 14.7761 5 14.5C5 14.2239 5.22386 14 5.5 14C5.77614 14 6 14.2239 6 14.5C6 14.7761 5.77614 15 5.5 15Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 5C11.7239 5 11.5 4.77614 11.5 4.5C11.5 4.22386 11.7239 4 12 4C12.2761 4 12.5 4.22386 12.5 4.5C12.5 4.77614 12.2761 5 12 5Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 10C11.7239 10 11.5 9.77614 11.5 9.5C11.5 9.22386 11.7239 9 12 9C12.2761 9 12.5 9.22386 12.5 9.5C12.5 9.77614 12.2761 10 12 10Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 15C11.7239 15 11.5 14.7761 11.5 14.5C11.5 14.2239 11.7239 14 12 14C12.2761 14 12.5 14.2239 12.5 14.5C12.5 14.7761 12.2761 15 12 15Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 20C11.7239 20 11.5 19.7761 11.5 19.5C11.5 19.2239 11.7239 19 12 19C12.2761 19 12.5 19.2239 12.5 19.5C12.5 19.7761 12.2761 20 12 20Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M18.5 5C18.2239 5 18 4.77614 18 4.5C18 4.22386 18.2239 4 18.5 4C18.7761 4 19 4.22386 19 4.5C19 4.77614 18.7761 5 18.5 5Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M18.5 10C18.2239 10 18 9.77614 18 9.5C18 9.22386 18.2239 9 18.5 9C18.7761 9 19 9.22386 19 9.5C19 9.77614 18.7761 10 18.5 10Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M18.5 15C18.2239 15 18 14.7761 18 14.5C18 14.2239 18.2239 14 18.5 14C18.7761 14 19 14.2239 19 14.5C19 14.7761 18.7761 15 18.5 15Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>'},g=[{id:"controls",icon:p.controls,label:t==="de"?"Verbrauch":"Consumption",expandable:!0},{id:"sensors",icon:p.sensors,label:"Solar",expandable:!0},{id:"diagnostics",icon:p.diagnostics,label:t==="de"?"Nettonutzung":"Net Usage",expandable:!0}],m=[{label:t==="de"?"Fortsetzen":"Resume",data:{action:"resume"},customIcon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="currentColor" stroke-width="1.5"><path d="M6.90588 4.53682C6.50592 4.2998 6 4.58808 6 5.05299V18.947C6 19.4119 6.50592 19.7002 6.90588 19.4632L18.629 12.5162C19.0211 12.2838 19.0211 11.7162 18.629 11.4838L6.90588 4.53682Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',style:{background:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.9)"}}];return{primary:g,expandable:[{id:"controls",renderCustom:!0,service:"button.press",items:m},{id:"sensors",renderCustom:!0,service:"button.press",items:m},{id:"diagnostics",renderCustom:!0,service:"button.press",items:m}]};case"media_player":return{primary:[{id:"play",icon:i==="playing"?Ct.pause:Ct.play,label:o(i==="playing"?"pause":"play"),action:i==="playing"?"media_pause":"media_play"},{id:"previous",icon:Ct.skip_back,label:o("previous"),action:"media_previous_track"},{id:"next",icon:Ct.skip_forward,label:o("next"),action:"media_next_track"},{id:"source",icon:Ct.tv,label:o("source"),expandable:!0}],expandable:[{id:"source",service:"select_source",items:(s.source_list||[]).slice(0,8).map(y=>({label:y,data:{source:y},icon:""}))}]};case"lock":return{primary:[{id:"lock",icon:i==="locked"?Ct.unlock:Ct.lock,label:o(i==="locked"?"unlock":"lock"),action:i==="locked"?"unlock":"lock",data:{}}],expandable:[]};case"cover":return{primary:[{id:"open",icon:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M6 15L12 9L18 15" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>`,label:o("open"),action:"open_cover",data:{}},{id:"stop",icon:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M17 4L12 9L7 4" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M17 20L12 15L7 20" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>`,label:o("stop"),action:"stop_cover",data:{}},{id:"close",icon:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M6 9L12 15L18 9" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>`,label:o("close"),action:"close_cover",data:{}},{id:"presets",icon:Ct.settings_climate,label:o("position"),expandable:!0}],expandable:[{id:"presets",service:"set_cover_position",items:[{label:"0%",data:{position:0},style:{background:"rgba(255, 255, 255, 0.1)"}},{label:"25%",data:{position:25},style:{background:"linear-gradient(to top, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.25) 25%, rgba(255, 255, 255, 0.1) 25%)"}},{label:"50%",data:{position:50},style:{background:"linear-gradient(to top, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.25) 50%, rgba(255, 255, 255, 0.1) 50%)"}},{label:"75%",data:{position:75},style:{background:"linear-gradient(to top, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.25) 75%, rgba(255, 255, 255, 0.1) 75%)"}},{label:"100%",data:{position:100},style:{background:"rgba(255, 255, 255, 0.25)"}}]}]};case"scene":return{primary:[{id:"trigger",icon:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M13 10V3L5 14H11V21L19 10H13Z" />
            </svg>`,label:o("trigger")||"Auslsen",action:"turn_on",data:{}}],expandable:[]};case"script":return{primary:[{id:"trigger",icon:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M13 10V3L5 14H11V21L19 10H13Z" />
            </svg>`,label:o("trigger")||"Auslsen",action:"turn_on",data:{}}],expandable:[]};case"automation":return{primary:[{id:"trigger",icon:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M13 10V3L5 14H11V21L19 10H13Z" />
            </svg>`,label:o("trigger")||"Auslsen",action:"trigger",data:{},disabled:i==="off"}],expandable:[]};default:return{primary:[],expandable:[]}}},df=(e,t="de")=>{const n=e?.domain||"unknown",i=e?.entity?.state||e?.state,s=e?.entity?.attributes||e?.attributes||{},o=a=>te(`controls.${a}`,t);switch(n){case"scene":case"script":case"automation":return{value:i==="on"?100:0,min:0,max:100,unit:"%",label:n==="scene"?o("scene")||"Szene":n==="script"?o("script")||"Skript":o("automation")||"Automatisierung",displayValue:i==="on"?o("active")||"Aktiv":o("inactive")||"Inaktiv",color:"#9E9E9E",showPower:!0,powerState:i==="on",interactive:!1,progressMode:!0,readOnly:!0,hideSlider:!0,showUnit:!1};case"switch":return{value:i==="on"?100:0,min:0,max:100,unit:"%",label:o("control"),displayValue:o(i==="on"?"on":"off"),color:"#9E9E9E",showPower:!0,powerState:i==="on",interactive:!1,progressMode:!0,readOnly:!0,hideSlider:!0,showUnit:!1};case"light":const a=s.brightness||0;return{value:i==="off"?0:Math.round(a/255*100),min:0,max:100,unit:"%",label:o("brightness"),displayValue:i==="off"?o("off")||"Aus":null,color:i==="off"?"#9E9E9E":"#FFD700",showPower:!0,powerState:i==="on",interactive:!0,showUnit:i!=="off",progressMode:i==="off",readOnly:i==="off"};case"climate":const c=s.current_temperature||20,d=s.temperature||20,u=s.temperature_unit||"C",h=U_(d,u);return{value:i==="off"?0:d,min:s.min_temp||16,max:s.max_temp||30,unit:u,label:o("targetTemperature"),displayValue:i==="off"?o("off")||"Aus":null,subValue:`${o("currentTemperature")}: ${c}${u}`,showUnit:i!=="off",color:i==="off"?"#9E9E9E":h,showPower:!0,powerState:i!=="off",interactive:i!=="off",progressMode:i==="off",readOnly:i==="off",step:1};case"printer3d_device":const f=s.progress||0,p=s.current_step||"Bereit",g=s.remaining_time||"",m=s.gcode_filename||"",y=f>0&&p!=="idle"&&p!=="offline"&&p!=="unavailable"&&p!=="unknown",b=G_(p,t);return{value:parseFloat(f)||0,min:0,max:100,unit:"%",label:y?g:"",displayValue:y?null:b,subValue:y?m:"",showUnit:y,color:"rgb(48, 209, 88)",showPower:!1,interactive:!1,progressMode:!y,readOnly:!0,step:1};case"energy_dashboard_device":const v=s.grid_import_value||0,w=s.grid_import_unit||"kWh",S=s.grid_import_sensor,x=s._display_primary_type||null,N={verbrauch:t==="de"?"Verbrauch":"Consumption",nettonutzung:t==="de"?"Nettonutzung":"Net Usage",solarerzeugung:t==="de"?"Solarerzeugung":"Solar Production",batterie:t==="de"?"Batterie":"Battery"}[x]||(t==="de"?"Netzbezug":"Grid Import");let L=t==="de"?"Kein Sensor konfiguriert":"No sensor configured";S&&(L=S.split(".").pop());const _={solarerzeugung:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>',verbrauch:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>',nettonutzung:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>',batterie:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="6" width="18" height="12" rx="2" ry="2"/><line x1="23" y1="13" x2="23" y2="11"/></svg>'},I={solarerzeugung:"#FFD93D",verbrauch:"#FF6B6B",nettonutzung:"#4ECB71",batterie:"#42A5F5"},T=_[x]||null,R=I[x]||"rgb(48, 209, 88)";return{value:parseFloat(v)||0,min:0,max:50,unit:w,label:N,subValue:L,showUnit:!0,color:R,showPower:!1,centerIcon:T,showCenterIcon:T!==null,interactive:!1,progressMode:!1,readOnly:!0,step:.1};case"cover":return{value:s.current_position||0,min:0,max:100,unit:"%",label:o("position"),color:"#9C27B0",showPower:!1,interactive:!0,showUnit:!0};case"media_player":return{value:Math.round((s.volume_level||0)*100),min:0,max:100,unit:"%",label:o("volume"),color:"#FF6B35",showPower:!0,powerState:i!=="off"&&i!=="unavailable",interactive:!0,showUnit:!0};case"lock":return{value:i==="locked"?100:0,min:0,max:100,unit:"",label:o("security"),displayValue:o(i==="locked"?"locked":"unlocked"),color:i==="locked"?"#4CAF50":"#F44336",showPower:!1,interactive:!1,progressMode:!0,readOnly:!0,showUnit:!1};case"fan":return{value:s.percentage||0,min:0,max:100,unit:"%",label:o("speed"),color:"#00BCD4",showPower:!0,powerState:i==="on",interactive:!0,showUnit:!0};case"binary_sensor":return{value:i==="on"?100:0,min:0,max:100,unit:"",label:s.friendly_name||o("sensor"),displayValue:o(i==="on"?"active":"inactive"),color:i==="on"?"#4CAF50":"#9E9E9E",showPower:!1,interactive:!1,progressMode:!0,readOnly:!0,showUnit:!1};case"sensor":let V=i?parseFloat(i):0;isNaN(V)&&(V=0);const A=$_(i,s.device_class,s.unit_of_measurement,t),F=j_(e,t);return s.device_class==="temperature"||e.entity_id?.includes("temperature")||e.entity_id?.includes("temperatur")?{value:V,min:s.min||-10,max:s.max||40,unit:s.unit_of_measurement||"C",label:F,subValue:A,displayValue:null,showUnit:!0,color:"#2196F3",showPower:!1,interactive:!1,progressMode:!0,readOnly:!0}:s.device_class==="humidity"||e.entity_id?.includes("humidity")?{value:V,min:0,max:100,unit:s.unit_of_measurement||"%",label:F,subValue:A,displayValue:`${Math.round(V)}`,showUnit:!0,color:"#00BCD4",showPower:!1,interactive:!1,progressMode:!0,readOnly:!0}:e.entity_id?.includes("solar")?{value:V,min:0,max:s.max||10,unit:s.unit_of_measurement||"kW",label:F,subValue:A,displayValue:`${V}`,showUnit:!0,color:"#FFC107",showPower:!1,interactive:!1,progressMode:!0,readOnly:!0}:{value:V,min:s.min||0,max:s.max||100,unit:s.unit_of_measurement||"",label:F,subValue:A||null,displayValue:`${V}`,showUnit:!!s.unit_of_measurement,color:"#8BC34A",showPower:!1,interactive:!1,progressMode:!0,readOnly:!0};default:return{value:0,min:0,max:100,unit:"%",label:o("control"),color:"#9E9E9E",showPower:i==="on"||i==="off",powerState:i==="on",interactive:!1,showUnit:!0}}},K_=(e,t="C")=>{let n=parseFloat(e);return t==="F"&&(n=(n-32)*5/9),n<16?"#0288D1":n<18?"#03A9F4":n<20?"#00BCD4":n<22?"#4CAF50":n<24?"#8BC34A":n<26?"#FFC107":n<28?"#FF9800":n<30?"#FF5722":"#F44336"},vi=320,Ke=vi*.4375,Gt=vi/2,Kt=vi/2,Ba=2*Math.PI*Ke,uf=()=>{const e=window.innerWidth;return e<=480||e<=768?160:(e<=1024,280)},q_=(e,t,n)=>-90+(e-t)/(n-t)*360,Y_=(e,t,n)=>{let i=e+90;i<0&&(i+=360),i=i%360;const s=i/360;return t+s*(n-t)},Z_=(e,t,n,i)=>{const s=(e-t)/(n-t);return i-s*i},X_=({isOn:e=!1,onChange:t,disabled:n=!1,size:i=280,show:s=!0})=>{if(!s)return null;const o=i<220,a=o?51:64,l=o?26:32,c=o?19:24,d=o?11:14,u=o?22:32;return r("div",{className:"power-toggle-container",style:{position:"absolute",top:"50%",left:"50%",transform:`translate(-50%, calc(-50% - ${o?38:60}px))`,pointerEvents:"all",zIndex:10},children:r(P.label,{className:`power-toggle ${n?"disabled":""}`,style:{position:"relative",width:`${a}px`,height:`${l}px`,display:"block",cursor:n?"not-allowed":"pointer"},whileHover:n?{}:{scale:1.05},whileTap:n?{}:{scale:.95},children:[r("input",{type:"checkbox",checked:e,onChange:t,disabled:n,style:{opacity:0,width:0,height:0}}),r(P.span,{className:"power-slider",style:{position:"absolute",inset:0,borderRadius:"20px",display:"flex",alignItems:"center",padding:"0 5px"},animate:{background:e?"rgba(255, 255, 255, 0.25)":"rgba(255, 255, 255, 0.1)",borderColor:e?"rgba(255, 255, 255, 0.4)":"rgba(255, 255, 255, 0.2)"},transition:{type:"spring",stiffness:300,damping:25},children:r(P.span,{className:"power-icon",style:{width:`${c}px`,height:`${c}px`,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},animate:{x:e?u:0,background:e?"white":"rgba(0, 0, 0, 0.1)"},variants:r_,whileTap:"tap",transition:{type:"spring",stiffness:400,damping:25},children:r(P.svg,{width:d,height:d,viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",animate:{stroke:e?"#333":"rgba(255, 255, 255, 1)",rotate:e?360:0},transition:{rotate:{type:"spring",stiffness:200,damping:20}},children:r("path",{d:"M12 2v10M16.2 7.8A7 7 0 1 1 7.8 7.8",strokeLinecap:"round",strokeLinejoin:"round"})})})})]})})},J_=({value:e,animatedValue:t,displayValue:n,subValue:i,unit:s,showUnit:o=!0,label:a,size:l=280,isDragging:c=!1,valueRef:d,scrollOffset:u=0,centerIcon:h=null,showCenterIcon:f=!1})=>{const p=n&&!c?typeof n=="string"?n.charAt(0).toUpperCase()+n.slice(1):n:null,m=l<220?28:32;return r("div",{className:"value-display-container",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, calc(-50% + 10px))",pointerEvents:"none",display:"flex",flexDirection:"column",alignItems:"center",gap:l<200?"4px":"6px",zIndex:3},children:[f&&h&&r(P.div,{className:"circular-icon",variants:As,initial:"hidden",animate:"visible",style:{width:`${m}px`,height:`${m}px`,display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(255, 255, 255, 0.8)",marginBottom:l<200?"2px":"4px"},dangerouslySetInnerHTML:{__html:h}}),r("div",{className:"value-wrapper",style:{position:"relative",display:"inline-block"},children:[p?r(P.span,{className:"circular-value",ref:d,variants:rf,initial:"hidden",animate:"visible",style:{fontSize:l<200?"clamp(26px, 12.2vw, 39px)":"clamp(38px, 18vw, 48px)",fontWeight:500,color:"white",lineHeight:1,display:"inline-block"},children:r("span",{style:{transform:`translateX(${u}px)`,display:"inline-block",whiteSpace:"nowrap"},children:[p,u<-50&&r("span",{style:{marginLeft:"50px"},children:p})]})},e):r(P.span,{className:"circular-value",variants:rf,initial:"hidden",animate:"visible",style:{fontSize:l<200?"clamp(26px, 12.2vw, 39px)":"clamp(38px, 18vw, 48px)",fontWeight:500,color:"white",lineHeight:1,display:"inline-block"},children:t}),o&&s&&r(P.span,{className:"circular-unit",variants:As,initial:"hidden",animate:"visible",style:{fontSize:l<200?"clamp(9px, 3.7vw, 13px)":"clamp(13px, 5.5vw, 19px)",fontWeight:400,color:"rgba(255, 255, 255, 0.5)",position:"absolute",left:"100%",top:0,marginLeft:l<200?"2px":"4px",whiteSpace:"nowrap"},children:s})]}),i&&r(P.div,{className:"circular-sub-value",variants:As,initial:"hidden",animate:"visible",style:{fontSize:l<200?"clamp(10px, 4.4vw, 15px)":"clamp(13px, 5.5vw, 19px)",color:"rgba(255, 255, 255, 0.6)",lineHeight:1,whiteSpace:"nowrap",textAlign:"center"},children:i}),r(P.div,{className:"circular-label",variants:As,initial:"hidden",animate:"visible",style:{fontSize:l<200?"clamp(8px, 3.2vw, 10px)":"clamp(10px, 4vw, 13px)",color:"rgba(255, 255, 255, 0.5)",textTransform:"uppercase",letterSpacing:l<200?"0.4px":"0.5px",whiteSpace:"nowrap",textAlign:"center"},children:a})]})},Q_=(e,t,n,i)=>{const[s,o]=D(e),[a,l]=D(!1),c=Vo(e,{stiffness:280,damping:28,mass:.8,restDelta:.001,restSpeed:.01}),d=Vo(0,{stiffness:100,damping:30,restDelta:.01}),u=fi(c,i);return Y(()=>{!a&&e>0&&(d.set(e),l(!0))},[a,e]),Y(()=>{e!==s&&(o(e),c.set(e),a&&d.set(e))},[e]),{currentValue:s,setCurrentValue:o,springValue:c,countingValue:d,handleAngle:u,hasAnimated:a}},e4=({svgRef:e,readOnly:t,disabled:n,angleToValue:i,step:s,min:o,max:a,springValue:l,countingValue:c,setCurrentValue:d,setLastSliderValue:u,lastSliderValue:h,showPower:f,localPowerState:p,setLocalPowerState:g,onPowerToggle:m,onValueChange:y})=>{const[b,v]=D(!1),w=(I,T)=>{if(t||n||!e.current)return;const R=e.current.getBoundingClientRect(),j=I-R.left,z=T-R.top,B=vi/R.width,V=vi/R.height,A=j*B,F=z*V,M=A-Gt,C=F-Kt,q=Math.atan2(C,M)*(180/Math.PI),E=i(q),ee=Math.round(E/s)*s,ue=Math.max(o,Math.min(a,ee));d(ue),l.set(ue),c.set(ue,!1),u(ue>0?ue:h),f&&!p&&ue>0&&(g(!0),m&&m(!0)),y&&y(ue)},S=I=>{t||n||(v(!0),w(I.clientX,I.clientY))},x=I=>{b&&w(I.clientX,I.clientY)},k=()=>{v(!1)},N=I=>{if(t||n)return;v(!0);const T=I.touches[0];w(T.clientX,T.clientY)},L=I=>{if(!b)return;const T=I.touches[0];w(T.clientX,T.clientY),I.preventDefault()},_=()=>{v(!1)};return Y(()=>{if(b)return document.addEventListener("mousemove",x),document.addEventListener("mouseup",k),document.addEventListener("touchmove",L,{passive:!1}),document.addEventListener("touchend",_),()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",k),document.removeEventListener("touchmove",L),document.removeEventListener("touchend",_)}},[b]),{isDragging:b,handleMouseDown:S,handleTouchStart:N}},t4=(e,t,n,i)=>{const[s,o]=D(e),[a,l]=D(t>0?t:50);return{localPowerState:s,setLocalPowerState:o,lastSliderValue:a,setLastSliderValue:l,handlePowerToggle:(d,u,h,f)=>{const p=d.target.checked;o(p),p?a>0&&(f(a),u.set(a),h.set(a,!1),i&&i(a)):(f(0),u.set(0),h.set(0,!1)),n&&n(p)}}},Oo=({value:e=0,min:t=0,max:n=100,step:i=1,label:s="",displayValue:o=null,subValue:a=null,unit:l="%",showUnit:c=!1,color:d="#FFD700",size:u=null,disabled:h=!1,readOnly:f=!1,progressMode:p=!1,hideSlider:g=!1,showPower:m=!1,powerState:y=!1,centerIcon:b=null,showCenterIcon:v=!1,onValueChange:w,onPowerToggle:S,domain:x=null})=>{const[k,N]=D(!1),[L,_]=D(u||uf()),[I,T]=D(d),[R,j]=D(0),z=oe(null),B=oe(null),V=oe(null);zo(0),zo(0);const A=Re(()=>fe=>q_(fe,t,n),[t,n]),F=Re(()=>fe=>Y_(fe,t,n),[t,n]),{currentValue:M,setCurrentValue:C,springValue:X,countingValue:q,handleAngle:E}=Q_(e,t,n,A),{localPowerState:ee,setLocalPowerState:ue,lastSliderValue:K,setLastSliderValue:Q,handlePowerToggle:ie}=t4(y,e,S,w),{isDragging:se,handleMouseDown:xe,handleTouchStart:we}=e4({svgRef:z,readOnly:f,disabled:h,angleToValue:F,step:i,min:t,max:n,springValue:X,countingValue:q,setCurrentValue:C,setLastSliderValue:Q,lastSliderValue:K,showPower:m,localPowerState:ee,setLocalPowerState:ue,onPowerToggle:S,onValueChange:w}),_e=Re(()=>()=>Z_(M,t,n,Ba),[M,t,n]),H=fi(E,fe=>{const G=fe*Math.PI/180;return Gt+Ke*Math.cos(G)}),U=fi(E,fe=>{const G=fe*Math.PI/180;return Kt+Ke*Math.sin(G)});Y(()=>{ue(y),!y&&m&&(s?.toLowerCase().includes("hellig")||s?.toLowerCase().includes("bright"))&&C(0)},[y,m,s]),Y(()=>{if(x==="climate"&&(l==="C"||l==="F")){const fe=K_(M,l);T(fe)}else T(d)},[M,x,l,d]),Y(()=>{if(u)return;const fe=()=>{const G=uf();_(G)};return fe(),window.addEventListener("resize",fe),()=>window.removeEventListener("resize",fe)},[u]),Y(()=>{const fe=V.current;if(!fe||!o||o.length<=7){j(0);return}const G=fe.scrollWidth,O=fe.clientWidth;if(G>O){let $;const ne=()=>{j(le=>{const pe=le-1;return Math.abs(pe)>=G+50?0:pe}),$=requestAnimationFrame(ne)};return $=requestAnimationFrame(ne),()=>{$&&cancelAnimationFrame($)}}},[o]);const J=fe=>{ie(fe,X,q,C)},re=()=>{if(p)return M<=0?null:r(P.circle,{cx:Gt,cy:Kt,r:Ke,fill:"none",stroke:I,strokeWidth:Ke*.086,strokeDasharray:Ba,initial:{strokeDashoffset:Ba},animate:{strokeDashoffset:_e()},transition:{type:"spring",stiffness:100,damping:20,restDelta:.001},strokeLinecap:"round",transform:`rotate(-90 ${Gt} ${Kt})`});if(M>=n-.01)return r(ke,{children:[r(P.path,{d:`M ${Gt} ${Kt-Ke} A ${Ke} ${Ke} 0 0 1 ${Gt} ${Kt+Ke}`,fill:"none",stroke:I,strokeWidth:Ke*.086,strokeLinecap:"round",animate:{stroke:I},transition:{duration:.3}}),r(P.path,{d:`M ${Gt} ${Kt+Ke} A ${Ke} ${Ke} 0 0 1 ${Gt} ${Kt-Ke}`,fill:"none",stroke:I,strokeWidth:Ke*.086,strokeLinecap:"round",animate:{stroke:I},transition:{duration:.3}})]});const fe=A(M),G=Math.abs(fe+90)>180?1:0,O=Gt+Ke*Math.cos(fe*Math.PI/180),$=Kt+Ke*Math.sin(fe*Math.PI/180);return r(P.path,{d:`M ${Gt} ${Kt-Ke} A ${Ke} ${Ke} 0 ${G} 1 ${O} ${$}`,fill:"none",stroke:I,strokeWidth:Ke*.086,strokeLinecap:"round",animate:{stroke:I},transition:{stroke:{duration:.3,ease:"easeInOut"}}})},ae=()=>p||g||f?null:r(P.g,{children:r(P.circle,{cx:H,cy:U,r:Ke*.114,fill:"white",stroke:I,strokeWidth:Ke*.025,style:{cursor:se?"grabbing":"grab",pointerEvents:"all"},variants:i_,animate:se?"dragging":k?"hover":"idle",onMouseEnter:()=>!h&&!f&&N(!0),onMouseLeave:()=>N(!1),whileHover:!h&&!f?"hover":void 0})}),be=fi(q,fe=>l==="%"||Number.isInteger(fe)?Math.round(fe):parseFloat(fe.toFixed(1)));return r(P.div,{ref:B,className:`circular-slider-container ${h?"disabled":""} ${f?"read-only":""}`,style:{position:"relative",width:`${L}px`,height:`${L}px`,margin:"0 auto 30px",display:"flex",alignItems:"center",justifyContent:"center"},variants:t_,initial:"hidden",animate:"visible",whileHover:!h&&!f?"hover":void 0,layout:!0,transition:{layout:{type:"spring",stiffness:300,damping:30}},children:[r(P.svg,{ref:z,width:"100%",height:"100%",viewBox:`0 0 ${vi} ${vi}`,preserveAspectRatio:"xMidYMid meet",className:"circular-slider-svg",onMouseDown:!f&&!p?xe:void 0,onTouchStart:!f&&!p?we:void 0,style:{position:"absolute",top:0,left:0,cursor:f||p?"default":se?"grabbing":"grab",pointerEvents:f||p?"none":"auto",transform:"translateZ(0)",backfaceVisibility:"hidden"},variants:n_,initial:"hidden",animate:"visible",children:[r("circle",{cx:Gt,cy:Kt,r:Ke,fill:"none",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:Ke*.086}),re(),ae()]}),r("div",{className:"circular-content",style:{position:"absolute",inset:0,zIndex:2,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},children:[r(X_,{isOn:ee,onChange:J,disabled:h,size:L,show:m}),r(J_,{value:M,animatedValue:be,displayValue:o,subValue:a,unit:l,showUnit:c,label:s,size:L,isDragging:se,valueRef:V,scrollOffset:R,centerIcon:b,showCenterIcon:v})]}),r("style",{children:`
        @media (prefers-reduced-motion: reduce) {
          .circular-slider-container *,
          .circular-slider-container *::before,
          .circular-slider-container *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
          }
        }
      `})]})},n4=({data:e,lang:t="de"})=>{const[n,i]=D(0),[s,o]=D(null),[a,l]=D(!1),[c,d]=D(320);Y(()=>{const S=()=>{const x=window.innerWidth;let k;x<=768?k=180:k=256,d(k)};return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]),Y(()=>{const S=setTimeout(()=>{l(!0)},100);return()=>clearTimeout(S)},[]),Y(()=>{const S=setInterval(()=>{i(x=>(x+1)%e.length)},5e3);return()=>clearInterval(S)},[e]);const u=e[n],h=S=>{o(S.touches[0].clientX)},f=S=>{if(!s)return;const x=S.changedTouches[0].clientX,k=s-x;Math.abs(k)>50&&(k>0?i(N=>(N+1)%e.length):i(N=>(N-1+e.length)%e.length)),o(null)},p=320,g=p*.4375,m=p/2,y=p/2,b=2*Math.PI*g,v=(u.value-u.min)/(u.max-u.min),w=b-v*b;return r("div",{className:`circular-slider-container solar-carousel ${a?"visible":""}`,onTouchStart:h,onTouchEnd:f,style:{width:`${c}px`,height:`${c}px`},children:[r("svg",{width:"100%",height:"100%",viewBox:`0 0 ${p} ${p}`,preserveAspectRatio:"xMidYMid meet",className:"circular-slider-svg",children:[r("circle",{cx:m,cy:y,r:g,fill:"none",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:g*.086}),r("circle",{cx:m,cy:y,r:g,fill:"none",stroke:u.color,strokeWidth:g*.086,strokeDasharray:b,strokeDashoffset:w,strokeLinecap:"round",transform:`rotate(-90 ${m} ${y})`,style:{transition:"stroke-dashoffset 0.5s ease"}})]}),r("div",{className:"circular-content",children:r("div",{className:"value-container",children:[r("div",{className:"value-wrapper",children:[r("span",{className:"circular-value",children:u.value}),r("span",{className:"circular-unit",children:u.unit})]}),u.subValue&&r("div",{className:"circular-sub-value",children:u.subValue}),r("div",{className:"circular-label",children:u.label})]})}),r("div",{className:"carousel-dots",children:e.map((S,x)=>r("div",{className:`dot ${x===n?"active":""}`,onClick:()=>i(x)},x))})]})},hf={light:(e,t,n,i)=>{if(t){const s=n&&n>0?Math.round(n/100*255):255;i("turn_on",{brightness:s}),e.attributes&&(e.attributes.brightness=s),e.entity?.attributes&&(e.entity.attributes.brightness=s)}else i("turn_off",{});e.state!==void 0&&(e.state=t?"on":"off"),e.entity?.state!==void 0&&(e.entity.state=t?"on":"off")},switch:(e,t,n,i)=>{i(t?"turn_on":"turn_off",{}),e.state!==void 0&&(e.state=t?"on":"off"),e.entity?.state!==void 0&&(e.entity.state=t?"on":"off")},climate:(e,t,n,i)=>{const s=t?"heat_cool":"off";i("set_hvac_mode",{hvac_mode:s}),e.state!==void 0&&(e.state=s),e.entity?.state!==void 0&&(e.entity.state=s)},media_player:(e,t,n,i)=>{i(t?"media_play":"media_pause",{}),e.state!==void 0&&(e.state=t?"playing":"paused"),e.entity?.state!==void 0&&(e.entity.state=t?"playing":"paused")},fan:(e,t,n,i)=>{i(t?"turn_on":"turn_off",{}),e.state!==void 0&&(e.state=t?"on":"off"),e.entity?.state!==void 0&&(e.entity.state=t?"on":"off")},vacuum:(e,t,n,i)=>{i(t?"start":"return_to_base",{}),e.state!==void 0&&(e.state=t?"cleaning":"docked"),e.entity?.state!==void 0&&(e.entity.state=t?"cleaning":"docked")},scene:(e,t,n,i)=>{t&&i("turn_on",{}),e.state!==void 0&&(e.state=t?"on":"off"),e.entity?.state!==void 0&&(e.entity.state=t?"on":"off")},script:(e,t,n,i)=>{i(t?"turn_on":"turn_off",{}),e.state!==void 0&&(e.state=t?"on":"off"),e.entity?.state!==void 0&&(e.entity.state=t?"on":"off")},automation:(e,t,n,i)=>{i(t?"turn_on":"turn_off",{}),e.state!==void 0&&(e.state=t?"on":"off"),e.entity?.state!==void 0&&(e.entity.state=t?"on":"off")},default:(e,t,n,i)=>{t?i("turn_on",{}):i("turn_off",{})}},i4=(e,t,n,i,s)=>(hf[e]||hf.default)(t,n,i,s),r4={light:(e,t,n,i,s)=>{n(t),(!e.state||e.state==="off"&&t>0)&&(i(!0),e.state&&(e.state="on"),e.entity?.state&&(e.entity.state="on"));const o=Math.round(t/100*255);e.attributes&&(e.attributes.brightness=o),e.entity?.attributes&&(e.entity.attributes.brightness=o),s("turn_on",{brightness:o})},climate:(e,t,n,i,s)=>{const o=Math.round(t);e.attributes&&(e.attributes.temperature=o),e.entity?.attributes&&(e.entity.attributes.temperature=o),s("set_temperature",{temperature:o})},cover:(e,t,n,i,s)=>{s("set_cover_position",{position:Math.round(t)})},media_player:(e,t,n,i,s)=>{s("volume_set",{volume_level:t/100})},fan:(e,t,n,i,s)=>{s("set_percentage",{percentage:Math.round(t)})}},s4=(e,t,n,i,s,o)=>{const a=r4[e];a&&a(t,n,i,s,o)},o4=(e,t,n)=>{const[i,s]=D(null),[o,a]=D(null),[l,c]=D(null);return Y(()=>{const u=e?.entity_id?t?.states?.[e.entity_id]||e:null;if(!u)return;const h=u.state,p=(u.attributes||{}).brightness;n==="light"||n==="switch"||n==="fan"?(s(h==="on"),n==="light"&&h==="on"&&p&&a(Math.round(p/255*100))):n==="climate"?s(h!=="off"):n==="media_player"?s(h!=="off"&&h!=="unavailable"):n==="lock"&&c(h)},[t,e?.entity_id,n]),{localPowerState:i,setLocalPowerState:s,lastBrightness:o,setLastBrightness:a,lockState:l,setLockState:c}},ff=({control:e,index:t,expandedControl:n,onToggleExpandable:i,onServiceCall:s,disabled:o})=>{const a=e.expandable&&n===e.id,l=()=>{e.disabled||(e.action&&s(e.action,e.data),e.expandable&&i(e.id))};return r("div",{className:"control-button-wrapper",children:[r(P.button,{className:`control-button ${e.active?"active":""} ${a?"expanded":""} ${e.disabled?"disabled":""}`,"data-tooltip":e.label,onClick:l,title:e.label,style:{animationDelay:`${t*50}ms`,"--hover-scale":e.expandable?"1.05":"1.1"},disabled:e.disabled,variants:Zx,initial:"initial",whileHover:"hover",whileTap:"tap",children:r("span",{className:"button-icon",dangerouslySetInnerHTML:{__html:e.icon}})}),r("span",{className:"button-label",children:e.label})]})};class lt{constructor(t,n){this.element=t,this.data=n.data||[],this.lineHeight=n.lineHeight||30,this.selected=n.selected||0,this.callback=n.callback||function(){},this.scrollTimer=null,this.lastVisibleRange={start:-1,end:-1},this.init()}init(){this.element.innerHTML="",this.element.className="picker-wrapper";const t=document.createElement("div");t.className="clone-scroller";const n=document.createElement("div");n.className="picker-up";const i=document.createElement("div");i.className="picker-down";const s=document.createElement("div");s.className="picker-scroller",this.data.forEach((a,l)=>{const c=document.createElement("div");c.className="option",c.textContent=a,c.style.height=`${this.lineHeight}px`,c.style.lineHeight=`${this.lineHeight}px`,t.appendChild(c);const d=document.createElement("div");d.className="option is-hidden",d.textContent=a,d.style.transform=`rotateX(-${22.5*l}deg) translateZ(90px)`,s.appendChild(d)}),this.element.appendChild(t),this.element.appendChild(n),this.element.appendChild(i),this.element.appendChild(s),this.element.style.height=`${this.lineHeight*7}px`,this.element.style.lineHeight=`${this.lineHeight}px`,t.style.paddingTop=`${this.lineHeight*3}px`,t.style.paddingBottom=`${this.lineHeight*3}px`,s.style.paddingTop=`${this.lineHeight*3}px`,s.style.paddingBottom=`${this.lineHeight*3}px`,n.style.height=`${this.lineHeight*3}px`,i.style.height=`${this.lineHeight*3}px`,i.style.top=`${this.lineHeight*4}px`,this.cloneScroller=t,this.pickerScroller=s,this.options=Array.from(s.querySelectorAll(".option"));const o=this.selected*22.5;this.pickerScroller.style.transform=`translate3d(0, 0, -90px) rotateX(${o}deg)`,this.cloneScroller.scrollTop=this.lineHeight*this.selected,this.bindEvents(),this.updateRotation()}bindEvents(){let t=null;this.cloneScroller.addEventListener("scroll",()=>{t&&cancelAnimationFrame(t),t=requestAnimationFrame(()=>this.updateRotation()),this.scrollTimer&&clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(()=>this.onScrollStop(),150)},{passive:!0})}updateRotation(){const t=this.cloneScroller.scrollTop,n=22.5/this.lineHeight*t;this.pickerScroller.style.transform=`translate3d(0, 0, -90px) rotateX(${n}deg)`;const i=Math.round(n/22.5),s=7,o=Math.max(0,i-s),a=Math.min(this.options.length-1,i+s);for(let l=0;l<this.options.length;l++)l===i?this.options[l].classList.add("is-center"):this.options[l].classList.remove("is-center");if(!(this.lastVisibleRange.start===o&&this.lastVisibleRange.end===a)){for(let l=this.lastVisibleRange.start;l<=this.lastVisibleRange.end;l++)(l<o||l>a)&&l>=0&&this.options[l].classList.add("is-hidden");for(let l=o;l<=a;l++)(l<this.lastVisibleRange.start||l>this.lastVisibleRange.end)&&this.options[l].classList.remove("is-hidden");this.lastVisibleRange={start:o,end:a}}}onScrollStop(){const t=this.cloneScroller.scrollTop,n=Math.round(t/this.lineHeight)*this.lineHeight;this.smoothScrollTo(n);const i=Math.round(n/this.lineHeight);this.callback&&this.data[i]&&this.callback(i,this.data[i])}smoothScrollTo(t){const n=this.cloneScroller.scrollTop,i=t-n;if(Math.abs(i)<1){this.cloneScroller.scrollTop=t;return}const s=250,o=performance.now(),a=l=>{const c=l-o,d=Math.min(c/s,1),u=this.easeOutQuint(d);this.cloneScroller.scrollTop=n+i*u,d<1?requestAnimationFrame(a):this.cloneScroller.scrollTop=t};requestAnimationFrame(a)}easeOutQuint(t){return 1+--t*t*t*t*t}getCurrentValue(){const t=Math.round(this.cloneScroller.scrollTop/this.lineHeight);return this.data[t]}}class F1{constructor(t,n,i,s={}){this.hoursElement=t,this.minutesElement=n,this.periodElement=i,this.callback=s.callback||function(){},this.lineHeight=s.lineHeight||30;const o=s.initialHour||"09",a=s.initialMinute||"00";this.minuteStep=s.minuteStep||5;const l=parseInt(o);l===0?(this.selectedPeriod="AM",this.selectedHour="12"):l<12?(this.selectedPeriod="AM",this.selectedHour=l.toString().padStart(2,"0")):l===12?(this.selectedPeriod="PM",this.selectedHour="12"):(this.selectedPeriod="PM",this.selectedHour=(l-12).toString().padStart(2,"0")),this.selectedMinute=a,this.init()}init(){const t=Array.from({length:12},(s,o)=>(o+1).toString().padStart(2,"0"));this.hoursPicker=new lt(this.hoursElement,{data:t,lineHeight:this.lineHeight,selected:t.indexOf(this.selectedHour),callback:(s,o)=>{this.selectedHour=o,this.updateValue()}});const n=Array.from({length:60/this.minuteStep},(s,o)=>(o*this.minuteStep).toString().padStart(2,"0"));this.minutesPicker=new lt(this.minutesElement,{data:n,lineHeight:this.lineHeight,selected:n.indexOf(this.selectedMinute),callback:(s,o)=>{this.selectedMinute=o,this.updateValue()}});const i=["24h","AM","PM"];this.periodPicker=new lt(this.periodElement,{data:i,lineHeight:this.lineHeight,selected:i.indexOf(this.selectedPeriod),callback:(s,o)=>{this.selectedPeriod=o,this.updateHoursPicker(),this.updateValue()}}),this.updateValue()}updateHoursPicker(){let t;if(this.selectedPeriod==="24h"){t=Array.from({length:24},(i,s)=>s.toString().padStart(2,"0"));const n=parseInt(this.selectedHour);this.selectedPeriod==="AM"?this.selectedHour=n===12?"00":this.selectedHour:this.selectedPeriod==="PM"&&(this.selectedHour=n===12?"12":(n+12).toString().padStart(2,"0"))}else{t=Array.from({length:12},(i,s)=>(s+1).toString().padStart(2,"0"));const n=parseInt(this.selectedHour);n===0?this.selectedHour="12":n>12?this.selectedHour=(n-12).toString().padStart(2,"0"):n===12&&(this.selectedHour="12")}t.includes(this.selectedHour)||(this.selectedHour=t[0]),this.hoursPicker=new lt(this.hoursElement,{data:t,lineHeight:this.lineHeight,selected:t.indexOf(this.selectedHour),callback:(n,i)=>{this.selectedHour=i,this.updateValue()}})}updateValue(){let t=parseInt(this.selectedHour);this.selectedPeriod==="AM"?t===12&&(t=0):this.selectedPeriod==="PM"&&t!==12&&(t+=12);const n=t.toString().padStart(2,"0"),i=`${n}:${this.selectedMinute}`;this.callback(n,this.selectedMinute,i)}getValue(){let t=parseInt(this.selectedHour);this.selectedPeriod==="AM"?t===12&&(t=0):this.selectedPeriod==="PM"&&t!==12&&(t+=12);const n=t.toString().padStart(2,"0");return{hour:n,minute:this.selectedMinute,formatted:`${n}:${this.selectedMinute}`}}}class a4{constructor(t,n,i,s={}){this.dayElement=t,this.monthElement=n,this.yearElement=i,this.callback=s.callback||function(){},this.lineHeight=s.lineHeight||30,this.lang=s.lang||"de";const o=new Date;this.selectedDay=s.initialDay||o.getDate(),this.selectedMonth=s.initialMonth||o.getMonth()+1,this.selectedYear=s.initialYear||o.getFullYear(),this.init()}init(){const t=new Date().getFullYear(),n=Array.from({length:6},(s,o)=>(t+o).toString());this.yearPicker=new lt(this.yearElement,{data:n,lineHeight:this.lineHeight,selected:n.indexOf(this.selectedYear.toString()),callback:(s,o)=>{this.selectedYear=parseInt(o),this.updateDayPicker(),this.updateValue()}});const i=this.getMonthNames();this.monthPicker=new lt(this.monthElement,{data:i,lineHeight:this.lineHeight,selected:this.selectedMonth-1,callback:(s,o)=>{this.selectedMonth=s+1,this.updateDayPicker(),this.updateValue()}}),this.updateDayPicker(),this.updateValue()}getMonthNames(){return this.lang==="de"?["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}getDaysInMonth(t,n){return new Date(n,t,0).getDate()}updateDayPicker(){const t=this.getDaysInMonth(this.selectedMonth,this.selectedYear),n=Array.from({length:t},(i,s)=>(s+1).toString().padStart(2,"0"));this.selectedDay>t&&(this.selectedDay=t),this.dayPicker=new lt(this.dayElement,{data:n,lineHeight:this.lineHeight,selected:this.selectedDay-1,callback:(i,s)=>{this.selectedDay=parseInt(s),this.updateValue()}})}updateValue(){const t=`${this.selectedYear}-${this.selectedMonth.toString().padStart(2,"0")}-${this.selectedDay.toString().padStart(2,"0")}`,n=`${this.selectedDay.toString().padStart(2,"0")}.${this.selectedMonth.toString().padStart(2,"0")}.${this.selectedYear}`;this.callback(t,n)}setDate(t,n,i){this.selectedYear=t,this.selectedMonth=n,this.selectedDay=i,this.init()}getValue(){return{year:this.selectedYear,month:this.selectedMonth,day:this.selectedDay,formatted:`${this.selectedYear}-${this.selectedMonth.toString().padStart(2,"0")}-${this.selectedDay.toString().padStart(2,"0")}`}}}class l4{constructor(t,n){this.element=t,this.data=n.data||[],this.lineHeight=n.lineHeight||30,this.selectedDays=n.selectedDays||[],this.callback=n.callback||function(){},this.scrollTimer=null,this.lastVisibleRange={start:-1,end:-1},this.currentIndex=0,this.lastCenterIndex=-1,this.init()}init(){this.element.innerHTML="",this.element.className="picker-wrapper";const t=document.createElement("div");t.className="clone-scroller";const n=document.createElement("div");n.className="picker-up";const i=document.createElement("div");i.className="picker-down";const s=document.createElement("div");s.className="picker-scroller";const o=document.createElement("button");o.className="multi-select-button is-hidden",this.selectButton=o,this.data.forEach((a,l)=>{const c=document.createElement("div");c.className="option",c.textContent=a,c.style.height=`${this.lineHeight}px`,c.style.lineHeight=`${this.lineHeight}px`,t.appendChild(c);const d=document.createElement("div");d.className="option is-hidden",d.dataset.index=l,d.style.transform=`rotateX(-${22.5*l}deg) translateZ(90px)`;const u=document.createElement("div");u.className="multi-select-option",this.selectedDays.includes(a)&&u.classList.add("active"),u.textContent=a,d.appendChild(u),s.appendChild(d)}),this.element.appendChild(t),this.element.appendChild(n),this.element.appendChild(i),this.element.appendChild(s),this.element.appendChild(o),this.element.style.height=`${this.lineHeight*7}px`,this.element.style.lineHeight=`${this.lineHeight}px`,t.style.paddingTop=`${this.lineHeight*3}px`,t.style.paddingBottom=`${this.lineHeight*3}px`,s.style.paddingTop=`${this.lineHeight*3}px`,s.style.paddingBottom=`${this.lineHeight*3}px`,n.style.height=`${this.lineHeight*3}px`,i.style.height=`${this.lineHeight*3}px`,i.style.top=`${this.lineHeight*4}px`,this.cloneScroller=t,this.pickerScroller=s,this.options=Array.from(s.querySelectorAll(".option")),this.cloneScroller.scrollTop=0,this.bindEvents(),this.updateRotation()}bindEvents(){let t=null;this.cloneScroller.addEventListener("scroll",()=>{this.selectButton.classList.add("is-hidden"),t&&cancelAnimationFrame(t),t=requestAnimationFrame(()=>this.updateRotation()),this.scrollTimer&&clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(()=>this.onScrollStop(),200)},{passive:!0}),this.selectButton.addEventListener("click",n=>{n.stopPropagation(),this.toggleCurrentDay()})}toggleCurrentDay(){const t=this.data[this.currentIndex],n=this.options[this.currentIndex].querySelector(".multi-select-option");this.selectedDays.includes(t)?(this.selectedDays=this.selectedDays.filter(i=>i!==t),n.classList.remove("active")):(this.selectedDays.push(t),n.classList.add("active")),this.updateButtonState(),this.updateValueDisplay()}updateValueDisplay(){const t=["Mo","Di","Mi","Do","Fr"],n=["Sa","So"],i=[...t,...n];let s="Keine";this.selectedDays.length===7?s="Tglich":t.every(a=>this.selectedDays.includes(a))&&!n.some(a=>this.selectedDays.includes(a))?s="Mo-Fr":n.every(a=>this.selectedDays.includes(a))&&!t.some(a=>this.selectedDays.includes(a))?s="Sa, So":this.selectedDays.length>0&&(s=this.selectedDays.sort((a,l)=>i.indexOf(a)-i.indexOf(l)).join(", "));const o=document.querySelector(".value-line-4");o&&(o.textContent=s),this.callback(this.selectedDays,s)}updateButtonState(){const t=this.data[this.currentIndex];this.selectedDays.includes(t)?(this.selectButton.textContent="Abwhlen",this.selectButton.classList.add("deselect")):(this.selectButton.textContent="Auswhlen",this.selectButton.classList.remove("deselect")),this.selectButton.classList.remove("is-hidden")}updateRotation(){const t=this.cloneScroller.scrollTop,n=22.5/this.lineHeight*t;this.pickerScroller.style.transform=`translate3d(0, 0, -90px) rotateX(${n}deg)`;const i=Math.round(n/22.5);this.currentIndex=i;const s=7,o=Math.max(0,i-s),a=Math.min(this.options.length-1,i+s);if(!(this.lastVisibleRange.start===o&&this.lastVisibleRange.end===a)){for(let l=this.lastVisibleRange.start;l<=this.lastVisibleRange.end;l++)(l<o||l>a)&&l>=0&&(this.options[l].classList.add("is-hidden"),this.options[l].classList.remove("is-center"));for(let l=o;l<=a;l++)(l<this.lastVisibleRange.start||l>this.lastVisibleRange.end)&&this.options[l].classList.remove("is-hidden"),l===i?this.options[l].classList.add("is-center"):this.options[l].classList.remove("is-center");this.lastVisibleRange={start:o,end:a}}}onScrollStop(){const t=this.cloneScroller.scrollTop,n=Math.round(t/this.lineHeight)*this.lineHeight;this.smoothScrollTo(n,()=>{this.updateButtonState()})}smoothScrollTo(t,n=()=>{}){const i=this.cloneScroller.scrollTop,s=t-i;if(Math.abs(s)<1){this.cloneScroller.scrollTop=t,n();return}const o=250,a=performance.now(),l=c=>{const d=c-a,u=Math.min(d/o,1),h=this.easeOutQuint(u);this.cloneScroller.scrollTop=i+s*h,u<1?requestAnimationFrame(l):(this.cloneScroller.scrollTop=t,n())};requestAnimationFrame(l)}easeOutQuint(t){return 1+--t*t*t*t*t}}const c4=({item:e,lang:t="de"})=>{const[n,i]=D("Auto"),[s,o]=D("Auto"),[a,l]=D("Auto"),[c,d]=D(!1);Y(()=>{const g=setTimeout(()=>d(!0),50);return()=>clearTimeout(g)},[]);const u={fanSpeed:oe(null),horizontal:oe(null),vertical:oe(null)},h=oe({});Y(()=>{const g=setTimeout(()=>{if(console.log(" Initializing Climate Pickers..."),u.fanSpeed.current&&!h.current.fanSpeed)try{new lt(u.fanSpeed.current,{data:["Auto","1","2","3","4","5"],lineHeight:30,selected:0,callback:(m,y)=>{console.log("Fan Speed changed:",y),i(y);const b=document.querySelector(".value-line-1");b&&(b.textContent=y)}}),h.current.fanSpeed=!0,console.log(" Fan Speed Picker initialized")}catch(m){console.error(" Error initializing Fan Speed Picker:",m)}if(u.horizontal.current&&!h.current.horizontal)try{new lt(u.horizontal.current,{data:["Auto","Links","2","3","4","Rechts","Split","Swing"],lineHeight:30,selected:0,callback:(m,y)=>{console.log("Horizontal changed:",y),o(y);const b=document.querySelector(".value-line-2");b&&(b.textContent=y)}}),h.current.horizontal=!0,console.log(" Horizontal Picker initialized")}catch(m){console.error(" Error initializing Horizontal Picker:",m)}if(u.vertical.current&&!h.current.vertical)try{new lt(u.vertical.current,{data:["Auto","Oben","2","3","4","Unten","Swing"],lineHeight:30,selected:0,callback:(m,y)=>{console.log("Vertical changed:",y),l(y);const b=document.querySelector(".value-line-3");b&&(b.textContent=y)}}),h.current.vertical=!0,console.log(" Vertical Picker initialized")}catch(m){console.error(" Error initializing Vertical Picker:",m)}},300);return()=>clearTimeout(g)},[t]);const f=g=>{console.log(" Row clicked:",g);const m=document.getElementById(`picker-container-line-${g}`);if(!m){console.warn(" Picker container not found for line:",g);return}const y=getComputedStyle(m).display==="none";console.log(" Picker state:",y?"Opening":"Closing"),document.querySelectorAll("div.picker").forEach(b=>{getComputedStyle(b).display!=="none"&&b!==m&&p(b,!1)}),p(m,y)},p=(g,m)=>{m?(g.style.display="block",g.animate([{height:"0px",opacity:0,transform:"translateY(-3px)"},{height:"210px",opacity:1,transform:"translateY(0px)"}],{duration:150,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fill:"forwards"}).onfinish=()=>{g.style.height="210px",g.style.opacity="1"}):g.animate([{height:"210px",opacity:1,transform:"translateY(0px)"},{height:"0px",opacity:0,transform:"translateY(-3px)"}],{duration:120,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fill:"forwards"}).onfinish=()=>{g.style.display="none"}};return r("div",{className:`climate-picker-tab ${c?"visible":""}`,children:[r("style",{children:`
        .climate-picker-tab {
          padding: 0px;
          opacity: 0;
          transform: translateY(10px);
          transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .climate-picker-tab.visible {
          opacity: 1;
          transform: translateY(0);
        }

        /* Picker Table Container */
        .picker-table-container {
          margin-top: 0;
          margin-bottom: 20px;
          background: rgba(0, 0, 0, 0.25);
          backdrop-filter: blur(20px);
          -webkit-backdrop-filter: blur(20px);
          border: 0px solid rgba(255, 255, 255, 0.1);
          border-radius: 12px;
          overflow: hidden;
          animation: slideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(40px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        /* UPDATED: Konsistente Table Styles mit ScheduleTab */
        table { 
          width: 100%; 
          font-size: 15px;
          border-collapse: collapse;
          font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
          letter-spacing: normal;
        }
        
        table th { 
          text-align: left; 
          font-weight: 500; /* Medium weight wie im Screenshot */
          height: 45px; 
          border-bottom: 1px solid rgba(255, 255, 255, 0.1); 
          padding: 0 16px; 
          cursor: pointer; 
          color: rgba(255, 255, 255, 0.95); /* Heller wie im Screenshot */
          letter-spacing: normal;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }
        
        table td { 
          text-align: right; 
          font-weight: 500; /* Medium weight fr value-line auch */
          color: rgba(255, 255, 255, 0.7); /* Heller wie im Screenshot */
          border-bottom: 1px solid rgba(255, 255, 255, 0.1); 
          padding: 0 16px; 
          cursor: pointer;
          letter-spacing: normal;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }
        
        /* Timer-Zeile (data-line="3") ohne Border */
        tr[data-line="3"] th,
        tr[data-line="3"] td {
          border-bottom: none !important;
        }
        table td.picker { border: none; cursor: default; padding: 0; }
        /* Picker ohne Border wenn versteckt */
        div.picker { 
          display: none; 
          overflow: hidden; 
          border-bottom: 0px solid rgba(255, 255, 255, 0.1);
        }
        /* Border nur bei sichtbaren/geffneten Pickern, aber nie beim letzten */
        div.picker[style*="block"] {
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        /* Der letzte Picker (Timer/Zeitplan) hat NIE einen Border */
        #picker-container-line-6,
        #picker-container-line-6[style*="block"] { 
          border-bottom: none !important; 
        }
        .picker-wrapper, .picker-wrapper * { box-sizing: border-box; -webkit-user-select: none; user-select: none; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }
        .picker-wrapper { text-align: center; position: relative; height: 210px; display: inline-block; line-height: 30px; width: 100%; font-size: 18px; perspective: 1000px; perspective-origin: center center; }
        .picker-scroller { transform: translateZ(-90px) rotateX(0deg); transform-style: preserve-3d; height: 100%; will-change: transform; }
        .picker-scroller .option { position: absolute; backface-visibility: hidden; width: 100%; color: rgba(255, 255, 255, 0.4); transform-origin: 50% 50%; transform-style: preserve-3d; opacity: 1; transition: opacity 0.2s, color 0.2s; pointer-events: auto; }
        .picker-scroller .option.is-hidden { opacity: 0; pointer-events: none; }
        .picker-scroller .option.is-center { color: rgba(255, 255, 255, 0.9); }
        .picker-up { position: absolute; top: 0; z-index: 2; background: linear-gradient(to bottom, rgba(0, 0, 0, 0.25) 0%, rgba(0, 0, 0, 0) 100%); width: 100%; height: 90px; border-bottom: 1px solid rgba(255, 255, 255, 0.3); pointer-events: none; }
        .picker-down { position: absolute; top: 120px; z-index: 2; background: linear-gradient(to top, rgba(0, 0, 0, 0.25) 0%, rgba(0, 0, 0, 0) 100%); width: 100%; height: 90px; border-top: 1px solid rgba(255, 255, 255, 0.3); pointer-events: none; }
        .clone-scroller { z-index: 5; overflow: auto; height: 100%; position: absolute; top: 0; width: 100%; padding-top: 90px; padding-bottom: 90px; scrollbar-width: none; -ms-overflow-style: none; }
        .clone-scroller::-webkit-scrollbar { display: none; }
        .clone-scroller .option { visibility: hidden; }
        .clickable-row { cursor: pointer; }
        .time-picker-container { 
          display: flex; 
          justify-content: center; 
          align-items: center; 
          width: 100%; 
          gap: 0; 
          margin: 0;
          padding: 0;
        }
        .time-picker-container > div:first-child { 
          flex: 1; 
          max-width: 50%; 
        }
        .time-picker-container > div:last-child { 
          flex: 1; 
          max-width: 50%; 
        }
        .time-picker-separator { 
          flex: 0 0 20px; 
          display: flex; 
          justify-content: center; 
          align-items: center; 
          width: 20px; 
          height: 210px;
          position: relative;
          background: linear-gradient(to bottom, 
            rgba(0, 0, 0, 0.25) 0%, 
            rgba(0, 0, 0, 0) 42.86%,
            rgba(0, 0, 0, 0) 57.14%,
            rgba(0, 0, 0, 0.25) 100%);
        }
        
        .time-picker-separator::before {
          content: '';
          position: absolute;
          top: 89px;
          left: 0;
          right: 0;
          height: 1px;
          background: rgba(255, 255, 255, 0.2);
          z-index: 2;
        }
        
        .time-picker-separator::after {
          content: '';
          position: absolute;
          top: 120px;
          left: 0;
          right: 0;
          height: 1px;
          background: rgba(255, 255, 255, 0.2);
          z-index: 2;
        }
        
        .time-picker-separator svg { 
          width: 8px; 
          height: 16px; 
          fill: rgba(255, 255, 255, 0.6); 
          transform: translateY(0px); 
          position: relative;
          z-index: 3;
        }
        
        .multi-select-option { display: flex; align-items: center; justify-content: center; width: 100%; height: 100%; font-size: 20px; font-weight: 500; transition: color 0.3s ease, transform 0.15s ease; }
        .multi-select-option.active { color: #34c759; font-weight: 600; }
        .picker-scroller .option.is-center { z-index: 10; }
        .picker-scroller .option.is-center .multi-select-option { transform: scale(1.05); }
        .multi-select-button { position: absolute; bottom: 15px; left: 50%; transform: translateX(-50%); z-index: 15; padding: 8px 20px; font-size: 14px; font-weight: 600; border: none; border-radius: 20px; cursor: pointer; background-color: #007aff; color: white; box-shadow: 0 2px 10px rgba(0,0,0,0.1); transition: opacity 0.2s, background-color 0.2s; }
        .multi-select-button.deselect { background-color: #ff3b30; }
        .multi-select-button.is-hidden { opacity: 0; pointer-events: none; }

        /* Picker Action Buttons */
        .picker-actions {
          display: flex;
          gap: 12px;
          margin-top: 20px;
          animation: slideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .picker-btn {
          flex: 1;
          padding: 14px;
          border-radius: 12px;
          border: none;
          font-size: 16px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .picker-btn.cancel {
          background: rgba(255, 255, 255, 0.1);
          color: white;
        }

        .picker-btn.confirm {
          background: linear-gradient(135deg, rgb(0, 145, 255), rgb(0, 145, 255));
          color: white;
        }

        .picker-btn.confirm.disabled {
          background: rgba(128, 128, 128, 0.3);
          color: rgba(255, 255, 255, 0.5);
          cursor: not-allowed;
          pointer-events: none;
        }

        .picker-btn:hover {
          transform: translateY(-1px);
        }

        .picker-btn:active {
          transform: scale(0.98);
        }
      `}),r("div",{className:"picker-table-container",children:r("table",{children:[r("tr",{className:"clickable-row","data-line":"1",onClick:()=>f("1"),children:[r("th",{children:te("controls.fanSpeed",t)}),r("td",{className:"value-line-1",children:n})]}),r("tr",{children:r("td",{className:"picker",colspan:"2",children:r("div",{className:"picker",id:"picker-container-line-1",children:r("div",{id:"picker-line-1",ref:u.fanSpeed})})})}),r("tr",{className:"clickable-row","data-line":"2",onClick:()=>f("2"),children:[r("th",{children:te("controls.horizontalOscillation",t)}),r("td",{className:"value-line-2",children:s})]}),r("tr",{children:r("td",{className:"picker",colspan:"2",children:r("div",{className:"picker",id:"picker-container-line-2",children:r("div",{id:"picker-line-2",ref:u.horizontal})})})}),r("tr",{className:"clickable-row","data-line":"3",onClick:()=>f("3"),children:[r("th",{children:te("controls.verticalOscillation",t)}),r("td",{className:"value-line-3",children:a})]}),r("tr",{children:r("td",{className:"picker",colspan:"2",children:r("div",{className:"picker",id:"picker-container-line-3",children:r("div",{id:"picker-line-3",ref:u.vertical})})})})]})}),r("div",{className:"picker-actions",children:r("button",{className:"picker-btn confirm",onClick:()=>{console.log("Climate settings:",{fanSpeed:n,horizontal:s,vertical:a})},children:te("controls.apply",t)})})]})},d4=({entity:e,hass:t,lang:n="de"})=>{const[i,s]=D({}),o=oe(null),[a,l]=D(!1);Y(()=>{const u=async()=>{if(!e||!t)return;const f=await e.executeAction("getPrinterData",{hass:t});f&&s(f)};u();const h=setInterval(u,5e3);return()=>clearInterval(h)},[e,t]);const c=(u,h)=>{if(!h||h==="unavailable")return n==="de"?"Nicht verfgbar":"Not available";const f=String(h).toLowerCase();return f==="idle"?n==="de"?"Leerlauf":"Idle":f==="on"?n==="de"?"An":"On":f==="off"?n==="de"?"Aus":"Off":u==="nozzleType"?{hardened_steel:n==="de"?"Gehrteter Stahl":"Hardened Steel",stainless_steel:n==="de"?"Edelstahl":"Stainless Steel",brass:n==="de"?"Messing":"Brass"}[f]||h:u==="speedProfile"&&{silent:n==="de"?"Leise":"Silent",standard:"Standard",sport:"Sport",ludicrous:"Ludicrous"}[f]||h},d=[{key:"currentLayer",label:n==="de"?"Aktuelle Schicht":"Current layer",value:i.currentLayer},{key:"currentStep",label:n==="de"?"Aktueller Arbeitsschritt":"Current step",value:i.currentStep},{key:"progress",label:n==="de"?"Druckfortschritt":"Print progress",value:i.progress?`${i.progress}%`:null},{key:"speedProfile",label:n==="de"?"Geschwindigkeitsprofil":"Speed profile",value:i.speedProfile},{key:"printStatus",label:n==="de"?"Druckstatus":"Print status",value:i.printStatus},{key:"printType",label:n==="de"?"Drucktyp":"Print type",value:i.printType},{key:"nozzleSize",label:n==="de"?"Dsengre":"Nozzle size",value:i.nozzleSize},{key:"nozzleType",label:n==="de"?"Dsentyp":"Nozzle type",value:i.nozzleType},{key:"bedTemp",label:n==="de"?"Druckbetttemperatur":"Bed temperature",value:i.bedTemp?`${i.bedTemp}C`:null},{key:"nozzleTemp",label:n==="de"?"Temperatur der Dse":"Nozzle temperature",value:i.nozzleTemp?`${i.nozzleTemp}C`:null},{key:"targetBed",label:n==="de"?"Zieltemperatur Druckbett":"Target bed temperature",value:i.targetBed?`${i.targetBed}C`:null},{key:"targetNozzle",label:n==="de"?"Zieltemperatur Dse":"Target nozzle temperature",value:i.targetNozzle?`${i.targetNozzle}C`:null},{key:"remainingTime",label:n==="de"?"Verbleibende Zeit":"Remaining time",value:i.remainingTime},{key:"startTime",label:n==="de"?"Startzeit":"Start time",value:i.startTime},{key:"endTime",label:n==="de"?"Voraussichtliche Fertigstellung":"Estimated completion",value:i.endTime},{key:"totalLayers",label:n==="de"?"Gesamtschichten":"Total layers",value:i.totalLayers},{key:"fanSpeed",label:n==="de"?"Druckkopflfter":"Cooling fan speed",value:i.fanSpeed?`${i.fanSpeed}%`:null},{key:"heatbreakFanSpeed",label:n==="de"?"Hotend-Lfter":"Heatbreak fan speed",value:i.heatbreakFanSpeed?`${i.heatbreakFanSpeed}%`:null}];return r("div",{className:"printer-sensors-wrapper",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),style:{position:"relative"},children:[r("div",{ref:o,className:"ios-settings-view printer-sensors-scroll",style:{paddingTop:"0"},children:r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:n==="de"?"SENSOREN":"SENSORS"}),r("div",{className:"ios-card",children:d.map((u,h)=>{const f=c(u.key,u.value),p=!u.value||u.value==="unavailable";return r("div",{children:[h>0&&r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:u.label})})}),r("div",{className:"ios-item-right",children:r("div",{className:"ios-item-value",style:{color:p?"rgba(255,255,255,0.4)":"rgba(255,255,255,0.6)"},children:f})})]})]},u.key)})})]})}),r(De,{scrollContainerRef:o,isHovered:a})]})},u4=({entity:e,hass:t,lang:n="de"})=>{const[i,s]=D({}),o=oe(null),[a,l]=D(!1);Y(()=>{const u=async()=>{if(!e||!t)return;const f=await e.executeAction("getPrinterData",{hass:t});f&&s(f)};u();const h=setInterval(u,5e3);return()=>clearInterval(h)},[e,t]);const c=u=>{if(!u||u==="unavailable")return n==="de"?"Nicht verfgbar":"Not available";const h=String(u).toLowerCase();return h==="on"?n==="de"?"An":"On":h==="off"?n==="de"?"Aus":"Off":u},d=[{key:"online",label:"Online",value:i.online},{key:"printError",label:n==="de"?"Druckfehler":"Print error",value:i.printError},{key:"hmsError",label:n==="de"?"HMS-Fehler":"HMS error",value:i.hmsError},{key:"firmwareStatus",label:n==="de"?"Firmware Status":"Firmware status",value:i.firmwareStatus},{key:"lanMode",label:n==="de"?"Entwickler LAN-Modus":"Developer LAN mode",value:i.lanMode},{key:"mqttMode",label:n==="de"?"MQTT-Verbindungsmodus":"MQTT connection mode",value:i.mqttMode},{key:"mqttEncryption",label:n==="de"?"MQTT-Verschlsselung":"MQTT encryption",value:i.mqttEncryption},{key:"ipAddress",label:n==="de"?"IP-Adresse":"IP address",value:i.ipAddress},{key:"wifiSignal",label:n==="de"?"Wi-Fi-Signalqualitt":"Wi-Fi signal quality",value:i.wifiSignal?`${i.wifiSignal} dBm`:null},{key:"sdCard",label:n==="de"?"SD-Kartenstatus":"SD card status",value:i.sdCard},{key:"totalUsage",label:n==="de"?"Gesamtnutzung":"Total usage",value:i.totalUsage?`${i.totalUsage} h`:null},{key:"timelapse",label:n==="de"?"Zeitraffer-Aufnahme":"Timelapse recording",value:i.timelapse},{key:"extruderFilament",label:n==="de"?"Extruder Filament Status":"Extruder filament status",value:i.extruderFilament},{key:"serialNumber",label:n==="de"?"Seriennummer":"Serial number",value:e?.attributes?.serial}];return r("div",{className:"printer-sensors-wrapper",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),style:{position:"relative"},children:[r("div",{ref:o,className:"ios-settings-view printer-sensors-scroll",style:{paddingTop:"0"},children:r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:n==="de"?"DIAGNOSE":"DIAGNOSTICS"}),r("div",{className:"ios-card",children:d.map((u,h)=>{const f=c(u.value),p=!u.value||u.value==="unavailable";return r("div",{children:[h>0&&r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:u.label})})}),r("div",{className:"ios-item-right",children:r("div",{className:"ios-item-value",style:{color:p?"rgba(255,255,255,0.4)":"rgba(255,255,255,0.6)"},children:f})})]})]},u.key)})})]})}),r(De,{scrollContainerRef:o,isHovered:a})]})},h4=({entity:e,hass:t,lang:n="de"})=>{const[i,s]=D({}),o=oe(null),[a,l]=D(!1);Y(()=>{const g=async()=>{if(!e||!t)return;const y=await e.executeAction("getPrinterData",{hass:t});y&&s(y)};g();const m=setInterval(g,5e3);return()=>clearInterval(m)},[e,t]);const c=async(g,m,y,b={})=>{if(!(!t||!y))try{await t.callService(g,m,{entity_id:y,...b}),setTimeout(async()=>{const v=await e.executeAction("getPrinterData",{hass:t});v&&s(v)},500)}catch(v){console.error("Service call failed:",v)}},d=(g,m,y)=>{if(!y)return;const b=y.entity_id.split(".")[0];c(b,m==="on"||m===!0?"turn_off":"turn_on",y.entity_id)},u=g=>{g&&c("button","press",g.entity_id)},h=(g,m)=>{g&&c("number","set_value",g.entity_id,{value:parseFloat(m)})},f=[{key:"cameraEnabled",type:"switch",label:n==="de"?"Kamera aktivieren":"Enable camera"},{key:"imageCamera",type:"switch",label:n==="de"?"Bildsensorkamera verwenden":"Use image sensor camera"},{key:"alertTone",type:"switch",label:n==="de"?"Aufforderungston zulassen":"Allow prompt sound"},{key:"chamberLight",type:"switch",label:n==="de"?"Druckraumbeleuchtung":"Chamber light"},{key:"targetNozzle",type:"range",label:n==="de"?"Zieltemperatur Dse":"Target nozzle temp",unit:"C",min:0,max:320},{key:"targetBed",type:"range",label:n==="de"?"Zieltemperatur Druckbett":"Target bed temp",unit:"C",min:0,max:120}],p=g=>{const m=i[g.key],y=i[g.key+"_entity"];if(g.type==="switch"){const b=m==="on"||m===!0,v=m&&m!=="unavailable";return r("div",{className:`ios-toggle ${b?"active":""} ${v?"":"disabled"}`,onClick:()=>v&&d(g.key,m,y),style:{width:"51px",height:"31px",borderRadius:"15.5px",background:b?"rgb(48, 209, 88)":"rgba(120, 120, 128, 0.32)",position:"relative",cursor:v?"pointer":"not-allowed",transition:"background 0.2s"},children:r("div",{style:{width:"27px",height:"27px",borderRadius:"50%",background:"white",position:"absolute",top:"2px",left:b?"22px":"2px",transition:"left 0.2s",boxShadow:"0 3px 8px rgba(0,0,0,0.15), 0 3px 1px rgba(0,0,0,0.06)"}})})}if(g.type==="range"){const b=parseFloat(m)||g.min,v=m!=null&&m!=="unavailable";return{value:r("span",{className:"range-value-display",style:{color:"rgba(255,255,255,0.9)",fontSize:"17px",fontWeight:"500",textAlign:"right"},children:[v?b:"--",g.unit]}),slider:r("input",{type:"range",value:v?b:g.min,min:g.min,max:g.max,disabled:!v,onChange:w=>h(y,w.target.value),className:"range-slider-input",style:{width:"100%",height:"4px",borderRadius:"2px",background:`linear-gradient(to right, rgb(48, 209, 88) 0%, rgb(48, 209, 88) ${(b-g.min)/(g.max-g.min)*100}%, rgba(255,255,255,0.2) ${(b-g.min)/(g.max-g.min)*100}%, rgba(255,255,255,0.2) 100%)`,outline:"none",cursor:v?"pointer":"not-allowed",WebkitAppearance:"none",appearance:"none"}})}}if(g.type==="number"){const b=parseFloat(m)||0,v=m!=null&&m!=="unavailable";return r("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r("input",{type:"number",value:v?b:"",min:g.min,max:g.max,disabled:!v,onChange:w=>h(y,w.target.value),placeholder:v?"0":n==="de"?"Nicht verfgbar":"Not available",style:{width:"70px",padding:"6px 10px",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",color:v?"white":"rgba(255,255,255,0.4)",fontSize:"15px",textAlign:"center"}}),v&&r("span",{style:{color:"rgba(255,255,255,0.6)",fontSize:"15px"},children:g.unit})]})}if(g.type==="button"){const b=y!=null;return r("button",{onClick:()=>u(y),disabled:!b,style:{padding:"6px 16px",background:b?"rgba(255,255,255,0.15)":"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",color:b?"rgb(48, 209, 88)":"rgba(255,255,255,0.3)",fontSize:"14px",fontWeight:"500",cursor:b?"pointer":"not-allowed",transition:"all 0.2s"},onMouseEnter:v=>{b&&(v.target.style.background="rgba(255,255,255,0.25)")},onMouseLeave:v=>{b&&(v.target.style.background="rgba(255,255,255,0.15)")},children:g.buttonLabel||g.label})}return null};return r("div",{className:"printer-sensors-wrapper",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),style:{position:"relative"},children:[r("div",{ref:o,className:"ios-settings-view printer-sensors-scroll",style:{paddingTop:"0"},children:r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:n==="de"?"STEUERUNG":"CONTROLS"}),r("div",{className:"ios-card",children:f.map((g,m)=>r("div",{children:[m>0&&r("div",{className:"ios-divider"}),r("div",{className:"ios-item",style:g.type==="range"?{flexDirection:"column",alignItems:"stretch",gap:"6px"}:{},children:g.type==="range"?r(ke,{children:[r("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r("div",{className:"ios-item-label range-label",children:g.label}),p(g).value]}),p(g).slider]}):r(ke,{children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:g.label})})}),r("div",{className:"ios-item-right",children:p(g)})]})})]},g.key))})]})}),r(De,{scrollContainerRef:o,isHovered:a})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ys(e){return e+.5|0}const Pn=(e,t,n)=>Math.max(Math.min(e,n),t);function br(e){return Pn(ys(e*2.55),0,255)}function zn(e){return Pn(ys(e*255),0,255)}function wn(e){return Pn(ys(e/2.55)/100,0,1)}function pf(e){return Pn(ys(e*100),0,100)}const zt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},nc=[..."0123456789ABCDEF"],f4=e=>nc[e&15],p4=e=>nc[(e&240)>>4]+nc[e&15],Rs=e=>(e&240)>>4===(e&15),m4=e=>Rs(e.r)&&Rs(e.g)&&Rs(e.b)&&Rs(e.a);function g4(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&zt[e[1]]*17,g:255&zt[e[2]]*17,b:255&zt[e[3]]*17,a:t===5?zt[e[4]]*17:255}:(t===7||t===9)&&(n={r:zt[e[1]]<<4|zt[e[2]],g:zt[e[3]]<<4|zt[e[4]],b:zt[e[5]]<<4|zt[e[6]],a:t===9?zt[e[7]]<<4|zt[e[8]]:255})),n}const y4=(e,t)=>e<255?t(e):"";function v4(e){var t=m4(e)?f4:p4;return e?"#"+t(e.r)+t(e.g)+t(e.b)+y4(e.a,t):void 0}const b4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function P1(e,t,n){const i=t*Math.min(n,1-n),s=(o,a=(o+e/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function w4(e,t,n){const i=(s,o=(s+e/60)%6)=>n-n*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function k4(e,t,n){const i=P1(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function x4(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function Sd(e){const n=e.r/255,i=e.g/255,s=e.b/255,o=Math.max(n,i,s),a=Math.min(n,i,s),l=(o+a)/2;let c,d,u;return o!==a&&(u=o-a,d=l>.5?u/(2-o-a):u/(o+a),c=x4(n,i,s,u,o),c=c*60+.5),[c|0,d||0,l]}function Nd(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(zn)}function Ld(e,t,n){return Nd(P1,e,t,n)}function _4(e,t,n){return Nd(k4,e,t,n)}function C4(e,t,n){return Nd(w4,e,t,n)}function I1(e){return(e%360+360)%360}function S4(e){const t=b4.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?br(+t[5]):zn(+t[5]));const s=I1(+t[2]),o=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?i=_4(s,o,a):t[1]==="hsv"?i=C4(s,o,a):i=Ld(s,o,a),{r:i[0],g:i[1],b:i[2],a:n}}function N4(e,t){var n=Sd(e);n[0]=I1(n[0]+t),n=Ld(n),e.r=n[0],e.g=n[1],e.b=n[2]}function L4(e){if(!e)return;const t=Sd(e),n=t[0],i=pf(t[1]),s=pf(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${wn(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const mf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},gf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function M4(){const e={},t=Object.keys(gf),n=Object.keys(mf);let i,s,o,a,l;for(i=0;i<t.length;i++){for(a=l=t[i],s=0;s<n.length;s++)o=n[s],l=l.replace(o,mf[o]);o=parseInt(gf[a],16),e[l]=[o>>16&255,o>>8&255,o&255]}return e}let Bs;function E4(e){Bs||(Bs=M4(),Bs.transparent=[0,0,0,0]);const t=Bs[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const T4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function A4(e){const t=T4.exec(e);let n=255,i,s,o;if(t){if(t[7]!==i){const a=+t[7];n=t[8]?br(a):Pn(a*255,0,255)}return i=+t[1],s=+t[3],o=+t[5],i=255&(t[2]?br(i):Pn(i,0,255)),s=255&(t[4]?br(s):Pn(s,0,255)),o=255&(t[6]?br(o):Pn(o,0,255)),{r:i,g:s,b:o,a:n}}}function D4(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${wn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const za=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Si=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function F4(e,t,n){const i=Si(wn(e.r)),s=Si(wn(e.g)),o=Si(wn(e.b));return{r:zn(za(i+n*(Si(wn(t.r))-i))),g:zn(za(s+n*(Si(wn(t.g))-s))),b:zn(za(o+n*(Si(wn(t.b))-o))),a:e.a+n*(t.a-e.a)}}function zs(e,t,n){if(e){let i=Sd(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=Ld(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function R1(e,t){return e&&Object.assign(t||{},e)}function yf(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=zn(e[3]))):(t=R1(e,{r:0,g:0,b:0,a:1}),t.a=zn(t.a)),t}function P4(e){return e.charAt(0)==="r"?A4(e):S4(e)}class Xr{constructor(t){if(t instanceof Xr)return t;const n=typeof t;let i;n==="object"?i=yf(t):n==="string"&&(i=g4(t)||E4(t)||P4(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=R1(this._rgb);return t&&(t.a=wn(t.a)),t}set rgb(t){this._rgb=yf(t)}rgbString(){return this._valid?D4(this._rgb):void 0}hexString(){return this._valid?v4(this._rgb):void 0}hslString(){return this._valid?L4(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let o;const a=n===o?.5:n,l=2*a-1,c=i.a-s.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;o=1-d,i.r=255&d*i.r+o*s.r+.5,i.g=255&d*i.g+o*s.g+.5,i.b=255&d*i.b+o*s.b+.5,i.a=a*i.a+(1-a)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=F4(this._rgb,t._rgb,n)),this}clone(){return new Xr(this.rgb)}alpha(t){return this._rgb.a=zn(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=ys(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return zs(this._rgb,2,t),this}darken(t){return zs(this._rgb,2,-t),this}saturate(t){return zs(this._rgb,1,t),this}desaturate(t){return zs(this._rgb,1,-t),this}rotate(t){return N4(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function mn(){}const I4=(()=>{let e=0;return()=>e++})();function Pe(e){return e==null}function Xe(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Be(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function tt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Ft(e,t){return tt(e)?e:t}function Le(e,t){return typeof e>"u"?t:e}const R4=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,B1=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function je(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function We(e,t,n,i){let s,o,a;if(Xe(e))for(o=e.length,s=0;s<o;s++)t.call(n,e[s],s);else if(Be(e))for(a=Object.keys(e),o=a.length,s=0;s<o;s++)t.call(n,e[a[s]],a[s])}function Wo(e,t){let n,i,s,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],o=t[n],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function Ho(e){if(Xe(e))return e.map(Ho);if(Be(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=Ho(e[n[s]]);return t}return e}function z1(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function B4(e,t,n,i){if(!z1(e))return;const s=t[e],o=n[e];Be(s)&&Be(o)?Jr(s,o,i):t[e]=Ho(o)}function Jr(e,t,n){const i=Xe(t)?t:[t],s=i.length;if(!Be(e))return e;n=n||{};const o=n.merger||B4;let a;for(let l=0;l<s;++l){if(a=i[l],!Be(a))continue;const c=Object.keys(a);for(let d=0,u=c.length;d<u;++d)o(c[d],e,a,n)}return e}function Ir(e,t){return Jr(e,t,{merger:z4})}function z4(e,t,n){if(!z1(e))return;const i=t[e],s=n[e];Be(i)&&Be(s)?Ir(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Ho(s))}const vf={"":e=>e,x:e=>e.x,y:e=>e.y};function V4(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function O4(e){const t=V4(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function Wn(e,t){return(vf[t]||(vf[t]=O4(t)))(e)}function Md(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Qr=e=>typeof e<"u",Hn=e=>typeof e=="function",bf=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function W4(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const ze=Math.PI,Ye=2*ze,H4=Ye+ze,$o=Number.POSITIVE_INFINITY,$4=ze/180,rt=ze/2,Yn=ze/4,wf=ze*2/3,In=Math.log10,fn=Math.sign;function Rr(e,t,n){return Math.abs(e-t)<n}function kf(e){const t=Math.round(e);e=Rr(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(In(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function j4(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,o)=>s-o).pop(),t}function U4(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function $i(e){return!U4(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function G4(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function V1(e,t,n){let i,s,o;for(i=0,s=e.length;i<s;i++)o=e[i][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Zt(e){return e*(ze/180)}function Ed(e){return e*(180/ze)}function xf(e){if(!tt(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function O1(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*ze&&(o+=Ye),{angle:o,distance:s}}function ic(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function K4(e,t){return(e-t+H4)%Ye-ze}function yt(e){return(e%Ye+Ye)%Ye}function es(e,t,n,i){const s=yt(e),o=yt(t),a=yt(n),l=yt(o-s),c=yt(a-s),d=yt(s-o),u=yt(s-a);return s===o||s===a||i&&o===a||l>c&&d<u}function pt(e,t,n){return Math.max(t,Math.min(n,e))}function q4(e){return pt(e,-32768,32767)}function kn(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function Td(e,t,n){n=n||(a=>e[a]<t);let i=e.length-1,s=0,o;for(;i-s>1;)o=s+i>>1,n(o)?s=o:i=o;return{lo:s,hi:i}}const xn=(e,t,n,i)=>Td(e,n,i?s=>{const o=e[s][t];return o<n||o===n&&e[s+1][t]===n}:s=>e[s][t]<n),Y4=(e,t,n)=>Td(e,n,i=>e[i][t]>=n);function Z4(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const W1=["push","pop","shift","splice","unshift"];function X4(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),W1.forEach(n=>{const i="_onData"+Md(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...o){const a=s.apply(this,o);return e._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...o)}),a}})})}function _f(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(W1.forEach(o=>{delete e[o]}),delete e._chartjs)}function H1(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const $1=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function j1(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,$1.call(window,()=>{i=!1,e.apply(t,n)}))}}function J4(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const Ad=e=>e==="start"?"left":e==="end"?"right":"center",gt=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,Q4=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function U1(e,t,n){const i=t.length;let s=0,o=i;if(e._sorted){const{iScale:a,vScale:l,_parsed:c}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=a.axis,{min:h,max:f,minDefined:p,maxDefined:g}=a.getUserBounds();if(p){if(s=Math.min(xn(c,u,h).lo,n?i:xn(t,u,a.getPixelForValue(h)).lo),d){const m=c.slice(0,s+1).reverse().findIndex(y=>!Pe(y[l.axis]));s-=Math.max(0,m)}s=pt(s,0,i-1)}if(g){let m=Math.max(xn(c,a.axis,f,!0).hi+1,n?0:xn(t,u,a.getPixelForValue(f),!0).hi+1);if(d){const y=c.slice(m-1).findIndex(b=>!Pe(b[l.axis]));m+=Math.max(0,y)}o=pt(m,s,i)-s}else o=i-s}return{start:s,count:o}}function G1(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),o}const Vs=e=>e===0||e===1,Cf=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ye/n)),Sf=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ye/n)+1,Br={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*rt)+1,easeOutSine:e=>Math.sin(e*rt),easeInOutSine:e=>-.5*(Math.cos(ze*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Vs(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Vs(e)?e:Cf(e,.075,.3),easeOutElastic:e=>Vs(e)?e:Sf(e,.075,.3),easeInOutElastic(e){return Vs(e)?e:e<.5?.5*Cf(e*2,.1125,.45):.5+.5*Sf(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Br.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Br.easeInBounce(e*2)*.5:Br.easeOutBounce(e*2-1)*.5+.5};function Dd(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Nf(e){return Dd(e)?e:new Xr(e)}function Va(e){return Dd(e)?e:new Xr(e).saturate(.5).darken(.1).hexString()}const e3=["x","y","borderWidth","radius","tension"],t3=["color","borderColor","backgroundColor"];function n3(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:t3},numbers:{type:"number",properties:e3}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function i3(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Lf=new Map;function r3(e,t){t=t||{};const n=e+JSON.stringify(t);let i=Lf.get(n);return i||(i=new Intl.NumberFormat(e,t),Lf.set(n,i)),i}function vs(e,t,n){return r3(t,n).format(e)}const K1={values(e){return Xe(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,o=e;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),o=s3(e,n)}const a=In(Math.abs(o)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),vs(e,i,c)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(In(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?K1.numeric.call(this,e,t,n):""}};function s3(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var aa={formatters:K1};function o3(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:aa.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const bi=Object.create(null),rc=Object.create(null);function zr(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const o=n[i];e=e[o]||(e[o]=Object.create(null))}return e}function Oa(e,t,n){return typeof t=="string"?Jr(zr(e,t),n):Jr(zr(e,""),t)}class a3{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Va(s.backgroundColor),this.hoverBorderColor=(i,s)=>Va(s.borderColor),this.hoverColor=(i,s)=>Va(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Oa(this,t,n)}get(t){return zr(this,t)}describe(t,n){return Oa(rc,t,n)}override(t,n){return Oa(bi,t,n)}route(t,n,i,s){const o=zr(this,t),a=zr(this,i),l="_"+n;Object.defineProperties(o,{[l]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[l],d=a[s];return Be(c)?Object.assign({},d,c):Le(c,d)},set(c){this[l]=c}}})}apply(t){t.forEach(n=>n(this))}}var Je=new a3({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[n3,i3,o3]);function l3(e){return!e||Pe(e.size)||Pe(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function jo(e,t,n,i,s){let o=t[s];return o||(o=t[s]=e.measureText(s).width,n.push(s)),o>i&&(i=o),i}function c3(e,t,n,i){i=i||{};let s=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},o=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let a=0;const l=n.length;let c,d,u,h,f;for(c=0;c<l;c++)if(h=n[c],h!=null&&!Xe(h))a=jo(e,s,o,a,h);else if(Xe(h))for(d=0,u=h.length;d<u;d++)f=h[d],f!=null&&!Xe(f)&&(a=jo(e,s,o,a,f));e.restore();const p=o.length/2;if(p>n.length){for(c=0;c<p;c++)delete s[o[c]];o.splice(0,p)}return a}function Zn(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function Mf(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function sc(e,t,n,i){q1(e,t,n,i,null)}function q1(e,t,n,i,s){let o,a,l,c,d,u,h,f;const p=t.pointStyle,g=t.rotation,m=t.radius;let y=(g||0)*$4;if(p&&typeof p=="object"&&(o=p.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(y),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(m)||m<=0)){switch(e.beginPath(),p){default:s?e.ellipse(n,i,s/2,m,0,0,Ye):e.arc(n,i,m,0,Ye),e.closePath();break;case"triangle":u=s?s/2:m,e.moveTo(n+Math.sin(y)*u,i-Math.cos(y)*m),y+=wf,e.lineTo(n+Math.sin(y)*u,i-Math.cos(y)*m),y+=wf,e.lineTo(n+Math.sin(y)*u,i-Math.cos(y)*m),e.closePath();break;case"rectRounded":d=m*.516,c=m-d,a=Math.cos(y+Yn)*c,h=Math.cos(y+Yn)*(s?s/2-d:c),l=Math.sin(y+Yn)*c,f=Math.sin(y+Yn)*(s?s/2-d:c),e.arc(n-h,i-l,d,y-ze,y-rt),e.arc(n+f,i-a,d,y-rt,y),e.arc(n+h,i+l,d,y,y+rt),e.arc(n-f,i+a,d,y+rt,y+ze),e.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*m,u=s?s/2:c,e.rect(n-u,i-c,2*u,2*c);break}y+=Yn;case"rectRot":h=Math.cos(y)*(s?s/2:m),a=Math.cos(y)*m,l=Math.sin(y)*m,f=Math.sin(y)*(s?s/2:m),e.moveTo(n-h,i-l),e.lineTo(n+f,i-a),e.lineTo(n+h,i+l),e.lineTo(n-f,i+a),e.closePath();break;case"crossRot":y+=Yn;case"cross":h=Math.cos(y)*(s?s/2:m),a=Math.cos(y)*m,l=Math.sin(y)*m,f=Math.sin(y)*(s?s/2:m),e.moveTo(n-h,i-l),e.lineTo(n+h,i+l),e.moveTo(n+f,i-a),e.lineTo(n-f,i+a);break;case"star":h=Math.cos(y)*(s?s/2:m),a=Math.cos(y)*m,l=Math.sin(y)*m,f=Math.sin(y)*(s?s/2:m),e.moveTo(n-h,i-l),e.lineTo(n+h,i+l),e.moveTo(n+f,i-a),e.lineTo(n-f,i+a),y+=Yn,h=Math.cos(y)*(s?s/2:m),a=Math.cos(y)*m,l=Math.sin(y)*m,f=Math.sin(y)*(s?s/2:m),e.moveTo(n-h,i-l),e.lineTo(n+h,i+l),e.moveTo(n+f,i-a),e.lineTo(n-f,i+a);break;case"line":a=s?s/2:Math.cos(y)*m,l=Math.sin(y)*m,e.moveTo(n-a,i-l),e.lineTo(n+a,i+l);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(y)*(s?s/2:m),i+Math.sin(y)*m);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function _n(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function la(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function ca(e){e.restore()}function d3(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const o=(t.x+n.x)/2;e.lineTo(o,t.y),e.lineTo(o,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function u3(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function h3(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Pe(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function f3(e,t,n,i,s){if(s.strikethrough||s.underline){const o=e.measureText(i),a=t-o.actualBoundingBoxLeft,l=t+o.actualBoundingBoxRight,c=n-o.actualBoundingBoxAscent,d=n+o.actualBoundingBoxDescent,u=s.strikethrough?(c+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(a,u),e.lineTo(l,u),e.stroke()}}function p3(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function wi(e,t,n,i,s,o={}){const a=Xe(t)?t:[t],l=o.strokeWidth>0&&o.strokeColor!=="";let c,d;for(e.save(),e.font=s.string,h3(e,o),c=0;c<a.length;++c)d=a[c],o.backdrop&&p3(e,o.backdrop),l&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),Pe(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(d,n,i,o.maxWidth)),e.fillText(d,n,i,o.maxWidth),f3(e,n,i,d,o),i+=Number(s.lineHeight);e.restore()}function ts(e,t){const{x:n,y:i,w:s,h:o,radius:a}=t;e.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*ze,ze,!0),e.lineTo(n,i+o-a.bottomLeft),e.arc(n+a.bottomLeft,i+o-a.bottomLeft,a.bottomLeft,ze,rt,!0),e.lineTo(n+s-a.bottomRight,i+o),e.arc(n+s-a.bottomRight,i+o-a.bottomRight,a.bottomRight,rt,0,!0),e.lineTo(n+s,i+a.topRight),e.arc(n+s-a.topRight,i+a.topRight,a.topRight,0,-rt,!0),e.lineTo(n+a.topLeft,i)}const m3=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,g3=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function y3(e,t){const n=(""+e).match(m3);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const v3=e=>+e||0;function Fd(e,t){const n={},i=Be(t),s=i?Object.keys(t):t,o=Be(e)?i?a=>Le(e[a],e[t[a]]):a=>e[a]:()=>e;for(const a of s)n[a]=v3(o(a));return n}function Y1(e){return Fd(e,{top:"y",right:"x",bottom:"y",left:"x"})}function pi(e){return Fd(e,["topLeft","topRight","bottomLeft","bottomRight"])}function bt(e){const t=Y1(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ut(e,t){e=e||{},t=t||Je.font;let n=Le(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=Le(e.style,t.style);i&&!(""+i).match(g3)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Le(e.family,t.family),lineHeight:y3(Le(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:Le(e.weight,t.weight),string:""};return s.string=l3(s),s}function wr(e,t,n,i){let s,o,a;for(s=0,o=e.length;s<o;++s)if(a=e[s],a!==void 0&&a!==void 0)return a}function b3(e,t,n){const{min:i,max:s}=e,o=B1(t,(s-i)/2),a=(l,c)=>n&&l===0?0:l+c;return{min:a(i,-Math.abs(o)),max:a(s,o)}}function jn(e,t){return Object.assign(Object.create(e),t)}function Pd(e,t=[""],n,i,s=()=>e[0]){const o=n||e;typeof i>"u"&&(i=Q1("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:i,_getTarget:s,override:l=>Pd([l,...e],t,o,i)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete e[0][c],!0},get(l,c){return X1(l,c,()=>L3(c,t,e,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,c){return Tf(l).includes(c)},ownKeys(l){return Tf(l)},set(l,c,d){const u=l._storage||(l._storage=s());return l[c]=u[c]=d,delete l._keys,!0}})}function ji(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Z1(e,i),setContext:o=>ji(e,o,n,i),override:o=>ji(e.override(o),t,n,i)};return new Proxy(s,{deleteProperty(o,a){return delete o[a],delete e[a],!0},get(o,a,l){return X1(o,a,()=>k3(o,a,l))},getOwnPropertyDescriptor(o,a){return o._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,a){return Reflect.has(e,a)},ownKeys(){return Reflect.ownKeys(e)},set(o,a,l){return e[a]=l,delete o[a],!0}})}function Z1(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Hn(n)?n:()=>n,isIndexable:Hn(i)?i:()=>i}}const w3=(e,t)=>e?e+Md(t):t,Id=(e,t)=>Be(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function X1(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function k3(e,t,n){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=e;let l=i[t];return Hn(l)&&a.isScriptable(t)&&(l=x3(t,l,e,n)),Xe(l)&&l.length&&(l=_3(t,l,e,a.isIndexable)),Id(t,l)&&(l=ji(l,s,o&&o[t],a)),l}function x3(e,t,n,i){const{_proxy:s,_context:o,_subProxy:a,_stack:l}=n;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let c=t(o,a||i);return l.delete(e),Id(e,c)&&(c=Rd(s._scopes,s,e,c)),c}function _3(e,t,n,i){const{_proxy:s,_context:o,_subProxy:a,_descriptors:l}=n;if(typeof o.index<"u"&&i(e))return t[o.index%t.length];if(Be(t[0])){const c=t,d=s._scopes.filter(u=>u!==c);t=[];for(const u of c){const h=Rd(d,s,e,u);t.push(ji(h,o,a&&a[e],l))}}return t}function J1(e,t,n){return Hn(e)?e(t,n):e}const C3=(e,t)=>e===!0?t:typeof e=="string"?Wn(t,e):void 0;function S3(e,t,n,i,s){for(const o of t){const a=C3(n,o);if(a){e.add(a);const l=J1(a._fallback,n,s);if(typeof l<"u"&&l!==n&&l!==i)return l}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function Rd(e,t,n,i){const s=t._rootScopes,o=J1(t._fallback,n,i),a=[...e,...s],l=new Set;l.add(i);let c=Ef(l,a,n,o||n,i);return c===null||typeof o<"u"&&o!==n&&(c=Ef(l,a,o,c,i),c===null)?!1:Pd(Array.from(l),[""],s,o,()=>N3(t,n,i))}function Ef(e,t,n,i,s){for(;n;)n=S3(e,t,n,i,s);return n}function N3(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return Xe(s)&&Be(n)?n:s||{}}function L3(e,t,n,i){let s;for(const o of t)if(s=Q1(w3(o,e),n),typeof s<"u")return Id(e,s)?Rd(n,i,e,s):s}function Q1(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function Tf(e){let t=e._keys;return t||(t=e._keys=M3(e._scopes)),t}function M3(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function e2(e,t,n,i){const{iScale:s}=e,{key:o="r"}=this._parsing,a=new Array(i);let l,c,d,u;for(l=0,c=i;l<c;++l)d=l+n,u=t[d],a[l]={r:s.parse(Wn(u,o),d)};return a}const E3=Number.EPSILON||1e-14,Ui=(e,t)=>t<e.length&&!e[t].skip&&e[t],t2=e=>e==="x"?"y":"x";function T3(e,t,n,i){const s=e.skip?t:e,o=t,a=n.skip?t:n,l=ic(o,s),c=ic(a,o);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=i*d,f=i*u;return{previous:{x:o.x-h*(a.x-s.x),y:o.y-h*(a.y-s.y)},next:{x:o.x+f*(a.x-s.x),y:o.y+f*(a.y-s.y)}}}function A3(e,t,n){const i=e.length;let s,o,a,l,c,d=Ui(e,0);for(let u=0;u<i-1;++u)if(c=d,d=Ui(e,u+1),!(!c||!d)){if(Rr(t[u],0,E3)){n[u]=n[u+1]=0;continue}s=n[u]/t[u],o=n[u+1]/t[u],l=Math.pow(s,2)+Math.pow(o,2),!(l<=9)&&(a=3/Math.sqrt(l),n[u]=s*a*t[u],n[u+1]=o*a*t[u])}}function D3(e,t,n="x"){const i=t2(n),s=e.length;let o,a,l,c=Ui(e,0);for(let d=0;d<s;++d){if(a=l,l=c,c=Ui(e,d+1),!l)continue;const u=l[n],h=l[i];a&&(o=(u-a[n])/3,l[`cp1${n}`]=u-o,l[`cp1${i}`]=h-o*t[d]),c&&(o=(c[n]-u)/3,l[`cp2${n}`]=u+o,l[`cp2${i}`]=h+o*t[d])}}function F3(e,t="x"){const n=t2(t),i=e.length,s=Array(i).fill(0),o=Array(i);let a,l,c,d=Ui(e,0);for(a=0;a<i;++a)if(l=c,c=d,d=Ui(e,a+1),!!c){if(d){const u=d[t]-c[t];s[a]=u!==0?(d[n]-c[n])/u:0}o[a]=l?d?fn(s[a-1])!==fn(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}A3(e,s,o),D3(e,o,t)}function Os(e,t,n){return Math.max(Math.min(e,n),t)}function P3(e,t){let n,i,s,o,a,l=_n(e[0],t);for(n=0,i=e.length;n<i;++n)a=o,o=l,l=n<i-1&&_n(e[n+1],t),o&&(s=e[n],a&&(s.cp1x=Os(s.cp1x,t.left,t.right),s.cp1y=Os(s.cp1y,t.top,t.bottom)),l&&(s.cp2x=Os(s.cp2x,t.left,t.right),s.cp2y=Os(s.cp2y,t.top,t.bottom)))}function I3(e,t,n,i,s){let o,a,l,c;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")F3(e,s);else{let d=i?e[e.length-1]:e[0];for(o=0,a=e.length;o<a;++o)l=e[o],c=T3(d,l,e[Math.min(o+1,a-(i?0:1))%a],t.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}t.capBezierPoints&&P3(e,n)}function Bd(){return typeof window<"u"&&typeof document<"u"}function zd(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Uo(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const da=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function R3(e,t){return da(e).getPropertyValue(t)}const B3=["top","right","bottom","left"];function mi(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const o=B3[s];i[o]=parseFloat(e[t+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const z3=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function V3(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:o}=i;let a=!1,l,c;if(z3(s,o,e.target))l=s,c=o;else{const d=t.getBoundingClientRect();l=i.clientX-d.left,c=i.clientY-d.top,a=!0}return{x:l,y:c,box:a}}function ii(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=da(n),o=s.boxSizing==="border-box",a=mi(s,"padding"),l=mi(s,"border","width"),{x:c,y:d,box:u}=V3(e,n),h=a.left+(u&&l.left),f=a.top+(u&&l.top);let{width:p,height:g}=t;return o&&(p-=a.width+l.width,g-=a.height+l.height),{x:Math.round((c-h)/p*n.width/i),y:Math.round((d-f)/g*n.height/i)}}function O3(e,t,n){let i,s;if(t===void 0||n===void 0){const o=e&&zd(e);if(!o)t=e.clientWidth,n=e.clientHeight;else{const a=o.getBoundingClientRect(),l=da(o),c=mi(l,"border","width"),d=mi(l,"padding");t=a.width-d.width-c.width,n=a.height-d.height-c.height,i=Uo(l.maxWidth,o,"clientWidth"),s=Uo(l.maxHeight,o,"clientHeight")}}return{width:t,height:n,maxWidth:i||$o,maxHeight:s||$o}}const Ws=e=>Math.round(e*10)/10;function W3(e,t,n,i){const s=da(e),o=mi(s,"margin"),a=Uo(s.maxWidth,e,"clientWidth")||$o,l=Uo(s.maxHeight,e,"clientHeight")||$o,c=O3(e,t,n);let{width:d,height:u}=c;if(s.boxSizing==="content-box"){const f=mi(s,"border","width"),p=mi(s,"padding");d-=p.width+f.width,u-=p.height+f.height}return d=Math.max(0,d-o.width),u=Math.max(0,i?d/i:u-o.height),d=Ws(Math.min(d,a,c.maxWidth)),u=Ws(Math.min(u,l,c.maxHeight)),d&&!u&&(u=Ws(d/2)),(t!==void 0||n!==void 0)&&i&&c.height&&u>c.height&&(u=c.height,d=Ws(Math.floor(u*i))),{width:d,height:u}}function Af(e,t,n){const i=t||1,s=Math.floor(e.height*i),o=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||a.height!==s||a.width!==o?(e.currentDevicePixelRatio=i,a.height=s,a.width=o,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const H3=(function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Bd()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function Df(e,t){const n=R3(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ri(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function $3(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function j3(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},a=ri(e,s,n),l=ri(s,o,n),c=ri(o,t,n),d=ri(a,l,n),u=ri(l,c,n);return ri(d,u,n)}const U3=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},G3=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function zi(e,t,n){return e?U3(t,n):G3()}function n2(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function i2(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function r2(e){return e==="angle"?{between:es,compare:K4,normalize:yt}:{between:kn,compare:(t,n)=>t-n,normalize:t=>t}}function Ff({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function K3(e,t,n){const{property:i,start:s,end:o}=n,{between:a,normalize:l}=r2(i),c=t.length;let{start:d,end:u,loop:h}=e,f,p;if(h){for(d+=c,u+=c,f=0,p=c;f<p&&a(l(t[d%c][i]),s,o);++f)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:h,style:e.style}}function s2(e,t,n){if(!n)return[e];const{property:i,start:s,end:o}=n,a=t.length,{compare:l,between:c,normalize:d}=r2(i),{start:u,end:h,loop:f,style:p}=K3(e,t,n),g=[];let m=!1,y=null,b,v,w;const S=()=>c(s,w,b)&&l(s,w)!==0,x=()=>l(o,b)===0||c(o,w,b),k=()=>m||S(),N=()=>!m||x();for(let L=u,_=u;L<=h;++L)v=t[L%a],!v.skip&&(b=d(v[i]),b!==w&&(m=c(b,s,o),y===null&&k()&&(y=l(b,s)===0?L:_),y!==null&&N()&&(g.push(Ff({start:y,end:L,loop:f,count:a,style:p})),y=null),_=L,w=b));return y!==null&&g.push(Ff({start:y,end:h,loop:f,count:a,style:p})),g}function o2(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const o=s2(i[s],e.points,t);o.length&&n.push(...o)}return n}function q3(e,t,n,i){let s=0,o=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(o+=s);o>s&&e[o%t].skip;)o--;return o%=t,{start:s,end:o}}function Y3(e,t,n,i){const s=e.length,o=[];let a=t,l=e[t],c;for(c=t+1;c<=n;++c){const d=e[c%s];d.skip||d.stop?l.skip||(i=!1,o.push({start:t%s,end:(c-1)%s,loop:i}),t=a=d.stop?c:null):(a=c,l.skip&&(t=c)),l=d}return a!==null&&o.push({start:t%s,end:a%s,loop:i}),o}function Z3(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const o=!!e._loop,{start:a,end:l}=q3(n,s,o,i);if(i===!0)return Pf(e,[{start:a,end:l,loop:o}],n,t);const c=l<a?l+s:l,d=!!e._fullLoop&&a===0&&l===s-1;return Pf(e,Y3(n,a,c,d),n,t)}function Pf(e,t,n,i){return!i||!i.setContext||!n?t:X3(e,t,n,i)}function X3(e,t,n,i){const s=e._chart.getContext(),o=If(e.options),{_datasetIndex:a,options:{spanGaps:l}}=e,c=n.length,d=[];let u=o,h=t[0].start,f=h;function p(g,m,y,b){const v=l?-1:1;if(g!==m){for(g+=c;n[g%c].skip;)g-=v;for(;n[m%c].skip;)m+=v;g%c!==m%c&&(d.push({start:g%c,end:m%c,loop:y,style:b}),u=b,h=m%c)}}for(const g of t){h=l?h:g.start;let m=n[h%c],y;for(f=h+1;f<=g.end;f++){const b=n[f%c];y=If(i.setContext(jn(s,{type:"segment",p0:m,p1:b,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:a}))),J3(y,u)&&p(h,f-1,g.loop,u),m=b,u=y}h<f-1&&p(h,f-1,g.loop,u)}return d}function If(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function J3(e,t){if(!t)return!1;const n=[],i=function(s,o){return Dd(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(e,i)!==JSON.stringify(t,i)}function Hs(e,t,n){return e.options.clip?e[n]:t[n]}function Q3(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:Hs(n,t,"left"),right:Hs(n,t,"right"),top:Hs(i,t,"top"),bottom:Hs(i,t,"bottom")}:t}function a2(e,t){const n=t._clip;if(n.disabled)return!1;const i=Q3(t,e.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class e9{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const o=n.listeners[s],a=n.duration;o.forEach(l=>l({chart:t,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=$1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const o=i.items;let a=o.length-1,l=!1,c;for(;a>=0;--a)c=o[a],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(t),l=!0):(o[a]=o[o.length-1],o.pop());l&&(s.draw(),this._notify(s,i,t,"progress")),o.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=o.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var yn=new e9;const Rf="transparent",t9={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=Nf(e||Rf),s=i.valid&&Nf(t||Rf);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class n9{constructor(t,n,i,s){const o=n[i];s=wr([t.to,s,o,t.from]);const a=wr([t.from,o,s]);this._active=!0,this._fn=t.fn||t9[t.type||typeof a],this._easing=Br[t.easing]||Br.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],o=i-this._start,a=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=wr([t.to,n,s,t.from]),this._from=wr([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,o=this._from,a=this._loop,l=this._to;let c;if(this._active=o!==l&&(a||n<i),!this._active){this._target[s]=l,this._notify(!0);return}if(n<0){this._target[s]=o;return}c=n/i%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(o,l,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class l2{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Be(t))return;const n=Object.keys(Je.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const o=t[s];if(!Be(o))return;const a={};for(const l of n)a[l]=o[l];(Xe(o.properties)&&o.properties||[s]).forEach(l=>{(l===s||!i.has(l))&&i.set(l,a)})})}_animateOptions(t,n){const i=n.options,s=r9(t,i);if(!s)return[];const o=this._createAnimations(s,i);return i.$shared&&i9(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,n){const i=this._properties,s=[],o=t.$animations||(t.$animations={}),a=Object.keys(n),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const d=a[c];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(t,n));continue}const u=n[d];let h=o[d];const f=i.get(d);if(h)if(f&&h.active()){h.update(f,u,l);continue}else h.cancel();if(!f||!f.duration){t[d]=u;continue}o[d]=h=new n9(f,t,d,u),s.push(h)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return yn.add(this._chart,i),!0}}function i9(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const o=e[i[s]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function r9(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Bf(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,o=n.max===void 0?t:0;return{start:i?o:s,end:i?s:o}}function s9(e,t,n){if(n===!1)return!1;const i=Bf(e,n),s=Bf(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function o9(e){let t,n,i,s;return Be(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function c2(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,o;for(s=0,o=i.length;s<o;++s)n.push(i[s].index);return n}function zf(e,t,n,i={}){const s=e.keys,o=i.mode==="single";let a,l,c,d;if(t===null)return;let u=!1;for(a=0,l=s.length;a<l;++a){if(c=+s[a],c===n){if(u=!0,i.all)continue;break}d=e.values[c],tt(d)&&(o||t===0||fn(t)===fn(d))&&(t+=d)}return!u&&!i.all?0:t}function a9(e,t){const{iScale:n,vScale:i}=t,s=n.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",a=Object.keys(e),l=new Array(a.length);let c,d,u;for(c=0,d=a.length;c<d;++c)u=a[c],l[c]={[s]:u,[o]:e[u]};return l}function Wa(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function l9(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function c9(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function d9(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function Vf(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const o=e[s.index];if(n&&o>0||!n&&o<0)return s.index}return null}function Of(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:o,vScale:a,index:l}=i,c=o.axis,d=a.axis,u=l9(o,a,i),h=t.length;let f;for(let p=0;p<h;++p){const g=t[p],{[c]:m,[d]:y}=g,b=g._stacks||(g._stacks={});f=b[d]=d9(s,u,m),f[l]=y,f._top=Vf(f,a,!0,i.type),f._bottom=Vf(f,a,!1,i.type);const v=f._visualValues||(f._visualValues={});v[l]=y}}function Ha(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function u9(e,t){return jn(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function h9(e,t,n){return jn(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function nr(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const o=s._stacks;if(!o||o[i]===void 0||o[i][n]===void 0)return;delete o[i][n],o[i]._visualValues!==void 0&&o[i]._visualValues[n]!==void 0&&delete o[i]._visualValues[n]}}}const $a=e=>e==="reset"||e==="none",Wf=(e,t)=>t?e:Object.assign({},e),f9=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:c2(n,!0),values:null};class Jt{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Wa(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&nr(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(h,f,p,g)=>h==="x"?f:h==="r"?g:p,o=n.xAxisID=Le(i.xAxisID,Ha(t,"x")),a=n.yAxisID=Le(i.yAxisID,Ha(t,"y")),l=n.rAxisID=Le(i.rAxisID,Ha(t,"r")),c=n.indexAxis,d=n.iAxisID=s(c,o,a,l),u=n.vAxisID=s(c,a,o,l);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&_f(this._data,this),t._stacked&&nr(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(Be(n)){const s=this._cachedMeta;this._data=a9(n,s)}else if(i!==n){if(i){_f(i,this);const s=this._cachedMeta;nr(s),s._parsed=[]}n&&Object.isExtensible(n)&&X4(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const o=n._stacked;n._stacked=Wa(n.vScale,n),n.stack!==i.stack&&(s=!0,nr(n),n.stack=i.stack),this._resyncElements(t),(s||o!==n._stacked)&&(Of(this,n._parsed),n._stacked=Wa(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:a}=i,l=o.axis;let c=t===0&&n===s.length?!0:i._sorted,d=t>0&&i._parsed[t-1],u,h,f;if(this._parsing===!1)i._parsed=s,i._sorted=!0,f=s;else{Xe(s[t])?f=this.parseArrayData(i,s,t,n):Be(s[t])?f=this.parseObjectData(i,s,t,n):f=this.parsePrimitiveData(i,s,t,n);const p=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<n;++u)i._parsed[u+t]=h=f[u],c&&(p()&&(c=!1),d=h);i._sorted=c}a&&Of(this,f)}parsePrimitiveData(t,n,i,s){const{iScale:o,vScale:a}=t,l=o.axis,c=a.axis,d=o.getLabels(),u=o===a,h=new Array(s);let f,p,g;for(f=0,p=s;f<p;++f)g=f+i,h[f]={[l]:u||o.parse(d[g],g),[c]:a.parse(n[g],g)};return h}parseArrayData(t,n,i,s){const{xScale:o,yScale:a}=t,l=new Array(s);let c,d,u,h;for(c=0,d=s;c<d;++c)u=c+i,h=n[u],l[c]={x:o.parse(h[0],u),y:a.parse(h[1],u)};return l}parseObjectData(t,n,i,s){const{xScale:o,yScale:a}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(s);let u,h,f,p;for(u=0,h=s;u<h;++u)f=u+i,p=n[f],d[u]={x:o.parse(Wn(p,l),f),y:a.parse(Wn(p,c),f)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,o=this._cachedMeta,a=n[t.axis],l={keys:c2(s,!0),values:n._stacks[t.axis]._visualValues};return zf(l,a,o.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const o=i[n.axis];let a=o===null?NaN:o;const l=s&&i._stacks[n.axis];s&&l&&(s.values=l,a=zf(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,o=i._sorted&&t===i.iScale,a=s.length,l=this._getOtherScale(t),c=f9(n,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=c9(l);let f,p;function g(){p=s[f];const m=p[l.axis];return!tt(p[t.axis])||u>m||h<m}for(f=0;f<a&&!(!g()&&(this.updateRangeFromParsed(d,t,p,c),o));++f);if(o){for(f=a-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(d,t,p,c);break}}return d}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,o,a;for(s=0,o=n.length;s<o;++s)a=n[s][t.axis],tt(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=o9(Le(this.options.clip,s9(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],o=n.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||s.length-l,d=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(t,o,l,c),u=l;u<l+c;++u){const h=s[u];h.hidden||(h.active&&d?a.push(h):h.draw(t,o))}for(u=0;u<a.length;++u)a[u].draw(t,o)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];o=a.$context||(a.$context=h9(this.getContext(),t,a)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=u9(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",o=this._cachedDataOpts,a=t+"-"+n,l=o[a],c=this.enableOptionSharing&&Qr(i);if(l)return Wf(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,t),h=s?[`${t}Hover`,"hover",t,""]:[t,""],f=d.getOptionScopes(this.getDataset(),u),p=Object.keys(Je.elements[t]),g=()=>this.getContext(i,s,n),m=d.resolveNamedOptions(f,p,g,h);return m.$shared&&(m.$shared=c,o[a]=Object.freeze(Wf(m,c))),m}_resolveAnimations(t,n,i){const s=this.chart,o=this._cachedDataOpts,a=`animation-${n}`,l=o[a];if(l)return l;let c;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(f,this.getContext(t,i,n))}const d=new l2(s,c&&c.animations);return c&&c._cacheable&&(o[a]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||$a(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,o=this.getSharedOptions(i),a=this.includeOptions(n,o)||o!==s;return this.updateSharedOptions(o,n,i),{sharedOptions:o,includeOptions:a}}updateElement(t,n,i,s){$a(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!$a(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const o=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const s=i.length,o=n.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,n,i=!0){const s=this._cachedMeta,o=s.data,a=t+n;let l;const c=d=>{for(d.length+=n,l=d.length-1;l>=a;l--)d[l]=d[l-n]};for(c(o),l=t;l<a;++l)o[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(t,n),i&&this.updateElements(o,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&nr(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}he(Jt,"defaults",{}),he(Jt,"datasetElementType",null),he(Jt,"dataElementType",null);function p9(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,o=n.length;s<o;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=H1(i.sort((s,o)=>s-o))}return e._cache.$bar}function m9(e){const t=e.iScale,n=p9(t,e.type);let i=t._length,s,o,a,l;const c=()=>{a===32767||a===-32768||(Qr(l)&&(i=Math.min(i,Math.abs(a-l)||i)),l=a)};for(s=0,o=n.length;s<o;++s)a=t.getPixelForValue(n[s]),c();for(l=void 0,s=0,o=t.ticks.length;s<o;++s)a=t.getPixelForTick(s),c();return i}function g9(e,t,n,i){const s=n.barThickness;let o,a;return Pe(s)?(o=t.min*n.categoryPercentage,a=n.barPercentage):(o=s*i,a=1),{chunk:o/i,ratio:a,start:t.pixels[e]-o/2}}function y9(e,t,n,i){const s=t.pixels,o=s[e];let a=e>0?s[e-1]:null,l=e<s.length-1?s[e+1]:null;const c=n.categoryPercentage;a===null&&(a=o-(l===null?t.end-t.start:l-o)),l===null&&(l=o+o-a);const d=o-(o-Math.min(a,l))/2*c;return{chunk:Math.abs(l-a)/2*c/i,ratio:n.barPercentage,start:d}}function v9(e,t,n,i){const s=n.parse(e[0],i),o=n.parse(e[1],i),a=Math.min(s,o),l=Math.max(s,o);let c=a,d=l;Math.abs(a)>Math.abs(l)&&(c=l,d=a),t[n.axis]=d,t._custom={barStart:c,barEnd:d,start:s,end:o,min:a,max:l}}function d2(e,t,n,i){return Xe(e)?v9(e,t,n,i):t[n.axis]=n.parse(e,i),t}function Hf(e,t,n,i){const s=e.iScale,o=e.vScale,a=s.getLabels(),l=s===o,c=[];let d,u,h,f;for(d=n,u=n+i;d<u;++d)f=t[d],h={},h[s.axis]=l||s.parse(a[d],d),c.push(d2(f,h,o,d));return c}function ja(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function b9(e,t,n){return e!==0?fn(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function w9(e){let t,n,i,s,o;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",o="start"):(s="start",o="end"),{start:n,end:i,reverse:t,top:s,bottom:o}}function k9(e,t,n,i){let s=t.borderSkipped;const o={};if(!s){e.borderSkipped=o;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:c,top:d,bottom:u}=w9(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=d:(n._bottom||0)===i?s=u:(o[$f(u,a,l,c)]=!0,s=d)),o[$f(s,a,l,c)]=!0,e.borderSkipped=o}function $f(e,t,n,i){return i?(e=x9(e,t,n),e=jf(e,n,t)):e=jf(e,t,n),e}function x9(e,t,n){return e===t?n:e===n?t:e}function jf(e,t,n){return e==="start"?t:e==="end"?n:e}function _9(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class wo extends Jt{parsePrimitiveData(t,n,i,s){return Hf(t,n,i,s)}parseArrayData(t,n,i,s){return Hf(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:o,vScale:a}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=o.axis==="x"?l:c,u=a.axis==="x"?l:c,h=[];let f,p,g,m;for(f=i,p=i+s;f<p;++f)m=n[f],g={},g[o.axis]=o.parse(Wn(m,d),f),h.push(d2(Wn(m,u),g,a,f));return h}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const o=i._custom;o&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,o=this.getParsed(t),a=o._custom,l=ja(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const o=s==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,s);for(let p=n;p<n+i;p++){const g=this.getParsed(p),m=o||Pe(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,u),b=(g._stacks||{})[l.axis],v={horizontal:d,base:m.base,enableBorderRadius:!b||ja(g._custom)||a===b._top||a===b._bottom,x:d?m.head:y.center,y:d?y.center:m.head,height:d?y.size:Math.abs(m.size),width:d?Math.abs(m.size):y.size};f&&(v.options=h||this.resolveDataElementOptions(p,t[p].active?"active":s));const w=v.options||t[p].options;k9(v,w,b,a),_9(v,w,u.ratio),this.updateElement(t[p],p,v,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),o=i.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(n),c=l&&l[i.axis],d=u=>{const h=u._parsed.find(p=>p[i.axis]===c),f=h&&h[u.vScale.axis];if(Pe(f)||isNaN(f))return!0};for(const u of s)if(!(n!==void 0&&d(u))&&((o===!1||a.indexOf(u.stack)===-1||o===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Le(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,i){const s=this._getStacks(t,i),o=n!==void 0?s.indexOf(n):-1;return o===-1?s.length-1:o}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let o,a;for(o=0,a=n.data.length;o<a;++o)s.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const l=t.barThickness;return{min:l||m9(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:o,minBarLength:a}}=this,l=o||0,c=this.getParsed(t),d=c._custom,u=ja(d);let h=c[n.axis],f=0,p=i?this.applyStack(n,c,i):h,g,m;p!==h&&(f=p-h,p=h),u&&(h=d.barStart,p=d.barEnd-d.barStart,h!==0&&fn(h)!==fn(d.barEnd)&&(f=0),f+=h);const y=!Pe(o)&&!u?o:f;let b=n.getPixelForValue(y);if(this.chart.getDataVisibility(t)?g=n.getPixelForValue(f+p):g=b,m=g-b,Math.abs(m)<a){m=b9(m,n,l)*a,h===l&&(b-=m/2);const v=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),S=Math.min(v,w),x=Math.max(v,w);b=Math.max(Math.min(b,x),S),g=b+m,i&&!u&&(c._stacks[n.axis]._visualValues[s]=n.getValueForPixel(g)-n.getValueForPixel(b))}if(b===n.getPixelForValue(l)){const v=fn(m)*n.getLineWidthForValue(l)/2;b+=v,m-=v}return{size:m,base:b,head:g,center:g+m/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,o=s.skipNull,a=Le(s.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(n.grouped){const u=o?this._getStackCount(t):n.stackCount,h=s.barThickness==="flex"?y9(t,n,s,u*d):g9(t,n,s,u*d),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(Le(f,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+p;l=h.start+h.chunk*g+h.chunk/2,c=Math.min(a,h.chunk*h.ratio)}else l=i.getPixelForValue(this.getParsed(t)[i.axis],t),c=Math.min(a,n.min*n.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let o=0;for(;o<s;++o)this.getParsed(o)[n.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}he(wo,"id","bar"),he(wo,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),he(wo,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ko extends Jt{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,s){const o=super.parsePrimitiveData(t,n,i,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+i).radius;return o}parseArrayData(t,n,i,s){const o=super.parseArrayData(t,n,i,s);for(let a=0;a<o.length;a++){const l=n[i+a];o[a]._custom=Le(l[2],this.resolveDataElementOptions(a+i).radius)}return o}parseObjectData(t,n,i,s){const o=super.parseObjectData(t,n,i,s);for(let a=0;a<o.length;a++){const l=n[i+a];o[a]._custom=Le(l&&l.r&&+l.r,this.resolveDataElementOptions(a+i).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=n,a=this.getParsed(t),l=s.getLabelForValue(a.x),c=o.getLabelForValue(a.y),d=a._custom;return{label:i[t]||"",value:"("+l+", "+c+(d?", "+d:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,s){const o=s==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(n,s),u=a.axis,h=l.axis;for(let f=n;f<n+i;f++){const p=t[f],g=!o&&this.getParsed(f),m={},y=m[u]=o?a.getPixelForDecimal(.5):a.getPixelForValue(g[u]),b=m[h]=o?l.getBasePixel():l.getPixelForValue(g[h]);m.skip=isNaN(y)||isNaN(b),d&&(m.options=c||this.resolveDataElementOptions(f,p.active?"active":s),o&&(m.options.radius=0)),this.updateElement(p,f,m,s)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return n!=="active"&&(s.radius=0),s.radius+=Le(i&&i._custom,o),s}}he(ko,"id","bubble"),he(ko,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),he(ko,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function C9(e,t,n){let i=1,s=1,o=0,a=0;if(t<Ye){const l=e,c=l+t,d=Math.cos(l),u=Math.sin(l),h=Math.cos(c),f=Math.sin(c),p=(w,S,x)=>es(w,l,c,!0)?1:Math.max(S,S*n,x,x*n),g=(w,S,x)=>es(w,l,c,!0)?-1:Math.min(S,S*n,x,x*n),m=p(0,d,h),y=p(rt,u,f),b=g(ze,d,h),v=g(ze+rt,u,f);i=(m-b)/2,s=(y-v)/2,o=-(m+b)/2,a=-(y+v)/2}return{ratioX:i,ratioY:s,offsetX:o,offsetY:a}}class ci extends Jt{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let o=c=>+i[c];if(Be(i[t])){const{key:c="value"}=this._parsing;o=d=>+Wn(i[d],c)}let a,l;for(a=t,l=t+n;a<l;++a)s._parsed[a]=o(a)}}_getRotation(){return Zt(this.options.rotation-90)}_getCircumference(){return Zt(this.options.circumference)}_getRotationExtents(){let t=Ye,n=-Ye;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,o=s._getRotation(),a=s._getCircumference();t=Math.min(t,o),n=Math.max(n,o+a)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-a)/2,0),c=Math.min(R4(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=C9(h,u,c),y=(i.width-a)/f,b=(i.height-a)/p,v=Math.max(Math.min(y,b)/2,0),w=B1(this.options.radius,v),S=Math.max(w*c,0),x=(w-S)/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=m*w,s.total=this.calculateTotal(),this.outerRadius=w-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*d,0),this.updateElements(o,0,o.length,t)}_circumference(t,n){const i=this.options,s=this._cachedMeta,o=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/Ye)}updateElements(t,n,i,s){const o=s==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,u=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=o&&d.animateScale,p=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:m,includeOptions:y}=this._getSharedOptions(n,s);let b=this._getRotation(),v;for(v=0;v<n;++v)b+=this._circumference(v,o);for(v=n;v<n+i;++v){const w=this._circumference(v,o),S=t[v],x={x:u+this.offsetX,y:h+this.offsetY,startAngle:b,endAngle:b+w,circumference:w,outerRadius:g,innerRadius:p};y&&(x.options=m||this.resolveDataElementOptions(v,S.active?"active":s)),b+=w,this.updateElement(S,v,x,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,s;for(s=0;s<n.length;s++){const o=t._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Ye*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=vs(n._parsed[t],i.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let n=0;const i=this.chart;let s,o,a,l,c;if(!t){for(s=0,o=i.data.datasets.length;s<o;++s)if(i.isDatasetVisible(s)){a=i.getDatasetMeta(s),t=a.data,l=a.controller;break}}if(!t)return 0;for(s=0,o=t.length;s<o;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,s=t.length;i<s;++i){const o=this.resolveDataElementOptions(i);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(Le(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}he(ci,"id","doughnut"),he(ci,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),he(ci,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),he(ci,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((o,a)=>{const c=t.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class xo extends Jt{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:o}=n,a=this.chart._animationsDisabled;let{start:l,count:c}=U1(n,s,a);this._drawStart=l,this._drawCount=c,G1(n)&&(l=0,c=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=s;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:d},t),this.updateElements(s,l,c,t)}updateElements(t,n,i,s){const o=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,s),f=a.axis,p=l.axis,{spanGaps:g,segment:m}=this.options,y=$i(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||o||s==="none",v=n+i,w=t.length;let S=n>0&&this.getParsed(n-1);for(let x=0;x<w;++x){const k=t[x],N=b?k:{};if(x<n||x>=v){N.skip=!0;continue}const L=this.getParsed(x),_=Pe(L[p]),I=N[f]=a.getPixelForValue(L[f],x),T=N[p]=o||_?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,L,c):L[p],x);N.skip=isNaN(I)||isNaN(T)||_,N.stop=x>0&&Math.abs(L[f]-S[f])>y,m&&(N.parsed=L,N.raw=d.data[x]),h&&(N.options=u||this.resolveDataElementOptions(x,k.active?"active":s)),b||this.updateElement(k,x,N,s),S=L}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}he(xo,"id","line"),he(xo,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),he(xo,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Vr extends Jt{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=vs(n._parsed[t].r,i.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,n,i,s){return e2.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(s/2,0),a=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),l=(o-a)/t.getVisibleDatasetCount();this.outerRadius=o-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,n,i,s){const o=s==="reset",a=this.chart,c=a.options.animation,d=this._cachedMeta.rScale,u=d.xCenter,h=d.yCenter,f=d.getIndexAngle(0)-.5*ze;let p=f,g;const m=360/this.countVisibleElements();for(g=0;g<n;++g)p+=this._computeAngle(g,s,m);for(g=n;g<n+i;g++){const y=t[g];let b=p,v=p+this._computeAngle(g,s,m),w=a.getDataVisibility(g)?d.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=v,o&&(c.animateScale&&(w=0),c.animateRotate&&(b=v=f));const S={x:u,y:h,innerRadius:0,outerRadius:w,startAngle:b,endAngle:v,options:this.resolveDataElementOptions(g,y.active?"active":s)};this.updateElement(y,g,S,s)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?Zt(this.resolveDataElementOptions(t,n).angle||i):0}}he(Vr,"id","polarArea"),he(Vr,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),he(Vr,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((o,a)=>{const c=t.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class oc extends ci{}he(oc,"id","pie"),he(oc,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class _o extends Jt{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,s){return e2.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta,i=n.dataset,s=n.data||[],o=n.iScale.getLabels();if(i.points=s,t!=="resize"){const a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);const l={_loop:!0,_fullLoop:o.length===s.length,options:a};this.updateElement(i,void 0,l,t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,i,s){const o=this._cachedMeta.rScale,a=s==="reset";for(let l=n;l<n+i;l++){const c=t[l],d=this.resolveDataElementOptions(l,c.active?"active":s),u=o.getPointPositionForValue(l,this.getParsed(l).r),h=a?o.xCenter:u.x,f=a?o.yCenter:u.y,p={x:h,y:f,angle:u.angle,skip:isNaN(h)||isNaN(f),options:d};this.updateElement(c,l,p,s)}}}he(_o,"id","radar"),he(_o,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),he(_o,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Co extends Jt{getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=n,a=this.getParsed(t),l=s.getLabelForValue(a.x),c=o.getLabelForValue(a.y);return{label:i[t]||"",value:"("+l+", "+c+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:o,count:a}=U1(n,i,s);if(this._drawStart=o,this._drawCount=a,G1(n)&&(o=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=n;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=i;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:d},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,o,a,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,s){const o=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,u=this.resolveDataElementOptions(n,s),h=this.getSharedOptions(u),f=this.includeOptions(s,h),p=a.axis,g=l.axis,{spanGaps:m,segment:y}=this.options,b=$i(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||o||s==="none";let w=n>0&&this.getParsed(n-1);for(let S=n;S<n+i;++S){const x=t[S],k=this.getParsed(S),N=v?x:{},L=Pe(k[g]),_=N[p]=a.getPixelForValue(k[p],S),I=N[g]=o||L?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,k,c):k[g],S);N.skip=isNaN(_)||isNaN(I)||L,N.stop=S>0&&Math.abs(k[p]-w[p])>b,y&&(N.parsed=k,N.raw=d.data[S]),f&&(N.options=h||this.resolveDataElementOptions(S,x.active?"active":s)),v||this.updateElement(x,S,N,s),w=k}this.updateSharedOptions(h,s,u)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let l=0;for(let c=n.length-1;c>=0;--c)l=Math.max(l,n[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const o=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,o,a)/2}}he(Co,"id","scatter"),he(Co,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),he(Co,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var S9=Object.freeze({__proto__:null,BarController:wo,BubbleController:ko,DoughnutController:ci,LineController:xo,PieController:oc,PolarAreaController:Vr,RadarController:_o,ScatterController:Co});function Xn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Vd{constructor(t){he(this,"options");this.options=t||{}}static override(t){Object.assign(Vd.prototype,t)}init(){}formats(){return Xn()}parse(){return Xn()}format(){return Xn()}add(){return Xn()}diff(){return Xn()}startOf(){return Xn()}endOf(){return Xn()}}var N9={_date:Vd};function L9(e,t,n,i){const{controller:s,data:o,_sorted:a}=e,l=s._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&a&&o.length){const d=l._reversePixels?Y4:xn;if(i){if(s._sharedOptions){const u=o[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const f=d(o,t,n-h),p=d(o,t,n+h);return{lo:f.lo,hi:p.hi}}}}else{const u=d(o,t,n);if(c){const{vScale:h}=s._cachedMeta,{_parsed:f}=e,p=f.slice(0,u.lo+1).reverse().findIndex(m=>!Pe(m[h.axis]));u.lo-=Math.max(0,p);const g=f.slice(u.hi).findIndex(m=>!Pe(m[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:o.length-1}}function bs(e,t,n,i,s){const o=e.getSortedVisibleDatasetMetas(),a=n[t];for(let l=0,c=o.length;l<c;++l){const{index:d,data:u}=o[l],{lo:h,hi:f}=L9(o[l],t,a,s);for(let p=h;p<=f;++p){const g=u[p];g.skip||i(g,d,p)}}}function M9(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const o=t?Math.abs(i.x-s.x):0,a=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function Ua(e,t,n,i,s){const o=[];return!s&&!e.isPointInArea(t)||bs(e,n,t,function(l,c,d){!s&&!_n(l,e.chartArea,0)||l.inRange(t.x,t.y,i)&&o.push({element:l,datasetIndex:c,index:d})},!0),o}function E9(e,t,n,i){let s=[];function o(a,l,c){const{startAngle:d,endAngle:u}=a.getProps(["startAngle","endAngle"],i),{angle:h}=O1(a,{x:t.x,y:t.y});es(h,d,u)&&s.push({element:a,datasetIndex:l,index:c})}return bs(e,n,t,o),s}function T9(e,t,n,i,s,o){let a=[];const l=M9(n);let c=Number.POSITIVE_INFINITY;function d(u,h,f){const p=u.inRange(t.x,t.y,s);if(i&&!p)return;const g=u.getCenterPoint(s);if(!(!!o||e.isPointInArea(g))&&!p)return;const y=l(t,g);y<c?(a=[{element:u,datasetIndex:h,index:f}],c=y):y===c&&a.push({element:u,datasetIndex:h,index:f})}return bs(e,n,t,d),a}function Ga(e,t,n,i,s,o){return!o&&!e.isPointInArea(t)?[]:n==="r"&&!i?E9(e,t,n,s):T9(e,t,n,i,s,o)}function Uf(e,t,n,i,s){const o=[],a=n==="x"?"inXRange":"inYRange";let l=!1;return bs(e,n,t,(c,d,u)=>{c[a]&&c[a](t[n],s)&&(o.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(t.x,t.y,s))}),i&&!l?[]:o}var A9={evaluateInteractionItems:bs,modes:{index(e,t,n,i){const s=ii(t,e),o=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?Ua(e,s,o,i,a):Ga(e,s,o,!1,i,a),c=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(e,t,n,i){const s=ii(t,e),o=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?Ua(e,s,o,i,a):Ga(e,s,o,!1,i,a);if(l.length>0){const c=l[0].datasetIndex,d=e.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(e,t,n,i){const s=ii(t,e),o=n.axis||"xy",a=n.includeInvisible||!1;return Ua(e,s,o,i,a)},nearest(e,t,n,i){const s=ii(t,e),o=n.axis||"xy",a=n.includeInvisible||!1;return Ga(e,s,o,n.intersect,i,a)},x(e,t,n,i){const s=ii(t,e);return Uf(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=ii(t,e);return Uf(e,s,"y",n.intersect,i)}}};const u2=["left","top","right","bottom"];function ir(e,t){return e.filter(n=>n.pos===t)}function Gf(e,t){return e.filter(n=>u2.indexOf(n.pos)===-1&&n.box.axis===t)}function rr(e,t){return e.sort((n,i)=>{const s=t?i:n,o=t?n:i;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function D9(e){const t=[];let n,i,s,o,a,l;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:o,options:{stack:a,stackWeight:l=1}}=s,t.push({index:n,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&o+a,stackWeight:l});return t}function F9(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:o}=n;if(!i||!u2.includes(s))continue;const a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return t}function P9(e,t){const n=F9(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let o,a,l;for(o=0,a=e.length;o<a;++o){l=e[o];const{fullSize:c}=l.box,d=n[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*i:c&&t.availableWidth,l.height=s):(l.width=i,l.height=u?u*s:c&&t.availableHeight)}return n}function I9(e){const t=D9(e),n=rr(t.filter(d=>d.box.fullSize),!0),i=rr(ir(t,"left"),!0),s=rr(ir(t,"right")),o=rr(ir(t,"top"),!0),a=rr(ir(t,"bottom")),l=Gf(t,"x"),c=Gf(t,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:s.concat(c).concat(a).concat(l),chartArea:ir(t,"chartArea"),vertical:i.concat(s).concat(c),horizontal:o.concat(a).concat(l)}}function Kf(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function h2(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function R9(e,t,n,i){const{pos:s,box:o}=n,a=e.maxPadding;if(!Be(s)){n.size&&(e[s]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?o.height:o.width),n.size=h.size/h.count,e[s]+=n.size}o.getPadding&&h2(a,o.getPadding());const l=Math.max(0,t.outerWidth-Kf(a,e,"left","right")),c=Math.max(0,t.outerHeight-Kf(a,e,"top","bottom")),d=l!==e.w,u=c!==e.h;return e.w=l,e.h=c,n.horizontal?{same:d,other:u}:{same:u,other:d}}function B9(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function z9(e,t){const n=t.maxPadding;function i(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{o[a]=Math.max(t[a],n[a])}),o}return i(e?["left","right"]:["top","bottom"])}function kr(e,t,n,i){const s=[];let o,a,l,c,d,u;for(o=0,a=e.length,d=0;o<a;++o){l=e[o],c=l.box,c.update(l.width||t.w,l.height||t.h,z9(l.horizontal,t));const{same:h,other:f}=R9(t,n,l,i);d|=h&&s.length,u=u||f,c.fullSize||s.push(l)}return d&&kr(s,t,n,i)||u}function $s(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function qf(e,t,n,i){const s=n.padding;let{x:o,y:a}=t;for(const l of e){const c=l.box,d=i[l.stack]||{placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const h=t.w*u,f=d.size||c.height;Qr(d.start)&&(a=d.start),c.fullSize?$s(c,s.left,a,n.outerWidth-s.right-s.left,f):$s(c,t.left+d.placed,a,h,f),d.start=a,d.placed+=h,a=c.bottom}else{const h=t.h*u,f=d.size||c.width;Qr(d.start)&&(o=d.start),c.fullSize?$s(c,o,s.top,f,n.outerHeight-s.bottom-s.top):$s(c,o,t.top+d.placed,f,h),d.start=o,d.placed+=h,o=c.right}}t.x=o,t.y=a}var vt={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=bt(e.options.layout.padding),o=Math.max(t-s.width,0),a=Math.max(n-s.height,0),l=I9(e.boxes),c=l.vertical,d=l.horizontal;We(e.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=c.reduce((m,y)=>y.box.options&&y.box.options.display===!1?m:m+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/u,hBoxMaxHeight:a/2}),f=Object.assign({},s);h2(f,bt(i));const p=Object.assign({maxPadding:f,w:o,h:a,x:s.left,y:s.top},s),g=P9(c.concat(d),h);kr(l.fullSize,p,h,g),kr(c,p,h,g),kr(d,p,h,g)&&kr(c,p,h,g),B9(p),qf(l.leftAndTop,p,h,g),p.x+=p.w,p.y+=p.h,qf(l.rightAndBottom,p,h,g),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},We(l.chartArea,m=>{const y=m.box;Object.assign(y,e.chartArea),y.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class f2{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class V9 extends f2{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const So="$chartjs",O9={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Yf=e=>e===null||e==="";function W9(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[So]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Yf(s)){const o=Df(e,"width");o!==void 0&&(e.width=o)}if(Yf(i))if(e.style.height==="")e.height=e.width/(t||2);else{const o=Df(e,"height");o!==void 0&&(e.height=o)}return e}const p2=H3?{passive:!0}:!1;function H9(e,t,n){e&&e.addEventListener(t,n,p2)}function $9(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,p2)}function j9(e,t){const n=O9[e.type]||e.type,{x:i,y:s}=ii(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Go(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function U9(e,t,n){const i=e.canvas,s=new MutationObserver(o=>{let a=!1;for(const l of o)a=a||Go(l.addedNodes,i),a=a&&!Go(l.removedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function G9(e,t,n){const i=e.canvas,s=new MutationObserver(o=>{let a=!1;for(const l of o)a=a||Go(l.removedNodes,i),a=a&&!Go(l.addedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const ns=new Map;let Zf=0;function m2(){const e=window.devicePixelRatio;e!==Zf&&(Zf=e,ns.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function K9(e,t){ns.size||window.addEventListener("resize",m2),ns.set(e,t)}function q9(e){ns.delete(e),ns.size||window.removeEventListener("resize",m2)}function Y9(e,t,n){const i=e.canvas,s=i&&zd(i);if(!s)return;const o=j1((l,c)=>{const d=s.clientWidth;n(l,c),d<s.clientWidth&&n()},window),a=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||o(d,u)});return a.observe(s),K9(e,o),a}function Ka(e,t,n){n&&n.disconnect(),t==="resize"&&q9(e)}function Z9(e,t,n){const i=e.canvas,s=j1(o=>{e.ctx!==null&&n(j9(o,e))},e);return H9(i,t,s),s}class X9 extends f2{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(W9(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[So])return!1;const i=n[So].initial;["height","width"].forEach(o=>{const a=i[o];Pe(a)?n.removeAttribute(o):n.setAttribute(o,a)});const s=i.style||{};return Object.keys(s).forEach(o=>{n.style[o]=s[o]}),n.width=n.width,delete n[So],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),a={attach:U9,detach:G9,resize:Y9}[n]||Z9;s[n]=a(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:Ka,detach:Ka,resize:Ka}[n]||$9)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return W3(t,n,i,s)}isAttached(t){const n=t&&zd(t);return!!(n&&n.isConnected)}}function J9(e){return!Bd()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?V9:X9}var fo;let En=(fo=class{constructor(){he(this,"x");he(this,"y");he(this,"active",!1);he(this,"options");he(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return $i(this.x)&&$i(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(o=>{s[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),s}},he(fo,"defaults",{}),he(fo,"defaultRoutes"),fo);function Q9(e,t){const n=e.options.ticks,i=eC(e),s=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?nC(t):[],a=o.length,l=o[0],c=o[a-1],d=[];if(a>s)return iC(t,d,o,a/s),d;const u=tC(o,t,s);if(a>0){let h,f;const p=a>1?Math.round((c-l)/(a-1)):null;for(js(t,d,u,Pe(p)?0:l-p,l),h=0,f=a-1;h<f;h++)js(t,d,u,o[h],o[h+1]);return js(t,d,u,c,Pe(p)?t.length:c+p),d}return js(t,d,u),d}function eC(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function tC(e,t,n){const i=rC(e),s=t.length/n;if(!i)return Math.max(s,1);const o=j4(i);for(let a=0,l=o.length-1;a<l;a++){const c=o[a];if(c>s)return c}return Math.max(s,1)}function nC(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function iC(e,t,n,i){let s=0,o=n[0],a;for(i=Math.ceil(i),a=0;a<e.length;a++)a===o&&(t.push(e[a]),s++,o=n[s*i])}function js(e,t,n,i,s){const o=Le(i,0),a=Math.min(Le(s,e.length),e.length);let l=0,c,d,u;for(n=Math.ceil(n),s&&(c=s-i,n=c/Math.floor(c/n)),u=o;u<0;)l++,u=Math.round(o+l*n);for(d=Math.max(o,0);d<a;d++)d===u&&(t.push(e[d]),l++,u=Math.round(o+l*n))}function rC(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const sC=e=>e==="left"?"right":e==="right"?"left":e,Xf=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,Jf=(e,t)=>Math.min(t||e,e);function Qf(e,t){const n=[],i=e.length/t,s=e.length;let o=0;for(;o<s;o+=i)n.push(e[Math.floor(o)]);return n}function oC(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),o=e._startPixel,a=e._endPixel,l=1e-6;let c=e.getPixelForTick(s),d;if(!(n&&(i===1?d=Math.max(c-o,a-c):t===0?d=(e.getPixelForTick(1)-c)/2:d=(c-e.getPixelForTick(s-1))/2,c+=s<t?d:-d,c<o-l||c>a+l)))return c}function aC(e,t){We(e,n=>{const i=n.gc,s=i.length/2;let o;if(s>t){for(o=0;o<s;++o)delete n.data[i[o]];i.splice(0,s)}})}function sr(e){return e.drawTicks?e.tickLength:0}function ep(e,t){if(!e.display)return 0;const n=ut(e.font,t),i=bt(e.padding);return(Xe(e.text)?e.text.length:1)*n.lineHeight+i.height}function lC(e,t){return jn(e,{scale:t,type:"scale"})}function cC(e,t,n){return jn(e,{tick:n,index:t,type:"tick"})}function dC(e,t,n){let i=Ad(e);return(n&&t!=="right"||!n&&t==="right")&&(i=sC(i)),i}function uC(e,t,n,i){const{top:s,left:o,bottom:a,right:l,chart:c}=e,{chartArea:d,scales:u}=c;let h=0,f,p,g;const m=a-s,y=l-o;if(e.isHorizontal()){if(p=gt(i,o,l),Be(n)){const b=Object.keys(n)[0],v=n[b];g=u[b].getPixelForValue(v)+m-t}else n==="center"?g=(d.bottom+d.top)/2+m-t:g=Xf(e,n,t);f=l-o}else{if(Be(n)){const b=Object.keys(n)[0],v=n[b];p=u[b].getPixelForValue(v)-y+t}else n==="center"?p=(d.left+d.right)/2-y+t:p=Xf(e,n,t);g=gt(i,a,s),h=n==="left"?-rt:rt}return{titleX:p,titleY:g,maxWidth:f,rotation:h}}class xi extends En{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=Ft(t,Number.POSITIVE_INFINITY),n=Ft(n,Number.NEGATIVE_INFINITY),i=Ft(i,Number.POSITIVE_INFINITY),s=Ft(s,Number.NEGATIVE_INFINITY),{min:Ft(t,i),max:Ft(n,s),minDefined:tt(t),maxDefined:tt(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:o}=this.getUserBounds(),a;if(s&&o)return{min:n,max:i};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)a=l[c].controller.getMinMax(this,t),s||(n=Math.min(n,a.min)),o||(i=Math.max(i,a.max));return n=o&&n>i?i:n,i=s&&n>i?n:i,{min:Ft(n,Ft(i,n)),max:Ft(i,Ft(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){je(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:o,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=b3(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?Qf(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Q9(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){je(this.options.afterUpdate,[this])}beforeSetDimensions(){je(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){je(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),je(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){je(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,o;for(i=0,s=t.length;i<s;i++)o=t[i],o.label=je(n.callback,[o.value,i,t],this)}afterTickToLabelConversion(){je(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){je(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=Jf(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,o=n.maxRotation;let a=s,l,c,d;if(!this._isVisible()||!n.display||s>=o||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,p=pt(this.chart.width-h,0,this.maxWidth);l=t.offset?this.maxWidth/i:p/(i-1),h+6>l&&(l=p/(i-(t.offset?.5:1)),c=this.maxHeight-sr(t.grid)-n.padding-ep(t.title,this.chart.options.font),d=Math.sqrt(h*h+f*f),a=Ed(Math.min(Math.asin(pt((u.highest.height+6)/l,-1,1)),Math.asin(pt(c/d,-1,1))-Math.asin(pt(f/d,-1,1)))),a=Math.max(s,Math.min(o,a))),this.labelRotation=a}afterCalculateLabelRotation(){je(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){je(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:o}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=ep(s,n.options.font);if(l?(t.width=this.maxWidth,t.height=sr(o)+c):(t.height=this.maxHeight,t.width=sr(o)+c),i.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:f}=this._getLabelSizes(),p=i.padding*2,g=Zt(this.labelRotation),m=Math.cos(g),y=Math.sin(g);if(l){const b=i.mirror?0:y*h.width+m*f.height;t.height=Math.min(this.maxHeight,t.height+b+p)}else{const b=i.mirror?0:m*h.width+y*f.height;t.width=Math.min(this.maxWidth,t.width+b+p)}this._calculatePadding(d,u,y,m)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:o,padding:a},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;c?d?(f=s*t.width,p=i*n.height):(f=i*t.height,p=s*n.width):o==="start"?p=n.width:o==="end"?f=t.width:o!=="inner"&&(f=t.width/2,p=n.width/2),this.paddingLeft=Math.max((f-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+a)*this.width/(this.width-h),0)}else{let u=n.height/2,h=t.height/2;o==="start"?(u=0,h=t.height):o==="end"&&(u=n.height,h=0),this.paddingTop=u+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){je(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)Pe(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Qf(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:o}=this,a=[],l=[],c=Math.floor(n/Jf(n,i));let d=0,u=0,h,f,p,g,m,y,b,v,w,S,x;for(h=0;h<n;h+=c){if(g=t[h].label,m=this._resolveTickFontOptions(h),s.font=y=m.string,b=o[y]=o[y]||{data:{},gc:[]},v=m.lineHeight,w=S=0,!Pe(g)&&!Xe(g))w=jo(s,b.data,b.gc,w,g),S=v;else if(Xe(g))for(f=0,p=g.length;f<p;++f)x=g[f],!Pe(x)&&!Xe(x)&&(w=jo(s,b.data,b.gc,w,x),S+=v);a.push(w),l.push(S),d=Math.max(w,d),u=Math.max(S,u)}aC(o,n);const k=a.indexOf(d),N=l.indexOf(u),L=_=>({width:a[_]||0,height:l[_]||0});return{first:L(0),last:L(n-1),widest:L(k),highest:L(N),widths:a,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return q4(this._alignToPixels?Zn(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=cC(this.getContext(),t,i))}return this.$context||(this.$context=lC(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Zt(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),o=this._getLabelSizes(),a=t.autoSkipPadding||0,l=o?o.widest.width+a:0,c=o?o.highest.height+a:0;return this.isHorizontal()?c*i>l*s?l/i:c/s:c*s<l*i?c/i:l/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:o,position:a,border:l}=s,c=o.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=sr(o),p=[],g=l.setContext(this.getContext()),m=g.display?g.width:0,y=m/2,b=function(V){return Zn(i,V,m)};let v,w,S,x,k,N,L,_,I,T,R,j;if(a==="top")v=b(this.bottom),N=this.bottom-f,_=v-y,T=b(t.top)+y,j=t.bottom;else if(a==="bottom")v=b(this.top),T=t.top,j=b(t.bottom)-y,N=v+y,_=this.top+f;else if(a==="left")v=b(this.right),k=this.right-f,L=v-y,I=b(t.left)+y,R=t.right;else if(a==="right")v=b(this.left),I=t.left,R=b(t.right)-y,k=v+y,L=this.left+f;else if(n==="x"){if(a==="center")v=b((t.top+t.bottom)/2+.5);else if(Be(a)){const V=Object.keys(a)[0],A=a[V];v=b(this.chart.scales[V].getPixelForValue(A))}T=t.top,j=t.bottom,N=v+y,_=N+f}else if(n==="y"){if(a==="center")v=b((t.left+t.right)/2);else if(Be(a)){const V=Object.keys(a)[0],A=a[V];v=b(this.chart.scales[V].getPixelForValue(A))}k=v-y,L=k-f,I=t.left,R=t.right}const z=Le(s.ticks.maxTicksLimit,h),B=Math.max(1,Math.ceil(h/z));for(w=0;w<h;w+=B){const V=this.getContext(w),A=o.setContext(V),F=l.setContext(V),M=A.lineWidth,C=A.color,X=F.dash||[],q=F.dashOffset,E=A.tickWidth,ee=A.tickColor,ue=A.tickBorderDash||[],K=A.tickBorderDashOffset;S=oC(this,w,c),S!==void 0&&(x=Zn(i,S,M),d?k=L=I=R=x:N=_=T=j=x,p.push({tx1:k,ty1:N,tx2:L,ty2:_,x1:I,y1:T,x2:R,y2:j,width:M,color:C,borderDash:X,borderDashOffset:q,tickWidth:E,tickColor:ee,tickBorderDash:ue,tickBorderDashOffset:K}))}return this._ticksLength=h,this._borderValue=v,p}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:o}=i,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=o,f=sr(i.grid),p=f+u,g=h?-u:p,m=-Zt(this.labelRotation),y=[];let b,v,w,S,x,k,N,L,_,I,T,R,j="middle";if(s==="top")k=this.bottom-g,N=this._getXAxisLabelAlignment();else if(s==="bottom")k=this.top+g,N=this._getXAxisLabelAlignment();else if(s==="left"){const B=this._getYAxisLabelAlignment(f);N=B.textAlign,x=B.x}else if(s==="right"){const B=this._getYAxisLabelAlignment(f);N=B.textAlign,x=B.x}else if(n==="x"){if(s==="center")k=(t.top+t.bottom)/2+p;else if(Be(s)){const B=Object.keys(s)[0],V=s[B];k=this.chart.scales[B].getPixelForValue(V)+p}N=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")x=(t.left+t.right)/2-p;else if(Be(s)){const B=Object.keys(s)[0],V=s[B];x=this.chart.scales[B].getPixelForValue(V)}N=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(c==="start"?j="top":c==="end"&&(j="bottom"));const z=this._getLabelSizes();for(b=0,v=l.length;b<v;++b){w=l[b],S=w.label;const B=o.setContext(this.getContext(b));L=this.getPixelForTick(b)+o.labelOffset,_=this._resolveTickFontOptions(b),I=_.lineHeight,T=Xe(S)?S.length:1;const V=T/2,A=B.color,F=B.textStrokeColor,M=B.textStrokeWidth;let C=N;a?(x=L,N==="inner"&&(b===v-1?C=this.options.reverse?"left":"right":b===0?C=this.options.reverse?"right":"left":C="center"),s==="top"?d==="near"||m!==0?R=-T*I+I/2:d==="center"?R=-z.highest.height/2-V*I+I:R=-z.highest.height+I/2:d==="near"||m!==0?R=I/2:d==="center"?R=z.highest.height/2-V*I:R=z.highest.height-T*I,h&&(R*=-1),m!==0&&!B.showLabelBackdrop&&(x+=I/2*Math.sin(m))):(k=L,R=(1-T)*I/2);let X;if(B.showLabelBackdrop){const q=bt(B.backdropPadding),E=z.heights[b],ee=z.widths[b];let ue=R-q.top,K=0-q.left;switch(j){case"middle":ue-=E/2;break;case"bottom":ue-=E;break}switch(N){case"center":K-=ee/2;break;case"right":K-=ee;break;case"inner":b===v-1?K-=ee:b>0&&(K-=ee/2);break}X={left:K,top:ue,width:ee+q.width,height:E+q.height,color:B.backdropColor}}y.push({label:S,font:_,textOffset:R,options:{rotation:m,color:A,strokeColor:F,strokeWidth:M,textAlign:C,textBaseline:j,translation:[x,k],backdrop:X}})}return y}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Zt(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:o}}=this.options,a=this._getLabelSizes(),l=t+o,c=a.widest.width;let d,u;return n==="left"?s?(u=this.right+o,i==="near"?d="left":i==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,i==="near"?d="right":i==="center"?(d="center",u-=c/2):(d="left",u=this.left)):n==="right"?s?(u=this.left+o,i==="near"?d="right":i==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,i==="near"?d="left":i==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:o,height:a}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,o,a),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(o=>o.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,a;const l=(c,d,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(n.display)for(o=0,a=s.length;o<a;++o){const c=s[o];n.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,o=i.setContext(this.getContext()),a=i.display?o.width:0;if(!a)return;const l=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,f;this.isHorizontal()?(d=Zn(t,this.left,a)-a/2,u=Zn(t,this.right,l)+l/2,h=f=c):(h=Zn(t,this.top,a)-a/2,f=Zn(t,this.bottom,l)+l/2,d=u=c),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(d,h),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&la(i,s);const o=this.getLabelItems(t);for(const a of o){const l=a.options,c=a.font,d=a.label,u=a.textOffset;wi(i,d,0,u,c,l)}s&&ca(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const o=ut(i.font),a=bt(i.padding),l=i.align;let c=o.lineHeight/2;n==="bottom"||n==="center"||Be(n)?(c+=a.bottom,Xe(i.text)&&(c+=o.lineHeight*(i.text.length-1))):c+=a.top;const{titleX:d,titleY:u,maxWidth:h,rotation:f}=uC(this,c,n,l);wi(t,i.text,0,0,o,{color:i.color,maxWidth:h,rotation:f,textAlign:dC(l,n,s),textBaseline:"middle",translation:[d,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=Le(t.grid&&t.grid.z,-1),s=Le(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==xi.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let o,a;for(o=0,a=n.length;o<a;++o){const l=n[o];l[i]===this.id&&(!t||l.type===t)&&s.push(l)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return ut(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Us{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;pC(n)&&(i=this.register(n));const s=this.items,o=t.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in s||(s[o]=t,hC(t,a,i),this.override&&Je.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in Je[s]&&(delete Je[s][i],this.override&&delete bi[i])}}function hC(e,t,n){const i=Jr(Object.create(null),[n?Je.get(n):{},Je.get(t),e.defaults]);Je.set(t,i),e.defaultRoutes&&fC(t,e.defaultRoutes),e.descriptors&&Je.describe(t,e.descriptors)}function fC(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),o=[e].concat(i).join("."),a=t[n].split("."),l=a.pop(),c=a.join(".");Je.route(o,s,c,l)})}function pC(e){return"id"in e&&"defaults"in e}class mC{constructor(){this.controllers=new Us(Jt,"datasets",!0),this.elements=new Us(En,"elements"),this.plugins=new Us(Object,"plugins"),this.scales=new Us(xi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const o=i||this._getRegistryForType(s);i||o.isForType(s)||o===this.plugins&&s.id?this._exec(t,o,s):We(s,a=>{const l=i||this._getRegistryForType(a);this._exec(t,l,a)})})}_exec(t,n,i){const s=Md(t);je(i["before"+s],[],i),n[t](i),je(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var rn=new mC;class gC{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=s?this._descriptors(t).filter(s):this._descriptors(t),a=this._notify(o,t,n,i);return n==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,n,i,s){s=s||{};for(const o of t){const a=o.plugin,l=a[i],c=[n,s,o.options];if(je(l,c,a)===!1&&s.cancelable)return!1}return!0}invalidate(){Pe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=Le(i.options&&i.options.plugins,{}),o=yC(i);return s===!1&&!n?[]:bC(t,o,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(o,a)=>o.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function yC(e){const t={},n=[],i=Object.keys(rn.plugins.items);for(let o=0;o<i.length;o++)n.push(rn.getPlugin(i[o]));const s=e.plugins||[];for(let o=0;o<s.length;o++){const a=s[o];n.indexOf(a)===-1&&(n.push(a),t[a.id]=!0)}return{plugins:n,localIds:t}}function vC(e,t){return!t&&e===!1?null:e===!0?{}:e}function bC(e,{plugins:t,localIds:n},i,s){const o=[],a=e.getContext();for(const l of t){const c=l.id,d=vC(i[c],s);d!==null&&o.push({plugin:l,options:wC(e.config,{plugin:l,local:n[c]},d,a)})}return o}function wC(e,{plugin:t,local:n},i,s){const o=e.pluginScopeKeys(t),a=e.getOptionScopes(i,o);return n&&t.defaults&&a.push(t.defaults),e.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ac(e,t){const n=Je.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function kC(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function xC(e,t){return e===t?"_index_":"_value_"}function tp(e){if(e==="x"||e==="y"||e==="r")return e}function _C(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function lc(e,...t){if(tp(e))return e;for(const n of t){const i=n.axis||_C(n.position)||e.length>1&&tp(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function np(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function CC(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return np(e,"x",n[0])||np(e,"y",n[0])}return{}}function SC(e,t){const n=bi[e.type]||{scales:{}},i=t.scales||{},s=ac(e.type,t),o=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!Be(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=lc(a,l,CC(a,e),Je.scales[l.type]),d=xC(c,s),u=n.scales||{};o[a]=Ir(Object.create(null),[{axis:c},l,u[c],u[d]])}),e.data.datasets.forEach(a=>{const l=a.type||e.type,c=a.indexAxis||ac(l,t),u=(bi[l]||{}).scales||{};Object.keys(u).forEach(h=>{const f=kC(h,c),p=a[f+"AxisID"]||f;o[p]=o[p]||Object.create(null),Ir(o[p],[{axis:f},i[p],u[h]])})}),Object.keys(o).forEach(a=>{const l=o[a];Ir(l,[Je.scales[l.type],Je.scale])}),o}function g2(e){const t=e.options||(e.options={});t.plugins=Le(t.plugins,{}),t.scales=SC(e,t)}function y2(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function NC(e){return e=e||{},e.data=y2(e.data),g2(e),e}const ip=new Map,v2=new Set;function Gs(e,t){let n=ip.get(e);return n||(n=t(),ip.set(e,n),v2.add(n)),n}const or=(e,t,n)=>{const i=Wn(t,n);i!==void 0&&e.add(i)};let LC=class{constructor(t){this._config=NC(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=y2(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),g2(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Gs(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Gs(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Gs(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return Gs(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:o}=this,a=this._cachedScopes(t,i),l=a.get(n);if(l)return l;const c=new Set;n.forEach(u=>{t&&(c.add(t),u.forEach(h=>or(c,t,h))),u.forEach(h=>or(c,s,h)),u.forEach(h=>or(c,bi[o]||{},h)),u.forEach(h=>or(c,Je,h)),u.forEach(h=>or(c,rc,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),v2.has(n)&&a.set(n,d),d}chartOptionScopes(){const{options:t,type:n}=this;return[t,bi[n]||{},Je.datasets[n]||{},{type:n},Je,rc]}resolveNamedOptions(t,n,i,s=[""]){const o={$shared:!0},{resolver:a,subPrefixes:l}=rp(this._resolverCache,t,s);let c=a;if(EC(a,n)){o.$shared=!1,i=Hn(i)?i():i;const d=this.createResolver(t,i,l);c=ji(a,i,d)}for(const d of n)o[d]=c[d];return o}createResolver(t,n,i=[""],s){const{resolver:o}=rp(this._resolverCache,t,i);return Be(n)?ji(o,n,void 0,s):o}};function rp(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let o=i.get(s);return o||(o={resolver:Pd(t,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},i.set(s,o)),o}const MC=e=>Be(e)&&Object.getOwnPropertyNames(e).some(t=>Hn(e[t]));function EC(e,t){const{isScriptable:n,isIndexable:i}=Z1(e);for(const s of t){const o=n(s),a=i(s),l=(a||o)&&e[s];if(o&&(Hn(l)||MC(l))||a&&Xe(l))return!0}return!1}var TC="4.5.0";const AC=["top","bottom","left","right","chartArea"];function sp(e,t){return e==="top"||e==="bottom"||AC.indexOf(e)===-1&&t==="x"}function op(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function ap(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),je(n&&n.onComplete,[e],t)}function DC(e){const t=e.chart,n=t.options.animation;je(n&&n.onProgress,[e],t)}function b2(e){return Bd()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const No={},lp=e=>{const t=b2(e);return Object.values(No).filter(n=>n.canvas===t).pop()};function FC(e,t,n){const i=Object.keys(e);for(const s of i){const o=+s;if(o>=t){const a=e[s];delete e[s],(n>0||o>t)&&(e[o+n]=a)}}}function PC(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}class Yt{static register(...t){rn.add(...t),cp()}static unregister(...t){rn.remove(...t),cp()}constructor(t,n){const i=this.config=new LC(n),s=b2(t),o=lp(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||J9(s)),this.platform.updateConfig(i);const l=this.platform.acquireContext(s,a.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=I4(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new gC,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=J4(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],No[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}yn.listen(this,"complete",ap),yn.listen(this,"progress",DC),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:o}=this;return Pe(t)?n&&o?o:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return rn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Af(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Mf(this.canvas,this.ctx),this}stop(){return yn.stop(this),this}resize(t,n){yn.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,t,n,o),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Af(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),je(i.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};We(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{});let o=[];n&&(o=o.concat(Object.keys(n).map(a=>{const l=n[a],c=lc(a,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),We(o,a=>{const l=a.options,c=l.id,d=lc(c,l),u=Le(l.type,a.dtype);(l.position===void 0||sp(l.position,d)!==sp(a.dposition))&&(l.position=a.dposition),s[c]=!0;let h=null;if(c in i&&i[c].type===u)h=i[c];else{const f=rn.getScale(u);h=new f({id:c,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(l,t)}),We(s,(a,l)=>{a||delete i[l]}),We(i,a=>{vt.configure(this,a,a.options),vt.addBox(this,a)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,o)=>s.index-o.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(op("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const o=n[i];let a=this.getDatasetMeta(i);const l=o.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=o.indexAxis||ac(l,this.options),a.order=o.order||0,a.index=i,a.label=""+o.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const c=rn.getController(l),{datasetElementType:d,dataElementType:u}=Je.datasets[l];Object.assign(c,{dataElementType:rn.getElement(u),datasetElementType:d&&rn.getElement(d)}),a.controller=new c(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){We(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),f=!s&&o.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||We(o,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(op("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){We(this.scales,t=>{vt.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!bf(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:o}of n){const a=i==="_removeElements"?-o:o;FC(t,s,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=o=>new Set(t.filter(a=>a[0]===o).map((a,l)=>l+","+a.splice(1).join(","))),s=i(0);for(let o=1;o<n;o++)if(!bf(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;vt.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],We(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Hn(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(yn.has(this)?this.attached&&!yn.running(this)&&yn.start(this):(this.draw(),ap({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=a2(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&la(n,s),t.controller.draw(),s&&ca(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return _n(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const o=A9.modes[n];return typeof o=="function"?o(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(o=>o&&o._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=jn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",o=this.getDatasetMeta(t),a=o.controller._resolveAnimations(void 0,s);Qr(n)?(o.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(o,{visible:i}),this.update(l=>l.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),yn.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Mf(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete No[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(o,a)=>{n.addEventListener(this,o,a),t[o]=a},s=(o,a,l)=>{o.offsetX=a,o.offsetY=l,this._eventHandler(o)};We(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(c,d)=>{n.addEventListener(this,c,d),t[c]=d},s=(c,d)=>{t[c]&&(n.removeEventListener(this,c,d),delete t[c])},o=(c,d)=>{this.canvas&&this.resize(c,d)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),i("resize",o),i("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){We(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},We(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let o,a,l,c;for(n==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){a=t[l];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:o,index:a})=>{const l=this.getDatasetMeta(o);if(!l)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:l.data[a],index:a}});!Wo(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,o=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),a=o(n,t),l=i?t:o(t,n);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const o=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:o}=this,a=n,l=this._getActiveElements(t,s,i,a),c=W4(t),d=PC(t,this._lastEvent,i,c);i&&(this._lastEvent=null,je(o.onHover,[t,l,this],this),c&&je(o.onClick,[t,l,this],this));const u=!Wo(l,s);return(u||n)&&(this._active=l,this._updateHoverStyles(l,s,n)),this._lastEvent=d,u}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}}he(Yt,"defaults",Je),he(Yt,"instances",No),he(Yt,"overrides",bi),he(Yt,"registry",rn),he(Yt,"version",TC),he(Yt,"getChart",lp);function cp(){return We(Yt.instances,e=>e._plugins.invalidate())}function IC(e,t,n){const{startAngle:i,x:s,y:o,outerRadius:a,innerRadius:l,options:c}=t,{borderWidth:d,borderJoinStyle:u}=c,h=Math.min(d/a,yt(i-n));if(e.beginPath(),e.arc(s,o,a-d/2,i+h/2,n-h/2),l>0){const f=Math.min(d/l,yt(i-n));e.arc(s,o,l+d/2,n-f/2,i+f/2,!0)}else{const f=Math.min(d/2,a*yt(i-n));if(u==="round")e.arc(s,o,f,n-ze/2,i+ze/2,!0);else if(u==="bevel"){const p=2*f*f,g=-p*Math.cos(n+ze/2)+s,m=-p*Math.sin(n+ze/2)+o,y=p*Math.cos(i+ze/2)+s,b=p*Math.sin(i+ze/2)+o;e.lineTo(g,m),e.lineTo(y,b)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function RC(e,t,n){const{startAngle:i,pixelMargin:s,x:o,y:a,outerRadius:l,innerRadius:c}=t;let d=s/l;e.beginPath(),e.arc(o,a,l,i-d,n+d),c>s?(d=s/c,e.arc(o,a,c,n+d,i-d,!0)):e.arc(o,a,s,n+rt,i-rt),e.closePath(),e.clip()}function BC(e){return Fd(e,["outerStart","outerEnd","innerStart","innerEnd"])}function zC(e,t,n,i){const s=BC(e.options.borderRadius),o=(n-t)/2,a=Math.min(o,i*t/2),l=c=>{const d=(n-Math.min(o,c))*i/2;return pt(c,0,Math.min(o,d))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:pt(s.innerStart,0,a),innerEnd:pt(s.innerEnd,0,a)}}function Ni(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function Ko(e,t,n,i,s,o){const{x:a,y:l,startAngle:c,pixelMargin:d,innerRadius:u}=t,h=Math.max(t.outerRadius+i+n-d,0),f=u>0?u+i+n+d:0;let p=0;const g=s-c;if(i){const B=u>0?u-i:0,V=h>0?h-i:0,A=(B+V)/2,F=A!==0?g*A/(A+i):g;p=(g-F)/2}const m=Math.max(.001,g*h-n/ze)/h,y=(g-m)/2,b=c+y+p,v=s-y-p,{outerStart:w,outerEnd:S,innerStart:x,innerEnd:k}=zC(t,f,h,v-b),N=h-w,L=h-S,_=b+w/N,I=v-S/L,T=f+x,R=f+k,j=b+x/T,z=v-k/R;if(e.beginPath(),o){const B=(_+I)/2;if(e.arc(a,l,h,_,B),e.arc(a,l,h,B,I),S>0){const M=Ni(L,I,a,l);e.arc(M.x,M.y,S,I,v+rt)}const V=Ni(R,v,a,l);if(e.lineTo(V.x,V.y),k>0){const M=Ni(R,z,a,l);e.arc(M.x,M.y,k,v+rt,z+Math.PI)}const A=(v-k/f+(b+x/f))/2;if(e.arc(a,l,f,v-k/f,A,!0),e.arc(a,l,f,A,b+x/f,!0),x>0){const M=Ni(T,j,a,l);e.arc(M.x,M.y,x,j+Math.PI,b-rt)}const F=Ni(N,b,a,l);if(e.lineTo(F.x,F.y),w>0){const M=Ni(N,_,a,l);e.arc(M.x,M.y,w,b-rt,_)}}else{e.moveTo(a,l);const B=Math.cos(_)*h+a,V=Math.sin(_)*h+l;e.lineTo(B,V);const A=Math.cos(I)*h+a,F=Math.sin(I)*h+l;e.lineTo(A,F)}e.closePath()}function VC(e,t,n,i,s){const{fullCircles:o,startAngle:a,circumference:l}=t;let c=t.endAngle;if(o){Ko(e,t,n,i,c,s);for(let d=0;d<o;++d)e.fill();isNaN(l)||(c=a+(l%Ye||Ye))}return Ko(e,t,n,i,c,s),e.fill(),c}function OC(e,t,n,i,s){const{fullCircles:o,startAngle:a,circumference:l,options:c}=t,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:f,borderRadius:p}=c,g=c.borderAlign==="inner";if(!d)return;e.setLineDash(h||[]),e.lineDashOffset=f,g?(e.lineWidth=d*2,e.lineJoin=u||"round"):(e.lineWidth=d,e.lineJoin=u||"bevel");let m=t.endAngle;if(o){Ko(e,t,n,i,m,s);for(let y=0;y<o;++y)e.stroke();isNaN(l)||(m=a+(l%Ye||Ye))}g&&RC(e,t,m),c.selfJoin&&m-a>=ze&&p===0&&u!=="miter"&&IC(e,t,m),o||(Ko(e,t,n,i,m,s),e.stroke())}class xr extends En{constructor(n){super();he(this,"circumference");he(this,"endAngle");he(this,"fullCircles");he(this,"innerRadius");he(this,"outerRadius");he(this,"pixelMargin");he(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const o=this.getProps(["x","y"],s),{angle:a,distance:l}=O1(o,{x:n,y:i}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),p=(this.options.spacing+this.options.borderWidth)/2,g=Le(f,d-c),m=es(a,c,d)&&c!==d,y=g>=Ye||m,b=kn(l,u+p,h+p);return y&&b}getCenterPoint(n){const{x:i,y:s,startAngle:o,endAngle:a,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:d,spacing:u}=this.options,h=(o+a)/2,f=(l+c+u+d)/2;return{x:i+Math.cos(h)*f,y:s+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,o=(i.offset||0)/4,a=(i.spacing||0)/2,l=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Ye?Math.floor(s/Ye):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*o,Math.sin(c)*o);const d=1-Math.sin(Math.min(ze,s||0)),u=o*d;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,VC(n,this,u,a,l),OC(n,this,u,a,l),n.restore()}}he(xr,"id","arc"),he(xr,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),he(xr,"defaultRoutes",{backgroundColor:"backgroundColor"}),he(xr,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function w2(e,t,n=t){e.lineCap=Le(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Le(n.borderDash,t.borderDash)),e.lineDashOffset=Le(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Le(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Le(n.borderWidth,t.borderWidth),e.strokeStyle=Le(n.borderColor,t.borderColor)}function WC(e,t,n){e.lineTo(n.x,n.y)}function HC(e){return e.stepped?d3:e.tension||e.cubicInterpolationMode==="monotone"?u3:WC}function k2(e,t,n={}){const i=e.length,{start:s=0,end:o=i-1}=n,{start:a,end:l}=t,c=Math.max(s,a),d=Math.min(o,l),u=s<a&&o<a||s>l&&o>l;return{count:i,start:c,loop:t.loop,ilen:d<c&&!u?i+d-c:d-c}}function $C(e,t,n,i){const{points:s,options:o}=t,{count:a,start:l,loop:c,ilen:d}=k2(s,n,i),u=HC(o);let{move:h=!0,reverse:f}=i||{},p,g,m;for(p=0;p<=d;++p)g=s[(l+(f?d-p:p))%a],!g.skip&&(h?(e.moveTo(g.x,g.y),h=!1):u(e,m,g,f,o.stepped),m=g);return c&&(g=s[(l+(f?d:0))%a],u(e,m,g,f,o.stepped)),!!c}function jC(e,t,n,i){const s=t.points,{count:o,start:a,ilen:l}=k2(s,n,i),{move:c=!0,reverse:d}=i||{};let u=0,h=0,f,p,g,m,y,b;const v=S=>(a+(d?l-S:S))%o,w=()=>{m!==y&&(e.lineTo(u,y),e.lineTo(u,m),e.lineTo(u,b))};for(c&&(p=s[v(0)],e.moveTo(p.x,p.y)),f=0;f<=l;++f){if(p=s[v(f)],p.skip)continue;const S=p.x,x=p.y,k=S|0;k===g?(x<m?m=x:x>y&&(y=x),u=(h*u+S)/++h):(w(),e.lineTo(S,x),g=k,h=0,m=y=x),b=x}w()}function cc(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?jC:$C}function UC(e){return e.stepped?$3:e.tension||e.cubicInterpolationMode==="monotone"?j3:ri}function GC(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),w2(e,t.options),e.stroke(s)}function KC(e,t,n,i){const{segments:s,options:o}=t,a=cc(t);for(const l of s)w2(e,o,l.style),e.beginPath(),a(e,t,l,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const qC=typeof Path2D=="function";function YC(e,t,n,i){qC&&!t.options.segment?GC(e,t,n,i):KC(e,t,n,i)}class Rn extends En{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;I3(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Z3(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],o=this.points,a=o2(this,{property:n,start:s,end:s});if(!a.length)return;const l=[],c=UC(i);let d,u;for(d=0,u=a.length;d<u;++d){const{start:h,end:f}=a[d],p=o[h],g=o[f];if(p===g){l.push(p);continue}const m=Math.abs((s-p[n])/(g[n]-p[n])),y=c(p,g,m,i.stepped);y[n]=t[n],l.push(y)}return l.length===1?l[0]:l}pathSegment(t,n,i){return cc(this)(t,this,n,i)}path(t,n,i){const s=this.segments,o=cc(this);let a=this._loop;n=n||0,i=i||this.points.length-n;for(const l of s)a&=o(t,this,l,{start:n,end:n+i-1});return!!a}draw(t,n,i,s){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),YC(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}he(Rn,"id","line"),he(Rn,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),he(Rn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),he(Rn,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function dp(e,t,n,i){const s=e.options,{[n]:o}=e.getProps([n],i);return Math.abs(t-o)<s.radius+s.hitRadius}class Lo extends En{constructor(n){super();he(this,"parsed");he(this,"skip");he(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const o=this.options,{x:a,y:l}=this.getProps(["x","y"],s);return Math.pow(n-a,2)+Math.pow(i-l,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,i){return dp(this,n,"x",i)}inYRange(n,i){return dp(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!_n(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,sc(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}he(Lo,"id","point"),he(Lo,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),he(Lo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function x2(e,t){const{x:n,y:i,base:s,width:o,height:a}=e.getProps(["x","y","base","width","height"],t);let l,c,d,u,h;return e.horizontal?(h=a/2,l=Math.min(n,s),c=Math.max(n,s),d=i-h,u=i+h):(h=o/2,l=n-h,c=n+h,d=Math.min(i,s),u=Math.max(i,s)),{left:l,top:d,right:c,bottom:u}}function Bn(e,t,n,i){return e?0:pt(t,n,i)}function ZC(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,o=Y1(i);return{t:Bn(s.top,o.top,0,n),r:Bn(s.right,o.right,0,t),b:Bn(s.bottom,o.bottom,0,n),l:Bn(s.left,o.left,0,t)}}function XC(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,o=pi(s),a=Math.min(t,n),l=e.borderSkipped,c=i||Be(s);return{topLeft:Bn(!c||l.top||l.left,o.topLeft,0,a),topRight:Bn(!c||l.top||l.right,o.topRight,0,a),bottomLeft:Bn(!c||l.bottom||l.left,o.bottomLeft,0,a),bottomRight:Bn(!c||l.bottom||l.right,o.bottomRight,0,a)}}function JC(e){const t=x2(e),n=t.right-t.left,i=t.bottom-t.top,s=ZC(e,n/2,i/2),o=XC(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:o},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}function qa(e,t,n,i){const s=t===null,o=n===null,l=e&&!(s&&o)&&x2(e,i);return l&&(s||kn(t,l.left,l.right))&&(o||kn(n,l.top,l.bottom))}function QC(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function eS(e,t){e.rect(t.x,t.y,t.w,t.h)}function Ya(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-i,a=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+o,h:e.h+a,radius:e.radius}}class Mo extends En{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:o,outer:a}=JC(this),l=QC(a.radius)?ts:eS;t.save(),(a.w!==o.w||a.h!==o.h)&&(t.beginPath(),l(t,Ya(a,n,o)),t.clip(),l(t,Ya(o,-n,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),l(t,Ya(o,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return qa(this,t,n,i)}inXRange(t,n){return qa(this,t,null,n)}inYRange(t,n){return qa(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(n+s)/2:n,y:o?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}he(Mo,"id","bar"),he(Mo,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),he(Mo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var tS=Object.freeze({__proto__:null,ArcElement:xr,BarElement:Mo,LineElement:Rn,PointElement:Lo});const dc=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],up=dc.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function _2(e){return dc[e%dc.length]}function C2(e){return up[e%up.length]}function nS(e,t){return e.borderColor=_2(t),e.backgroundColor=C2(t),++t}function iS(e,t){return e.backgroundColor=e.data.map(()=>_2(t++)),t}function rS(e,t){return e.backgroundColor=e.data.map(()=>C2(t++)),t}function sS(e){let t=0;return(n,i)=>{const s=e.getDatasetMeta(i).controller;s instanceof ci?t=iS(n,t):s instanceof Vr?t=rS(n,t):s&&(t=nS(n,t))}}function hp(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function oS(e){return e&&(e.borderColor||e.backgroundColor)}function aS(){return Je.borderColor!=="rgba(0,0,0,0.1)"||Je.backgroundColor!=="rgba(0,0,0,0.1)"}var lS={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=e.config,{elements:o}=s,a=hp(i)||oS(s)||o&&hp(o)||aS();if(!n.forceOverride&&a)return;const l=sS(e);i.forEach(l)}};function cS(e,t,n,i,s){const o=s.samples||i;if(o>=n)return e.slice(t,t+n);const a=[],l=(n-2)/(o-2);let c=0;const d=t+n-1;let u=t,h,f,p,g,m;for(a[c++]=e[u],h=0;h<o-2;h++){let y=0,b=0,v;const w=Math.floor((h+1)*l)+1+t,S=Math.min(Math.floor((h+2)*l)+1,n)+t,x=S-w;for(v=w;v<S;v++)y+=e[v].x,b+=e[v].y;y/=x,b/=x;const k=Math.floor(h*l)+1+t,N=Math.min(Math.floor((h+1)*l)+1,n)+t,{x:L,y:_}=e[u];for(p=g=-1,v=k;v<N;v++)g=.5*Math.abs((L-y)*(e[v].y-_)-(L-e[v].x)*(b-_)),g>p&&(p=g,f=e[v],m=v);a[c++]=f,u=m}return a[c++]=e[d],a}function dS(e,t,n,i){let s=0,o=0,a,l,c,d,u,h,f,p,g,m;const y=[],b=t+n-1,v=e[t].x,S=e[b].x-v;for(a=t;a<t+n;++a){l=e[a],c=(l.x-v)/S*i,d=l.y;const x=c|0;if(x===u)d<g?(g=d,h=a):d>m&&(m=d,f=a),s=(o*s+l.x)/++o;else{const k=a-1;if(!Pe(h)&&!Pe(f)){const N=Math.min(h,f),L=Math.max(h,f);N!==p&&N!==k&&y.push({...e[N],x:s}),L!==p&&L!==k&&y.push({...e[L],x:s})}a>0&&k!==p&&y.push(e[k]),y.push(l),u=x,o=0,g=m=d,h=f=p=a}}return y}function S2(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function fp(e){e.data.datasets.forEach(t=>{S2(t)})}function uS(e,t){const n=t.length;let i=0,s;const{iScale:o}=e,{min:a,max:l,minDefined:c,maxDefined:d}=o.getUserBounds();return c&&(i=pt(xn(t,o.axis,a).lo,0,n-1)),d?s=pt(xn(t,o.axis,l).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var hS={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){fp(e);return}const i=e.width;e.data.datasets.forEach((s,o)=>{const{_data:a,indexAxis:l}=s,c=e.getDatasetMeta(o),d=a||s.data;if(wr([l,e.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const u=e.scales[c.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:h,count:f}=uS(c,d);const p=n.threshold||4*i;if(f<=p){S2(s);return}Pe(a)&&(s._data=d,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}}));let g;switch(n.algorithm){case"lttb":g=cS(d,h,f,i,n);break;case"min-max":g=dS(d,h,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=g})},destroy(e){fp(e)}};function fS(e,t,n){const i=e.segments,s=e.points,o=t.points,a=[];for(const l of i){let{start:c,end:d}=l;d=ua(c,d,s);const u=uc(n,s[c],s[d],l.loop);if(!t.segments){a.push({source:l,target:u,start:s[c],end:s[d]});continue}const h=o2(t,u);for(const f of h){const p=uc(n,o[f.start],o[f.end],f.loop),g=s2(l,s,p);for(const m of g)a.push({source:m,target:f,start:{[n]:pp(u,p,"start",Math.max)},end:{[n]:pp(u,p,"end",Math.min)}})}}return a}function uc(e,t,n,i){if(i)return;let s=t[e],o=n[e];return e==="angle"&&(s=yt(s),o=yt(o)),{property:e,start:s,end:o}}function pS(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,o=[];return t.segments.forEach(({start:a,end:l})=>{l=ua(a,l,s);const c=s[a],d=s[l];i!==null?(o.push({x:c.x,y:i}),o.push({x:d.x,y:i})):n!==null&&(o.push({x:n,y:c.y}),o.push({x:n,y:d.y}))}),o}function ua(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function pp(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function N2(e,t){let n=[],i=!1;return Xe(e)?(i=!0,n=e):n=pS(e,t),n.length?new Rn({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function mp(e){return e&&e.fill!==!1}function mS(e,t,n){let s=e[t].fill;const o=[t];let a;if(!n)return s;for(;s!==!1&&o.indexOf(s)===-1;){if(!tt(s))return s;if(a=e[s],!a)return!1;if(a.visible)return s;o.push(s),s=a.fill}return!1}function gS(e,t,n){const i=wS(e);if(Be(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return tt(s)&&Math.floor(s)===s?yS(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function yS(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function vS(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Be(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function bS(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:Be(e)?i=e.value:i=t.getBaseValue(),i}function wS(e){const t=e.options,n=t.fill;let i=Le(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function kS(e){const{scale:t,index:n,line:i}=e,s=[],o=i.segments,a=i.points,l=xS(t,n);l.push(N2({x:null,y:t.bottom},i));for(let c=0;c<o.length;c++){const d=o[c];for(let u=d.start;u<=d.end;u++)_S(s,a[u],l)}return new Rn({points:s,options:{}})}function xS(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const o=i[s];if(o.index===t)break;o.hidden||n.unshift(o.dataset)}return n}function _S(e,t,n){const i=[];for(let s=0;s<n.length;s++){const o=n[s],{first:a,last:l,point:c}=CS(o,t,"x");if(!(!c||a&&l)){if(a)i.unshift(c);else if(e.push(c),!l)break}}e.push(...i)}function CS(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],o=e.segments,a=e.points;let l=!1,c=!1;for(let d=0;d<o.length;d++){const u=o[d],h=a[u.start][n],f=a[u.end][n];if(kn(s,h,f)){l=s===h,c=s===f;break}}return{first:l,last:c,point:i}}class L2{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:s,y:o,radius:a}=this;return n=n||{start:0,end:Ye},t.arc(s,o,a,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:s}=this,o=t.angle;return{x:n+Math.cos(o)*s,y:i+Math.sin(o)*s,angle:o}}}function SS(e){const{chart:t,fill:n,line:i}=e;if(tt(n))return NS(t,n);if(n==="stack")return kS(e);if(n==="shape")return!0;const s=LS(e);return s instanceof L2?s:N2(s,i)}function NS(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function LS(e){return(e.scale||{}).getPointPositionForValue?ES(e):MS(e)}function MS(e){const{scale:t={},fill:n}=e,i=vS(n,t);if(tt(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function ES(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,o=i.reverse?t.max:t.min,a=bS(n,t,o),l=[];if(i.grid.circular){const c=t.getPointPositionForValue(0,o);return new L2({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(a)})}for(let c=0;c<s;++c)l.push(t.getPointPositionForValue(c,a));return l}function Za(e,t,n){const i=SS(t),{chart:s,index:o,line:a,scale:l,axis:c}=t,d=a.options,u=d.fill,h=d.backgroundColor,{above:f=h,below:p=h}=u||{},g=s.getDatasetMeta(o),m=a2(s,g);i&&a.points.length&&(la(e,n),TS(e,{line:a,target:i,above:f,below:p,area:n,scale:l,axis:c,clip:m}),ca(e))}function TS(e,t){const{line:n,target:i,above:s,below:o,area:a,scale:l,clip:c}=t,d=n._loop?"angle":t.axis;e.save();let u=o;o!==s&&(d==="x"?(gp(e,i,a.top),Xa(e,{line:n,target:i,color:s,scale:l,property:d,clip:c}),e.restore(),e.save(),gp(e,i,a.bottom)):d==="y"&&(yp(e,i,a.left),Xa(e,{line:n,target:i,color:o,scale:l,property:d,clip:c}),e.restore(),e.save(),yp(e,i,a.right),u=s)),Xa(e,{line:n,target:i,color:u,scale:l,property:d,clip:c}),e.restore()}function gp(e,t,n){const{segments:i,points:s}=t;let o=!0,a=!1;e.beginPath();for(const l of i){const{start:c,end:d}=l,u=s[c],h=s[ua(c,d,s)];o?(e.moveTo(u.x,u.y),o=!1):(e.lineTo(u.x,n),e.lineTo(u.x,u.y)),a=!!t.pathSegment(e,l,{move:a}),a?e.closePath():e.lineTo(h.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function yp(e,t,n){const{segments:i,points:s}=t;let o=!0,a=!1;e.beginPath();for(const l of i){const{start:c,end:d}=l,u=s[c],h=s[ua(c,d,s)];o?(e.moveTo(u.x,u.y),o=!1):(e.lineTo(n,u.y),e.lineTo(u.x,u.y)),a=!!t.pathSegment(e,l,{move:a}),a?e.closePath():e.lineTo(n,h.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function Xa(e,t){const{line:n,target:i,property:s,color:o,scale:a,clip:l}=t,c=fS(n,i,s);for(const{source:d,target:u,start:h,end:f}of c){const{style:{backgroundColor:p=o}={}}=d,g=i!==!0;e.save(),e.fillStyle=p,AS(e,a,l,g&&uc(s,h,f)),e.beginPath();const m=!!n.pathSegment(e,d);let y;if(g){m?e.closePath():vp(e,i,f,s);const b=!!i.pathSegment(e,u,{move:m,reverse:!0});y=m&&b,y||vp(e,i,h,s)}e.closePath(),e.fill(y?"evenodd":"nonzero"),e.restore()}}function AS(e,t,n,i){const s=t.chart.chartArea,{property:o,start:a,end:l}=i||{};if(o==="x"||o==="y"){let c,d,u,h;o==="x"?(c=a,d=s.top,u=l,h=s.bottom):(c=s.left,d=a,u=s.right,h=l),e.beginPath(),n&&(c=Math.max(c,n.left),u=Math.min(u,n.right),d=Math.max(d,n.top),h=Math.min(h,n.bottom)),e.rect(c,d,u-c,h-d),e.clip()}}function vp(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var DS={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let o,a,l,c;for(a=0;a<i;++a)o=e.getDatasetMeta(a),l=o.dataset,c=null,l&&l.options&&l instanceof Rn&&(c={visible:e.isDatasetVisible(a),index:a,fill:gS(l,a,i),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:l}),o.$filler=c,s.push(c);for(a=0;a<i;++a)c=s[a],!(!c||c.fill===!1)&&(c.fill=mS(s,a,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let a=s.length-1;a>=0;--a){const l=s[a].$filler;l&&(l.line.updateControlPoints(o,l.axis),i&&l.fill&&Za(e.ctx,l,o))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const o=i[s].$filler;mp(o)&&Za(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!mp(i)||n.drawTime!=="beforeDatasetDraw"||Za(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const bp=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},FS=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class wp extends En{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=je(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=ut(i.font),o=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=bp(i,o);let d,u;n.font=s.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(a,o,l,c)+10):(u=this.maxHeight,d=this._fitCols(a,s,l,c)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:o,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=s+l;let h=t;o.textAlign="left",o.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((g,m)=>{const y=i+n/2+o.measureText(g.text).width;(m===0||d[d.length-1]+y+2*l>a)&&(h+=u,d[d.length-(m>0?0:1)]=0,p+=u,f++),c[m]={left:0,top:p,row:f,width:y,height:s},d[d.length-1]+=y+l}),h}_fitCols(t,n,i,s){const{ctx:o,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=a-t;let h=l,f=0,p=0,g=0,m=0;return this.legendItems.forEach((y,b)=>{const{itemWidth:v,itemHeight:w}=PS(i,n,o,y,s);b>0&&p+w+2*l>u&&(h+=f+l,d.push({width:f,height:p}),g+=f+l,m++,f=p=0),c[b]={left:g,top:p,col:m,width:v,height:w},f=Math.max(f,v),p+=w+l}),h+=f,d.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:o}}=this,a=zi(o,this.left,this.width);if(this.isHorizontal()){let l=0,c=gt(i,this.left+s,this.right-this.lineWidths[l]);for(const d of n)l!==d.row&&(l=d.row,c=gt(i,this.left+s,this.right-this.lineWidths[l])),d.top+=this.top+t+s,d.left=a.leftForLtr(a.x(c),d.width),c+=d.width+s}else{let l=0,c=gt(i,this.top+t+s,this.bottom-this.columnSizes[l].height);for(const d of n)d.col!==l&&(l=d.col,c=gt(i,this.top+t+s,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+s,d.left=a.leftForLtr(a.x(d.left),d.width),c+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;la(t,this),this._draw(),ca(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:o,labels:a}=t,l=Je.color,c=zi(t.rtl,this.left,this.width),d=ut(a.font),{padding:u}=a,h=d.size,f=h/2;let p;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:g,boxHeight:m,itemHeight:y}=bp(a,h),b=function(k,N,L){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;s.save();const _=Le(L.lineWidth,1);if(s.fillStyle=Le(L.fillStyle,l),s.lineCap=Le(L.lineCap,"butt"),s.lineDashOffset=Le(L.lineDashOffset,0),s.lineJoin=Le(L.lineJoin,"miter"),s.lineWidth=_,s.strokeStyle=Le(L.strokeStyle,l),s.setLineDash(Le(L.lineDash,[])),a.usePointStyle){const I={radius:m*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:_},T=c.xPlus(k,g/2),R=N+f;q1(s,I,T,R,a.pointStyleWidth&&g)}else{const I=N+Math.max((h-m)/2,0),T=c.leftForLtr(k,g),R=pi(L.borderRadius);s.beginPath(),Object.values(R).some(j=>j!==0)?ts(s,{x:T,y:I,w:g,h:m,radius:R}):s.rect(T,I,g,m),s.fill(),_!==0&&s.stroke()}s.restore()},v=function(k,N,L){wi(s,L.text,k,N+y/2,d,{strikethrough:L.hidden,textAlign:c.textAlign(L.textAlign)})},w=this.isHorizontal(),S=this._computeTitleHeight();w?p={x:gt(o,this.left+u,this.right-i[0]),y:this.top+u+S,line:0}:p={x:this.left+u,y:gt(o,this.top+S+u,this.bottom-n[0].height),line:0},n2(this.ctx,t.textDirection);const x=y+u;this.legendItems.forEach((k,N)=>{s.strokeStyle=k.fontColor,s.fillStyle=k.fontColor;const L=s.measureText(k.text).width,_=c.textAlign(k.textAlign||(k.textAlign=a.textAlign)),I=g+f+L;let T=p.x,R=p.y;c.setWidth(this.width),w?N>0&&T+I+u>this.right&&(R=p.y+=x,p.line++,T=p.x=gt(o,this.left+u,this.right-i[p.line])):N>0&&R+x>this.bottom&&(T=p.x=T+n[p.line].width+u,p.line++,R=p.y=gt(o,this.top+S+u,this.bottom-n[p.line].height));const j=c.x(T);if(b(j,R,k),T=Q4(_,T+g+f,w?T+I:this.right,t.rtl),v(c.x(T),R,k),w)p.x+=I+u;else if(typeof k.text!="string"){const z=d.lineHeight;p.y+=M2(k,z)+u}else p.y+=x}),i2(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=ut(n.font),s=bt(n.padding);if(!n.display)return;const o=zi(t.rtl,this.left,this.width),a=this.ctx,l=n.position,c=i.size/2,d=s.top+c;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+d,h=gt(t.align,h,this.right-f);else{const g=this.columnSizes.reduce((m,y)=>Math.max(m,y.height),0);u=d+gt(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const p=gt(l,h,h+f);a.textAlign=o.textAlign(Ad(l)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,wi(a,n.text,p,u,i)}_computeTitleHeight(){const t=this.options.title,n=ut(t.font),i=bt(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,o;if(kn(t,this.left,this.right)&&kn(n,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(s=o[i],kn(t,s.left,s.left+s.width)&&kn(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!BS(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,o=FS(s,i);s&&!o&&je(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!o&&je(n.onHover,[t,i,this],this)}else i&&je(n.onClick,[t,i,this],this)}}function PS(e,t,n,i,s){const o=IS(i,e,t,n),a=RS(s,i,t.lineHeight);return{itemWidth:o,itemHeight:a}}function IS(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((o,a)=>o.length>a.length?o:a)),t+n.size/2+i.measureText(s).width}function RS(e,t,n){let i=e;return typeof t.text!="string"&&(i=M2(t,n)),i}function M2(e,t){const n=e.text?e.text.length:0;return t*n}function BS(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var zS={id:"legend",_element:wp,start(e,t,n){const i=e.legend=new wp({ctx:e.ctx,options:n,chart:e});vt.configure(e,i,n),vt.addBox(e,i)},stop(e){vt.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;vt.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:o,useBorderRadius:a,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(n?0:void 0),u=bt(d.borderWidth);return{text:t[c.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:a&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Od extends En{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=Xe(i.text)?i.text.length:1;this._padding=bt(i.padding);const o=s*ut(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:o,options:a}=this,l=a.align;let c=0,d,u,h;return this.isHorizontal()?(u=gt(l,i,o),h=n+t,d=o-i):(a.position==="left"?(u=i+t,h=gt(l,s,n),c=ze*-.5):(u=o-t,h=gt(l,n,s),c=ze*.5),d=s-n),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=ut(n.font),o=i.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(o);wi(t,n.text,0,0,i,{color:n.color,maxWidth:c,rotation:d,textAlign:Ad(n.align),textBaseline:"middle",translation:[a,l]})}}function VS(e,t){const n=new Od({ctx:e.ctx,options:t,chart:e});vt.configure(e,n,t),vt.addBox(e,n),e.titleBlock=n}var OS={id:"title",_element:Od,start(e,t,n){VS(e,n)},stop(e){const t=e.titleBlock;vt.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;vt.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ks=new WeakMap;var WS={id:"subtitle",start(e,t,n){const i=new Od({ctx:e.ctx,options:n,chart:e});vt.configure(e,i,n),vt.addBox(e,i),Ks.set(e,i)},stop(e){vt.removeBox(e,Ks.get(e)),Ks.delete(e)},beforeUpdate(e,t,n){const i=Ks.get(e);vt.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const _r={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,o=0;for(t=0,n=e.length;t<n;++t){const l=e[t].element;if(l&&l.hasValue()){const c=l.tooltipPosition();i.add(c.x),s+=c.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((l,c)=>l+c)/i.size,y:s/o}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,o,a,l;for(o=0,a=e.length;o<a;++o){const c=e[o].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=ic(t,d);u<s&&(s=u,l=c)}}if(l){const c=l.tooltipPosition();n=c.x,i=c.y}return{x:n,y:i}}};function tn(e,t){return t&&(Xe(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function vn(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function HS(e,t){const{element:n,datasetIndex:i,index:s}=t,o=e.getDatasetMeta(i).controller,{label:a,value:l}=o.getLabelAndValue(s);return{chart:e,label:a,parsed:o.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:l,dataset:o.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function kp(e,t){const n=e.chart.ctx,{body:i,footer:s,title:o}=e,{boxWidth:a,boxHeight:l}=t,c=ut(t.bodyFont),d=ut(t.titleFont),u=ut(t.footerFont),h=o.length,f=s.length,p=i.length,g=bt(t.padding);let m=g.height,y=0,b=i.reduce((S,x)=>S+x.before.length+x.lines.length+x.after.length,0);if(b+=e.beforeBody.length+e.afterBody.length,h&&(m+=h*d.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),b){const S=t.displayColors?Math.max(l,c.lineHeight):c.lineHeight;m+=p*S+(b-p)*c.lineHeight+(b-1)*t.bodySpacing}f&&(m+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let v=0;const w=function(S){y=Math.max(y,n.measureText(S).width+v)};return n.save(),n.font=d.string,We(e.title,w),n.font=c.string,We(e.beforeBody.concat(e.afterBody),w),v=t.displayColors?a+2+t.boxPadding:0,We(i,S=>{We(S.before,w),We(S.lines,w),We(S.after,w)}),v=0,n.font=u.string,We(e.footer,w),n.restore(),y+=g.width,{width:y,height:m}}function $S(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function jS(e,t,n,i){const{x:s,width:o}=i,a=n.caretSize+n.caretPadding;if(e==="left"&&s+o+a>t.width||e==="right"&&s-o-a<0)return!0}function US(e,t,n,i){const{x:s,width:o}=n,{width:a,chartArea:{left:l,right:c}}=e;let d="center";return i==="center"?d=s<=(l+c)/2?"left":"right":s<=o/2?d="left":s>=a-o/2&&(d="right"),jS(d,e,t,n)&&(d="center"),d}function xp(e,t,n){const i=n.yAlign||t.yAlign||$S(e,n);return{xAlign:n.xAlign||t.xAlign||US(e,t,n,i),yAlign:i}}function GS(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function KS(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function _p(e,t,n,i){const{caretSize:s,caretPadding:o,cornerRadius:a}=e,{xAlign:l,yAlign:c}=n,d=s+o,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=pi(a);let g=GS(t,l);const m=KS(t,c,d);return c==="center"?l==="left"?g+=d:l==="right"&&(g-=d):l==="left"?g-=Math.max(u,f)+s:l==="right"&&(g+=Math.max(h,p)+s),{x:pt(g,0,i.width-t.width),y:pt(m,0,i.height-t.height)}}function qs(e,t,n){const i=bt(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function Cp(e){return tn([],vn(e))}function qS(e,t,n){return jn(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Sp(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const E2={beforeTitle:mn,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:mn,beforeBody:mn,beforeLabel:mn,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Pe(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:mn,afterBody:mn,beforeFooter:mn,footer:mn,afterFooter:mn};function St(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?E2[t].call(n,i):s}class hc extends En{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,o=new l2(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=qS(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=St(i,"beforeTitle",this,t),o=St(i,"title",this,t),a=St(i,"afterTitle",this,t);let l=[];return l=tn(l,vn(s)),l=tn(l,vn(o)),l=tn(l,vn(a)),l}getBeforeBody(t,n){return Cp(St(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return We(t,o=>{const a={before:[],lines:[],after:[]},l=Sp(i,o);tn(a.before,vn(St(l,"beforeLabel",this,o))),tn(a.lines,St(l,"label",this,o)),tn(a.after,vn(St(l,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(t,n){return Cp(St(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=St(i,"beforeFooter",this,t),o=St(i,"footer",this,t),a=St(i,"afterFooter",this,t);let l=[];return l=tn(l,vn(s)),l=tn(l,vn(o)),l=tn(l,vn(a)),l}_createItems(t){const n=this._active,i=this.chart.data,s=[],o=[],a=[];let l=[],c,d;for(c=0,d=n.length;c<d;++c)l.push(HS(this.chart,n[c]));return t.filter&&(l=l.filter((u,h,f)=>t.filter(u,h,f,i))),t.itemSort&&(l=l.sort((u,h)=>t.itemSort(u,h,i))),We(l,u=>{const h=Sp(t.callbacks,u);s.push(St(h,"labelColor",this,u)),o.push(St(h,"labelPointStyle",this,u)),a.push(St(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=l,l}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const l=_r[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const c=this._size=kp(this,i),d=Object.assign({},l,c),u=xp(this.chart,i,d),h=_p(i,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,o={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const o=this.getCaretPosition(t,i,s);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:l}=i,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=pi(l),{x:f,y:p}=t,{width:g,height:m}=n;let y,b,v,w,S,x;return o==="center"?(S=p+m/2,s==="left"?(y=f,b=y-a,w=S+a,x=S-a):(y=f+g,b=y+a,w=S-a,x=S+a),v=y):(s==="left"?b=f+Math.max(c,u)+a:s==="right"?b=f+g-Math.max(d,h)-a:b=this.caretX,o==="top"?(w=p,S=w-a,y=b-a,v=b+a):(w=p+m,S=w+a,y=b+a,v=b-a),x=w),{x1:y,x2:b,x3:v,y1:w,y2:S,y3:x}}drawTitle(t,n,i){const s=this.title,o=s.length;let a,l,c;if(o){const d=zi(i.rtl,this.x,this.width);for(t.x=qs(this,i.titleAlign,i),n.textAlign=d.textAlign(i.titleAlign),n.textBaseline="middle",a=ut(i.titleFont),l=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,c=0;c<o;++c)n.fillText(s[c],d.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+l,c+1===o&&(t.y+=i.titleMarginBottom-l)}}_drawColorBox(t,n,i,s,o){const a=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:c,boxWidth:d}=o,u=ut(o.bodyFont),h=qs(this,"left",o),f=s.x(h),p=c<u.lineHeight?(u.lineHeight-c)/2:0,g=n.y+p;if(o.usePointStyle){const m={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=s.leftForLtr(f,d)+d/2,b=g+c/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,sc(t,m,y,b),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,sc(t,m,y,b)}else{t.lineWidth=Be(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const m=s.leftForLtr(f,d),y=s.leftForLtr(s.xPlus(f,1),d-2),b=pi(a.borderRadius);Object.values(b).some(v=>v!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,ts(t,{x:m,y:g,w:d,h:c,radius:b}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),ts(t,{x:y,y:g+1,w:d-2,h:c-2,radius:b}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(m,g,d,c),t.strokeRect(m,g,d,c),t.fillStyle=a.backgroundColor,t.fillRect(y,g+1,d-2,c-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=i,h=ut(i.bodyFont);let f=h.lineHeight,p=0;const g=zi(i.rtl,this.x,this.width),m=function(L){n.fillText(L,g.x(t.x+p),t.y+f/2),t.y+=f+o},y=g.textAlign(a);let b,v,w,S,x,k,N;for(n.textAlign=a,n.textBaseline="middle",n.font=h.string,t.x=qs(this,y,i),n.fillStyle=i.bodyColor,We(this.beforeBody,m),p=l&&y!=="right"?a==="center"?d/2+u:d+2+u:0,S=0,k=s.length;S<k;++S){for(b=s[S],v=this.labelTextColors[S],n.fillStyle=v,We(b.before,m),w=b.lines,l&&w.length&&(this._drawColorBox(n,t,S,g,i),f=Math.max(h.lineHeight,c)),x=0,N=w.length;x<N;++x)m(w[x]),f=h.lineHeight;We(b.after,m)}p=0,f=h.lineHeight,We(this.afterBody,m),t.y-=o}drawFooter(t,n,i){const s=this.footer,o=s.length;let a,l;if(o){const c=zi(i.rtl,this.x,this.width);for(t.x=qs(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=c.textAlign(i.footerAlign),n.textBaseline="middle",a=ut(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,l=0;l<o;++l)n.fillText(s[l],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:o,yAlign:a}=this,{x:l,y:c}=t,{width:d,height:u}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=pi(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+h,c),a==="top"&&this.drawCaret(t,n,i,s),n.lineTo(l+d-f,c),n.quadraticCurveTo(l+d,c,l+d,c+f),a==="center"&&o==="right"&&this.drawCaret(t,n,i,s),n.lineTo(l+d,c+u-g),n.quadraticCurveTo(l+d,c+u,l+d-g,c+u),a==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(l+p,c+u),n.quadraticCurveTo(l,c+u,l,c+u-p),a==="center"&&o==="left"&&this.drawCaret(t,n,i,s),n.lineTo(l,c+h),n.quadraticCurveTo(l,c,l+h,c),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){const a=_r[t.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=kp(this,t),c=Object.assign({},a,this._size),d=xp(n,t,c),u=_p(t,c,d,n);(s._to!==u.x||o._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=bt(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,s,n),n2(t,n.textDirection),o.y+=a.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),i2(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),o=!Wo(i,s),a=this._positionChanged(s,n);(o||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],a=this._getActiveElements(t,o,n,i),l=this._positionChanged(a,t),c=n||!Wo(a,o)||l;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),c}_getActiveElements(t,n,i,s){const o=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&a.reverse(),a}_positionChanged(t,n){const{caretX:i,caretY:s,options:o}=this,a=_r[o.position].call(this,t,n);return a!==!1&&(i!==a.x||s!==a.y)}}he(hc,"positioners",_r);var YS={id:"tooltip",_element:hc,positioners:_r,afterInit(e,t,n){n&&(e.tooltip=new hc({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:E2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},ZS=Object.freeze({__proto__:null,Colors:lS,Decimation:hS,Filler:DS,Legend:zS,SubTitle:WS,Title:OS,Tooltip:YS});const XS=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function JS(e,t,n,i){const s=e.indexOf(t);if(s===-1)return XS(e,t,n,i);const o=e.lastIndexOf(t);return s!==o?n:s}const QS=(e,t)=>e===null?null:pt(Math.round(e),0,t);function Np(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class fc extends xi{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:o}of n)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Pe(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:JS(i,t,Le(n,t),this._addedLabels),QS(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let o=this.getLabels();o=t===0&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=n;a++)s.push({value:a});return s}getLabelForValue(t){return Np.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}he(fc,"id","category"),he(fc,"defaults",{ticks:{callback:Np}});function e6(e,t){const n=[],{bounds:s,step:o,min:a,max:l,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:f}=e,p=o||1,g=u-1,{min:m,max:y}=t,b=!Pe(a),v=!Pe(l),w=!Pe(d),S=(y-m)/(h+1);let x=kf((y-m)/g/p)*p,k,N,L,_;if(x<1e-14&&!b&&!v)return[{value:m},{value:y}];_=Math.ceil(y/x)-Math.floor(m/x),_>g&&(x=kf(_*x/g/p)*p),Pe(c)||(k=Math.pow(10,c),x=Math.ceil(x*k)/k),s==="ticks"?(N=Math.floor(m/x)*x,L=Math.ceil(y/x)*x):(N=m,L=y),b&&v&&o&&G4((l-a)/o,x/1e3)?(_=Math.round(Math.min((l-a)/x,u)),x=(l-a)/_,N=a,L=l):w?(N=b?a:N,L=v?l:L,_=d-1,x=(L-N)/_):(_=(L-N)/x,Rr(_,Math.round(_),x/1e3)?_=Math.round(_):_=Math.ceil(_));const I=Math.max(xf(x),xf(N));k=Math.pow(10,Pe(c)?I:c),N=Math.round(N*k)/k,L=Math.round(L*k)/k;let T=0;for(b&&(f&&N!==a?(n.push({value:a}),N<a&&T++,Rr(Math.round((N+T*x)*k)/k,a,Lp(a,S,e))&&T++):N<a&&T++);T<_;++T){const R=Math.round((N+T*x)*k)/k;if(v&&R>l)break;n.push({value:R})}return v&&f&&L!==l?n.length&&Rr(n[n.length-1].value,l,Lp(l,S,e))?n[n.length-1].value=l:n.push({value:l}):(!v||L===l)&&n.push({value:L}),n}function Lp(e,t,{horizontal:n,minRotation:i}){const s=Zt(i),o=(n?Math.sin(s):Math.cos(s))||.001,a=.75*t*(""+e).length;return Math.min(t/o,a)}class qo extends xi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Pe(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:o}=this;const a=c=>s=n?s:c,l=c=>o=i?o:c;if(t){const c=fn(s),d=fn(o);c<0&&d<0?l(0):c>0&&d>0&&a(0)}if(s===o){let c=o===0?1:Math.abs(o*.05);l(o+c),t||a(s-c)}this.min=s,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,a=e6(s,o);return t.bounds==="ticks"&&V1(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return vs(t,this.chart.options.locale,this.options.ticks.format)}}class pc extends qo{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=tt(t)?t:0,this.max=tt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=Zt(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}he(pc,"id","linear"),he(pc,"defaults",{ticks:{callback:aa.formatters.numeric}});const is=e=>Math.floor(In(e)),Jn=(e,t)=>Math.pow(10,is(e)+t);function Mp(e){return e/Math.pow(10,is(e))===1}function Ep(e,t,n){const i=Math.pow(10,n),s=Math.floor(e/i);return Math.ceil(t/i)-s}function t6(e,t){const n=t-e;let i=is(n);for(;Ep(e,t,i)>10;)i++;for(;Ep(e,t,i)<10;)i--;return Math.min(i,is(e))}function n6(e,{min:t,max:n}){t=Ft(e.min,t);const i=[],s=is(t);let o=t6(t,n),a=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),c=s>o?Math.pow(10,s):0,d=Math.round((t-c)*a)/a,u=Math.floor((t-c)/l/10)*l*10;let h=Math.floor((d-u)/Math.pow(10,o)),f=Ft(e.min,Math.round((c+u+h*Math.pow(10,o))*a)/a);for(;f<n;)i.push({value:f,major:Mp(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(o++,h=2,a=o>=0?1:a),f=Math.round((c+u+h*Math.pow(10,o))*a)/a;const p=Ft(e.max,f);return i.push({value:p,major:Mp(p),significand:h}),i}class mc extends xi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=qo.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return tt(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=tt(t)?Math.max(0,t):null,this.max=tt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!tt(this._userMin)&&(this.min=t===Jn(this.min,0)?Jn(this.min,-1):Jn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const o=l=>i=t?i:l,a=l=>s=n?s:l;i===s&&(i<=0?(o(1),a(10)):(o(Jn(i,-1)),a(Jn(s,1)))),i<=0&&o(Jn(s,-1)),s<=0&&a(Jn(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=n6(n,this);return t.bounds==="ticks"&&V1(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":vs(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=In(t),this._valueRange=In(this.max)-In(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(In(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}he(mc,"id","logarithmic"),he(mc,"defaults",{ticks:{callback:aa.formatters.logarithmic,major:{enabled:!0}}});function gc(e){const t=e.ticks;if(t.display&&e.display){const n=bt(t.backdropPadding);return Le(t.font&&t.font.size,Je.font.size)+n.height}return 0}function i6(e,t,n){return n=Xe(n)?n:[n],{w:c3(e,t.string,n),h:n.length*t.lineHeight}}function Tp(e,t,n,i,s){return e===i||e===s?{start:t-n/2,end:t+n/2}:e<i||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function r6(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],s=[],o=e._pointLabels.length,a=e.options.pointLabels,l=a.centerPointLabels?ze/o:0;for(let c=0;c<o;c++){const d=a.setContext(e.getPointLabelContext(c));s[c]=d.padding;const u=e.getPointPosition(c,e.drawingArea+s[c],l),h=ut(d.font),f=i6(e.ctx,h,e._pointLabels[c]);i[c]=f;const p=yt(e.getIndexAngle(c)+l),g=Math.round(Ed(p)),m=Tp(g,u.x,f.w,0,180),y=Tp(g,u.y,f.h,90,270);s6(n,t,p,m,y)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=l6(e,i,s)}function s6(e,t,n,i,s){const o=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let l=0,c=0;i.start<t.l?(l=(t.l-i.start)/o,e.l=Math.min(e.l,t.l-l)):i.end>t.r&&(l=(i.end-t.r)/o,e.r=Math.max(e.r,t.r+l)),s.start<t.t?(c=(t.t-s.start)/a,e.t=Math.min(e.t,t.t-c)):s.end>t.b&&(c=(s.end-t.b)/a,e.b=Math.max(e.b,t.b+c))}function o6(e,t,n){const i=e.drawingArea,{extra:s,additionalAngle:o,padding:a,size:l}=n,c=e.getPointPosition(t,i+s+a,o),d=Math.round(Ed(yt(c.angle+rt))),u=u6(c.y,l.h,d),h=c6(d),f=d6(c.x,l.w,h);return{visible:!0,x:c.x,y:u,textAlign:h,left:f,top:u,right:f+l.w,bottom:u+l.h}}function a6(e,t){if(!t)return!0;const{left:n,top:i,right:s,bottom:o}=e;return!(_n({x:n,y:i},t)||_n({x:n,y:o},t)||_n({x:s,y:i},t)||_n({x:s,y:o},t))}function l6(e,t,n){const i=[],s=e._pointLabels.length,o=e.options,{centerPointLabels:a,display:l}=o.pointLabels,c={extra:gc(o)/2,additionalAngle:a?ze/s:0};let d;for(let u=0;u<s;u++){c.padding=n[u],c.size=t[u];const h=o6(e,u,c);i.push(h),l==="auto"&&(h.visible=a6(h,d),h.visible&&(d=h))}return i}function c6(e){return e===0||e===180?"center":e<180?"left":"right"}function d6(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function u6(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function h6(e,t,n){const{left:i,top:s,right:o,bottom:a}=n,{backdropColor:l}=t;if(!Pe(l)){const c=pi(t.borderRadius),d=bt(t.backdropPadding);e.fillStyle=l;const u=i-d.left,h=s-d.top,f=o-i+d.width,p=a-s+d.height;Object.values(c).some(g=>g!==0)?(e.beginPath(),ts(e,{x:u,y:h,w:f,h:p,radius:c}),e.fill()):e.fillRect(u,h,f,p)}}function f6(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let s=t-1;s>=0;s--){const o=e._pointLabelItems[s];if(!o.visible)continue;const a=i.setContext(e.getPointLabelContext(s));h6(n,a,o);const l=ut(a.font),{x:c,y:d,textAlign:u}=o;wi(n,e._pointLabels[s],c,d+l.lineHeight/2,l,{color:a.color,textAlign:u,textBaseline:"middle"})}}function T2(e,t,n,i){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,Ye);else{let o=e.getPointPosition(0,t);s.moveTo(o.x,o.y);for(let a=1;a<i;a++)o=e.getPointPosition(a,t),s.lineTo(o.x,o.y)}}function p6(e,t,n,i,s){const o=e.ctx,a=t.circular,{color:l,lineWidth:c}=t;!a&&!i||!l||!c||n<0||(o.save(),o.strokeStyle=l,o.lineWidth=c,o.setLineDash(s.dash||[]),o.lineDashOffset=s.dashOffset,o.beginPath(),T2(e,n,a,i),o.closePath(),o.stroke(),o.restore())}function m6(e,t,n){return jn(e,{label:n,index:t,type:"pointLabel"})}class Cr extends qo{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=bt(gc(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=tt(t)&&!isNaN(t)?t:0,this.max=tt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/gc(this.options))}generateTickLabels(t){qo.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const s=je(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?r6(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,s){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,s))}getIndexAngle(t){const n=Ye/(this._pointLabels.length||1),i=this.options.startAngle||0;return yt(t*n+Zt(i))}getDistanceFromCenterForValue(t){if(Pe(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(Pe(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return m6(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const s=this.getIndexAngle(t)-rt+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:s,bottom:o}=this._pointLabelItems[t];return{left:n,top:i,right:s,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),T2(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:s,border:o}=n,a=this._pointLabels.length;let l,c,d;if(n.pointLabels.display&&f6(this,a),s.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(h),p=s.setContext(f),g=o.setContext(f);p6(this,p,c,a,g)}}),i.display){for(t.save(),l=a-1;l>=0;l--){const u=i.setContext(this.getPointLabelContext(l)),{color:h,lineWidth:f}=u;!f||!h||(t.lineWidth=f,t.strokeStyle=h,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),d=this.getPointPosition(l,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let o,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!n.reverse)return;const d=i.setContext(this.getContext(c)),u=ut(d.font);if(o=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){t.font=u.string,a=t.measureText(l.label).width,t.fillStyle=d.backdropColor;const h=bt(d.backdropPadding);t.fillRect(-a/2-h.left,-o-u.size/2-h.top,a+h.width,u.size+h.height)}wi(t,l.label,0,-o,u,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}he(Cr,"id","radialLinear"),he(Cr,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:aa.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),he(Cr,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),he(Cr,"descriptors",{angleLines:{_fallback:"grid"}});const ha={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Mt=Object.keys(ha);function Ap(e,t){return e-t}function Dp(e,t){if(Pe(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:o}=e._parseOpts;let a=t;return typeof i=="function"&&(a=i(a)),tt(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(s&&(a=s==="week"&&($i(o)||o===!0)?n.startOf(a,"isoWeek",o):n.startOf(a,s)),+a)}function Fp(e,t,n,i){const s=Mt.length;for(let o=Mt.indexOf(e);o<s-1;++o){const a=ha[Mt[o]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-t)/(l*a.size))<=i)return Mt[o]}return Mt[s-1]}function g6(e,t,n,i,s){for(let o=Mt.length-1;o>=Mt.indexOf(n);o--){const a=Mt[o];if(ha[a].common&&e._adapter.diff(s,i,a)>=t-1)return a}return Mt[n?Mt.indexOf(n):0]}function y6(e){for(let t=Mt.indexOf(e)+1,n=Mt.length;t<n;++t)if(ha[Mt[t]].common)return Mt[t]}function Pp(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=Td(n,t),o=n[i]>=t?n[i]:n[s];e[o]=!0}}function v6(e,t,n,i){const s=e._adapter,o=+s.startOf(t[0].value,i),a=t[t.length-1].value;let l,c;for(l=o;l<=a;l=+s.add(l,1,i))c=n[l],c>=0&&(t[c].major=!0);return t}function Ip(e,t,n){const i=[],s={},o=t.length;let a,l;for(a=0;a<o;++a)l=t[a],s[l]=a,i.push({value:l,major:!1});return o===0||!n?i:v6(e,i,s,n)}class rs extends xi{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new N9._date(t.adapters.date);s.init(n),Ir(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Dp(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:o,minDefined:a,maxDefined:l}=this.getUserBounds();function c(d){!a&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!l&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!a||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=tt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),o=tt(o)&&!isNaN(o)?o:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,a=this.max,l=Z4(s,o,a);return this._unit=n.unit||(i.autoSkip?Fp(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):g6(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:y6(this._unit),this.initOffsets(s),t.reverse&&l.reverse(),Ip(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,o;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;n=pt(n,0,a),i=pt(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,o=s.time,a=o.unit||Fp(o.minUnit,n,i,this._getLabelCapacity(n)),l=Le(s.ticks.stepSize,1),c=a==="week"?o.isoWeekday:!1,d=$i(c)||c===!0,u={};let h=n,f,p;if(d&&(h=+t.startOf(h,"isoWeek",c)),h=+t.startOf(h,d?"day":a),t.diff(i,n,a)>1e5*l)throw new Error(n+" and "+i+" are too far apart with stepSize of "+l+" "+a);const g=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<i;f=+t.add(f,l,a),p++)Pp(u,f,g);return(f===i||s.bounds==="ticks"||p===1)&&Pp(u,f,g),Object.keys(u).sort(Ap).map(m=>+m)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,o=this._unit,a=n||s[o];return this._adapter.format(t,a)}_tickFormatFunction(t,n,i,s){const o=this.options,a=o.ticks.callback;if(a)return je(a,[t,n,i],this);const l=o.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],f=i[n],p=d&&h&&f&&f.major;return this._adapter.format(t,s||(p?h:u))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=Zt(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:i*o+l*a,h:i*a+l*o}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,o=this._tickFormatFunction(t,0,Ip(this,[t],this._majorUnit),s),a=this._getLabelSize(o),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(Dp(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return H1(t.sort(Ap))}}he(rs,"id","time"),he(rs,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ys(e,t,n){let i=0,s=e.length-1,o,a,l,c;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=xn(e,"pos",t)),{pos:o,time:l}=e[i],{pos:a,time:c}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=xn(e,"time",t)),{time:o,pos:l}=e[i],{time:a,pos:c}=e[s]);const d=a-o;return d?l+(c-l)*(t-o)/d:l}class yc extends rs{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Ys(n,this.min),this._tableRange=Ys(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],o=[];let a,l,c,d,u;for(a=0,l=t.length;a<l;++a)d=t[a],d>=n&&d<=i&&s.push(d);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,l=s.length;a<l;++a)u=s[a+1],c=s[a-1],d=s[a],Math.round((u+c)/2)!==d&&o.push({time:d,pos:a/(l-1)});return o}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,o)=>s-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Ys(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Ys(this._table,i*this._tableRange+this._minPos,!0)}}he(yc,"id","timeseries"),he(yc,"defaults",rs.defaults);var b6=Object.freeze({__proto__:null,CategoryScale:fc,LinearScale:pc,LogarithmicScale:mc,RadialLinearScale:Cr,TimeScale:rs,TimeSeriesScale:yc});const w6=[S9,tS,ZS,b6];Yt.register(...w6);const ss={HOUR_24:{key:"24h",label:"24 Stunden",hours:24,labelEn:"24 Hours",labelDe:"24 Stunden"},DAYS_7:{key:"7d",label:"7 Tage",hours:168,labelEn:"7 Days",labelDe:"7 Tage"},DAYS_30:{key:"30d",label:"30 Tage",hours:720,labelEn:"30 Days",labelDe:"30 Tage"}},k6=ss.DAYS_7.key,A2={HOUR_IN_MS:36e5},x6={DEFAULT_DATA_POINTS:50},Wd=e=>{const t=Object.values(ss).find(n=>n.key===e);return t?t.hours:ss.DAYS_7.hours},_6=async(e,t,n="7d")=>{if(!e||!t)return console.warn("fetchEntityHistory: hass oder entityId fehlt"),[];try{const i=Wd(n),s=new Date,a=new Date(s.getTime()-i*A2.HOUR_IN_MS).toISOString(),l=s.toISOString();console.log(` Lade History fr ${t} (${n}):`,{startTime:a,endTime:l,hours:i});let c=[];try{if(e.callWS&&typeof e.callWS=="function"){console.log(" Verwende WebSocket API");const d=await e.callWS({type:"history/history_during_period",start_time:a,end_time:l,entity_ids:[t],minimal_response:!1,no_attributes:!1});c=d&&d[0]?d[0]:[],console.log(` WebSocket: ${c.length} Events empfangen`)}}catch(d){console.warn(" WebSocket API fehlgeschlagen:",d.message)}if(c.length===0&&e.callApi){console.log(" Fallback auf REST API");try{const d=`history/period/${a}?filter_entity_id=${t}&end_time=${l}`,u=await e.callApi("GET",d);c=u&&u[0]?u[0]:[],console.log(` REST API: ${c.length} Events empfangen`)}catch(d){console.warn(" REST API fehlgeschlagen:",d.message)}}return c.length===0&&console.warn(` Keine History-Daten fr ${t} gefunden`),c}catch(i){return console.error(" Fehler beim Laden der History:",i),[]}},C6=(e,t="7d")=>{if(!e||!e.entity_id)return console.warn("generateMockHistory: item oder entity_id fehlt"),[];const n=Wd(t),i=new Date,s=Math.min(n,x6.DEFAULT_DATA_POINTS),o=n*A2.HOUR_IN_MS/s,a=[];for(let l=0;l<s;l++){const c=new Date(i.getTime()-(s-l)*o),d=c.getHours();let u="off",h={friendly_name:e.name||e.entity_id};switch(e.domain){case"light":case"switch":u=(d>=18||d<=7)&&Math.random()>.3?"on":"off",u==="on"&&e.domain==="light"&&(h.brightness=Math.floor(Math.random()*255));break;case"climate":const f=20+Math.sin(d/24*Math.PI*2)*3;u=Math.random()>.5?"heating":"idle",h.current_temperature=Math.round(f*10)/10,h.temperature=21;break;case"sensor":u=String(Math.round(Math.random()*100)),h.unit_of_measurement="%";break;case"binary_sensor":u=Math.random()>.7?"on":"off";break;case"cover":const p=Math.random();u=p>.7?"open":p>.3?"closed":"opening",(u==="open"||u==="closed")&&(h.current_position=u==="open"?100:0);break;default:u=Math.random()>.5?"on":"off"}a.push({entity_id:e.entity_id,state:u,attributes:h,last_changed:c.toISOString(),last_updated:c.toISOString()})}return console.log(` Mock-History generiert fr ${e.entity_id}: ${a.length} Events`),a},S6=(e,t,n,i)=>{if(!e||e.length===0)return console.warn("transformToHistoryObject: Keine Events vorhanden"),null;console.log(` Transformiere ${e.length} Events fr ${t}`);const s=M6(e,n),o=E6(e),a=N6(e,n),l=[];return console.log(" Transformation abgeschlossen:",{chartPoints:s.length,events:a.length,stats:o}),{chartData:s,stats:o,events:a,patterns:l}},N6=(e,t)=>{const n=[],i=e.slice(-50).reverse();for(let s=0;s<i.length;s++){const o=i[s],a=s<i.length-1?i[s+1]:null;let l=null;if(a){const d=new Date(a.last_changed)-new Date(o.last_changed);l=Math.abs(Math.round(d/6e4))}const c=L6(o,t);n.push({timestamp:o.last_changed,newState:o.state,oldState:a?a.state:null,description:c,duration:l,attributes:o.attributes})}return n},L6=(e,t)=>{switch(t){case"light":return e.state==="on"?e.attributes?.brightness?`Licht eingeschaltet (${Math.round(e.attributes.brightness/255*100)}%)`:"Licht eingeschaltet":"Licht ausgeschaltet";case"switch":return e.state==="on"?"Schalter aktiviert":"Schalter deaktiviert";case"climate":return e.attributes?.current_temperature?`${e.state} (${e.attributes.current_temperature}C)`:e.state==="heating"?"Heizung aktiv":"Heizung inaktiv";case"binary_sensor":return e.state==="on"?"Sensor ausgelst":"Sensor zurckgesetzt";case"cover":return e.state==="open"?"Geffnet":e.state==="closed"?"Geschlossen":e.state==="opening"?"Wird geffnet":e.state==="closing"?"Wird geschlossen":e.state;case"sensor":const n=e.attributes?.unit_of_measurement||"";return`Wert: ${e.state}${n}`;default:return e.state==="on"?"Eingeschaltet":"Ausgeschaltet"}},M6=(e,t)=>{const n=[],i=e.length>100?Math.floor(e.length/100):1;for(let s=0;s<e.length;s+=i){const o=e[s],a=new Date(o.last_changed),l=T6(o,t);n.push({time:a.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}),usage:Math.round(l),timestamp:o.last_changed})}return n},E6=(e,t,n)=>{if(e.length===0)return{totalChanges:0,avgDuration:0,onPercentage:0,offPercentage:0};let i=0,s=0,o=0;for(let d=1;d<e.length;d++){const u=e[d-1],h=e[d];u.state!==h.state&&i++;const f=new Date(h.last_changed)-new Date(u.last_changed);o+=f,(u.state==="on"||u.state==="heating"||u.state==="open")&&(s+=f)}const a=i>0?Math.round(o/i/6e4):0,l=o>0?Math.round(s/o*100):0,c=100-l;return{totalChanges:i,avgDuration:a,onPercentage:l,offPercentage:c}},T6=(e,t)=>{switch(t){case"light":case"switch":return e.state==="on"?e.attributes?.brightness?e.attributes.brightness/255*100:100:0;case"sensor":const n=parseFloat(e.state);return isNaN(n)?0:Math.min(100,Math.abs(n));case"climate":return e.state==="heating"?75:e.state==="cooling"?50:0;case"binary_sensor":return e.state==="on"?100:0;case"cover":return e.attributes&&typeof e.attributes.current_position=="number"?e.attributes.current_position:e.state==="open"?100:0;default:return e.state==="on"?100:0}},Rp={DAY:{key:"day",label:"D",labelDe:"T",hours:24},WEEK:{key:"week",label:"W",labelDe:"W",hours:168},MONTH:{key:"month",label:"M",labelDe:"M",hours:720},YEAR:{key:"year",label:"Y",labelDe:"J",hours:8760}},Eo=({item:e,hass:t,lang:n="de",viewType:i="consumption"})=>{const[s,o]=D(Rp.DAY.key),[a,l]=D(!1),[c,d]=D(null),[u,h]=D(null),[f,p]=D(null),g=i==="solar",m=i==="netusage",y=oe(null),b=oe(null),v=Vo(0,{stiffness:100,damping:30,restDelta:.01}),w=fi(v,L=>L.toFixed(2)),S=(L,_)=>!L||!_?{value:"0.00",unit:_||""}:_==="Wh"?{value:(L/1e3).toFixed(2),unit:"kWh"}:_==="kWh"&&L>1e3?{value:(L/1e3).toFixed(2),unit:"kWh"}:_==="W"&&L>=1e3?{value:(L/1e3).toFixed(2),unit:"kW"}:{value:L.toFixed(2),unit:_},x=oe(t);Y(()=>{x.current=t},[t]);const k=Re(()=>{const L=new Date;if(u?.periodLabel&&s!=="day"){if(s==="week"&&u.periodLabel.includes("KW")){const _=L.getFullYear();return`${u.periodLabel} ${_}`}return s==="month"?`${u.periodLabel} ${L.getFullYear()}`:u.periodLabel}return n==="de"?L.toLocaleDateString("de-DE",{day:"numeric",month:"long",year:"numeric"}):L.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})},[n,s,u?.periodLabel]),N=Re(()=>({consumption:e?.attributes?.consumption_sensor,gridImport:e?.attributes?.grid_import_sensor,gridExport:e?.attributes?.grid_export_total_sensor,solar:e?.attributes?.solar_sensor,pvTotal:e?.attributes?.pv_total_sensor,batteryDischarged:e?.attributes?.battery_discharged_sensor,batteryCharged:e?.attributes?.battery_charged_sensor,kwh:e?.attributes?.kwh_sensor}),[e?.attributes?.consumption_sensor,e?.attributes?.grid_import_sensor,e?.attributes?.grid_export_total_sensor,e?.attributes?.solar_sensor,e?.attributes?.pv_total_sensor,e?.attributes?.battery_discharged_sensor,e?.attributes?.battery_charged_sensor,e?.attributes?.kwh_sensor]);return Y(()=>{if(!e||!s||!e.actions)return;(async()=>{const _=x.current;if(_)try{const I=await e.actions.getCurrentPeriodConsumption({hass:_,periodType:s}),T=async(K,Q=!1)=>{if(!K)return{value:0,unit:"kWh"};try{const ie=new Date;let se=new Date;switch(s){case"day":se.setHours(0,0,0,0);break;case"week":const we=se.getDay(),_e=se.getDate()-we+(we===0?-6:1);se=new Date(se.setDate(_e)),se.setHours(0,0,0,0);break;case"month":se=new Date(se.getFullYear(),se.getMonth(),1),se.setHours(0,0,0,0);break;case"year":se=new Date(se.getFullYear(),0,1),se.setHours(0,0,0,0);break}const xe=await _.callWS({type:"recorder/statistics_during_period",start_time:se.toISOString(),end_time:ie.toISOString(),statistic_ids:[K],period:"hour"});if(xe?.[K]?.length>0){const we=xe[K],_e=we[0],H=we[we.length-1],J=(await _.callWS({type:"recorder/get_statistics_metadata",statistic_ids:[K]}))?.[K]?.unit_of_measurement||"kWh";if(H.state!==void 0&&_e.state!==void 0){const re=H.state-_e.state;return{value:Math.max(0,re),unit:J}}}return{value:0,unit:"kWh"}}catch(ie){return console.error(`Failed to get period energy for ${K}:`,ie),{value:0,unit:"kWh"}}},[R,j,z,B,V]=await Promise.all([T(N.kwh),T(N.pvTotal),T(N.gridExport),T(N.batteryDischarged),T(N.batteryCharged)]),A=(K,Q)=>Q==="Wh"||Q==="kWh"&&K>1e3?K/1e3:K,F=(K,Q)=>Q==="Wh"||Q==="kWh"&&K>1e3||Q==="kWh"&&K>=10?K/1e3:K,M=A(I.consumption||0,I.unit||"kWh"),C=F(j.value,j.unit),X=F(z.value,z.unit),q=F(B.value,B.unit),E=F(V.value,V.unit),ee=Math.max(0,C-X),ue=Math.max(0,q-E);if(m){const K=e?.attributes?.feed_in_tariff_sensor,Q=e?.attributes?.purchase_tariff_sensor;let ie=.08,se=.3;if(K&&t?.states?.[K]){const G=parseFloat(t.states[K].state);isNaN(G)||(ie=G)}if(Q&&t?.states?.[Q]){const G=parseFloat(t.states[Q].state);isNaN(G)||(se=G)}const xe=X*ie,we=M*se,_e=C,H=ee,U=E,J=X,re=M+ee+ue;p({grid:{value:X,percentage:0,unit:"kWh"},solar:{value:xe,percentage:0,unit:""},battery:{value:we,percentage:0,unit:""},totalToday:{value:M,unit:"kWh"},totalProduction:_e,productionToHouse:H,productionToBattery:U,productionToGrid:J,totalConsumption:re,consumptionFromSolar:ee,consumptionFromBattery:ue,consumptionFromGrid:M})}else if(g){const K=C,Q=K>0?X/K*100:0,ie=K>0?ee/K*100:0,se=K>0?E/K*100:0;p({grid:{value:X,percentage:Math.round(Q),unit:"kWh"},solar:{value:ee,percentage:Math.round(ie),unit:"kWh"},battery:{value:E,percentage:Math.round(se),unit:"kWh"},totalToday:{value:K,unit:"kWh"}})}else{const K=M+ee+ue,Q=K>0?M/K*100:0,ie=K>0?ee/K*100:0,se=K>0?ue/K*100:0;p({grid:{value:M,percentage:Math.round(Q),unit:"kWh"},solar:{value:ee,percentage:Math.round(ie),unit:"kWh"},battery:{value:ue,percentage:Math.round(se),unit:"kWh"},totalToday:{value:K,unit:"kWh"}})}}catch(I){console.error("Failed to fetch period consumption:",I),p({totalToday:{value:0,unit:"kWh"}})}})()},[s,g,m]),Y(()=>{f?.totalToday?.value!==void 0&&v.set(f.totalToday.value)},[f?.totalToday?.value]),Y(()=>{if(!e||!s||!e.actions)return;(async()=>{const _=x.current;if(!_){l(!1),d(null),h(null);return}l(!0);try{const I=g?e.attributes?.pv_total_sensor:e.attributes?.kwh_sensor,T=await e.actions.getChartData({hass:_,periodType:s,sensorId:I});if(!T||!T.dataPoints||T.dataPoints.length===0){d(null),h(null),l(!1);return}d(T.dataPoints),h({periodType:T.periodType,periodLabel:T.periodLabel,chartType:T.chartType,unit:T.unit})}catch(I){console.error(" Failed to load chart data:",I),d(null),h(null)}finally{l(!1)}})()},[s,g,e?.attributes?.pv_total_sensor,e?.attributes?.kwh_sensor]),Y(()=>{if(b.current&&!(!m&&(!c||c.length===0))){y.current&&y.current.destroy();try{const L=b.current.getContext("2d"),_=u?.unit||"kWh";if(m){if(!f)return;const j=f?.productionToHouse||0,z=f?.productionToBattery||0,B=f?.productionToGrid||0,V=f?.consumptionFromSolar||0,A=f?.consumptionFromBattery||0,F=f?.consumptionFromGrid||0;y.current=new Yt(L,{type:"doughnut",data:{datasets:[{label:n==="de"?"Erzeugung":"Production",data:[j,z,B],backgroundColor:["rgba(48, 209, 88, 0.8)","rgba(255, 159, 10, 0.8)","rgba(255, 204, 0, 0.8)"],borderColor:["rgb(48, 209, 88)","rgb(255, 159, 10)","rgb(255, 204, 0)"],borderWidth:2,weight:1},{label:n==="de"?"Verbrauch":"Consumption",data:[V,A,F],backgroundColor:["rgba(64, 200, 224, 0.8)","rgba(255, 55, 95, 0.8)","rgba(175, 82, 222, 0.8)"],borderColor:["rgb(64, 200, 224)","rgb(255, 55, 95)","rgb(175, 82, 222)"],borderWidth:2,weight:1}]},options:{responsive:!0,maintainAspectRatio:!1,animation:{delay:200,duration:400,easing:"easeInOutQuart"},plugins:{legend:{display:!1},tooltip:{enabled:!0,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"rgba(255, 255, 255, 0.9)",bodyColor:"rgba(255, 255, 255, 0.9)",borderColor:"rgba(255, 255, 255, 0.2)",borderWidth:1,padding:12,cornerRadius:8,callbacks:{label:function(M){const C=M.datasetIndex,X=M.parsed||0,q=M.dataset.data.reduce((K,Q)=>K+Q,0),E=q>0?(X/q*100).toFixed(1):0;let ee="",ue="";return C===0?(ee=n==="de"?"Erzeugung":"Production",ue=(n==="de"?["Hausnetz","Batterie (Laden)","Netz (Einspeisung)"]:["House","Battery (Charge)","Grid (Export)"])[M.dataIndex]):(ee=n==="de"?"Verbrauch":"Consumption",ue=(n==="de"?["Solar","Batterie (Entladen)","Netz (Bezug)"]:["Solar","Battery (Discharge)","Grid (Import)"])[M.dataIndex]),`${ee} - ${ue}: ${X.toFixed(2)} kWh (${E}%)`}}}},cutout:"50%"}});return}const I={id:"verticalLineOnHover",afterDraw:j=>{if(j.tooltip?._active?.length){const z=j.tooltip._active[0],B=j.ctx,V=z.element.x,A=j.scales.y.top,F=j.scales.y.bottom;B.save(),B.beginPath(),B.moveTo(V,A),B.lineTo(V,F),B.lineWidth=1,B.strokeStyle="rgba(255, 255, 255, 0.3)",B.stroke(),B.restore()}}},T=u?.chartType||(s==="day"?"line":"bar"),R=()=>{if(s!=="week")return s==="day"?"rgba(0, 145, 255, 0.15)":"rgba(0, 145, 255, 0.7)";const j=new Date,z=j.getDay(),B=z===0?-6:1-z,V=new Date(j);return V.setDate(j.getDate()+B),V.setHours(0,0,0,0),c.map(A=>{const F=new Date(A.timestamp);return F.setHours(0,0,0,0),F>=V?"rgba(0, 145, 255, 0.7)":"rgba(0, 145, 255, 0.35)"})};y.current=new Yt(L,{type:T,data:{labels:c.map(j=>j.time),datasets:[{label:"Consumption",data:c.map(j=>j.value),borderColor:"rgb(0, 145, 255)",backgroundColor:R(),borderWidth:s==="day"?2:1,fill:s==="day",tension:.4,pointRadius:s==="day"?0:void 0,pointHoverRadius:s==="day"?6:void 0,pointHoverBackgroundColor:"rgb(0, 145, 255)",barPercentage:.7,categoryPercentage:.8}]},options:{responsive:!0,maintainAspectRatio:!1,animation:{delay:200,duration:400,easing:"easeInOutQuart"},interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!1},tooltip:{enabled:!0,mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",padding:12,displayColors:!1,callbacks:{title:function(j){const z=j[0].label;if(s==="day"){const B=z.split(":")[0],V=(parseInt(B)+1).toString().padStart(2,"0");return`${B}:00-${V}:00`}if(s==="month"){const B=parseInt(z),V=k.split(" "),A=V[0],F=V[1],C={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"}[A]||"01";return`${B.toString().padStart(2,"0")}.${C}.${F}`}return z},label:function(j){return`${j.parsed.y.toFixed(2)} ${_}`}}}},scales:{x:{display:!0,grid:{display:!1,drawBorder:!1},ticks:{color:"rgba(255, 255, 255, 0.5)",maxRotation:0,autoSkipPadding:20,font:{size:11}}},y:{display:!0,grid:{color:"rgba(255, 255, 255, 0.05)",borderDash:[3,3],drawBorder:!1},ticks:{color:"rgba(255, 255, 255, 0.5)",font:{size:11},callback:function(j){return j.toFixed(2)+" "+_}}}}},plugins:[I]})}catch(L){console.error(" Chart.js creation error:",L)}return()=>{y.current&&y.current.destroy()}}},[c,s,m,f]),r("div",{className:"energy-charts-view",children:[r("div",{className:"energy-header",children:[r("div",{className:"energy-date-container",children:[r(Te,{mode:"wait",children:r(P.div,{className:"energy-date",initial:{opacity:0,filter:"blur(8px)"},animate:{opacity:1,filter:"blur(0px)"},exit:{opacity:0,filter:"blur(8px)"},transition:{duration:.3,ease:"easeInOut"},children:k},k)}),r("div",{className:"energy-total-value",children:[r(P.span,{style:{display:"inline-block"},children:w}),r("sup",{children:f?.totalToday?.unit||"kWh"})]})]}),r("div",{className:"energy-time-tabs",children:Object.values(Rp).map(L=>r("button",{className:`time-tab ${s===L.key?"active":""}`,onClick:()=>o(L.key),children:n==="de"?L.labelDe:L.label},L.key))})]}),r("div",{className:"energy-summary",children:r("div",{className:"energy-stats-inline",children:[r("div",{className:"energy-stat-item","data-source":"grid",children:[r("div",{className:"stat-value",children:(()=>{const L=S(f?.grid?.value,f?.grid?.unit);return r(ke,{children:[L.value,r("sup",{children:L.unit})]})})()}),r("div",{className:"stat-label",children:[r("svg",{width:"14px",height:"14px",viewBox:"0 0 463 463",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"4px"},title:n==="de"?"Netz":"Grid",children:r("path",{d:"M367.5,159c4.142,0,7.5-3.357,7.5-7.5v-32c0-0.278-0.018-0.552-0.047-0.822c-0.004-0.037-0.012-0.074-0.017-0.111 c-0.039-0.313-0.1-0.619-0.176-0.919c-0.015-0.061-0.03-0.121-0.046-0.181c-0.093-0.332-0.206-0.656-0.342-0.967 c-0.013-0.03-0.029-0.058-0.042-0.087c-0.132-0.291-0.282-0.57-0.448-0.839c-0.031-0.051-0.06-0.103-0.093-0.153 c-0.183-0.281-0.384-0.549-0.602-0.802c-0.044-0.052-0.092-0.101-0.138-0.152c-0.225-0.248-0.462-0.483-0.718-0.699 c-0.011-0.009-0.019-0.02-0.03-0.029l-0.026-0.022c-0.003-0.002-0.006-0.005-0.008-0.007l-95.292-79.41L253.5,3 c-1.417-1.889-3.639-3-6-3h-32c-2.361,0-4.583,1.111-6,3l-23.474,31.299l-95.292,79.41c-0.003,0.002-0.006,0.005-0.008,0.007 l-0.026,0.022c-0.011,0.009-0.019,0.02-0.03,0.029c-0.256,0.216-0.493,0.452-0.718,0.699c-0.046,0.051-0.093,0.1-0.138,0.152 c-0.218,0.253-0.419,0.521-0.602,0.802c-0.033,0.05-0.062,0.102-0.093,0.153c-0.166,0.269-0.317,0.548-0.448,0.839 c-0.013,0.029-0.029,0.057-0.042,0.087c-0.136,0.312-0.248,0.635-0.342,0.967c-0.017,0.06-0.031,0.12-0.046,0.181 c-0.076,0.3-0.137,0.606-0.176,0.919c-0.005,0.037-0.013,0.074-0.017,0.111C88.018,118.948,88,119.222,88,119.5v32 c0,4.143,3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5V127h81v68.987l-93.267,77.722c-0.003,0.002-0.006,0.005-0.008,0.007l-0.026,0.022 c-0.011,0.009-0.019,0.02-0.03,0.029c-0.256,0.216-0.493,0.452-0.718,0.699c-0.046,0.051-0.093,0.1-0.138,0.152 c-0.218,0.253-0.419,0.521-0.602,0.802c-0.033,0.05-0.062,0.102-0.093,0.153c-0.166,0.269-0.317,0.548-0.448,0.839 c-0.013,0.029-0.029,0.057-0.042,0.087c-0.136,0.312-0.248,0.635-0.342,0.967c-0.017,0.06-0.031,0.12-0.046,0.181 c-0.076,0.3-0.137,0.606-0.176,0.919c-0.005,0.037-0.013,0.074-0.017,0.111C88.018,278.948,88,279.222,88,279.5v32 c0,4.143,3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5V287h77.792l-58.545,161H111.5c-4.142,0-7.5,3.357-7.5,7.5s3.358,7.5,7.5,7.5h40 c4.142,0,7.5-3.357,7.5-7.5s-3.358-7.5-7.5-7.5h-8.173L231.5,340.233L319.673,448H319.5c-4.142,0-7.5,3.357-7.5,7.5 s3.358,7.5,7.5,7.5h40c4.142,0,7.5-3.357,7.5-7.5s-3.358-7.5-7.5-7.5h-18.747l-58.545-161H360v24.5c0,4.143,3.358,7.5,7.5,7.5 s7.5-3.357,7.5-7.5v-32c0-0.278-0.018-0.552-0.047-0.822c-0.004-0.037-0.012-0.074-0.017-0.111c-0.039-0.313-0.1-0.619-0.176-0.919 c-0.015-0.061-0.03-0.121-0.046-0.181c-0.093-0.332-0.206-0.656-0.342-0.967c-0.013-0.03-0.029-0.058-0.042-0.087 c-0.132-0.291-0.282-0.57-0.448-0.839c-0.031-0.051-0.06-0.103-0.093-0.153c-0.183-0.281-0.384-0.549-0.602-0.802 c-0.044-0.052-0.092-0.101-0.138-0.152c-0.225-0.248-0.462-0.483-0.718-0.699c-0.011-0.009-0.019-0.02-0.03-0.029l-0.026-0.022 c-0.003-0.002-0.006-0.005-0.008-0.007L279,195.987V127h81v24.5C360,155.643,363.358,159,367.5,159z M220.893,79.5L199,101.393 V57.607L220.893,79.5z M209.607,47h43.786L231.5,68.893L209.607,47z M209.607,112L231.5,90.107L253.393,112H209.607z M253.393,127 L231.5,148.893L209.607,127H253.393z M220.893,159.5L199,181.393v-43.786L220.893,159.5z M209.607,192l21.893-21.893L253.393,192 H209.607z M253.393,207L231.5,228.893L209.607,207H253.393z M220.893,239.5L199,261.393v-43.786L220.893,239.5z M231.5,250.107 L253.393,272h-43.786L231.5,250.107z M255.673,287L231.5,316.545L207.327,287H255.673z M242.107,239.5L264,217.607v43.786 L242.107,239.5z M242.107,159.5L264,137.607v43.786L242.107,159.5z M242.107,79.5L264,57.607v43.786L242.107,79.5z M219.25,15h24.5 l12.75,17h-50L219.25,15z M184,55.513V112h-67.785L184,55.513z M184,215.513V272h-67.785L184,215.513z M149.617,416.624 l44.426-122.172l27.766,33.937L149.617,416.624z M241.19,328.389l27.766-33.937l44.426,122.172L241.19,328.389z M279,272v-56.487 L346.785,272H279z M279,112V55.513L346.785,112H279z"})}),r("span",{children:n==="de"?"Netz":"Grid"}),r("span",{className:"stat-percent",children:[" ",f?.grid?.percentage||0,"%"]})]})]}),r("div",{className:"stat-divider"}),r("div",{className:"energy-stat-item","data-source":"solar",children:[r("div",{className:"stat-value",children:(()=>{const L=S(f?.solar?.value,f?.solar?.unit);return r(ke,{children:[L.value,r("sup",{children:L.unit})]})})()}),r("div",{className:"stat-label",children:[m?r("svg",{width:"14px",height:"14px","stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",style:{marginRight:"4px"},title:n==="de"?"Ertrag":"Revenue",children:[r("path",{d:"M16.5 21H18.6688C19.8945 21 20.8319 19.9074 20.6455 18.6959L19.2609 9.69589C19.1108 8.72022 18.2713 8 17.2842 8H6.71584C5.7287 8 4.8892 8.72022 4.73909 9.69589L3.35448 18.6959C3.16809 19.9074 4.10545 21 5.33122 21H7.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M12 12V19M12 19L15 16M12 19L9 16",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M14 5C14 3.89543 13.1046 3 12 3C10.8954 3 10 3.89543 10 5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}):g?r("svg",{width:"14px",height:"14px",viewBox:"0 0 24 24","stroke-width":"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",style:{marginRight:"4px"},title:n==="de"?"Haus":"Home",children:[r("path",{d:"M2 8L11.7317 3.13416C11.9006 3.04971 12.0994 3.0497 12.2683 3.13416L22 8",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M20 11V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19V11",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}):r("svg",{width:"14px",height:"14px",viewBox:"0 0 512 512",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"4px"},title:"Solar",children:r("path",{d:"M48 32h96v96H48zm128 0h96v96h-96zm128 0h96v96h-96zM48 160h96v96H48zm128 0h96v96h-96zm128 0h96v96h-96zM48 288h96v96H48zm128 0h96v96h-96zm128 0h96v96h-96zM80 416h288v32H80z"})}),r("span",{children:m?n==="de"?"Ertrag":"Revenue":g?n==="de"?"Haus":"Home":"Solar"}),!m&&r("span",{className:"stat-percent",children:[" ",f?.solar?.percentage||0,"%"]})]})]}),r("div",{className:"stat-divider"}),r("div",{className:"energy-stat-item","data-source":"battery",children:[r("div",{className:"stat-value",children:(()=>{const L=S(f?.battery?.value,f?.battery?.unit);return r(ke,{children:[L.value,r("sup",{children:L.unit})]})})()}),r("div",{className:"stat-label",children:[m?r("svg",{width:"14px",height:"14px","stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",style:{marginRight:"4px"},title:n==="de"?"Kosten":"Costs",children:[r("path",{d:"M16.5 21H18.6688C19.8945 21 20.8319 19.9074 20.6455 18.6959L19.2609 9.69589C19.1108 8.72022 18.2713 8 17.2842 8H6.71584C5.7287 8 4.8892 8.72022 4.73909 9.69589L3.35448 18.6959C3.16809 19.9074 4.10545 21 5.33122 21H7.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M12 19V12M12 12L15 15M12 12L9 15",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M14 5C14 3.89543 13.1046 3 12 3C10.8954 3 10 3.89543 10 5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}):r("svg",{width:"14px",height:"14px","stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"4px"},title:n==="de"?"Batterie":"Battery",children:[r("path",{d:"M14 13H16L18 13",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M6 13H8M10 13H8M8 13V11M8 13V15",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M6 7H2.6C2.26863 7 2 7.26863 2 7.6V18.4C2 18.7314 2.26863 19 2.6 19H21.4C21.7314 19 22 18.7314 22 18.4V7.6C22 7.26863 21.7314 7 21.4 7H18M6 7V5H8V7M6 7H8M8 7H16M16 7V5H18V7M16 7H18",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),r("span",{children:m?n==="de"?"Kosten":"Costs":n==="de"?"Batterie":"Battery"}),!m&&r("span",{className:"stat-percent",children:[" ",f?.battery?.percentage||0,"%"]})]})]})]})}),r("div",{className:"energy-sources-bar",style:{padding:"0 16px"},children:r("div",{className:"energy-progress-bar",children:[r("div",{className:"progress-segment solar",style:{width:`${f?.solar?.percentage||0}%`}}),r("div",{className:"progress-segment battery",style:{width:`${f?.battery?.percentage||0}%`}}),r("div",{className:"progress-segment grid",style:{width:`${f?.grid?.percentage||0}%`}})]})}),r("div",{className:"energy-chart-container",children:[a&&r("div",{className:"loading-container",children:r("div",{className:"loading-spinner"})}),!a&&(!c||c.length===0)&&r("div",{className:"no-data-message",children:r("p",{children:n==="de"?"Keine Daten verfgbar":"No data available"})}),r("canvas",{ref:b,style:{display:c&&c.length>0&&!a?"block":"none",width:"100%",height:"100%"}})]})]})},Bp=({group:e,expandedControl:t,activePreset:n,onPresetSelect:i,onServiceCall:s,item:o,lang:a,hass:l})=>{if(t!==e.id)return null;const c=oe(null),[d,u]=D(!1);return r(Te,{mode:"wait",children:r(P.div,{className:`control-presets visible ${e.grouped?"grouped":""}`,variants:e_,initial:"hidden",animate:"visible",exit:"hidden",children:e.renderCustom&&e.id==="settings"&&o?.domain==="climate"?r(c4,{item:o,lang:a}):e.renderCustom&&e.id==="controls"&&o?.domain==="energy_dashboard_device"?r(Eo,{item:o,hass:l,lang:a,viewType:"consumption"}):e.renderCustom&&e.id==="sensors"&&o?.domain==="energy_dashboard_device"?r(Eo,{item:o,hass:l,lang:a,viewType:"solar"}):e.renderCustom&&e.id==="diagnostics"&&o?.domain==="energy_dashboard_device"?r(Eo,{item:o,hass:l,lang:a,viewType:"netusage"}):e.renderCustom&&e.id==="sensors"&&o?.domain==="printer3d_device"?r(d4,{entity:o,hass:l,lang:a}):e.renderCustom&&e.id==="diagnostics"&&o?.domain==="printer3d_device"?r(u4,{entity:o,hass:l,lang:a}):e.renderCustom&&e.id==="misc"&&o?.domain==="printer3d_device"?r(h4,{entity:o,hass:l,lang:a}):r("div",{className:"presets-scroll-container",ref:e.grouped?c:null,onMouseEnter:()=>e.grouped&&u(!0),onMouseLeave:()=>e.grouped&&u(!1),style:e.grouped?{position:"relative"}:{},children:[e.grouped?r(ke,{children:e.items.map((h,f)=>h.type==="header"?r("div",{className:"preset-header",children:h.label},`header-${f}`):r(P.button,{className:`preset-button ${n===`${e.id}-${f}`?"active":""}`,variants:Jh,initial:"initial",whileHover:"hover",whileTap:"tap","data-tooltip":h.label,onClick:()=>{i(`${e.id}-${f}`),s(h.service,h.data)},style:{...h.style,animationDelay:`${f*30}ms`},title:h.label,children:h.icon?r("span",{style:{fontSize:"32px"},children:h.icon}):r("span",{className:"preset-text",children:h.label})},f))}):e.items.map((h,f)=>r(P.button,{className:`preset-button ${n===`${e.id}-${f}`?"active":""}`,"data-tooltip":h.label,variants:Jh,initial:"initial",whileHover:"hover",whileTap:"tap",onClick:()=>{i(`${e.id}-${f}`),s(e.service,h.data)},style:{...h.style,animationDelay:`${f*30}ms`},title:h.label,children:h.icon?r("span",{style:{fontSize:"32px"},children:h.icon}):h.customIcon?r("span",{className:"preset-icon",dangerouslySetInnerHTML:{__html:h.customIcon}}):r(ke,{children:r("span",{className:"preset-text",children:h.label})})},f)),e.grouped&&r(De,{scrollContainerRef:c,isHovered:d})]})})})},Yo=({item:e,onServiceCall:t,lang:n="de",hass:i,slideShowKey:s,expandedControl:o,setExpandedControl:a})=>{const[l,c]=D(null),d=o!==void 0?o:l,u=a||c,[h,f]=D(null),[p,g]=D(!1),[m,y]=D(!1),[b,v]=D(!1),[w,S]=D(!1),{localPowerState:x,setLocalPowerState:k,lastBrightness:N,setLastBrightness:L,lockState:_,setLockState:I}=o4(e,i,e?.domain);Y(()=>{d===null&&(v(!1),S(!1))},[d]);const T=oe(null),R=oe(null),j=oe(null),[z,B]=D(!1),V=U=>te(`controls.${U}`,n);Y(()=>{const U=requestAnimationFrame(()=>{const J=setTimeout(()=>{g(!0)},50);return()=>clearTimeout(J)});return()=>cancelAnimationFrame(U)},[]),Y(()=>{const U=window.matchMedia("(max-width: 768px)");y(U.matches);const J=re=>y(re.matches);return U.addEventListener("change",J),()=>U.removeEventListener("change",J)},[]);const A=Re(()=>{if(e?.domain==="lock"&&_){const U={...e,state:_,entity:e.entity?{...e.entity,state:_}:void 0};return tc(U,n)}return tc(e,n)},[e,n,_]),[F,M]=D(null),[C,X]=D(null),[q,E]=D(null),[ee,ue]=D(null);Y(()=>{if(e?.domain!=="energy_dashboard_device"||!i?.connection)return;const U=e?.attributes?.kwh_sensor;if(!U)return;(async()=>{try{const re=new Date,ae=new Date(re.setHours(0,0,0,0)),be=new Date(ae.getTime()+36e5),G=(await i.connection.sendMessagePromise({type:"recorder/statistics_during_period",start_time:ae.toISOString(),end_time:be.toISOString(),statistic_ids:[U],period:"hour",types:["state","sum"]}))[U];if(G&&G.length>0){const O=G[0],$=O?.state??O?.sum??0;ue($)}}catch(re){console.error("Failed to get midnight value:",re)}})()},[e?.domain,e?.attributes?.kwh_sensor,i?.connection]),Y(()=>{if(e?.domain!=="energy_dashboard_device"||!i?.states)return;const U=e?.attributes?._display_primary||e?.attributes?.grid_import_sensor;if(U){const re=i.states[U];if(re&&re.state!=="unavailable"&&re.state!=="unknown"){const ae=parseFloat(re.state);isNaN(ae)||(M(ae),X(re.attributes?.unit_of_measurement||"W"))}}const J=e?.attributes?._display_secondary||e?.attributes?.kwh_sensor;if(J){const re=i.states[J];if(re&&re.state!=="unavailable"&&re.state!=="unknown"){const ae=parseFloat(re.state);isNaN(ae)||E(ae)}}},[i?.states,e?.domain,e?.attributes?.grid_import_sensor,e?.attributes?.kwh_sensor,e?.attributes?._display_primary,e?.attributes?._display_secondary]);const K=Re(()=>{if(e?.domain==="lock"&&_){const J={...e,state:_,entity:e.entity?{...e.entity,state:_}:void 0};return df(J,n)}const U=df(e,n);if(x!==null&&U.showPower&&(U.powerState=x),e?.domain==="light"&&!x&&N!==null?U.value=0:e?.domain==="light"&&x&&N!==null&&(U.value=N),e?.domain==="energy_dashboard_device"){F!==null&&(U.value=F,U.unit=C||"W");const J=e?.attributes?._display_primary_type;if(J==="nettonutzung"&&q!==null&&ee!==null){const re=q-ee,ae=e?.attributes?._display_secondary||e?.attributes?.kwh_sensor,fe=(i?.states?.[ae]?.attributes?.unit_of_measurement||"Wh")==="Wh"?re/1e3:re,G=n==="de"?"Heute":"Today";U.subValue=`${G}: ${fe.toFixed(2)} kWh`}if(J==="solarerzeugung"){const re=e?.attributes?._display_secondary||e?.attributes?.pv_daily_sensor;if(re){const ae=i?.states?.[re];if(ae&&ae.state!=="unavailable"&&ae.state!=="unknown"){const be=parseFloat(ae.state);if(!isNaN(be)){const G=(ae.attributes?.unit_of_measurement||"kWh")==="Wh"?(be/1e3).toFixed(2):be.toFixed(2),O=n==="de"?"Heute":"Today";U.subValue=`${O}: ${G} kWh`}}}}if(J==="verbrauch"){const re=e?.attributes?._display_secondary||e?.attributes?.grid_return_sensor;if(re){const ae=i?.states?.[re];if(ae&&ae.state!=="unavailable"&&ae.state!=="unknown"){const be=parseFloat(ae.state);if(!isNaN(be)){const fe=ae.attributes?.unit_of_measurement||"W",G=n==="de"?"Einspeisung":"Grid Return";U.subValue=`${G}: ${be.toFixed(1)} ${fe}`}}}}if(J==="batterie"){const re=e?.attributes?._display_secondary||e?.attributes?.battery_charged_sensor;if(re){const ae=i?.states?.[re];if(ae&&ae.state!=="unavailable"&&ae.state!=="unknown"){const be=parseFloat(ae.state);if(!isNaN(be)){const G=(ae.attributes?.unit_of_measurement||"kWh")==="Wh"?(be/1e3).toFixed(2):be.toFixed(2),O=n==="de"?"Geladen":"Charged";U.subValue=`${O}: ${G} kWh`}}}}}return U},[e,n,x,N,_,F,C,q,ee,i?.states]),Q=(U,J={})=>{const re=e?.domain||"light",be={entity_id:e?.entity_id||e?.id,...J},fe=_d(re,U,be);if(re==="light"&&U==="turn_on"&&Object.keys(J).length===0&&(fe.brightness=255),re==="lock"){const G=U==="lock"?"locked":"unlocked";e.state!==void 0&&(e.state=G),e.entity?.state!==void 0&&(e.entity.state=G),I(G)}t&&t(re,U,fe)},ie=U=>{s4(e?.domain,e,U,L,k,Q)},se=U=>{k(U),i4(e?.domain,e,U,N,Q)},xe=U=>{d===U?(u(null),S(!1),v(!1)):(u(U),S(!0),v(!0))},_e=e?.entity_id?.includes("solar")?[{value:5.2,min:0,max:10,unit:"kW",label:V("production"),color:"#FFC107"},{value:2.8,min:0,max:10,unit:"kW",label:V("consumption"),color:"#4CAF50"},{value:85,min:0,max:100,unit:"%",label:V("battery"),color:"#2196F3"}]:null;return e?.domain==="energy_dashboard_device"?r("div",{className:`controls-tab ${p?"visible":""} ${m?"compact-mode":""}`,onMouseEnter:()=>B(!0),onMouseLeave:()=>B(!1),style:{position:"relative"},children:[r(Te,{mode:"wait",children:!b&&r(P.div,{ref:T,className:"slider-wrapper",variants:m?tf:ef,initial:"visible",animate:"visible",exit:"hidden",children:gi(Oo,{...K,onValueChange:K.interactive?ie:void 0,onPowerToggle:K.showPower?se:void 0,domain:e?.domain,key:e?.entity_id})},"slider-wrapper")}),A.primary&&A.primary.length>0&&r(P.div,{ref:R,className:"device-control-buttons energy-dashboard-buttons",variants:nf,initial:"normal",animate:w?"movedUp":"normal",children:r("div",{className:"control-row primary",children:A.primary.map((U,J)=>r(ff,{control:U,index:J,expandedControl:d,onToggleExpandable:xe,onServiceCall:Q},J))})}),r("div",{className:"energy-expandable-container",ref:j,children:A.expandable&&A.expandable.length>0&&A.expandable.map(U=>r(Bp,{group:U,expandedControl:d,activePreset:h,onPresetSelect:f,onServiceCall:Q,item:e,lang:n,hass:i},U.id))}),r(De,{scrollContainerRef:j,isHovered:z})]}):r("div",{className:`controls-tab ${p?"visible":""} ${m?"compact-mode":""}`,children:r("div",{className:"device-control-design",children:[r(Te,{mode:"wait",children:!b&&r(P.div,{ref:T,className:"slider-wrapper",variants:m?tf:ef,initial:"visible",animate:"visible",exit:"hidden",children:_e?r(n4,{data:_e,lang:n}):r(Te,{mode:"wait",initial:!1,children:r(P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.4,ease:[.4,0,.2,1]},style:{width:"100%",height:"100%"},children:gi(Oo,{...K,onValueChange:K.interactive?ie:void 0,onPowerToggle:K.showPower?se:void 0,domain:e?.domain,key:e?.entity_id})},s!==void 0?s:e?.entity_id)})},"slider-wrapper")}),A.primary&&A.primary.length>0&&r(P.div,{ref:R,className:"device-control-buttons",variants:nf,initial:"normal",animate:w?"movedUp":"normal",children:[r("div",{className:"control-row primary",children:A.primary.map((U,J)=>r(ff,{control:U,index:J,expandedControl:d,onToggleExpandable:xe,onServiceCall:Q},J))}),A.expandable&&A.expandable.length>0&&A.expandable.map(U=>r(Bp,{group:U,expandedControl:d,activePreset:h,onPresetSelect:f,onServiceCall:Q,item:e,lang:n,hass:i},U.id))]})]})})},Zs={yellow:"rgb(255, 214, 0)"};function A6({data:e,height:t="200px"}){const n=oe(null),i=oe(null);return Y(()=>{if(!n.current||!e||e.length===0){console.log(" UsageTimelineChart: Canvas or data not ready");return}console.log(" UsageTimelineChart: Creating chart with",e.length,"points"),i.current&&i.current.destroy();try{const s=n.current.getContext("2d");i.current=new Yt(s,{type:"line",data:{labels:e.map(o=>o.time),datasets:[{label:"Usage",data:e.map(o=>o.usage),borderColor:Zs.yellow,backgroundColor:"transparent",borderWidth:3,tension:.4,pointRadius:2,pointBackgroundColor:Zs.yellow,pointBorderColor:Zs.yellow,pointHoverRadius:6,pointHoverBackgroundColor:Zs.yellow}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",padding:12,displayColors:!1}},scales:{x:{display:!0,grid:{display:!1},ticks:{color:"rgba(255, 255, 255, 0.5)",maxRotation:0,autoSkipPadding:20}},y:{display:!0,grid:{color:"rgba(255, 255, 255, 0.05)",borderDash:[3,3]},ticks:{color:"rgba(255, 255, 255, 0.5)"}}}}}),console.log(" UsageTimelineChart created successfully")}catch(s){console.error(" UsageTimelineChart error:",s)}return()=>{i.current&&i.current.destroy()}},[e]),r("div",{style:{width:"100%",height:t,position:"relative"},children:r("canvas",{ref:n})})}const zp={collapsed:{height:0,opacity:0,transition:{height:{duration:.4,ease:[.16,1,.3,1]},opacity:{duration:.3,ease:"easeOut"}}},expanded:{height:"auto",opacity:1,transition:{height:{duration:.4,ease:[.16,1,.3,1]},opacity:{duration:.3,delay:.1,ease:"easeIn"}}}},Vp={collapsed:{rotate:0,transition:{duration:.3,ease:[.34,1.56,.64,1]}},expanded:{rotate:45,transition:{duration:.3,ease:[.34,1.56,.64,1]}}},Op={idle:{backgroundColor:"rgba(255, 255, 255, 0)",transition:{duration:.2}},hover:{backgroundColor:"rgba(255, 255, 255, 0)",transition:{duration:.2}},tap:{scale:1,transition:{duration:.1}}},D6=(e,t)=>{const n=new Date(e);return Wd(t)<=24?n.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}):n.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})},Wp=e=>{if(e<60)return`${Math.round(e)} Min`;const t=Math.floor(e/60),n=Math.round(e%60);return n>0?`${t}h ${n}m`:`${t}h`},Hp=({item:e,onDataRequest:t,lang:n="de"})=>{console.log(" HistoryTab Component Rendered!",{item:e});const{hass:i}=Qt(),s=!i,o=oe(i);Y(()=>{o.current=i},[i]);const[a,l]=D(k6),[c,d]=D(!0),[u,h]=D(!1),[f,p]=D(!1),[g,m]=D(!1),[y,b]=D(null),[v,w]=D({x:0,width:0}),S=oe(null),x=Object.values(ss).map(N=>N.key);if(Y(()=>{const N=()=>{if(S.current){const L=x.indexOf(a),_=S.current.querySelectorAll(".time-range-button");if(_[L]){const I=_[L],T=S.current.getBoundingClientRect(),R=I.getBoundingClientRect(),j=R.left-T.left,z=R.width;w({x:Math.round(j),width:Math.round(z)})}}};return setTimeout(N,50),window.addEventListener("resize",N),()=>{window.removeEventListener("resize",N)}},[a,x]),Y(()=>{const N=setTimeout(()=>p(!0),100);return()=>clearTimeout(N)},[]),Y(()=>{if(console.log(" HistoryTab useEffect luft!",{item:e,timeRange:a,hass:i,isDevelopment:s}),!e||!e.entity_id){console.warn("HistoryTab: No item or entity_id provided");return}(async()=>{m(!0);try{let L;if(s?(console.log(" Development-Modus: Generiere Mock-Daten fr",e.entity_id),L=C6(e,a)):(console.log(" Production-Modus: Lade echte HA-Daten fr",e.entity_id),L=await _6(o.current,e.entity_id,a)),L&&L.length>0){const _=S6(L,e.entity_id,e.domain);console.log(" History-Daten geladen:",{events:_.events.length,stats:_.stats,patterns:_.patterns.length,chartPoints:_.chartData.length}),console.log(" Chart-Daten:",{chartData:_.chartData,dataLength:_.chartData.length,firstPoint:_.chartData[0],lastPoint:_.chartData[_.chartData.length-1]}),console.log(" CHART DEBUG:",{chartDataExists:!!_.chartData,chartLength:_.chartData?.length,firstPoint:_.chartData?.[0],lastPoint:_.chartData?.[_.chartData.length-1],allPoints:_.chartData}),b(_)}else console.warn(" Keine History-Daten gefunden"),b(null)}catch(L){console.error(" Fehler beim Laden der History:",L),b(null)}finally{m(!1)}})()},[e?.entity_id,a,s]),!e)return r("div",{className:"history-tab-container",children:r("div",{className:"no-data-message",children:[r("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r("path",{d:"M3 12h18m-9-9v18"})}),r("p",{children:n==="de"?"Kein Gert ausgewhlt":"No device selected"})]})});const k=y?.stats||{totalChanges:0,avgDuration:0,onPercentage:0};return r("div",{className:`history-tab ${f?"visible":""}`,children:[r("div",{ref:S,className:"time-range-selector",children:[r(P.div,{className:"time-range-slider",animate:{x:v.x,width:v.width,scaleX:[1,1.12,.96,1.03,1],scaleY:[1,.94,1.06,.99,1]},transition:{x:{type:"spring",stiffness:280,damping:22,mass:1.5},width:{type:"spring",stiffness:280,damping:22,mass:1.5},scaleX:{duration:.6,times:[0,.2,.5,.8,1],ease:[.34,1.56,.64,1]},scaleY:{duration:.6,times:[0,.2,.5,.8,1],ease:[.34,1.56,.64,1]}}}),Object.values(ss).map(N=>{const L=a===N.key;return r(P.button,{className:`time-range-button ${L?"active":""}`,onClick:()=>l(N.key),whileHover:L?{}:{scale:1.04},whileTap:L?{}:{scale:.96},transition:{duration:.2},children:N.label},N.key)})]}),r("div",{className:"accordion-section",children:[r(P.div,{className:"accordion-header",onClick:()=>d(!c),variants:Op,initial:"idle",whileHover:"hover",whileTap:"tap",children:[r("div",{className:"accordion-title",children:[r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r("path",{d:"M3 12h18M3 6h18M3 18h18M7 12v6M12 6v12M17 8v8"})}),r("span",{children:n==="de"?"Nutzungsdiagramme":"Usage Charts"})]}),r(P.svg,{className:"accordion-icon",width:"24",height:"24",strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",variants:Vp,animate:c?"expanded":"collapsed",children:r("path",{d:"M6 12H12M18 12H12M12 12V6M12 12V18",strokeLinecap:"round",strokeLinejoin:"round"})})]}),r(Te,{initial:!1,children:c&&r(P.div,{className:"accordion-content",variants:zp,initial:"collapsed",animate:"expanded",exit:"collapsed",children:g?r("div",{className:"loading-container",children:r("div",{className:"loading-spinner"})}):y?r(ke,{children:r("div",{className:"chart-wrapper",children:r("div",{className:"chart-container",children:r(A6,{data:y.chartData,height:"220px"},`usage-${a}`)})})}):r("div",{className:"no-data-message",children:[r("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r("path",{d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r("p",{children:n==="de"?"Keine Daten verfgbar":"No data available"})]})})})]}),r("div",{className:"accordion-section",children:[r(P.div,{className:"accordion-header",onClick:()=>h(!u),variants:Op,initial:"idle",whileHover:"hover",whileTap:"tap",children:[r("div",{className:"accordion-title",children:[r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),r("span",{children:[n==="de"?"Letzte Ereignisse":"Recent Events"," (",y?.events?.length||0,")"]})]}),r(P.svg,{className:"accordion-icon",width:"24",height:"24",strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",variants:Vp,animate:u?"expanded":"collapsed",children:r("path",{d:"M6 12H12M18 12H12M12 12V6M12 12V18",strokeLinecap:"round",strokeLinejoin:"round"})})]}),r(Te,{initial:!1,children:u&&r(P.div,{className:"accordion-content",variants:zp,initial:"collapsed",animate:"expanded",exit:"collapsed",children:r("div",{className:"text-events-list",children:y?.events&&y.events.length>0?y.events.map((N,L)=>r(P.div,{className:"event-item",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:L*.03},whileHover:{scale:1.02,backgroundColor:"rgba(0, 0, 0, 0.4)"},children:[r("span",{className:"event-time",children:D6(N.timestamp,a)}),r("span",{className:"event-description",children:N.description}),r("span",{className:`event-value ${N.newState==="on"?"event-state-on":"event-state-off"}`,children:[N.newState==="on"?n==="de"?" AN":" ON":n==="de"?" AUS":" OFF",N.duration&&r("span",{style:{marginLeft:"8px",fontSize:"12px",opacity:.7},children:["(",Wp(N.duration),")"]})]})]},L)):r("div",{className:"no-data-message",style:{height:"200px"},children:r("p",{children:n==="de"?"Keine Ereignisse aufgezeichnet":"No events recorded"})})})})})]}),r("div",{className:"stats-grid",children:[r("div",{className:"stat-card",children:[r("span",{className:"stat-label",children:n==="de"?"nderungen":"Changes"}),r("span",{className:"stat-value",children:[k.totalChanges,r("span",{className:"stat-unit",children:"x"})]})]}),r("div",{className:"stat-card",children:[r("span",{className:"stat-label",children:n==="de"?" Dauer":"Avg Duration"}),r("span",{className:"stat-value",children:Wp(k.avgDuration)})]}),r("div",{className:"stat-card",children:[r("span",{className:"stat-label",children:n==="de"?"Aktiv":"Active Time"}),r("span",{className:"stat-value",children:[Math.round(k.onPercentage),r("span",{className:"stat-unit",children:"%"})]})]})]})]})},F6=({item:e,lang:t="de",onSettingsChange:n,initialSettings:i={}})=>{const[s,o]=D(i.temperature||null),[a,l]=D(i.hvac_mode||null),[c,d]=D(i.fan_mode||null),[u,h]=D(i.swing_mode||null),[f,p]=D(i.preset_mode||"none"),[g,m]=D(!1),b=(e?.entity||e)?.attributes||{},v={temperature:oe(null),hvacMode:oe(null),fanMode:oe(null),swingMode:oe(null),presetMode:oe(null)},w=oe({}),S=oe(null);Y(()=>{const M=setTimeout(()=>m(!0),50);return()=>clearTimeout(M)},[]),Y(()=>()=>{S.current&&(S.current.querySelectorAll("div.climate-picker").forEach(C=>{C.style.display="none",C.style.height="0px",C.style.opacity="0"}),console.log(" Climate Picker beim Unmount geschlossen"))},[]),Y(()=>{console.log(" ClimateScheduleSettings: initialSettings updated",i),i&&Object.keys(i).length>0?(i.temperature!==void 0&&o(i.temperature),i.hvac_mode!==void 0&&l(i.hvac_mode),i.fan_mode!==void 0&&d(i.fan_mode),i.swing_mode!==void 0&&h(i.swing_mode),i.preset_mode!==void 0&&p(i.preset_mode)):(o(null),l(null),d(null),h(null),p("none"))},[i]);const x=b.hvac_modes||["heat","cool","off"],k=b.fan_modes||null,N=b.swing_modes||null,L=b.preset_modes||null,_=b.min_temp||16,I=b.max_temp||30,T=b.temperature_unit||"C",R=M=>({off:te("climate.off",t),heat:te("climate.heat",t),cool:te("climate.cool",t),auto:te("climate.auto",t),dry:te("climate.dry",t),fan_only:te("climate.fanOnly",t),heat_cool:te("climate.heatCool",t)})[M]||M,j=M=>({auto:te("climate.auto",t),low:te("climate.low",t),medium:te("climate.medium",t),high:te("climate.high",t),quiet:te("climate.quiet",t),turbo:te("climate.turbo",t)})[M]||M,z=M=>({off:te("climate.off",t),vertical:te("climate.vertical",t),horizontal:te("climate.horizontal",t),both:te("climate.both",t)})[M]||M,B=M=>({none:te("climate.none",t),away:te("climate.away",t),home:te("climate.home",t),eco:te("climate.eco",t),boost:te("climate.boost",t),comfort:te("climate.comfort",t),sleep:te("climate.sleep",t)})[M]||M,V=()=>{const M=[];for(let C=_;C<=I;C++)M.push(`${C}${T}`);return M};Y(()=>{setTimeout(()=>{if(v.temperature.current&&!w.current.temperature){const M=V(),C=Math.max(0,s-_);new lt(v.temperature.current,{data:M,lineHeight:30,selected:C,callback:(X,q)=>{const E=parseInt(q);o(E),n&&n({temperature:E})}}),w.current.temperature=!0}if(v.hvacMode.current&&!w.current.hvacMode){const M=x.map(R),C=x.indexOf(a);new lt(v.hvacMode.current,{data:M,lineHeight:30,selected:Math.max(0,C),callback:(X,q)=>{const E=x[X];l(E),n&&n({hvac_mode:E})}}),w.current.hvacMode=!0}if(k&&v.fanMode.current&&!w.current.fanMode){const M=k.map(j),C=k.indexOf(c);new lt(v.fanMode.current,{data:M,lineHeight:30,selected:Math.max(0,C),callback:(X,q)=>{const E=k[X];d(E),n&&n({fan_mode:E})}}),w.current.fanMode=!0}if(N&&v.swingMode.current&&!w.current.swingMode){const M=N.map(z),C=N.indexOf(u);new lt(v.swingMode.current,{data:M,lineHeight:30,selected:Math.max(0,C),callback:(X,q)=>{const E=N[X];h(E),n&&n({swing_mode:E})}}),w.current.swingMode=!0}if(L&&v.presetMode.current&&!w.current.presetMode){const M=L.map(B),C=L.indexOf(f);new lt(v.presetMode.current,{data:M,lineHeight:30,selected:Math.max(0,C),callback:(X,q)=>{const E=L[X];p(E),n&&n({preset_mode:E})}}),w.current.presetMode=!0}},100)},[t]);const A=M=>{if(!S.current){console.error(" containerRef nicht verfgbar");return}const C=S.current.querySelector(`#climate-picker-container-line-${M}`);if(!C){console.error(" Climate Picker nicht gefunden:",M);return}const X=getComputedStyle(C).display==="none";console.log(" Climate Picker Toggle:",M,X?"FFNEN":"SCHLIESSEN"),S.current.querySelectorAll("div.climate-picker").forEach(E=>{getComputedStyle(E).display!=="none"&&E!==C&&(console.log(" Schliee anderen Climate Picker"),F(E,!1))}),F(C,X)},F=(M,C)=>{C?(M.style.display="block",M.animate([{height:"0px",opacity:0,transform:"translateY(-3px)"},{height:"210px",opacity:1,transform:"translateY(0px)"}],{duration:150,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fill:"forwards"}).onfinish=()=>{M.style.height="210px",M.style.opacity="1"}):M.animate([{height:"210px",opacity:1,transform:"translateY(0px)"},{height:"0px",opacity:0,transform:"translateY(-3px)"}],{duration:120,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fill:"forwards"}).onfinish=()=>{M.style.display="none",M.style.height="0px",M.style.opacity="0"}};return Y(()=>{if(!S.current)return;let M=0;const C=10,X=()=>{const E=S.current?.querySelectorAll(".climate-settings-table .clickable-row");E&&E.length>0?(console.log(" Climate rows gefunden, registriere Listener:",E.length),E.forEach(ee=>{const ue=ee.getAttribute("data-line");if(ue){ee._clickHandler&&ee.removeEventListener("click",ee._clickHandler);const K=()=>{console.log(` Row ${ue} geklickt`),A(ue)};ee.addEventListener("click",K),ee._clickHandler=K}})):(M++,M<C?(console.log(` Versuch ${M}/${C}: Rows noch nicht da, warte...`),setTimeout(X,200)):console.error(" Climate rows nicht gefunden nach 10 Versuchen!"))},q=setTimeout(X,100);return()=>{clearTimeout(q),S.current&&S.current.querySelectorAll(".climate-settings-table .clickable-row").forEach(ee=>{ee._clickHandler&&(ee.removeEventListener("click",ee._clickHandler),delete ee._clickHandler,console.log(" Event-Listener entfernt von Row:",ee.getAttribute("data-line")))})}},[g]),r("div",{ref:S,className:`climate-schedule-settings ${g?"visible":""}`,children:[r("style",{children:`
        .climate-schedule-settings {
          opacity: 0;
          transform: translateY(10px);
          transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
          position: relative;
          z-index: 10;
        }

        .climate-schedule-settings.visible {
          opacity: 1;
          transform: translateY(0);
        }

        /* Reuse existing picker styles from ScheduleTab */
        .climate-settings-table {
          margin-top: 0;
          margin-bottom: 0;
          background: transparent;
          border-radius: 0;
          overflow: visible;
          position: relative;
          z-index: 10;
        }

        .climate-settings-table table { 
          width: 100%; 
          font-size: 15px;
          border-collapse: collapse;
          font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
          letter-spacing: normal;
        }
        
        .climate-settings-table table th { 
          text-align: left; 
          font-weight: 500;
          height: 45px; 
          border-bottom: 1px solid rgba(255, 255, 255, 0.1); 
          padding: 0 16px; 
          cursor: pointer; 
          color: rgba(255, 255, 255, 0.95);
          letter-spacing: normal;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }
        
        .climate-settings-table table td { 
          text-align: right; 
          font-weight: 500;
          color: rgba(255, 255, 255, 0.7);
          border-bottom: 1px solid rgba(255, 255, 255, 0.1); 
          padding: 0 16px; 
          cursor: pointer;
          letter-spacing: normal;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }

        /* Last row without border */
        .climate-settings-table tr[data-line]:last-of-type th,
        .climate-settings-table tr[data-line]:last-of-type td {
          border-bottom: none !important;
        }

        .climate-settings-table table td.picker { 
          border: none; 
          cursor: default; 
          padding: 0; 
        }

        div.climate-picker { 
          display: none; 
          overflow: hidden; 
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Last picker without border */
        .climate-settings-table tr:last-child td.picker div.climate-picker {
          border-bottom: none !important;
        }

        .clickable-row { 
          cursor: pointer;
          position: relative;
          z-index: 10;
        }

        .picker-wrapper, .picker-wrapper * { 
          box-sizing: border-box; 
          -webkit-user-select: none; 
          user-select: none; 
          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
        }

        .picker-wrapper { 
          text-align: center; 
          position: relative; 
          height: 210px; 
          display: inline-block; 
          line-height: 30px; 
          width: 100%; 
          font-size: 18px; 
          perspective: 1000px; 
          perspective-origin: center center; 
        }

        .picker-scroller { 
          transform: translateZ(-90px) rotateX(0deg); 
          transform-style: preserve-3d; 
          height: 100%; 
          will-change: transform; 
        }

        .picker-scroller .option { 
          position: absolute; 
          backface-visibility: hidden; 
          width: 100%; 
          color: rgba(255, 255, 255, 0.4); 
          transform-origin: 50% 50%; 
          transform-style: preserve-3d; 
          opacity: 1; 
          transition: opacity 0.2s, color 0.2s; 
          pointer-events: auto; 
        }

        .picker-scroller .option.is-hidden { 
          opacity: 0; 
          pointer-events: none; 
        }

        .picker-scroller .option.is-center { 
          color: rgba(255, 255, 255, 0.9); 
        }

        .picker-up { 
          position: absolute; 
          top: 0; 
          z-index: 2; 
          background: linear-gradient(to bottom, rgba(0, 0, 0, 0.25) 0%, rgba(0, 0, 0, 0) 100%); 
          width: 100%; 
          height: 90px; 
          border-bottom: 1px solid rgba(255, 255, 255, 0.3); 
          pointer-events: none; 
        }

        .picker-down { 
          position: absolute; 
          top: 120px; 
          z-index: 2; 
          background: linear-gradient(to top, rgba(0, 0, 0, 0.25) 0%, rgba(0, 0, 0, 0) 100%); 
          width: 100%; 
          height: 90px; 
          border-top: 1px solid rgba(255, 255, 255, 0.3); 
          pointer-events: none; 
        }

        .clone-scroller { 
          z-index: 5; 
          overflow: auto; 
          height: 100%; 
          position: absolute; 
          top: 0; 
          width: 100%; 
          padding-top: 90px; 
          padding-bottom: 90px; 
          scrollbar-width: none; 
          -ms-overflow-style: none; 
        }

        .clone-scroller::-webkit-scrollbar { 
          display: none; 
        }

        .clone-scroller .option { 
          visibility: hidden; 
        }
      `}),r("div",{className:"climate-settings-table",children:r("table",{children:r("tbody",{children:[r("tr",{className:"clickable-row","data-line":"1",children:[r("th",{children:te("climate.temperature",t)}),r("td",{className:"value-line-1",children:s!==null?`${s}${T}`:te("common.pleaseSelect",t)})]}),r("tr",{children:r("td",{className:"picker",colspan:"2",children:r("div",{className:"climate-picker",id:"climate-picker-container-line-1",children:r("div",{id:"climate-picker-line-1",ref:v.temperature})})})}),r("tr",{className:"clickable-row","data-line":"2",children:[r("th",{children:te("climate.hvacMode",t)}),r("td",{className:"value-line-2",children:a!==null?R(a):te("common.pleaseSelect",t)})]}),r("tr",{children:r("td",{className:"picker",colspan:"2",children:r("div",{className:"climate-picker",id:"climate-picker-container-line-2",children:r("div",{id:"climate-picker-line-2",ref:v.hvacMode})})})}),k&&r(ke,{children:[r("tr",{className:"clickable-row","data-line":"3",children:[r("th",{children:te("climate.fanMode",t)}),r("td",{className:"value-line-3",children:c!==null?j(c):te("common.pleaseSelect",t)})]}),r("tr",{children:r("td",{className:"picker",colspan:"2",children:r("div",{className:"climate-picker",id:"climate-picker-container-line-3",children:r("div",{id:"climate-picker-line-3",ref:v.fanMode})})})})]}),N&&r(ke,{children:[r("tr",{className:"clickable-row","data-line":"4",children:[r("th",{children:te("climate.swingMode",t)}),r("td",{className:"value-line-4",children:u!==null?z(u):te("common.pleaseSelect",t)})]}),r("tr",{children:r("td",{className:"picker",colspan:"2",children:r("div",{className:"climate-picker",id:"climate-picker-container-line-4",children:r("div",{id:"climate-picker-line-4",ref:v.swingMode})})})})]}),L&&r(ke,{children:[r("tr",{className:"clickable-row","data-line":"5",children:[r("th",{children:te("climate.presetMode",t)}),r("td",{className:"value-line-5",children:B(f)})]}),r("tr",{children:r("td",{className:"picker",colspan:"2",children:r("div",{className:"climate-picker",id:"climate-picker-container-line-5",children:r("div",{id:"climate-picker-line-5",ref:v.presetMode})})})})]})]})})})]})},P6=({activeTab:e,onTabChange:t,showPicker:n=!1,t:i})=>{const[s,o]=D({x:0,width:0}),a=oe(null);return Y(()=>{const l=()=>{if(a.current){const d=["all","timer","schedule"].indexOf(e),u=a.current.querySelectorAll(".filter-tab");if(u[d]){const h=u[d],f=a.current.getBoundingClientRect(),p=h.getBoundingClientRect(),g=p.left-f.left,m=p.width;o({x:Math.round(g),width:Math.round(m)})}}};return setTimeout(l,50),window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}},[e]),r("div",{ref:a,className:`scheduler-filter ${n?"hidden":""}`,children:[r(P.div,{className:"scheduler-filter-slider",animate:{x:s.x,width:s.width,scaleX:[1,1.12,.96,1.03,1],scaleY:[1,.94,1.06,.99,1]},transition:{x:{type:"spring",stiffness:280,damping:22,mass:1.5},width:{type:"spring",stiffness:280,damping:22,mass:1.5},scaleX:{duration:.6,times:[0,.2,.5,.8,1],ease:[.34,1.56,.64,1]},scaleY:{duration:.6,times:[0,.2,.5,.8,1],ease:[.34,1.56,.64,1]}}}),["all","timer","schedule"].map(l=>{const c=e===l;return r(P.button,{className:`filter-tab ${c?"active":""}`,onClick:()=>t(l),whileHover:c?{}:{scale:1.04},whileTap:c?{}:{scale:.96},transition:{duration:.2},children:i(l==="all"?"all":l==="timer"?"timer":"schedules")},l)})]})},I6=({item:e,index:t,onItemClick:n,onDelete:i,t:s})=>{const o=c=>c?.type==="timer"||c==="timer"?r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r("path",{d:"M12 12C15.866 12 19 8.86599 19 5H5C5 8.86599 8.13401 12 12 12ZM12 12C15.866 12 19 15.134 19 19H5C5 15.134 8.13401 12 12 12Z",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M5 2L12 2L19 2",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M5 22H12L19 22",strokeLinecap:"round",strokeLinejoin:"round"})]}):r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r("path",{d:"M9 2L15 2",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 10L12 14",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 22C16.4183 22 20 18.4183 20 14C20 9.58172 16.4183 6 12 6C7.58172 6 4 9.58172 4 14C4 18.4183 7.58172 22 12 22Z",strokeLinecap:"round",strokeLinejoin:"round"})]}),a=c=>{if(c.type==="timer")return`${s("atTime")} ${c.time} - ${s("remaining")} ${c.remaining} ${s("minutes")}`;if(c.days){const u=Array.isArray(c.days)?c.days.join(", "):c.days;return`${s("atTime")} ${c.time} - ${u}`}return`${s("atTime")} ${c.time}`},l=c=>{c.stopPropagation(),i(e)};return r(P.div,{className:"scheduler-item",onClick:()=>n(e),whileHover:{scale:1.02},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:t*.05},children:[r("div",{className:"item-icon",children:o(e)}),r("div",{className:"item-content",children:[r("div",{className:"item-name",children:[r("span",{children:e.action}),r("span",{className:`item-type ${e.type}`,children:e.type==="timer"?s("timer"):s("scheduleMode")})]}),r("div",{className:"item-time",children:a(e)})]}),r("div",{className:"item-actions",children:r("button",{className:"item-delete",onClick:l,children:r("svg",{width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"1.5",fill:"none",children:[r("path",{d:"M20 9L18.005 20.3463C17.8369 21.3026 17.0062 22 16.0353 22H7.96474C6.99379 22 6.1631 21.3026 5.99496 20.3463L4 9",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M21 6L15.375 6M3 6L8.625 6M8.625 6V4C8.625 2.89543 9.52043 2 10.625 2H13.375C14.4796 2 15.375 2.89543 15.375 4V6M8.625 6L15.375 6",strokeLinecap:"round",strokeLinejoin:"round"})]})})})]},e.id)},R6=({items:e,isLoading:t,activeTab:n,showPicker:i,onItemClick:s,onDelete:o,t:a})=>r("div",{className:`scheduler-items ${i?"hidden":""}`,children:t?r("div",{className:"scheduler-loading",children:r("div",{className:"loading-text",children:"Lade Scheduler..."})}):e.length===0?r("div",{className:"empty-state",children:[r("div",{className:"empty-icon",children:n==="timer"?"":n==="schedule"?"":""}),r("div",{children:a(n==="timer"?"noTimers":n==="schedule"?"noSchedules":"noEntries")})]}):e.map((l,c)=>r(I6,{item:l,index:c,onItemClick:s,onDelete:o,t:a},l.id))}),B6=({onClick:e,t})=>r("div",{className:"add-button-container",children:r(P.button,{className:"control-button",onClick:e,whileHover:{scale:1.04},whileTap:{scale:.96},transition:{duration:.2},children:[r("div",{className:"button-icon",children:r("svg",{width:"24",height:"24",strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",children:r("path",{d:"M6 12H12M18 12H12M12 12V6M12 12V18",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),r("span",{className:"button-text",children:t("add")})]})}),z6=({showPicker:e,schedulerValue:t,daysValue:n,editingItem:i,onCancel:s,onConfirm:o,t:a})=>{if(!e)return null;const l=t===a("timerMode")&&n===a("noDays"),c=!l&&n===a("noDays");return r("div",{className:"picker-actions",children:[r("button",{className:"picker-btn cancel",onClick:s,children:a("cancel")}),r("button",{className:`picker-btn confirm ${c?"disabled":""}`,onClick:async()=>{if(!c)try{await o(l,i)}catch(d){console.error(" Fehler:",d),alert(i?`Fehler beim Aktualisieren: ${d.message}`:`Fehler beim Erstellen: ${d.message}`)}},children:a(i?"save":"confirm")})]})},V6=({showPicker:e,editingItem:t,actionValue:n,showCoverSettings:i,coverPosition:s,schedulerValue:o,timeFormatValue:a,daysValue:l,repeatValue:c,timeValue:d,showClimateSettings:u,climateSettings:h,pickerKey:f,item:p,lang:g,pickerRefs:m,onRowClick:y,onClimateSettingsChange:b,t:v})=>e?r("div",{className:`picker-table-container ${t?"editing":""}`,children:r("table",{children:r("tbody",{children:[r("tr",{className:"clickable-row","data-line":"1",onClick:()=>y("1"),children:[r("th",{children:v("action")}),r("td",{className:"value-line-1",children:n})]}),r("tr",{children:r("td",{className:"picker",colspan:"2",children:r("div",{className:"picker",id:"picker-container-line-1",children:r("div",{id:"picker-line-1",ref:m.action})})})}),i&&r(ke,{children:[r("tr",{className:"clickable-row","data-line":"2",onClick:()=>y("2"),children:[r("th",{children:v("position")}),r("td",{className:"value-line-2",children:[s,"%"]})]}),r("tr",{children:r("td",{className:"picker",colspan:"2",children:r("div",{className:"picker",id:"picker-container-line-2",children:r("div",{id:"picker-line-2",ref:m.position})})})})]}),r("tr",{className:"clickable-row","data-line":"3",onClick:()=>y("3"),children:[r("th",{children:v("scheduler")}),r("td",{className:"value-line-3",children:o})]}),r("tr",{children:r("td",{className:"picker",colspan:"2",children:r("div",{className:"picker",id:"picker-container-line-3",children:r("div",{id:"picker-line-3",ref:m.scheduler})})})}),r("tr",{className:"clickable-row schedule-option","data-line":"4",style:{display:o===v("timerMode")?"none":"table-row"},onClick:()=>y("4"),children:[r("th",{children:v("timeFormat")}),r("td",{className:"value-line-4",children:a})]}),r("tr",{className:"schedule-option",style:{display:o===v("timerMode")?"none":"table-row"},children:r("td",{className:"picker",colspan:"2",children:r("div",{className:"picker",id:"picker-container-line-4",children:r("div",{id:"picker-line-4",ref:m.timeFormat})})})}),r("tr",{className:"clickable-row schedule-option","data-line":"5",style:{display:o===v("timerMode")?"none":"table-row"},onClick:()=>y("5"),children:[r("th",{children:v("days")}),r("td",{className:"value-line-5",children:l})]}),r("tr",{className:"schedule-option",style:{display:o===v("timerMode")?"none":"table-row"},children:r("td",{className:"picker",colspan:"2",children:r("div",{className:"picker",id:"picker-container-line-5",children:r("div",{id:"picker-line-5",ref:m.days})})})}),r("tr",{className:"clickable-row schedule-option","data-line":"6",style:{display:o===v("timerMode")?"none":"table-row"},onClick:()=>y("6"),children:[r("th",{children:v("repeat")}),r("td",{className:"value-line-6",children:c})]}),r("tr",{className:"schedule-option",style:{display:o===v("timerMode")?"none":"table-row"},children:r("td",{className:"picker",colspan:"2",children:r("div",{className:"picker",id:"picker-container-line-6",children:r("div",{id:"picker-line-6",ref:m.repeat})})})}),r("tr",{className:"clickable-row","data-line":"7",onClick:()=>y("7"),children:[r("th",{id:"time-label",children:o===v("timerMode")?v("timerMode"):v("scheduleMode")}),r("td",{className:"value-line-7",children:d})]}),r("tr",{children:r("td",{className:"picker",colspan:"2",children:r("div",{className:"picker",id:"picker-container-line-7",children:r("div",{className:"time-picker-container",children:[r("div",{id:"picker-line-6-hours",ref:m.hoursRef}),r("div",{className:"time-picker-separator",children:r("svg",{viewBox:"0 0 10 20",xmlns:"http://www.w3.org/2000/svg",children:[r("circle",{cx:"5",cy:"5",r:"2.5"}),r("circle",{cx:"5",cy:"15",r:"2.5"})]})}),r("div",{id:"picker-line-6-minutes",ref:m.minutesRef})]})})})}),u&&r("tr",{children:r("td",{colspan:"2",style:{padding:0,border:"none"},children:r(F6,{item:p,lang:g,initialSettings:h,onSettingsChange:b},f)})})]})})}):null,O6=e=>{const{hass:t}=Qt(),n=!t,i=oe(t);Y(()=>{i.current=t},[t]);const[s,o]=D([]),[a,l]=D([]),[c,d]=D(!0),[u,h]=D(0),f=Ie(async()=>{if(!e||!e.entity_id){console.warn("useScheduleData: No item or entity_id provided");return}d(!0);try{let m;if(n?(console.log(" Development-Modus: Generiere Mock-Schedules fr",e.entity_id),m=R_(e)):(console.log(" Production-Modus: Lade echte HA-Schedules fr",e.entity_id),m=await P_(i.current,e.entity_id)),m&&m.length>0){const y=B_(m,e.entity_id,e.domain);console.log(" Schedule-Daten geladen:",{schedules:y.activeSchedules.length,timers:y.activeTimers.length,stats:y.stats}),l(y.activeSchedules),o(y.activeTimers)}else console.warn(" Keine Schedules gefunden fr",e.entity_id),l([]),o([]);d(!1)}catch(m){console.error(" Fehler beim Laden der Schedules:",m),l([]),o([]),d(!1)}},[e?.entity_id,n]);Y(()=>{console.log(" useScheduleData: Loading data...",{item:e,hass:t,isDevelopment:n}),f()},[f,u]),Y(()=>{if(s.length===0)return;const m=setInterval(()=>{console.log(" Auto-Update: Lade Timer neu"),f()},6e4);return()=>clearInterval(m)},[s.length,f]);const p=Ie(async m=>{if(m.type==="timer"?o(y=>y.filter(b=>b.id!==m.id)):l(y=>y.filter(b=>b.id!==m.id)),!n&&i.current)try{await z_(i.current,m.id),setTimeout(()=>f(),500)}catch(y){console.error(" Fehler beim Lschen:",y)}},[n,f]),g=Ie(()=>{h(m=>m+1)},[]);return{timers:s,schedules:a,isLoading:c,refresh:g,deleteItem:p,setTimers:o,setSchedules:l}},W6=(e,t)=>{switch(t.type){case"SET_ACTION":return{...e,actionValue:t.payload};case"SET_SCHEDULER":return{...e,schedulerValue:t.payload};case"SET_TIME_FORMAT":return{...e,timeFormatValue:t.payload};case"SET_DAYS":return{...e,daysValue:t.payload};case"SET_REPEAT":return{...e,repeatValue:t.payload};case"SET_TIME":return{...e,timeValue:t.payload};case"SET_EDITING_ITEM":return{...e,editingItem:t.payload};case"SET_CLIMATE_SETTINGS":return{...e,climateSettings:t.payload,showClimateSettings:Object.keys(t.payload).length>0};case"SET_COVER_POSITION":return{...e,coverPosition:t.payload};case"SET_SHOW_CLIMATE_SETTINGS":return{...e,showClimateSettings:t.payload};case"SET_SHOW_COVER_SETTINGS":return{...e,showCoverSettings:t.payload};case"INCREMENT_PICKER_KEY":return{...e,pickerKey:e.pickerKey+1};case"RESET_FORM":const n=t.payload?.isCover,i=t.payload?.isClimate,s=t.payload?.t;return{...e,actionValue:s(n?"open":"turnOn"),schedulerValue:s("timerMode"),timeFormatValue:s("format24h"),daysValue:s("noDays"),repeatValue:s("once"),timeValue:"00:00",editingItem:null,climateSettings:{},coverPosition:50,showClimateSettings:i,showCoverSettings:!1,pickerKey:e.pickerKey+1};case"LOAD_EDIT_DATA":return{...e,editingItem:t.payload.item,actionValue:t.payload.actionValue,schedulerValue:t.payload.schedulerValue,timeValue:t.payload.timeValue,daysValue:t.payload.daysValue,climateSettings:t.payload.climateSettings||{},showClimateSettings:t.payload.showClimateSettings||!1,coverPosition:t.payload.coverPosition||50,showCoverSettings:t.payload.showCoverSettings||!1};default:return e}},H6=(e="de",t)=>{const n=Ie(l=>te(`schedule.${l}`,e),[e]),i={actionValue:t?.domain==="cover"?n("open"):n("turnOn"),schedulerValue:n("timerMode"),timeFormatValue:n("format24h"),daysValue:n("noDays"),repeatValue:n("once"),timeValue:"00:00",editingItem:null,showClimateSettings:t?.domain==="climate",climateSettings:{},showCoverSettings:!1,coverPosition:50,pickerKey:0},[s,o]=Dm(W6,i),a={setAction:Ie(l=>{o({type:"SET_ACTION",payload:l})},[]),setScheduler:Ie(l=>{o({type:"SET_SCHEDULER",payload:l})},[]),setTimeFormat:Ie(l=>{o({type:"SET_TIME_FORMAT",payload:l})},[]),setDays:Ie(l=>{o({type:"SET_DAYS",payload:l})},[]),setRepeat:Ie(l=>{o({type:"SET_REPEAT",payload:l})},[]),setTime:Ie(l=>{o({type:"SET_TIME",payload:l})},[]),setEditingItem:Ie(l=>{o({type:"SET_EDITING_ITEM",payload:l})},[]),setClimateSettings:Ie(l=>{o({type:"SET_CLIMATE_SETTINGS",payload:l})},[]),setCoverPosition:Ie(l=>{o({type:"SET_COVER_POSITION",payload:l})},[]),setShowClimateSettings:Ie(l=>{o({type:"SET_SHOW_CLIMATE_SETTINGS",payload:l})},[]),setShowCoverSettings:Ie(l=>{o({type:"SET_SHOW_COVER_SETTINGS",payload:l})},[]),incrementPickerKey:Ie(()=>{o({type:"INCREMENT_PICKER_KEY"})},[]),resetForm:Ie(()=>{o({type:"RESET_FORM",payload:{isCover:t?.domain==="cover",isClimate:t?.domain==="climate",t:n}})},[t?.domain,n]),loadEditData:Ie(l=>{o({type:"LOAD_EDIT_DATA",payload:l})},[])};return{...s,...a}},$p=e=>{const[t,n]=e.split(":").map(h=>parseInt(h)),i=t*60+n,s=new Date,o=new Date(s.getTime()+i*6e4),a=o.getHours().toString().padStart(2,"0"),l=o.getMinutes().toString().padStart(2,"0"),c=`${a}:${l}`,u=["sun","mon","tue","wed","thu","fri","sat"][o.getDay()];return{timeString:c,weekday:u,debug:{now:`${s.getHours()}:${s.getMinutes()}`,countdown:`${t}h ${n}min`,target:c,weekday:u}}},jp=(e,t,n)=>e===t("noDays")?[]:e===t("daily")?["daily"]:e===t("weekdays")?["mon","tue","wed","thu","fri"]:e===t("weekend")?["sat","sun"]:e.split(", ").map(i=>({[t("monday")]:"mon",[t("tuesday")]:"tue",[t("wednesday")]:"wed",[t("thursday")]:"thu",[t("friday")]:"fri",[t("saturday")]:"sat",[t("sunday")]:"sun"})[i]||i.toLowerCase().slice(0,3)),$6=(e,t,n,i,s)=>{if(!e.current)return null;let o,a;return n?(o=[i("open"),i("close"),i("setPosition")],a=t===i("open")?0:t===i("close")?1:t===i("setPosition")?2:0):(o=[i("turnOn"),i("turnOff")],a=t===i("turnOn")?0:1),new lt(e.current,{data:o,lineHeight:30,selected:a,callback:(l,c)=>s(c)})},j6=(e,t,n)=>{if(!e.current)return null;const i=["0%","10%","20%","30%","40%","50%","60%","70%","80%","90%","100%"],s=i.indexOf(`${t}%`);return new lt(e.current,{data:i,lineHeight:30,selected:s>=0?s:5,callback:(o,a)=>{const l=parseInt(a);n(l)}})},U6=(e,t,n,i,s)=>{if(!e.current)return null;const o=t===n("timerMode")?0:1;return new lt(e.current,{data:[n("timerMode"),n("scheduleMode")],lineHeight:30,selected:o,callback:(a,l)=>{i(l),s(l===n("timerMode")?"Timer":"Schedule")}})},G6=(e,t,n,i)=>e.current?new lt(e.current,{data:[t("formatAM"),t("formatPM"),t("format24h")],lineHeight:30,selected:2,callback:(s,o)=>{if(n(o),i.current){const a=o===t("format24h")?"24h":o===t("formatAM")?"AM":"PM";i.current.setHourMode(a)}}}):null,K6=(e,t,n,i)=>{if(!e.current)return null;const s=new l4(e.current,{data:t,lineHeight:30,selectedDays:[],callback:(o,a)=>{let l=n("noDays");o.length===7?l=n("daily"):o.length===5&&o.every(c=>t.slice(0,5).includes(c))?l=n("weekdays"):o.length===2&&o.every(c=>t.slice(5,7).includes(c))?l=n("weekend"):o.length>0&&(l=o.join(", ")),i(l)}});return s.updateButtonState=function(){const o=this.data[this.currentIndex];this.selectedDays.includes(o)?(this.selectButton.textContent=n("deselectDay"),this.selectButton.classList.add("deselect")):(this.selectButton.textContent=n("selectDay"),this.selectButton.classList.remove("deselect")),this.selectButton.classList.remove("is-hidden")},s},q6=(e,t,n)=>e.current?new lt(e.current,{data:[t("regular"),t("once")],lineHeight:30,selected:1,callback:(i,s)=>n(s)}):null,Y6=(e,t,n,i)=>{if(!e.current||!t.current)return null;const[s,o]=n?n.split(":"):["00","00"];return new F1(e.current,t.current,{minuteStep:5,initialHour:s||"00",initialMinute:o||"00",lineHeight:30,hourMode:"24h",callback:(a,l,c)=>i(c)})},Xs=(e,t,n,i,s)=>{if(e?.domain==="climate"&&t===s("turnOn")&&Object.keys(n).length>0)return{service:"climate.set_temperature",entity_id:e.entity_id,service_data:n};if(e?.domain==="cover"){if(t===s("open"))return{service:"cover.open_cover",entity_id:e.entity_id};if(t===s("close"))return{service:"cover.close_cover",entity_id:e.entity_id};if(t===s("setPosition"))return{service:"cover.set_cover_position",entity_id:e.entity_id,service_data:{position:i}}}return{service:t===s("turnOn")?`${e.domain}.turn_on`:`${e.domain}.turn_off`,entity_id:e.entity_id}},Z6=(e,t,n,i,s,o)=>{t==="open_cover"?n(o("open")):t==="close_cover"?n(o("close")):t==="set_cover_position"&&(n(o("setPosition")),e.serviceData?.position!==void 0?(console.log(" Lade Cover-Position:",e.serviceData.position),i(e.serviceData.position)):i(50),s(!0))},X6=(e,t,n,i,s,o)=>{n(o(t==="set_temperature"?"turnOn":"turnOff")),e.serviceData&&Object.keys(e.serviceData).length>0?(console.log(" Lade Climate-Settings:",e.serviceData),i(e.serviceData),s(!0)):(i({}),s(!1))},J6=(e,t,n)=>{t(n(e==="turn_on"?"turnOn":"turnOff"))},Q6=(e,t,n,i,s)=>{t(s("timerMode"));const o=Math.floor(e.remaining/60),a=e.remaining%60,l=`${o.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`;n(l),i(s("noDays"))},e8=(e,t,n,i,s,o)=>{if(t(o("scheduleMode")),n(e.time),e.days)i(e.days);else if(e.daysRaw){const a=s();e.daysRaw.length===7?i(o("daily")):e.daysRaw.length===5&&e.daysRaw.every(l=>a.slice(0,5).includes(l))?i(o("weekdays")):e.daysRaw.length===2&&e.daysRaw.every(l=>a.slice(5,7).includes(l))?i(o("weekend")):e.daysRaw.length>0?i(e.daysRaw.join(", ")):i(o("noDays"))}else i(o("noDays"))},t8=(e,t)=>({heat:te("ui.climate.heat",t),cool:te("ui.climate.cool",t),auto:te("ui.climate.auto",t),dry:te("ui.climate.dry",t),fan_only:te("ui.climate.fanOnly",t),off:te("ui.climate.off",t)})[e]||e,n8=(e,t,n,i,s,o)=>{const a=e?.area||e?.name||e?.friendly_name||e?.attributes?.friendly_name||e?.entity_id?.split(".")[1]?.replace(/_/g," ")||"Gert";if(e?.domain==="climate"&&Object.keys(n).length>0){const l=t8(n.hvac_mode,s),c=n.temperature;return`${a} / ${l} / ${c}C`}else return e?.domain==="cover"&&t===o("setPosition")?`${a} / ${o("position")} ${i}%`:`${a} / ${t}`},i8=({item:e,onTimerCreate:t,onScheduleCreate:n,lang:i="de"})=>{const{hass:s}=Qt(),o=!s,{timers:a,schedules:l,isLoading:c,refresh:d,deleteItem:u}=O6(e),{actionValue:h,schedulerValue:f,timeFormatValue:p,daysValue:g,repeatValue:m,timeValue:y,editingItem:b,showClimateSettings:v,climateSettings:w,showCoverSettings:S,coverPosition:x,pickerKey:k,setAction:N,setScheduler:L,setTimeFormat:_,setDays:I,setRepeat:T,setTime:R,setEditingItem:j,setClimateSettings:z,setCoverPosition:B,setShowClimateSettings:V,setShowCoverSettings:A,resetForm:F}=H6(i,e);console.log(" SCHEDULETAB RENDERED ",{item:e,hass:s,isDevelopment:o});const M=oe(s);Y(()=>{M.current=s},[s]);const[C,X]=D("all"),[q,E]=D(null),[ee,ue]=D(!1),[K,Q]=D(!1),ie=W=>te(`schedule.${W}`,i),se=()=>[ie("monday"),ie("tuesday"),ie("wednesday"),ie("thursday"),ie("friday"),ie("saturday"),ie("sunday")];Y(()=>{const W=setTimeout(()=>Q(!0),50);return()=>clearTimeout(W)},[]),Y(()=>{const W=e?.domain==="climate",Z=h===ie("turnOn");V(W&&Z),Z||z({})},[h,e?.domain]),Y(()=>{const W=e?.domain==="cover",Z=h===ie("setPosition");A(W&&Z),Z||B(50)},[h,e?.domain]);const xe=()=>{F(),E(null),ue(!1),console.log(" Alle Picker-States zurckgesetzt + Picker neu gemountet")},we={action:oe(null),position:oe(null),scheduler:oe(null),timeFormat:oe(null),days:oe(null),repeat:oe(null),hoursRef:oe(null),minutesRef:oe(null)},_e=oe({}),H=oe(null),U=oe(null),J=()=>C==="all"?[...a,...l]:C==="timer"?a:l;Y(()=>{if(!ee){_e.current={};return}const W=()=>{Object.keys(we).forEach(de=>{we[de].current?._pickerInstance&&(we[de].current._pickerInstance=null)}),H.current&&(H.current=null)},Z=setTimeout(()=>{const de=se(),me=e?.domain==="cover";if(!_e.current.action){const ve=$6(we.action,h,me,ie,N);ve&&(we.action.current._pickerInstance=ve,_e.current.action=!0)}if(!_e.current.position&&S){const ve=j6(we.position,x,B);ve&&(we.position.current._pickerInstance=ve,_e.current.position=!0)}if(!_e.current.scheduler){const ve=U6(we.scheduler,f,ie,L,re);ve&&(we.scheduler.current._pickerInstance=ve,_e.current.scheduler=!0)}if(!_e.current.timeFormat){const ve=G6(we.timeFormat,ie,_,H);ve&&(we.timeFormat.current._pickerInstance=ve,_e.current.timeFormat=!0)}if(!_e.current.days){const ve=K6(we.days,de,ie,I);ve&&(we.days.current._pickerInstance=ve,_e.current.days=!0)}if(!_e.current.repeat){const ve=q6(we.repeat,ie,T);ve&&(we.repeat.current._pickerInstance=ve,_e.current.repeat=!0)}if(!_e.current.time){const ve=Y6(we.hoursRef,we.minutesRef,y,R);ve&&(H.current=ve,_e.current.time=!0)}},100);return()=>{clearTimeout(Z),W()}},[ee,i,h,f,y]);const re=W=>{if(!U.current)return;const Z=W==="Timer";U.current.querySelectorAll(".schedule-option").forEach(ve=>{ve.style.display=Z?"none":"table-row"});const me=U.current.querySelector("#time-label");me&&(me.textContent=ie(Z?"timerMode":"scheduleMode")),Z&&H.current&&(H.current.selectedHour="00",H.current.selectedMinute="00",H.current.hourMode="24h",H.current.reinitHours(),H.current.updateValue())},ae=W=>{if(!U.current)return;const Z=U.current.querySelector(`#picker-container-line-${W}`);if(!Z)return;const de=getComputedStyle(Z).display==="none";U.current.querySelectorAll("div.picker").forEach(ve=>{getComputedStyle(ve).display!=="none"&&ve!==Z&&be(ve,!1)}),be(Z,de)},be=(W,Z)=>{Z?(W.style.display="block",W.animate([{height:"0px",opacity:0,transform:"translateY(-3px)"},{height:"210px",opacity:1,transform:"translateY(0px)"}],{duration:150,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fill:"forwards"}).onfinish=()=>{W.style.height="210px",W.style.opacity="1"}):W.animate([{height:"210px",opacity:1,transform:"translateY(0px)"},{height:"0px",opacity:0,transform:"translateY(-3px)"}],{duration:120,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fill:"forwards"}).onfinish=()=>{W.style.display="none"}},fe=W=>{console.log(" Edit Item:",W.id),j(W);const Z=W.actionRaw?.includes(".")?W.actionRaw.split(".")[1]:W.action;W.domain==="cover"?Z6(W,Z,N,B,A,ie):W.domain==="climate"?X6(W,Z,N,z,V,ie):J6(Z,N,ie),W.type==="timer"?Q6(W,L,R,I,ie):e8(W,L,R,I,se,ie),setTimeout(()=>{_e.current.time=!1,ue(!0),setTimeout(()=>{if(H.current&&W.time){const[de,me]=W.time.split(":");console.log(" Setze Zeit:",{hour:de,minute:me}),H.current.setTime(de,me)}},250)},100)},G=W=>{u(W)},O=async(W,Z)=>{Z?(console.log(" UPDATE Item:",Z.id),W?await ne():await pe()):(j(null),W?await $():await le()),xe(),setTimeout(()=>d(),1e3)},$=async()=>{console.log(" Erstelle Timer...");const{timeString:W,weekday:Z,debug:de}=$p(y);console.log(" Timer-Berechnung:",de);const me=Xs(e,h,w,x,ie),ct=`Timer - ${e?.name||e?.friendly_name||e?.entity_id?.split(".")[1]?.replace(/_/g," ")||"Gert"} - ${W}`;await M.current.callService("scheduler","add",{weekdays:[Z],timeslots:[{start:W,actions:[me]}],name:ct,repeat_type:"single"}),console.log(" Timer erfolgreich erstellt!")},ne=async()=>{console.log(" Update Timer...");const{timeString:W,weekday:Z,debug:de}=$p(y);console.log(" Timer-Berechnung:",de);const me=Xs(e,h,w,x,ie);await M.current.callService("scheduler","edit",{entity_id:b.id,weekdays:[Z],timeslots:[{start:W,actions:[me]}],name:n8(e,h,w,x,i,ie),repeat_type:"single"}),console.log(" Timer aktualisiert!")},le=async()=>{console.log(" Erstelle Schedule..."),se();const W=jp(g,ie),Z=Xs(e,h,w,x,ie),de=e?.name||e?.friendly_name||e?.entity_id?.split(".")[1]?.replace(/_/g," ")||"Gert",me=W.map(ct=>ct.toUpperCase()).join(","),ve=`Zeitplan - ${de} - ${me} - ${y}`;console.log(" Schedule-Daten:",{weekdays:W,time:y,name:ve,action:Z}),await M.current.callService("scheduler","add",{weekdays:W,timeslots:[{start:y,actions:[Z]}],name:ve,repeat_type:m===ie("once")?"single":"repeat"}),console.log(" Schedule erfolgreich erstellt!")},pe=async()=>{console.log(" Update Schedule..."),se();const W=jp(g,ie),Z=Xs(e,h,w,x,ie),me=`${e?.name||e?.friendly_name||e?.entity_id?.split(".")[1]?.replace(/_/g," ")||"Gert"} - ${y}`;await M.current.callService("scheduler","edit",{entity_id:b.id,weekdays:W,timeslots:[{start:y,actions:[Z]}],name:me,repeat_type:"repeat"}),console.log(" Schedule aktualisiert!")};return r("div",{ref:U,className:`scheduler-tab ${K?"visible":""}`,children:[r(P6,{activeTab:C,onTabChange:X,showPicker:ee,t:ie}),r(R6,{items:J(),isLoading:c,activeTab:C,showPicker:ee,onItemClick:fe,onDelete:G,t:ie}),!b&&!ee&&r(B6,{onClick:()=>ue(!0),t:ie}),r(V6,{showPicker:ee,editingItem:b,actionValue:h,showCoverSettings:S,coverPosition:x,schedulerValue:f,timeFormatValue:p,daysValue:g,repeatValue:m,timeValue:y,showClimateSettings:v,climateSettings:w,pickerKey:k,item:e,lang:i,pickerRefs:we,onRowClick:ae,onClimateSettingsChange:W=>{z({...w,...W})},t:ie}),r(z6,{showPicker:ee,schedulerValue:f,daysValue:g,editingItem:b,onCancel:xe,onConfirm:O,t:ie})]})},r8={wohnzimmer:["wohnzimmer","living room","salon","living"],schlafzimmer:["schlafzimmer","bedroom","chambre","schlaf"],kche:["kche","kitchen","cuisine","kueche"],bad:["bad","bathroom","bain","badezimmer","bath"],bro:["bro","office","bureau","arbeitszimmer","buero"],flur:["flur","hallway","corridor","gang","hall"],garage:["garage"],garten:["garten","garden","jardin"],terrasse:["terrasse","terrace","patio"],keller:["keller","basement","cave","cellar"],kinderzimmer:["kinderzimmer","kids room","children","nursery"],esszimmer:["esszimmer","dining room","dining","essen"]},s8={"":["film","movie","kino","cinema","video"],"":["party","feier","celebration","fest"],"":["nacht","night","schlaf","sleep","evening"],"":["morgen","morning","aufwach","wake","sunrise"],"":["romantik","romantic","romance","love"],"":["arbeit","work","office","bro","buero"],"":["entspan","relax","chill","ruhe","cozy"],"":["essen","dinner","lunch","mahlzeit","meal"],"":["licht","light","lampe","lamp","beleuchtung"],"":["rollo","blind","shade","jalousie","curtain"],"":["heizung","heating","klima","climate","temperatur"],"":["media","tv","fernseh","television","entertainment"],"":["sonnenaufgang","sunrise","dawn","morgen"],"":["sonnenuntergang","sunset","dusk","abend"],"":["haus","home","zuhause","house"],"":["sicher","security","lock","alarm","secure"],"":["auto","car","vehicle","garage","fahrzeug"],"":["pflanze","plant","garten","garden","green"],"":["benachrichtigung","notification","alert","reminder"],"":["energie","energy","power","strom"],"":["musik","music","audio","sound"],"":["farbe","color","rgb","ambiance"],"":["feuer","fire","warm","heat"],"":["kalt","cold","cool","khlen"]},o8={scene:"",script:"",automation:""},ar={SAME_AREA:50,ENTITY_INVOLVED:30,SAME_DOMAIN:20,GLOBAL_ACTION_PENALTY:-20,BASE_SCORE:50},di={SUCCESS:"success",ERROR:"error",WARNING:"warning",INFO:"info"},D2="Kein Raum",a8="",l8=(e,t,n)=>({id:e.entity_id,name:e.attributes.friendly_name||e.entity_id.split(".")[1],type:e.domain,area:F2(e,n),state:e.state,icon:d8(e),entities:e.attributes.entity_id||[],last_triggered:e.attributes.last_triggered,relevance:c8(e,t,n)}),c8=(e,t,n)=>{let i=ar.BASE_SCORE;const s=F2(e,n),o=t.attributes?.area_id||t.area;return s&&o&&s===o&&(i+=ar.SAME_AREA),e.attributes.entity_id?.includes(t.entity_id)&&(i+=ar.ENTITY_INVOLVED),(e.attributes.entity_id?.map(l=>l.split(".")[0])||[]).includes(t.domain)&&(i+=ar.SAME_DOMAIN),(s==="Haus"||!s||s===D2)&&(i+=ar.GLOBAL_ACTION_PENALTY),Math.min(100,Math.max(0,i))},F2=(e,t=[])=>{if(e.attributes?.area_id)return e.attributes.area_id;if(e.area)return e.area;const n=(e.attributes?.friendly_name||"").toLowerCase();for(const[i,s]of Object.entries(r8))if(s.some(o=>n.includes(o)))return i.charAt(0).toUpperCase()+i.slice(1);if(e.attributes?.entity_id?.length>0){const i=e.attributes.entity_id[0],s=t.find(o=>o.entity_id===i);if(s?.attributes?.area_id)return s.attributes.area_id;if(s?.area)return s.area}return D2},d8=e=>{if(e.attributes?.icon)return e.attributes.icon;const t=(e.attributes?.friendly_name||"").toLowerCase();for(const[n,i]of Object.entries(s8))if(i.some(s=>t.includes(s)))return n;return o8[e.domain]||a8},u8=(e,t=[])=>t.some(n=>{try{return new RegExp("^"+n.replace(/\*/g,".*")+"$").test(e)}catch(i){return console.warn(`Invalid exclusion pattern: ${n}`,i),!1}}),h8=(e,t,n=0)=>e.filter(i=>i.relevance>=n).sort((i,s)=>{if(s.relevance!==i.relevance)return s.relevance-i.relevance;const o={scene:0,script:1,automation:2};return o[i.type]!==o[s.type]?o[i.type]-o[s.type]:i.name.localeCompare(s.name)}),P2=(e,t=di.INFO,n=3e3,i={})=>{console.log(" showToast called:",{message:e,type:t,duration:n,options:i});const s=document.createElement("div");s.className=`toast toast-${t}`,s.setAttribute("role","alert"),s.setAttribute("aria-live","polite");const o=f8(t);console.log(" Toast element created:",s),s.innerHTML=`
    <div class="toast-icon">${o}</div>
    <div class="toast-message">${p8(e)}</div>
    <button class="toast-close" aria-label="Schlieen"></button>
  `;const a=i.position||"top-center";s.classList.add(`toast-${a}`);const l=window.__fastSearchToastContainer||document.getElementById("toast-container")||document.body;console.log(" Toast container found:",l,"via:",window.__fastSearchToastContainer?"window ref":document.getElementById("toast-container")?"getElementById":"body fallback"),l.appendChild(s),console.log(" Toast appended to DOM, total toasts:",l.querySelectorAll(".toast").length),s.querySelector(".toast-close").addEventListener("click",()=>Ja(s)),requestAnimationFrame(()=>{s.classList.add("toast-visible")});const d=setTimeout(()=>{Ja(s)},n);return i.onClick&&(s.style.cursor="pointer",s.addEventListener("click",u=>{u.target.classList.contains("toast-close")||(i.onClick(),Ja(s))})),s._timeoutId=d,s},Ja=e=>{!e||!e.parentNode||(e._timeoutId&&clearTimeout(e._timeoutId),e.classList.remove("toast-visible"),e.classList.add("toast-hiding"),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},300))},f8=e=>({[di.SUCCESS]:"",[di.ERROR]:"",[di.WARNING]:"",[di.INFO]:""})[e]||"",p8=e=>{const t=document.createElement("div");return t.textContent=e,t.innerHTML},Qa=(e,t=3e3,n={})=>P2(e,di.SUCCESS,t,n),Up=(e,t=3e3,n={})=>P2(e,di.ERROR,t,n),m8=e=>{const t=e.area||"Wohnzimmer",n=e.entity_id,i=[{id:"scene.filmabend",name:"Filmabend",area:"Wohnzimmer",icon:"",entities:["light.wohnzimmer","media_player.tv","cover.wohnzimmer"]},{id:"scene.romantik",name:"Romantik",area:"Schlafzimmer",icon:"",entities:["light.schlafzimmer","light.nachttisch"]},{id:"scene.party",name:"Party",area:"Alle Rume",icon:"",entities:["light.*","media_player.*"]},{id:"scene.gute_nacht",name:"Gute Nacht",area:"Haus",icon:"",entities:["light.*","cover.*","lock.*"]},{id:"scene.aufwachen",name:"Aufwachen",area:"Schlafzimmer",icon:"",entities:["light.schlafzimmer","cover.schlafzimmer","climate.schlafzimmer"]},{id:"scene.arbeiten",name:"Arbeiten",area:"Bro",icon:"",entities:["light.buero","climate.buero"]},{id:"scene.entspannen",name:"Entspannen",area:"Wohnzimmer",icon:"",entities:["light.wohnzimmer","media_player.tv"]}],s=[{id:"script.alle_lichter_aus",name:"Alle Lichter aus",area:"Haus",icon:"",entities:["light.*"]},{id:"script.rollos_schliessen",name:"Rolllden schlieen",area:"Haus",icon:"",entities:["cover.*"]},{id:"script.heizung_nachtmodus",name:"Heizung Nachtmodus",area:"Haus",icon:"",entities:["climate.*"]},{id:"script.multimedia_aus",name:"Multimedia aus",area:"Haus",icon:"",entities:["media_player.*"]},{id:"script.morgenroutine",name:"Morgenroutine",area:"Haus",icon:"",entities:["light.*","cover.*","climate.*"]}],o=[{id:"automation.motion_lights",name:"Bewegungslicht",area:t,icon:"",entities:[`light.${t.toLowerCase()}`,"binary_sensor.motion_*"]},{id:"automation.sunrise",name:"Sonnenaufgang Simulation",area:"Haus",icon:"",entities:["light.*","cover.*"]},{id:"automation.vacation",name:"Urlaubsmodus",area:"Haus",icon:"",entities:["light.*","cover.*","climate.*"]},{id:"automation.energy_saving",name:"Energiesparmodus",area:"Haus",icon:"",entities:["light.*","climate.*","media_player.*"]}],a=c=>c.area===t||c.area==="Haus"||c.area==="Alle Rume"?!0:c.entities.some(d=>{if(d===n)return!0;if(d.endsWith("*")){const u=d.slice(0,-1);return n.startsWith(u)}return!1});return[...i.filter(a).map(c=>({...c,type:"scene",relevance:c.area===t?100:50})),...s.filter(a).map(c=>({...c,type:"script",relevance:c.entities.includes(n)?90:40})),...o.filter(a).map(c=>({...c,type:"automation",relevance:c.area===t?80:30}))].sort((c,d)=>d.relevance!==c.relevance?d.relevance-c.relevance:c.name.localeCompare(d.name))},g8=(e,t)=>{const n=(e.attributes?.friendly_name||e.name||"").toLowerCase(),i=(t.attributes?.friendly_name||t.name||"").toLowerCase(),s=e.domain,o=t.domain;return!!(o==="climate"&&(s==="sensor"||s==="binary_sensor")&&(n.includes("temperatur")||n.includes("temperature")||n.includes("luftfeuchtigkeit")||n.includes("humidity")||n.includes("fenster")||n.includes("window"))||o==="media_player"&&s==="media_player"&&(i.includes("tv")&&n.includes("soundbar")||i.includes("soundbar")&&n.includes("tv"))||o==="light"&&s==="binary_sensor"&&(n.includes("bewegung")||n.includes("motion"))||o==="cover"&&s==="binary_sensor"&&(n.includes("fenster")||n.includes("window")))},y8=(e,t)=>Re(()=>{if(!e||e.length===0)return[];const n=t.area||"Wohnzimmer",i=t.entity_id;return e.filter(l=>!(l.entity_id===i||["scene","script","automation"].includes(l.domain)||l.domain==="settings")).map(l=>{let c=0;return l.area===n&&(c+=100),g8(l,t)&&(c+=80),l.floor_id&&l.floor_id===t.floor_id&&(c+=30),l.entity_id.includes(i.split(".")[1])&&(c+=60),{...l,relevance:c}}).filter(l=>l.relevance>=30).sort((l,c)=>c.relevance!==l.relevance?c.relevance-l.relevance:(l.attributes?.friendly_name||l.name||"").localeCompare(c.attributes?.friendly_name||c.name||"")).slice(0,10)},[e,t.entity_id,t.area,t.floor_id]),v8=({type:e})=>{switch(e){case"scene":return r("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r("rect",{width:"7",height:"5",rx:"0.6",transform:"matrix(0 -1 -1 0 22 21)",stroke:"currentColor",strokeWidth:"1.5"}),r("rect",{width:"7",height:"5",rx:"0.6",transform:"matrix(0 -1 -1 0 7 15.5)",stroke:"currentColor",strokeWidth:"1.5"}),r("rect",{width:"7",height:"5",rx:"0.6",transform:"matrix(0 -1 -1 0 22 10)",stroke:"currentColor",strokeWidth:"1.5"}),r("path",{d:"M17 17.5H13.5C12.3954 17.5 11.5 16.6046 11.5 15.5V8.5C11.5 7.39543 12.3954 6.5 13.5 6.5H17",stroke:"currentColor",strokeWidth:"1.5"}),r("path",{d:"M11.5 12H7",stroke:"currentColor",strokeWidth:"1.5"})]});case"script":return r("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r("path",{d:"M3.5 6.00398C3.5 7.80795 6.35714 9 11.5 9C18.5 9 19.5 6.00398 19.5 6.00398C19.5 6.00398 18.5 3 11.5 3C6.35714 3 3.5 4.2 3.5 6.00398Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M3.5 12.004C3.5 13.808 6.35714 15 11.5 15C18.5 15 19.5 12.004 19.5 12.004C19.5 12.004 18.5 9 11.5 9C6.35714 9 3.5 10.2 3.5 12.004Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M3.5 18.004C3.5 19.808 6.35714 21 11.5 21C18.5 21 19.5 18.004 19.5 18.004C19.5 18.004 18.5 15 11.5 15C6.35714 15 3.5 16.2 3.5 18.004Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M19.5 12C19.5 12 20.5 11.025 20.5 9C20.5 6.975 19.5 6 19.5 6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M20.5 4C20.5 5.35 19.5 6 19.5 6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M19.5 18C19.5 18 20.5 17.025 20.5 15C20.5 12.975 19.5 12 19.5 12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M20.5 20C20.5 18.65 19.5 18 19.5 18",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]});case"automation":return r("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r("path",{d:"M6 20.5C7 11 11.5 8 20 6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M15.9086 3.80941L20.3946 5.90126L18.3028 10.3873",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M5 7C6.10457 7 7 6.10457 7 5C7 3.89543 6.10457 3 5 3C3.89543 3 3 3.89543 3 5C3 6.10457 3.89543 7 5 7Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M16 20.2426L18.1213 18.1213M18.1213 18.1213L20.2426 16M18.1213 18.1213L16 16M18.1213 18.1213L20.2426 20.2426",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]});default:return null}},b8=({item:e,index:t,favorites:n,onToggleFavorite:i,onActionExecute:s,onActionNavigate:o})=>{const a=e.type&&["scene","script","automation"].includes(e.type);return r(P.div,{className:"action-item",style:{cursor:"pointer"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},whileTap:{scale:.98},transition:{opacity:{duration:.3,delay:t*.05},y:{duration:.3,delay:t*.05},scale:{duration:.2}},onClick:()=>{o&&o(e)},children:[r("div",{className:"action-type-icon",children:a?r(v8,{type:e.type}):""}),r("div",{className:"action-content",children:[r("div",{className:"action-name",children:e.attributes?.friendly_name||e.name}),r("div",{className:"action-meta",children:a?r(ke,{children:[r("span",{className:`action-type ${e.type}`,children:e.type}),r("span",{className:"action-area",children:e.area})]}):r(ke,{children:[r("span",{className:"action-type",style:{background:"rgb(94, 92, 230)",border:"1px solid rgba(94, 92, 230, 0.5)"},children:e.domain}),e.state&&r("span",{className:"action-area",children:e.state})]})})]}),r("div",{className:"action-buttons",children:[a&&e.type!=="automation"&&r(P.button,{className:"action-execute-btn",onClick:l=>{l.stopPropagation(),s?.(e);const c=l.currentTarget;c.style.boxShadow="0 0 25px rgba(48, 209, 88, 0.8), 0 0 50px rgba(48, 209, 88, 0.5)",setTimeout(()=>{c.style.boxShadow=""},300)},whileHover:{scale:1.1},whileTap:{scale:.9},transition:{duration:.15},children:r("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r("path",{d:"M12 2V6",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 18V22",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M22 12H18",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M6 12H2",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M4.92896 4.92896L7.75738 7.75738",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M16.2427 16.2427L19.0711 19.0711",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M19.071 4.92896L16.2426 7.75738",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M7.75732 16.2427L4.9289 19.0711",strokeLinecap:"round",strokeLinejoin:"round"})]})}),r(P.button,{className:`action-favorite-btn ${n.has(e.id||e.entity_id)?"active":""}`,onClick:l=>{l.stopPropagation(),i(e.id||e.entity_id)},whileHover:{scale:1.05},whileTap:{scale:.95},transition:{duration:.2},children:r("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinejoin:"round",children:r("path",{d:"M22 8.86222C22 10.4087 21.4062 11.8941 20.3458 12.9929C17.9049 15.523 15.5374 18.1613 13.0053 20.5997C12.4249 21.1505 11.5042 21.1304 10.9488 20.5547L3.65376 12.9929C1.44875 10.7072 1.44875 7.01723 3.65376 4.73157C5.88044 2.42345 9.50794 2.42345 11.7346 4.73157L11.9998 5.00642L12.2648 4.73173C13.3324 3.6245 14.7864 3 16.3053 3C17.8242 3 19.2781 3.62444 20.3458 4.73157C21.4063 5.83045 22 7.31577 22 8.86222Z"})})})]})]},e.id||e.entity_id)},w8=({selectedFilter:e,onFilterChange:t,filterSelectorRef:n,sliderPosition:i,t:s})=>{const o=["actions","favorites","environment"];return r("div",{ref:n,className:"context-filter",children:[r(P.div,{className:"context-filter-slider",animate:{x:i.x,width:i.width,scaleX:[1,1.12,.96,1.03,1],scaleY:[1,.94,1.06,.99,1]},transition:{x:{type:"spring",stiffness:280,damping:22,mass:1.5},width:{type:"spring",stiffness:280,damping:22,mass:1.5},scaleX:{duration:.6,times:[0,.2,.5,.8,1],ease:[.34,1.56,.64,1]},scaleY:{duration:.6,times:[0,.2,.5,.8,1],ease:[.34,1.56,.64,1]}}}),o.map(a=>{const l=e===a;return r(P.button,{className:`filter-tab ${l?"active":""}`,onClick:()=>t(a),whileHover:l?{}:{scale:1.04},whileTap:l?{}:{scale:.96},transition:{duration:.2},children:s(a==="actions"?"tabActions":a==="favorites"?"tabFavorites":"tabEnvironment")},a)})]})},Gp=({item:e,onActionExecute:t,onActionNavigate:n,lang:i="de"})=>{const{favorites:s,toggleFavorite:o}=Qt(),[a]=Cd(),[l]=T1(),c=T=>te(`context.${T}`,i),[d,u]=D("actions"),[h,f]=D(!1),[p,g]=D([]),[m,y]=D(!1);oe(null);const[b,v]=D({x:0,width:0}),w=oe(null),S=window.location.hostname==="localhost";Y(()=>{console.log(S?"[ContextTab] Running in DEVELOPMENT mode - using Mock Data":"[ContextTab] Running in PRODUCTION mode - using Home Assistant Data")},[S]);const k={...{entity_id:"light.wohnzimmer",domain:"light",area:"Wohnzimmer",attributes:{friendly_name:"Wohnzimmer Licht"}},...e};Y(()=>{const T=()=>{if(w.current){const j=["actions","favorites","environment"].indexOf(d),z=w.current.querySelectorAll(".filter-tab");if(z[j]){const B=z[j],V=w.current.getBoundingClientRect(),A=B.getBoundingClientRect(),F=A.left-V.left,M=A.width;v({x:Math.round(F),width:Math.round(M)})}}};return setTimeout(T,50),window.addEventListener("resize",T),()=>{window.removeEventListener("resize",T)}},[d]),Y(()=>{const T=setTimeout(()=>f(!0),50);return()=>clearTimeout(T)},[]);const N=y8(a,k);Y(()=>{y(!0),S?setTimeout(()=>{const T=m8();g(T),y(!1)},300):L()},[k.entity_id,S,a]);const L=()=>{if(!a||a.length===0){console.warn("ContextTab: No entities available"),g([]),y(!1);return}try{const T=a.filter(V=>["script","automation","scene"].includes(V.domain)),R=l?.excludedPatterns||[],z=T.filter(V=>!u8(V.entity_id,R)).map(V=>l8(V,k,a)),B=h8(z);g(B),y(!1)}catch(T){console.error("ContextTab: Error loading actions",T),Up(i==="de"?"Fehler beim Laden der Aktionen":"Error loading actions",3e3,{position:"bottom-center"}),g([]),y(!1)}},_=async T=>{if(!t){console.warn("ContextTab: onActionExecute callback not provided");return}try{const R=document.querySelector(`[data-action-id="${T.id}"] .action-execute-btn`);if(R&&(R.style.boxShadow="0 0 25px rgba(48, 209, 88, 0.8), 0 0 50px rgba(48, 209, 88, 0.5)"),T.type==="scene")await t("scene","turn_on",{entity_id:T.id}),console.log(" About to show scene toast"),Qa(i==="de"?"Szene aktiviert":"Scene activated",3e3,{position:"bottom-center"}),console.log(" Scene toast called");else if(T.type==="script")await t("script","turn_on",{entity_id:T.id}),console.log(" About to show script toast"),Qa(i==="de"?"Skript ausgefhrt":"Script executed",3e3,{position:"bottom-center"}),console.log(" Script toast called");else if(T.type==="automation"){const j=T.state==="on"?"turn_off":"turn_on";await t("automation",j,{entity_id:T.id}),console.log(" About to show automation toast"),Qa(j==="turn_on"?i==="de"?"Automation aktiviert":"Automation activated":i==="de"?"Automation deaktiviert":"Automation deactivated",3e3,{position:"bottom-center"}),console.log(" Automation toast called")}setTimeout(()=>{R&&(R.style.boxShadow="")},300)}catch(R){console.error("ContextTab: Execute failed",R),Up(i==="de"?"Fehler beim Ausfhren":"Execution failed",3e3,{position:"bottom-center"})}},I=Re(()=>d==="actions"?p.filter(T=>T.type==="scene"||T.type==="script"||T.type==="automation"):d==="favorites"?p.filter(T=>s.has(T.id)):d==="environment"?N:[],[d,p,s,N]);return Re(()=>({actions:p.length,favorites:p.filter(T=>s.has(T.id)).length,environment:d==="environment"?I.length:0}),[p,s,d,I]),r("div",{className:`context-tab ${h?"visible":""}`,children:[r(w8,{selectedFilter:d,onFilterChange:u,filterSelectorRef:w,sliderPosition:b,t:c}),r("div",{className:"context-container",children:m?r("div",{className:"context-loading",children:c("loading")}):I.length===0?r("div",{className:"context-empty",children:[r("div",{className:"empty-icon",children:d==="favorites"?"":d==="environment"?"":""}),r("div",{className:"empty-text",children:c(d==="favorites"?"noFavorites":d==="environment"?"noEnvironment":"noActions")})]}):r("div",{className:"context-list",children:I.map((T,R)=>r(b8,{item:T,index:R,favorites:s,onToggleFavorite:o,onActionExecute:_,onActionNavigate:n},T.id||T.entity_id))})})]})},I2=[r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r("path",{d:"M2.6 4H8.77805C8.92127 4 9.05977 4.05124 9.16852 4.14445L12.3315 6.85555C12.4402 6.94876 12.5787 7 12.722 7H21.4C21.7314 7 22 7.26863 22 7.6V10.4C22 10.7314 21.7314 11 21.4 11H2.6C2.26863 11 2 10.7314 2 10.4V4.6C2 4.26863 2.26863 4 2.6 4Z",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M22 10L22 14",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M2 10V19.4C2 19.7314 2.26863 20 2.6 20H13",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M19 21C20.1046 21 21 20.1046 21 19C21 17.8954 20.1046 17 19 17C18.6357 17 18.2942 17.0974 18 17.2676C17.4022 17.6134 17 18.2597 17 19C17 19.7403 17.4022 20.3866 18 20.7324C18.2942 20.9026 18.6357 21 19 21Z",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M19 22C20.6569 22 22 20.6569 22 19C22 17.3431 20.6569 16 19 16C17.3431 16 16 17.3431 16 19C16 20.6569 17.3431 22 19 22Z",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"0.3 2"})]}),r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r("path",{d:"M12 21H4C2.89543 21 2 20.1046 2 19V5C2.89543 3 2.89543 3 4 3H20C21.1046 3 22 3.89543 22 5V12",strokeLinecap:"round"}),r("path",{d:"M2 7L22 7",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M5 5.01L5.01 4.99889",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M8 5.01L8.01 4.99889",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M11 5.01L11.01 4.99889",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M18 14L19.2246 15.0436L20.8284 15.1716L20.9564 16.7754L22 18L20.9564 19.2246L20.8284 20.8284L19.2246 20.9564L18 22L16.7754 20.9564L15.1716 20.8284L15.0436 19.2246L14 18L15.0436 16.7754L15.1716 15.1716L16.7754 15.0436L18 14Z"}),r("path",{d:"M16.7754 20.9564L18 22V14L16.7754 15.0436L15.1716 15.1716L15.0436 16.7754L14 18L15.0436 19.2246L15.1716 20.8284L16.7754 20.9564Z",fill:"currentColor"})]}),r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r("path",{d:"M18 3L18 7",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M18 11.01L18.01 10.9989",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M22 7V11V19.4C22 19.7314 21.7314 20 21.4 20H2.6C2.26863 20 2 19.7314 2 19.4V11",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M14 7H12.722C12.5787 7 12.4402 6.94876 12.3315 6.85555L9.16852 4.14445C9.05977 4.05124 8.92127 4 8.77805 4H2.6C2.26863 4 2 4.26863 2 4.6V11H14",strokeLinecap:"round",strokeLinejoin:"round"})]}),r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r("path",{d:"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2Z",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M4.271 18.3457C4.271 18.3457 6.50002 15.5 12 15.5C17.5 15.5 19.7291 18.3457 19.7291 18.3457",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 12C13.6569 12 15 10.6569 15 9C15 7.34315 13.6569 6 12 6C10.3431 6 9 7.34315 9 9C9 10.6569 10.3431 12 12 12Z",strokeLinecap:"round",strokeLinejoin:"round"})]})],k8=["de","en"],x8={de:"",en:"",fr:"",es:"",it:"",nl:"",pt:"",ru:"",zh:"",tr:""},_8={de:"Deutsch",en:"English",fr:"Franais",es:"Espaol",it:"Italiano",nl:"Nederlands",pt:"Portugus",ru:"",zh:"",tr:"Trke"},Kp=e=>`${x8[e]||""} ${_8[e]||"Deutsch"}`,C8=["EUR","USD","GBP","CHF","JPY"],S8={EUR:"",USD:"$",GBP:"",CHF:"CHF",JPY:""},N8={EUR:"Euro",USD:"US Dollar",GBP:"British Pound",CHF:"Swiss Franc",JPY:"Japanese Yen"},qp=e=>`${S8[e]||""} ${N8[e]||"Euro"}`,R2=async e=>{try{return!e||!e.callWS?(console.warn("Energy Dashboard: No hass connection available"),null):await e.callWS({type:"energy/get_prefs"})}catch(t){return console.error("Failed to get energy config:",t),null}},B2=e=>{if(!e||!e.energy_sources)return{gridConsumption:null,gridReturn:null,solar:null,battery:null,energyGridConsumption:null,energyGridReturn:null,energySolar:null};const t={gridConsumption:null,gridReturn:null,solar:null,battery:null,energyGridConsumption:null,energyGridReturn:null,energySolar:null};return e.energy_sources.forEach(n=>{if(n.type==="grid"){if(n.flow_from&&n.flow_from.length>0){const i=n.flow_from[0];t.gridConsumption=i.stat_cost_from||i.stat_energy_from,t.energyGridConsumption=i.stat_energy_from}if(n.flow_to&&n.flow_to.length>0){const i=n.flow_to[0];t.gridReturn=i.stat_compensation_from||i.stat_energy_to,t.energyGridReturn=i.stat_energy_to}}n.type==="solar"&&(t.solar=n.stat_cost_from||n.stat_energy_from,t.energySolar=n.stat_energy_from),n.type==="battery"&&(t.battery=n.stat_energy_from)}),t},Nt=(e,t)=>!e||!e.states||!t?!1:!!e.states[t],Sr=(e,t,n="--")=>Nt(e,t)&&e.states[t].state||n,L8=async e=>{try{console.log(" Starting power sensor detection...");const t=M8(e);if(t.success){console.log(" Found power sensors via direct search:",t.sensors);const n=await R2(e),i=n?B2(n):{};return{success:!0,source:"auto_detect",sensors:t.sensors,energySensors:i,allPowerSensors:t.allPowerSensors}}return console.warn(" No power sensors found in system"),{success:!1,source:"none",sensors:{gridConsumption:null,gridReturn:null,solar:null,battery:null}}}catch(t){return console.error("Failed to initialize energy sensors:",t),{success:!1,source:"error",sensors:{gridConsumption:null,gridReturn:null,solar:null,battery:null}}}},M8=e=>{if(!e||!e.states)return{success:!1,source:"none",sensors:{}};const t={gridConsumption:null,gridReturn:null,solar:null,battery:null},n={gridConsumption:[/sensor\..*leistung.*netzbezug/i,/sensor\..*netzbezug.*leistung/i,/sensor\..*bezogene.*leistung/i,/sensor\.(grid|power)_consumption/i,/sensor\..*grid.*import/i,/sensor\..*power.*consumption/i,/sensor\..*import.*power/i,/sensor\..*grid.*power/i],gridReturn:[/sensor\..*leistung.*einspeisung/i,/sensor\..*einspeisung.*leistung/i,/sensor\..*netzeinspeisung/i,/sensor\..*eingespeiste.*leistung/i,/sensor\.(grid|power)_return/i,/sensor\..*export.*power/i,/sensor\..*return.*power/i,/sensor\..*grid.*export/i],solar:[/sensor\..*pv.*leistung/i,/sensor\..*solar.*leistung/i,/sensor\..*leistung.*pv/i,/sensor\.solar.*power/i,/sensor\.pv.*power/i,/sensor\..*solar.*production/i,/sensor\.inverter.*power/i],battery:[/sensor\..*batterie.*leistung/i,/sensor\..*battery.*power/i,/sensor\..*battery.*discharge/i]},i={};return Object.keys(e.states).forEach(s=>{const o=e.states[s];if(o.entity_id.startsWith("sensor.")){const a=o.attributes?.device_class,l=o.attributes?.unit_of_measurement;(a==="power"||l==="W"||l==="kW")&&(i[s]={unit:l,deviceClass:a,friendlyName:o.attributes?.friendly_name||s})}}),console.log("Found all power sensors:",Object.keys(i)),Object.keys(n).forEach(s=>{for(const o of Object.keys(i)){for(const a of n[s])if(a.test(o)&&!t[s]){t[s]=o,console.log(` Matched ${s}: ${o}`);break}if(t[s])break}}),console.log("Auto-detected sensors by patterns:",t),{success:Object.values(t).some(s=>s!==null),source:"auto_detect",sensors:t,allPowerSensors:i}},Yp=e=>{try{const t=JSON.parse(localStorage.getItem("systemSettings")||"{}");t.statsBar=t.statsBar||{},t.statsBar.energySensors=e,localStorage.setItem("systemSettings",JSON.stringify(t)),console.log("Energy sensor config saved:",e),window.dispatchEvent(new CustomEvent("energySensorConfigChanged",{detail:{sensors:e}}))}catch(t){console.error("Failed to save energy sensor config:",t)}},vc=()=>{try{return JSON.parse(localStorage.getItem("systemSettings")||"{}").statsBar?.energySensors||null}catch(e){return console.error("Failed to load energy sensor config:",e),null}},el=async(e,t)=>{if(!e||!e.callWS||!t)return null;try{const n=new Date,s=new Date(n.getFullYear(),n.getMonth(),n.getDate()).toISOString(),o=await e.callWS({type:"recorder/statistics_during_period",start_time:s,statistic_ids:[t],period:"hour"});if(!o||!o[t]||o[t].length===0)return console.log(`No statistics found for ${t} today`),null;const a=o[t],l=a[a.length-1];return l.state!==void 0?parseFloat(l.state):l.sum!==void 0?parseFloat(l.sum):null}catch(n){return console.error(`Failed to get today's statistics for ${t}:`,n),null}},Hd=()=>{try{return JSON.parse(localStorage.getItem("systemSettings")||"{}").statsBar?.energyPrice||.3}catch{return .3}},E8=(e,t=null)=>{const n=t!==null?t:Hd();return e*n},Zp=async(e,t)=>{if(!e||!t)return null;try{const n={currentGridConsumption:null,currentGridReturn:null,currentSolarProduction:null,currentBatteryPower:null,todayGridConsumption:null,todayGridReturn:null,todaySolarProduction:null,todayCost:null,todayRevenue:null};if(t.gridConsumption){const s=Sr(e,t.gridConsumption);s!=="--"&&(n.currentGridConsumption=parseFloat(s))}if(t.gridReturn){const s=Sr(e,t.gridReturn);s!=="--"&&(n.currentGridReturn=parseFloat(s))}if(t.solar){const s=Sr(e,t.solar);s!=="--"&&(n.currentSolarProduction=parseFloat(s))}if(t.battery){const s=Sr(e,t.battery);s!=="--"&&(n.currentBatteryPower=parseFloat(s))}const i=await R2(e);if(i){const s=B2(i);if(s.gridConsumption&&(n.todayGridConsumption=await el(e,s.gridConsumption)),s.gridReturn&&(n.todayGridReturn=await el(e,s.gridReturn)),s.solar&&(n.todaySolarProduction=await el(e,s.solar)),n.todayGridConsumption!==null&&(n.todayCost=E8(n.todayGridConsumption)),n.todayGridReturn!==null){const o=Hd()*.08;n.todayRevenue=n.todayGridReturn*o}}return n}catch(n){return console.error("Failed to get energy dashboard data:",n),null}},Zo=({size:e=14,color:t="currentColor",style:n={}})=>r("svg",{width:`${e}px`,height:`${e}px`,viewBox:"0 0 463 463",fill:t,xmlns:"http://www.w3.org/2000/svg",style:n,children:r("path",{d:"M367.5,159c4.142,0,7.5-3.357,7.5-7.5v-32c0-0.278-0.018-0.552-0.047-0.822c-0.004-0.037-0.012-0.074-0.017-0.111 c-0.039-0.313-0.1-0.619-0.176-0.919c-0.015-0.061-0.03-0.121-0.046-0.181c-0.093-0.332-0.206-0.656-0.342-0.967 c-0.013-0.03-0.029-0.058-0.042-0.087c-0.132-0.291-0.282-0.57-0.448-0.839c-0.031-0.051-0.06-0.103-0.093-0.153 c-0.183-0.281-0.384-0.549-0.602-0.802c-0.044-0.052-0.092-0.101-0.138-0.152c-0.225-0.248-0.462-0.483-0.718-0.699 c-0.011-0.009-0.019-0.02-0.03-0.029l-0.026-0.022c-0.003-0.002-0.006-0.005-0.008-0.007l-95.292-79.41L253.5,3 c-1.417-1.889-3.639-3-6-3h-32c-2.361,0-4.583,1.111-6,3l-23.474,31.299l-95.292,79.41c-0.003,0.002-0.006,0.005-0.008,0.007 l-0.026,0.022c-0.011,0.009-0.019,0.02-0.03,0.029c-0.256,0.216-0.493,0.452-0.718,0.699c-0.046,0.051-0.093,0.1-0.138,0.152 c-0.218,0.253-0.419,0.521-0.602,0.802c-0.033,0.05-0.062,0.102-0.093,0.153c-0.166,0.269-0.317,0.548-0.448,0.839 c-0.013,0.029-0.029,0.057-0.042,0.087c-0.136,0.312-0.248,0.635-0.342,0.967c-0.017,0.06-0.031,0.12-0.046,0.181 c-0.076,0.3-0.137,0.606-0.176,0.919c-0.005,0.037-0.013,0.074-0.017,0.111C88.018,118.948,88,119.222,88,119.5v32 c0,4.143,3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5V127h81v68.987l-93.267,77.722c-0.003,0.002-0.006,0.005-0.008,0.007l-0.026,0.022 c-0.011,0.009-0.019,0.02-0.03,0.029c-0.256,0.216-0.493,0.452-0.718,0.699c-0.046,0.051-0.093,0.1-0.138,0.152 c-0.218,0.253-0.419,0.521-0.602,0.802c-0.033,0.05-0.062,0.102-0.093,0.153c-0.166,0.269-0.317,0.548-0.448,0.839 c-0.013,0.029-0.029,0.057-0.042,0.087c-0.136,0.312-0.248,0.635-0.342,0.967c-0.017,0.06-0.031,0.12-0.046,0.181 c-0.076,0.3-0.137,0.606-0.176,0.919c-0.005,0.037-0.013,0.074-0.017,0.111C88.018,278.948,88,279.222,88,279.5v32 c0,4.143,3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5V287h77.792l-58.545,161H111.5c-4.142,0-7.5,3.357-7.5,7.5s3.358,7.5,7.5,7.5h40 c4.142,0,7.5-3.357,7.5-7.5s-3.358-7.5-7.5-7.5h-8.173L231.5,340.233L319.673,448H319.5c-4.142,0-7.5,3.357-7.5,7.5 s3.358,7.5,7.5,7.5h40c4.142,0,7.5-3.357,7.5-7.5s-3.358-7.5-7.5-7.5h-18.747l-58.545-161H360v24.5c0,4.143,3.358,7.5,7.5,7.5 s7.5-3.357,7.5-7.5v-32c0-0.278-0.018-0.552-0.047-0.822c-0.004-0.037-0.012-0.074-0.017-0.111c-0.039-0.313-0.1-0.619-0.176-0.919 c-0.015-0.061-0.03-0.121-0.046-0.181c-0.093-0.332-0.206-0.656-0.342-0.967c-0.013-0.03-0.029-0.058-0.042-0.087 c-0.132-0.291-0.282-0.57-0.448-0.839c-0.031-0.051-0.06-0.103-0.093-0.153c-0.183-0.281-0.384-0.549-0.602-0.802 c-0.044-0.052-0.092-0.101-0.138-0.152c-0.225-0.248-0.462-0.483-0.718-0.699c-0.011-0.009-0.019-0.02-0.03-0.029l-0.026-0.022 c-0.003-0.002-0.006-0.005-0.008-0.007L279,195.987V127h81v24.5C360,155.643,363.358,159,367.5,159z M220.893,79.5L199,101.393 V57.607L220.893,79.5z M209.607,47h43.786L231.5,68.893L209.607,47z M209.607,112L231.5,90.107L253.393,112H209.607z M253.393,127 L231.5,148.893L209.607,127H253.393z M220.893,159.5L199,181.393v-43.786L220.893,159.5z M209.607,192l21.893-21.893L253.393,192 H209.607z M253.393,207L231.5,228.893L209.607,207H253.393z M220.893,239.5L199,261.393v-43.786L220.893,239.5z M231.5,250.107 L253.393,272h-43.786L231.5,250.107z M255.673,287L231.5,316.545L207.327,287H255.673z M242.107,239.5L264,217.607v43.786 L242.107,239.5z M242.107,159.5L264,137.607v43.786L242.107,159.5z M242.107,79.5L264,57.607v43.786L242.107,79.5z M219.25,15h24.5 l12.75,17h-50L219.25,15z M184,55.513V112h-67.785L184,55.513z M184,215.513V272h-67.785L184,215.513z M149.617,416.624 l44.426-122.172l27.766,33.937L149.617,416.624z M241.19,328.389l27.766-33.937l44.426,122.172L241.19,328.389z M279,272v-56.487 L346.785,272H279z M279,112V55.513L346.785,112H279z"})}),z2=({size:e=14,color:t="currentColor",style:n={}})=>r("svg",{width:`${e}px`,height:`${e}px`,viewBox:"0 0 512 512",fill:t,xmlns:"http://www.w3.org/2000/svg",style:n,children:r("path",{d:"M48 32h96v96H48zm128 0h96v96h-96zm128 0h96v96h-96zM48 160h96v96H48zm128 0h96v96h-96zm128 0h96v96h-96zM48 288h96v96H48zm128 0h96v96h-96zm128 0h96v96h-96zM80 416h288v32H80z"})}),T8=({size:e=14,color:t="currentColor",style:n={}})=>r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,children:[r("path",{d:"M14 13H16L18 13",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M6 13H8M10 13H8M8 13V11M8 13V15",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M6 7H2.6C2.26863 7 2 7.26863 2 7.6V18.4C2 18.7314 2.26863 19 2.6 19H21.4C21.7314 19 22 18.7314 22 18.4V7.6C22 7.26863 21.7314 7 21.4 7H18M6 7V5H8V7M6 7H8M8 7H16M16 7V5H18V7M16 7H18",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),V2=({size:e=14,color:t="currentColor",style:n={}})=>r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,children:[r("path",{d:"M16.5 21H18.6688C19.8945 21 20.8319 19.9074 20.6455 18.6959L19.2609 9.69589C19.1108 8.72022 18.2713 8 17.2842 8H6.71584C5.7287 8 4.8892 8.72022 4.73909 9.69589L3.35448 18.6959C3.16809 19.9074 4.10545 21 5.33122 21H7.5",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 19V12M12 12L15 15M12 12L9 15",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M14 5C14 3.89543 13.1046 3 12 3C10.8954 3 10 3.89543 10 5",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),O2=({size:e=14,color:t="currentColor",style:n={}})=>r("svg",{width:`${e}px`,height:`${e}px`,viewBox:"0 0 24 24",strokeWidth:"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,children:[r("path",{d:"M2 8L11.7317 3.13416C11.9006 3.04971 12.0994 3.0497 12.2683 3.13416L22 8",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M20 11V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19V11",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),W2=({size:e=14,color:t="currentColor",style:n={}})=>r("svg",{width:`${e}px`,height:`${e}px`,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",style:n,children:r("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})}),A8=({size:e=14,color:t="currentColor",style:n={}})=>r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,children:[r("path",{d:"M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M22 12L23 12",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 2V1",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 23V22",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M20 20L19 19",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M20 4L19 5",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M4 20L5 19",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M4 4L5 5",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M1 12L2 12",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),H2=({size:e=14,color:t="currentColor",style:n={}})=>r("svg",{width:`${e}px`,height:`${e}px`,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",style:n,children:[r("path",{d:"M12 6L12 12L18 12"}),r("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"})]}),$2=({size:e=14,color:t="currentColor",style:n={}})=>r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,children:[r("path",{d:"M18 8.4C18 6.70261 17.3679 5.07475 16.2426 3.87452C15.1174 2.67428 13.5913 2 12 2C10.4087 2 8.88258 2.67428 7.75736 3.87452C6.63214 5.07475 6 6.70261 6 8.4C6 15.8667 3 18 3 18H21C21 18 18 15.8667 18 8.4Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M13.73 21C13.5542 21.3031 13.3019 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),D8=({size:e=14,color:t="currentColor",style:n={}})=>r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,children:[r("path",{d:"M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M22 12L23 12",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 2V1",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 23V22",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M20 20L19 19",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M20 4L19 5",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M4 20L5 19",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M4 4L5 5",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M1 12L2 12",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),F8=({size:e=14,color:t="currentColor",style:n={}})=>r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,children:r("path",{d:"M12 4C9.79086 4 8 5.79086 8 8V8.5C5.23858 8.5 3 10.7386 3 13.5C3 16.2614 5.23858 18.5 8 18.5H17C19.2091 18.5 21 16.7091 21 14.5C21 12.2909 19.2091 10.5 17 10.5C16.6565 10.5 16.3257 10.5485 16.0127 10.6391C15.5088 7.21102 12.5031 4 12 4Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),P8=({size:e=14,color:t="currentColor",style:n={}})=>r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,children:[r("path",{d:"M12 4C9.79086 4 8 5.79086 8 8V8.5C5.23858 8.5 3 10.7386 3 13.5C3 16.2614 5.23858 18.5 8 18.5H17C19.2091 18.5 21 16.7091 21 14.5C21 12.2909 19.2091 10.5 17 10.5C16.6565 10.5 16.3257 10.5485 16.0127 10.6391C15.5088 7.21102 12.5031 4 12 4Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M8 19L8 21",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 19L12 23",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M16 19L16 21",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),I8=({size:e=14,color:t="currentColor",style:n={}})=>r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,children:[r("path",{d:"M12 4C9.79086 4 8 5.79086 8 8V8.5C5.23858 8.5 3 10.7386 3 13.5C3 16.2614 5.23858 18.5 8 18.5H17C19.2091 18.5 21 16.7091 21 14.5C21 12.2909 19.2091 10.5 17 10.5C16.6565 10.5 16.3257 10.5485 16.0127 10.6391C15.5088 7.21102 12.5031 4 12 4Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M8 21L8 19M12 23L12 19M16 21L16 19",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("circle",{cx:"8",cy:"21",r:"0.5",fill:t}),r("circle",{cx:"12",cy:"23",r:"0.5",fill:t}),r("circle",{cx:"16",cy:"21",r:"0.5",fill:t})]}),Xp=({size:e=14,color:t="currentColor",style:n={}})=>r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,children:[r("path",{d:"M6 13C6 10.2386 8.23858 8 11 8C11.3506 8 11.6918 8.03807 12.0194 8.11048M17 14C19.2091 14 21 15.7909 21 18C21 20.2091 19.2091 22 17 22H9C6.23858 22 4 19.7614 4 17C4 14.4003 5.98398 12.2466 8.52042 12.0247",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M14 6C14 7.65685 15.3431 9 17 9C18.6569 9 20 7.65685 20 6C20 4.34315 18.6569 3 17 3C15.3431 3 14 4.34315 14 6Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M17 1V2M21 6H22M13 6H12M19.5 3.5L18.8 4.2M15.2 4.2L14.5 3.5M19.5 8.5L18.8 7.8",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),Jp=(e,t=14,n="rgba(255, 255, 255, 0.9)")=>{const i=e?.toLowerCase()||"";return i.includes("sunny")||i.includes("clear")?r(D8,{size:t,color:n}):i.includes("rain")||i.includes("pouring")?r(P8,{size:t,color:n}):i.includes("snow")||i.includes("snowy")?r(I8,{size:t,color:n}):i.includes("partlycloudy")||i.includes("partly")?r(Xp,{size:t,color:n}):i.includes("cloud")||i.includes("overcast")?r(F8,{size:t,color:n}):r(Xp,{size:t,color:n})},R8=async e=>{if(!e?.callWS)return null;try{const t=await e.callWS({type:"auth/current_user"});if(t?.picture){const o=t.picture;return o.startsWith("/")?`${window.location.origin}${o}`:o}if(t?.avatar){const o=t.avatar;return o.startsWith("/")?`${window.location.origin}${o}`:o}const n=e.user?.id;if(!n)return null;const s=Object.keys(e.states).filter(o=>o.startsWith("person.")).map(o=>e.states[o]).find(o=>o.attributes?.user_id===n);if(s?.attributes?.entity_picture){const o=s.attributes.entity_picture;return o.startsWith("/")?`${window.location.origin}${o}`:o}return null}catch{return null}};let tl=null,Qp=0;const B8=300*1e3,j2=async e=>{const t=Date.now();if(tl&&t-Qp<B8)return tl;const n=await R8(e);return n&&(tl=n,Qp=t),n},z8={enter:e=>({x:e>0?300:-300,opacity:0}),center:{x:0,opacity:1},exit:e=>({x:e>0?-300:300,opacity:0})},V8=()=>{try{const e=localStorage.getItem("systemSettings");if(!e)return{weather:!0,gridConsumption:!0,gridReturn:!0,solar:!1,notifications:!0,time:!0,consumption:!1,todayConsumption:!1,todayCost:!1};const i=(JSON.parse(e).statsBar||{}).widgets||{};return{weather:i.weather!==!1,gridConsumption:i.gridConsumption!==!1,gridReturn:i.gridReturn!==!1,solar:i.solar===!0,notifications:i.notifications!==!1,time:i.time!==!1,consumption:i.consumption===!0,todayConsumption:i.todayConsumption===!0,todayCost:i.todayCost===!0}}catch(e){return console.error("Failed to load widget settings:",e),{weather:!0,gridConsumption:!0,gridReturn:!0,solar:!1,notifications:!0,time:!0,todayConsumption:!1,todayCost:!1}}},O8=e=>{try{const t=localStorage.getItem("systemSettings"),n=t?JSON.parse(t):{};n.statsBar=n.statsBar||{},n.statsBar.widgets=e,localStorage.setItem("systemSettings",JSON.stringify(n))}catch(t){console.error("Failed to save widget settings:",t)}},W8=({t:e,hass:t,lang:n="de",onBack:i})=>{const[s,o]=D("main"),a=oe(null),[l,c]=D(!1),[d,u]=D(()=>V8()),[h,f]=D(1),[p,g]=D("auto"),[m,y]=D(null),[b,v]=D(()=>vc()||{gridConsumption:null,gridReturn:null,solar:null,battery:null}),[w,S]=D(!1);D(()=>Hd());const[x,k]=D(null),[N,L]=D(()=>{const M=localStorage.getItem("statsBarEnabled");return M!==null?M==="true":!0});Y(()=>{t&&p==="auto"&&!m&&_()},[t,p]),Y(()=>{s==="dataSources"&&t&&p==="auto"&&!m&&_()},[s,t,p]),Y(()=>{const M=()=>{const E=Fe.getAllEntities().find(ee=>ee.domain==="energy_dashboard_device");E?.attributes?k({gridImport:E.attributes.grid_import_sensor,gridReturn:E.attributes.grid_return_sensor,solar:E.attributes.solar_sensor,consumption:E.attributes.consumption_sensor,estimatedPower:E.attributes.estimated_power_sensor,kwh:E.attributes.kwh_sensor,pvTotal:E.attributes.pv_total_sensor,estimatedEnergyToday:E.attributes.estimated_energy_today_sensor,gridExportTotal:E.attributes.grid_export_total_sensor,battery:E.attributes.battery_sensor,batteryCharged:E.attributes.battery_charged_sensor,batteryDischarged:E.attributes.battery_discharged_sensor,feedInTariff:E.attributes.feed_in_tariff_sensor,purchaseTariff:E.attributes.purchase_tariff_sensor}):k(null)};M();const C=q=>{q.domain==="energy_dashboard_device"&&M()},X=q=>{q.domain==="energy_dashboard_device"&&M()};return Fe.on("entity-updated",C),Fe.on("entity-registered",X),()=>{Fe.off("entity-updated",C),Fe.off("entity-registered",X)}},[]);const _=async()=>{if(!t){console.warn("No hass connection for energy sensor detection");return}S(!0);try{const M=await L8(t);y(M),M.success&&M.sensors&&(v(M.sensors),Yp(M.sensors))}catch(M){console.error("Failed to detect energy sensors:",M),y({success:!1,source:"error",sensors:b})}finally{S(!1)}},I=()=>{f(-1),o("main")},T=(M,C)=>{const X={...d,[M]:C};u(X),O8(X),window.dispatchEvent(new CustomEvent("statsBarWidgetsChanged",{detail:X}))},R=M=>{g(M),M==="auto"&&_()},j=(M,C)=>{const X={...b,[M]:C};v(X),Yp(X)},z=()=>{f(1),o("widgets")},B=()=>{f(1),o("dataSources")},V=M=>{L(M),localStorage.setItem("statsBarEnabled",M),window.dispatchEvent(new CustomEvent("statsBarEnabledChanged",{detail:M}))},[A,F]=D(null);return Y(()=>{(async()=>{if(t)try{const C=await j2(t);F(C)}catch{F(null)}})()},[t]),r(P.div,{custom:h,variants:z8,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),style:{position:"relative"},children:[s==="main"?r(ke,{children:[r("div",{className:"ios-navbar",children:[i&&r("button",{className:"ios-navbar-back",onClick:i,children:[r("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:r("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:e("back")})]}),r("div",{className:"ios-navbar-title",children:e("statsBar")})]}),r("div",{ref:a,className:"ios-settings-view",children:[r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:n==="de"?"EINSTELLUNGEN":"SETTINGS"}),r("div",{className:"ios-card",children:[r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:n==="de"?"StatsBar aktivieren":"Enable StatsBar"}),r("div",{className:"ios-item-subtitle",children:n==="de"?"Statusleiste mit Widgets anzeigen":"Show status bar with widgets"})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:N,onChange:M=>V(M.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",style:{opacity:N?1:.5},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:n==="de"?"Benutzername":"Username"}),r("div",{className:"ios-item-subtitle",children:n==="de"?"Automatisch aus Home Assistant":"Automatically from Home Assistant"})]})}),r("div",{className:"ios-item-right",style:{display:"flex",alignItems:"center",gap:"8px"},children:[A&&r("img",{src:A,alt:t.user.name,onError:M=>{console.error("Failed to load profile picture:",A),M.target.style.display="none"},style:{width:"28px",height:"28px",borderRadius:"50%",objectFit:"cover",border:"2px solid rgba(255, 255, 255, 0.2)"}}),r("span",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"14px"},children:t?.user?.name||"User"})]})]})]})]}),r("div",{className:"ios-section",children:r("div",{className:"ios-card",children:[r(P.div,{className:"ios-item ios-item-clickable",onClick:N?z:void 0,style:{opacity:N?1:.5,pointerEvents:N?"auto":"none"},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("widgets")}),r("div",{className:"ios-item-subtitle",children:e("widgetsDescription")})]})}),r("div",{className:"ios-item-right",children:[r("span",{className:"ios-item-value",children:[Object.values(d).filter(M=>M===!0).length," ",e("active")]}),r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:N?B:void 0,style:{opacity:N?1:.5,pointerEvents:N?"auto":"none"},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("dataSources")}),r("div",{className:"ios-item-subtitle",children:e("dataSourcesDescription")})]})}),r("div",{className:"ios-item-right",children:[r("span",{className:"ios-item-value",children:m?.source==="energy_dashboard"?" Auto":m?.source==="auto_detect"?" Muster":p==="manual"?" Manuell":"--"}),r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})}),r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:e("aboutStatsBar")}),r("div",{className:"ios-card",style:{padding:"16px"},children:r("div",{className:"ios-text",style:{fontSize:"14px",lineHeight:"1.6"},children:[e("statsBarDescription"),r("br",{}),r("br",{}),r("strong",{children:e("features")}),r("br",{})," ",e("liveUpdates"),r("br",{})," ",e("energyDashboardIntegration"),r("br",{})," ",e("customizableWidgets")]})})]})]})]}):s==="widgets"?r(ke,{children:[r("div",{className:"ios-navbar",children:[r("button",{className:"ios-navbar-back",onClick:I,children:[r("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:r("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:e("back")})]}),r("div",{className:"ios-navbar-title",children:e("widgets")})]}),r("div",{ref:a,className:"ios-settings-view",children:r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:e("availableWidgets")}),r("div",{className:"ios-card",children:[r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[r(A8,{size:20,color:"rgba(255, 255, 255, 0.9)"}),r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("weatherWidget")}),r("div",{className:"ios-item-subtitle",children:e("weatherWidgetDescription")})]})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:d.weather,onChange:M=>T("weather",M.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[r(Zo,{size:20,color:"rgba(255, 255, 255, 0.9)"}),r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("energyGridConsumptionWidget")}),r("div",{className:"ios-item-subtitle",children:e("energyGridConsumptionDescription")})]})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:d.gridConsumption,onChange:M=>T("gridConsumption",M.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[r(Zo,{size:20,color:"rgba(255, 255, 255, 0.9)"}),r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("energyGridReturnWidget")}),r("div",{className:"ios-item-subtitle",children:e("energyGridReturnDescription")})]})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:d.gridReturn,onChange:M=>T("gridReturn",M.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[r(z2,{size:20,color:"rgba(255, 255, 255, 0.9)"}),r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("solarProductionWidget")}),r("div",{className:"ios-item-subtitle",children:e("solarProductionDescription")})]})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:d.solar,onChange:M=>T("solar",M.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[r($2,{size:20,color:"rgba(255, 255, 255, 0.9)"}),r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("notificationsWidget")}),r("div",{className:"ios-item-subtitle",children:e("notificationsWidgetDescription")})]})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:d.notifications,onChange:M=>T("notifications",M.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[r(H2,{size:20,color:"rgba(255, 255, 255, 0.9)"}),r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("timeWidget")}),r("div",{className:"ios-item-subtitle",children:e("timeWidgetDescription")})]})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:d.time,onChange:M=>T("time",M.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[r(O2,{size:20,color:"rgba(255, 255, 255, 0.9)"}),r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("consumptionWidget")}),r("div",{className:"ios-item-subtitle",children:e("consumptionDescription")})]})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:d.consumption,onChange:M=>T("consumption",M.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[r(W2,{size:20,color:"rgba(255, 255, 255, 0.9)"}),r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("todayConsumptionWidget")}),r("div",{className:"ios-item-subtitle",children:e("todayConsumptionDescription")})]})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:d.todayConsumption,onChange:M=>T("todayConsumption",M.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[r(V2,{size:20,color:"rgba(255, 255, 255, 0.9)"}),r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("todayCostWidget")}),r("div",{className:"ios-item-subtitle",children:e("todayCostDescription")})]})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:d.todayCost,onChange:M=>T("todayCost",M.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]})]}),r("div",{className:"ios-section-footer",children:e("widgetsFooter")})]})})]}):s==="dataSources"?r(ke,{children:[r("div",{className:"ios-navbar",children:[r("button",{className:"ios-navbar-back",onClick:I,children:[r("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:r("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:e("back")})]}),r("div",{className:"ios-navbar-title",children:e("dataSources")})]}),r("div",{ref:a,className:"ios-settings-view",children:[r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:e("detectionMode")}),r("div",{className:"ios-card",children:[r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("autoDetection")}),r("div",{className:"ios-item-subtitle",children:[w&&e("detectionRunning"),!w&&m?.source==="energy_dashboard"&&e("energyDashboardFound"),!w&&m?.source==="auto_detect"&&e("patternBasedDetection"),!w&&m?.source==="none"&&e("noSensorsDetected"),!w&&m?.source==="error"&&e("detectionError"),!w&&!m&&e("notChecked")]})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:p==="auto",onChange:M=>R(M.target.checked?"auto":"manual")}),r("span",{className:"ios-toggle-slider"})]})})]}),p==="auto"&&r(ke,{children:[r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{w||_()},style:{cursor:w?"wait":"pointer",opacity:w?.6:1},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("startDetection")}),r("div",{className:"ios-item-subtitle",children:e(w?"searchRunning":"redetectSensors")})]})}),r("div",{className:"ios-item-right",children:r(P.svg,{className:"ios-chevron",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",animate:w?{rotate:360}:{rotate:0},transition:w?{duration:1,repeat:1/0,ease:"linear"}:{},children:r("path",{d:"M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0118.8-4.3M22 12.5a10 10 0 01-18.8 4.2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})]}),r("div",{className:"ios-section-footer",children:e(p==="auto"?"autoDetectionInfo":"manualConfigInfo")})]}),x?r(ke,{children:[r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:n==="de"?"LEISTUNG (W/KW)":"POWER (W/KW)"}),r("div",{className:"ios-card",children:[r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:n==="de"?"Netzbezug":"Grid Import"}),r("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.gridImport||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),r("div",{className:"ios-item-right",children:x.gridImport&&t&&Nt(t,x.gridImport)?r("span",{style:{color:"#34C759",fontSize:"18px"},children:""}):x.gridImport?r("span",{style:{color:"#FF9500",fontSize:"18px"},children:""}):r("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:n==="de"?"Netzeinspeisung":"Grid Export"}),r("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.gridReturn||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),r("div",{className:"ios-item-right",children:x.gridReturn&&t&&Nt(t,x.gridReturn)?r("span",{style:{color:"#34C759",fontSize:"18px"},children:""}):x.gridReturn?r("span",{style:{color:"#FF9500",fontSize:"18px"},children:""}):r("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:n==="de"?"PV Leistung":"PV Power"}),r("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.solar||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),r("div",{className:"ios-item-right",children:x.solar&&t&&Nt(t,x.solar)?r("span",{style:{color:"#34C759",fontSize:"18px"},children:""}):x.solar?r("span",{style:{color:"#FF9500",fontSize:"18px"},children:""}):r("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:n==="de"?"Verbrauch":"Consumption"}),r("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.consumption||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),r("div",{className:"ios-item-right",children:x.consumption&&t&&Nt(t,x.consumption)?r("span",{style:{color:"#34C759",fontSize:"18px"},children:""}):x.consumption?r("span",{style:{color:"#FF9500",fontSize:"18px"},children:""}):r("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:n==="de"?"Geschtzte Leistung":"Estimated Power"}),r("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.estimatedPower||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),r("div",{className:"ios-item-right",children:x.estimatedPower&&t&&Nt(t,x.estimatedPower)?r("span",{style:{color:"#34C759",fontSize:"18px"},children:""}):x.estimatedPower?r("span",{style:{color:"#FF9500",fontSize:"18px"},children:""}):r("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]})]}),r("div",{className:"ios-section-footer",children:n==="de"?"Quelle: system.energy_dashboard":"Source: system.energy_dashboard"})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:n==="de"?"ENERGIE (WH/KWH)":"ENERGY (WH/KWH)"}),r("div",{className:"ios-card",children:[r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:n==="de"?"Bezogene Wirkenergie gesamt":"Grid Import Total"}),r("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.kwh||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),r("div",{className:"ios-item-right",children:x.kwh&&t&&Nt(t,x.kwh)?r("span",{style:{color:"#34C759",fontSize:"18px"},children:""}):x.kwh?r("span",{style:{color:"#FF9500",fontSize:"18px"},children:""}):r("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:n==="de"?"PV kumulativ gesamt":"PV Total"}),r("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.pvTotal||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),r("div",{className:"ios-item-right",children:x.pvTotal&&t&&Nt(t,x.pvTotal)?r("span",{style:{color:"#34C759",fontSize:"18px"},children:""}):x.pvTotal?r("span",{style:{color:"#FF9500",fontSize:"18px"},children:""}):r("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:n==="de"?"Geschtzte Erzeugung heute":"Estimated Production Today"}),r("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.estimatedEnergyToday||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),r("div",{className:"ios-item-right",children:x.estimatedEnergyToday&&t&&Nt(t,x.estimatedEnergyToday)?r("span",{style:{color:"#34C759",fontSize:"18px"},children:""}):x.estimatedEnergyToday?r("span",{style:{color:"#FF9500",fontSize:"18px"},children:""}):r("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:n==="de"?"Einspeisung gesamt":"Grid Export Total"}),r("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.gridExportTotal||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),r("div",{className:"ios-item-right",children:x.gridExportTotal&&t&&Nt(t,x.gridExportTotal)?r("span",{style:{color:"#34C759",fontSize:"18px"},children:""}):x.gridExportTotal?r("span",{style:{color:"#FF9500",fontSize:"18px"},children:""}):r("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]})]}),r("div",{className:"ios-section-footer",children:n==="de"?"Quelle: system.energy_dashboard":"Source: system.energy_dashboard"})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:n==="de"?"BATTERIE":"BATTERY"}),r("div",{className:"ios-card",children:[r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:n==="de"?"Entladen (kWh)":"Discharged (kWh)"}),r("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.batteryDischarged||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),r("div",{className:"ios-item-right",children:x.batteryDischarged&&t&&Nt(t,x.batteryDischarged)?r("span",{style:{color:"#34C759",fontSize:"18px"},children:""}):x.batteryDischarged?r("span",{style:{color:"#FF9500",fontSize:"18px"},children:""}):r("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:n==="de"?"Geladen (kWh)":"Charged (kWh)"}),r("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.batteryCharged||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),r("div",{className:"ios-item-right",children:x.batteryCharged&&t&&Nt(t,x.batteryCharged)?r("span",{style:{color:"#34C759",fontSize:"18px"},children:""}):x.batteryCharged?r("span",{style:{color:"#FF9500",fontSize:"18px"},children:""}):r("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]})]}),r("div",{className:"ios-section-footer",children:n==="de"?"Quelle: system.energy_dashboard":"Source: system.energy_dashboard"})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:n==="de"?"TARIFE":"TARIFFS"}),r("div",{className:"ios-card",children:[r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:n==="de"?"Einspesetarif":"Feed-in Tariff"}),r("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.feedInTariff||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),r("div",{className:"ios-item-right",children:x.feedInTariff&&t&&Nt(t,x.feedInTariff)?r("span",{style:{color:"#34C759",fontSize:"18px"},children:""}):x.feedInTariff?r("span",{style:{color:"#FF9500",fontSize:"18px"},children:""}):r("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:n==="de"?"Bezugstarif":"Purchase Tariff"}),r("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.purchaseTariff||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),r("div",{className:"ios-item-right",children:x.purchaseTariff&&t&&Nt(t,x.purchaseTariff)?r("span",{style:{color:"#34C759",fontSize:"18px"},children:""}):x.purchaseTariff?r("span",{style:{color:"#FF9500",fontSize:"18px"},children:""}):r("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]})]}),r("div",{className:"ios-section-footer",children:n==="de"?"Quelle: system.energy_dashboard":"Source: system.energy_dashboard"})]})]}):r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:"ENERGIE"}),r("div",{className:"ios-card",style:{padding:"20px",textAlign:"center"},children:r("div",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"14px"},children:n==="de"?"Keine Energy Dashboard Entity gefunden. Bitte konfiguriere system.energy_dashboard in Integration.":"No Energy Dashboard entity found. Please configure system.energy_dashboard in Integration."})})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:"WETTER"}),r("div",{className:"ios-card",children:r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("weatherWidget")}),r("div",{className:"ios-item-subtitle",style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)"},children:n==="de"?"Automatisch aus weather.* Entity":"Automatically from weather.* entity"})]})}),r("div",{className:"ios-item-right",children:t&&Object.keys(t.states).some(M=>M.startsWith("weather."))?r("span",{style:{color:"#34C759",fontSize:"18px"},children:""}):r("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]})}),r("div",{className:"ios-section-footer",children:n==="de"?"Wetter-Daten werden automatisch von der ersten weather.* Entity in Home Assistant erkannt.":"Weather data is automatically detected from the first weather.* entity in Home Assistant."})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:"UHR"}),r("div",{className:"ios-card",children:r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("timeWidget")}),r("div",{className:"ios-item-subtitle",style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)"},children:n==="de"?"Systemzeit":"System time"})]})}),r("div",{className:"ios-item-right",children:r("span",{style:{color:"#34C759",fontSize:"18px"},children:""})})]})}),r("div",{className:"ios-section-footer",children:n==="de"?"Die Uhrzeit wird aus der Systemzeit des Browsers abgeleitet. Kein Sensor erforderlich.":"Time is derived from browser system time. No sensor required."})]}),p==="manual"&&r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:e("manualConfiguration")}),r("div",{className:"ios-card",style:{padding:"16px"},children:[r("div",{className:"ios-text",style:{fontSize:"14px",lineHeight:"1.6",marginBottom:"16px"},children:e("manualConfigDescription")}),r("div",{style:{marginBottom:"12px"},children:[r("label",{style:{display:"block",fontSize:"13px",marginBottom:"4px",color:"rgba(255,255,255,0.6)"},children:e("gridConsumptionEntityLabel")}),r("input",{type:"text",value:b.gridConsumption||"",onChange:M=>j("gridConsumption",M.target.value),placeholder:"z.B. sensor.grid_consumption_power",style:{width:"100%",padding:"8px 12px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"white",fontSize:"14px"}})]}),r("div",{style:{marginBottom:"12px"},children:[r("label",{style:{display:"block",fontSize:"13px",marginBottom:"4px",color:"rgba(255,255,255,0.6)"},children:e("gridReturnEntityLabel")}),r("input",{type:"text",value:b.gridReturn||"",onChange:M=>j("gridReturn",M.target.value),placeholder:"z.B. sensor.grid_return_power",style:{width:"100%",padding:"8px 12px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"white",fontSize:"14px"}})]}),r("div",{children:[r("label",{style:{display:"block",fontSize:"13px",marginBottom:"4px",color:"rgba(255,255,255,0.6)"},children:e("solarEntityLabel")}),r("input",{type:"text",value:b.solar||"",onChange:M=>j("solar",M.target.value),placeholder:"z.B. sensor.solar_power",style:{width:"100%",padding:"8px 12px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"white",fontSize:"14px"}})]})]})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:e("aboutDataSources")}),r("div",{className:"ios-card",style:{padding:"16px"},children:r("div",{className:"ios-text",style:{fontSize:"14px",lineHeight:"1.6",whiteSpace:"pre-line"},children:e("autoDetectionDescription")})})]})]})]}):null,r(De,{scrollContainerRef:a,isHovered:l})]},s)},lr={enter:e=>({x:e>0?"100%":"-100%",opacity:0}),center:{x:0,opacity:1},exit:e=>({x:e<0?"100%":"-100%",opacity:0})},e0=(e,t)=>({slow:t("slow"),normal:t("normal"),fast:t("fast")})[e]||t("normal"),H8=()=>{try{const e=localStorage.getItem("systemSettings");if(!e)return{enabled:!0,username:"User"};const n=JSON.parse(e).appearance||{};return{enabled:n.statsBarEnabled!==!1,username:n.statsBarUsername||"User"}}catch{return{enabled:!0,username:"User"}}},$8=()=>{try{const e=localStorage.getItem("systemSettings");return e?{enabled:(JSON.parse(e).appearance||{}).greetingsBarEnabled!==!1}:{enabled:!0}}catch{return{enabled:!0}}},j8=e=>{try{const t=localStorage.getItem("systemSettings"),n=t?JSON.parse(t):{};n.appearance=n.appearance||{},n.appearance.greetingsBarEnabled=e.enabled,localStorage.setItem("systemSettings",JSON.stringify(n))}catch(t){console.error("Failed to save GreetingsBar settings:",t)}},U8=({t:e,aiModeEnabled:t,setAiModeEnabled:n,animations:i,setAnimations:s,soundEffects:o,setSoundEffects:a,language:l,setLanguage:c,currency:d,setCurrency:u,notifications:h,setNotifications:f,showNotifications:p=!0,hass:g,lang:m,predictiveSuggestions:y,confidenceThreshold:b,timeWindow:v,maxSuggestions:w,learningRate:S})=>{const[x,k]=D("main"),N=oe(null),[L,_]=D(!1),[I,T]=D(()=>H8()),[R,j]=D(()=>$8()),[z,B]=D(y),[V,A]=D(b),[F,M]=D(v),[C,X]=D(w),[q,E]=D(S);Y(()=>{const K=Q=>{T(ie=>({...ie,enabled:Q.detail}))};return window.addEventListener("statsBarEnabledChanged",K),()=>window.removeEventListener("statsBarEnabledChanged",K)},[]);const ee=()=>{k("main")},ue=K=>{const Q={...R,enabled:K};j(Q),j8(Q),window.dispatchEvent(new CustomEvent("greetingsBarEnabledChanged",{detail:K}))};return r("div",{className:"ios-settings-container",children:r(Te,{mode:"wait",initial:!1,custom:x==="main"?-1:1,children:x==="main"?r(P.div,{custom:-1,variants:lr,initial:!1,animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),style:{position:"relative"},children:[r("div",{ref:N,className:"ios-settings-view",style:{padding:"20px"},children:[r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:e("general")}),r("div",{className:"ios-card",children:[r("div",{className:"ios-item",style:{display:"none"},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("aiMode")}),r("div",{className:"ios-item-subtitle",children:e("aiModeDescription")})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:t,onChange:K=>{const Q=K.target.checked;n(Q),localStorage.setItem("aiModeEnabled",Q),window.dispatchEvent(new CustomEvent("aiModeSettingChanged",{detail:{enabled:Q}}))}}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-item",style:{display:"none"},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("animations")}),r("div",{className:"ios-item-subtitle",children:e("animationsDescription")})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:i,onChange:K=>s(K.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-item",style:{display:"none"},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("soundEffects")}),r("div",{className:"ios-item-subtitle",children:e("soundEffectsDescription")})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:o,onChange:K=>a(K.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>k("language"),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("appLanguage")}),r("div",{className:"ios-item-subtitle",children:e("appLanguageDescription")})]})}),r("div",{className:"ios-item-right",children:[r("span",{className:"ios-item-value",children:Kp(l)}),r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>k("currency"),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("appCurrency")}),r("div",{className:"ios-item-subtitle",children:e("appCurrencyDescription")})]})}),r("div",{className:"ios-item-right",children:[r("span",{className:"ios-item-value",children:qp(d)}),r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:e("statusAndGreetings")}),r("div",{className:"ios-card",children:[r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>k("statsBar"),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("statsBarLabel")}),r("div",{className:"ios-item-subtitle",children:e("statsBarDescription")})]})}),r("div",{className:"ios-item-right",children:[r("span",{className:"ios-item-value",children:I.enabled?e("active"):e("inactive")}),r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("greetingsBarLabel")}),r("div",{className:"ios-item-subtitle",children:e("greetingsBarDescription")})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:R.enabled,onChange:K=>ue(K.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]})]})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:e("suggestions")}),r("div",{className:"ios-card",children:r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>k("suggestions"),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("enableSuggestions")}),r("div",{className:"ios-item-subtitle",children:e("enableSuggestionsDescription")})]})}),r("div",{className:"ios-item-right",children:[r("span",{className:"ios-item-value",children:e(z?"active":"inactive")}),r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})})]}),r("div",{className:"ios-section",style:{display:"none"},children:[r("div",{className:"ios-section-header",children:e("notifications")}),r("div",{className:"ios-card",children:r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("pushNotifications")}),r("div",{className:"ios-item-subtitle",children:e("pushNotificationsDescription")})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:h,onChange:K=>f(K.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]})})]})]}),r(De,{scrollContainerRef:N,isHovered:L})]},"main"):x==="statsBar"?r(W8,{t:e,hass:g,lang:m,onBack:ee}):x==="suggestions"?r(P.div,{custom:1,variants:lr,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),style:{position:"relative"},children:[r("div",{className:"ios-navbar",children:[r("button",{className:"ios-navbar-back",onClick:ee,children:[r("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:r("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:e("back")})]}),r("div",{className:"ios-navbar-title",children:e("enableSuggestions")})]}),r("div",{ref:N,className:"ios-settings-view",children:[r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:e("settings")}),r("div",{className:"ios-card",children:r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("enableSuggestions")}),r("div",{className:"ios-item-subtitle",children:e("enableSuggestionsDescription")})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:z,onChange:K=>{const Q=K.target.checked;B(Q),localStorage.setItem("predictiveSuggestions",Q),window.dispatchEvent(new CustomEvent("predictiveSettingChanged",{detail:{enabled:Q}}))}}),r("span",{className:"ios-toggle-slider"})]})})]})})]}),r("div",{className:"ios-section",style:{opacity:z?1:.5,pointerEvents:z?"auto":"none",transition:"opacity 0.3s ease"},children:r("div",{className:"ios-card",children:r("div",{className:"ios-item",style:{flexDirection:"column",alignItems:"stretch",padding:"16px"},children:[r("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[r("div",{className:"ios-item-label",style:{fontSize:"14px",fontWeight:"600"},children:e("confidenceThresholdLabel")}),r("div",{className:"slider-value",style:{fontSize:"14px",fontWeight:"600"},children:[V,"%"]})]}),r("div",{className:"ios-item-subtitle",style:{marginBottom:"12px",fontSize:"14px"},children:e("confidenceThresholdDescription")}),r("input",{type:"range",className:"bambu-slider",min:"40",max:"90",value:V,disabled:!z,onChange:K=>{const Q=parseInt(K.target.value);A(Q),localStorage.setItem("confidenceThreshold",Q),window.dispatchEvent(new CustomEvent("predictiveSettingChanged",{detail:{confidenceThreshold:Q}}))},style:{"--value":V,"--min":40,"--max":90}})]})})}),r("div",{className:"ios-section",style:{opacity:z?1:.5,pointerEvents:z?"auto":"none",transition:"opacity 0.3s ease"},children:r("div",{className:"ios-card",children:r("div",{className:"ios-item",style:{flexDirection:"column",alignItems:"stretch",padding:"16px"},children:[r("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[r("div",{className:"ios-item-label",style:{fontSize:"14px",fontWeight:"600"},children:e("timeWindowLabel")}),r("div",{className:"slider-value",style:{fontSize:"14px",fontWeight:"600"},children:[F," min"]})]}),r("div",{className:"ios-item-subtitle",style:{marginBottom:"12px",fontSize:"14px"},children:e("timeWindowDescription")}),r("input",{type:"range",className:"bambu-slider",min:"15",max:"120",step:"15",value:F,disabled:!z,onChange:K=>{const Q=parseInt(K.target.value);M(Q),localStorage.setItem("suggestionTimeWindow",Q),window.dispatchEvent(new CustomEvent("predictiveSettingChanged",{detail:{timeWindow:Q}}))},style:{"--value":F,"--min":15,"--max":120}})]})})}),r("div",{className:"ios-section",style:{opacity:z?1:.5,pointerEvents:z?"auto":"none",transition:"opacity 0.3s ease"},children:r("div",{className:"ios-card",children:r("div",{className:"ios-item",style:{flexDirection:"column",alignItems:"stretch",padding:"16px"},children:[r("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[r("div",{className:"ios-item-label",style:{fontSize:"14px",fontWeight:"600"},children:e("maxSuggestionsLabel")}),r("div",{className:"slider-value",style:{fontSize:"14px",fontWeight:"600"},children:C})]}),r("div",{className:"ios-item-subtitle",style:{marginBottom:"12px",fontSize:"14px"},children:e("maxSuggestionsDescription")}),r("input",{type:"range",className:"bambu-slider",min:"5",max:"20",value:C,disabled:!z,onChange:K=>{const Q=parseInt(K.target.value);X(Q),localStorage.setItem("maxSuggestions",Q),window.dispatchEvent(new CustomEvent("predictiveSettingChanged",{detail:{maxSuggestions:Q}}))},style:{"--value":C,"--min":5,"--max":20}})]})})}),r("div",{className:"ios-section",style:{opacity:z?1:.5,pointerEvents:z?"auto":"none",transition:"opacity 0.3s ease"},children:[r("div",{className:"ios-section-header",children:e("learningSpeed")}),r("div",{className:"ios-card",children:r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>k("learningRate"),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("learningSpeed")}),r("div",{className:"ios-item-subtitle",children:e("learningSpeedDescription")})]})}),r("div",{className:"ios-item-right",children:[r("span",{className:"ios-item-value",children:e0(q,e)}),r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})})]})]}),r(De,{scrollContainerRef:N,isHovered:L})]},"suggestions"):x==="learningRate"?r(P.div,{custom:1,variants:lr,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),style:{position:"relative"},children:[r("div",{className:"ios-navbar",children:[r("button",{className:"ios-navbar-back",onClick:()=>k("suggestions"),children:[r("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:r("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:e("back")})]}),r("div",{className:"ios-navbar-title",children:e("learningSpeed")})]}),r("div",{ref:N,className:"ios-settings-view",children:r("div",{className:"ios-section",children:r("div",{className:"ios-card",children:["slow","normal","fast"].map((K,Q)=>r("div",{children:[Q>0&&r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{E(K),localStorage.setItem("learningRate",K),window.dispatchEvent(new CustomEvent("predictiveSettingChanged",{detail:{learningRate:K}}))},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:e0(K,e)})})}),r("div",{className:"ios-item-right",children:q===K&&r("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",style:{color:"rgb(0, 122, 255)"},children:r("path",{d:"M7 10L9 12L13 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]},K))})})}),r(De,{scrollContainerRef:N,isHovered:L})]},"learningRate"):x==="language"?r(P.div,{custom:1,variants:lr,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),style:{position:"relative"},children:[r("div",{className:"ios-navbar",children:[r("button",{className:"ios-navbar-back",onClick:ee,children:[r("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:r("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:e("back")||"Zurck"})]}),r("div",{className:"ios-navbar-title",children:e("appLanguage")})]}),r("div",{ref:N,className:"ios-settings-view",children:r("div",{className:"ios-section",children:r("div",{className:"ios-card",children:k8.map((K,Q)=>r("div",{children:[Q>0&&r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{c(K),localStorage.setItem("userLanguage",K),window.dispatchEvent(new CustomEvent("languageChanged",{detail:{language:K}})),setTimeout(ee,150)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:Kp(K)})})}),r("div",{className:"ios-item-right",children:l===K&&r(P.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[r(P.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),r(P.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]})]},K))})})}),r(De,{scrollContainerRef:N,isHovered:L})]},"language"):x==="currency"?r(P.div,{custom:1,variants:lr,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),style:{position:"relative"},children:[r("div",{className:"ios-navbar",children:[r("button",{className:"ios-navbar-back",onClick:ee,children:[r("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:r("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:e("back")||"Zurck"})]}),r("div",{className:"ios-navbar-title",children:e("appCurrency")})]}),r("div",{ref:N,className:"ios-settings-view",children:r("div",{className:"ios-section",children:r("div",{className:"ios-card",children:C8.map((K,Q)=>r("div",{children:[Q>0&&r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{u(K),localStorage.setItem("userCurrency",K),window.dispatchEvent(new CustomEvent("currencyChanged",{detail:{currency:K}})),setTimeout(ee,150)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:qp(K)})})}),r("div",{className:"ios-item-right",children:d===K&&r(P.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[r(P.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),r(P.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]})]},K))})})}),r(De,{scrollContainerRef:N,isHovered:L})]},"currency"):null})})},U2={none:null,subtle:"polygon(100% 50%, 100% 58%, 100% 60.5%, 100% 62.5%, 99.95% 64.2%, 99.95% 65.6%, 99.9% 66.9%, 99.85% 68.1%, 99.8% 69.2%, 99.75% 70.2%, 99.7% 71.2%, 99.6% 72.1%, 99.5% 73%, 99.4% 73.9%, 99.3% 74.7%, 99.15% 75.5%, 99% 76.3%, 98.85% 77%, 98.7% 77.7%, 98.5% 78.4%, 98.3% 79.1%, 98.1% 79.7%, 97.9% 80.4%, 97.65% 81%, 97.4% 81.6%, 97.15% 82.2%, 96.9% 82.8%, 96.6% 83.4%, 96.3% 84%, 96% 84.5%, 95.7% 85%, 95.4% 85.6%, 95.05% 86.1%, 94.7% 86.6%, 94.35% 87.1%, 94% 87.6%, 93.6% 88.1%, 93.2% 88.5%, 92.8% 89%, 92.4% 89.4%, 92% 89.9%, 91.55% 90.3%, 91.1% 90.7%, 90.65% 91.1%, 90.2% 91.5%, 89.7% 91.9%, 89.25% 92.2%, 88.75% 92.6%, 88.3% 93%, 87.8% 93.3%, 87.3% 93.7%, 86.8% 94%, 86.25% 94.35%, 85.7% 94.7%, 85.2% 95%, 84.65% 95.3%, 84.1% 95.6%, 83.5% 95.9%, 82.95% 96.15%, 82.4% 96.4%, 81.8% 96.65%, 81.2% 96.9%, 80.6% 97.1%, 80% 97.35%, 79.4% 97.6%, 78.75% 97.8%, 78.1% 98%, 77.45% 98.2%, 76.8% 98.35%, 76.1% 98.5%, 75.4% 98.65%, 74.7% 98.8%, 74% 98.9%, 73.25% 99%, 72.5% 99.1%, 71.75% 99.2%, 71% 99.3%, 70.2% 99.35%, 69.4% 99.4%, 68.6% 99.45%, 67.8% 99.5%, 67% 99.55%, 66.2% 99.6%, 65.35% 99.65%, 64.5% 99.7%, 63.65% 99.75%, 62.8% 99.8%, 61.9% 99.85%, 61% 99.9%, 60.1% 99.95%, 59.2% 100%, 58.25% 100%, 57.3% 100%, 56.3% 100%, 55.3% 100%, 54.3% 100%, 53.25% 100%, 52.2% 100%, 51.1% 100%, 50% 100%, 48.9% 100%, 47.8% 100%, 46.75% 100%, 45.7% 100%, 44.7% 100%, 43.7% 100%, 42.7% 100%, 41.75% 100%, 40.8% 100%, 39.9% 99.95%, 39% 99.9%, 38.1% 99.85%, 37.2% 99.8%, 36.35% 99.75%, 35.5% 99.7%, 34.65% 99.65%, 33.8% 99.6%, 33% 99.55%, 32.2% 99.5%, 31.4% 99.45%, 30.6% 99.4%, 29.8% 99.35%, 29% 99.3%, 28.25% 99.2%, 27.5% 99.1%, 26.75% 99%, 26% 98.9%, 25.3% 98.8%, 24.6% 98.65%, 23.9% 98.5%, 23.2% 98.35%, 22.55% 98.2%, 21.9% 98%, 21.25% 97.8%, 20.6% 97.6%, 20% 97.35%, 19.4% 97.1%, 18.8% 96.9%, 18.2% 96.65%, 17.6% 96.4%, 17.05% 96.15%, 16.5% 95.9%, 15.9% 95.6%, 15.35% 95.3%, 14.8% 95%, 14.3% 94.7%, 13.75% 94.35%, 13.2% 94%, 12.7% 93.7%, 12.2% 93.3%, 11.7% 93%, 11.25% 92.6%, 10.75% 92.2%, 10.3% 91.9%, 9.8% 91.5%, 9.35% 91.1%, 8.9% 90.7%, 8.45% 90.3%, 8% 89.9%, 7.6% 89.4%, 7.2% 89%, 6.8% 88.5%, 6.4% 88.1%, 6% 87.6%, 5.65% 87.1%, 5.3% 86.6%, 4.95% 86.1%, 4.6% 85.6%, 4.3% 85%, 4% 84.5%, 3.7% 84%, 3.4% 83.4%, 3.1% 82.8%, 2.85% 82.2%, 2.6% 81.6%, 2.35% 81%, 2.1% 80.4%, 1.9% 79.7%, 1.7% 79.1%, 1.5% 78.4%, 1.3% 77.7%, 1.15% 77%, 1% 76.3%, 0.85% 75.5%, 0.7% 74.7%, 0.6% 73.9%, 0.5% 73%, 0.4% 72.1%, 0.3% 71.2%, 0.25% 70.2%, 0.2% 69.2%, 0.15% 68.1%, 0.1% 66.9%, 0.05% 65.6%, 0.05% 64.2%, 0% 62.5%, 0% 60.5%, 0% 58%, 0% 50%, 0% 42%, 0% 39.5%, 0% 37.5%, 0.05% 35.8%, 0.05% 34.4%, 0.1% 33.1%, 0.15% 31.9%, 0.2% 30.8%, 0.25% 29.8%, 0.3% 28.8%, 0.4% 27.9%, 0.5% 27%, 0.6% 26.1%, 0.7% 25.3%, 0.85% 24.5%, 1% 23.7%, 1.15% 23%, 1.3% 22.3%, 1.5% 21.6%, 1.7% 20.9%, 1.9% 20.3%, 2.1% 19.6%, 2.35% 19%, 2.6% 18.4%, 2.85% 17.8%, 3.1% 17.2%, 3.4% 16.6%, 3.7% 16%, 4% 15.5%, 4.3% 15%, 4.6% 14.4%, 4.95% 13.9%, 5.3% 13.4%, 5.65% 12.9%, 6% 12.4%, 6.4% 11.9%, 6.8% 11.5%, 7.2% 11%, 7.6% 10.6%, 8% 10.1%, 8.45% 9.7%, 8.9% 9.3%, 9.35% 8.9%, 9.8% 8.5%, 10.3% 8.1%, 10.75% 7.8%, 11.25% 7.4%, 11.7% 7%, 12.2% 6.7%, 12.7% 6.3%, 13.2% 6%, 13.75% 5.65%, 14.3% 5.3%, 14.8% 5%, 15.35% 4.7%, 15.9% 4.4%, 16.5% 4.1%, 17.05% 3.85%, 17.6% 3.6%, 18.2% 3.35%, 18.8% 3.1%, 19.4% 2.9%, 20% 2.65%, 20.6% 2.4%, 21.25% 2.2%, 21.9% 2%, 22.55% 1.8%, 23.2% 1.65%, 23.9% 1.5%, 24.6% 1.35%, 25.3% 1.2%, 26% 1.1%, 26.75% 1%, 27.5% 0.9%, 28.25% 0.8%, 29% 0.7%, 29.8% 0.65%, 30.6% 0.6%, 31.4% 0.55%, 32.2% 0.5%, 33% 0.45%, 33.8% 0.4%, 34.65% 0.35%, 35.5% 0.3%, 36.35% 0.25%, 37.2% 0.2%, 38.1% 0.15%, 39% 0.1%, 39.9% 0.05%, 40.8% 0%, 41.75% 0%, 42.7% 0%, 43.7% 0%, 44.7% 0%, 45.7% 0%, 46.75% 0%, 47.8% 0%, 48.9% 0%, 50% 0%, 51.1% 0%, 52.2% 0%, 53.25% 0%, 54.3% 0%, 55.3% 0%, 56.3% 0%, 57.3% 0%, 58.25% 0%, 59.2% 0%, 60.1% 0.05%, 61% 0.1%, 61.9% 0.15%, 62.8% 0.2%, 63.65% 0.25%, 64.5% 0.3%, 65.35% 0.35%, 66.2% 0.4%, 67% 0.45%, 67.8% 0.5%, 68.6% 0.55%, 69.4% 0.6%, 70.2% 0.65%, 71% 0.7%, 71.75% 0.8%, 72.5% 0.9%, 73.25% 1%, 74% 1.1%, 74.7% 1.2%, 75.4% 1.35%, 76.1% 1.5%, 76.8% 1.65%, 77.45% 1.8%, 78.1% 2%, 78.75% 2.2%, 79.4% 2.4%, 80% 2.65%, 80.6% 2.9%, 81.2% 3.1%, 81.8% 3.35%, 82.4% 3.6%, 82.95% 3.85%, 83.5% 4.1%, 84.1% 4.4%, 84.65% 4.7%, 85.2% 5%, 85.7% 5.3%, 86.25% 5.65%, 86.8% 6%, 87.3% 6.3%, 87.8% 6.7%, 88.3% 7%, 88.75% 7.4%, 89.25% 7.8%, 89.7% 8.1%, 90.2% 8.5%, 90.65% 8.9%, 91.1% 9.3%, 91.55% 9.7%, 92% 10.1%, 92.4% 10.6%, 92.8% 11%, 93.2% 11.5%, 93.6% 11.9%, 94% 12.4%, 94.35% 12.9%, 94.7% 13.4%, 95.05% 13.9%, 95.4% 14.4%, 95.7% 15%, 96% 15.5%, 96.3% 16%, 96.6% 16.6%, 96.9% 17.2%, 97.15% 17.8%, 97.4% 18.4%, 97.65% 19%, 97.9% 19.6%, 98.1% 20.3%, 98.3% 20.9%, 98.5% 21.6%, 98.7% 22.3%, 98.85% 23%, 99% 23.7%, 99.15% 24.5%, 99.3% 25.3%, 99.4% 26.1%, 99.5% 27%, 99.6% 27.9%, 99.7% 28.8%, 99.75% 29.8%, 99.8% 30.8%, 99.85% 31.9%, 99.9% 33.1%, 99.95% 34.4%, 99.95% 35.8%, 100% 37.5%, 100% 39.5%, 100% 42%, 100% 0)",balanced:"polygon(100% 50%, 100% 56.6%, 100% 59.3%, 100% 61.4%, 99.9% 63.2%, 99.9% 64.8%, 99.9% 66.2%, 99.8% 67.5%, 99.8% 68.7%, 99.7% 69.8%, 99.6% 70.8%, 99.5% 71.8%, 99.5% 72.8%, 99.4% 73.7%, 99.3% 74.6%, 99.1% 75.4%, 99% 76.3%, 98.9% 77%, 98.8% 77.8%, 98.6% 78.5%, 98.5% 79.2%, 98.3% 79.9%, 98.1% 80.6%, 98% 81.3%, 97.8% 81.9%, 97.6% 82.5%, 97.4% 83.1%, 97.2% 83.7%, 97% 84.3%, 96.8% 84.8%, 96.5% 85.4%, 96.3% 85.9%, 96% 86.4%, 95.8% 86.9%, 95.5% 87.4%, 95.3% 87.9%, 95% 88.3%, 94.7% 88.8%, 94.4% 89.2%, 94.1% 89.7%, 93.8% 90.1%, 93.4% 90.5%, 93.1% 90.9%, 92.8% 91.3%, 92.4% 91.7%, 92% 92%, 91.7% 92.4%, 91.3% 92.8%, 90.9% 93.1%, 90.5% 93.4%, 90.1% 93.8%, 89.7% 94.1%, 89.2% 94.4%, 88.8% 94.7%, 88.3% 95%, 87.9% 95.3%, 87.4% 95.5%, 86.9% 95.8%, 86.4% 96%, 85.9% 96.3%, 85.4% 96.5%, 84.8% 96.8%, 84.3% 97%, 83.7% 97.2%, 83.1% 97.4%, 82.5% 97.6%, 81.9% 97.8%, 81.3% 98%, 80.6% 98.1%, 79.9% 98.3%, 79.2% 98.5%, 78.5% 98.6%, 77.8% 98.8%, 77% 98.9%, 76.3% 99%, 75.4% 99.1%, 74.6% 99.3%, 73.7% 99.4%, 72.8% 99.5%, 71.8% 99.5%, 70.8% 99.6%, 69.8% 99.7%, 68.7% 99.8%, 67.5% 99.8%, 66.2% 99.9%, 64.8% 99.9%, 63.2% 99.9%, 61.4% 100%, 59.3% 100%, 56.6% 100%, 50% 100%, 43.4% 100%, 40.7% 100%, 38.6% 100%, 36.8% 99.9%, 35.2% 99.9%, 33.8% 99.9%, 32.5% 99.8%, 31.3% 99.8%, 30.2% 99.7%, 29.2% 99.6%, 28.2% 99.5%, 27.2% 99.5%, 26.3% 99.4%, 25.4% 99.3%, 24.6% 99.1%, 23.7% 99%, 23% 98.9%, 22.2% 98.8%, 21.5% 98.6%, 20.8% 98.5%, 20.1% 98.3%, 19.4% 98.1%, 18.7% 98%, 18.1% 97.8%, 17.5% 97.6%, 16.9% 97.4%, 16.3% 97.2%, 15.7% 97%, 15.2% 96.8%, 14.6% 96.5%, 14.1% 96.3%, 13.6% 96%, 13.1% 95.8%, 12.6% 95.5%, 12.1% 95.3%, 11.7% 95%, 11.2% 94.7%, 10.8% 94.4%, 10.3% 94.1%, 9.9% 93.8%, 9.5% 93.4%, 9.1% 93.1%, 8.7% 92.8%, 8.3% 92.4%, 8% 92%, 7.6% 91.7%, 7.2% 91.3%, 6.9% 90.9%, 6.6% 90.5%, 6.2% 90.1%, 5.9% 89.7%, 5.6% 89.2%, 5.3% 88.8%, 5% 88.3%, 4.7% 87.9%, 4.5% 87.4%, 4.2% 86.9%, 4% 86.4%, 3.7% 85.9%, 3.5% 85.4%, 3.2% 84.8%, 3% 84.3%, 2.8% 83.7%, 2.6% 83.1%, 2.4% 82.5%, 2.2% 81.9%, 2% 81.3%, 1.9% 80.6%, 1.7% 79.9%, 1.5% 79.2%, 1.4% 78.5%, 1.2% 77.8%, 1.1% 77%, 1% 76.3%, 0.9% 75.4%, 0.7% 74.6%, 0.6% 73.7%, 0.5% 72.8%, 0.5% 71.8%, 0.4% 70.8%, 0.3% 69.8%, 0.2% 68.7%, 0.2% 67.5%, 0.1% 66.2%, 0.1% 64.8%, 0.1% 63.2%, 0% 61.4%, 0% 59.3%, 0% 56.6%, 0% 50%, 0% 43.4%, 0% 40.7%, 0% 38.6%, 0.1% 36.8%, 0.1% 35.2%, 0.1% 33.8%, 0.2% 32.5%, 0.2% 31.3%, 0.3% 30.2%, 0.4% 29.2%, 0.5% 28.2%, 0.5% 27.2%, 0.6% 26.3%, 0.7% 25.4%, 0.9% 24.6%, 1% 23.7%, 1.1% 23%, 1.2% 22.2%, 1.4% 21.5%, 1.5% 20.8%, 1.7% 20.1%, 1.9% 19.4%, 2% 18.7%, 2.2% 18.1%, 2.4% 17.5%, 2.6% 16.9%, 2.8% 16.3%, 3% 15.7%, 3.2% 15.2%, 3.5% 14.6%, 3.7% 14.1%, 4% 13.6%, 4.2% 13.1%, 4.5% 12.6%, 4.7% 12.1%, 5% 11.7%, 5.3% 11.2%, 5.6% 10.8%, 5.9% 10.3%, 6.2% 9.9%, 6.6% 9.5%, 6.9% 9.1%, 7.2% 8.7%, 7.6% 8.3%, 8% 8%, 8.3% 7.6%, 8.7% 7.2%, 9.1% 6.9%, 9.5% 6.6%, 9.9% 6.2%, 10.3% 5.9%, 10.8% 5.6%, 11.2% 5.3%, 11.7% 5%, 12.1% 4.7%, 12.6% 4.5%, 13.1% 4.2%, 13.6% 4%, 14.1% 3.7%, 14.6% 3.5%, 15.2% 3.2%, 15.7% 3%, 16.3% 2.8%, 16.9% 2.6%, 17.5% 2.4%, 18.1% 2.2%, 18.7% 2%, 19.4% 1.9%, 20.1% 1.7%, 20.8% 1.5%, 21.5% 1.4%, 22.2% 1.2%, 23% 1.1%, 23.7% 1%, 24.6% 0.9%, 25.4% 0.7%, 26.3% 0.6%, 27.2% 0.5%, 28.2% 0.5%, 29.2% 0.4%, 30.2% 0.3%, 31.3% 0.2%, 32.5% 0.2%, 33.8% 0.1%, 35.2% 0.1%, 36.8% 0.1%, 38.6% 0%, 40.7% 0%, 43.4% 0%, 50% 0%, 56.6% 0%, 59.3% 0%, 61.4% 0%, 63.2% 0.1%, 64.8% 0.1%, 66.2% 0.1%, 67.5% 0.2%, 68.7% 0.2%, 69.8% 0.3%, 70.8% 0.4%, 71.8% 0.5%, 72.8% 0.5%, 73.7% 0.6%, 74.6% 0.7%, 75.4% 0.9%, 76.3% 1%, 77% 1.1%, 77.8% 1.2%, 78.5% 1.4%, 79.2% 1.5%, 79.9% 1.7%, 80.6% 1.9%, 81.3% 2%, 81.9% 2.2%, 82.5% 2.4%, 83.1% 2.6%, 83.7% 2.8%, 84.3% 3%, 84.8% 3.2%, 85.4% 3.5%, 85.9% 3.7%, 86.4% 4%, 86.9% 4.2%, 87.4% 4.5%, 87.9% 4.7%, 88.3% 5%, 88.8% 5.3%, 89.2% 5.6%, 89.7% 5.9%, 90.1% 6.2%, 90.5% 6.6%, 90.9% 6.9%, 91.3% 7.2%, 91.7% 7.6%, 92% 8%, 92.4% 8.3%, 92.8% 8.7%, 93.1% 9.1%, 93.4% 9.5%, 93.8% 9.9%, 94.1% 10.3%, 94.4% 10.8%, 94.7% 11.2%, 95% 11.7%, 95.3% 12.1%, 95.5% 12.6%, 95.8% 13.1%, 96% 13.6%, 96.3% 14.1%, 96.5% 14.6%, 96.8% 15.2%, 97% 15.7%, 97.2% 16.3%, 97.4% 16.9%, 97.6% 17.5%, 97.8% 18.1%, 98% 18.7%, 98.1% 19.4%, 98.3% 20.1%, 98.5% 20.8%, 98.6% 21.5%, 98.8% 22.2%, 98.9% 23%, 99% 23.7%, 99.1% 24.6%, 99.3% 25.4%, 99.4% 26.3%, 99.5% 27.2%, 99.5% 28.2%, 99.6% 29.2%, 99.7% 30.2%, 99.8% 31.3%, 99.8% 32.5%, 99.9% 33.8%, 99.9% 35.2%, 99.9% 36.8%, 100% 38.6%, 100% 40.7%, 100% 43.4%, 100% 0)",prominent:"polygon(100% 50%, 100% 55.4%, 100% 58.2%, 100% 60.5%, 99.95% 62.5%, 99.9% 64.2%, 99.9% 65.8%, 99.85% 67.2%, 99.8% 68.5%, 99.75% 69.7%, 99.7% 70.8%, 99.65% 71.9%, 99.6% 72.9%, 99.55% 73.9%, 99.5% 74.8%, 99.4% 75.7%, 99.3% 76.6%, 99.2% 77.4%, 99.1% 78.2%, 99% 79%, 98.9% 79.7%, 98.75% 80.5%, 98.6% 81.2%, 98.45% 81.9%, 98.3% 82.6%, 98.15% 83.2%, 97.95% 83.9%, 97.75% 84.5%, 97.55% 85.1%, 97.35% 85.7%, 97.15% 86.3%, 96.9% 86.9%, 96.7% 87.4%, 96.45% 88%, 96.2% 88.5%, 95.95% 89%, 95.7% 89.5%, 95.4% 90%, 95.1% 90.5%, 94.8% 91%, 94.5% 91.4%, 94.2% 91.9%, 93.85% 92.3%, 93.5% 92.7%, 93.15% 93.1%, 92.8% 93.5%, 92.4% 93.9%, 92% 94.3%, 91.6% 94.6%, 91.2% 95%, 90.75% 95.3%, 90.35% 95.7%, 89.9% 96%, 89.5% 96.3%, 89.05% 96.6%, 88.6% 96.9%, 88.15% 97.2%, 87.7% 97.5%, 87.2% 97.75%, 86.7% 98%, 86.2% 98.25%, 85.7% 98.5%, 85.2% 98.7%, 84.65% 98.95%, 84.1% 99.15%, 83.55% 99.35%, 83% 99.5%, 82.4% 99.7%, 81.8% 99.85%, 81.2% 100%, 80.6% 100%, 79.95% 100%, 79.3% 100%, 78.65% 100%, 78% 100%, 77.3% 100%, 76.6% 100%, 75.9% 100%, 75.2% 100%, 74.5% 100%, 73.75% 100%, 73% 100%, 72.25% 100%, 71.5% 100%, 70.75% 100%, 70% 100%, 69.2% 100%, 68.4% 100%, 67.6% 100%, 66.8% 100%, 66% 100%, 65.2% 100%, 64.35% 100%, 63.5% 100%, 62.65% 100%, 61.8% 100%, 60.95% 100%, 60.05% 100%, 59.2% 100%, 58.3% 100%, 57.4% 100%, 56.5% 100%, 55.6% 100%, 54.7% 100%, 53.75% 100%, 52.8% 100%, 51.85% 100%, 50.9% 100%, 50% 100%, 49.1% 100%, 48.15% 100%, 47.2% 100%, 46.25% 100%, 45.3% 100%, 44.4% 100%, 43.5% 100%, 42.6% 100%, 41.7% 100%, 40.8% 100%, 39.95% 100%, 39.05% 100%, 38.2% 100%, 37.35% 100%, 36.5% 100%, 35.65% 100%, 34.8% 100%, 34% 100%, 33.2% 100%, 32.4% 100%, 31.6% 100%, 30.8% 100%, 30% 100%, 29.25% 100%, 28.5% 100%, 27.75% 100%, 27% 100%, 26.25% 100%, 25.5% 100%, 24.8% 100%, 24.1% 100%, 23.4% 100%, 22.7% 100%, 22% 100%, 21.35% 100%, 20.7% 100%, 20.05% 100%, 19.4% 100%, 18.8% 99.85%, 18.2% 99.7%, 17.6% 99.5%, 17% 99.35%, 16.45% 99.15%, 15.9% 98.95%, 15.35% 98.7%, 14.8% 98.5%, 14.3% 98.25%, 13.8% 98%, 13.3% 97.75%, 12.8% 97.5%, 12.35% 97.2%, 11.85% 96.9%, 11.4% 96.6%, 10.95% 96.3%, 10.5% 96%, 10.1% 95.7%, 9.65% 95.3%, 9.25% 95%, 8.8% 94.6%, 8.4% 94.3%, 8% 93.9%, 7.6% 93.5%, 7.2% 93.1%, 6.85% 92.7%, 6.5% 92.3%, 6.15% 91.9%, 5.8% 91.4%, 5.5% 91%, 5.2% 90.5%, 4.9% 90%, 4.6% 89.5%, 4.3% 89%, 4.05% 88.5%, 3.8% 88%, 3.55% 87.4%, 3.3% 86.9%, 3.1% 86.3%, 2.85% 85.7%, 2.65% 85.1%, 2.45% 84.5%, 2.25% 83.9%, 2.05% 83.2%, 1.85% 82.6%, 1.7% 81.9%, 1.55% 81.2%, 1.4% 80.5%, 1.25% 79.7%, 1.1% 79%, 1% 78.2%, 0.9% 77.4%, 0.8% 76.6%, 0.7% 75.7%, 0.6% 74.8%, 0.5% 73.9%, 0.45% 72.9%, 0.4% 71.9%, 0.35% 70.8%, 0.3% 69.7%, 0.25% 68.5%, 0.2% 67.2%, 0.15% 65.8%, 0.1% 64.2%, 0.1% 62.5%, 0.05% 60.5%, 0% 58.2%, 0% 55.4%, 0% 50%, 0% 44.6%, 0% 41.8%, 0.05% 39.5%, 0.1% 37.5%, 0.1% 35.8%, 0.15% 34.2%, 0.2% 32.8%, 0.25% 31.5%, 0.3% 30.3%, 0.35% 29.2%, 0.4% 28.1%, 0.45% 27.1%, 0.5% 26.1%, 0.6% 25.2%, 0.7% 24.3%, 0.8% 23.4%, 0.9% 22.6%, 1% 21.8%, 1.1% 21%, 1.25% 20.3%, 1.4% 19.5%, 1.55% 18.8%, 1.7% 18.1%, 1.85% 17.4%, 2.05% 16.8%, 2.25% 16.1%, 2.45% 15.5%, 2.65% 14.9%, 2.85% 14.3%, 3.1% 13.7%, 3.3% 13.1%, 3.55% 12.6%, 3.8% 12%, 4.05% 11.5%, 4.3% 11%, 4.6% 10.5%, 4.9% 10%, 5.2% 9.5%, 5.5% 9%, 5.8% 8.6%, 6.15% 8.1%, 6.5% 7.7%, 6.85% 7.3%, 7.2% 6.9%, 7.6% 6.5%, 8% 6.1%, 8.4% 5.7%, 8.8% 5.4%, 9.25% 5%, 9.65% 4.7%, 10.1% 4.3%, 10.5% 4%, 10.95% 3.7%, 11.4% 3.4%, 11.85% 3.1%, 12.35% 2.8%, 12.8% 2.5%, 13.3% 2.25%, 13.8% 2%, 14.3% 1.75%, 14.8% 1.5%, 15.35% 1.3%, 15.9% 1.05%, 16.45% 0.85%, 17% 0.65%, 17.6% 0.5%, 18.2% 0.3%, 18.8% 0.15%, 19.4% 0%, 20.05% 0%, 20.7% 0%, 21.35% 0%, 22% 0%, 22.7% 0%, 23.4% 0%, 24.1% 0%, 24.8% 0%, 25.5% 0%, 26.25% 0%, 27% 0%, 27.75% 0%, 28.5% 0%, 29.25% 0%, 30% 0%, 30.8% 0%, 31.6% 0%, 32.4% 0%, 33.2% 0%, 34% 0%, 34.8% 0%, 35.65% 0%, 36.5% 0%, 37.35% 0%, 38.2% 0%, 39.05% 0%, 39.95% 0%, 40.8% 0%, 41.7% 0%, 42.6% 0%, 43.5% 0%, 44.4% 0%, 45.3% 0%, 46.25% 0%, 47.2% 0%, 48.15% 0%, 49.1% 0%, 50% 0%, 50.9% 0%, 51.85% 0%, 52.8% 0%, 53.75% 0%, 54.7% 0%, 55.6% 0%, 56.5% 0%, 57.4% 0%, 58.3% 0%, 59.2% 0%, 60.05% 0%, 60.95% 0%, 61.8% 0%, 62.65% 0%, 63.5% 0%, 64.35% 0%, 65.2% 0%, 66% 0%, 66.8% 0%, 67.6% 0%, 68.4% 0%, 69.2% 0%, 70% 0%, 70.75% 0%, 71.5% 0%, 72.25% 0%, 73% 0%, 73.75% 0%, 74.5% 0%, 75.2% 0%, 75.9% 0%, 76.6% 0%, 77.3% 0%, 78% 0%, 78.65% 0%, 79.3% 0%, 79.95% 0%, 80.6% 0%, 81.2% 0%, 81.8% 0.15%, 82.4% 0.3%, 83% 0.5%, 83.55% 0.65%, 84.1% 0.85%, 84.65% 1.05%, 85.2% 1.3%, 85.7% 1.5%, 86.2% 1.75%, 86.7% 2%, 87.2% 2.25%, 87.7% 2.5%, 88.15% 2.8%, 88.6% 3.1%, 89.05% 3.4%, 89.5% 3.7%, 89.9% 4%, 90.35% 4.3%, 90.75% 4.7%, 91.2% 5%, 91.6% 5.4%, 92% 5.7%, 92.4% 6.1%, 92.8% 6.5%, 93.15% 6.9%, 93.5% 7.3%, 93.85% 7.7%, 94.2% 8.1%, 94.5% 8.6%, 94.8% 9%, 95.1% 9.5%, 95.4% 10%, 95.7% 10.5%, 95.95% 11%, 96.2% 11.5%, 96.45% 12%, 96.7% 12.6%, 96.9% 13.1%, 97.15% 13.7%, 97.35% 14.3%, 97.55% 14.9%, 97.75% 15.5%, 97.95% 16.1%, 98.15% 16.8%, 98.3% 17.4%, 98.45% 18.1%, 98.6% 18.8%, 98.75% 19.5%, 98.9% 20.3%, 99% 21%, 99.1% 21.8%, 99.2% 22.6%, 99.3% 23.4%, 99.4% 24.3%, 99.5% 25.2%, 99.55% 26.1%, 99.6% 27.1%, 99.65% 28.1%, 99.7% 29.2%, 99.75% 30.3%, 99.8% 31.5%, 99.85% 32.8%, 99.9% 34.2%, 99.9% 35.8%, 99.95% 37.5%, 100% 39.5%, 100% 41.8%, 100% 44.6%, 100% 0)"},$d=(e="none")=>U2[e]||null,G8=Object.freeze(Object.defineProperty({__proto__:null,SQUIRCLE_STYLES:U2,getSquircleClipPath:$d},Symbol.toStringTag,{value:"Module"})),G2=()=>{try{const e=localStorage.getItem("systemSettings");if(!e)return{sidebarVisible:!0,headerVisible:!0};const n=JSON.parse(e).appearance||{};return{sidebarVisible:n.sidebarVisible!==!1,headerVisible:n.headerVisible!==!1}}catch{return{sidebarVisible:!0,headerVisible:!0}}},K2=()=>{try{return document.querySelector("home-assistant")?.shadowRoot?.querySelector("home-assistant-main")?.shadowRoot||null}catch{return null}},q2=()=>{try{return K2()?.querySelector("ha-drawer")||null}catch{return null}},K8=()=>{try{return q2()?.querySelector("partial-panel-resolver")?.querySelector("ha-panel-lovelace")?.shadowRoot?.querySelector("hui-root")?.shadowRoot||null}catch{return null}},nl=(e,t,n)=>{if(!e)return!1;let i=e.getElementById(t);return n?(i||(i=document.createElement("style"),i.id=t,e.appendChild(i)),i.textContent=n,!0):(i&&i.remove(),!0)},jd=(e=null,t=0)=>{e||(e=G2());const i=K2(),o=q2()?.shadowRoot,a=K8();if((!i||!a)&&t<50){setTimeout(()=>jd(e,t+1),50);return}if(!i)return;const l=e.sidebarVisible?null:`
    ha-sidebar {
      display: none !important;
    }
    ha-drawer {
      --mdc-drawer-width: 0px !important;
    }
  `;if(nl(i,"fast-search-hide-sidebar",l),o){const c=e.sidebarVisible?null:`
      .mdc-drawer,
      aside,
      .mdc-drawer-app-content {
        border: none !important;
        margin: 0 !important;
        padding: 0 !important;
      }
      .mdc-drawer {
        width: 0 !important;
      }
    `;nl(o,"fast-search-hide-drawer-inner",c)}if(a){const c=e.headerVisible?null:`
      div.header {
        display: none !important;
      }
    `;nl(a,"fast-search-hide-header",c)}},Li={enter:e=>({x:e>0?"100%":"-100%",opacity:0}),center:{x:0,opacity:1},exit:e=>({x:e<0?"100%":"-100%",opacity:0})},q8=(e,t)=>t(e==="dark"?"dark":e==="light"?"light":"automatic"),Y8=(e,t)=>({none:t("squircleStandard"),prominent:t("squircleProminent"),balanced:t("squircleBalanced"),subtle:t("squircleSubtle")})[e]||t("squircleStandard"),Z8=()=>{try{const e=localStorage.getItem("systemSettings");if(!e)return{brightness:100,blur:0,contrast:100,saturation:100,grayscale:0};const n=JSON.parse(e).appearance||{};return{brightness:n.backgroundBrightness||100,blur:n.backgroundBlur||0,contrast:n.backgroundContrast||100,saturation:n.backgroundSaturation||100,grayscale:n.backgroundGrayscale||0}}catch{return{brightness:100,blur:0,contrast:100,saturation:100,grayscale:0}}},cr=e=>{try{const t=localStorage.getItem("systemSettings"),n=t?JSON.parse(t):{};n.appearance=n.appearance||{},n.appearance.backgroundBrightness=e.brightness,n.appearance.backgroundBlur=e.blur,n.appearance.backgroundContrast=e.contrast,n.appearance.backgroundSaturation=e.saturation,n.appearance.backgroundGrayscale=e.grayscale,localStorage.setItem("systemSettings",JSON.stringify(n)),document.documentElement.style.setProperty("--background-brightness",`${e.brightness}%`),document.documentElement.style.setProperty("--background-blur",`${e.blur}px`),document.documentElement.style.setProperty("--background-contrast",`${e.contrast}%`),document.documentElement.style.setProperty("--background-saturation",`${e.saturation}%`),document.documentElement.style.setProperty("--background-grayscale",`${e.grayscale}%`)}catch(t){console.error("Failed to save background settings:",t)}},X8=()=>{try{const e=localStorage.getItem("systemSettings");if(!e)return{enabled:!1,mobileEnabled:!1,path:"/local/fast-search-videos"};const n=JSON.parse(e).appearance||{};return{enabled:n.detailViewVideosEnabled===!0,mobileEnabled:n.detailViewVideosMobileEnabled===!0,path:n.detailViewVideosPath||"/local/fast-search-videos"}}catch{return{enabled:!1,mobileEnabled:!1,path:"/local/fast-search-videos"}}},t0=e=>{try{const t=localStorage.getItem("systemSettings"),n=t?JSON.parse(t):{};n.appearance=n.appearance||{},n.appearance.detailViewVideosEnabled=e.enabled,n.appearance.detailViewVideosMobileEnabled=e.mobileEnabled,n.appearance.detailViewVideosPath=e.path,localStorage.setItem("systemSettings",JSON.stringify(n))}catch(t){console.error("Failed to save video settings:",t)}},J8=()=>{try{const e=localStorage.getItem("systemSettings");return e&&(JSON.parse(e).appearance||{}).gridColumns||4}catch{return 4}},Q8=e=>{try{const t=localStorage.getItem("systemSettings"),n=t?JSON.parse(t):{};n.appearance=n.appearance||{},n.appearance.gridColumns=e,localStorage.setItem("systemSettings",JSON.stringify(n)),document.documentElement.style.setProperty("--device-grid-columns",e)}catch(t){console.error("Failed to save grid columns setting:",t)}},e7=()=>{try{const e=localStorage.getItem("systemSettings");return e&&(JSON.parse(e).appearance||{}).squircleStyle||"none"}catch{return"none"}},t7=e=>{try{const t=localStorage.getItem("systemSettings"),n=t?JSON.parse(t):{};n.appearance=n.appearance||{},n.appearance.squircleStyle=e,localStorage.setItem("systemSettings",JSON.stringify(n));const i=$d(e);i?document.documentElement.style.setProperty("--card-clip-path",i):document.documentElement.style.removeProperty("--card-clip-path")}catch(t){console.error("Failed to save squircle style setting:",t)}},il=e=>{try{const t=localStorage.getItem("systemSettings"),n=t?JSON.parse(t):{};n.appearance=n.appearance||{},n.appearance.sidebarVisible=e.sidebarVisible,n.appearance.headerVisible=e.headerVisible,localStorage.setItem("systemSettings",JSON.stringify(n)),jd(e)}catch(t){console.error("Failed to save Home Assistant UI settings:",t)}},n7=({t:e,darkMode:t,applyDarkMode:n,isDropdownOpen:i,setIsDropdownOpen:s,hass:o,lang:a})=>{const[l,c]=D("main"),d=oe(null),[u,h]=D(!1),[f,p]=D(()=>X8()),[g,m]=D(()=>J8()),[y,b]=D(()=>e7()),[v,w]=D(()=>Z8()),[S,x]=D(()=>G2());Y(()=>{document.documentElement.style.setProperty("--device-grid-columns",g);const F=$d(y);F&&document.documentElement.style.setProperty("--card-clip-path",F),document.documentElement.style.setProperty("--background-brightness",`${v.brightness}%`),document.documentElement.style.setProperty("--background-blur",`${v.blur}px`),il(S)},[]);const k=()=>{c("main")},N=F=>{const M={...f,enabled:F};p(M),t0(M)},L=F=>{const M={...f,mobileEnabled:F};p(M),t0(M)},_=F=>{m(F),Q8(F)},I=F=>{b(F),t7(F)},T=F=>{const M={...v,brightness:F};w(M),cr(M)},R=F=>{const M={...v,blur:F};w(M),cr(M)},j=F=>{const M={...v,contrast:F};w(M),cr(M)},z=F=>{const M={...v,saturation:F};w(M),cr(M)},B=F=>{const M={...S,sidebarVisible:F};x(M),il(M)},V=F=>{const M={...S,headerVisible:F};x(M),il(M)},A=F=>{const M={...v,grayscale:F};w(M),cr(M)};return r("div",{className:"ios-settings-container",children:r(Te,{mode:"wait",initial:!1,custom:l==="main"?-1:1,children:l==="main"?r(P.div,{custom:-1,variants:Li,initial:!1,animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),style:{position:"relative"},children:[r("div",{ref:d,className:"ios-settings-view",style:{padding:"20px"},children:[r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:e("design")}),r("div",{className:"ios-card",children:[r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>c("darkMode"),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("backgroundMode")}),r("div",{className:"ios-item-subtitle",children:e("backgroundModeDescription")})]})}),r("div",{className:"ios-item-right",children:[r("span",{className:"ios-item-value",children:q8(t,e)}),r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>c("gridColumns"),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("gridColumns")}),r("div",{className:"ios-item-subtitle",children:e("gridColumnsDescription")})]})}),r("div",{className:"ios-item-right",children:[r("span",{className:"ios-item-value",children:e("columnsCount").replace("{count}",g)}),r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>c("squircleStyle"),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("cardShape")}),r("div",{className:"ios-item-subtitle",children:e("cardShapeDescription")})]})}),r("div",{className:"ios-item-right",children:[r("span",{className:"ios-item-value",children:Y8(y,e)}),r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>c("backgroundSettings"),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("background")}),r("div",{className:"ios-item-subtitle",children:e("backgroundDescription")})]})}),r("div",{className:"ios-item-right",children:[r("span",{className:"ios-item-value",children:v.brightness!==100||v.blur!==0||v.contrast!==100||v.saturation!==100||v.grayscale!==0?e("customized"):e("standard")}),r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:"Home Assistant"}),r("div",{className:"ios-card",children:[r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:a==="de"?"Sidebar anzeigen":"Show Sidebar"}),r("div",{className:"ios-item-subtitle",children:a==="de"?"Linke Navigationsleiste ein-/ausblenden":"Show/hide left navigation drawer"})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:S.sidebarVisible,onChange:F=>B(F.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:a==="de"?"Header anzeigen":"Show Header"}),r("div",{className:"ios-item-subtitle",children:a==="de"?"Obere Toolbar ein-/ausblenden":"Show/hide top toolbar"})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:S.headerVisible,onChange:F=>V(F.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]})]})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:e("animations")}),r("div",{className:"ios-card",children:r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>c("animations"),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("detailViewVideos")}),r("div",{className:"ios-item-subtitle",children:e("detailViewVideosDescription")})]})}),r("div",{className:"ios-item-right",children:[r("span",{className:"ios-item-value",children:f.enabled?e("active"):e("inactive")}),r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})})]})]}),r(De,{scrollContainerRef:d,isHovered:u})]},"main"):l==="darkMode"?r(P.div,{custom:1,variants:Li,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),style:{position:"relative"},children:[r("div",{className:"ios-navbar",children:[r("button",{className:"ios-navbar-back",onClick:k,children:[r("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:r("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:e("back")})]}),r("div",{className:"ios-navbar-title",children:e("backgroundMode")})]}),r("div",{ref:d,className:"ios-settings-view",children:r("div",{className:"ios-section",children:r("div",{className:"ios-card",children:[r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{n("auto"),setTimeout(k,150)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:e("automatic")})})}),r("div",{className:"ios-item-right",children:t==="auto"&&r(P.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[r(P.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),r(P.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{n("light"),setTimeout(k,150)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:e("light")})})}),r("div",{className:"ios-item-right",children:t==="light"&&r(P.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[r(P.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),r(P.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{n("dark"),setTimeout(k,150)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:e("dark")})})}),r("div",{className:"ios-item-right",children:t==="dark"&&r(P.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[r(P.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),r(P.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]})]})})}),r(De,{scrollContainerRef:d,isHovered:u})]},"darkMode"):l==="animations"?r(P.div,{custom:1,variants:Li,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),style:{position:"relative"},children:[r("div",{className:"ios-navbar",children:[r("button",{className:"ios-navbar-back",onClick:k,children:[r("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:r("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:e("back")})]}),r("div",{className:"ios-navbar-title",children:e("detailViewVideos")})]}),r("div",{ref:d,className:"ios-settings-view",children:[r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:e("settings")}),r("div",{className:"ios-card",children:[r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("enableVideos")}),r("div",{className:"ios-item-subtitle",children:e("enableVideosDescription")})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:f.enabled,onChange:F=>N(F.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("onMobile")}),r("div",{className:"ios-item-subtitle",children:e("onMobileDescription")})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:f.mobileEnabled,onChange:F=>L(F.target.checked),disabled:!f.enabled}),r("span",{className:"ios-toggle-slider"})]})})]})]})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:e("videoFolder")}),r("div",{className:"ios-card",children:r("div",{className:"ios-item",children:r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("path")}),r("div",{className:"ios-item-subtitle",children:f.path})]})})})}),r("div",{className:"ios-section-footer",children:e("videoFooter")})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:e("videoFiles")}),r("div",{className:"ios-card",style:{padding:"16px"},children:r("div",{className:"ios-text",style:{fontSize:"14px",lineHeight:"1.6"},children:[r("strong",{className:"ios-text-strong",children:e("namingScheme")}),r("br",{}),r("code",{style:{background:"rgba(0,0,0,0.3)",padding:"2px 6px",borderRadius:"4px",fontSize:"13px"},children:"{domain}_{state}.mp4"}),r("br",{}),r("br",{}),r("strong",{className:"ios-text-strong",children:e("examples")}),r("br",{})," light_on.mp4 / light_off.mp4",r("br",{})," switch_on.mp4 / switch_off.mp4",r("br",{})," cover_open.mp4 / cover_closed.mp4",r("br",{})," fan_on.mp4 / fan_off.mp4",r("br",{}),r("br",{}),r("strong",{className:"ios-text-strong",children:[e("note"),":"]}),r("br",{}),e("namingSchemeNote")]})})]})]}),r(De,{scrollContainerRef:d,isHovered:u})]},"animations"):l==="gridColumns"?r(P.div,{custom:1,variants:Li,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),style:{position:"relative"},children:[r("div",{className:"ios-navbar",children:[r("button",{className:"ios-navbar-back",onClick:k,children:[r("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:r("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:e("back")})]}),r("div",{className:"ios-navbar-title",children:e("gridColumns")})]}),r("div",{ref:d,className:"ios-settings-view",children:[r("div",{className:"ios-section",children:r("div",{className:"ios-card",children:[r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{_(4),setTimeout(k,150)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("fourColumns")}),r("div",{className:"ios-item-subtitle",children:e("fourColumnsDescription")})]})}),r("div",{className:"ios-item-right",children:g===4&&r(P.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[r(P.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),r(P.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{_(5),setTimeout(k,150)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("fiveColumns")}),r("div",{className:"ios-item-subtitle",children:e("fiveColumnsDescription")})]})}),r("div",{className:"ios-item-right",children:g===5&&r(P.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[r(P.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),r(P.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]})]})}),r("div",{className:"ios-section",children:r("div",{className:"ios-section-footer",children:e("gridColumnsFooter")})})]}),r(De,{scrollContainerRef:d,isHovered:u})]},"gridColumns"):l==="squircleStyle"?r(P.div,{custom:1,variants:Li,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),style:{position:"relative"},children:[r("div",{className:"ios-navbar",children:[r("button",{className:"ios-navbar-back",onClick:k,children:[r("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:r("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:e("back")})]}),r("div",{className:"ios-navbar-title",children:e("cardShape")})]}),r("div",{ref:d,className:"ios-settings-view",children:[r("div",{className:"ios-section",children:r("div",{className:"ios-card",children:[r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{I("none"),setTimeout(k,150)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("squircleStandard")}),r("div",{className:"ios-item-subtitle",children:e("squircleStandardDescription")})]})}),r("div",{className:"ios-item-right",children:y==="none"&&r(P.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[r(P.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),r(P.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{I("prominent"),setTimeout(k,150)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("squircleProminent")}),r("div",{className:"ios-item-subtitle",children:e("squircleProminentDescription")})]})}),r("div",{className:"ios-item-right",children:y==="prominent"&&r(P.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[r(P.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),r(P.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{I("balanced"),setTimeout(k,150)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("squircleBalanced")}),r("div",{className:"ios-item-subtitle",children:e("squircleBalancedDescription")})]})}),r("div",{className:"ios-item-right",children:y==="balanced"&&r(P.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[r(P.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),r(P.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{I("subtle"),setTimeout(k,150)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("squircleSubtle")}),r("div",{className:"ios-item-subtitle",children:e("squircleSubtleDescription")})]})}),r("div",{className:"ios-item-right",children:y==="subtle"&&r(P.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[r(P.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),r(P.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]})]})}),r("div",{className:"ios-section",children:r("div",{className:"ios-section-footer",children:e("squircleFooter")})})]}),r(De,{scrollContainerRef:d,isHovered:u})]},"squircleStyle"):l==="backgroundSettings"?r(P.div,{custom:1,variants:Li,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),style:{position:"relative"},children:[r("div",{className:"ios-navbar",children:[r("button",{className:"ios-navbar-back",onClick:k,children:[r("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:r("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:e("back")})]}),r("div",{className:"ios-navbar-title",children:e("background")})]}),r("div",{ref:d,className:"ios-settings-view",children:[r("div",{className:"ios-section",children:[r("div",{className:"ios-card",children:r("div",{className:"ios-item",style:{paddingTop:"16px",paddingBottom:"16px"},children:r("div",{className:"ios-item-left",style:{flexDirection:"column",alignItems:"flex-start",gap:"12px",width:"100%"},children:[r("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[r("div",{className:"ios-item-label",children:e("brightnessLabel")}),r("div",{className:"slider-value",style:{fontSize:"14px",fontWeight:"600"},children:[v.brightness,"%"]})]}),r("input",{type:"range",min:"0",max:"100",value:v.brightness,onChange:F=>T(parseInt(F.target.value)),style:{width:"100%",height:"4px",borderRadius:"2px",background:`linear-gradient(to right, rgb(0, 122, 255) 0%, rgb(0, 122, 255) ${v.brightness}%, rgba(255,255,255,0.2) ${v.brightness}%, rgba(255,255,255,0.2) 100%)`,outline:"none",WebkitAppearance:"none",appearance:"none"}})]})})}),r("div",{className:"ios-section-footer",children:e("brightnessFooter")})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-card",children:r("div",{className:"ios-item",style:{paddingTop:"16px",paddingBottom:"16px"},children:r("div",{className:"ios-item-left",style:{flexDirection:"column",alignItems:"flex-start",gap:"12px",width:"100%"},children:[r("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[r("div",{className:"ios-item-label",children:e("blurLabel")}),r("div",{className:"slider-value",style:{fontSize:"14px",fontWeight:"600"},children:[v.blur,"px"]})]}),r("input",{type:"range",min:"0",max:"50",value:v.blur,onChange:F=>R(parseInt(F.target.value)),style:{width:"100%",height:"4px",borderRadius:"2px",background:`linear-gradient(to right, rgb(0, 122, 255) 0%, rgb(0, 122, 255) ${v.blur*2}%, rgba(255,255,255,0.2) ${v.blur*2}%, rgba(255,255,255,0.2) 100%)`,outline:"none",WebkitAppearance:"none",appearance:"none"}})]})})}),r("div",{className:"ios-section-footer",children:e("blurFooter")})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-card",children:r("div",{className:"ios-item",style:{paddingTop:"16px",paddingBottom:"16px"},children:r("div",{className:"ios-item-left",style:{flexDirection:"column",alignItems:"flex-start",gap:"12px",width:"100%"},children:[r("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[r("div",{className:"ios-item-label",children:e("contrastLabel")}),r("div",{className:"slider-value",style:{fontSize:"14px",fontWeight:"600"},children:[v.contrast,"%"]})]}),r("input",{type:"range",min:"0",max:"200",value:v.contrast,onChange:F=>j(parseInt(F.target.value)),style:{width:"100%",height:"4px",borderRadius:"2px",background:`linear-gradient(to right, rgb(0, 122, 255) 0%, rgb(0, 122, 255) ${v.contrast/2}%, rgba(255,255,255,0.2) ${v.contrast/2}%, rgba(255,255,255,0.2) 100%)`,outline:"none",WebkitAppearance:"none",appearance:"none"}})]})})}),r("div",{className:"ios-section-footer",children:e("contrastFooter")})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-card",children:r("div",{className:"ios-item",style:{paddingTop:"16px",paddingBottom:"16px"},children:r("div",{className:"ios-item-left",style:{flexDirection:"column",alignItems:"flex-start",gap:"12px",width:"100%"},children:[r("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[r("div",{className:"ios-item-label",children:e("saturationLabel")}),r("div",{className:"slider-value",style:{fontSize:"14px",fontWeight:"600"},children:[v.saturation,"%"]})]}),r("input",{type:"range",min:"0",max:"200",value:v.saturation,onChange:F=>z(parseInt(F.target.value)),style:{width:"100%",height:"4px",borderRadius:"2px",background:`linear-gradient(to right, rgb(0, 122, 255) 0%, rgb(0, 122, 255) ${v.saturation/2}%, rgba(255,255,255,0.2) ${v.saturation/2}%, rgba(255,255,255,0.2) 100%)`,outline:"none",WebkitAppearance:"none",appearance:"none"}})]})})}),r("div",{className:"ios-section-footer",children:e("saturationFooter")})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-card",children:r("div",{className:"ios-item",style:{paddingTop:"16px",paddingBottom:"16px"},children:r("div",{className:"ios-item-left",style:{flexDirection:"column",alignItems:"flex-start",gap:"12px",width:"100%"},children:[r("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[r("div",{className:"ios-item-label",children:e("grayscaleLabel")}),r("div",{className:"slider-value",style:{fontSize:"14px",fontWeight:"600"},children:[v.grayscale,"%"]})]}),r("input",{type:"range",min:"0",max:"100",value:v.grayscale,onChange:F=>A(parseInt(F.target.value)),style:{width:"100%",height:"4px",borderRadius:"2px",background:`linear-gradient(to right, rgb(0, 122, 255) 0%, rgb(0, 122, 255) ${v.grayscale}%, rgba(255,255,255,0.2) ${v.grayscale}%, rgba(255,255,255,0.2) 100%)`,outline:"none",WebkitAppearance:"none",appearance:"none"}})]})})}),r("div",{className:"ios-section-footer",children:e("grayscaleFooter")})]})]}),r(De,{scrollContainerRef:d,isHovered:u})]},"backgroundSettings"):null})})},i7=({t:e,maxEntitiesLimit:t,newPattern:n,setNewPattern:i,patternError:s,setPatternError:o,excludedPatterns:a,addPattern:l,removePattern:c})=>{const d=oe(null),[u,h]=D(!1),[f,p]=D(t);return r("div",{className:"ios-settings-container",children:r("div",{className:"ios-view-wrapper",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),style:{position:"relative"},children:[r("div",{ref:d,className:"ios-settings-view",style:{padding:"20px"},children:[r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:e("systemSettings")}),r("div",{className:"ios-card",children:[r("div",{className:"ios-item",style:{flexDirection:"column",alignItems:"stretch"},children:[r("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("maxEntities")}),r("div",{className:"ios-item-subtitle",children:f===0?e("maxEntitiesUnlimited"):e("maxEntitiesDescription").replace("{count}",f)})]})}),r("input",{type:"number",className:"ios-number-input",min:"0",max:"1000",step:"50",value:f,placeholder:"0",onChange:g=>{const m=parseInt(g.target.value)||0;p(m),localStorage.setItem("maxEntitiesLimit",m),window.dispatchEvent(new CustomEvent("entityLimitChanged",{detail:{limit:m}}))},style:{width:"100%",padding:"8px 12px",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.1)",background:"rgba(255, 255, 255, 0.05)",color:"#ffffff",fontSize:"15px"}})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",style:{opacity:.7},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:e("onlyEntitiesWithArea")}),r("div",{className:"ios-item-subtitle",children:e("onlyEntitiesWithAreaDescription")})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",style:{pointerEvents:"none"},children:[r("input",{type:"checkbox",checked:!0,disabled:!0}),r("span",{className:"ios-toggle-slider"})]})})]})]})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:e("excludedPatterns")}),r("div",{className:"ios-card",style:{padding:"16px",marginBottom:"12px",backgroundColor:"rgba(0, 122, 255, 0.1)"},children:r("div",{className:"ios-text",style:{fontSize:"13px",lineHeight:"1.5"},children:[r("p",{style:{margin:"0 0 8px 0"},children:e("excludedPatternsDescription")}),r("ul",{style:{margin:"8px 0",paddingLeft:"20px"},children:[r("li",{children:[r("code",{style:{background:"rgba(0,0,0,0.2)",padding:"2px 4px",borderRadius:"3px"},children:"*"})," = ",e("wildcardAny")," ",r("code",{style:{background:"rgba(0,0,0,0.2)",padding:"2px 4px",borderRadius:"3px"},children:"sensor.*"})," ",e("wildcardAnySuffix")]}),r("li",{children:[r("code",{style:{background:"rgba(0,0,0,0.2)",padding:"2px 4px",borderRadius:"3px"},children:"?"})," = ",e("wildcardSingle")]})]}),r("div",{style:{marginTop:"12px"},children:[r("strong",{className:"ios-text-strong",children:e("examples")}),r("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap",marginTop:"6px"},children:[r("span",{className:"ios-text-medium",style:{background:"rgba(0,0,0,0.3)",padding:"4px 8px",borderRadius:"12px",fontSize:"12px"},children:"sensor.temp_*"}),r("span",{className:"ios-text-medium",style:{background:"rgba(0,0,0,0.3)",padding:"4px 8px",borderRadius:"12px",fontSize:"12px"},children:"binary_sensor.motion_*"}),r("span",{className:"ios-text-medium",style:{background:"rgba(0,0,0,0.3)",padding:"4px 8px",borderRadius:"12px",fontSize:"12px"},children:"*_unavailable"})]})]})]})}),r("div",{className:"ios-card",style:{padding:"12px",marginBottom:"12px"},children:[r("div",{style:{display:"flex",gap:"8px"},children:[r("input",{type:"text",placeholder:e("patternPlaceholder"),value:n,onChange:g=>{i(g.target.value),o("")},onKeyPress:g=>{g.key==="Enter"&&l()},style:{flex:1,padding:"8px 12px",borderRadius:"8px",border:s?"1px solid rgb(255, 69, 58)":"1px solid rgba(255, 255, 255, 0.1)",background:"rgba(255, 255, 255, 0.05)",color:"#ffffff",fontSize:"15px"}}),r("button",{onClick:l,style:{padding:"8px 16px",borderRadius:"8px",border:"none",background:"rgb(0, 122, 255)",color:"white",fontSize:"15px",fontWeight:600,cursor:"pointer",whiteSpace:"nowrap"},children:e("addPattern")})]}),s&&r("div",{style:{marginTop:"8px",color:"rgb(255, 69, 58)",fontSize:"13px"},children:[" ",s]})]}),a.length>0?r("div",{className:"ios-card",children:[r("div",{className:"ios-text-strong",style:{padding:"12px 16px",borderBottom:"1px solid rgba(255, 255, 255, 0.05)",fontWeight:600},children:e("activePatterns").replace("{count}",a.length)}),a.map((g,m)=>r("div",{children:[m>0&&r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("code",{className:"ios-text-strong",style:{background:"rgba(0, 122, 255, 0.15)",padding:"4px 8px",borderRadius:"6px",fontSize:"13px",fontFamily:"monospace"},children:g})}),r("div",{className:"ios-item-right",children:r("button",{onClick:()=>c(g),style:{background:"rgb(255, 69, 58)",color:"white",border:"none",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"18px",fontWeight:600,lineHeight:1},title:e("removePattern"),children:""})})]})]},m))]}):r("div",{className:"ios-card",style:{padding:"32px 16px",textAlign:"center"},children:[r("div",{style:{fontSize:"32px",marginBottom:"8px"},children:""}),r("div",{className:"ios-text",style:{fontSize:"13px"},children:e("noPatternsYet")})]})]})]}),r(De,{scrollContainerRef:d,isHovered:u})]})})},r7=({t:e})=>{const t=oe(null),[n,i]=D(!1);return r("div",{className:"ios-settings-container",children:r(P.div,{className:"ios-view-wrapper",initial:!1,animate:"center",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),style:{position:"relative"},children:[r("div",{ref:t,className:"ios-settings-view",style:{padding:"20px"},children:[r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:e("aboutCard")}),r("div",{className:"ios-card",children:[r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-label",children:e("version")})}),r("div",{className:"ios-item-right",children:r("span",{className:"ios-item-value",children:"1.1.1131"})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-label",children:e("build")})}),r("div",{className:"ios-item-right",children:r("span",{className:"ios-item-value",children:"2026.01.22"})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-label",children:e("developer")})}),r("div",{className:"ios-item-right",children:r("span",{className:"ios-item-value",children:"fastender"})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-label",children:e("license")})}),r("div",{className:"ios-item-right",children:r("span",{className:"ios-item-value",children:"MIT"})})]})]})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:e("privacySecurity")}),r("div",{className:"ios-card",children:[r(P.div,{className:"ios-item ios-item-clickable",onClick:s=>{confirm(e("clearCacheConfirm"))&&(localStorage.removeItem("searchCache"),localStorage.removeItem("suggestionCache"),window.dispatchEvent(new CustomEvent("cacheCleared")),alert(e("clearCacheSuccess")))},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:e("clearCache")})})}),r("div",{className:"ios-item-right",children:r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{confirm(e("resetDataWarning"))&&confirm(e("resetDataConfirm"))&&(localStorage.clear(),window.location.reload())},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",style:{color:"rgb(255, 69, 58)"},children:e("resetData")})})}),r("div",{className:"ios-item-right",children:r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})]}),r("div",{className:"ios-section",children:r("div",{className:"ios-card",style:{padding:"16px",backgroundColor:"rgba(0, 122, 255, 0.1)"},children:r("div",{style:{display:"flex",gap:"12px",alignItems:"flex-start"},children:[r("div",{style:{fontSize:"24px"},children:""}),r("div",{children:[r("div",{className:"ios-text-strong",style:{fontWeight:600,marginBottom:"4px"},children:e("privacySecure")}),r("div",{className:"ios-text",style:{fontSize:"13px"},children:e("privacyLocalOnly")})]})]})})})]}),r(De,{scrollContainerRef:t,isHovered:n})]})})},Xo=({lang:e="de",onTabChange:t,settingsRef:n,hass:i})=>{const[s,o]=D(0),[a,l]=D(localStorage.getItem("darkMode")||"auto"),[c,d]=D(localStorage.getItem("userLanguage")||e||"de"),[u,h]=D(localStorage.getItem("userCurrency")||"EUR"),[f,p]=D(!0),[g,m]=D(!0),[y,b]=D(!0),[v,w]=D(localStorage.getItem("aiModeEnabled")!=="false"),[S,x]=D(!1),[k,N]=D(!1),[L,_]=D(()=>{try{const Q=localStorage.getItem("excludedPatterns");return Q?JSON.parse(Q):[]}catch{return[]}}),[I,T]=D(""),[R,j]=D(""),[z]=D(localStorage.getItem("predictiveSuggestions")!=="false"),[B]=D(parseInt(localStorage.getItem("confidenceThreshold")||"60")),[V]=D(parseInt(localStorage.getItem("suggestionTimeWindow")||"45")),[A]=D(parseInt(localStorage.getItem("maxSuggestions")||"10")),[F]=D(localStorage.getItem("learningRate")||"normal"),[M]=D(parseInt(localStorage.getItem("maxEntitiesLimit")||"0")),C=c||e||"de",X=Q=>te(`settings.${Q}`,C);Y(()=>{const Q=ie=>{const se=ie.detail.language;d(se)};return window.addEventListener("languageChanged",Q),()=>{window.removeEventListener("languageChanged",Q)}},[]),Y(()=>{n&&(n.current={setActiveTab:Q=>{o(Q)},getActiveTab:()=>s,getTabIcons:()=>I2})}),Y(()=>{t&&t(s)},[s,t]);const q=Q=>{l(Q),localStorage.setItem("darkMode",Q),window.dispatchEvent(new CustomEvent("darkModeChanged",{detail:{mode:Q}}))},E=Q=>!Q||Q.trim()===""?"Pattern darf nicht leer sein":/^[a-z0-9_.*?]+$/i.test(Q)?null:"Pattern darf nur Buchstaben, Zahlen, Unterstrich, * und ? enthalten",ee=()=>{const Q=I.trim(),ie=E(Q);if(ie){j(ie);return}if(L.includes(Q)){j("Pattern existiert bereits");return}const se=[...L,Q];_(se),localStorage.setItem("excludedPatterns",JSON.stringify(se)),window.dispatchEvent(new CustomEvent("excludedPatternsChanged",{detail:{patterns:se}})),T(""),j("")},ue=Q=>{const ie=L.filter(se=>se!==Q);_(ie),localStorage.setItem("excludedPatterns",JSON.stringify(ie)),window.dispatchEvent(new CustomEvent("excludedPatternsChanged",{detail:{patterns:ie}}))};return r("div",{className:"settings-container",children:r("div",{className:"settings-content",children:(()=>{switch(s){case 0:return r(U8,{t:X,aiModeEnabled:v,setAiModeEnabled:w,animations:y,setAnimations:b,soundEffects:g,setSoundEffects:m,language:c,setLanguage:d,currency:u,setCurrency:h,isLangDropdownOpen:k,setIsLangDropdownOpen:N,notifications:f,setNotifications:p,hass:i,lang:C,predictiveSuggestions:z,confidenceThreshold:B,timeWindow:V,maxSuggestions:A,learningRate:F});case 1:return r(n7,{t:X,darkMode:a,applyDarkMode:q,isDropdownOpen:S,setIsDropdownOpen:x,hass:i,lang:C});case 2:return r(i7,{t:X,maxEntitiesLimit:M,newPattern:I,setNewPattern:T,patternError:R,setPatternError:j,excludedPatterns:L,addPattern:ee,removePattern:ue});case 3:return r(r7,{t:X});default:return null}})()})})};Xo.getTabIcons=()=>I2;const s7=({viewLoader:e,entity:t,hass:n,lang:i,onBack:s,onNavigate:o,onServiceCall:a,fallbackComponent:l})=>{const[c,d]=D(null),[u,h]=D(!0),[f,p]=D(null),g=Fe.getEntityByDomain(t.domain);if(Y(()=>{let m=!0;return e().then(y=>{m&&(d(()=>y.default||y),h(!1))}).catch(y=>{m&&(p(y.message),h(!1))}),()=>{m=!1}},[t.domain]),u)return r("div",{className:"system-view-loading",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px",color:"rgba(255,255,255,0.7)"},children:[r("div",{className:"loading-spinner",style:{width:"40px",height:"40px",border:"3px solid rgba(255,255,255,0.1)",borderTop:"3px solid rgba(255,255,255,0.5)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),r("p",{style:{marginTop:"16px"},children:["Loading ",t.name,"..."]})]});if(f)return r("div",{className:"system-view-error",style:{padding:"20px",textAlign:"center",color:"rgba(255,100,100,0.9)"},children:[r("h3",{children:"Error Loading View"}),r("p",{children:f}),l&&l()]});if(!c&&l){const m=l();if(m)return m}return c?r(c,{entity:g||t,hass:n,lang:i,onBack:s,onNavigate:o,onServiceCall:a}):r("div",{className:"system-view-error",style:{padding:"20px",textAlign:"center",color:"rgba(255,255,255,0.7)"},children:[r("h3",{children:"View Not Available"}),r("p",{children:["The view for ",t.name," could not be loaded."]})]})},o7=Uc(s7),a7=e=>({light:"",switch:"",climate:"",cover:"",media_player:"",vacuum:"",fan:"",lock:"",sensor:"",binary_sensor:"",camera:"",settings:"",news:"",todos:""})[e]||"",l7=e=>{const t={light:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",climate:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",media_player:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",cover:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",vacuum:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",default:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"};return{background:t[e.domain]||t.default}},c7=(e,t="de")=>{const n=i=>te(`controls.${i}`,t);if(!e)return n("unknown");if(e.domain==="settings")return te("controls.systemSettings",t);if(e.domain==="sensor"){const i=e.state,s=e.attributes?.unit_of_measurement||"",o=e.name?.toLowerCase()||"";return o.includes("batterie")||o.includes("battery")?`${i}${s==="%"?"%":""} ${t==="de"?"Batterie":"Battery"}`:o.includes("luftfeuchtigkeit")||o.includes("humidity")?`${i}${s==="%"?"%":""} ${t==="de"?"Luftfeuchtigkeit":"Humidity"}`:o.includes("temperatur")||o.includes("temperature")||s==="C"||s==="F"?`${i}${s||"C"}`:o.includes("energie")||o.includes("energy")||o.includes("power")||o.includes("strom")?`${i} ${s||"W"}`:o.includes("co2")?`${i} ${s||"ppm"} CO`:o.includes("druck")||o.includes("pressure")?`${i} ${s||"hPa"}`:s?`${i} ${s}`:i}if(e.domain==="binary_sensor")return e.state==="on"?t==="de"?"Aktiv":"Active":t==="de"?"Inaktiv":"Inactive";if(e.domain==="switch"){const i=e.state==="on"?n("on"):n("off");return i.charAt(0).toUpperCase()+i.slice(1)}if(e.domain==="light"){if(e.state==="on"){const s=e.attributes?.brightness;if(s){const a=Math.round(s/255*100),l=n("on");return`${l.charAt(0).toUpperCase()+l.slice(1)} - ${a}%`}const o=n("on");return o.charAt(0).toUpperCase()+o.slice(1)}const i=n("off");return i.charAt(0).toUpperCase()+i.slice(1)}if(e.domain==="climate"){const i=e.attributes?.temperature,s=e.attributes?.current_temperature;return i?`${s||"--"}  ${i}C`:e.state}if(e.domain==="printer3d_device"){const i=e.attributes?.current_step||"Bereit",s=String(i).toLowerCase();return{idle:t==="de"?"Leerlauf":"Idle",offline:"Offline",unavailable:t==="de"?"Nicht verfgbar":"Unavailable",unknown:t==="de"?"Unbekannt":"Unknown",bereit:t==="de"?"Bereit":"Ready",ready:t==="de"?"Bereit":"Ready",printing:t==="de"?"Druckt":"Printing",paused:t==="de"?"Pausiert":"Paused",error:t==="de"?"Fehler":"Error",complete:t==="de"?"Abgeschlossen":"Complete",finished:t==="de"?"Fertig":"Finished"}[s]||i}if(e.domain==="cover"){const i=e.attributes?.current_position;return i!==void 0?`${i}% ${t==="de"?"offen":"open"}`:e.state==="closed"?t==="de"?"Geschlossen":"Closed":t==="de"?"Offen":"Open"}return e.state||n("unknown")},d7=(e,t="de")=>{const n=te("controls.justNow",t),i=te("controls.since",t);if(e?.domain==="printer3d_device"){const o=e.attributes?.nozzle_size,a=e.attributes?.nozzle_type,l=[];return o&&o!=="unavailable"&&l.push(o),a&&a!=="unavailable"&&l.push(a),l.length>0?l.join(", "):t==="de"?"Nicht verfgbar":"Not available"}return{on:`${i} 2 ${t==="de"?"Stunden":"hours"}`,off:`${i} 30 ${t==="de"?"Minuten":"minutes"}`,playing:`${i} 15 ${t==="de"?"Minuten":"minutes"}`,idle:`${i} 1 ${t==="de"?"Stunde":"hour"}`}[e?.state]||n},u7=(e,t="de")=>{const n=[];if(e.domain==="light"){if(e.attributes?.brightness){const i=Math.round(e.attributes.brightness/255*100);n.push(`${i}% ${t==="de"?"Helligkeit":"Brightness"}`)}e.attributes?.color_temp&&n.push(`${e.attributes.color_temp} mired`),e.state==="on"?n.push(t==="de"?"Eingeschaltet":"On"):n.push(t==="de"?"Ausgeschaltet":"Off")}if(e.domain==="climate"&&(e.attributes?.current_temperature&&n.push(`${e.attributes.current_temperature}C ${t==="de"?"aktuell":"current"}`),e.attributes?.temperature&&n.push(`${e.attributes.temperature}C ${t==="de"?"Ziel":"target"}`),e.attributes?.hvac_mode&&n.push(e.attributes.hvac_mode)),e.domain==="printer3d_device"){const i=JSON.parse(localStorage.getItem("bambulab_quickstats_config")||'{"progress":true,"status":true,"remainingTime":true,"nozzleTemp":false,"bedTemp":false,"layerProgress":false}');if(i.progress&&e.attributes?.progress&&n.push(`${Math.round(e.attributes.progress)}%`),i.status&&e.attributes?.current_step){const s=e.attributes.current_step,o=String(s).toLowerCase(),a={idle:t==="de"?"Leerlauf":"Idle",offline:"Offline",unavailable:t==="de"?"Nicht verfgbar":"Unavailable",unknown:t==="de"?"Unbekannt":"Unknown",bereit:t==="de"?"Bereit":"Ready",ready:t==="de"?"Bereit":"Ready",printing:t==="de"?"Druckt":"Printing",paused:t==="de"?"Pausiert":"Paused",error:t==="de"?"Fehler":"Error",complete:t==="de"?"Abgeschlossen":"Complete",finished:t==="de"?"Fertig":"Finished"};n.push(a[o]||s)}i.remainingTime&&e.attributes?.remaining_time&&n.push(e.attributes.remaining_time),i.nozzleTemp&&e.attributes?.nozzle_temp&&n.push(`${t==="de"?"Dse":"Nozzle"}: ${e.attributes.nozzle_temp}C`),i.bedTemp&&e.attributes?.bed_temp&&n.push(`${t==="de"?"Bett":"Bed"}: ${e.attributes.bed_temp}C`),i.layerProgress&&e.attributes?.current_layer&&e.attributes?.total_layers&&n.push(`${t==="de"?"Schicht":"Layer"} ${e.attributes.current_layer}/${e.attributes.total_layers}`)}return n},h7=({item:e,isFavorite:t,onBack:n,onToggleFavorite:i,lang:s})=>r("div",{className:"detail-left-header",children:[r(P.button,{className:"back-button",onClick:n,whileHover:{scale:1.05},whileTap:{scale:.95},children:r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r("path",{d:"M15 6L9 12L15 18",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),r("div",{className:"detail-left-title-info",children:[r(P.h3,{className:"detail-left-title-name",style:{fontWeight:600},initial:{opacity:0,filter:"blur(10px)"},animate:{opacity:1,filter:"blur(0px)"},transition:{duration:.6,delay:.25,ease:"easeOut"},children:(()=>{if(["settings","weather","news","todos","all_schedules","pluginstore"].includes(e.domain)){const a=e.domain==="all_schedules"?"all-schedules":e.domain;return te(`deviceNames.${a}`,s)||e.name}return e.attributes?.friendly_name||e.name})()}),r(P.p,{className:"detail-left-title-area",style:{fontWeight:400},initial:{opacity:0,filter:"blur(10px)"},animate:{opacity:1,filter:"blur(0px)"},transition:{duration:.6,delay:.35,ease:"easeOut"},children:["settings","weather","news","todos","all_schedules","pluginstore"].includes(e.domain)?te("subcategories.system",s):e.area||e.attributes?.area_id||te("general.noRoom",s)})]}),r(P.button,{className:`favorite-button ${t?"active":""}`,onClick:i,whileHover:{scale:1.05},whileTap:{scale:.95},children:r("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinejoin:"round",children:r("path",{d:"M22 8.86222C22 10.4087 21.4062 11.8941 20.3458 12.9929C17.9049 15.523 15.5374 18.1613 13.0053 20.5997C12.4249 21.1505 11.5042 21.1304 10.9488 20.5547L3.65376 12.9929C1.44875 10.7072 1.44875 7.01723 3.65376 4.73157C5.88044 2.42345 9.50794 2.42345 11.7346 4.73157L11.9998 5.00642L12.2648 4.73173C13.3324 3.6245 14.7864 3 16.3053 3C17.8242 3 19.2781 3.62444 20.3458 4.73157C21.4063 5.83045 22 7.31577 22 8.86222Z"})})})]}),f7=({item:e,lang:t,videoUrl:n,showVideo:i,isCheckingVideo:s})=>r("div",{className:"icon-content",children:[!n&&!s&&r("div",{className:"icon-background-wrapper",children:r("div",{className:"icon-background",style:l7(e),children:a7(e.domain)})}),r("div",{className:"detail-info-row",children:r("div",{className:"quick-stats",children:r(Te,{mode:"popLayout",children:u7(e,t).map((o,a)=>r(P.div,{className:"stat-item",initial:{scale:0,opacity:0,filter:"blur(10px)"},animate:{scale:1,opacity:1,filter:"blur(0px)"},exit:{scale:0,opacity:0,filter:"blur(10px)"},transition:{delay:.5+a*.05,duration:.6,ease:"easeOut"},layout:!0,children:o},o))})})}),r(P.div,{className:"entity-id-display",initial:{opacity:0,filter:"blur(10px)"},animate:{opacity:1,filter:"blur(0px)"},transition:{duration:.6,delay:.7,ease:"easeOut"},children:e.entity_id})]}),p7=({filteredTabIcons:e,activeTab:t,onTabChange:n,sliderPosition:i,isMobile:s,stateText:o,stateDuration:a,item:l,settingsTabRef:c,actionButtons:d=null,onBack:u,currentLanguage:h="de"})=>{const[f,p]=D(null),g=k=>l.domain==="settings"?te(["tooltips.generalTab","tooltips.appearanceTab","tooltips.privacyTab","tooltips.aboutTab"][k],h)||"":te(["tooltips.controlsTab","tooltips.scheduleTab","tooltips.historyTab","tooltips.contextTab"][k],h)||"";Y(()=>{if(!d)return;const k=()=>{const I=(window._printerViewRef||window._newsViewRef||window._todosViewRef||window._weatherViewRef||window._versionsverlaufViewRef)?.getActiveButton?.();I!==f&&p(I)};k();let N;const L=()=>{k(),N=requestAnimationFrame(L)};return N=requestAnimationFrame(L),()=>{N&&cancelAnimationFrame(N)}},[d,f]);const m=k=>{n(k),l.domain==="settings"&&c.current&&c.current.setActiveTab&&c.current.setActiveTab(k)},y=k=>{const N=window._newsViewRef,L=window._todosViewRef,_=window._weatherViewRef,I=window._printerViewRef,T=window._versionsverlaufViewRef;switch(k){case"back":N&&window._newsViewRef.handleBackNavigation?window._newsViewRef.handleBackNavigation():L&&window._todosViewRef.handleBackNavigation?window._todosViewRef.handleBackNavigation():_&&window._weatherViewRef.handleBackNavigation?window._weatherViewRef.handleBackNavigation():I&&window._printerViewRef.handleBackNavigation?window._printerViewRef.handleBackNavigation():T&&window._versionsverlaufViewRef.handleBackNavigation?window._versionsverlaufViewRef.handleBackNavigation():u?.();break;case"overview":N&&window._newsViewRef.handleOverview?window._newsViewRef.handleOverview():L&&window._todosViewRef.handleOverview?window._todosViewRef.handleOverview():I&&window._printerViewRef.handleOverview&&window._printerViewRef.handleOverview();break;case"settings":N&&window._newsViewRef.handleOpenSettings?window._newsViewRef.handleOpenSettings():L&&window._todosViewRef.handleOpenSettings?window._todosViewRef.handleOpenSettings():_&&window._weatherViewRef.handleOpenSettings?window._weatherViewRef.handleOpenSettings():I&&window._printerViewRef.handleOpenSettings?window._printerViewRef.handleOpenSettings():T&&window._versionsverlaufViewRef.handleOpenSettings&&window._versionsverlaufViewRef.handleOpenSettings();break;case"camera":I&&window._printerViewRef.handleOpenCamera&&window._printerViewRef.handleOpenCamera();break;case"image":I&&window._printerViewRef.handleOpenImage&&window._printerViewRef.handleOpenImage();break;case"refresh":N&&window._newsViewRef.handleRefresh?window._newsViewRef.handleRefresh():L&&window._todosViewRef.handleRefresh?window._todosViewRef.handleRefresh():_&&window._weatherViewRef.handleRefresh?window._weatherViewRef.handleRefresh():T&&window._versionsverlaufViewRef.handleRefresh&&window._versionsverlaufViewRef.handleRefresh();break;case"add":L&&window._todosViewRef.handleAdd&&window._todosViewRef.handleAdd();break;case"read":N&&window._newsViewRef.handleToggleRead&&window._newsViewRef.handleToggleRead();break;case"favorite":N&&window._newsViewRef.handleToggleFavorite&&window._newsViewRef.handleToggleFavorite();break;default:console.warn("Unknown action:",k)}},b=k=>{const N=k.isRead||!1,L=k.isFavorite||!1;switch(k.id){case"overview":return r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[r("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12C16 14.2091 14.2091 16 12 16Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 2V8",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 16V22",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M2 12H8",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M16 12H22",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M4.92896 4.92871L9.1716 9.17135",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M14.8284 14.8286L19.071 19.0713",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M4.92896 19.0713L9.1716 14.8286",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M14.8284 9.17139L19.071 4.92875",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]});case"back":return l.domain==="todos"?r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[r("path",{d:"M9 6L20 6",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M3.80002 5.79999L4.60002 6.59998L6.60001 4.59999",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M3.80002 11.8L4.60002 12.6L6.60001 10.6",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M3.80002 17.8L4.60002 18.6L6.60001 16.6",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M9 12L20 12",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M9 18L20 18",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}):l.domain==="news"?r("svg",{width:"20",height:"20",strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[r("path",{d:"M12 19C12 14.8 9.2 12 5 12",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M19 19C19 10.6 13.4 5 5 5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M5 19.01L5.01 18.9989",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}):r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:r("path",{d:"M15 6L9 12L15 18",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})});case"settings":return r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[r("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M19.622 10.395l-1.097-2.65L20 6l-2-2-1.735 1.483-2.707-1.113L12.935 2h-1.954l-.632 2.401-2.645 1.115L6 4 4 6l1.453 1.789-1.08 2.657L2 11v2l2.401.655L5.516 16.3 4 18l2 2 1.791-1.46 2.606 1.072L11 22h2l.604-2.387 2.651-1.098C16.697 18.831 18 20 18 20l2-2-1.484-1.75 1.098-2.652 2.386-.62V11l-2.378-.605Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]});case"refresh":return r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:r("path",{d:"M21.5 2V8M21.5 8H15.5M21.5 8L18.5 5C17.1 3.6 15.2 2.7 13 2.7C8.5 2.7 4.9 6.3 4.9 10.8C4.9 15.3 8.5 18.9 13 18.9C16.9 18.9 20.1 16.1 20.8 12.4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});case"read":return r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:N?"currentColor":"none",stroke:"currentColor",children:[r("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z",strokeWidth:"2"}),r("circle",{cx:"12",cy:"12",r:"3",strokeWidth:"2"})]});case"favorite":return r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:L?"currentColor":"none",stroke:"currentColor",children:r("path",{d:"M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5C2 5.42 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.09C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.42 22 8.5C22 12.28 18.6 15.36 13.45 20.04L12 21.35Z",strokeWidth:"2"})});case"add":return r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:r("path",{d:"M12 5V19M5 12H19",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});case"camera":return r("svg",{width:"20",height:"20",strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:r("path",{d:"M15 12V16.4C15 16.7314 14.7314 17 14.4 17H3.6C3.26863 17 3 16.7314 3 16.4V7.6C3 7.26863 3.26863 7 3.6 7H14.4C14.7314 7 15 7.26863 15 7.6V12ZM15 12L20.0159 7.82009C20.4067 7.49443 21 7.77232 21 8.28103V15.719C21 16.2277 20.4067 16.5056 20.0159 16.1799L15 12Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})});case"image":return r("svg",{width:"20",height:"20","stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",children:[r("path",{d:"M21 3.6V20.4C21 20.7314 20.7314 21 20.4 21H3.6C3.26863 21 3 20.7314 3 20.4V3.6C3 3.26863 3.26863 3 3.6 3H20.4C20.7314 3 21 3.26863 21 3.6Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M3 16L10 13L21 18",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M16 10C14.8954 10 14 9.10457 14 8C14 6.89543 14.8954 6 16 6C17.1046 6 18 6.89543 18 8C18 9.10457 17.1046 10 16 10Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]});default:return null}},v={x:i.x,width:i.width,height:i.height,scaleX:[1,1.12,.96,1.03,1],scaleY:[1,.94,1.06,.99,1]},w={x:{type:"spring",stiffness:280,damping:22,mass:1.5},width:{type:"spring",stiffness:280,damping:22,mass:1.5},height:{type:"spring",stiffness:280,damping:22,mass:1.5},scaleX:{duration:.6,times:[0,.2,.5,.8,1],ease:[.34,1.56,.64,1]},scaleY:{duration:.6,times:[0,.2,.5,.8,1],ease:[.34,1.56,.64,1]}},S=Re(()=>{if(!f||!d)return{x:0,width:40,height:40};const k=d.findIndex(T=>T.id===f);if(k===-1)return{x:0,width:40,height:40};const N=s?36:40;return{x:(s?3:5)+k*(N+(s?4:6)),width:N,height:N}},[d,s,f]),x={x:S.x,width:S.width,height:S.height,scaleX:[1,1.12,.96,1.03,1],scaleY:[1,.94,1.06,.99,1]};return s?r("div",{className:"mobile-tabs",children:[r("div",{className:"detail-header-info",children:[r("h3",{className:"detail-header-name",style:{fontWeight:600},children:o}),r("p",{className:"detail-header-area",style:{fontWeight:400},children:a})]}),r("div",{className:"detail-tabs",children:d?r(ke,{children:[r(P.div,{className:"tab-slider",animate:x,transition:w}),d.map((k,N)=>{const I=(window._printerViewRef||window._newsViewRef||window._todosViewRef||window._weatherViewRef||window._versionsverlaufViewRef)?.getActiveButton?.()===k.id;return r(P.button,{className:`detail-tab ${I?"active":""}`,onClick:()=>y(k.action),whileHover:{scale:1.04},whileTap:{scale:.96},transition:{duration:.2},title:te(`actionButtons.${k.id}`,h)||k.title,children:b(k)},k.id)})]}):r(ke,{children:[r(P.div,{className:"tab-slider",animate:v,transition:w}),e.map((k,N)=>r(P.button,{className:`detail-tab ${t===N?"active":""}`,onClick:()=>m(N),whileHover:{scale:1.04},whileTap:{scale:.96},transition:{duration:.2},title:g(N),children:k},N))]})})]}):r("div",{className:"desktop-tabs",children:r("div",{className:"detail-header",children:[r("div",{className:"detail-header-info",children:[r("h3",{className:"detail-header-name",style:{fontWeight:600},children:o}),r("p",{className:"detail-header-area",style:{fontWeight:400},children:a})]}),r("div",{className:"detail-tabs",children:d?r(ke,{children:[r(P.div,{className:"tab-slider",animate:x,transition:w}),d.map((k,N)=>{const I=(window._printerViewRef||window._newsViewRef||window._todosViewRef||window._weatherViewRef||window._versionsverlaufViewRef)?.getActiveButton?.()===k.id;return r(P.button,{className:`detail-tab ${I?"active":""}`,onClick:()=>y(k.action),whileHover:{scale:1.04},whileTap:{scale:.96},transition:{duration:.2},title:te(`actionButtons.${k.id}`,h)||k.title,children:b(k)},k.id)})]}):r(ke,{children:[r(P.div,{className:"tab-slider",animate:v,transition:w}),e.map((k,N)=>r(P.button,{className:`detail-tab ${t===N?"active":""}`,onClick:()=>m(N),whileHover:{scale:1.04},whileTap:{scale:.96},transition:{duration:.2},title:g(N),children:k},N))]})})]})})},m7=[r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",children:[r("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22Z",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12C16 14.2091 14.2091 16 12 16Z",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 2V8",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 16V22",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M2 12H8",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M16 12H22",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M4.92896 4.92871L9.1716 9.17135",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M14.8284 14.8286L19.071 19.0713",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M4.92896 19.0713L9.1716 14.8286",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M14.8284 9.17139L19.071 4.92875",strokeLinecap:"round",strokeLinejoin:"round"})]}),r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",children:[r("path",{d:"M12 6L12 12L18 12",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",strokeLinecap:"round",strokeLinejoin:"round"})]}),r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r("path",{d:"M3 7.4V3.6C3 3.26863 3.26863 3 3.6 3H9.4C9.73137 3 10 3.26863 10 3.6V7.4C10 7.73137 9.73137 8 9.4 8H3.6C3.26863 8 3 7.73137 3 7.4Z"}),r("path",{d:"M14 20.4V16.6C14 16.2686 14.2686 16 14.6 16H20.4C20.7314 16 21 16.2686 21 16.6V20.4C21 20.7314 20.7314 21 20.4 21H14.6C14.2686 21 14 20.7314 14 20.4Z"}),r("path",{d:"M14 12.4V3.6C14 3.26863 14.2686 3 14.6 3H20.4C20.7314 3 21 3.26863 21 3.6V12.4C21 12.7314 20.7314 13 20.4 13H14.6C14.2686 13 14 12.7314 14 12.4Z"}),r("path",{d:"M3 20.4V11.6C3 11.2686 3.26863 11 3.6 11H9.4C9.73137 11 10 11.2686 10 11.6V20.4C10 20.7314 9.73137 21 9.4 21H3.6C3.26863 21 3 20.7314 3 20.4Z"})]}),r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r("path",{d:"M21 9.6V20.4C21 20.7314 20.7314 21 20.4 21H9.6C9.26863 21 9 20.7314 9 20.4V9.6C9 9.26863 9.26863 9 9.6 9H20.4C20.7314 9 21 9.26863 21 9.6Z",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M15 3.6V14.4C15 14.7314 14.7314 15 14.4 15H3.6C3.26863 15 3 14.7314 3 14.4V3.6C3 3.26863 3.26863 3 3.6 3H14.4C14.7314 3 15 3.26863 15 3.6Z",strokeLinecap:"round",strokeLinejoin:"round"})]})];function g7(e,t){if(!e)return"off";const n=e.toLowerCase(),i=["on","playing","heat","cool","auto","locked","home","active","armed","cleaning","docked"],s=["off","idle","paused","unlocked","away","inactive","disarmed","standby"],o=["open","opening"],a=["closed","closing"];if(t==="cover"||t==="door"||t==="window"){if(o.includes(n))return"open";if(a.includes(n))return"closed"}return i.includes(n)?"on":s.includes(n)?"off":o.includes(n)?"open":a.includes(n)?"closed":"off"}function y7(e,t,n="/local/fast-search-videos"){if(!e||!t)return null;const i=g7(t,e);return`${n}/${e}_${i}.mp4`}async function bc(e){if(!e)return!1;try{const t=await fetch(e,{method:"HEAD",cache:"no-cache"});return t.ok&&t.status===200}catch{return console.debug(`Video not found: ${e}`),!1}}function Y2(){try{const e=localStorage.getItem("systemSettings");if(!e)return{enabled:!1,mobileEnabled:!1,basePath:"/local/fast-search-videos"};const n=JSON.parse(e).appearance||{};return{enabled:n.detailViewVideosEnabled===!0,mobileEnabled:n.detailViewVideosMobileEnabled===!0,basePath:n.detailViewVideosPath||"/local/fast-search-videos"}}catch(e){return console.error("Failed to read video settings:",e),{enabled:!1,mobileEnabled:!1,basePath:"/local/fast-search-videos"}}}function v7(){const e=Y2();return!(!e.enabled||window.innerWidth<=768&&!e.mobileEnabled)}async function b7(e="/local/fast-search-videos"){const t="videoDefaultsCache",n="videoDefaultsCacheTime";try{const a=localStorage.getItem(n),l=localStorage.getItem(t);if(l&&a){const c=Date.now()-parseInt(a),d=1440*60*1e3;if(c<d)return JSON.parse(l)}}catch{console.debug("Cache read failed, will discover defaults")}const s=[],o=10;for(let a=1;a<=o;a++){const l=`${e}/default_${a}.mp4`;await bc(l)&&s.push(l)}try{localStorage.setItem(t,JSON.stringify(s)),localStorage.setItem(n,Date.now().toString())}catch{console.debug("Failed to cache default videos")}return s}async function w7(e="/local/fast-search-videos"){const t=await b7(e);if(t.length===0)return null;const n=Math.floor(Math.random()*t.length);return t[n]}async function k7(e){if(!e||!e.domain||!v7())return null;const t=Y2(),n=y7(e.domain,e.state,t.basePath);if(n&&await bc(n))return n;const i=`${t.basePath}/${e.domain}.mp4`;if(await bc(i))return i;const o=await w7(t.basePath);return o||null}const x7=({item:e={entity_id:"light.wohnzimmer",domain:"light",name:"Wohnzimmer Licht",area:"Wohnzimmer",state:"on",attributes:{brightness:180,color_temp:350,friendly_name:"Wohnzimmer Deckenlampe"}},isVisible:t=!1,onBack:n,onToggleFavorite:i,onServiceCall:s,onActionNavigate:o,hass:a,lang:l="de",isFavorite:c=!1})=>{const[d]=Cd(),u=Re(()=>!e?.entity_id||!d?e:d.find(U=>U.entity_id===e.entity_id)||e,[d,e?.entity_id]),[h,f]=D(0),[p,g]=D(!1),[m,y]=D(c),[b,v]=D(null),[w,S]=D({x:0,width:0,height:0}),[x,k]=D(null),N=oe(null),L=oe(null),[_,I]=D(null),[T,R]=D(!1),[j,z]=D(!1),B=oe(null),[V,A]=D(!1);Y(()=>{y(c)},[c,e?.entity_id,e?.id]),Y(()=>{const H=e?.entity_id||e?.id;b&&b!==H&&f(0),v(H)},[e?.entity_id,e?.id]),Y(()=>{const H=()=>{g(window.innerWidth<=768)};return H(),window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[]),Y(()=>{I(null),R(!1),z(!0),(async()=>{if(!e){z(!1);return}const U=await k7(e);U&&I(U),z(!1)})()},[e?.entity_id,e?.state]);const F=()=>{setTimeout(()=>R(!0),50)},M=()=>{console.warn("Failed to load video, falling back to icon"),I(null),R(!1)},C=e?.domain==="settings"?Xo.getTabIcons():[],X=e?.domain==="settings"?C:m7,E=(()=>{if(e.domain==="settings")return C;if(e.domain==="printer3d_device"||e.domain==="energy_dashboard_device"){const H=tc(e,l);return H&&H.primary&&H.primary.length>0?H.primary.map(U=>U.icon):[]}return Fe.isSystemEntity(e.domain)&&!Fe.hasTabs(e.domain)?[]:e.domain==="sensor"||e.domain==="binary_sensor"?[X[0],X[2],X[3]]:X})(),ee=()=>{if(Fe.isSystemEntity(e.domain)){if(e.domain==="news"&&window._newsViewRef){const{selectedArticle:U}=window._newsViewRef;return U?[{id:"back",action:"back",title:"Zurck"},{id:"read",action:"read",title:U.read?"Als ungelesen markieren":"Als gelesen markieren",isRead:U.read||!1},{id:"favorite",action:"favorite",title:"Favorit",isFavorite:U.favorite||!1}]:Fe.getActionButtons(e.domain)}if(e.domain==="todos"&&window._todosViewRef){const{selectedTodo:U}=window._todosViewRef;return U?[{id:"back",action:"back",title:"Zurck"}]:Fe.getActionButtons(e.domain)}return Fe.getActionButtons(e.domain)}return null};Y(()=>{const H=()=>{const U=ee();k(U)};if(H(),e.domain==="news")return window.addEventListener("news-view-state-changed",H),()=>{window.removeEventListener("news-view-state-changed",H)};if(e.domain==="todos")return window.addEventListener("todos-view-state-changed",H),()=>{window.removeEventListener("todos-view-state-changed",H)}},[e.domain,e.entity_id]),Y(()=>{const H=()=>{if(x)return;const J=E.length;if(J===0)return;if(h>=J){console.warn(" [SLIDER] Active tab index out of bounds:",{tabCount:J,activeTab:h});return}const re=p?36:40,fe=(p?3:5)+h*(re+(p?4:6));S({x:Math.round(fe),width:re,height:re})};H();const U=()=>{H()};return window.addEventListener("resize",U),()=>{window.removeEventListener("resize",U)}},[h,p,E]);const ue=()=>{const H=e.entity_id||e.id;H&&(y(!m),i?.(H))},K=Ie(()=>{n?.()},[n]),Q=(H,U)=>{if(!H)return"";const J=new Date(H),ae=new Date-J,be=Math.floor(ae/6e4),fe=Math.floor(ae/36e5),G=Math.floor(ae/864e5);return U==="de"?be<1?"Gerade eben":be<60?`vor ${be} Minute${be!==1?"n":""}`:fe<24?`vor ${fe} Stunde${fe!==1?"n":""}`:G<7?`vor ${G} Tag${G!==1?"en":""}`:J.toLocaleDateString("de-DE"):be<1?"Just now":be<60?`${be} minute${be!==1?"s":""} ago`:fe<24?`${fe} hour${fe!==1?"s":""} ago`:G<7?`${G} day${G!==1?"s":""} ago`:J.toLocaleDateString("en-US")},ie=()=>{if(e.domain!=="news"||!window._newsViewRef)return null;const{selectedArticle:H,unreadCount:U,feedCount:J}=window._newsViewRef;if(H){const ae=H.source||"Unbekannt",be=Q(H.published,l);return{stateText:ae,stateDuration:be}}else{const re=l==="de"?`${U||0} Neue Nachrichten`:`${U||0} New Articles`,ae=l==="de"?`${J||0} Feeds`:`${J||0} Feeds`;return{stateText:re,stateDuration:ae}}},se=()=>{if(e.domain!=="todos"||!window._todosViewRef)return null;const{selectedTodo:H,showSettings:U,incompleteCount:J,overdueCount:re,todayCount:ae}=window._todosViewRef;if(H){const be=H.listName||"Todo",fe=H.due?Q(H.due,l):l==="de"?"Kein Datum":"No date";return{stateText:be,stateDuration:fe}}else{if(U)return{stateText:l==="de"?"Einstellungen":"Settings",stateDuration:l==="de"?"Anpassen":"Customize"};{const be=l==="de"?`${J||0} Unerledigt`:`${J||0} Incomplete`;let fe=[];ae>0&&fe.push(l==="de"?`${ae} Heute`:`${ae} Today`),re>0&&fe.push(l==="de"?`${re} berfllig`:`${re} Overdue`);const G=fe.length>0?fe.join(", "):l==="de"?"Alles erledigt":"All done";return{stateText:be,stateDuration:G}}}},xe=()=>{if(e.domain!=="printer3d_device")return null;const H=e.attributes||{},U=H.nozzle_temp||0,J=H.bed_temp||0,re=H.current_step||(l==="de"?"Bereit":"Ready"),ae=String(re).toLowerCase(),fe={idle:l==="de"?"Leerlauf":"Idle",offline:"Offline",unavailable:l==="de"?"Nicht verfgbar":"Unavailable",unknown:l==="de"?"Unbekannt":"Unknown",bereit:l==="de"?"Bereit":"Ready",ready:l==="de"?"Bereit":"Ready",printing:l==="de"?"Druckt":"Printing",paused:l==="de"?"Pausiert":"Paused",error:l==="de"?"Fehler":"Error",complete:l==="de"?"Abgeschlossen":"Complete",finished:l==="de"?"Fertig":"Finished"}[ae]||re,O=U||J?`${l==="de"?"Druckbett":"Bed"}: ${J}C | ${l==="de"?"Dse":"Nozzle"}: ${U}C`:l==="de"?"Nicht verfgbar":"Not available";return{stateText:fe,stateDuration:O}},we=async H=>{if(!a)return null;try{const{loadEntityHistory:U}=await Ze(async()=>{const{loadEntityHistory:re}=await Promise.resolve().then(()=>f_);return{loadEntityHistory:re}},void 0),J=await U(a,H.entity_id,H.timeRange);return J?{history:J.data,events:J.events}:null}catch{return null}},_e=()=>{if(e.domain==="settings")return r(Xo,{settingsRef:L,lang:l,hass:a,onTabChange:re=>{}});if(e.is_system||e.is_plugin||Fe.isSystemEntity(e.domain)){const re=Fe.getViewComponent(e.domain);if(re)return typeof re=="function"?r(o7,{viewLoader:re,entity:e,hass:a,lang:l,onBack:K,onNavigate:o,onServiceCall:s}):r(re,{entity:e,hass:a,lang:l,onBack:K,onNavigate:o,onServiceCall:s})}const U=async(re,ae,be)=>{if(!s){console.warn("DetailView: onServiceCall not provided");return}return await s(re,ae,be)};if(e.domain==="sensor"||e.domain==="binary_sensor"){const re=[r(Yo,{item:u,onServiceCall:s,lang:l,hass:a}),r(Hp,{item:u,onDataRequest:we}),r(Gp,{item:u,onActionExecute:U,onActionNavigate:ae=>{o&&o(ae)},favoriteActions:[]})];return re[h]||re[0]}const J=[r(Yo,{item:u,onServiceCall:s,lang:l,hass:a}),r(i8,{item:u,lang:l,onTimerCreate:re=>W_(a,u,re),onScheduleCreate:re=>H_(a,u,re)}),r(Hp,{item:u,onDataRequest:we}),r(Gp,{item:e,onActionExecute:U,onActionNavigate:re=>{o&&o(re)},favoriteActions:[]})];return J[h]||J[0]};return e?r(Te,{mode:"wait",children:t&&r(P.div,{className:"detail-panel visible","data-entity-id":e.entity_id,variants:l_,initial:"hidden",animate:"visible",exit:"exit",children:r(P.div,{className:"detail-content",variants:c_,initial:"hidden",animate:"visible",exit:"exit",children:[r("div",{className:`detail-left ${_?"has-video":""}`,children:[_&&r("video",{ref:B,className:`detail-left-video-background ${T?"visible":""}`,src:_,autoPlay:!0,muted:!0,playsInline:!0,preload:"auto",onLoadedData:F,onError:M}),r(h7,{item:e,isFavorite:m,onBack:K,onToggleFavorite:ue,lang:l}),r(f7,{item:e,lang:l,videoUrl:_,showVideo:T,isCheckingVideo:j})]}),!(p&&_)&&r("div",{className:"detail-divider"}),r("div",{className:"detail-right",children:[r(p7,{filteredTabIcons:E,activeTab:h,onTabChange:f,sliderPosition:w,isMobile:p,stateText:se()?.stateText||ie()?.stateText||xe()?.stateText||c7(e,l),stateDuration:se()?.stateDuration||ie()?.stateDuration||xe()?.stateDuration||d7(e,l),item:e,settingsTabRef:L,actionButtons:x,onBack:K,currentLanguage:l}),r("div",{id:"tab-content-container",ref:N,onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1),children:_e()}),r(De,{scrollContainerRef:N,isHovered:V})]})]},e.entity_id||e.id)})}):null},_7=({username:e="User",weatherEntity:t,powerEntity:n,hass:i,notificationCount:s=0,show:o=!0,isMobile:a=!1,position:l="centered",hasAppeared:c=!0})=>{const[d,u]=D(new Date),[h,f]=D(t),[p,g]=D(()=>{const A=localStorage.getItem("statsBarEnabled");return A!==null?A==="true":!0}),m=i?.user?.name||e,[y,b]=D(null);Y(()=>{(async()=>{if(i)try{const F=await j2(i);b(F)}catch{b(null)}})()},[i]);const[v,w]=D(()=>vc()||{gridConsumption:null,gridReturn:null,solar:null,battery:null}),[S,x]=D(()=>{try{const A=localStorage.getItem("systemSettings");if(!A)return{weather:!0,gridConsumption:!0,gridReturn:!0,solar:!1,notifications:!0,time:!0,consumption:!1,todayConsumption:!0,todayCost:!0};const C=(JSON.parse(A).statsBar||{}).widgets||{};return{weather:C.weather!==!1,gridConsumption:C.gridConsumption!==!1,gridReturn:C.gridReturn!==!1,solar:C.solar===!0,notifications:C.notifications!==!1,time:C.time!==!1,consumption:C.consumption===!0,todayConsumption:C.todayConsumption===!0,todayCost:C.todayCost===!0}}catch{return{weather:!0,gridConsumption:!0,gridReturn:!0,solar:!1,notifications:!0,time:!0,consumption:!1,todayConsumption:!1,todayCost:!1}}}),[k,N]=D(null);Y(()=>{const A=async()=>{if(!v.gridConsumption){N(null);return}try{const M=await w1({hass:i},{maxRetries:20}),C=await Zp(M,v);N(C)}catch(M){console.error("Failed to load energy dashboard data:",M),N(null)}};A();const F=setInterval(A,3e5);return()=>clearInterval(F)},[i,v]),Y(()=>{const A=setInterval(()=>{u(new Date)},6e4);return()=>clearInterval(A)},[]),Y(()=>{const A=F=>{x(F.detail)};return window.addEventListener("statsBarWidgetsChanged",A),()=>window.removeEventListener("statsBarWidgetsChanged",A)},[]),Y(()=>{const A=()=>{const F=vc();F&&w(F)};return window.addEventListener("energySensorConfigChanged",A),window.addEventListener("storage",A),()=>{window.removeEventListener("energySensorConfigChanged",A),window.removeEventListener("storage",A)}},[]),Y(()=>{const A=async()=>{if(i&&v.gridConsumption)try{const F=await Zp(i,v);N(F)}catch(F){console.error("Failed to reload energy data after price change:",F)}};return window.addEventListener("energyPriceChanged",A),()=>{window.removeEventListener("energyPriceChanged",A)}},[i,v]),Y(()=>{const A=F=>{g(F.detail)};return window.addEventListener("statsBarEnabledChanged",A),()=>{window.removeEventListener("statsBarEnabledChanged",A)}},[]),Y(()=>{const A=F=>{const{entity_id:M,attributes:C}=F.detail;M&&(M==="system.weather"||M.startsWith("weather."))&&f(X=>({...X,entity_id:M,attributes:{...X?.attributes||{},...C}}))};return window.addEventListener("system-entity-updated",A),()=>{window.removeEventListener("system-entity-updated",A)}},[]),Y(()=>{t&&f(t)},[t]);const L=A=>{const F=A.getHours().toString().padStart(2,"0"),M=A.getMinutes().toString().padStart(2,"0");return`${F}:${M}`},_=h?.attributes?.temperature||h?.attributes?.current_temperature,I=_?`${Math.round(_)}C`:"--C",T=h?.state?Jp(h.state,14,"rgba(255, 255, 255, 0.9)"):Jp("partlycloudy",14,"rgba(255, 255, 255, 0.9)"),R=A=>{if(!i||!A)return"--";const F=Sr(i,A,"--");if(F==="--")return F;try{const M=parseFloat(F),X=i.states[A]?.attributes?.unit_of_measurement;return X==="W"?`${(M/1e3).toFixed(1)}kW`:X==="kW"?`${M.toFixed(1)}kW`:X==="kWh"||X==="Wh"?X==="Wh"?`${(M/1e3).toFixed(1)}kWh`:`${M.toFixed(1)}kWh`:`${M.toFixed(1)}${X||"kW"}`}catch(M){return console.warn("Failed to parse energy value:",M),"--"}},j=R(v.gridConsumption),z=R(v.gridReturn),B=R(v.solar),V=R(v.battery);return n?.state&&`${parseFloat(n.state).toFixed(1)}`,!o||!p?null:r("div",{style:{width:"100%",marginBottom:"12px",position:"relative"},children:r(P.div,{initial:{opacity:0},animate:{opacity:c?1:0},transition:{duration:.4,ease:[.16,1,.3,1]},style:{borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:a?"13px":"14px",fontWeight:"500",color:"rgba(255, 255, 255, 0.9)",position:"relative",overflow:"hidden",minHeight:"35px"},className:"stats-bar",children:[r("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:a?"0 0 auto":"1",minWidth:0},children:[y?r("img",{src:y,alt:m,onError:A=>{A.target.style.display="none"},style:{width:a?"24px":"28px",height:a?"24px":"28px",borderRadius:"50%",objectFit:"cover",flexShrink:0,border:"2px solid rgba(255, 255, 255, 0.2)"}}):null,!y&&r("span",{style:{fontSize:a?"16px":"18px",flexShrink:0},children:""}),r("span",{style:{fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:m})]}),r("div",{style:{display:"flex",alignItems:"center",gap:a?"12px":"16px",flex:"0 0 auto"},children:[S.weather&&!a&&r("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"12px"},children:[T,r("span",{children:I})]}),S.gridConsumption&&v.gridConsumption&&r("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"12px"},children:[r(Zo,{size:14,color:"rgba(255, 255, 255, 0.9)"}),r("span",{children:k?.currentGridConsumption!==void 0&&k?.currentGridConsumption!==null?`${(k.currentGridConsumption/1e3).toFixed(1)}kW`:j})]}),S.gridReturn&&v.gridReturn&&r("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"12px"},children:[r(Zo,{size:14,color:"rgba(255, 255, 255, 0.9)"}),r("span",{children:z})]}),S.solar&&v.solar&&r("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"12px"},children:[r(z2,{size:14,color:"rgba(255, 255, 255, 0.9)"}),r("span",{children:k?.currentSolarProduction!==void 0&&k?.currentSolarProduction!==null?`${(k.currentSolarProduction/1e3).toFixed(1)}kW`:B})]}),S.battery&&v.battery&&r("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"12px"},children:[r(T8,{size:14,color:"rgba(255, 255, 255, 0.9)"}),r("span",{children:V})]}),S.todayConsumption&&k?.todayGridConsumption!==void 0&&k?.todayGridConsumption!==null&&r("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"12px"},children:[r(W2,{size:14,color:"rgba(255, 255, 255, 0.9)"}),r("span",{children:[k.todayGridConsumption.toFixed(1),"kWh"]})]}),S.todayCost&&k?.todayCost!==void 0&&k?.todayCost!==null&&r("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"12px"},children:[r(V2,{size:14,color:"rgba(255, 255, 255, 0.9)"}),r("span",{children:[k.todayCost.toFixed(2),""]})]}),S.notifications&&s>0&&r("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"rgba(255, 100, 100, 0.2)",borderRadius:"12px",position:"relative"},children:[r($2,{size:14,color:"rgba(255, 255, 255, 0.9)"}),r("span",{style:{background:"rgba(255, 60, 60, 0.9)",color:"white",padding:"2px 6px",borderRadius:"8px",fontSize:a?"11px":"12px",fontWeight:"700",minWidth:"20px",textAlign:"center"},children:s})]}),S.time&&r("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"12px",fontVariantNumeric:"tabular-nums"},children:[r(H2,{size:14,color:"rgba(255, 255, 255, 0.9)"}),r("span",{children:L(d)})]}),S.consumption&&(()=>{let A=0,F=!1;if(k){const M=k.currentGridConsumption||0,C=k.currentGridReturn||0,X=k.currentSolarProduction||0;A=M-C+X,F=!0}return F?r("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"12px"},children:[r(O2,{size:14,color:"rgba(255, 255, 255, 0.9)"}),r("span",{children:[(A/1e3).toFixed(1),"kW"]})]}):null})()]})]})})},n0=(e="de")=>{const t=new Date().getHours(),n={de:{morning:["Guten Morgen","Einen wunderschnen Morgen","Frohes Erwachen","Zeit fr einen guten Start","Bereit fr einen groartigen Tag","Ein neuer Tag wartet"],afternoon:["Guten Tag","Schnen Nachmittag","Auf geht's","Weiter so","Produktiver Tag heute","Toll, dich zu sehen"],evening:["Guten Abend","Schnen Abend","Zeit zum Entspannen","Fast geschafft","Feierabend in Sicht","Zeit fr dich"]},en:{morning:["Good Morning","Rise and shine","Great to see you","Ready for a great day","Fresh start ahead","Let's make today count"],afternoon:["Good Afternoon","Keep it going","You're doing great","Productive day","Nice to see you","Halfway there"],evening:["Good Evening","Almost done","Time to relax","You earned this","Wrapping up nicely","Evening vibes"]}};let i;t<12?i="morning":t<18?i="afternoon":i="evening";const s=n[e]?.[i]||n.de.afternoon,o=Math.floor(Math.random()*s.length);return s[o]},C7=({username:e="User",show:t=!0,isExpanded:n=!1,currentLanguage:i="de",isMobile:s=!1,position:o="centered",hasAppeared:a=!0})=>{const[l,c]=D(()=>n0(i)),[d,u]=D(0);return Y(()=>{!n&&t&&(c(n0(i)),u(h=>h+1))},[n,t,i]),r(Te,{mode:"wait",children:t&&!n&&r(P.div,{initial:{opacity:0,y:-20,filter:"blur(8px)"},animate:{opacity:a?1:0,y:a&&o==="centered"?s?60:120:0,filter:"blur(0px)"},exit:{opacity:0,y:-20,filter:"blur(8px)",transition:{duration:.2,ease:[.4,0,.2,1]}},transition:{duration:.3,ease:[.16,1,.3,1],filter:{duration:.15}},style:{width:"100%",marginTop:s?"32px":"48px",marginBottom:s?"12px":"16px",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},className:"greetings-bar",children:r("div",{style:{padding:s?"10px 28px":"16px 48px",borderRadius:"20px",fontSize:s?"35px":"63px",fontWeight:"600",color:"rgba(255, 255, 255, 0.95)",position:"relative",backdropFilter:"blur(12px) saturate(150%)",WebkitBackdropFilter:"blur(12px) saturate(150%)",textShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",lineHeight:"1.1em"},children:[l,", ",e,"!"]})},`greetings-bar-${d}`)})};function Mn(e){return Array.isArray?Array.isArray(e):J2(e)==="[object Array]"}function S7(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function N7(e){return e==null?"":S7(e)}function cn(e){return typeof e=="string"}function Z2(e){return typeof e=="number"}function L7(e){return e===!0||e===!1||M7(e)&&J2(e)=="[object Boolean]"}function X2(e){return typeof e=="object"}function M7(e){return X2(e)&&e!==null}function Pt(e){return e!=null}function rl(e){return!e.trim().length}function J2(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const E7="Incorrect 'index' type",T7=e=>`Invalid value for key ${e}`,A7=e=>`Pattern length exceeds max of ${e}.`,D7=e=>`Missing ${e} property in key`,F7=e=>`Property 'weight' in key '${e}' must be a positive integer`,i0=Object.prototype.hasOwnProperty;class P7{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(i=>{let s=Q2(i);this._keys.push(s),this._keyMap[s.id]=s,n+=s.weight}),this._keys.forEach(i=>{i.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Q2(e){let t=null,n=null,i=null,s=1,o=null;if(cn(e)||Mn(e))i=e,t=r0(e),n=wc(e);else{if(!i0.call(e,"name"))throw new Error(D7("name"));const a=e.name;if(i=a,i0.call(e,"weight")&&(s=e.weight,s<=0))throw new Error(F7(a));t=r0(a),n=wc(a),o=e.getFn}return{path:t,id:n,weight:s,src:i,getFn:o}}function r0(e){return Mn(e)?e:e.split(".")}function wc(e){return Mn(e)?e.join("."):e}function I7(e,t){let n=[],i=!1;const s=(o,a,l)=>{if(Pt(o))if(!a[l])n.push(o);else{let c=a[l];const d=o[c];if(!Pt(d))return;if(l===a.length-1&&(cn(d)||Z2(d)||L7(d)))n.push(N7(d));else if(Mn(d)){i=!0;for(let u=0,h=d.length;u<h;u+=1)s(d[u],a,l+1)}else a.length&&s(d,a,l+1)}};return s(e,cn(t)?t.split("."):t,0),i?n:n[0]}const R7={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},B7={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},z7={location:0,threshold:.6,distance:100},V7={useExtendedSearch:!1,getFn:I7,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Se={...B7,...R7,...z7,...V7};const O7=/[^ ]+/g;function W7(e=1,t=3){const n=new Map,i=Math.pow(10,t);return{get(s){const o=s.match(O7).length;if(n.has(o))return n.get(o);const a=1/Math.pow(o,.5*e),l=parseFloat(Math.round(a*i)/i);return n.set(o,l),l},clear(){n.clear()}}}class Ud{constructor({getFn:t=Se.getFn,fieldNormWeight:n=Se.fieldNormWeight}={}){this.norm=W7(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,i)=>{this._keysMap[n.id]=i})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,cn(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();cn(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,i=this.size();n<i;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!Pt(t)||rl(t))return;let i={v:t,i:n,n:this.norm.get(t)};this.records.push(i)}_addObject(t,n){let i={i:n,$:{}};this.keys.forEach((s,o)=>{let a=s.getFn?s.getFn(t):this.getFn(t,s.path);if(Pt(a)){if(Mn(a)){let l=[];const c=[{nestedArrIndex:-1,value:a}];for(;c.length;){const{nestedArrIndex:d,value:u}=c.pop();if(Pt(u))if(cn(u)&&!rl(u)){let h={v:u,i:d,n:this.norm.get(u)};l.push(h)}else Mn(u)&&u.forEach((h,f)=>{c.push({nestedArrIndex:f,value:h})})}i.$[o]=l}else if(cn(a)&&!rl(a)){let l={v:a,n:this.norm.get(a)};i.$[o]=l}}}),this.records.push(i)}toJSON(){return{keys:this.keys,records:this.records}}}function ey(e,t,{getFn:n=Se.getFn,fieldNormWeight:i=Se.fieldNormWeight}={}){const s=new Ud({getFn:n,fieldNormWeight:i});return s.setKeys(e.map(Q2)),s.setSources(t),s.create(),s}function H7(e,{getFn:t=Se.getFn,fieldNormWeight:n=Se.fieldNormWeight}={}){const{keys:i,records:s}=e,o=new Ud({getFn:t,fieldNormWeight:n});return o.setKeys(i),o.setIndexRecords(s),o}function Js(e,{errors:t=0,currentLocation:n=0,expectedLocation:i=0,distance:s=Se.distance,ignoreLocation:o=Se.ignoreLocation}={}){const a=t/e.length;if(o)return a;const l=Math.abs(i-n);return s?a+l/s:l?1:a}function $7(e=[],t=Se.minMatchCharLength){let n=[],i=-1,s=-1,o=0;for(let a=e.length;o<a;o+=1){let l=e[o];l&&i===-1?i=o:!l&&i!==-1&&(s=o-1,s-i+1>=t&&n.push([i,s]),i=-1)}return e[o-1]&&o-i>=t&&n.push([i,o-1]),n}const oi=32;function j7(e,t,n,{location:i=Se.location,distance:s=Se.distance,threshold:o=Se.threshold,findAllMatches:a=Se.findAllMatches,minMatchCharLength:l=Se.minMatchCharLength,includeMatches:c=Se.includeMatches,ignoreLocation:d=Se.ignoreLocation}={}){if(t.length>oi)throw new Error(A7(oi));const u=t.length,h=e.length,f=Math.max(0,Math.min(i,h));let p=o,g=f;const m=l>1||c,y=m?Array(h):[];let b;for(;(b=e.indexOf(t,g))>-1;){let N=Js(t,{currentLocation:b,expectedLocation:f,distance:s,ignoreLocation:d});if(p=Math.min(N,p),g=b+u,m){let L=0;for(;L<u;)y[b+L]=1,L+=1}}g=-1;let v=[],w=1,S=u+h;const x=1<<u-1;for(let N=0;N<u;N+=1){let L=0,_=S;for(;L<_;)Js(t,{errors:N,currentLocation:f+_,expectedLocation:f,distance:s,ignoreLocation:d})<=p?L=_:S=_,_=Math.floor((S-L)/2+L);S=_;let I=Math.max(1,f-_+1),T=a?h:Math.min(f+_,h)+u,R=Array(T+2);R[T+1]=(1<<N)-1;for(let z=T;z>=I;z-=1){let B=z-1,V=n[e.charAt(B)];if(m&&(y[B]=+!!V),R[z]=(R[z+1]<<1|1)&V,N&&(R[z]|=(v[z+1]|v[z])<<1|1|v[z+1]),R[z]&x&&(w=Js(t,{errors:N,currentLocation:B,expectedLocation:f,distance:s,ignoreLocation:d}),w<=p)){if(p=w,g=B,g<=f)break;I=Math.max(1,2*f-g)}}if(Js(t,{errors:N+1,currentLocation:f,expectedLocation:f,distance:s,ignoreLocation:d})>p)break;v=R}const k={isMatch:g>=0,score:Math.max(.001,w)};if(m){const N=$7(y,l);N.length?c&&(k.indices=N):k.isMatch=!1}return k}function U7(e){let t={};for(let n=0,i=e.length;n<i;n+=1){const s=e.charAt(n);t[s]=(t[s]||0)|1<<i-n-1}return t}const Jo=String.prototype.normalize?(e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(e=>e);class ty{constructor(t,{location:n=Se.location,threshold:i=Se.threshold,distance:s=Se.distance,includeMatches:o=Se.includeMatches,findAllMatches:a=Se.findAllMatches,minMatchCharLength:l=Se.minMatchCharLength,isCaseSensitive:c=Se.isCaseSensitive,ignoreDiacritics:d=Se.ignoreDiacritics,ignoreLocation:u=Se.ignoreLocation}={}){if(this.options={location:n,threshold:i,distance:s,includeMatches:o,findAllMatches:a,minMatchCharLength:l,isCaseSensitive:c,ignoreDiacritics:d,ignoreLocation:u},t=c?t:t.toLowerCase(),t=d?Jo(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const h=(p,g)=>{this.chunks.push({pattern:p,alphabet:U7(p),startIndex:g})},f=this.pattern.length;if(f>oi){let p=0;const g=f%oi,m=f-g;for(;p<m;)h(this.pattern.substr(p,oi),p),p+=oi;if(g){const y=f-oi;h(this.pattern.substr(y),y)}}else h(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:i,includeMatches:s}=this.options;if(t=n?t:t.toLowerCase(),t=i?Jo(t):t,this.pattern===t){let m={isMatch:!0,score:0};return s&&(m.indices=[[0,t.length-1]]),m}const{location:o,distance:a,threshold:l,findAllMatches:c,minMatchCharLength:d,ignoreLocation:u}=this.options;let h=[],f=0,p=!1;this.chunks.forEach(({pattern:m,alphabet:y,startIndex:b})=>{const{isMatch:v,score:w,indices:S}=j7(t,m,y,{location:o+b,distance:a,threshold:l,findAllMatches:c,minMatchCharLength:d,includeMatches:s,ignoreLocation:u});v&&(p=!0),f+=w,v&&S&&(h=[...h,...S])});let g={isMatch:p,score:p?f/this.chunks.length:1};return p&&s&&(g.indices=h),g}}class Un{constructor(t){this.pattern=t}static isMultiMatch(t){return s0(t,this.multiRegex)}static isSingleMatch(t){return s0(t,this.singleRegex)}search(){}}function s0(e,t){const n=e.match(t);return n?n[1]:null}class G7 extends Un{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class K7 extends Un{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const i=t.indexOf(this.pattern)===-1;return{isMatch:i,score:i?0:1,indices:[0,t.length-1]}}}class q7 extends Un{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Y7 extends Un{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Z7 extends Un{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class X7 extends Un{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class ny extends Un{constructor(t,{location:n=Se.location,threshold:i=Se.threshold,distance:s=Se.distance,includeMatches:o=Se.includeMatches,findAllMatches:a=Se.findAllMatches,minMatchCharLength:l=Se.minMatchCharLength,isCaseSensitive:c=Se.isCaseSensitive,ignoreDiacritics:d=Se.ignoreDiacritics,ignoreLocation:u=Se.ignoreLocation}={}){super(t),this._bitapSearch=new ty(t,{location:n,threshold:i,distance:s,includeMatches:o,findAllMatches:a,minMatchCharLength:l,isCaseSensitive:c,ignoreDiacritics:d,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class iy extends Un{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,i;const s=[],o=this.pattern.length;for(;(i=t.indexOf(this.pattern,n))>-1;)n=i+o,s.push([i,n-1]);const a=!!s.length;return{isMatch:a,score:a?0:1,indices:s}}}const kc=[G7,iy,q7,Y7,X7,Z7,K7,ny],o0=kc.length,J7=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Q7="|";function eN(e,t={}){return e.split(Q7).map(n=>{let i=n.trim().split(J7).filter(o=>o&&!!o.trim()),s=[];for(let o=0,a=i.length;o<a;o+=1){const l=i[o];let c=!1,d=-1;for(;!c&&++d<o0;){const u=kc[d];let h=u.isMultiMatch(l);h&&(s.push(new u(h,t)),c=!0)}if(!c)for(d=-1;++d<o0;){const u=kc[d];let h=u.isSingleMatch(l);if(h){s.push(new u(h,t));break}}}return s})}const tN=new Set([ny.type,iy.type]);class nN{constructor(t,{isCaseSensitive:n=Se.isCaseSensitive,ignoreDiacritics:i=Se.ignoreDiacritics,includeMatches:s=Se.includeMatches,minMatchCharLength:o=Se.minMatchCharLength,ignoreLocation:a=Se.ignoreLocation,findAllMatches:l=Se.findAllMatches,location:c=Se.location,threshold:d=Se.threshold,distance:u=Se.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:i,includeMatches:s,minMatchCharLength:o,findAllMatches:l,ignoreLocation:a,location:c,threshold:d,distance:u},t=n?t:t.toLowerCase(),t=i?Jo(t):t,this.pattern=t,this.query=eN(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:i,isCaseSensitive:s,ignoreDiacritics:o}=this.options;t=s?t:t.toLowerCase(),t=o?Jo(t):t;let a=0,l=[],c=0;for(let d=0,u=n.length;d<u;d+=1){const h=n[d];l.length=0,a=0;for(let f=0,p=h.length;f<p;f+=1){const g=h[f],{isMatch:m,indices:y,score:b}=g.search(t);if(m){if(a+=1,c+=b,i){const v=g.constructor.type;tN.has(v)?l=[...l,...y]:l.push(y)}}else{c=0,a=0,l.length=0;break}}if(a){let f={isMatch:!0,score:c/a};return i&&(f.indices=l),f}}return{isMatch:!1,score:1}}}const xc=[];function iN(...e){xc.push(...e)}function _c(e,t){for(let n=0,i=xc.length;n<i;n+=1){let s=xc[n];if(s.condition(e,t))return new s(e,t)}return new ty(e,t)}const Qo={AND:"$and",OR:"$or"},Cc={PATH:"$path",PATTERN:"$val"},Sc=e=>!!(e[Qo.AND]||e[Qo.OR]),rN=e=>!!e[Cc.PATH],sN=e=>!Mn(e)&&X2(e)&&!Sc(e),a0=e=>({[Qo.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function ry(e,t,{auto:n=!0}={}){const i=s=>{let o=Object.keys(s);const a=rN(s);if(!a&&o.length>1&&!Sc(s))return i(a0(s));if(sN(s)){const c=a?s[Cc.PATH]:o[0],d=a?s[Cc.PATTERN]:s[c];if(!cn(d))throw new Error(T7(c));const u={keyId:wc(c),pattern:d};return n&&(u.searcher=_c(d,t)),u}let l={children:[],operator:o[0]};return o.forEach(c=>{const d=s[c];Mn(d)&&d.forEach(u=>{l.children.push(i(u))})}),l};return Sc(e)||(e=a0(e)),i(e)}function oN(e,{ignoreFieldNorm:t=Se.ignoreFieldNorm}){e.forEach(n=>{let i=1;n.matches.forEach(({key:s,norm:o,score:a})=>{const l=s?s.weight:null;i*=Math.pow(a===0&&l?Number.EPSILON:a,(l||1)*(t?1:o))}),n.score=i})}function aN(e,t){const n=e.matches;t.matches=[],Pt(n)&&n.forEach(i=>{if(!Pt(i.indices)||!i.indices.length)return;const{indices:s,value:o}=i;let a={indices:s,value:o};i.key&&(a.key=i.key.src),i.idx>-1&&(a.refIndex=i.idx),t.matches.push(a)})}function lN(e,t){t.score=e.score}function cN(e,t,{includeMatches:n=Se.includeMatches,includeScore:i=Se.includeScore}={}){const s=[];return n&&s.push(aN),i&&s.push(lN),e.map(o=>{const{idx:a}=o,l={item:t[a],refIndex:a};return s.length&&s.forEach(c=>{c(o,l)}),l})}class Zi{constructor(t,n={},i){this.options={...Se,...n},this._keyStore=new P7(this.options.keys),this.setCollection(t,i)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof Ud))throw new Error(E7);this._myIndex=n||ey(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Pt(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let i=0,s=this._docs.length;i<s;i+=1){const o=this._docs[i];t(o,i)&&(this.removeAt(i),i-=1,s-=1,n.push(o))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:i,includeScore:s,shouldSort:o,sortFn:a,ignoreFieldNorm:l}=this.options;let c=cn(t)?cn(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return oN(c,{ignoreFieldNorm:l}),o&&c.sort(a),Z2(n)&&n>-1&&(c=c.slice(0,n)),cN(c,this._docs,{includeMatches:i,includeScore:s})}_searchStringList(t){const n=_c(t,this.options),{records:i}=this._myIndex,s=[];return i.forEach(({v:o,i:a,n:l})=>{if(!Pt(o))return;const{isMatch:c,score:d,indices:u}=n.searchIn(o);c&&s.push({item:o,idx:a,matches:[{score:d,value:o,norm:l,indices:u}]})}),s}_searchLogical(t){const n=ry(t,this.options),i=(l,c,d)=>{if(!l.children){const{keyId:h,searcher:f}=l,p=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(c,h),searcher:f});return p&&p.length?[{idx:d,item:c,matches:p}]:[]}const u=[];for(let h=0,f=l.children.length;h<f;h+=1){const p=l.children[h],g=i(p,c,d);if(g.length)u.push(...g);else if(l.operator===Qo.AND)return[]}return u},s=this._myIndex.records,o={},a=[];return s.forEach(({$:l,i:c})=>{if(Pt(l)){let d=i(n,l,c);d.length&&(o[c]||(o[c]={idx:c,item:l,matches:[]},a.push(o[c])),d.forEach(({matches:u})=>{o[c].matches.push(...u)}))}}),a}_searchObjectList(t){const n=_c(t,this.options),{keys:i,records:s}=this._myIndex,o=[];return s.forEach(({$:a,i:l})=>{if(!Pt(a))return;let c=[];i.forEach((d,u)=>{c.push(...this._findMatches({key:d,value:a[u],searcher:n}))}),c.length&&o.push({idx:l,item:a,matches:c})}),o}_findMatches({key:t,value:n,searcher:i}){if(!Pt(n))return[];let s=[];if(Mn(n))n.forEach(({v:o,i:a,n:l})=>{if(!Pt(o))return;const{isMatch:c,score:d,indices:u}=i.searchIn(o);c&&s.push({score:d,key:t,value:o,idx:a,norm:l,indices:u})});else{const{v:o,n:a}=n,{isMatch:l,score:c,indices:d}=i.searchIn(o);l&&s.push({score:c,key:t,value:o,norm:a,indices:d})}return s}}Zi.version="7.1.0";Zi.createIndex=ey;Zi.parseIndex=H7;Zi.config=Se;Zi.parseQuery=ry;iN(nN);const dN=(e=[],t={})=>{const[n,i]=D(""),[s,o]=D(!1),a=oe(null),l=Re(()=>new Zi(e,{keys:[{name:"name",weight:.4},{name:"attributes.friendly_name",weight:.35},{name:"area",weight:.15},{name:"id",weight:.05},{name:"entity_id",weight:.05}],threshold:.5,includeScore:!0,includeMatches:!0,minMatchCharLength:1,shouldSort:!0,findAllMatches:!0,ignoreLocation:!0,useExtendedSearch:!1,tokenize:!0,matchAllTokens:!1,distance:1e3,...t}),[e]),c=Ie(f=>{if(clearTimeout(a.current),i(f),!f)return o(!1),e;o(!0),a.current=setTimeout(()=>{o(!1)},150);const p=f.toLowerCase().trim().split(/\s+/);if(p.length>1){const m=e.filter(y=>{const b=[y.name||"",y.attributes?.friendly_name||"",y.entity_id||"",y.id||"",y.area||""].join(" ").toLowerCase();return p.every(v=>b.includes(v))});return m.sort((y,b)=>{const v=(y.attributes?.friendly_name||y.name||"").toLowerCase(),w=(b.attributes?.friendly_name||b.name||"").toLowerCase(),S=v===f.toLowerCase(),x=w===f.toLowerCase();if(S&&!x)return-1;if(!S&&x)return 1;const k=d(v,p),N=d(w,p);return k-N}),m.map(y=>({...y,score:0,matches:[]}))}return l.search(f).map(m=>({...m.item,score:m.score,matches:m.matches}))},[l,e]),d=(f,p)=>{if(p.length<2)return 0;const g=p.map(y=>{const b=f.indexOf(y);return b>=0?b:f.length});g.sort((y,b)=>y-b);let m=0;for(let y=1;y<g.length;y++)m+=g[y]-g[y-1];return m},u=Ie((f,p=5)=>f?l.search(f).slice(0,p).map(m=>({...m.item,highlight:uN(m.item.name,m.matches)})):[],[l]),h=Re(()=>c(n),[n,c]);return{searchTerm:n,setSearchTerm:i,results:h,isSearching:s,getSuggestions:u,search:c}},uN=(e,t)=>{if(!t)return e;const n=t.find(o=>o.key==="name");if(!n)return e;let i="",s=0;return n.indices.forEach(([o,a])=>{i+=e.slice(s,o),i+=`<mark>${e.slice(o,a+1)}</mark>`,s=a+1}),i+=e.slice(s),i},hN=({size:e=39})=>{const t=`lightbulb_on_${Math.random().toString(36).substr(2,9)}`;return r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("g",{id:`${t}_segment1`,children:r("path",{d:"M9.00082 15C9.00098 13 8.50098 12.5 7.50082 11.5C6.50067 10.5 6.02422 9.48689 6.00082 8C5.95284 4.95029 8.00067 3 12.0008 3C16.001 3 18.0488 4.95029 18.0008 8C17.9774 9.48689 17.5007 10.5 16.5008 11.5C15.501 12.5 15.001 13 15.0008 15",stroke:"#FFD54F",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",opacity:"0",children:[r("animate",{attributeName:"opacity",values:"0;1",dur:"1s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,-2;0,0",dur:"1s",fill:"freeze"})]})}),r("g",{id:`${t}_segment2`,children:r("path",{d:"M9 18H15",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[r("animate",{attributeName:"opacity",values:"0;1",dur:"1s",begin:"0.3s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,2;0,0",dur:"1s",begin:"0.3s",fill:"freeze"})]})}),r("g",{id:`${t}_segment3`,children:r("path",{d:"M10 21H14",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[r("animate",{attributeName:"opacity",values:"0;1",dur:"1s",begin:"0.6s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,2;0,0",dur:"1s",begin:"0.6s",fill:"freeze"})]})})]})},fN=({size:e=39})=>{const t=`lightbulb_off_${Math.random().toString(36).substr(2,9)}`;return r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("g",{id:`${t}_segment1`,children:r("path",{d:"M9.00082 15C9.00098 13 8.50098 12.5 7.50082 11.5C6.50067 10.5 6.02422 9.48689 6.00082 8C5.95284 4.95029 8.00067 3 12.0008 3C16.001 3 18.0488 4.95029 18.0008 8C17.9774 9.48689 17.5007 10.5 16.5008 11.5C15.501 12.5 15.001 13 15.0008 15",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",stroke:"#FFD54F",children:[r("animate",{attributeName:"stroke",values:"#FFD54F;#F0F4F8;#F0F4F8",dur:"1s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"scale",values:"1;0.95;1",dur:"1s",fill:"freeze"})]})}),r("g",{id:`${t}_segment2`,children:r("path",{d:"M9 18H15",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",stroke:"#42A5F5",children:[r("animate",{attributeName:"opacity",values:"1;0.3;1",dur:"1s",fill:"freeze"}),r("animate",{attributeName:"stroke",values:"#42A5F5;#42A5F5;#B0BEC5",dur:"1s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,1;0,0",dur:"1s",fill:"freeze"})]})}),r("g",{id:`${t}_segment3`,children:r("path",{d:"M10 21H14",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",stroke:"#42A5F5",children:[r("animate",{attributeName:"opacity",values:"1;0.3;1",dur:"1s",begin:"0.3s",fill:"freeze"}),r("animate",{attributeName:"stroke",values:"#42A5F5;#42A5F5;#B0BEC5",dur:"1s",begin:"0.3s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,1;0,0",dur:"1s",begin:"0.3s",fill:"freeze"})]})})]})},pN=({size:e=39})=>{const t=`desk_lamp_on_${Math.random().toString(36).substr(2,9)}`;return r("svg",{width:`${e}px`,height:`${e}px`,viewBox:"0 0 24 24",strokeWidth:"1",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("path",{id:`${t}_sockel`,d:"M8 21H16",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[r("animate",{attributeName:"opacity",values:"0;1",dur:"1s",begin:"0.6s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,2;0,0",dur:"1s",begin:"0.6s",fill:"freeze"})]}),r("path",{id:`${t}_stiel`,d:"M12 15L12 21",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[r("animate",{attributeName:"opacity",values:"0;1",dur:"1s",begin:"0.3s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,2;0,0",dur:"1s",begin:"0.3s",fill:"freeze"})]}),r("path",{id:`${t}_gelenk`,d:"M8 15L8 13",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[r("animate",{attributeName:"opacity",values:"0;1",dur:"1s",begin:"0.2s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"1,0;0,0",dur:"1s",begin:"0.2s",fill:"freeze"})]}),r("path",{id:`${t}_lampenschirm`,d:"M6.87172 3.42759L4.23172 12.2276C4.11623 12.6126 4.4045 13 4.80642 13L19.1936 13C19.5955 13 19.8838 12.6126 19.7683 12.2276L17.1283 3.42759C17.0521 3.1738 16.8185 3 16.5536 3L7.44642 3C7.18145 3 6.94786 3.1738 6.87172 3.42759Z",stroke:"#FFD54F",fill:"#FFD54F",fillOpacity:"0.3",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[r("animate",{attributeName:"opacity",values:"0;1",dur:"1s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,-2;0,0",dur:"1s",fill:"freeze"}),r("animate",{attributeName:"stroke",values:"#B0BEC5;#FFD54F;#FF8F00",dur:"1.5s",fill:"freeze"}),r("animate",{attributeName:"fill-opacity",values:"0.1;0.3;0.4",dur:"1.5s",fill:"freeze"})]})]})},mN=({size:e=39})=>{const t=`desk_lamp_off_${Math.random().toString(36).substr(2,9)}`;return r("svg",{width:`${e}px`,height:`${e}px`,viewBox:"0 0 24 24",strokeWidth:"1",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("path",{id:`${t}_sockel`,d:"M8 21H16",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"stroke",values:"#42A5F5;#B0BEC5",dur:"1.5s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,1;0,0",dur:"1.5s",begin:"0.4s",fill:"freeze"})]}),r("path",{id:`${t}_stiel`,d:"M12 15L12 21",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"stroke",values:"#42A5F5;#B0BEC5",dur:"1.5s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,1;0,0",dur:"1.5s",begin:"0.2s",fill:"freeze"})]}),r("path",{id:`${t}_gelenk`,d:"M8 15L8 13",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"stroke",values:"#42A5F5;#B0BEC5",dur:"1.5s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;1,0;0,0",dur:"1.5s",begin:"0.1s",fill:"freeze"})]}),r("path",{id:`${t}_lampenschirm`,d:"M6.87172 3.42759L4.23172 12.2276C4.11623 12.6126 4.4045 13 4.80642 13L19.1936 13C19.5955 13 19.8838 12.6126 19.7683 12.2276L17.1283 3.42759C17.0521 3.1738 16.8185 3 16.5536 3L7.44642 3C7.18145 3 6.94786 3.1738 6.87172 3.42759Z",stroke:"#FF8F00",fill:"#FFD54F",fillOpacity:"0.3",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"stroke",values:"#FF8F00;#FFD54F;#B0BEC5",dur:"1.5s",fill:"freeze"}),r("animate",{attributeName:"fill",values:"#FFD54F;#F0F4F8",dur:"1.5s",fill:"freeze"}),r("animate",{attributeName:"fill-opacity",values:"0.3;0.1",dur:"1.5s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"scale",values:"1;0.98;1",dur:"1.5s",fill:"freeze"})]})]})},gN=({size:e=39})=>r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("path",{d:"M6 20H3V6L12 4L21 6V20H18M6 20H18M6 20V16M18 20V16M6 12V8L18 8V12M6 12L18 12M6 12V16M18 12V16M6 16H18",stroke:"#388E3C",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("rect",{x:"6",y:"16",width:"12",height:"4",fill:"rgba(56, 142, 60, 0.3)",stroke:"none",opacity:"1",children:r("animate",{attributeName:"opacity",values:"1;0",dur:"0.5s",begin:"0.5s",fill:"freeze"})}),r("rect",{x:"6",y:"12",width:"12",height:"4",fill:"rgba(56, 142, 60, 0.3)",stroke:"none",opacity:"1",children:r("animate",{attributeName:"opacity",values:"1;0",dur:"0.5s",begin:"1s",fill:"freeze"})}),r("rect",{x:"6",y:"8",width:"12",height:"4",fill:"rgba(56, 142, 60, 0.3)",stroke:"none",opacity:"1",children:r("animate",{attributeName:"opacity",values:"1;0",dur:"0.5s",begin:"1.5s",fill:"freeze"})})]}),yN=({size:e=39})=>r("svg",{id:"garage_door_system",width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("style",{children:`
    /* Garagentor schliet sich - von oben nach unten */
    #top_slat_fill {
      animation: fade_in_top 2000ms ease-in-out forwards;
      animation-delay: 500ms;
      opacity: 0;
    }
    
    #middle_slat_fill {
      animation: fade_in_middle 2000ms ease-in-out forwards;
      animation-delay: 1000ms;
      opacity: 0;
    }
    
    #bottom_slat_fill {
      animation: fade_in_bottom 2000ms ease-in-out forwards;
      animation-delay: 1500ms;
      opacity: 0;
    }
    
    @keyframes fade_in_top {
      0% { opacity: 0; }
      25% { opacity: 1; }
      100% { opacity: 1; }
    }
    
    @keyframes fade_in_middle {
      0% { opacity: 0; }
      25% { opacity: 1; }
      100% { opacity: 1; }
    }
    
    @keyframes fade_in_bottom {
      0% { opacity: 0; }
      25% { opacity: 1; }
      100% { opacity: 1; }
    }
    
    /* Kein Glow-Effekt im geschlossenen Zustand */
    #garage_door_system {
      filter: none;
    }
    `}),r("path",{d:"M6 20H3V6L12 4L21 6V20H18M6 20H18M6 20V16M18 20V16M6 12V8L18 8V12M6 12L18 12M6 12V16M18 12V16M6 16H18",stroke:"#B0BEC5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("rect",{id:"top_slat_fill",x:"6",y:"8",width:"12",height:"4",fill:"rgba(176, 190, 197, 0.3)",stroke:"none"}),r("rect",{id:"middle_slat_fill",x:"6",y:"12",width:"12",height:"4",fill:"rgba(176, 190, 197, 0.3)",stroke:"none"}),r("rect",{id:"bottom_slat_fill",x:"6",y:"16",width:"12",height:"4",fill:"rgba(176, 190, 197, 0.3)",stroke:"none"})]}),vN=({size:e=39})=>{const t=`roller_on_${Math.random().toString(36).substr(2,9)}`;return r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("g",{id:`${t}_frame`,children:r("path",{d:"M3 7.5V3.6C3 3.26863 3.26863 3 3.6 3H20.4C20.7314 3 21 3.26863 21 3.6V7.5M21 16.5V20.4C21 20.7314 20.7314 21 20.4 21H3.6C3.26863 21 3 20.7314 3 20.4V16.5M3 7.5V16.5M21 7.5V16.5",stroke:"#388E3C",strokeWidth:"1.5"})}),r("rect",{id:`${t}_first_slat_fill`,x:"3",y:"3",width:"18",height:"4.5",fill:"rgba(56, 142, 60, 0.3)",stroke:"none",children:r("animate",{attributeName:"opacity",values:"1;0;0",dur:"2s",begin:"2s",fill:"freeze"})}),r("rect",{id:`${t}_second_slat_fill`,x:"3",y:"7.5",width:"18",height:"4.5",fill:"rgba(56, 142, 60, 0.3)",stroke:"none",children:r("animate",{attributeName:"opacity",values:"1;0;0",dur:"2s",begin:"1.5s",fill:"freeze"})}),r("rect",{id:`${t}_third_slat_fill`,x:"3",y:"12",width:"18",height:"4.5",fill:"rgba(56, 142, 60, 0.3)",stroke:"none",children:r("animate",{attributeName:"opacity",values:"1;0;0",dur:"2s",begin:"1s",fill:"freeze"})}),r("rect",{id:`${t}_fourth_slat_fill`,x:"3",y:"16.5",width:"18",height:"4.5",fill:"rgba(56, 142, 60, 0.3)",stroke:"none",children:r("animate",{attributeName:"opacity",values:"1;0;0",dur:"2s",begin:"0.5s",fill:"freeze"})}),r("path",{d:"M3 7.5H21",stroke:"#388E3C",strokeWidth:"1.5"}),r("path",{d:"M3 12H21",stroke:"#388E3C",strokeWidth:"1.5"}),r("path",{d:"M3 16.5H21",stroke:"#388E3C",strokeWidth:"1.5"})]})},bN=({size:e=39})=>r("svg",{id:"rollershutter_system",width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("style",{children:`
    /* Erste Lamelle Fade-In */
    #first_slat_fill {
      animation: fade_in_first 2000ms ease-in-out forwards;
      animation-delay: 500ms;
      opacity: 0;
    }
    
    /* Zweite Lamelle Fade-In mit 1.0s Delay */
    #second_slat_fill {
      animation: fade_in_second 2000ms ease-in-out forwards;
      animation-delay: 1000ms;
      opacity: 0;
    }
    
    /* Dritte Lamelle Fade-In mit 1.5s Delay */
    #third_slat_fill {
      animation: fade_in_third 2000ms ease-in-out forwards;
      animation-delay: 1500ms;
      opacity: 0;
    }
    
    /* Vierte Lamelle Fade-In mit 2.0s Delay */
    #fourth_slat_fill {
      animation: fade_in_fourth 2000ms ease-in-out forwards;
      animation-delay: 2000ms;
      opacity: 0;
    }
    
    @keyframes fade_in_first {
      0% { opacity: 0; }
      25% { opacity: 1; }
      100% { opacity: 1; }
    }
    
    @keyframes fade_in_second {
      0% { opacity: 0; }
      25% { opacity: 1; }
      100% { opacity: 1; }
    }
    
    @keyframes fade_in_third {
      0% { opacity: 0; }
      25% { opacity: 1; }
      100% { opacity: 1; }
    }
    
    @keyframes fade_in_fourth {
      0% { opacity: 0; }
      25% { opacity: 1; }
      100% { opacity: 1; }
    }
    `}),r("g",{id:"frame",children:r("path",{d:"M3 7.5V3.6C3 3.26863 3.26863 3 3.6 3H20.4C20.7314 3 21 3.26863 21 3.6V7.5M21 16.5V20.4C21 20.7314 20.7314 21 20.4 21H3.6C3.26863 21 3 20.7314 3 20.4V16.5M3 7.5V16.5M21 7.5V16.5",stroke:"#B0BEC5",strokeWidth:"1.5"})}),r("rect",{id:"first_slat_fill",x:"3",y:"3",width:"18",height:"4.5",fill:"rgba(176, 190, 197, 0.4)",stroke:"none"}),r("rect",{id:"second_slat_fill",x:"3",y:"7.5",width:"18",height:"4.5",fill:"rgba(176, 190, 197, 0.4)",stroke:"none"}),r("rect",{id:"third_slat_fill",x:"3",y:"12",width:"18",height:"4.5",fill:"rgba(176, 190, 197, 0.4)",stroke:"none"}),r("rect",{id:"fourth_slat_fill",x:"3",y:"16.5",width:"18",height:"4.5",fill:"rgba(176, 190, 197, 0.4)",stroke:"none"}),r("path",{d:"M3 7.5H21",stroke:"#B0BEC5",strokeWidth:"1.5"}),r("path",{d:"M3 12H21",stroke:"#B0BEC5",strokeWidth:"1.5"}),r("path",{d:"M3 16.5H21",stroke:"#B0BEC5",strokeWidth:"1.5"})]}),Qs=({size:e=39})=>{const t=`door_on_${Math.random().toString(36).substr(2,9)}`;return r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[r("path",{id:`${t}_door_frame`,d:"M2 18V6C2 4.34315 3.34315 3 5 3H7C8.65685 3 10 4.34315 10 6V18C10 19.6569 8.65685 21 7 21H5C3.34315 21 2 19.6569 2 18Z",stroke:"#42A5F5",fill:"rgba(66, 165, 245, 0.2)",strokeWidth:"1.5",children:[r("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;-1.5,0",dur:"1.5s",fill:"freeze"}),r("animate",{attributeName:"opacity",values:"0.4;0.8",dur:"1.5s",fill:"freeze"})]}),r("path",{id:`${t}_door_opening_side`,d:"M16 3H18C20.2091 3 22 4.79086 22 7V17C22 19.2091 20.2091 21 18 21H16",stroke:"#42A5F5",fill:"rgba(66, 165, 245, 0.1)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[r("animateTransform",{attributeName:"transform",type:"translate",values:"-5,0;-10,0",dur:"1.5s",fill:"freeze"}),r("animate",{attributeName:"opacity",values:"0;1",dur:"1.5s",fill:"freeze"})]})]})},eo=({size:e=39})=>{const t=`door_off_${Math.random().toString(36).substr(2,9)}`;return r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[r("path",{id:`${t}_door_frame`,d:"M2 18V6C2 4.34315 3.34315 3 5 3H7C8.65685 3 10 4.34315 10 6V18C10 19.6569 8.65685 21 7 21H5C3.34315 21 2 19.6569 2 18Z",stroke:"#B0BEC5",fill:"rgba(176, 190, 197, 0.1)",strokeWidth:"1.5",opacity:"0.8",children:[r("animateTransform",{attributeName:"transform",type:"translate",values:"-1.5,0;0,0",dur:"1.5s",fill:"freeze"}),r("animate",{attributeName:"opacity",values:"0.8;0.4",dur:"1.5s",fill:"freeze"})]}),r("path",{id:`${t}_door_opening_side`,d:"M16 3H18C20.2091 3 22 4.79086 22 7V17C22 19.2091 20.2091 21 18 21H16",stroke:"#B0BEC5",fill:"rgba(176, 190, 197, 0.05)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"1",children:[r("animateTransform",{attributeName:"transform",type:"translate",values:"-10,0;-5,0",dur:"1.5s",fill:"freeze"}),r("animate",{attributeName:"opacity",values:"1;0",dur:"1.5s",fill:"freeze"})]})]})},wN=({size:e=39})=>{const t=`motion_on_${Math.random().toString(36).substr(2,9)}`;return r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[r("g",{id:`${t}_movement_icon`,children:[r("path",{id:`${t}_activity_glow`,d:"M3 12H6L9 3L15 21L18 12H21",stroke:"#FFB300",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.3",children:r("animate",{attributeName:"opacity",values:"0.3;0.8;0.5;0.3",dur:"3s",repeatCount:"indefinite"})}),r("path",{id:`${t}_activity_line`,d:"M3 12H6L9 3L15 21L18 12H21",stroke:"#F44336",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"50",strokeDashoffset:"50",children:[r("animate",{attributeName:"stroke-dashoffset",values:"50;0;-50",dur:"2s",repeatCount:"indefinite"}),r("animate",{attributeName:"stroke",values:"#FF8F00;#F44336;#FF8F00",dur:"2s",repeatCount:"indefinite"})]})]}),r("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.1;1",dur:"1.5s",repeatCount:"indefinite"})]})},kN=({size:e=39})=>{const t=`motion_off_${Math.random().toString(36).substr(2,9)}`;return r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[r("g",{id:`${t}_movement_icon`,children:r("path",{d:"M3 12H6L9 3L15 21L18 12H21",stroke:"#B0BEC5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),r("animate",{attributeName:"opacity",values:"1;0.4",dur:"1s",fill:"freeze"})]})},to=({size:e=39})=>{const t=`presence_on_${Math.random().toString(36).substr(2,9)}`;return r("svg",{width:`${e}px`,height:`${e}px`,viewBox:"0 0 24 24",strokeWidth:"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{filter:"drop-shadow(0 0 3px rgba(66, 165, 245, 0.4))"},children:[r("path",{id:`${t}_outer_ring`,d:"M6 19.0007C3.57111 17.1763 2 14.2716 2 11C2 5.47715 6.47715 1 12 1C17.5228 1 22 5.47715 22 11C22 14.2716 20.4289 17.1763 18 19.0007",stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"opacity",values:"0.3;0.8;0.3",dur:"3s",repeatCount:"indefinite"}),r("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.05;1",dur:"3s",repeatCount:"indefinite"})]}),r("path",{id:`${t}_middle_ring`,d:"M7.52779 15C6.57771 13.9385 6 12.5367 6 11C6 7.68629 8.68629 5 12 5C15.3137 5 18 7.68629 18 11C18 12.5367 17.4223 13.9385 16.4722 15",stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"opacity",values:"0.4;0.9;0.4",dur:"3s",begin:"0.4s",repeatCount:"indefinite"}),r("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.08;1",dur:"3s",begin:"0.4s",repeatCount:"indefinite"})]}),r("g",{id:`${t}_person_figure`,children:[r("path",{d:"M12 13C13.1046 13 14 12.1046 14 11C14 9.89543 13.1046 9 12 9C10.8954 9 10 9.89543 10 11C10 12.1046 10.8954 13 12 13Z",stroke:"#42A5F5",fill:"rgba(66, 165, 245, 0.2)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M10.076 16.2827L10.8906 15.7396C11.5624 15.2917 12.4376 15.2917 13.1094 15.7396L13.924 16.2827C14.5789 16.7192 14.9168 17.4993 14.7874 18.2756L14.2785 21.3288C14.1178 22.2932 13.2834 23 12.3057 23H11.6943C10.7166 23 9.8822 22.2932 9.72147 21.3288L9.2126 18.2756C9.08321 17.4993 9.42114 16.7192 10.076 16.2827Z",stroke:"#42A5F5",fill:"rgba(66, 165, 245, 0.15)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("animate",{attributeName:"opacity",values:"0.8;1;0.8",dur:"3s",begin:"0.8s",repeatCount:"indefinite"}),r("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.03;1",dur:"3s",begin:"0.8s",repeatCount:"indefinite"})]})]})},Qn=({size:e=39})=>{const t=`presence_off_${Math.random().toString(36).substr(2,9)}`;return r("svg",{width:`${e}px`,height:`${e}px`,viewBox:"0 0 24 24",strokeWidth:"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("path",{id:`${t}_outer_ring`,d:"M6 19.0007C3.57111 17.1763 2 14.2716 2 11C2 5.47715 6.47715 1 12 1C17.5228 1 22 5.47715 22 11C22 14.2716 20.4289 17.1763 18 19.0007",stroke:"#F0F4F8",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"opacity",values:"1;0",dur:"1.5s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"scale",values:"1;0.95",dur:"1.5s",fill:"freeze"})]}),r("path",{id:`${t}_middle_ring`,d:"M7.52779 15C6.57771 13.9385 6 12.5367 6 11C6 7.68629 8.68629 5 12 5C15.3137 5 18 7.68629 18 11C18 12.5367 17.4223 13.9385 16.4722 15",stroke:"#F0F4F8",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"opacity",values:"1;0",dur:"1.5s",begin:"0.2s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"scale",values:"1;0.95",dur:"1.5s",begin:"0.2s",fill:"freeze"})]}),r("g",{id:`${t}_person_figure`,children:[r("path",{d:"M12 13C13.1046 13 14 12.1046 14 11C14 9.89543 13.1046 9 12 9C10.8954 9 10 9.89543 10 11C10 12.1046 10.8954 13 12 13Z",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.1)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M10.076 16.2827L10.8906 15.7396C11.5624 15.2917 12.4376 15.2917 13.1094 15.7396L13.924 16.2827C14.5789 16.7192 14.9168 17.4993 14.7874 18.2756L14.2785 21.3288C14.1178 22.2932 13.2834 23 12.3057 23H11.6943C10.7166 23 9.8822 22.2932 9.72147 21.3288L9.2126 18.2756C9.08321 17.4993 9.42114 16.7192 10.076 16.2827Z",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.05)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("animate",{attributeName:"opacity",values:"1;0.4",dur:"1.5s",begin:"0.4s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"scale",values:"1;0.98",dur:"1.5s",begin:"0.4s",fill:"freeze"})]})]})},An=({size:e=39})=>{const t=`lock_on_${Math.random().toString(36).substr(2,9)}`;return r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[r("path",{d:"M16 12H17.4C17.7314 12 18 12.2686 18 12.6V19.4C18 19.7314 17.7314 20 17.4 20H6.6C6.26863 20 6 19.7314 6 19.4V12.6C6 12.2686 6.26863 12 6.6 12H8M16 12H8",stroke:"#FFD54F",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:r("animate",{attributeName:"stroke",values:"#FFD54F;#B0BEC5",dur:"1.5s",fill:"freeze"})}),r("path",{id:`${t}_shackle`,d:"M16 12V8C16 6.66667 15.2 4 12 4C8.8 4 8 6.66667 8 8V12",stroke:"#1976D2",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"stroke",values:"#1976D2;#B0BEC5",dur:"1.5s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"rotate",values:"45 16 12;0 16 12",dur:"1.5s",fill:"freeze"})]})]})},Nr=({size:e=39})=>{const t=`lock_off_${Math.random().toString(36).substr(2,9)}`;return r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[r("path",{d:"M16 12H17.4C17.7314 12 18 12.2686 18 12.6V19.4C18 19.7314 17.7314 20 17.4 20H6.6C6.26863 20 6 19.7314 6 19.4V12.6C6 12.2686 6.26863 12 6.6 12H8M16 12H8",stroke:"#B0BEC5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:r("animate",{attributeName:"stroke",values:"#B0BEC5;#FFD54F",dur:"1.5s",fill:"freeze"})}),r("path",{id:`${t}_shackle`,d:"M16 12V8C16 6.66667 15.2 4 12 4C8.8 4 8 6.66667 8 8V12",stroke:"#B0BEC5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"stroke",values:"#B0BEC5;#1976D2",dur:"1.5s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"rotate",values:"0 16 12;45 16 12",dur:"1.5s",fill:"freeze"})]})]})},gn=({size:e=39})=>{const t=`siren_on_${Math.random().toString(36).substr(2,9)}`;return r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:r("g",{id:`${t}_alert_icon`,children:[r("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.1;1",dur:"2s",repeatCount:"indefinite"}),r("path",{id:`${t}_bell`,d:"M18 8.4C18 6.70261 17.3679 5.07475 16.2426 3.87452C15.1174 2.67428 13.5913 2 12 2C10.4087 2 8.88258 2.67428 7.75736 3.87452C6.63214 5.07475 6 6.70261 6 8.4C6 15.8667 3 18 3 18H21C21 18 18 15.8667 18 8.4Z",stroke:"#F44336",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:r("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 6;-8 12 6;8 12 6;-5 12 6;5 12 6;-2 12 6;0 12 6",dur:"1.5s",repeatCount:"indefinite"})}),r("path",{id:`${t}_clapper`,d:"M13.73 21C13.5542 21.3031 13.3019 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21",stroke:"#FF8F00",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:r("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 19;6 12 19;-6 12 19;4 12 19;-4 12 19;2 12 19;0 12 19",dur:"1.5s",repeatCount:"indefinite"})})]})})},bn=({size:e=39})=>(`${Math.random().toString(36).substr(2,9)}`,r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[r("path",{d:"M18 8.4C18 6.70261 17.3679 5.07475 16.2426 3.87452C15.1174 2.67428 13.5913 2 12 2C10.4087 2 8.88258 2.67428 7.75736 3.87452C6.63214 5.07475 6 6.70261 6 8.4C6 15.8667 3 18 3 18H21C21 18 18 15.8667 18 8.4Z",stroke:"#F44336",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:r("animate",{attributeName:"stroke",values:"#F44336;#F0F4F8",dur:"1.5s",fill:"freeze"})}),r("path",{d:"M13.73 21C13.5542 21.3031 13.3019 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21",stroke:"#FF8F00",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:r("animate",{attributeName:"stroke",values:"#FF8F00;#F0F4F8",dur:"1.5s",fill:"freeze"})}),r("animate",{attributeName:"opacity",values:"1;0.4",dur:"1.5s",fill:"freeze"})]})),sl=({size:e=39})=>{const t=`music_on_${Math.random().toString(36).substr(2,9)}`;return r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("path",{id:`${t}_notenlinie`,d:"M20 14V3L9 5V16",stroke:"#E91E63",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[r("animate",{attributeName:"opacity",values:"0;1",dur:"1s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,-2;0,0",dur:"1s",fill:"freeze"}),r("animate",{attributeName:"stroke-width",values:"1;1.2;1",dur:"2s",begin:"1s",repeatCount:"indefinite"})]}),r("path",{id:`${t}_obere_note`,d:"M17 19H18C19.1046 19 20 18.1046 20 17V14H17C15.8954 14 15 14.8954 15 16V17C15 18.1046 15.8954 19 17 19Z",stroke:"#E91E63",fill:"#E91E63",fillOpacity:"0.2",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[r("animate",{attributeName:"opacity",values:"0;1",dur:"1s",begin:"0.3s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"2,0;0,0",dur:"1s",begin:"0.3s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.05;1",dur:"2s",begin:"1.3s",repeatCount:"indefinite"}),r("animate",{attributeName:"fill-opacity",values:"0.2;0.3;0.2",dur:"2s",begin:"1.3s",repeatCount:"indefinite"})]}),r("path",{id:`${t}_untere_note`,d:"M6 21H7C8.10457 21 9 20.1046 9 19V16H6C4.89543 16 4 16.8954 4 18V19C4 20.1046 4.89543 21 6 21Z",stroke:"#E91E63",fill:"#E91E63",fillOpacity:"0.2",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[r("animate",{attributeName:"opacity",values:"0;1",dur:"1s",begin:"0.6s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"-2,0;0,0",dur:"1s",begin:"0.6s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.05;1",dur:"2s",begin:"1.8s",repeatCount:"indefinite"}),r("animate",{attributeName:"fill-opacity",values:"0.2;0.3;0.2",dur:"2s",begin:"1.8s",repeatCount:"indefinite"})]})]})},ol=({size:e=39})=>{const t=`music_off_${Math.random().toString(36).substr(2,9)}`;return r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("path",{id:`${t}_notenlinie`,d:"M20 14V3L9 5V16",stroke:"#E91E63",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"stroke",values:"#E91E63;#B0BEC5",dur:"1.5s",fill:"freeze"}),r("animate",{attributeName:"stroke-width",values:"1.2;1",dur:"1.5s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,0.5;0,0",dur:"1.5s",fill:"freeze"})]}),r("path",{id:`${t}_obere_note`,d:"M17 19H18C19.1046 19 20 18.1046 20 17V14H17C15.8954 14 15 14.8954 15 16V17C15 18.1046 15.8954 19 17 19Z",stroke:"#E91E63",fill:"#E91E63",fillOpacity:"0.3",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"stroke",values:"#E91E63;#B0BEC5",dur:"1.5s",fill:"freeze"}),r("animate",{attributeName:"fill",values:"#E91E63;#F0F4F8",dur:"1.5s",fill:"freeze"}),r("animate",{attributeName:"fill-opacity",values:"0.3;0.1",dur:"1.5s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"scale",values:"1.05;1;0.98;1",dur:"1.5s",begin:"0.2s",fill:"freeze"})]}),r("path",{id:`${t}_untere_note`,d:"M6 21H7C8.10457 21 9 20.1046 9 19V16H6C4.89543 16 4 16.8954 4 18V19C4 20.1046 4.89543 21 6 21Z",stroke:"#E91E63",fill:"#E91E63",fillOpacity:"0.3",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"stroke",values:"#E91E63;#B0BEC5",dur:"1.5s",fill:"freeze"}),r("animate",{attributeName:"fill",values:"#E91E63;#F0F4F8",dur:"1.5s",fill:"freeze"}),r("animate",{attributeName:"fill-opacity",values:"0.3;0.1",dur:"1.5s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"scale",values:"1.05;1;0.98;1",dur:"1.5s",begin:"0.4s",fill:"freeze"})]})]})},dr=({size:e=39})=>{const t=`tv_on_${Math.random().toString(36).substr(2,9)}`;return r("svg",{id:`${t}_system`,width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("path",{d:"M7 21L17 21",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M2 16.4V3.6C2 3.26863 2.26863 3 2.6 3H21.4C21.7314 3 22 3.26863 22 3.6V16.4C22 16.7314 21.7314 17 21.4 17H2.6C2.26863 17 2 16.7314 2 16.4Z",stroke:"#1976D2",fill:"rgba(25, 118, 210, 0.1)",strokeWidth:"1.5"}),r("rect",{x:"3.5",y:"4.5",width:"17",height:"11",fill:"rgba(66, 165, 245, 0.2)",stroke:"none",children:r("animate",{attributeName:"opacity",values:"0.2;0.6;0.2",dur:"3s",repeatCount:"indefinite"})}),r("g",{id:`${t}_content`,stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r("path",{d:"M13.5 7L13.5 11M13.5 13L13.5 11M13.5 11L14.8706 9.43363M17 7L14.8706 9.43363M14.8706 9.43363L17 13",children:[r("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"4s",begin:"0s",repeatCount:"indefinite"}),r("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.05;1",dur:"4s",begin:"0s",repeatCount:"indefinite"})]}),r("path",{d:"M9.5 7L6.5 11.5L10 11.5L10 13",children:[r("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"4s",begin:"1s",repeatCount:"indefinite"}),r("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.05;1",dur:"4s",begin:"1s",repeatCount:"indefinite"})]})]})]})},Ai=({size:e=39})=>{const t=`tv_off_${Math.random().toString(36).substr(2,9)}`;return r("svg",{id:`${t}_system_off`,width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("path",{d:"M7 21L17 21",stroke:"#B0BEC5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M2 16.4V3.6C2 3.26863 2.26863 3 2.6 3H21.4C21.7314 3 22 3.26863 22 3.6V16.4C22 16.7314 21.7314 17 21.4 17H2.6C2.26863 17 2 16.7314 2 16.4Z",stroke:"#B0BEC5",fill:"rgba(176, 190, 197, 0.05)",strokeWidth:"1.5"}),r("rect",{x:"3.5",y:"4.5",width:"17",height:"11",fill:"rgba(66, 66, 66, 0.9)",stroke:"none",children:r("animate",{attributeName:"opacity",values:"0.9;0",dur:"3s",fill:"freeze"})}),r("circle",{cx:"20",cy:"5",r:"0.5",fill:"#F44336",stroke:"none",children:r("animate",{attributeName:"opacity",values:"0.3;1;0.3",dur:"2s",repeatCount:"indefinite"})})]})},no=({size:e=39})=>(`${Math.random().toString(36).substr(2,9)}`,r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"#FF9246",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,146,48,.1)"}),r("path",{d:"M8 8V16",stroke:"#FF9246",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"2s",repeatCount:"indefinite"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,-2;0,0",dur:"2s",repeatCount:"indefinite"})]}),r("path",{d:"M12 6V18",stroke:"#FF9246",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"2s",begin:"0.3s",repeatCount:"indefinite"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,-2;0,0",dur:"2s",begin:"0.3s",repeatCount:"indefinite"})]}),r("path",{d:"M16 8V16",stroke:"#FF9246",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"2s",begin:"0.6s",repeatCount:"indefinite"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,-2;0,0",dur:"2s",begin:"0.6s",repeatCount:"indefinite"})]})]})),ei=({size:e=39})=>(`${Math.random().toString(36).substr(2,9)}`,r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"#3CD3FE",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(60,211,254,.1)"}),r("path",{d:"M12 6L12 18M6 12L18 12M8 8L16 16M16 8L8 16",stroke:"#3CD3FE",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.3"}),r("circle",{cx:"8",cy:"10",r:"1",fill:"#3CD3FE",opacity:"0.8",children:[r("animate",{attributeName:"opacity",values:"0;1;0",dur:"2.5s",repeatCount:"indefinite"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,-3;0,3",dur:"2.5s",repeatCount:"indefinite"})]}),r("circle",{cx:"12",cy:"12",r:"1",fill:"#3CD3FE",opacity:"0.8",children:[r("animate",{attributeName:"opacity",values:"0;1;0",dur:"2.5s",begin:"0.5s",repeatCount:"indefinite"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,-3;0,3",dur:"2.5s",begin:"0.5s",repeatCount:"indefinite"})]}),r("circle",{cx:"16",cy:"14",r:"1",fill:"#3CD3FE",opacity:"0.8",children:[r("animate",{attributeName:"opacity",values:"0;1;0",dur:"2.5s",begin:"1s",repeatCount:"indefinite"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,-3;0,3",dur:"2.5s",begin:"1s",repeatCount:"indefinite"})]})]})),ur=({size:e=39})=>(`${Math.random().toString(36).substr(2,9)}`,r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"#FFD600",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,214,0,.1)"}),r("path",{d:"M7 20L17 20",stroke:"#FFD600",strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.5"}),r("path",{d:"M8 14C8 14 8 10 10 8C10 10 10 14 8 14Z",fill:"#FFD600",opacity:"0.6",children:[r("animate",{attributeName:"opacity",values:"1;0",dur:"3s",repeatCount:"indefinite"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,-5",dur:"3s",repeatCount:"indefinite"})]}),r("path",{d:"M12 16C12 16 12 12 14 10C14 12 14 16 12 16Z",fill:"#FFD600",opacity:"0.6",children:[r("animate",{attributeName:"opacity",values:"1;0",dur:"3s",begin:"1s",repeatCount:"indefinite"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,-5",dur:"3s",begin:"1s",repeatCount:"indefinite"})]}),r("path",{d:"M16 14C16 14 16 10 18 8C18 10 18 14 16 14Z",fill:"#FFD600",opacity:"0.6",children:[r("animate",{attributeName:"opacity",values:"1;0",dur:"3s",begin:"2s",repeatCount:"indefinite"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,-5",dur:"3s",begin:"2s",repeatCount:"indefinite"})]})]})),io=({size:e=39})=>(`${Math.random().toString(36).substr(2,9)}`,r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"#30D158",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(48,209,88,.1)"}),r("circle",{cx:"12",cy:"12",r:"2",fill:"#30D158",opacity:"0.8"}),r("g",{children:[r("path",{d:"M12 7V12L15 9",stroke:"#30D158",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M17 12H12L15 15",stroke:"#30D158",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 17V12L9 15",stroke:"#30D158",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M7 12H12L9 9",stroke:"#30D158",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 12;360 12 12",dur:"4s",repeatCount:"indefinite"})]})]})),al=({size:e=39})=>(`${Math.random().toString(36).substr(2,9)}`,r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[r("g",{children:[r("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 9C12 9 10.012 7.025 10 5C10.001 3.007 9.95 0.999 12 1C13.948 1.001 13.997 2.976 14 5C14.003 6.985 12 9 12 9Z",stroke:"#42A5F5",strokeWidth:"1",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 12C15 12 16.975 10.012 19 10C20.993 10.001 23.001 9.95 23 12C22.999 13.948 21.024 13.997 19 14C17.015 14.003 15 12 15 12Z",stroke:"#42A5F5",strokeWidth:"1",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 12C9 12 7.025 13.988 5 14C3.007 13.999 0.999 14.05 1 12C1.001 10.052 2.976 10.003 5 10C6.985 9.997 9 12 9 12Z",stroke:"#42A5F5",strokeWidth:"1",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 15C12 15 13.988 16.975 14 19C13.999 20.993 14.05 23.001 12 23C10.052 22.999 10.003 21.024 10 19C9.997 17.015 12 15 12 15Z",stroke:"#42A5F5",strokeWidth:"1",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 12;360 12 12",dur:"1s",repeatCount:"indefinite"})]}),r("path",{d:"M11.9996 14.9995C13.6565 14.9995 14.9996 13.6564 14.9996 11.9995C14.9996 10.3427 13.6565 8.99951 11.9996 8.99951C10.3428 8.99951 8.99963 10.3427 8.99963 11.9995C8.99963 13.6564 10.3428 14.9995 11.9996 14.9995Z",stroke:"#1976D2",strokeWidth:"2",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:r("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.1;1",dur:"2s",repeatCount:"indefinite"})})]})),ro=({size:e=39})=>(`${Math.random().toString(36).substr(2,9)}`,r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[r("g",{children:[r("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 9C12 9 10.012 7.025 10 5C10.001 3.007 9.95 0.999 12 1C13.948 1.001 13.997 2.976 14 5C14.003 6.985 12 9 12 9Z",stroke:"#42A5F5",strokeWidth:"1",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:r("animate",{attributeName:"stroke",values:"#42A5F5;#F0F4F8",dur:"1.5s",fill:"freeze"})}),r("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 12C15 12 16.975 10.012 19 10C20.993 10.001 23.001 9.95 23 12C22.999 13.948 21.024 13.997 19 14C17.015 14.003 15 12 15 12Z",stroke:"#42A5F5",strokeWidth:"1",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:r("animate",{attributeName:"stroke",values:"#42A5F5;#F0F4F8",dur:"1.5s",begin:"0.1s",fill:"freeze"})}),r("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 12C9 12 7.025 13.988 5 14C3.007 13.999 0.999 14.05 1 12C1.001 10.052 2.976 10.003 5 10C6.985 9.997 9 12 9 12Z",stroke:"#42A5F5",strokeWidth:"1",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:r("animate",{attributeName:"stroke",values:"#42A5F5;#F0F4F8",dur:"1.5s",begin:"0.2s",fill:"freeze"})}),r("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 15C12 15 13.988 16.975 14 19C13.999 20.993 14.05 23.001 12 23C10.052 22.999 10.003 21.024 10 19C9.997 17.015 12 15 12 15Z",stroke:"#42A5F5",strokeWidth:"1",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:r("animate",{attributeName:"stroke",values:"#42A5F5;#F0F4F8",dur:"1.5s",begin:"0.3s",fill:"freeze"})}),r("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 12;180 12 12;360 12 12",dur:"2s",fill:"freeze"}),r("animate",{attributeName:"opacity",values:"1;0.4",dur:"1.5s",fill:"freeze"})]}),r("path",{d:"M11.9996 14.9995C13.6565 14.9995 14.9996 13.6564 14.9996 11.9995C14.9996 10.3427 13.6565 8.99951 11.9996 8.99951C10.3428 8.99951 8.99963 10.3427 8.99963 11.9995C8.99963 13.6564 10.3428 14.9995 11.9996 14.9995Z",stroke:"#1976D2",strokeWidth:"2",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"stroke",values:"#1976D2;#F0F4F8",dur:"1.5s",begin:"0.4s",fill:"freeze"}),r("animate",{attributeName:"opacity",values:"1;0.4",dur:"1.5s",begin:"0.4s",fill:"freeze"})]})]})),sy=({size:e=39})=>(`${Math.random().toString(36).substr(2,9)}`,r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[r("path",{d:"M7.5 21H5C3.89543 21 3 20.1046 3 19V5C3 3.89543 3.89543 3 5 3H18.9999C20.1045 3 20.9999 3.89543 20.9999 4.99999L21 19C21 20.1046 20.1046 21 19 21H16.5",stroke:"#B0BEC5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M21 7H3.00006",stroke:"#1976D2",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),r("g",{children:[r("path",{d:"M12 16C13.6569 16 15 14.5076 15 12.6667V10H9V12.6667C9 14.5076 10.3431 16 12 16Z",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 16V21M12 21H10M12 21H14",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),r("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 18.5;-30 12 18.5;0 12 18.5;30 12 18.5;0 12 18.5",dur:"3s",repeatCount:"indefinite"})]}),r("path",{d:"M18 5.01L18.01 4.99889",stroke:"#388E3C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r("animate",{attributeName:"opacity",values:"1;0.3;1",dur:"2s",repeatCount:"indefinite"})}),r("path",{d:"M15 5.01L15.01 4.99889",stroke:"#FF8F00",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r("animate",{attributeName:"opacity",values:"0.3;1;0.3",dur:"2s",repeatCount:"indefinite"})}),r("g",{children:[r("circle",{cx:"10",cy:"14",r:"0.5",fill:"#42A5F5",opacity:"0.6"}),r("circle",{cx:"14",cy:"13",r:"0.4",fill:"#42A5F5",opacity:"0.5"}),r("circle",{cx:"11",cy:"11",r:"0.3",fill:"#42A5F5",opacity:"0.7"}),r("circle",{cx:"13",cy:"15",r:"0.4",fill:"#42A5F5",opacity:"0.4"}),r("animate",{attributeName:"opacity",values:"0.4;0.8;0.6;0.4",dur:"3s",repeatCount:"indefinite"})]})]})),oy=({size:e=39})=>(`${Math.random().toString(36).substr(2,9)}`,r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[r("path",{d:"M7.5 21H5C3.89543 21 3 20.1046 3 19V5C3 3.89543 3.89543 3 5 3H18.9999C20.1045 3 20.9999 3.89543 20.9999 4.99999L21 19C21 20.1046 20.1046 21 19 21H16.5",stroke:"#F0F4F8",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M21 7H3.00006",stroke:"#1976D2",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:r("animate",{attributeName:"stroke",values:"#1976D2;#F0F4F8",dur:"1.5s",fill:"freeze"})}),r("g",{children:[r("path",{d:"M12 16C13.6569 16 15 14.5076 15 12.6667V10H9V12.6667C9 14.5076 10.3431 16 12 16Z",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:r("animate",{attributeName:"stroke",values:"#42A5F5;#F0F4F8",dur:"1.5s",fill:"freeze"})}),r("path",{d:"M12 16V21M12 21H10M12 21H14",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:r("animate",{attributeName:"stroke",values:"#42A5F5;#F0F4F8",dur:"1.5s",fill:"freeze"})}),r("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 18.5;-5 12 18.5;0 12 18.5",dur:"1.5s",fill:"freeze"})]}),r("path",{d:"M18 5.01L18.01 4.99889",stroke:"#388E3C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"stroke",values:"#388E3C;#F0F4F8",dur:"1.5s",fill:"freeze"}),r("animate",{attributeName:"opacity",values:"1;0.3",dur:"1.5s",fill:"freeze"})]}),r("path",{d:"M15 5.01L15.01 4.99889",stroke:"#FF8F00",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"stroke",values:"#FF8F00;#F0F4F8",dur:"1.5s",begin:"0.2s",fill:"freeze"}),r("animate",{attributeName:"opacity",values:"1;0.3",dur:"1.5s",begin:"0.2s",fill:"freeze"})]}),r("g",{children:[r("circle",{cx:"10",cy:"14",r:"0.5",fill:"#42A5F5",opacity:"0.6"}),r("circle",{cx:"14",cy:"13",r:"0.4",fill:"#42A5F5",opacity:"0.5"}),r("circle",{cx:"11",cy:"11",r:"0.3",fill:"#42A5F5",opacity:"0.7"}),r("circle",{cx:"13",cy:"15",r:"0.4",fill:"#42A5F5",opacity:"0.4"}),r("animate",{attributeName:"fill",values:"#42A5F5;#F0F4F8",dur:"1.5s",begin:"0.4s",fill:"freeze"}),r("animate",{attributeName:"opacity",values:"0.6;0",dur:"1.5s",begin:"0.4s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"scale",values:"1;0.8",dur:"1.5s",begin:"0.4s",fill:"freeze"})]})]})),ay=({size:e=39})=>(`${Math.random().toString(36).substr(2,9)}`,r("svg",{width:`${e}px`,height:`${e}px`,viewBox:"0 0 24 24",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:r("g",{children:[r("g",{transform:"matrix(0.33023402094841 0 0 0.33023402094841 -12.17848396301270 -1.60764098167419)",children:r("path",{d:"M50.582000,41.719000C51.347000,23.263000,71.804000,12.557000,87.405000,22.447000C94.048000,26.659000,98.205000,33.860000,98.531000,41.719000L102.531000,41.719000C102.355000,36.658000,100.801000,31.742000,98.037000,27.499000L101.343000,25.184000C101.973000,24.743000,101.890000,23.784000,101.193000,23.458000C100.869000,23.307000,100.489000,23.340000,100.196000,23.545000L96.886000,25.862000C96.307000,25.095000,95.690000,24.358000,95.036000,23.653000L100.013000,18.677000C100.550000,18.126000,100.289000,17.199000,99.543000,17.010000C99.206000,16.924000,98.848000,17.020000,98.598000,17.263000L93.619000,22.242000C92.916000,21.586000,92.180000,20.967000,91.414000,20.387000L93.730000,17.079000C94.179000,16.453000,93.782000,15.577000,93.016000,15.501000C92.652000,15.465000,92.298000,15.630000,92.092000,15.932000L89.780000,19.234000C80.524000,13.214000,68.589000,13.214000,59.333000,19.234000L57.021000,15.933000C56.592000,15.294000,55.632000,15.359000,55.293000,16.050000C55.130000,16.383000,55.164000,16.779000,55.383000,17.079000L57.699000,20.387000C56.933000,20.967000,56.197000,21.586000,55.494000,22.241000L50.515000,17.263000C49.978000,16.711000,49.045000,16.949000,48.836000,17.690000C48.737000,18.042000,48.839000,18.421000,49.101000,18.677000L54.077000,23.653000C53.423000,24.358000,52.805000,25.095000,52.226000,25.862000L48.917000,23.545000C48.287000,23.103000,47.414000,23.510000,47.347000,24.277000C47.316000,24.633000,47.477000,24.979000,47.770000,25.184000L51.075000,27.499000C48.312000,31.742000,46.758000,36.658000,46.582000,41.719000L50.582000,41.719000ZM74.556000,66.719000C61.698000,66.703000,51.131000,56.566000,50.582000,43.719000L46.582000,43.719000C47.346000,65.254000,71.136000,77.886000,89.403000,66.457000C97.283000,61.527000,102.201000,53.008000,102.531000,43.719000L98.531000,43.719000C97.982000,56.566000,87.415000,66.703000,74.556000,66.719000Z",transform:"matrix(1 0 0 1 -1.34028837709955 -1.53274161016582)",fill:"#424242",stroke:"none",strokeWidth:"1"})}),r("g",{transform:"matrix(0.33023402094841 0 0 0.33023402094841 17.25779151916504 0.55571800470352)",children:r("g",{transform:"translate(-15.921411,34.655067) rotate(0)",children:r("path",{d:"M-13.277000,25.125000C-13.277000,25.895000,-14.110000,26.376000,-14.777000,25.991000C-15.444000,25.606000,-15.444000,24.644000,-14.777000,24.259000C-14.625000,24.171000,-14.453000,24.125000,-14.277000,24.125000C-13.725000,24.125000,-13.277000,24.573000,-13.277000,25.125000ZM-9.277000,37.125000C-9.277000,40.974000,-13.444000,43.380000,-16.777000,41.455000C-18.324000,40.562000,-19.277000,38.911000,-19.277000,37.125000L-19.277000,25.125000C-19.277000,21.276000,-15.110000,18.870000,-11.777000,20.795000C-10.230000,21.688000,-9.277000,23.339000,-9.277000,25.125000L-9.277000,37.125000ZM-11.277000,25.125000C-11.277000,22.816000,-13.777000,21.372000,-15.777000,22.527000C-17.777000,23.682000,-17.777000,26.568000,-15.777000,27.723000C-15.321000,27.986000,-14.804000,28.125000,-14.277000,28.125000C-12.621000,28.123000,-11.279000,26.781000,-11.277000,25.125000ZM7.723000,36.125000C7.723000,53.061000,-10.610000,63.645000,-25.277000,55.178000C-39.944000,46.710000,-39.944000,25.540000,-25.277000,17.072000C-21.933000,15.142000,-18.139000,14.125000,-14.277000,14.125000C-2.132000,14.139000,7.709000,23.980000,7.723000,36.125000ZM-19.277000,48.125000C-19.277000,47.355000,-20.110000,46.874000,-20.777000,47.259000C-21.444000,47.644000,-21.444000,48.606000,-20.777000,48.991000C-20.625000,49.079000,-20.453000,49.125000,-20.277000,49.125000C-19.725000,49.125000,-19.277000,48.677000,-19.277000,48.125000ZM-10.277000,53.125000C-10.277000,52.573000,-10.725000,52.125000,-11.277000,52.125000L-17.277000,52.125000C-18.047000,52.125000,-18.528000,52.958000,-18.143000,53.625000C-17.964000,53.934000,-17.634000,54.125000,-17.277000,54.125000L-11.277000,54.125000C-10.725000,54.125000,-10.277000,53.677000,-10.277000,53.125000ZM-16.277000,49.125000C-15.507000,49.125000,-15.026000,48.292000,-15.411000,47.625000C-15.796000,46.958000,-16.758000,46.958000,-17.143000,47.625000C-17.231000,47.777000,-17.277000,47.949000,-17.277000,48.125000C-17.277000,48.677000,-16.829000,49.125000,-16.277000,49.125000ZM-12.277000,49.125000C-11.507000,49.125000,-11.026000,48.292000,-11.411000,47.625000C-11.796000,46.958000,-12.758000,46.958000,-13.143000,47.625000C-13.231000,47.777000,-13.277000,47.949000,-13.277000,48.125000C-13.277000,48.677000,-12.829000,49.125000,-12.277000,49.125000ZM-7.277000,48.125000C-7.277000,47.355000,-8.110000,46.874000,-8.777000,47.259000C-9.444000,47.644000,-9.444000,48.606000,-8.777000,48.991000C-8.625000,49.079000,-8.453000,49.125000,-8.277000,49.125000C-7.725000,49.125000,-7.277000,48.677000,-7.277000,48.125000ZM-7.277000,25.125000C-7.277000,19.736000,-13.110000,16.369000,-17.777000,19.063000C-19.943000,20.313000,-21.277000,22.624000,-21.277000,25.125000L-21.277000,37.125000C-21.277000,42.514000,-15.444000,45.881000,-10.777000,43.187000C-8.611000,41.937000,-7.277000,39.626000,-7.277000,37.125000L-7.277000,25.125000Z",transform:"translate(14.277125,-36.141457)",fill:"#9C27B0",stroke:"none",strokeWidth:"1"})})}),r("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 12;-45 12 12;0 12 12;45 12 12;0 12 12",dur:"8s",repeatCount:"indefinite"})]})})),ly=({size:e=39})=>(`${Math.random().toString(36).substr(2,9)}`,r("svg",{width:`${e}px`,height:`${e}px`,viewBox:"0 0 24 24",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[r("g",{transform:"matrix(0.33023402094841 0 0 0.33023402094841 -12.17848396301270 -1.60764098167419)",children:r("path",{d:"M50.582000,41.719000C51.347000,23.263000,71.804000,12.557000,87.405000,22.447000C94.048000,26.659000,98.205000,33.860000,98.531000,41.719000L102.531000,41.719000C102.355000,36.658000,100.801000,31.742000,98.037000,27.499000L101.343000,25.184000C101.973000,24.743000,101.890000,23.784000,101.193000,23.458000C100.869000,23.307000,100.489000,23.340000,100.196000,23.545000L96.886000,25.862000C96.307000,25.095000,95.690000,24.358000,95.036000,23.653000L100.013000,18.677000C100.550000,18.126000,100.289000,17.199000,99.543000,17.010000C99.206000,16.924000,98.848000,17.020000,98.598000,17.263000L93.619000,22.242000C92.916000,21.586000,92.180000,20.967000,91.414000,20.387000L93.730000,17.079000C94.179000,16.453000,93.782000,15.577000,93.016000,15.501000C92.652000,15.465000,92.298000,15.630000,92.092000,15.932000L89.780000,19.234000C80.524000,13.214000,68.589000,13.214000,59.333000,19.234000L57.021000,15.933000C56.592000,15.294000,55.632000,15.359000,55.293000,16.050000C55.130000,16.383000,55.164000,16.779000,55.383000,17.079000L57.699000,20.387000C56.933000,20.967000,56.197000,21.586000,55.494000,22.241000L50.515000,17.263000C49.978000,16.711000,49.045000,16.949000,48.836000,17.690000C48.737000,18.042000,48.839000,18.421000,49.101000,18.677000L54.077000,23.653000C53.423000,24.358000,52.805000,25.095000,52.226000,25.862000L48.917000,23.545000C48.287000,23.103000,47.414000,23.510000,47.347000,24.277000C47.316000,24.633000,47.477000,24.979000,47.770000,25.184000L51.075000,27.499000C48.312000,31.742000,46.758000,36.658000,46.582000,41.719000L50.582000,41.719000ZM74.556000,66.719000C61.698000,66.703000,51.131000,56.566000,50.582000,43.719000L46.582000,43.719000C47.346000,65.254000,71.136000,77.886000,89.403000,66.457000C97.283000,61.527000,102.201000,53.008000,102.531000,43.719000L98.531000,43.719000C97.982000,56.566000,87.415000,66.703000,74.556000,66.719000Z",transform:"matrix(1 0 0 1 -1.34028837709955 -1.53274161016582)",fill:"#5F6267",stroke:"none",strokeWidth:"1"})}),r("g",{transform:"matrix(0.33023402094841 0 0 0.33023402094841 17.25779151916504 0.55571800470352)",children:r("path",{d:"M-13.277000,25.125000C-13.277000,25.895000,-14.110000,26.376000,-14.777000,25.991000C-15.444000,25.606000,-15.444000,24.644000,-14.777000,24.259000C-14.625000,24.171000,-14.453000,24.125000,-14.277000,24.125000C-13.725000,24.125000,-13.277000,24.573000,-13.277000,25.125000ZM-9.277000,37.125000C-9.277000,40.974000,-13.444000,43.380000,-16.777000,41.455000C-18.324000,40.562000,-19.277000,38.911000,-19.277000,37.125000L-19.277000,25.125000C-19.277000,21.276000,-15.110000,18.870000,-11.777000,20.795000C-10.230000,21.688000,-9.277000,23.339000,-9.277000,25.125000L-9.277000,37.125000ZM-11.277000,25.125000C-11.277000,22.816000,-13.777000,21.372000,-15.777000,22.527000C-17.777000,23.682000,-17.777000,26.568000,-15.777000,27.723000C-15.321000,27.986000,-14.804000,28.125000,-14.277000,28.125000C-12.621000,28.123000,-11.279000,26.781000,-11.277000,25.125000ZM7.723000,36.125000C7.723000,53.061000,-10.610000,63.645000,-25.277000,55.178000C-39.944000,46.710000,-39.944000,25.540000,-25.277000,17.072000C-21.933000,15.142000,-18.139000,14.125000,-14.277000,14.125000C-2.132000,14.139000,7.709000,23.980000,7.723000,36.125000ZM-19.277000,48.125000C-19.277000,47.355000,-20.110000,46.874000,-20.777000,47.259000C-21.444000,47.644000,-21.444000,48.606000,-20.777000,48.991000C-20.625000,49.079000,-20.453000,49.125000,-20.277000,49.125000C-19.725000,49.125000,-19.277000,48.677000,-19.277000,48.125000ZM-10.277000,53.125000C-10.277000,52.573000,-10.725000,52.125000,-11.277000,52.125000L-17.277000,52.125000C-18.047000,52.125000,-18.528000,52.958000,-18.143000,53.625000C-17.964000,53.934000,-17.634000,54.125000,-17.277000,54.125000L-11.277000,54.125000C-10.725000,54.125000,-10.277000,53.677000,-10.277000,53.125000ZM-16.277000,49.125000C-15.507000,49.125000,-15.026000,48.292000,-15.411000,47.625000C-15.796000,46.958000,-16.758000,46.958000,-17.143000,47.625000C-17.231000,47.777000,-17.277000,47.949000,-17.277000,48.125000C-17.277000,48.677000,-16.829000,49.125000,-16.277000,49.125000ZM-12.277000,49.125000C-11.507000,49.125000,-11.026000,48.292000,-11.411000,47.625000C-11.796000,46.958000,-12.758000,46.958000,-13.143000,47.625000C-13.231000,47.777000,-13.277000,47.949000,-13.277000,48.125000C-13.277000,48.677000,-12.829000,49.125000,-12.277000,49.125000ZM-7.277000,48.125000C-7.277000,47.355000,-8.110000,46.874000,-8.777000,47.259000C-9.444000,47.644000,-9.444000,48.606000,-8.777000,48.991000C-8.625000,49.079000,-8.453000,49.125000,-8.277000,49.125000C-7.725000,49.125000,-7.277000,48.677000,-7.277000,48.125000ZM-7.277000,25.125000C-7.277000,19.736000,-13.110000,16.369000,-17.777000,19.063000C-19.943000,20.313000,-21.277000,22.624000,-21.277000,25.125000L-21.277000,37.125000C-21.277000,42.514000,-15.444000,45.881000,-10.777000,43.187000C-8.611000,41.937000,-7.277000,39.626000,-7.277000,37.125000L-7.277000,25.125000Z",transform:"matrix(1 0 0 1 -1.64428582627723 -1.48639076794777)",fill:"#9EA0A2",stroke:"none",strokeWidth:"1",children:r("animate",{attributeName:"opacity",values:"1;0.5",dur:"1s",fill:"freeze"})})})]})),cy=({size:e=39})=>(`${Math.random().toString(36).substr(2,9)}`,r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[r("g",{children:[r("path",{d:"M20.9999 3.99999L21 20C21 21.1046 20.1046 22 19 22H5C3.89543 22 3 21.1046 3 20V4C3 2.89543 3.89543 2 5 2H18.9999C20.1045 2 20.9999 2.89543 20.9999 3.99999Z",stroke:"#B0BEC5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M18 5.01L18.01 4.99889",stroke:"#388E3C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r("animate",{attributeName:"opacity",values:"1;0.3;1",dur:"1.5s",repeatCount:"indefinite"})}),r("path",{d:"M18 13C18 16.3137 15.3137 19 12 19C8.68629 19 6 16.3137 6 13C6 9.68629 8.68629 7 12 7C15.3137 7 18 9.68629 18 13Z",stroke:"#1976D2",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0.5,0;0,0.5;-0.5,0;0,0",dur:"3s",repeatCount:"indefinite"})]}),r("g",{children:[r("path",{d:"M12 16C10.3431 16 9 14.6569 9 13",stroke:"#FF8F00",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("circle",{cx:"10",cy:"11",r:"0.5",fill:"#FF8F00",opacity:"0.6"}),r("circle",{cx:"14",cy:"11",r:"0.5",fill:"#FF8F00",opacity:"0.6"}),r("circle",{cx:"12",cy:"15",r:"0.5",fill:"#FF8F00",opacity:"0.6"}),r("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 13;360 12 13",dur:"2s",repeatCount:"indefinite"})]})]})),dy=({size:e=39})=>(`${Math.random().toString(36).substr(2,9)}`,r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[r("path",{d:"M20.9999 3.99999L21 20C21 21.1046 20.1046 22 19 22H5C3.89543 22 3 21.1046 3 20V4C3 2.89543 3.89543 2 5 2H18.9999C20.1045 2 20.9999 2.89543 20.9999 3.99999Z",stroke:"#B0BEC5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M18 5.01L18.01 4.99889",stroke:"#388E3C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"stroke",values:"#388E3C;#F0F4F8",dur:"1.5s",fill:"freeze"}),r("animate",{attributeName:"opacity",values:"1;0.3",dur:"1.5s",fill:"freeze"})]}),r("path",{d:"M18 13C18 16.3137 15.3137 19 12 19C8.68629 19 6 16.3137 6 13C6 9.68629 8.68629 7 12 7C15.3137 7 18 9.68629 18 13Z",stroke:"#1976D2",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:r("animate",{attributeName:"stroke",values:"#1976D2;#F0F4F8",dur:"1.5s",begin:"0.2s",fill:"freeze"})}),r("g",{children:[r("path",{d:"M12 16C10.3431 16 9 14.6569 9 13",stroke:"#FF8F00",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:r("animate",{attributeName:"stroke",values:"#FF8F00;#F0F4F8",dur:"1.5s",begin:"0.4s",fill:"freeze"})}),r("circle",{cx:"10",cy:"11",r:"0.5",fill:"#FF8F00",opacity:"0.6"}),r("circle",{cx:"14",cy:"11",r:"0.5",fill:"#FF8F00",opacity:"0.6"}),r("circle",{cx:"12",cy:"15",r:"0.5",fill:"#FF8F00",opacity:"0.6"}),r("animate",{attributeName:"fill",values:"#FF8F00;#F0F4F8",dur:"1.5s",begin:"0.4s",fill:"freeze"}),r("animate",{attributeName:"opacity",values:"0.6;0.2",dur:"1.5s",begin:"0.4s",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 13;180 12 13;360 12 13",dur:"2s",fill:"freeze"})]})]})),uy=({size:e=39})=>(`${Math.random().toString(36).substr(2,9)}`,r("svg",{width:`${e}px`,height:`${e}px`,viewBox:"0 0 24 24",strokeWidth:"1",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[r("path",{d:"M2 4L22 4",stroke:"#388E3C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r("animate",{attributeName:"opacity",values:"1;0.7;1",dur:"2s",repeatCount:"indefinite"})}),r("g",{children:[r("path",{d:"M3 8.01L3.01 7.99889",stroke:"#26A69A",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M9 8.01L9.01 7.99889",stroke:"#26A69A",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M15 8.01L15.01 7.99889",stroke:"#26A69A",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M21 8.01L21.01 7.99889",stroke:"#26A69A",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("animate",{attributeName:"opacity",values:"0.6;1;0.4;0.6",dur:"3s",repeatCount:"indefinite"})]}),r("g",{children:[r("path",{d:"M6 12.01L6.01 11.9989",stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 12.01L12.01 11.9989",stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M18 12.01L18.01 11.9989",stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("animate",{attributeName:"opacity",values:"0.4;0.6;1;0.4",dur:"3s",repeatCount:"indefinite"})]}),r("g",{children:[r("path",{d:"M3 16.01L3.01 15.9989",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M9 16.01L9.01 15.9989",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M15 16.01L15.01 15.9989",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M21 16.01L21.01 15.9989",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("animate",{attributeName:"opacity",values:"1;0.4;0.6;1",dur:"3s",repeatCount:"indefinite"})]}),r("g",{children:[r("path",{d:"M6 20.01L6.01 19.9989",stroke:"#9C27B0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 20.01L12.01 19.9989",stroke:"#9C27B0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M18 20.01L18.01 19.9989",stroke:"#9C27B0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("animate",{attributeName:"opacity",values:"0.6;1;0.4;0.6",dur:"3s",repeatCount:"indefinite"})]})]})),hy=({size:e=39})=>(`${Math.random().toString(36).substr(2,9)}`,r("svg",{width:`${e}px`,height:`${e}px`,viewBox:"0 0 24 24",strokeWidth:"1",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[r("path",{d:"M2 4L22 4",stroke:"#388E3C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r("animate",{attributeName:"stroke",values:"#388E3C;#F0F4F8",dur:"1.5s",fill:"freeze"})}),r("g",{children:[r("path",{d:"M3 8.01L3.01 7.99889",stroke:"#26A69A",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M9 8.01L9.01 7.99889",stroke:"#26A69A",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M15 8.01L15.01 7.99889",stroke:"#26A69A",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M21 8.01L21.01 7.99889",stroke:"#26A69A",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("animate",{attributeName:"stroke",values:"#26A69A;#F0F4F8",dur:"1.5s",fill:"freeze"}),r("animate",{attributeName:"opacity",values:"1;0.3",dur:"1.5s",fill:"freeze"})]}),r("g",{children:[r("path",{d:"M6 12.01L6.01 11.9989",stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 12.01L12.01 11.9989",stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M18 12.01L18.01 11.9989",stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("animate",{attributeName:"stroke",values:"#42A5F5;#F0F4F8",dur:"1.5s",begin:"0.2s",fill:"freeze"}),r("animate",{attributeName:"opacity",values:"1;0.3",dur:"1.5s",begin:"0.2s",fill:"freeze"})]}),r("g",{children:[r("path",{d:"M3 16.01L3.01 15.9989",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M9 16.01L9.01 15.9989",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M15 16.01L15.01 15.9989",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M21 16.01L21.01 15.9989",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("animate",{attributeName:"stroke",values:"#1976D2;#F0F4F8",dur:"1.5s",begin:"0.4s",fill:"freeze"}),r("animate",{attributeName:"opacity",values:"1;0.3",dur:"1.5s",begin:"0.4s",fill:"freeze"})]}),r("g",{children:[r("path",{d:"M6 20.01L6.01 19.9989",stroke:"#9C27B0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 20.01L12.01 19.9989",stroke:"#9C27B0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M18 20.01L18.01 19.9989",stroke:"#9C27B0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("animate",{attributeName:"stroke",values:"#9C27B0;#F0F4F8",dur:"1.5s",begin:"0.6s",fill:"freeze"}),r("animate",{attributeName:"opacity",values:"1;0.3",dur:"1.5s",begin:"0.6s",fill:"freeze"})]})]})),l0=({size:e=39})=>r("svg",{width:`${e}px`,height:`${e}px`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",xmlns:"http://www.w3.org/2000/svg",children:[r("path",{d:"M6 20.5C7 11 11.5 8 20 6",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M15.9086 3.80941L20.3946 5.90126L18.3028 10.3873",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M5 7C6.10457 7 7 6.10457 7 5C7 3.89543 6.10457 3 5 3C3.89543 3 3 3.89543 3 5C3 6.10457 3.89543 7 5 7Z",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M16 20.2426L18.1213 18.1213M18.1213 18.1213L20.2426 16M18.1213 18.1213L16 16M18.1213 18.1213L20.2426 20.2426",strokeLinecap:"round",strokeLinejoin:"round"})]}),xN=({size:e=39})=>r("svg",{width:`${e}px`,height:`${e}px`,viewBox:"0 0 24 24",fill:"none",strokeWidth:"1.5",xmlns:"http://www.w3.org/2000/svg",children:[r("rect",{width:"7",height:"5",rx:"0.6",transform:"matrix(0 -1 -1 0 22 21)",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.1)",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.4"}),r("rect",{width:"7",height:"5",rx:"0.6",transform:"matrix(0 -1 -1 0 7 15.5)",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.1)",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.4"}),r("rect",{width:"7",height:"5",rx:"0.6",transform:"matrix(0 -1 -1 0 22 10)",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.1)",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.4"}),r("path",{d:"M17 17.5H13.5C12.3954 17.5 11.5 16.6046 11.5 15.5V8.5C11.5 7.39543 12.3954 6.5 13.5 6.5H17",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.05)",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.3"}),r("path",{d:"M11.5 12H7",stroke:"#F0F4F8",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.3"})]}),_N=({size:e=39})=>r("svg",{width:`${e}px`,height:`${e}px`,viewBox:"0 0 24 24",fill:"none",strokeWidth:"1.5",xmlns:"http://www.w3.org/2000/svg",children:[r("rect",{x:"4",y:"18",width:"16",height:"3",rx:"0.5",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.1)",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.4"}),r("rect",{x:"4",y:"14",width:"16",height:"3",rx:"0.5",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.1)",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.4"}),r("rect",{x:"4",y:"10",width:"16",height:"3",rx:"0.5",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.1)",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.4"}),r("path",{d:"M7 3C6.44772 3 6 3.44772 6 4V8C6 8.55228 6.44772 9 7 9",stroke:"#F0F4F8",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.3"}),r("path",{d:"M17 3C17.5523 3 18 3.44772 18 4V8C18 8.55228 17.5523 9 17 9",stroke:"#F0F4F8",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.3"}),r("circle",{cx:"8",cy:"6",r:"0.5",fill:"#F0F4F8",opacity:"0.2"}),r("circle",{cx:"12",cy:"6",r:"0.6",fill:"#F0F4F8",opacity:"0.3"}),r("circle",{cx:"16",cy:"6",r:"0.4",fill:"#F0F4F8",opacity:"0.2"}),r("path",{d:"M12 9V10",stroke:"#F0F4F8",strokeWidth:"1",strokeLinecap:"round",opacity:"0.3"})]}),c0=({size:e=39})=>r("svg",{width:`${e}px`,height:`${e}px`,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("path",{d:"M5 12C5 12 7 4 12 4C17 4 19 12 19 12C19 12 17 20 12 20C7 20 5 12 5 12Z",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(0, 0, 0, 0.05)"}),r("path",{d:"M8 12L11 15L16 10",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r("circle",{cx:"6",cy:"12",r:"2",stroke:"#000000",strokeWidth:"1.5",fill:"rgba(0, 0, 0, 0.1)"}),r("circle",{cx:"18",cy:"12",r:"2",stroke:"#000000",strokeWidth:"1.5",fill:"rgba(0, 0, 0, 0.1)"})]}),ll=({size:e=39})=>r("svg",{width:`${e}px`,height:`${e}px`,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("rect",{x:"3",y:"7",width:"18",height:"3",rx:"0.5",stroke:"#000000",strokeWidth:"1.5",fill:"rgba(0, 0, 0, 0.05)"}),r("rect",{x:"3",y:"11",width:"18",height:"3",rx:"0.5",stroke:"#000000",strokeWidth:"1.5",fill:"rgba(0, 0, 0, 0.05)"}),r("rect",{x:"3",y:"15",width:"18",height:"3",rx:"0.5",stroke:"#000000",strokeWidth:"1.5",fill:"rgba(0, 0, 0, 0.05)"}),r("circle",{cx:"12",cy:"12",r:"2",stroke:"#000000",strokeWidth:"2",fill:"rgba(0, 0, 0, 0.2)"})]}),so=({size:e=39})=>r("svg",{width:`${e}px`,height:`${e}px`,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("path",{d:"M5 3H19C20.1046 3 21 3.89543 21 5V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V5C3 3.89543 3.89543 3 5 3Z",stroke:"#000000",strokeWidth:"1.5",fill:"rgba(0, 0, 0, 0.02)"}),r("path",{d:"M8 9L5 12L8 15",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M16 9L19 12L16 15",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M13 7L11 17",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round"})]}),CN=({size:e=39})=>{const t=`switch_on_${Math.random().toString(36).substr(2,9)}`;return r("svg",{id:t,width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("path",{id:`${t}_background`,d:"M17 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17Z",stroke:"#B0BEC5",fill:"rgba(176, 190, 197, 0.1)",strokeWidth:"1.5",children:[r("animate",{attributeName:"stroke",values:"#B0BEC5;#42A5F5",dur:"1500ms",begin:"300ms",fill:"freeze"}),r("animate",{attributeName:"fill",values:"rgba(176, 190, 197, 0.1);rgba(66, 165, 245, 0.2)",dur:"1500ms",begin:"300ms",fill:"freeze"})]}),r("circle",{id:`${t}_button`,cx:"7",cy:"12",r:"1.5",fill:"#B0BEC5",stroke:"#B0BEC5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"fill",values:"#B0BEC5;#388E3C",dur:"1500ms",begin:"300ms",fill:"freeze"}),r("animate",{attributeName:"stroke",values:"#B0BEC5;#388E3C",dur:"1500ms",begin:"300ms",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;10,0",dur:"1500ms",begin:"300ms",fill:"freeze"})]}),r("ellipse",{cx:"17",cy:"12",rx:"3",ry:"3",fill:"rgba(66, 165, 245, 0)",opacity:"0",children:[r("animate",{attributeName:"opacity",values:"0;0.3",dur:"1500ms",begin:"300ms",fill:"freeze"}),r("animate",{attributeName:"rx",values:"3;5",dur:"1500ms",begin:"300ms",fill:"freeze"}),r("animate",{attributeName:"ry",values:"3;5",dur:"1500ms",begin:"300ms",fill:"freeze"})]})]})},SN=({size:e=39})=>{const t=`switch_off_${Math.random().toString(36).substr(2,9)}`;return r("svg",{id:t,width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("path",{id:`${t}_background`,d:"M17 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17Z",stroke:"#42A5F5",fill:"rgba(66, 165, 245, 0.2)",strokeWidth:"1.5",children:[r("animate",{attributeName:"stroke",values:"#42A5F5;#F0F4F8",dur:"1500ms",begin:"300ms",fill:"freeze"}),r("animate",{attributeName:"fill",values:"rgba(66, 165, 245, 0.2);rgba(240, 244, 248, 0.1)",dur:"1500ms",begin:"300ms",fill:"freeze"})]}),r("circle",{id:`${t}_button`,cx:"17",cy:"12",r:"1.5",fill:"#388E3C",stroke:"#388E3C",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"fill",values:"#388E3C;#F0F4F8",dur:"1500ms",begin:"300ms",fill:"freeze"}),r("animate",{attributeName:"stroke",values:"#388E3C;#F0F4F8",dur:"1500ms",begin:"300ms",fill:"freeze"}),r("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;-10,0",dur:"1500ms",begin:"300ms",fill:"freeze"})]}),r("ellipse",{cx:"17",cy:"12",rx:"5",ry:"5",fill:"rgba(66, 165, 245, 0.3)",opacity:"0.3",children:[r("animate",{attributeName:"opacity",values:"0.3;0",dur:"1500ms",begin:"300ms",fill:"freeze"}),r("animate",{attributeName:"rx",values:"5;3",dur:"1500ms",begin:"300ms",fill:"freeze"}),r("animate",{attributeName:"ry",values:"5;3",dur:"1500ms",begin:"300ms",fill:"freeze"})]})]})},oo=({size:e=39})=>{const t=`power_on_${Math.random().toString(36).substr(2,9)}`;return r("svg",{id:`${t}_rotary_switch`,width:`${e}px`,height:`${e}px`,viewBox:"0 0 24 24",strokeWidth:"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("path",{d:"M21 3.6V20.4C21 20.7314 20.7314 21 20.4 21H3.6C3.26863 21 3 20.7314 3 20.4V3.6C3 3.26863 3.26863 3 3.6 3H20.4C20.7314 3 21 3.26863 21 3.6Z",stroke:"#B0BEC5",fill:"rgba(176, 190, 197, 0.1)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"stroke",values:"#B0BEC5;#388E3C",dur:"2s",fill:"freeze"}),r("animate",{attributeName:"fill",values:"rgba(176, 190, 197, 0.1);rgba(56, 142, 60, 0.1)",dur:"2s",fill:"freeze"})]}),r("path",{d:"M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z",stroke:"#B0BEC5",fill:"rgba(176, 190, 197, 0.05)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"stroke",values:"#B0BEC5;#388E3C",dur:"2s",fill:"freeze"}),r("animate",{attributeName:"fill",values:"rgba(176, 190, 197, 0.05);rgba(56, 142, 60, 0.2)",dur:"2s",fill:"freeze"})]}),r("path",{d:"M8.5 7.5L12 12",stroke:"#B0BEC5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"stroke",values:"#B0BEC5;#388E3C",dur:"2s",fill:"freeze"}),r("animate",{attributeName:"d",values:"M8.5 7.5L12 12;M15.5 7.5L12 12",dur:"1s",fill:"freeze"})]}),r("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"rgba(56, 142, 60, 0.3)",strokeWidth:"0.5",opacity:"0",children:[r("animate",{attributeName:"opacity",values:"0;0.4",dur:"2s",fill:"freeze"}),r("animate",{attributeName:"r",values:"10;12",dur:"2s",fill:"freeze"})]})]})},nn=({size:e=39})=>{const t=`power_off_${Math.random().toString(36).substr(2,9)}`;return r("svg",{id:`${t}_rotary_switch`,width:`${e}px`,height:`${e}px`,viewBox:"0 0 24 24",strokeWidth:"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("path",{d:"M21 3.6V20.4C21 20.7314 20.7314 21 20.4 21H3.6C3.26863 21 3 20.7314 3 20.4V3.6C3 3.26863 3.26863 3 3.6 3H20.4C20.7314 3 21 3.26863 21 3.6Z",stroke:"#388E3C",fill:"rgba(56, 142, 60, 0.1)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"stroke",values:"#388E3C;#F0F4F8",dur:"2s",fill:"freeze"}),r("animate",{attributeName:"fill",values:"rgba(56, 142, 60, 0.1);rgba(240, 244, 248, 0.1)",dur:"2s",fill:"freeze"})]}),r("path",{d:"M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z",stroke:"#388E3C",fill:"rgba(56, 142, 60, 0.2)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"stroke",values:"#388E3C;#F0F4F8",dur:"2s",fill:"freeze"}),r("animate",{attributeName:"fill",values:"rgba(56, 142, 60, 0.2);rgba(240, 244, 248, 0.05)",dur:"2s",fill:"freeze"})]}),r("path",{d:"M15.5 7.5L12 12",stroke:"#388E3C",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r("animate",{attributeName:"stroke",values:"#388E3C;#F0F4F8",dur:"2s",fill:"freeze"}),r("animate",{attributeName:"d",values:"M15.5 7.5L12 12;M8.5 7.5L12 12",dur:"1s",fill:"freeze"})]}),r("circle",{cx:"12",cy:"12",r:"12",fill:"none",stroke:"rgba(56, 142, 60, 0.3)",strokeWidth:"0.5",opacity:"0.4",children:[r("animate",{attributeName:"opacity",values:"0.4;0",dur:"2s",fill:"freeze"}),r("animate",{attributeName:"r",values:"12;10",dur:"2s",fill:"freeze"})]})]})},fa=({size:e=39})=>r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255, 255, 255, 0.1)"}),r("path",{d:"M19.6224 10.3954L18.5247 7.7448L20 6L18 4L16.2647 5.48295L13.5578 4.36974L12.9353 2H10.981L10.3491 4.40113L7.70441 5.51596L6 4L4 6L5.45337 7.78885L4.3725 10.4463L2 11V13L4.40111 13.6555L5.51575 16.2997L4 18L6 20L7.79116 18.5403L10.397 19.6123L11 22H13L13.6045 19.6132L16.2551 18.5155C16.6969 18.8313 18 20 18 20L20 18L18.5159 16.2494L19.6139 13.598L21.9999 12.9772L22 11L19.6224 10.3954Z",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),Gd=({size:e=39})=>r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("rect",{x:"3",y:"3",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.1)"}),r("rect",{x:"10.25",y:"3",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.1)"}),r("rect",{x:"17.5",y:"3",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.1)"}),r("rect",{x:"3",y:"10.25",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.1)"}),r("rect",{x:"10.25",y:"10.25",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.15)"}),r("rect",{x:"17.5",y:"10.25",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.1)"}),r("rect",{x:"3",y:"17.5",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.1)"}),r("rect",{x:"10.25",y:"17.5",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.1)"}),r("rect",{x:"17.5",y:"17.5",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.1)"})]}),NN=({size:e=39})=>r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("path",{d:"M2 11V4.6C2 4.26863 2.26863 4 2.6 4H8.77805C8.92127 4 9.05977 4.05124 9.16852 4.14445L12.3315 6.85555C12.4402 6.94876 12.5787 7 12.722 7H21.4C21.7314 7 22 7.26863 22 7.6V11M2 11V19.4C2 19.7314 2.26863 20 2.6 20H21.4C21.7314 20 22 19.7314 22 19.4V11M2 11H22",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("rect",{x:"2",y:"7",width:"20",height:"4",fill:"rgba(255, 255, 255, 0.1)"}),r("rect",{x:"2",y:"11",width:"20",height:"9",rx:"0.4",fill:"rgba(255, 255, 255, 0.05)"})]}),LN=({size:e=39})=>r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r("path",{d:"M13 2L3 14H12L11 22L21 10H12L13 2Z",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255, 255, 255, 0.1)"})}),MN=({size:e=39})=>r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("path",{d:"M7 17H4C2.89543 17 2 16.1046 2 15V10C2 8.89543 2.89543 8 4 8H20C21.1046 8 22 8.89543 22 10V15C22 16.1046 21.1046 17 20 17H17",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M7 8V4C7 3.44772 7.44772 3 8 3H16C16.5523 3 17 3.44772 17 4V8",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M7 13H17V20C17 20.5523 16.5523 21 16 21H8C7.44772 21 7 20.5523 7 20V13Z",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255, 255, 255, 0.1)"})]}),ht={light:{on:{default:hN,desk_lamp:pN},off:{default:fN,desk_lamp:mN}},cover:{on:{default:vN,garage:gN},off:{default:bN,garage:yN}},binary_sensor:{on:{door:Qs,window:Qs,motion:wN,presence:to,occupancy:to,lock:An,smoke:gn,gas:gn,carbon_monoxide:gn,safety:gn},off:{door:eo,window:eo,motion:kN,presence:Qn,occupancy:Qn,lock:Nr,smoke:bn,gas:bn,carbon_monoxide:bn,safety:bn}},sensor:{on:{door:Qs,window:Qs},off:{door:eo,window:eo}},lock:{on:{default:Nr},off:{default:An}},media_player:{on:{default:sl,tv:dr,television:dr,speaker:sl,receiver:sl},off:{default:ol,tv:Ai,television:Ai,speaker:ol,receiver:ol}},climate:{heat:{default:no},cool:{default:ei},dry:{default:ur},fan_only:{default:al},auto:{default:io},off:{default:ro}},fan:{on:{default:al},off:{default:ro}},vacuum:{on:{default:ay},off:{default:ly}},dishwasher:{on:{default:sy},off:{default:oy}},washing_machine:{on:{default:cy},off:{default:dy}},scene:{on:{default:ll},off:{default:ll},scening:{default:ll}},script:{on:{default:so},off:{default:so},running:{default:so},default:{default:so}},automation:{on:{default:c0},off:{default:c0}},switch:{on:{default:CN},off:{default:SN}},input_boolean:{on:{default:oo},off:{default:nn}},alert:{on:{default:gn},off:{default:bn},idle:{default:bn}},timer:{active:{default:oo},idle:{default:nn},paused:{default:nn}},person:{home:{default:to},not_home:{default:Qn},unknown:{default:Qn}},device_tracker:{home:{default:to},not_home:{default:Qn},unknown:{default:Qn}},air_purifier:{on:{default:uy},off:{default:hy}},input_number:{default:{default:null}},input_text:{default:{default:nn}},input_select:{default:{default:nn}},input_datetime:{default:{default:nn}},weather:{sunny:{default:no},clear_night:{default:ei},cloudy:{default:ei},partlycloudy:{default:io},rainy:{default:ur},pouring:{default:ur},snowy:{default:ei},snowy_rainy:{default:ei},windy:{default:al},fog:{default:io},hail:{default:ei},lightning:{default:gn},lightning_rainy:{default:gn},default:{default:io}},group:{on:{default:oo},off:{default:nn}},zone:{default:{default:Qn}},sun:{above_horizon:{default:no},below_horizon:{default:ei}},remote:{on:{default:dr},off:{default:Ai}},water_heater:{on:{default:no},off:{default:ro}},humidifier:{on:{default:ur},off:{default:ro}},plant:{default:{default:ur}},number:{default:{default:null}},select:{default:{default:nn}},text:{default:{default:nn}},button:{default:{default:oo}},update:{on:{default:l0},off:{default:l0}},camera:{recording:{default:dr},streaming:{default:dr},idle:{default:Ai},default:{default:Ai}},siren:{on:{default:gn},off:{default:bn}},settings:{default:{default:fa}},energy_dashboard_device:{default:{default:LN}},printer3d_device:{default:{default:MN}},alarm_control_panel:{armed_home:{default:An},armed_away:{default:An},armed_night:{default:An},armed_vacation:{default:An},armed_custom_bypass:{default:An},disarmed:{default:Nr},triggered:{default:gn},pending:{default:bn},arming:{default:Nr},disarming:{default:An}}},EN=(e="",t={})=>{const n=e||t?.friendly_name||"";return n.toLowerCase().includes("desk")||n.toLowerCase().includes("schreibtisch")||n.toLowerCase().includes("arbeits")||n.toLowerCase().includes("bro")||t?.device_class==="desk_lamp"},TN=(e={})=>e?.device_class==="garage"||e?.friendly_name?.toLowerCase().includes("garage"),AN=(e={})=>{const t=e?.friendly_name||"";return e?.device_class==="tv"||t.toLowerCase().includes("tv")||t.toLowerCase().includes("fernseh")||t.toLowerCase().includes("television")},DN=(e,t,n={},i="")=>{if(e==="air_purifier")return t==="on"?uy:hy;if(e==="washing_machine")return t==="on"?cy:dy;if(e==="dishwasher")return t==="on"?sy:oy;if(e==="vacuum")return t==="cleaning"?ay:ly;if(e==="climate"){const u=n?.hvac_action||t;return(ht.climate[u]||ht.climate.off)?.default||null}if(e==="script"){const u=ht.script;return(u[t==="running"||t==="on"?"running":"off"]||u.default)?.default||_N}if(e==="button")return ht[e]?.default?.default||null;if(e==="scene"){const u=ht.scene;return(u[t==="scening"||t==="on"?"scening":"off"]||u.off)?.default||xN}if(e==="camera"){const u=ht.camera;return(u[t]||u.default)?.default||Ai}if(e==="alarm_control_panel"){const u=ht.alarm_control_panel;return(u[t]||u.disarmed)?.default||Nr}if(e==="siren"){const u=t==="on"?"on":"off";return ht.siren[u]?.default||bn}if(e==="person"||e==="device_tracker"){const u=ht[e];if(u)return(u[t]||u.unknown||u.not_home)?.default||null}if(e==="weather"){const u=ht.weather;return(u[t]||u.default)?.default||null}if(e==="alert"){const u=ht.alert;return(u[t]||u.idle)?.default||null}if(e==="timer"){const u=ht.timer;return(u[t]||u.idle)?.default||null}if(e==="settings")return ht.settings?.default?.default||fa;if(e==="pluginstore")return ht.pluginstore?.default?.default||Gd;if(e==="input_number"||e==="number")return null;if(e==="input_text"||e==="input_select"||e==="input_datetime"||e==="select"||e==="text"||e==="plant"){const u=ht[e];return u?.default?u.default.default:nn}if(e==="zone")return ht.zone?.default?.default||null;if(e==="sun"){const u=t==="above_horizon"?"above_horizon":"below_horizon";return ht.sun[u]?.default||null}const s=ht[e];if(!s)return null;const o=t==="on"||t==="open"||t==="playing"||t==="home"||t==="unlocked"||t==="cleaning"||t==="active"||t==="running"||t==="above_horizon"||t==="recording"||t==="streaming";if(e==="lock")return s[t==="unlocked"?"on":"off"]?.default||null;const l=s[o?"on":"off"];if(!l)return s.default?s.default.default:null;let c="default";e==="light"&&EN(i,n)?c="desk_lamp":e==="cover"&&TN(n)?c="garage":e==="media_player"&&AN(n)?c="tv":(e==="binary_sensor"||e==="sensor")&&n?.device_class&&(c=n.device_class);const d=l[c]||l.default||null;return d===null&&e!=="input_number"&&e!=="number"?NN:d},FN=["input_number","number"],PN=({domain:e,state:t,attributes:n={},size:i=39,name:s=""})=>{const o=DN(e,t,n,s);return o?r(o,{size:i}):(FN.includes(e),null)},fy=(e,t=39)=>e?r(PN,{domain:e.domain,state:e.state,attributes:e.attributes,size:t,name:e.name||e.attributes?.friendly_name}):null,IN={settings:{color:"rgb(0, 145, 255)",hoverColor:"rgb(0, 145, 255)",activeColor:"rgb(0, 145, 255)",iconComponent:fa,iconMdi:"mdi:cog",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"tabs",tabs:["general","appearance","privacy","about"],defaultTab:"general",showHeader:!0,showCloseButton:!0}},pluginstore:{color:"rgb(219, 52, 242)",hoverColor:"rgb(219, 52, 242)",activeColor:"rgb(219, 52, 242)",iconComponent:Gd,iconMdi:"mdi:puzzle-plus",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"fullscreen",sections:["discover","installed","develop","upload"],defaultSection:"discover",showHeader:!0,showBackButton:!0,showInstallButton:!0}},all_schedules:{color:"rgb(255, 146, 48)",hoverColor:"rgb(255, 146, 48)",activeColor:"rgb(255, 146, 48)",iconComponent:null,iconMdi:"mdi:calendar-clock",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"fullscreen",showHeader:!0,showBackButton:!0,showFilterTabs:!0}},weather:{color:"rgb(60, 211, 254)",hoverColor:"rgb(60, 211, 254)",activeColor:"rgb(60, 211, 254)",iconComponent:null,iconMdi:"mdi:weather-partly-cloudy",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"fullscreen",showHeader:!0,showBackButton:!0,showRefreshButton:!0}},news:{color:"rgb(255, 149, 0)",hoverColor:"rgb(255, 149, 0)",activeColor:"rgb(255, 149, 0)",iconComponent:null,iconMdi:"mdi:newspaper",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"fullscreen",showHeader:!0,showBackButton:!0,showRefreshButton:!0,showFilterBar:!0}},todos:{color:"rgb(0, 122, 255)",hoverColor:"rgb(0, 122, 255)",activeColor:"rgb(0, 122, 255)",iconComponent:null,iconMdi:"mdi:check-circle",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"fullscreen",showHeader:!0,showBackButton:!0,showRefreshButton:!0,showFilterBar:!0,showAddButton:!0}},versionsverlauf:{color:"rgb(88, 86, 214)",hoverColor:"rgb(88, 86, 214)",activeColor:"rgb(88, 86, 214)",iconComponent:null,iconMdi:"mdi:code-tags",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"fullscreen",showHeader:!0,showBackButton:!0,showRefreshButton:!0}},integration:{color:"rgb(175, 82, 222)",hoverColor:"rgb(175, 82, 222)",activeColor:"rgb(175, 82, 222)",iconComponent:null,iconMdi:"mdi:devices",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"fullscreen",showHeader:!0,showBackButton:!0,showManagementButton:!0}},printer3d_device:{color:"rgb(48, 209, 88)",hoverColor:"rgb(48, 209, 88)",activeColor:"rgb(48, 209, 88)",iconComponent:null,iconMdi:"mdi:printer-3d",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"tabs",showHeader:!0,showBackButton:!0,showRefreshButton:!0}},energy_dashboard_device:{color:"rgb(255, 214, 0)",hoverColor:"rgb(255, 214, 0)",activeColor:"rgb(255, 214, 0)",iconComponent:null,iconMdi:"mdi:lightning-bolt",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"fullscreen",showHeader:!0,showBackButton:!0,showRefreshButton:!0}},weather_device:{color:"rgb(60, 211, 254)",hoverColor:"rgb(60, 211, 254)",activeColor:"rgb(60, 211, 254)",iconComponent:null,iconMdi:"mdi:weather-partly-cloudy",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"fullscreen",showHeader:!0,showBackButton:!0,showRefreshButton:!0}}};function RN(e,t="grid"){if(!e)return null;const n=t==="list"?1.02:1.05,i=t==="list"?.3:.25;return{hidden:e.animation?.hidden||{opacity:0,scale:.9},inactive:{backgroundColor:e.color,...e.animation?.inactive||{}},active:{backgroundColor:e.activeColor||e.color,...e.animation?.active||{}},hover:{backgroundColor:e.hoverColor||e.color,scale:n,transition:{duration:i,ease:[.4,0,.2,1]}}}}const BN=({size:e=39})=>r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("path",{d:"M2 6C2 4.89543 2.89543 4 4 4H16C17.1046 4 18 4.89543 18 6V18C18 19.1046 17.1046 20 16 20H4C2.89543 20 2 19.1046 2 18V6Z",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.08)"}),r("path",{d:"M18 6V18C18 19.1046 18.8954 20 20 20C21.1046 20 22 19.1046 22 18V8C22 6.89543 21.1046 6 20 6H18Z",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.05)"}),r("rect",{x:"5",y:"7",width:"8",height:"2",rx:"0.5",fill:"rgba(255, 255, 255, 0.6)"}),r("line",{x1:"5",y1:"11",x2:"13",y2:"11",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1"}),r("line",{x1:"5",y1:"13",x2:"11",y2:"13",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1"}),r("line",{x1:"5",y1:"15",x2:"13",y2:"15",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1"}),r("line",{x1:"5",y1:"17",x2:"10",y2:"17",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1"})]}),zN=({size:e=39})=>r("svg",{width:`${e}px`,height:`${e}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r("path",{d:"M9 6L20 6",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.9"}),r("path",{d:"M3.80002 5.79999L4.60002 6.59998L6.60001 4.59999",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.9"}),r("path",{d:"M3.80002 11.8L4.60002 12.6L6.60001 10.6",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.9"}),r("path",{d:"M9 12L20 12",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.9"}),r("path",{d:"M3.80002 17.8L4.60002 18.6L6.60001 16.6",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.9"}),r("path",{d:"M9 18L20 18",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.9"})]}),ti=({size:e=24,color:t="#FFFFFF",animated:n=!1,...i})=>r(P.svg,{width:e,height:e,"stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:t,animate:n?{x:[-2,2,-2]}:{},transition:n?{duration:6,repeat:1/0,ease:"easeInOut"}:{},children:r("path",{d:"M12 4C6 4 6 8 6 10C4.33333 10 1 11 1 15C1 19 4.33333 20 6 20H18C19.6667 20 23 19 23 15C23 11 19.6667 10 18 10C18 8 18 4 12 4Z",stroke:t,"stroke-width":"1.5","stroke-linejoin":"round"})}),VN=({size:e=24,color:t="#FFFFFF",animated:n=!1,...i})=>r(P.svg,{width:e,height:e,"stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:t,children:[r("path",{d:"M3.5 17.3818C2.1879 16.7066 1 15.3879 1 13C1 9 4.33333 8 6 8C6 6 6 2 12 2C18 2 18 6 18 8C19.6667 8 23 9 23 13C23 15.3879 21.8121 16.7066 20.5 17.3818",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r(P.path,{d:"M9 14H15",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",animate:n?{opacity:[.4,.8,.4],x:[-1,1,-1]}:{},transition:n?{duration:4,repeat:1/0,ease:"easeInOut"}:{}}),r(P.path,{d:"M9 22H15",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",animate:n?{opacity:[.6,.9,.6],x:[1,-1,1]}:{},transition:n?{duration:4,repeat:1/0,ease:"easeInOut",delay:1}:{}}),r(P.path,{d:"M7 18H17",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",animate:n?{opacity:[.5,1,.5],x:[-1,1,-1]}:{},transition:n?{duration:4,repeat:1/0,ease:"easeInOut",delay:2}:{}})]}),d0=({size:e=24,color:t="#FFFFFF",animated:n=!1,...i})=>r(P.svg,{width:e,height:e,"stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:t,children:[r("path",{d:"M20 17.6073C21.4937 17.0221 23 15.6889 23 13C23 9 19.6667 8 18 8C18 6 18 2 12 2C6 2 6 6 6 8C4.33333 8 1 9 1 13C1 15.6889 2.50628 17.0221 4 17.6073",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r(P.path,{d:"M12 14V16",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",animate:n?{opacity:[.3,1,.3],y:[0,2,0]}:{},transition:n?{duration:1.5,repeat:1/0,ease:"easeInOut"}:{}}),r(P.path,{d:"M12 20V22",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",animate:n?{opacity:[1,.3,1],y:[0,2,0]}:{},transition:n?{duration:1.5,repeat:1/0,ease:"easeInOut",delay:.3}:{}}),r(P.path,{d:"M8 18V20",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",animate:n?{opacity:[.5,1,.5],y:[0,2,0]}:{},transition:n?{duration:1.5,repeat:1/0,ease:"easeInOut",delay:.6}:{}}),r(P.path,{d:"M16 18V20",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",animate:n?{opacity:[.8,.3,.8],y:[0,2,0]}:{},transition:n?{duration:1.5,repeat:1/0,ease:"easeInOut",delay:.9}:{}})]}),cl=({size:e=24,color:t="#FFFFFF",...n})=>r("svg",{width:e,height:e,"stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:t,children:[r("path",{d:"M12 12L12 17M12 22L12 17M12 17L7.5 14.5M12 17L16.5 19.5M12 17L16.5 14.5M12 17L7.5 19.5",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M20 17.6073C21.4937 17.0221 23 15.6889 23 13C23 9 19.6667 8 18 8C18 6 18 2 12 2C6 2 6 6 6 8C4.33333 8 1 9 1 13C1 15.6889 2.50628 17.0221 4 17.6073",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),u0=({size:e=24,color:t="#FFFFFF",animated:n=!1,...i})=>r(P.svg,{width:e,height:e,"stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:t,animate:n?{rotate:360}:{},transition:n?{duration:60,repeat:1/0,ease:"linear"}:{},children:[r("path",{d:"M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M22 12L23 12",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M12 2V1",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M12 23V22",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M20 20L19 19",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M20 4L19 5",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M4 20L5 19",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M4 4L5 5",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M1 12L2 12",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),h0=({size:e=24,color:t="#FFFFFF",...n})=>r("svg",{width:e,height:e,"stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:t,children:[r("path",{d:"M11.5 12L9 17H15L12.5 22",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M20 17.6073C21.4937 17.0221 23 15.6889 23 13C23 9 19.6667 8 18 8C18 6 18 2 12 2C6 2 6 6 6 8C4.33333 8 1 9 1 13C1 15.6889 2.50628 17.0221 4 17.6073",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),py=({size:e=24,color:t="#FFFFFF",...n})=>r("svg",{width:e,height:e,viewBox:"0 0 24 24","stroke-width":"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:t,children:r("path",{d:"M20 14C20 9.58172 12 2 12 2C12 2 4 9.58172 4 14C4 18.4183 7.58172 22 12 22C16.4183 22 20 18.4183 20 14Z",stroke:t,"stroke-width":"1.5"})}),ON=({size:e=24,color:t="#FFFFFF",...n})=>r("svg",{width:e,height:e,"stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:t,children:[r("path",{d:"M18.2785 7C19.7816 7 21 8.11929 21 9.5C21 10.8807 19.7816 12 18.2785 12H3",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M17.9375 20C19.0766 20 20.5 19.5 20.5 17.5C20.5 15.5 19.0766 15 17.9375 15H3",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M10.4118 4C11.8412 4 13 5.11929 13 6.5C13 7.88071 11.8412 9 10.4118 9H3",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),WN=({size:e=24,color:t="#FFFFFF",...n})=>r("svg",{width:e,height:e,viewBox:"0 0 24 24","stroke-width":"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:t,children:[r("path",{d:"M10.5857 10.5857L16.9496 7.0502L13.4141 13.4142L7.05012 16.9497L10.5857 10.5857Z",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:t,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),os=(e,t=120,n="#FFFFFF",i=!1)=>{const s={size:t,color:n,animated:i};return{"clear-night":r(u0,{...s}),sunny:r(u0,{...s}),cloudy:r(ti,{...s}),partlycloudy:r(ti,{...s}),"partly-cloudy":r(ti,{...s}),fog:r(VN,{...s}),rainy:r(d0,{...s}),pouring:r(d0,{...s}),snowy:r(cl,{...s}),"snowy-rainy":r(cl,{...s}),hail:r(cl,{...s}),lightning:r(h0,{...s}),"lightning-rainy":r(h0,{...s}),windy:r(ti,{...s}),"windy-variant":r(ti,{...s}),exceptional:r(ti,{...s})}[e]||r(ti,{...s})},HN=({condition:e,size:t=120,color:n="#FFFFFF",animated:i=!0})=>{const s=os(e,t,n);return i?r("div",{className:"weather-icon-wrapper",style:{display:"inline-block",animation:"float 3s ease-in-out infinite"},children:s}):s};function $N(e,t="grid"){if(e.is_system||as(e.domain)){const n=IN[e.domain];if(n)return RN(n,t)}return null}function as(e){return["settings","pluginstore","all_schedules","weather","news","todos","versionsverlauf","printer3d_device","energy_dashboard_device","weather_device","integration","notifications","statistics","help"].includes(e)}function Nc(e,t=48){if(!e.is_system&&!as(e.domain))return null;const i={settings:fa,pluginstore:Gd,news:BN,todos:zN,all_schedules:()=>r("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"white",children:[r("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zm0-12H5V6h14v2z"}),r("circle",{cx:"12",cy:"15",r:"1"})]}),energy_dashboard_device:()=>r("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"white",stroke:"white","stroke-width":"1.5",children:r("path",{d:"M13 2L3 14H12L11 22L21 10H12L13 2Z","stroke-linecap":"round","stroke-linejoin":"round"})}),weather:()=>{const s=Fe.getEntityByDomain("weather");let o="partly-cloudy";return s&&s.attributes&&(o=s.attributes.current_condition||"partly-cloudy"),os(o,t,"#FFFFFF",!1)},weather_device:()=>{let s="partly-cloudy";return e&&e.attributes&&e.attributes.current_condition&&(s=e.attributes.current_condition),os(s,t,"#FFFFFF",!1)},versionsverlauf:()=>r("svg",{width:t,height:t,"stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",stroke:"white",children:[r("path",{d:"M13.5 6L10 18.5","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M6.5 8.5L3 12L6.5 15.5","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M17.5 8.5L21 12L17.5 15.5","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),integration:()=>r("svg",{width:t,height:t,viewBox:"0 0 24 24","stroke-width":"1.5",fill:"none",stroke:"white",children:[r("path",{d:"M2 19V5C2 3.89543 2.89543 3 4 3H20C21.1046 3 22 3.89543 22 5V19C22 20.1046 21.1046 21 20 21H4C2.89543 21 2 20.1046 2 19Z","stroke-width":"1.5"}),r("path",{d:"M2 7L22 7","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M5 5.01L5.01 4.99889","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M8 5.01L8.01 4.99889","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M11 5.01L11.01 4.99889","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),printer3d_device:()=>r("svg",{width:t,height:t,"stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",stroke:"white",children:[r("path",{d:"M17.5714 18H20.4C20.7314 18 21 17.7314 21 17.4V11C21 8.79086 19.2091 7 17 7H7C4.79086 7 3 8.79086 3 11V17.4C3 17.7314 3.26863 18 3.6 18H6.42857","stroke-width":"1.5"}),r("path",{d:"M8 7V3.6C8 3.26863 8.26863 3 8.6 3H15.4C15.7314 3 16 3.26863 16 3.6V7","stroke-width":"1.5"}),r("path",{d:"M6.09782 20.3151L6.42855 18L6.92639 14.5151C6.96862 14.2196 7.22177 14 7.52036 14H16.4796C16.7782 14 17.0313 14.2196 17.0736 14.5151L17.5714 18L17.9021 20.3151C17.9538 20.6766 17.6733 21 17.3082 21H6.69179C6.32666 21 6.04618 20.6766 6.09782 20.3151Z","stroke-width":"1.5"}),r("path",{d:"M17 10.01L17.01 9.99889","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})}[e.domain];return i?typeof i=="function"?r(i,{size:t}):r(i,{size:t}):null}const jN=({device:e,isActive:t,cardRef:n,handleClick:i,getItemVariants:s,animateState:o,animationDelay:a,getDisplayState:l,getWeatherArea:c,getWeatherName:d,getNewsArea:u,getNewsName:h,getTodosArea:f,getTodosName:p,getPrinterArea:g,getPrinterName:m,lang:y})=>r(ke,{children:[r("style",{children:`
        .device-list-item {
          border-radius: 16px;
          padding: 16px 20px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 16px;
          position: relative;
          overflow: hidden;
          clip-path: var(--card-clip-path, none);
        }

        /* Actions-Items - weier Hintergrund mit dunklem Text */
        .device-list-item.actions-item {
          backdrop-filter: none;
          -webkit-backdrop-filter: none;
          border: 1px solid rgba(0, 0, 0, 0.1);
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .device-list-item.actions-item .device-list-icon {
          background: rgba(0, 0, 0, 0.08);
          color: rgba(0, 0, 0, 0.85);
        }

        .device-list-item.actions-item .device-list-area,
        .device-list-item.actions-item .device-list-name,
        .device-list-item.actions-item .device-list-status {
          color: rgba(0, 0, 0, 0.9);
          opacity: 1;
        }

        .device-list-item.actions-item .device-list-name {
          background: linear-gradient(to right, rgba(0, 0, 0, 0.9) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        /* Settings-Card - blau mit weiem Text */
        .device-list-item.settings-item {
          backdrop-filter: none;
          -webkit-backdrop-filter: none;
          border: 1px solid rgba(0, 145, 255, 0.5);
          box-shadow: 0 8px 32px rgba(0, 145, 255, 0.3);
        }

        .device-list-item.settings-item .device-list-icon {
          background: rgba(255, 255, 255, 0.1);
          color: rgba(255, 255, 255, 0.95);
        }

        .device-list-item.settings-item .device-list-area,
        .device-list-item.settings-item .device-list-name,
        .device-list-item.settings-item .device-list-status {
          color: rgba(255, 255, 255, 0.95);
          opacity: 1;
        }

        .device-list-item.settings-item .device-list-name {
          background: linear-gradient(to right, rgba(255, 255, 255, 0.95) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        /* Marketplace-Card - grn mit weiem Text */
        .device-list-item.marketplace-item {
          backdrop-filter: none;
          -webkit-backdrop-filter: none;
          border: 1px solid rgba(48, 209, 88, 0.5);
          box-shadow: 0 8px 32px rgba(48, 209, 88, 0.3);
        }

        .device-list-item.marketplace-item .device-list-icon {
          background: rgba(255, 255, 255, 0.1);
          color: rgba(255, 255, 255, 0.95);
        }

        .device-list-item.marketplace-item .device-list-area,
        .device-list-item.marketplace-item .device-list-name,
        .device-list-item.marketplace-item .device-list-status {
          color: rgba(255, 255, 255, 0.95);
          opacity: 1;
        }

        .device-list-item.marketplace-item .device-list-name {
          background: linear-gradient(to right, rgba(255, 255, 255, 0.95) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

          .device-list-icon {
            width: 68px;
            height: 68px;
            min-width: 68px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.15);
            color: var(--text-primary, rgba(255, 255, 255, 0.95));
            transition: all 0.3s ease;
          }

          .device-list-item.active .device-list-icon {
            background: rgba(0, 0, 0, 0.08);
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.05);
            color: rgba(0, 0, 0, 0.85);
          }

          .device-list-content {
            flex: 1;
            min-width: 0;
            display: flex;
            flex-direction: column;
            gap: 0px;
          }

          .device-list-area {
            font-size: 11px;
            font-weight: 500;
            color: var(--text-secondary, rgba(255, 255, 255, 0.6));
            text-transform: uppercase;
            letter-spacing: 0.5px;
            line-height: 1.2;
            margin: 0;
            padding: 0;
          }

          .device-list-item.active .device-list-area {
            color: rgba(0, 0, 0, 0.6);
            opacity: 1;
          }

          .device-list-name {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary, rgba(255, 255, 255, 0.95));
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            line-height: 1.3;
            margin: 0;
            padding: 0;
          }

          .device-list-item.active .device-list-name {
            color: rgba(0, 0, 0, 0.9);
            opacity: 1;
            background: linear-gradient(to right, rgba(0, 0, 0, 0.9) 80%, transparent 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
          }

          .device-list-status {
            font-size: 13px;
            color: var(--text-secondary, rgba(255, 255, 255, 0.7));
            line-height: 1.2;
            margin: 0;
            padding: 0;
          }

          .device-list-item.active .device-list-status {
            color: rgba(0, 0, 0, 0.7);
            opacity: 1;
          }

          .device-list-quick-action {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.15);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
          }

          @media (hover: hover) {
            .device-list-quick-action:hover {
              background: rgba(255, 255, 255, 0.2);
              transform: scale(1.05);
            }
          }

          .device-list-quick-action.active {
            background: rgba(0, 122, 255, 0.8);
            border-color: rgba(0, 122, 255, 1);
          }

          .sensor-list-value {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2px;
          }

          .sensor-list-value .value {
            font-size: 18px;
            font-weight: 700;
            line-height: 1;
          }

          .sensor-list-value .unit {
            font-size: 10px;
            opacity: 0.7;
            font-weight: 500;
          }

          /* Responsive */
          @media (max-width: 768px) {
            .device-list-item {
              padding: 12px 16px;
              gap: 12px;
            }

            .device-list-icon {
              width: 56px;
              height: 56px;
              min-width: 56px;
            }

            .device-list-area,
            .device-list-name,
            .device-list-status {
              font-size: 14px;
            }
          }
      `}),r(P.div,{ref:n,className:`device-list-item ${t?"active":""} ${e.domain==="settings"?"settings-item":""} ${e.domain==="marketplace"?"marketplace-item":""} ${e.domain==="automation"||e.domain==="scene"||e.domain==="script"?"actions-item":""}`,onClick:i,"data-entity":e.id,variants:s(),initial:"hidden",animate:o,whileHover:window.matchMedia("(hover: hover)").matches?"hover":void 0,transition:{delay:a},children:[r("div",{className:`device-list-icon ${t?"icon-active":""}`,children:e.domain==="sensor"&&!isNaN(parseFloat(e.state))?r("div",{className:"sensor-list-value",children:[r("span",{className:"value",children:Ql(e.state,e.attributes,y).value}),r("span",{className:"unit",children:Ql(e.state,e.attributes,y).unit||""})]}):(e.is_system||as(e.domain))&&Nc(e,32)?Nc(e,32):fy(e,32)}),r("div",{className:"device-list-content",children:[r("div",{className:"device-list-area",children:e.domain==="weather_device"?e.area||te("general.noRoom",y):c&&c()||u&&u()||f&&f()||g&&g()||(e.domain==="settings"?te("subcategories.system",y):e.domain==="marketplace"?te("subcategories.apps",y):e.area||te("general.noRoom",y))}),r("div",{className:"device-list-name",children:e.domain==="weather_device"?c&&c():d&&d()||h&&h()||p&&p()||m&&m()||(e.domain==="settings"?te("deviceNames.settings",y):e.domain==="marketplace"?te("deviceNames.marketplace",y):e.attributes?.friendly_name||e.name)}),r("div",{className:"device-list-status",children:e.domain==="weather_device"?d&&d():l()})]}),["light","climate","media_player","cover","fan","switch"].includes(e.domain)&&r("button",{className:`device-list-quick-action ${t?"active":""}`,onClick:b=>{b.stopPropagation()},children:r("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[r("path",{d:"M7 6a7.75 7.75 0 1 0 10 0"}),r("path",{d:"M12 4l0 8"})]})})]})]}),UN=({device:e,isActive:t,cardRef:n,handleClick:i,getItemVariants:s,animateState:o,animationDelay:a,renderSensorValue:l,getDisplayState:c,getWeatherArea:d,getWeatherName:u,getNewsArea:h,getNewsName:f,getTodosArea:p,getTodosName:g,getPrinterArea:m,getPrinterName:y,getPrinterState:b,lang:v})=>r(ke,{children:[r("style",{children:`
        .device-card {
          aspect-ratio: 1;
          width: 100%;
          min-width: 130px;
          min-height: 130px;
          background: rgba(255, 255, 255, 0.1);
          border-radius: 24px;
          padding: 20px;
          cursor: pointer;
          display: flex;
          flex-direction: column;
          justify-content: space-between;
          position: relative;
          overflow: hidden;
          box-sizing: border-box;
          container-type: inline-size;
          clip-path: var(--card-clip-path, none);
        }

        .device-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(135deg,
            rgba(255, 255, 255, 0.1) 0%,
            rgba(255, 255, 255, 0.05) 100%);
          opacity: 0;
          pointer-events: none;
        }

        @media (hover: hover) {
          .device-card:hover::before {
            opacity: 1;
          }

          .device-card:hover {
            background: rgba(255, 255, 255, 0.18);
          }
        }

        /* Aktive Cards werden durch Framer Motion Variants gesteuert */

        /* Actions-Card - weier Hintergrund fr Automation, Scene, Script */
        .device-card.actions-card {
          backdrop-filter: none;
          -webkit-backdrop-filter: none;
          border: 1px solid rgba(0, 0, 0, 0.1);
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .device-card.actions-card .device-icon {
          color: rgba(0, 0, 0, 0.85);
          opacity: 1;
        }

        .device-card.actions-card .device-area,
        .device-card.actions-card .device-name,
        .device-card.actions-card .device-state {
          color: rgba(0, 0, 0, 0.9);
          opacity: 1;
        }

        .device-card.actions-card .device-area {
          background: linear-gradient(to right, rgba(0, 0, 0, 0.6) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.actions-card .device-name {
          background: linear-gradient(to right, rgba(0, 0, 0, 0.9) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.actions-card .device-state {
          background: linear-gradient(to right, rgba(0, 0, 0, 0.7) 85%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        /* Settings-Card - blau mit weiem Text */
        .device-card.settings-card {
          backdrop-filter: none;
          -webkit-backdrop-filter: none;
          border: 1px solid rgba(0, 145, 255, 0.5);
          box-shadow: 0 8px 32px rgba(0, 145, 255, 0.3);
        }

        .device-card.settings-card .device-icon {
          color: rgba(255, 255, 255, 0.95);
          opacity: 1;
        }

        .device-card.settings-card .device-area,
        .device-card.settings-card .device-name,
        .device-card.settings-card .device-state {
          color: rgba(255, 255, 255, 0.95);
          opacity: 1;
        }

        .device-card.settings-card .device-area {
          background: linear-gradient(to right, rgba(255, 255, 255, 0.7) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.settings-card .device-name {
          background: linear-gradient(to right, rgba(255, 255, 255, 0.95) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.settings-card .device-state {
          background: linear-gradient(to right, rgba(255, 255, 255, 0.7) 85%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        /* Marketplace-Card - grn mit weiem Text */
        .device-card.marketplace-card {
          backdrop-filter: none;
          -webkit-backdrop-filter: none;
          border: 1px solid rgba(48, 209, 88, 0.5);
          box-shadow: 0 8px 32px rgba(48, 209, 88, 0.3);
        }

        .device-card.marketplace-card .device-icon {
          color: rgba(255, 255, 255, 0.95);
          opacity: 1;
        }

        .device-card.marketplace-card .device-area,
        .device-card.marketplace-card .device-name,
        .device-card.marketplace-card .device-state {
          color: rgba(255, 255, 255, 0.95);
          opacity: 1;
        }

        .device-card.marketplace-card .device-area {
          background: linear-gradient(to right, rgba(255, 255, 255, 0.7) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.marketplace-card .device-name {
          background: linear-gradient(to right, rgba(255, 255, 255, 0.95) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.marketplace-card .device-state {
          background: linear-gradient(to right, rgba(255, 255, 255, 0.7) 85%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        /* Pluginstore-Card - lila mit weiem Text */
        .device-card.pluginstore-card {
          backdrop-filter: none;
          -webkit-backdrop-filter: none;
          border: 1px solid rgba(175, 82, 222, 0.5);
          box-shadow: 0 8px 32px rgba(175, 82, 222, 0.3);
        }

        .device-card.pluginstore-card .device-icon {
          color: rgba(255, 255, 255, 0.95);
          opacity: 1;
        }

        .sensor-card .device-icon {
          color: rgba(0, 0, 0, 0.85);
          opacity: 1;
        }

        .sensor-value-display {
          display: flex;
          align-items: flex-start;
          gap: 3px;
          margin-bottom: auto;
        }

        .sensor-value {
          font-size: 48px;
          font-weight: 600;
          color: rgba(255, 255, 255, 0.95);
          line-height: 1;
          opacity: 0.6;
        }

        .sensor-unit {
          font-size: 21px;
          font-weight: 500;
          color: rgba(255, 255, 255, 0.7);
          opacity: 0.5;
          margin-top: 2px;
        }

        /* 5-Spalten Layout: Kleinere Sensor-Werte bei schmaleren Karten */
        @container (max-width: 180px) {
          .sensor-value {
            font-size: 42px;
          }

          .sensor-unit {
            font-size: 18px;
          }
        }

        .device-card.active .sensor-value {
          color: rgba(0, 0, 0, 0.9);
          opacity: 1;
        }

        .device-card.active .sensor-unit {
          color: rgba(0, 0, 0, 0.6);
          opacity: 1;
        }

        .device-info {
          display: flex;
          flex-direction: column;
          gap: 0;
          text-align: left;
          width: 100%;
        }

        .device-area,
        .device-name,
        .device-state {
          font-size: 18px;
          line-height: 1.15;
          margin: 0;
          overflow: hidden;
          white-space: nowrap;
          position: relative;
        }

        /* 5-Spalten Layout: Kleinere Schrift bei schmaleren Karten */
        @container (max-width: 180px) {
          .device-area,
          .device-name,
          .device-state {
            font-size: 16px;
          }
        }

        .device-area {
          color: rgba(255, 255, 255, 0.7);
          opacity: 0.5;
          background: linear-gradient(to right, rgba(255, 255, 255, 0.7) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-name {
          font-weight: 600;
          color: rgba(255, 255, 255, 0.95);
          opacity: 0.6;
          background: linear-gradient(to right, rgba(255, 255, 255, 0.95) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-state {
          color: rgba(255, 255, 255, 0.7);
          opacity: 0.5;
          background: linear-gradient(to right, rgba(255, 255, 255, 0.7) 85%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.active .device-area {
          color: rgba(0, 0, 0, 0.6);
          opacity: 1;
          background: linear-gradient(to right, rgba(0, 0, 0, 0.6) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.active .device-name {
          color: rgba(0, 0, 0, 0.9);
          opacity: 1;
          background: linear-gradient(to right, rgba(0, 0, 0, 0.9) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.active .device-state {
          color: rgba(0, 0, 0, 0.7);
          opacity: 1;
          background: linear-gradient(to right, rgba(0, 0, 0, 0.7) 85%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        @media (max-width: 768px) {
          .device-card {
            padding: 16px;
          }

          .device-area,
          .device-name,
          .device-state {
            font-size: 16px;
          }

          .sensor-value {
            font-size: 38px;
          }

          .sensor-unit {
            font-size: 16px;
          }
        }

        @media (max-width: 480px) {
          .device-card {
            padding: 14px;
            min-width: 120px;
            min-height: 120px;
          }

          .device-area,
          .device-name,
          .device-state {
            font-size: 14px;
          }

          .sensor-value {
            font-size: 38px;
          }

          .sensor-unit {
            font-size: 16px;
          }
        }

        @media (max-width: 360px) {
          .device-card {
            padding: 12px;
            min-width: 110px;
            min-height: 110px;
          }

          .device-area,
          .device-name,
          .device-state {
            font-size: 13px;
          }

          .sensor-value {
            font-size: 38px;
          }

          .sensor-unit {
            font-size: 16px;
          }
        }
      `}),r(P.div,{ref:n,className:`device-card ${t?"active":""} ${e.domain==="sensor"?"sensor-card":""} ${e.domain==="settings"?"settings-card":""} ${e.domain==="marketplace"?"marketplace-card":""} ${e.domain==="automation"||e.domain==="scene"||e.domain==="script"?"actions-card":""}`,onClick:i,"data-entity":e.id,variants:s(),initial:"hidden",animate:o,whileHover:window.matchMedia("(hover: hover)").matches?"hover":void 0,transition:{delay:a},children:[l(),r("div",{className:"device-info",children:[r("div",{className:"device-area",children:e.domain==="weather_device"?e.area||te("general.noRoom",v):d&&d()||h&&h()||p&&p()||m&&m()||(e.domain==="settings"?te("subcategories.system",v):e.domain==="marketplace"?te("subcategories.apps",v):e.area||te("general.noRoom",v))}),r("div",{className:"device-name",children:e.domain==="weather_device"?d&&d():u&&u()||f&&f()||g&&g()||y&&y()||(e.domain==="settings"?te("deviceNames.settings",v):e.domain==="marketplace"?te("deviceNames.marketplace",v):e.attributes?.friendly_name||e.name)}),r("div",{className:"device-state",children:e.domain==="weather_device"?u&&u():b&&b()||c()})]})]})]});function GN(e){const[t,n]=D(()=>Fe.getEntityByDomain(e)?.attributes||null);return Y(()=>{const i=s=>{const o=s.detail?.entity_id;(o===`system.${e}`||o===`plugin.${e}`)&&n(s.detail.attributes)};return window.addEventListener("system-entity-updated",i),()=>{window.removeEventListener("system-entity-updated",i)}},[e]),t}const my=Uc(({device:e,viewMode:t="grid",onClick:n,index:i=0,lang:s="de",animationKey:o="",roomIndex:a=0,itemsPerRoom:l=[],isPanelAnimationComplete:c=!1})=>{const d=oe(null),[u,h]=D(48),f=GN(e.domain);Y(()=>{const A=()=>{const M=window.innerWidth;if(M>768){const C=getComputedStyle(document.documentElement).getPropertyValue("--device-grid-columns").trim();h(C==="5"?48:56)}else M>480?h(48):M>360?h(36):h(32)};A(),window.addEventListener("resize",A);const F=new MutationObserver(()=>{A()});return F.observe(document.documentElement,{attributes:!0,attributeFilter:["style"]}),()=>{window.removeEventListener("resize",A),F.disconnect()}},[]);const g=(()=>{let A=0;for(let F=0;F<a;F++)A+=l[F]||0;return A+i})(),m=o&&o.startsWith("expand-"),y=e.state==="Ein"||e.state==="ein"||e.state==="on"?!0:e.domain==="climate"?e.state!=="off"&&e.state!=="unavailable"&&e.state!=="unknown":e.domain==="cover"?e.state==="open"||e.state==="opening"||e.attributes?.current_position!==void 0&&e.attributes.current_position>0:(e.domain==="sensor"||e.domain==="binary_sensor")&&e.state&&e.state!=="unavailable"&&e.state!=="unknown"&&(!isNaN(parseFloat(e.state))||e.state==="on")?!0:e.isActive!==void 0?e.isActive:Hx(e),b=y?"active":"inactive",w=(m?.4:0)+(g<30?g*.08:0),S=()=>e.domain==="weather_device"&&e.attributes?.current_temperature!==void 0?`${Math.round(e.attributes.current_temperature)}`:e.domain==="weather"&&f?.current_temperature!==void 0?`${Math.round(f.current_temperature)}`:null,x=()=>{const A={de:{"clear-night":"Klare Nacht",cloudy:"Bewlkt",fog:"Nebel",hail:"Hagel",lightning:"Gewitter","lightning-rainy":"Gewitter",partlycloudy:"Teilweise bewlkt","partly-cloudy":"Teilweise bewlkt",pouring:"Starkregen",rainy:"Regnerisch",snowy:"Schneefall","snowy-rainy":"Schneeregen",sunny:"Sonnig",windy:"Windig","windy-variant":"Strmisch",exceptional:"Auergewhnlich"},en:{"clear-night":"Clear",cloudy:"Cloudy",fog:"Fog",hail:"Hail",lightning:"Lightning","lightning-rainy":"Thunderstorm",partlycloudy:"Partly cloudy","partly-cloudy":"Partly cloudy",pouring:"Pouring",rainy:"Rainy",snowy:"Snowy","snowy-rainy":"Sleet",sunny:"Sunny",windy:"Windy","windy-variant":"Stormy",exceptional:"Exceptional"}},F=A[s]||A.de;return e.domain==="weather_device"&&e.attributes?.current_condition?F[e.attributes.current_condition]||e.attributes.current_condition:e.domain==="weather"&&f?.current_condition?F[f.current_condition]||f.current_condition:null},k=()=>{if(e.domain==="news"&&f?.unread_count!==void 0){const A=f.unread_count;return s==="de"?A===1?"1 Neue Nachricht":`${A} Neue Nachrichten`:A===1?"1 New Article":`${A} New Articles`}return null},N=()=>{if(e.domain==="news"){if(f?.feed_count!==void 0){const A=f.feed_count;return s==="de"?A===1?"1 Feed":`${A} Feeds`:A===1?"1 Feed":`${A} Feeds`}return s==="de"?"Nachrichten":"News"}return null},L=()=>{if(e.domain==="todos"&&f?.incomplete_count!==void 0){const A=f.incomplete_count;return s==="de"?A===1?"1 Unerledigt":`${A} Unerledigt`:A===1?"1 Incomplete":`${A} Incomplete`}return null},_=()=>{if(e.domain==="todos"){if(f?.overdue_count!==void 0){const A=f.overdue_count;return s==="de"?A===1?"1 berfllig":`${A} berfllig`:A===1?"1 Overdue":`${A} Overdue`}return s==="de"?"Aufgaben":"Tasks"}return null},I=()=>null,T=()=>null,R=()=>{if(e.domain==="printer3d_device"){const A=e.attributes?.current_step;if(!A||A==="unavailable"||A==="unknown")return"Offline";const F={de:{idle:"Bereit",offline:"Offline",printing:"Druckt",paused:"Pausiert",preparing:"Vorbereitung",finishing:"Abschluss",error:"Fehler"},en:{idle:"Ready",offline:"Offline",printing:"Printing",paused:"Paused",preparing:"Preparing",finishing:"Finishing",error:"Error"}},M=F[s]||F.de,C=A.toLowerCase();for(const[X,q]of Object.entries(M))if(C.includes(X))return q;return A.charAt(0).toUpperCase()+A.slice(1)}return null},j=()=>e.is_system||Fe.isSystemEntity(e.domain)?"":e.domain==="sensor"&&!isNaN(parseFloat(e.state))?Wx(e.state,e.attributes?.device_class,e.attributes?.unit_of_measurement,s)||"":(e.domain==="binary_sensor"||e.domain==="sensor",Kh(e.state,e.domain,e.attributes?.device_class,s)),z=()=>{if(e.domain==="sensor"&&!isNaN(parseFloat(e.state))){const A=Ql(e.state,e.attributes,s);return r("div",{className:"sensor-value-display",children:[r("span",{className:"sensor-value",children:A.value}),A.unit&&r("span",{className:"sensor-unit",children:A.unit})]})}if(e.is_system||as(e.domain)){const A=Nc(e,u);if(A)return A}return fy(e,u)},B=()=>{n&&n(e)},V=()=>{if(e.is_system||as(e.domain)){const C=$N(e,t);if(C)return C}if(e.domain==="automation"||e.domain==="scene"||e.domain==="script")return a_;const A=t==="list"?s_:o_,F=t==="list"?1.02:1.05,M=t==="list"?.3:.25;return y?{...A,hover:{scale:F,backgroundColor:"#FFFFFF",transition:{duration:M,ease:[.4,0,.2,1]}}}:{...A,hover:{scale:F,backgroundColor:"rgba(255, 255, 255, 0.18)",transition:{duration:M,ease:[.4,0,.2,1]}}}};return t==="list"?r(jN,{device:e,isActive:y,cardRef:d,handleClick:B,getItemVariants:V,animateState:b,animationDelay:w,getDisplayState:j,getWeatherArea:S,getWeatherName:x,getNewsArea:k,getNewsName:N,getTodosArea:L,getTodosName:_,getPrinterArea:I,getPrinterName:T,getPrinterState:R,lang:s}):r(UN,{device:e,isActive:y,cardRef:d,handleClick:B,getItemVariants:V,animateState:b,animationDelay:w,renderSensorValue:z,getDisplayState:j,getWeatherArea:S,getWeatherName:x,getNewsArea:k,getNewsName:N,getTodosArea:L,getTodosName:_,getPrinterArea:I,getPrinterName:T,getPrinterState:R,lang:s})});my.displayName="DeviceCard";const KN=({searchValue:e,onSend:t,isLoading:n,onSuggestionClick:i,onSubmit:s,lang:o="de"})=>{const[a,l]=D([]),[c,d]=D(!1),u=oe(null);oe("");const h=oe(!1);Y(()=>{u.current&&!h.current&&u.current.scrollTo({top:0,behavior:"smooth"})},[a]),Y(()=>{s&&s>0&&e&&e.trim()&&f(e)},[s]);const f=v=>{if(!v||!v.trim()||c)return;const w={id:Date.now(),type:"user",content:v.trim(),timestamp:new Date().toISOString()};l(S=>[w,...S]),d(!0),setTimeout(()=>{const S={id:Date.now()+1,type:"assistant",content:p(v),badge:g(v),model:"GPT-4o mini",sources:v.toLowerCase().includes("wetter")?m():null,timestamp:new Date().toISOString()};l(x=>{const k=[...x];return k.splice(1,0,S),k}),d(!1)},1500)},p=v=>{const w=v.toLowerCase();return w.includes("licht")&&w.includes("aus")?"Ich habe alle Lichter im Wohnzimmer ausgeschaltet. Es waren 3 Lichter aktiv.":w.includes("wetter")?`Das aktuelle Wetter in Mnchen:
 Temperatur: 22C mit teilweise bewlkt
 Luftfeuchtigkeit: 65%
 Wind: 15 km/h aus Westen
 Regenwahrscheinlichkeit: 20%`:w.includes("heizung")?"Die Heizung wurde auf 22C eingestellt. Die nderung wird in den nchsten 5 Minuten wirksam.":w.includes("zeit")||w.includes("uhr")?`Es ist aktuell ${new Date().toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})} Uhr.`:`Ich habe deine Anfrage "${v}" verstanden und werde dir mit deinem Smart Home helfen.`},g=v=>{const w=v.toLowerCase();return w.includes("wetter")||w.includes("weather")?{type:"web",text:te("aiMode.badges.webSearch",o),icon:""}:w.includes("zeit")||w.includes("uhr")||w.includes("time")?{type:"location",text:te("aiMode.badges.location",o),icon:""}:w.includes("licht")||w.includes("heizung")||w.includes("light")||w.includes("temperature")?{type:"device",text:te("aiMode.badges.deviceControl",o),icon:""}:{type:"assistant",text:te("aiMode.badges.assistant",o),icon:""}},m=()=>[{name:"weather.com",url:"#"},{name:"wetter.de",url:"#"},{name:"dwd.de",url:"#"}],y=(v,w)=>{console.log(`Feedback fr Nachricht ${v}: ${w?"Positiv":"Negativ"}`)},b=[te("aiMode.suggestions.lightsOff",o),te("aiMode.suggestions.weather",o),te("aiMode.suggestions.temperature",o)];return r("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"0 0 35px 35px",display:"flex",flexDirection:"column",overflow:"hidden"},children:[r("style",{children:`
        .ai-chat-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .ai-chat-scrollbar::-webkit-scrollbar-track {
          background: rgba(255, 255, 255, 0.05);
          border-radius: 3px;
        }
        .ai-chat-scrollbar::-webkit-scrollbar-thumb {
          background: rgba(255, 255, 255, 0.2);
          border-radius: 3px;
        }
        .ai-chat-scrollbar::-webkit-scrollbar-thumb:hover {
          background: rgba(255, 255, 255, 0.3);
        }
        
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes pulse {
          0%, 60%, 100% {
            opacity: 0.5;
            transform: scale(0.8);
          }
          30% {
            opacity: 1;
            transform: scale(1.2);
          }
        }
      `}),a.length===0?r("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px 20px",animation:"fadeIn 0.3s ease"},children:[r("h2",{style:{fontSize:"48px",fontWeight:"600",color:"rgba(255, 255, 255, 0.95)",marginBottom:"16px",letterSpacing:"-1px"},children:te("aiMode.askAnything",o)}),r("p",{style:{fontSize:"18px",color:"rgba(255, 255, 255, 0.5)",marginBottom:"48px"},children:te("aiMode.subtitle",o)}),r("div",{style:{display:"flex",gap:"20px",marginBottom:"48px"},children:[{bg:"linear-gradient(135deg, #03A9F4, #00BCD4)",icon:""},{bg:"linear-gradient(135deg, #10a37f, #1a9870)",icon:""},{bg:"linear-gradient(135deg, #FF6B6B, #FF8E53)",icon:""}].map((v,w)=>r("div",{style:{width:"72px",height:"72px",borderRadius:"18px",background:v.bg,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"32px",cursor:"pointer",transition:"transform 0.2s ease",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},onMouseEnter:S=>S.currentTarget.style.transform="scale(1.1)",onMouseLeave:S=>S.currentTarget.style.transform="scale(1)",children:v.icon},w))}),r("div",{style:{display:"flex",flexDirection:"column",gap:"12px",width:"100%",maxWidth:"450px"},children:b.map((v,w)=>r("button",{onClick:()=>i&&i(v),style:{padding:"16px 24px",background:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.15)",borderRadius:"12px",color:"rgba(255, 255, 255, 0.85)",fontSize:"15px",cursor:"pointer",transition:"all 0.2s ease",textAlign:"left"},onMouseEnter:S=>{S.currentTarget.style.background="rgba(255, 255, 255, 0.12)",S.currentTarget.style.borderColor="rgba(255, 255, 255, 0.25)",S.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:S=>{S.currentTarget.style.background="rgba(255, 255, 255, 0.08)",S.currentTarget.style.borderColor="rgba(255, 255, 255, 0.15)",S.currentTarget.style.transform="translateY(0)"},children:v},w))})]}):r("div",{ref:u,className:"ai-chat-scrollbar",style:{flex:1,overflowY:"auto",padding:"24px",display:"flex",flexDirection:"column",gap:"24px"},children:[c&&r("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"16px",animation:"fadeIn 0.3s ease"},children:[r("div",{style:{display:"flex",gap:"4px"},children:[0,1,2].map(v=>r("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"rgba(0, 122, 255, 0.6)",animation:"pulse 1.4s ease-in-out infinite",animationDelay:`${v*.2}s`}},v))}),r("span",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"14px"},children:te("aiMode.thinking",o)})]}),a.map(v=>{if(v.type==="user")return r("div",{style:{background:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"14px 18px",color:"rgba(255, 255, 255, 0.7)",fontSize:"15px",lineHeight:"1.5",animation:"fadeIn 0.3s ease"},children:v.content},v.id);if(v.type==="assistant"){const w={web:{bg:"rgba(255, 59, 48, 0.15)",color:"#FF3B30"},location:{bg:"rgba(255, 59, 48, 0.15)",color:"#FF3B30"},device:{bg:"rgba(52, 199, 89, 0.15)",color:"#34C759"},assistant:{bg:"rgba(0, 122, 255, 0.15)",color:"#007AFF"}},S=w[v.badge.type]||w.assistant;return r("div",{style:{display:"flex",flexDirection:"column",gap:"12px",animation:"fadeIn 0.3s ease"},children:[r("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 12px",borderRadius:"8px",fontSize:"13px",fontWeight:"500",background:S.bg,color:S.color},children:[r("span",{children:v.badge.icon}),r("span",{children:v.badge.text})]}),r("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"rgba(52, 199, 89, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",color:"#34C759",fontSize:"14px"},children:""})]}),r("div",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"15px",lineHeight:"1.6",whiteSpace:"pre-wrap"},children:v.content}),v.sources&&r("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",paddingTop:"12px",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:v.sources.map((x,k)=>r("a",{href:x.url,style:{display:"flex",alignItems:"center",gap:"6px",padding:"4px 10px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"6px",fontSize:"13px",color:"rgba(255, 255, 255, 0.6)",textDecoration:"none"},children:[r("span",{style:{fontSize:"12px"},children:""}),r("span",{children:x.name}),r("span",{style:{fontSize:"10px",color:"rgba(255, 255, 255, 0.4)"},children:k+1})]},k))}),r("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:"12px",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[r("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px",color:"rgba(255, 255, 255, 0.4)"},children:[r("span",{style:{opacity:.7},children:""}),r("span",{children:v.model})]}),r("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[r("span",{style:{fontSize:"13px",color:"rgba(255, 255, 255, 0.5)"},children:te("aiMode.wasHelpful",o)}),r("button",{onClick:()=>y(v.id,!1),style:{padding:"4px 10px",background:"transparent",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",color:"rgba(255, 255, 255, 0.6)",fontSize:"13px",cursor:"pointer"},onMouseEnter:x=>{x.currentTarget.style.borderColor="rgba(255, 59, 48, 0.5)",x.currentTarget.style.color="#FF3B30"},onMouseLeave:x=>{x.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)",x.currentTarget.style.color="rgba(255, 255, 255, 0.6)"},children:te("aiMode.no",o)}),r("button",{onClick:()=>y(v.id,!0),style:{padding:"4px 10px",background:"transparent",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",color:"rgba(255, 255, 255, 0.6)",fontSize:"13px",cursor:"pointer"},onMouseEnter:x=>{x.currentTarget.style.borderColor="rgba(52, 199, 89, 0.5)",x.currentTarget.style.color="#34C759"},onMouseLeave:x=>{x.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)",x.currentTarget.style.color="rgba(255, 255, 255, 0.6)"},children:te("aiMode.yes",o)})]})]})]},v.id)}return null})]})]})},f0={devices:()=>r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[r("rect",{x:"3",y:"3",width:"7",height:"7"}),r("rect",{x:"14",y:"3",width:"7",height:"7"}),r("rect",{x:"14",y:"14",width:"7",height:"7"}),r("rect",{x:"3",y:"14",width:"7",height:"7"})]}),sensors:()=>r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[r("path",{d:"M12 22L12 2",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M20.5715 17.5498L3.42819 7.24904",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M3.42822 17.5498L20.5716 7.24904",strokeLinecap:"round",strokeLinejoin:"round"})]}),actions:()=>r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[r("path",{d:"M4.40434 13.6099C3.51517 13.1448 3 12.5924 3 12C3 10.3431 7.02944 9 12 9C16.9706 9 21 10.3431 21 12C21 12.7144 20.2508 13.3705 19 13.8858"}),r("path",{d:"M12 11.01L12.01 10.9989"}),r("path",{d:"M16.8827 6C16.878 4.97702 16.6199 4.25309 16.0856 3.98084C14.6093 3.22864 11.5832 6.20912 9.32664 10.6379C7.07005 15.0667 6.43747 19.2668 7.91374 20.019C8.44117 20.2877 9.16642 20.08 9.98372 19.5"}),r("path",{d:"M9.60092 4.25164C8.94056 3.86579 8.35719 3.75489 7.91369 3.98086C6.43742 4.73306 7.06999 8.93309 9.32658 13.3619C11.5832 17.7907 14.6092 20.7712 16.0855 20.019C17.3977 19.3504 17.0438 15.9577 15.3641 12.1016"})]}),custom:()=>r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[r("path",{d:"M21 7.35304L21 16.647C21 16.8649 20.8819 17.0656 20.6914 17.1715L12.2914 21.8381C12.1102 21.9388 11.8898 21.9388 11.7086 21.8381L3.30861 17.1715C3.11814 17.0656 3 16.8649 3 16.647L2.99998 7.35304C2.99998 7.13514 3.11812 6.93437 3.3086 6.82855L11.7086 2.16188C11.8898 2.06121 12.1102 2.06121 12.2914 2.16188L20.6914 6.82855C20.8818 6.93437 21 7.13514 21 7.35304Z"}),r("path",{d:"M20.5 16.7222L12.2914 12.1619C12.1102 12.0612 11.8898 12.0612 11.7086 12.1619L3.5 16.7222"}),r("path",{d:"M3.52844 7.29357L11.7086 11.8381C11.8898 11.9388 12.1102 11.9388 12.2914 11.8381L20.5 7.27777"}),r("path",{d:"M12 21L12 3"})]})},qN=({searchValue:e,fuzzyResults:t,devices:n,activeCategory:i,selectedSubcategory:s,activeSubFilter:o,favorites:a,predictiveSuggestions:l})=>{const c=hn(n);if(e&&e.trim()!=="")return hn(t||[]);if(s==="favorites"){const d=new Set(a);return c.filter(u=>d.has(u.entity_id))}return s==="suggestions"?hn(l?.slice(0,12)||[]):c.filter(d=>{const u=i==="all";if(i==="devices"){if((d.is_system||["settings","pluginstore"].includes(d.domain))&&d.category!=="devices"||["script","automation","scene"].includes(d.domain))return!1;const h=d.domain==="binary_sensor"&&["door","window","opening","lock"].some(y=>d.attributes?.device_class?.includes(y)||d.entity_id?.includes(y)),f=d.domain==="binary_sensor"&&["motion","presence","occupancy"].some(y=>d.attributes?.device_class?.includes(y)||d.entity_id?.includes(y));if(["sensor","binary_sensor"].includes(d.domain)&&!(s==="security"&&(h||f)))return!1;if(s==="all"||!s)return!0;const p={light:"lights",switch:"switches",climate:"climate",fan:"climate",cover:"covers",media_player:"media",vacuum:"cleaning",washing_machine:"cleaning",dishwasher:"cleaning",air_purifier:"cleaning",camera:"security",lock:"security",siren:"security",alert:"security",alarm_control_panel:"security",valve:"utilities",printer3d_device:"utilities"};if(!["lights","switches","climate","covers","media","cleaning","security","utilities"].includes(s))return d.area===s;if(s==="security")return p[d.domain]==="security"||h||f;const m=p[d.domain];return s===m}else if(i==="sensors"){if(!["sensor","binary_sensor"].includes(d.domain)&&d.category!=="sensors"&&d.attributes?.category!=="sensors")return!1;if(s==="all"||!s)return!0;const h=Jl(d);return["temperature","humidity","motion","door_window","presence","light","energy","battery","pressure","security","water","other_sensors"].includes(s)?h===s:d.area===s}else if(i==="actions"){if(!["script","automation","scene"].includes(d.domain))return!1;if(s==="all"||!s)return!0;const h={script:"scripts",automation:"automations",scene:"scenes"};if(!["scripts","automations","scenes"].includes(s))return d.area===s;const p=h[d.domain];return s===p}else if(i==="custom")return d.is_system||["settings","pluginstore"].includes(d.domain)?s==="all"||!s?!0:s==="system"?d.attributes?.category==="system"||d.category==="system":s==="apps"?d.domain==="pluginstore"||d.entity_id?.includes("pluginstore")||d.entity_id?.includes("plugin_")||d.attributes?.category==="apps"||d.category==="apps"||d.attributes?.subcategory==="apps"||d.subcategory==="apps":!1:!1;return u})},YN=({searchValue:e,fuzzyResults:t,currentLanguage:n})=>{if(!e||!t||t.length===0)return null;const i=hn(t),s={},o=te("general.noRoom",n);return i.forEach(l=>{const c=l.area||o;s[c]||(s[c]=[]),s[c].push(l)}),{rooms:Object.keys(s).sort((l,c)=>l===o?1:c===o?-1:l.localeCompare(c,"de")),devicesByRoom:s}},ZN=({searchValue:e,filteredDevices:t,selectedSubcategory:n,currentLanguage:i,favorites:s,predictiveSuggestions:o})=>{if(e&&e.trim()!=="")return null;if(n==="suggestions"){const u=hn(o||[]),h={},f={frequentlyUsed:te("suggestions.frequentlyUsed",i),contextBased:te("suggestions.contextBased",i),timeBased:te("suggestions.timeBased",i),areaBased:te("suggestions.areaBased",i)};return u.forEach(m=>{const y=m.suggestionType||"frequentlyUsed",b=f[y]||f.frequentlyUsed;h[b]||(h[b]=[]),h[b].push(m)}),{rooms:[f.timeBased,f.contextBased,f.areaBased,f.frequentlyUsed].filter(m=>h[m]),devicesByRoom:h}}if(n==="favorites"){const u=hn(t),h={[te("categories.devices",i)||"Gerte"]:[],[te("categories.sensors",i)||"Sensoren"]:[],[te("categories.actions",i)||"Aktionen"]:[],[te("categories.custom",i)||"Benutzerdefiniert"]:[]};return u.forEach(p=>{p.is_system||["settings","pluginstore"].includes(p.domain)?h[te("categories.custom",i)||"Benutzerdefiniert"].push(p):["script","automation","scene"].includes(p.domain)?h[te("categories.actions",i)||"Aktionen"].push(p):["sensor","binary_sensor"].includes(p.domain)?h[te("categories.sensors",i)||"Sensoren"].push(p):h[te("categories.devices",i)||"Gerte"].push(p)}),{rooms:Object.keys(h).filter(p=>h[p].length>0),devicesByRoom:h}}const a=hn(t),l={},c=te("general.noRoom",i);return a.forEach(u=>{const h=u.area||c;l[h]||(l[h]=[]),l[h].push(u)}),{rooms:Object.keys(l).sort((u,h)=>u===c?1:h===c?-1:u.localeCompare(h,"de")),devicesByRoom:l}},XN=({aiMode:e,showCategories:t,hoveredCategory:n,activeCategory:i,currentLanguage:s})=>e?s==="en"?"Ask a follow-up question...":s==="fr"?"Posez une question de suivi...":s==="es"?"Haz una pregunta de seguimiento...":"Stelle eine Folgefrage...":t&&n?te(`placeholders.search${n.charAt(0).toUpperCase()+n.slice(1)}`,s).replace("...",""):te(`placeholders.search${i.charAt(0).toUpperCase()+i.slice(1)}`,s).replace("...",""),JN=e=>{const{setSearchValue:t,setFuzzySearchTerm:n,aiMode:i,devices:s,setSuggestionText:o,isExpanded:a,setIsExpanded:l,setAnimationKey:c}=e;return d=>{const u=d.target.value;if(t(u),n(u),u.length>=1&&!i){const h=u.toLowerCase(),f=s.filter(p=>(p.name||p.attributes?.friendly_name||p.entity_id||p.id||"").toLowerCase().includes(h));if(f.sort((p,g)=>{const m=(p.name||p.attributes?.friendly_name||"").toLowerCase(),y=(g.name||g.attributes?.friendly_name||"").toLowerCase(),b=m.startsWith(h),v=y.startsWith(h);if(b&&!v)return-1;if(!b&&v)return 1;const w=m.indexOf(h),S=y.indexOf(h);return w!==S?w-S:m.length-y.length}),f.length>0){const p=f[0],g=p.name||p.attributes?.friendly_name||p.entity_id||p.id||"",m=g.toLowerCase(),y=m.indexOf(h);y!==-1?(y===0||m[y-1]===" "||m[y-1]==="_"||m[y-1],o(g)):o("")}else o("");a||(l(!0),c(`expand-${Date.now()}`))}else o("")}},QN=e=>{const{searchValue:t,setAiMode:n,setSuggestionText:i,setIsExpanded:s,setAnimationKey:o,suggestionText:a,setSearchValue:l,setFuzzySearchTerm:c,aiMode:d,setAiSubmitTrigger:u,setAiResponse:h,setIsAiLoading:f}=e;return p=>{if((p.key==="a"||p.key==="A")&&p.altKey&&t){p.preventDefault(),n(!0),i(""),s(!0),o(`back-${Date.now()}`);return}if(p.key==="Tab"&&t){p.preventDefault(),p.stopPropagation(),a&&a.toLowerCase().startsWith(t.toLowerCase())?(l(a),c(a),i("")):d||(n(!0),i(""),s(!0),o(`back-${Date.now()}`));return}else p.key==="ArrowRight"&&a&&t&&!d?a.toLowerCase().startsWith(t.toLowerCase())&&(p.preventDefault(),l(a),c(a),i("")):p.key==="Enter"&&d?(p.preventDefault(),t.trim()&&(u(g=>g+1),setTimeout(()=>{l(""),i(""),c("")},100))):p.key==="Enter"&&!d?(p.preventDefault(),t.trim()&&(n(!0),i(""),s(!0),o(`back-${Date.now()}`),setTimeout(()=>{u(g=>g+1)},100),setTimeout(()=>{l(""),c("")},150))):p.key==="Escape"&&(d?(n(!1),h(""),f(!1)):(l(""),i("")))}},eL=e=>{const{aiMode:t,isExpanded:n,setIsExpanded:i,setAnimationKey:s,setShowCategories:o,searchPanelRef:a}=e;return l=>{t||(l&&(l.stopPropagation(),l.preventDefault()),n||(i(!0),s(`expand-${Date.now()}`),a.current&&(a.current.dataset.animating="true",a.current.dataset.openTime=Date.now().toString())),o(!1))}},tL=e=>{const{setSearchValue:t,setSuggestionText:n,setFuzzySearchTerm:i,aiMode:s,setAiMode:o,setAiResponse:a,setIsAiLoading:l}=e;return()=>{t(""),n(""),i(""),s||(o(!1),a(""),l(!1))}},nL=e=>{const{setIsExpanded:t,setShowCategories:n,showCategories:i,setIsCategoryHovered:s}=e;return()=>{t(!1),n(!i),s(!1)}},iL=e=>{const{activeCategory:t,setShowCategories:n,subcategoryPerCategory:i,setSelectedSubcategory:s,setActiveCategory:o,setIsExpanded:a,setAnimationKey:l}=e;return c=>{if(c===t){n(!1);return}const d=i[c]||"all";s(d),o(c),n(!1),a(!0),l(`category-${c}-${Date.now()}`)}},rL=e=>{const{setIsFilterOpen:t,isFilterOpen:n}=e;return()=>{t(!n)}},sL=e=>{const{setSelectedSubcategory:t,setSubcategoryPerCategory:n,activeCategory:i,setAnimationKey:s}=e;return o=>{t(o),n(a=>({...a,[i]:o})),s(`${i}-${o}-${Date.now()}`)}},oL=(e={})=>{const[t,n]=D(!1),[i,s]=D(!1),[o,a]=D(""),[l,c]=D(!1),[d,u]=D("devices"),[h,f]=D(!1),[p,g]=D("grid"),[m,y]=D("categories"),[b,v]=D("all"),[w,S]=D({devices:"all",sensors:"all",actions:"all"}),[x,k]=D(!1),[N,L]=D(!1),[_,I]=D(null);D(null);const T=oe(null),R=oe(null),j=oe(null),z=oe(!1),B=oe(!1),V=oe(!1),A=oe(!1),[F,M]=D(""),[C,X]=D(null),[q,E]=D(!1),[ee,ue]=D(!1),[K,Q]=D(""),[ie,se]=D(!1),[xe,we]=D(0),[_e,H]=D("entity"),[U,J]=D(!1),[re,ae]=D(e.aiModeEnabled!==!1),[be,fe]=D(""),[G,O]=D(e.language||localStorage.getItem("userLanguage")||"de");return{isExpanded:t,setIsExpanded:n,isPanelAnimationComplete:i,setIsPanelAnimationComplete:s,searchValue:o,setSearchValue:a,isFilterOpen:l,setIsFilterOpen:c,activeCategory:d,setActiveCategory:u,showCategories:h,setShowCategories:f,activeFilter:p,setActiveFilter:g,activeSubFilter:m,setActiveSubFilter:y,selectedSubcategory:b,setSelectedSubcategory:v,subcategoryPerCategory:w,setSubcategoryPerCategory:S,isMobile:x,setIsMobile:k,showDetail:N,setShowDetail:L,selectedDevice:_,setSelectedDevice:I,containerRef:T,searchPanelRef:R,resultsRef:j,detailViewClosingRef:z,backButtonClickedRef:B,isExpandedRef:V,showDetailRef:A,suggestionText:F,setSuggestionText:M,hoveredCategory:C,setHoveredCategory:X,isCategoryHovered:q,setIsCategoryHovered:E,aiMode:ee,setAiMode:ue,aiResponse:K,setAiResponse:Q,isAiLoading:ie,setIsAiLoading:se,aiSubmitTrigger:xe,setAiSubmitTrigger:we,searchMode:_e,setSearchMode:H,showAIInterface:U,setShowAIInterface:J,aiModeEnabled:re,setAiModeEnabled:ae,animationKey:be,setAnimationKey:fe,currentLanguage:G,setCurrentLanguage:O}},p0=()=>r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r("path",{d:"M7 14C5.34315 14 4 15.3431 4 17C4 18.6569 5.34315 20 7 20C7.35064 20 7.68722 19.9398 8 19.8293"}),r("path",{d:"M4.26392 15.6046C2.9243 14.9582 2.00004 13.587 2.00004 12C2.00004 10.7883 2.53877 9.70251 3.38978 8.96898"}),r("path",{d:"M3.42053 8.8882C3.1549 8.49109 3 8.01363 3 7.5C3 6.11929 4.11929 5 5.5 5C6.06291 5 6.58237 5.18604 7.00024 5.5"}),r("path",{d:"M7.23769 5.56533C7.08524 5.24215 7 4.88103 7 4.5C7 3.11929 8.11929 2 9.5 2C10.8807 2 12 3.11929 12 4.5V20"}),r("path",{d:"M8 20C8 21.1046 8.89543 22 10 22C11.1046 22 12 21.1046 12 20"}),r("path",{d:"M12 7C12 8.65685 13.3431 10 15 10"}),r("path",{d:"M17 14C18.6569 14 20 15.3431 20 17C20 18.6569 18.6569 20 17 20C16.6494 20 16.3128 19.9398 16 19.8293"}),r("path",{d:"M19.7361 15.6046C21.0757 14.9582 22 13.587 22 12C22 10.7883 21.4612 9.70251 20.6102 8.96898"}),r("path",{d:"M20.5795 8.8882C20.8451 8.49109 21 8.01363 21 7.5C21 6.11929 19.8807 5 18.5 5C17.9371 5 17.4176 5.18604 16.9998 5.5"}),r("path",{d:"M12 4.5C12 3.11929 13.1193 2 14.5 2C15.8807 2 17 3.11929 17 4.5C17 4.88103 16.9148 5.24215 16.7623 5.56533"}),r("path",{d:"M16 20C16 21.1046 15.1046 22 14 22C12.8954 22 12 21.1046 12 20"})]}),m0=({className:e})=>r("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:r("path",{d:"M15 6L9 12L15 18",strokeLinecap:"round",strokeLinejoin:"round"})}),aL=()=>r("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"rgba(255, 255, 255, 0.7)",strokeWidth:"2",children:[r("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),lL=()=>r("svg",{viewBox:"0 0 24 24",children:[r("rect",{x:"5",y:"5",width:"5",height:"5"}),r("rect",{x:"14",y:"5",width:"5",height:"5"}),r("rect",{x:"5",y:"14",width:"5",height:"5"}),r("rect",{x:"14",y:"14",width:"5",height:"5"})]}),cL=()=>r("svg",{viewBox:"0 0 24 24",children:[r("path",{d:"M8 6L20 6",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M4 6.01L4.01 5.99889",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M4 12.01L4.01 11.9989",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M4 18.01L4.01 17.9989",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M8 12L20 12",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M8 18L20 18",strokeLinecap:"round",strokeLinejoin:"round"})]}),dL=()=>r("svg",{viewBox:"0 0 24 24",children:r("path",{d:"M20.777 13.3453L13.4799 21.3721C12.6864 22.245 11.3136 22.245 10.5201 21.3721L3.22304 13.3453C2.52955 12.5825 2.52955 11.4175 3.22304 10.6547L10.5201 2.62787C11.3136 1.755 12.6864 1.755 13.4799 2.62787L20.777 10.6547C21.4705 11.4175 21.4705 12.5825 20.777 13.3453Z",strokeLinecap:"round",strokeLinejoin:"round"})}),uL=()=>r("svg",{viewBox:"0 0 24 24",children:[r("path",{d:"M10 18V15C10 13.8954 10.8954 13 12 13V13C13.1046 13 14 13.8954 14 15V18","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M2 8L11.7317 3.13416C11.9006 3.04971 12.0994 3.0497 12.2683 3.13416L22 8","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M20 11V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19V11","stroke-linecap":"round","stroke-linejoin":"round"})]}),hL=()=>r("svg",{viewBox:"0 0 24 24",children:[r("path",{d:"M3 13C6.6 5 17.4 5 21 13","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M12 17C10.3431 17 9 15.6569 9 14C9 12.3431 10.3431 11 12 11C13.6569 11 15 12.3431 15 14C15 15.6569 13.6569 17 12 17Z","stroke-linecap":"round","stroke-linejoin":"round"})]}),fL=()=>r("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"rgba(255, 255, 255, 0.8)",strokeWidth:"1.5",children:[r("path",{d:"M3 6H21",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M7 12L17 12",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M11 18L13 18",strokeLinecap:"round",strokeLinejoin:"round"})]}),pL=({isFilterOpen:e,activeFilter:t,activeSubFilter:n,setActiveFilter:i,setActiveSubFilter:s,handleFilterToggle:o,currentLanguage:a="de"})=>r("div",{className:"filter-container",children:[r(Te,{children:e&&r(P.div,{className:"filter-groups",variants:Xx,initial:"initial",animate:"animate",exit:"exit",children:[r(P.div,{className:"filter-group",variants:Ts,initial:"initial",animate:Ts.animate(.1),exit:"exit",children:[r(P.button,{className:`filter-button ${t==="grid"?"active":""}`,onClick:()=>i("grid"),title:te("tooltips.gridView",a)||"Kachelansicht",whileHover:en.hover,whileTap:en.tap,animate:t==="grid"?"active":"inactive",variants:tr,children:r(lL,{})}),r(P.button,{className:`filter-button ${t==="list"?"active":""}`,onClick:()=>i("list"),title:te("tooltips.listView",a)||"Listenansicht",whileHover:en.hover,whileTap:en.tap,animate:t==="list"?"active":"inactive",variants:tr,children:r(cL,{})})]}),r(P.div,{className:"filter-group",variants:Ts,initial:"initial",animate:Ts.animate(.2),exit:"exit",children:[r(P.button,{className:`filter-button ${n==="categories"?"active":""}`,onClick:()=>s("categories"),title:te("tooltips.filterCategories",a)||"Nach Kategorien filtern",whileHover:en.hover,whileTap:en.tap,animate:n==="categories"?"active":"inactive",variants:tr,children:r(dL,{})}),r(P.button,{className:`filter-button ${n==="areas"?"active":""}`,onClick:()=>s("areas"),title:te("tooltips.filterAreas",a)||"Nach Rumen filtern",whileHover:en.hover,whileTap:en.tap,animate:n==="areas"?"active":"inactive",variants:tr,children:r(uL,{})}),r(P.button,{className:`filter-button ${n==="types"?"active":""}`,onClick:()=>s("types"),title:te("tooltips.filterTypes",a)||"Nach Typen filtern",whileHover:en.hover,whileTap:en.tap,animate:n==="types"?"active":"inactive",variants:tr,children:r(hL,{})})]})]})}),r(P.button,{className:`filter-main-button${e?" active":""}`,variants:Gx,initial:"inactive",animate:e?"active":"inactive",onClick:o,whileHover:"hover",whileTap:"tap",title:te("tooltips.toggleFilter",a)||"Filter ffnen/schlieen",children:r(fL,{})})]}),g0=({groupedData:e,isEmpty:t=!1,searchValue:n="",activeFilter:i,setSelectedDevice:s,setShowDetail:o,isExpanded:a,setIsExpanded:l,setAnimationKey:c,recordUserAction:d,currentLanguage:u,animationKey:h,isPanelAnimationComplete:f})=>{if(t)return r("div",{className:"grouped-search-results",children:r("div",{className:"empty-state",children:[r("div",{style:{fontSize:"32px",opacity:.5},children:""}),r("h3",{style:{fontSize:"16px",fontWeight:600,color:"var(--text-primary)",margin:0},children:te("search.noResults",u,{term:n})}),r("p",{style:{fontSize:"13px",opacity:.7,margin:0},children:te("search.tryDifferent",u)})]})});if(!e||!e.rooms)return null;const p=(g,m)=>{let y=null;if(m&&m.currentTarget){const b=m.currentTarget.getBoundingClientRect();y={top:b.top,left:b.left,width:b.width,height:b.height,centerX:b.left+b.width/2,centerY:b.top+b.height/2},console.log(" Card position captured:",y)}s({...g,_cardPosition:y}),o(!0),a||(l(!0),c(`back-${Date.now()}`)),d&&typeof d=="function"&&d("device_click",g.entity_id||g.id)};return r("div",{className:"grouped-search-results",children:e.rooms.map((g,m)=>{const y=e.devicesByRoom[g],b=e.rooms.map(v=>e.devicesByRoom[v].length);return r("div",{className:"search-group",children:[r("h3",{className:"search-group-title",children:g}),r("div",{className:`${i==="list"?"device-list-container":"device-grid-container"}`,children:y.map((v,w)=>r(my,{device:v,viewMode:i,onClick:S=>p(v,S),index:w,lang:u,animationKey:h,roomIndex:m,itemsPerRoom:b,isPanelAnimationComplete:f},v.id))})]},g)})})},mL=({aiMode:e,searchValue:t,suggestionText:n,showCategories:i,hoveredCategory:s,activeCategory:o,currentLanguage:a,isExpanded:l,isFilterOpen:c,aiModeEnabled:d,categoryIcons:u,setAiMode:h,setAiResponse:f,setIsAiLoading:p,setIsExpanded:g,setIsCategoryHovered:m,setSuggestionText:y,setAnimationKey:b,handleSearchInput:v,handleKeyDown:w,handleSearchFocus:S,handleClear:x,handleCategoryClick:k})=>{const N=T=>{h(!1),f(""),p(!1),g(!1),m(!1),setTimeout(()=>{m(!1)},10)},L=T=>{k(),m(!1),setTimeout(()=>{m(!1)},10)},_=T=>{T.stopPropagation(),console.log(" AI-Mode Button clicked"),g(!0),h(!0),y(""),b(`ai-mode-${Date.now()}`)},I=T=>{T.stopPropagation(),T.preventDefault(),!l&&!e&&(g(!0),b(`expand-${Date.now()}`))};return r(ke,{children:[r("div",{className:`category-icon ${e?"ai-active":""}`,onClick:e?N:L,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),title:e?"AI-Modus beenden":"",children:e?r(ke,{children:[r("div",{className:"default-icon",children:r(p0,{})}),r(m0,{className:"chevron-icon"})]}):r(ke,{children:[r("div",{className:"default-icon",children:i&&s?u[s]():u[o]()}),r(m0,{className:"chevron-icon"})]})}),r("div",{className:"search-input-container",children:[r("input",{type:"text",className:"search-suggestion",value:n,readOnly:!0,tabIndex:"-1","aria-hidden":"true"}),r("input",{type:"text",className:"search-input",placeholder:XN({aiMode:e,showCategories:i,hoveredCategory:s,activeCategory:o,currentLanguage:a}),value:t,onChange:v,onKeyDown:w,onFocus:S,onClick:I})]}),r(Te,{children:t&&r(P.button,{className:"clear-button",onClick:x,variants:Es,initial:"initial",animate:{...Es.animate,x:c?-260:0},exit:"exit",whileHover:Xh.hover,whileTap:Xh.tap,children:r(aL,{})})}),r(Te,{children:t&&!e&&d&&r(P.button,{className:"ai-mode-button",onClick:_,title:"AI-Modus aktivieren",variants:Es,initial:"initial",animate:{...Es.animate,x:c?-260:0},exit:"exit",whileHover:Yh.hover,whileTap:Yh.tap,children:r(p0,{})})})]})},gL=({handleGenerateTestData:e,predictiveSuggestions:t})=>window.location.hostname!=="localhost"?null:r("div",{style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9999,display:"flex",gap:"10px",flexDirection:"column",alignItems:"flex-end"},children:[r("button",{onClick:e,style:{padding:"10px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"20px",cursor:"pointer",fontSize:"14px",fontWeight:"600",boxShadow:"0 4px 15px rgba(0,0,0,0.2)"},children:" Generate Test Patterns"}),r("div",{style:{padding:"10px",background:"rgba(0,0,0,0.8)",color:"white",borderRadius:"10px",fontSize:"12px"},children:[r("div",{children:["Predictive Suggestions: ",t.length]}),r("div",{style:{fontSize:"10px",opacity:.7},children:"Refresh in 5min or click button"})]})]}),yL=({showCategories:e,categoryIcons:t,activeCategory:n,handleCategorySelect:i,setHoveredCategory:s})=>r(Te,{children:e&&r(P.div,{className:"category-buttons-container",variants:Jx,initial:"hidden",animate:"visible",exit:"hidden",children:r("div",{className:"category-buttons",children:Object.entries(t).map(([o,a])=>{const l=n===o;return r(P.button,{className:`category-button glass-panel ${l?"active":""}`,onClick:()=>i(o),onMouseEnter:()=>s(o),onMouseLeave:()=>s(null),title:o.charAt(0).toUpperCase()+o.slice(1),variants:Kx,whileHover:l?{}:Zh.hover,whileTap:Zh.tap,animate:qx(l),style:{color:l?"rgba(0, 0, 0, 0.85)":"rgba(255, 255, 255, 0.9)"},children:a()},o)})})})}),vL=({aiMode:e,isExpanded:t,centralPanelVariants:n,searchValue:i,sendToAI:s,aiResponse:o,isAiLoading:a,handleAISuggestionClick:l,searchPanelRef:c,aiSubmitTrigger:d,currentLanguage:u})=>{const h={collapsed:{height:0,opacity:0,transition:{duration:.4,ease:[.16,1,.3,1]}},expanded:{height:600,opacity:1,transition:{duration:.4,ease:[.16,1,.3,1]}}};return r(Te,{children:e&&r(P.div,{initial:"collapsed",animate:"expanded",exit:"collapsed",variants:h,style:{position:"absolute",top:"72px",left:0,right:0,zIndex:1e3,pointerEvents:"auto",overflow:"hidden"},children:r(KN,{searchValue:i,onSend:s,response:o,isLoading:a,onSuggestionClick:l,containerBounds:c.current?c.current.getBoundingClientRect():null,onSubmit:d,lang:u})})})},bL=({showDetail:e,selectedDevice:t,setShowDetail:n,setAnimationKey:i,toggleFavorite:s,recordUserAction:o,favorites:a,currentLanguage:l,initialTab:c,devices:d,setSelectedDevice:u,setInitialTab:h,hass:f,isMobile:p,position:g,hasAppeared:m,statsBarEnabled:y})=>{const[b,v]=D(!1);Y(()=>{e&&v(!0)},[e]);const w=()=>{v(!1),setTimeout(()=>{n(!1),i(`back-${Date.now()}`)},400)},S=_=>{s(_),o("toggle_favorite",_)},x=async(_,I,T)=>{if(!f)return console.warn("Home Assistant not available"),Promise.reject("Home Assistant not available");try{const R=await _1(f,_,I,T);return console.log(`Service call successful: ${_}.${I}`,T),R}catch(R){throw console.error(`Service call failed: ${_}.${I}`,R),R}},k=(_,I)=>{console.log("[SearchField] onActionNavigate received:",_,"Params:",I);let T=null;if(typeof _=="string"){if(console.log(`[SearchField] Finding device by ID: ${_}`),T=d.find(j=>j.entity_id===_||j.id===_),!T){console.error(`[SearchField] Could not find device with ID: ${_}`);return}}else typeof _=="object"&&_!==null&&(console.log("[SearchField] Received device/action object:",_),_.type&&["scene","script","automation"].includes(_.type)?T={id:_.id,entity_id:_.id,domain:_.type,name:_.name,area:_.area,state:"ready",attributes:{friendly_name:_.name,icon:_.icon}}:T={id:_.entity_id||_.id,entity_id:_.entity_id,domain:_.domain,name:_.attributes?.friendly_name||_.name,area:_.area,state:_.state,attributes:_.attributes});if(!T){console.error("[SearchField] Could not determine target device from:",_);return}const R=I?.openTab||null;console.log(`[SearchField] Setting device: ${T.name}, initial tab: ${R}`),u(T),h(R),e||n(!0),o("navigation",{target:T.entity_id||T.id,initialTab:R})},N=y?p?45:47:0,L=g==="centered"?p?60:120:0;return r(ke,{children:e&&r(P.div,{className:"detail-panel-wrapper",style:{top:`${N}px`},initial:{y:0,opacity:0},animate:{y:m?L:0,opacity:m?1:0},transition:{y:{type:"spring",stiffness:260,damping:20,mass:.8},opacity:{duration:.3,ease:[.16,1,.3,1]}},children:r(x7,{item:{entity_id:t?.id||t?.entity_id,id:t?.id,domain:t?.domain,name:t?.name,area:t?.area,state:t?.state,attributes:t?.attributes||{friendly_name:t?.name}},isVisible:b,onBack:w,onToggleFavorite:S,onServiceCall:x,isFavorite:a.has(t?.entity_id)||a.has(t?.id),lang:l,initialTabName:c,onActionNavigate:k,hass:f})})})},wL=()=>{const{isInitialized:e,isLoading:t,recordUserAction:n,generateTestPatterns:i}=Qt(),[s]=Cd(),[o,a]=M_(),[l,c]=T1(),[d,u,h]=T_(),[f]=E_(),p=s||[],g=oL(l),{isExpanded:m,setIsExpanded:y,isPanelAnimationComplete:b,setIsPanelAnimationComplete:v,searchValue:w,setSearchValue:S,isFilterOpen:x,setIsFilterOpen:k,activeCategory:N,setActiveCategory:L,showCategories:_,setShowCategories:I,activeFilter:T,setActiveFilter:R,activeSubFilter:j,setActiveSubFilter:z,selectedSubcategory:B,setSelectedSubcategory:V,subcategoryPerCategory:A,setSubcategoryPerCategory:F,isMobile:M,setIsMobile:C,showDetail:X,setShowDetail:q,initialTab:E,setInitialTab:ee,selectedDevice:ue,setSelectedDevice:K,containerRef:Q,searchPanelRef:ie,resultsRef:se,isExpandedRef:xe,showDetailRef:we,suggestionText:_e,setSuggestionText:H,hoveredCategory:U,setHoveredCategory:J,setIsCategoryHovered:re,aiMode:ae,setAiMode:be,aiResponse:fe,setAiResponse:G,isAiLoading:O,setIsAiLoading:$,aiSubmitTrigger:ne,setAiSubmitTrigger:le,aiModeEnabled:pe,setAiModeEnabled:W,animationKey:Z,setAnimationKey:de,currentLanguage:me,setCurrentLanguage:ve}=g,[ct,$t]=D(!1),[st,Tn]=D("centered"),[Rt,kt]=D(!1),[jt,Ut]=D(()=>{try{const Oe=JSON.parse(localStorage.getItem("systemSettings")||"{}").appearance||{};return{enabled:Oe.statsBarEnabled!==!1,username:Oe.statsBarUsername||"User"}}catch{return{enabled:!0,username:"User"}}}),[iv,rv]=D(()=>{try{return{enabled:(JSON.parse(localStorage.getItem("systemSettings")||"{}").appearance||{}).greetingsBarEnabled!==!1}}catch{return{enabled:!0}}});Y(()=>{const ge=Oe=>{Ut(Kn=>({...Kn,enabled:Oe.detail}))};return window.addEventListener("statsBarEnabledChanged",ge),()=>window.removeEventListener("statsBarEnabledChanged",ge)},[]),Y(()=>{const ge=Oe=>{rv(Kn=>({...Kn,enabled:Oe.detail}))};return window.addEventListener("greetingsBarEnabledChanged",ge),()=>window.removeEventListener("greetingsBarEnabledChanged",ge)},[]),Y(()=>{const ge=setTimeout(()=>{kt(!0)},100);return()=>clearTimeout(ge)},[]);const au=oe(m);Y(()=>{const ge=au.current;au.current=m,ge&&!m&&!_&&st==="top"&&setTimeout(()=>{Tn("centered")},400)},[m,_,st]);const sv=ge=>{ge&&(window.__fastSearchToastContainer=ge)};Y(()=>{jd()},[]);const{setSearchTerm:ya,results:Qi,getSuggestions:ov}=dN(p);ov(w,5);const av=JN({setSearchValue:S,setFuzzySearchTerm:ya,aiMode:ae,devices:p,setSuggestionText:H,isExpanded:m,setIsExpanded:y,setAnimationKey:de}),lv=QN({searchValue:w,setAiMode:be,setSuggestionText:H,setIsExpanded:y,setAnimationKey:de,suggestionText:_e,setSearchValue:S,setFuzzySearchTerm:ya,aiMode:ae,setAiSubmitTrigger:le,setAiResponse:G,setIsAiLoading:$}),lu=eL({aiMode:ae,isExpanded:m,setIsExpanded:y,setAnimationKey:de,setShowCategories:I,searchPanelRef:ie}),cv=(...ge)=>{st==="centered"?(Tn("top"),lu(...ge)):lu(...ge)},dv=tL({setSearchValue:S,setSuggestionText:H,setFuzzySearchTerm:ya,aiMode:ae,setAiMode:be,setAiResponse:G,setIsAiLoading:$}),uv=nL({setIsExpanded:y,setShowCategories:I,showCategories:_,setIsCategoryHovered:re}),hv=iL({activeCategory:N,setShowCategories:I,subcategoryPerCategory:A,setSelectedSubcategory:V,setActiveCategory:L,setIsExpanded:y,setAnimationKey:de}),fv=rL({setIsFilterOpen:k,isFilterOpen:x}),pv=sL({setSelectedSubcategory:V,setSubcategoryPerCategory:F,activeCategory:N,setAnimationKey:de});Y(()=>{const ge=A[N]||"all";V(ge)},[N]),Y(()=>{const ge=()=>{C(window.innerWidth<=768)};return ge(),window.addEventListener("resize",ge),()=>window.removeEventListener("resize",ge)},[]),Y(()=>{if(Z){const ge=setTimeout(()=>{de("")},3e3);return()=>clearTimeout(ge)}},[Z]);const mv=async()=>{window.location.hostname==="localhost"&&(await i(),await h())};Y(()=>{const ge=Oe=>{W(Oe.detail.enabled),c("aiModeEnabled",Oe.detail.enabled)};return window.addEventListener("aiModeSettingChanged",ge),()=>{window.removeEventListener("aiModeSettingChanged",ge)}},[c]),Y(()=>{xe.current=m,we.current=X},[m,X]),Y(()=>{ae&&(console.log(" AI-Mode aktiviert - Panel wird expanded"),y(!0))},[ae]),Y(()=>{const ge=Oe=>{ve(Oe.detail.language),c("language",Oe.detail.language)};return window.addEventListener("languageChanged",ge),()=>{window.removeEventListener("languageChanged",ge)}},[c]),Y(()=>{const ge=Oe=>{if(we.current||!xe.current)return;const Kn=Oe.composedPath();Q.current&&!Kn.includes(Q.current)&&y(!1)};return document.addEventListener("click",ge,!0),()=>{document.removeEventListener("click",ge,!0)}},[]);const gv=async ge=>{$(!0),setTimeout(()=>{const Oe=["Ich habe alle Lichter im Wohnzimmer ausgeschaltet. Es waren 3 Lichter aktiv.","Die Temperatur im Schlafzimmer betrgt aktuell 21C. Die Heizung ist auf 22C eingestellt.",`Ich habe eine neue Szene "${ge}" erstellt mit gedimmtem Licht und entspannter Atmosphre.`,"Folgende Gerte verbrauchen aktuell Strom: Khlschrank (85W), TV Wohnzimmer (120W), Router (15W).","Die Haustr ist seit 15:30 Uhr verschlossen. Alle Fenster sind ebenfalls geschlossen."],Kn=Oe[Math.floor(Math.random()*Oe.length)];G(Kn),$(!1)},1500)},yv=ge=>{S(ge),setTimeout(()=>{le(Oe=>Oe+1)},50)},xs=Re(()=>qN({searchValue:w,fuzzyResults:Qi,devices:p,activeCategory:N,selectedSubcategory:B,activeSubFilter:j,favorites:o,predictiveSuggestions:d}),[w,Qi,p,N,B,j,o,d]),cu=Re(()=>YN({searchValue:w,fuzzyResults:Qi,currentLanguage:me}),[w,Qi,me]),va=Re(()=>ZN({searchValue:w,filteredDevices:xs,selectedSubcategory:B,currentLanguage:me,favorites:o,predictiveSuggestions:d}),[w,xs,B,me,o,d]);Y(()=>{window.DEBUG_groupedFilteredDevices=va,window.DEBUG_filteredDevices=xs,window.DEBUG_activeCategory=N,window.DEBUG_selectedSubcategory=B,window.DEBUG_isExpanded=m,window.DEBUG_showDetail=X},[va,xs,N,B,m,X,w]),Re(()=>!o||o.size===0?[]:p.filter(ge=>o.has(ge.entity_id)||o.has(ge.id)),[o,p]);const vv=Re(()=>!p||p.length===0?null:p.filter(Oe=>!!(Oe.domain==="weather"&&Oe.entity_id!=="weather.system"&&Oe.attributes&&(Oe.attributes.temperature!==void 0||Oe.attributes.current_temperature!==void 0)||Oe.domain==="weather_device"&&Oe.attributes&&(Oe.attributes.temperature!==void 0||Oe.attributes.current_temperature!==void 0)))[0]||null,[p]),bv=Re(()=>p.find(ge=>ge.entity_id?.includes("power")||ge.entity_id?.includes("energy")||ge.domain==="sensor"&&(ge.name?.toLowerCase().includes("power")||ge.name?.toLowerCase().includes("energy")))||null,[p]),wv=0;return!e&&p.length===0?r("div",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:r("div",{className:"glass-panel",style:{padding:"20px 40px",borderRadius:"35px",background:"radial-gradient(circle at 50% 0%, rgba(255, 255, 255, 0.25), rgba(255, 255, 255, 0.15) 70%), rgba(40, 40, 40, 0.85)",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.15)",color:"rgba(255, 255, 255, 0.7)",fontSize:"16px"},children:t?r("span",{children:[" ",te("general.loading",me)||"Lade Gerte..."]}):r("span",{children:[" ",te("general.initializing",me)||"Initialisiere..."]})})}):r("div",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',background:window.location.hostname==="localhost"?"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)":"transparent",minHeight:window.location.hostname==="localhost"?"100vh":"auto",padding:window.location.hostname==="localhost"?"40px 20px":"0",position:"relative"},children:[r("div",{id:"toast-container",ref:sv}),r("div",{className:"main-container",ref:Q,children:[r(gL,{handleGenerateTestData:mv,predictiveSuggestions:d}),r(_7,{username:jt.username,weatherEntity:vv,powerEntity:bv,hass:f,notificationCount:wv,show:jt.enabled,isMobile:M,position:st,hasAppeared:Rt}),r(C7,{username:f?.user?.name||jt.username,show:iv.enabled,isExpanded:m||st==="top",currentLanguage:me,isMobile:M,position:st,hasAppeared:Rt}),r("div",{className:"search-row",children:[r(P.div,{className:`search-panel glass-panel ${X?"hidden":""} ${ae?"ai-mode":""}`,ref:ie,initial:{height:M?57:72,y:0,opacity:0},animate:{height:m||ae?672:M?57:72,y:Rt&&st==="centered"?M?60:120:0,opacity:Rt?1:0,boxShadow:st==="centered"?"0 8px 32px rgba(0, 0, 0, 0.12)":"0 20px 60px rgba(0, 0, 0, 0.25)"},transition:{height:{duration:.4,ease:[.16,1,.3,1]},y:{type:"spring",stiffness:260,damping:20,mass:.8},opacity:{duration:.6,ease:[.16,1,.3,1]},boxShadow:{duration:.4,ease:[.16,1,.3,1]}},children:[r("div",{className:"search-wrapper",children:[r(mL,{aiMode:ae,searchValue:w,suggestionText:_e,showCategories:_,hoveredCategory:U,activeCategory:N,currentLanguage:me,isExpanded:m,isFilterOpen:x,aiModeEnabled:pe,categoryIcons:f0,setAiMode:be,setAiResponse:G,setIsAiLoading:$,setIsExpanded:y,setIsCategoryHovered:re,setSuggestionText:H,setAnimationKey:de,handleSearchInput:av,handleKeyDown:lv,handleSearchFocus:cv,handleClear:dv,handleCategoryClick:uv}),!ae&&r(pL,{isFilterOpen:x,activeFilter:T,activeSubFilter:j,setActiveFilter:R,setActiveSubFilter:z,handleFilterToggle:fv,currentLanguage:me})]}),r(vL,{aiMode:ae,isExpanded:m,centralPanelVariants:qh,searchValue:w,sendToAI:gv,aiResponse:fe,isAiLoading:O,handleAISuggestionClick:yv,searchPanelRef:ie,aiSubmitTrigger:ne,currentLanguage:me}),r(P.div,{ref:se,className:"results-container",initial:"collapsed",animate:m?"expanded":"collapsed",variants:qh,onAnimationComplete:()=>{v(!!m)},onMouseEnter:()=>$t(!0),onMouseLeave:()=>$t(!1),style:{display:ae?"none":m?"block":"none"},children:r(ke,{children:[m&&!w&&r("div",{style:{marginBottom:"16px"},children:[" ",r(d_,{activeCategory:N,items:p.filter(ge=>N==="devices"?!(["script","automation","scene"].includes(ge.domain)||["sensor","binary_sensor"].includes(ge.domain)||["settings","marketplace"].includes(ge.domain)||ge.category==="sensors"||ge.attributes?.category==="sensors"):N==="sensors"?!!(["sensor","binary_sensor"].includes(ge.domain)||ge.category==="sensors"||ge.attributes?.category==="sensors"):N==="actions"?["script","automation","scene"].includes(ge.domain):N==="custom"?!!(["settings","marketplace"].includes(ge.domain)||ge.is_system||ge.subcategory==="apps"||ge.attributes?.subcategory==="apps"):!1).map(ge=>({...ge,isFavorite:o.has(ge.entity_id)||o.has(ge.id)})),allItems:p.map(ge=>({...ge,isFavorite:o.has(ge.entity_id)||o.has(ge.id)})),mode:j==="areas"?"areas":"categories",onSubcategoryChange:pv,lang:me,activeSubcategory:B,suggestions:d,hasSuggestions:d.length>0})]}),w&&cu?r(g0,{groupedData:cu,isEmpty:Qi.length===0,searchValue:w,activeFilter:T,setSelectedDevice:K,setShowDetail:q,isExpanded:m,setIsExpanded:y,setAnimationKey:de,recordUserAction:n,currentLanguage:me,animationKey:Z,isPanelAnimationComplete:b}):w?null:r(g0,{groupedData:va,activeFilter:T,setSelectedDevice:K,setShowDetail:q,isExpanded:m,setIsExpanded:y,setAnimationKey:de,recordUserAction:n,currentLanguage:me,animationKey:Z,isPanelAnimationComplete:b})]})}),r(De,{scrollContainerRef:se,isHovered:ct,updateTriggerEvent:"subcategory-changed"})]}),r(P.div,{animate:{y:Rt&&st==="centered"?M?60:120:0},transition:{y:{duration:.3,ease:[.16,1,.3,1]}},children:r(yL,{showCategories:_,categoryIcons:f0,activeCategory:N,handleCategorySelect:hv,setHoveredCategory:J})})]}),r(bL,{showDetail:X,selectedDevice:ue,setShowDetail:q,setAnimationKey:de,toggleFavorite:a,recordUserAction:n,favorites:o,currentLanguage:me,initialTab:E,devices:p,setSelectedDevice:K,setInitialTab:ee,hass:f,isMobile:M,position:st,hasAppeared:Rt,statsBarEnabled:jt.enabled})]})]})},kL=typeof window<"u"&&window.location?.hostname==="localhost";let To=[];kL&&(To=[{entity_id:"light.test_device",domain:"light",name:"Test Light",area:"Test Room",state:"on",attributes:{brightness:180,friendly_name:"Test Light",supported_features:1},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()}],console.log("[MockDevices] Development mode - loaded mock data"));const xL=()=>{const{db:e,isInitialized:t}=Qt();Y(()=>{t&&n()},[t]);const n=async()=>{try{const s=(await e.getAll("entities")).some(o=>o.entity_id==="light.test_device");if(!s&&To.length>0){console.log(`[MockDataMigration] Adding ${To.length} mock devices...`);for(const o of To)await e.put("entities",{...o,entity_id:o.entity_id||o.id});console.log("[MockDataMigration] Mock devices added successfully!"),window.location.reload()}else console.log(s?"[MockDataMigration] Mock device already exists":"[MockDataMigration] No mock devices to add")}catch(i){console.error("[MockDataMigration] Error migrating mock data:",i)}};return null},y0=["","","","","",""],ao=[{step:"Initializing...",progress:0},{step:"Loading Settings...",progress:25},{step:"DataProvider...",progress:50},{step:"FramerMotion...",progress:75},{step:"Ready...",progress:100}],_L=({progress:e,isComplete:t})=>{const[n,i]=D(0),[s,o]=D(!0),a=()=>{for(let l=ao.length-1;l>=0;l--)if(e>=ao[l].progress)return ao[l].step;return ao[0].step};return Y(()=>{const l=setInterval(()=>{i(c=>{let d=c,u=s;return c>=y0.length-1?(u=!1,d=c-1):c<=0?(u=!0,d=c+1):d=u?c+1:c-1,o(u),d})},250);return()=>clearInterval(l)},[s]),r(Te,{children:!t&&r(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4,ease:[.4,0,.2,1]},style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"rgba(0, 0, 0, 0.4)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",zIndex:999999},children:[r("style",{children:`
            .loading-container {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 40px;
              width: 100%;
              max-width: 400px;
              padding: 0 20px;
            }

            .thinking-text-container {
              display: flex;
              align-items: center;
              gap: 8px;
              font-family: "SF Mono", "Monaco", "Courier New", Courier, monospace;
            }

            .thinking-symbol {
              color: rgba(255, 255, 255, 0.8);
              font-size: 24px;
              line-height: 1.5em;
              height: 1.5em;
              text-align: center;
              min-width: 24px;
            }

            .thinking-step {
              color: rgba(255, 255, 255, 0.8);
              font-size: 16px;
              line-height: 1.5em;
              height: 1.5em;
              white-space: nowrap;
            }

            .progress-bar-container {
              width: 100%;
              max-width: 400px;
              height: 4px;
              border-radius: 4px;
              background: rgba(255, 255, 255, 0.2);
              overflow: hidden;
            }

            .progress-bar-fill {
              height: 100%;
              background: rgba(255, 255, 255, 0.9);
              border-radius: 4px;
              transition: width 0.4s cubic-bezier(0.4, 0.0, 0.2, 1.0);
            }
          `}),r("div",{className:"loading-container",children:[r("div",{className:"thinking-text-container",children:[r("span",{className:"thinking-symbol",children:y0[n]}),r("span",{className:"thinking-step",children:a()})]}),r("div",{className:"progress-bar-container",children:r("div",{className:"progress-bar-fill",style:{width:`${e}%`}})})]})]})})},CL=()=>{const[e,t]=D("auto"),[n,i]=D(0),[s,o]=D("black");Y(()=>{const l=localStorage.getItem("darkMode")||"auto";t(l),a(l);const c=d=>{const u=d.detail.mode;t(u),a(u)};return window.addEventListener("darkModeChanged",c),()=>window.removeEventListener("darkModeChanged",c)},[]);const a=l=>{let c=0,d="black";if(l==="dark")c=.4,d="black";else if(l==="light")c=.2,d="white";else if(l==="auto"){const u=new Date().getHours();u>=20||u<6?(c=.4,d="black"):(c=0,d="black")}i(c),o(d)};return r("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:s,opacity:n,pointerEvents:"none",zIndex:0,backdropFilter:e!=="auto"||n>0?"blur(8px)":"none",WebkitBackdropFilter:e!=="auto"||n>0?"blur(8px)":"none",transition:"opacity 0.5s ease, background 0.5s ease, backdrop-filter 0.5s ease"}})};function Lc({hass:e,config:t}){const n=!e&&window.location.hostname==="localhost",[i,s]=D(0),[o,a]=D(!1);return Y(()=>{(async()=>{try{s(0),await new Promise(d=>setTimeout(d,500)),s(25);const c=localStorage.getItem("systemSettings");if(c){const u=JSON.parse(c).appearance||{},h=u.gridColumns||4;document.documentElement.style.setProperty("--device-grid-columns",h);const f=u.squircleStyle||"none";if(f!=="none"){const{getSquircleClipPath:v}=await Ze(async()=>{const{getSquircleClipPath:S}=await Promise.resolve().then(()=>G8);return{getSquircleClipPath:S}},void 0),w=v(f);w&&document.documentElement.style.setProperty("--card-clip-path",w)}const p=u.backgroundBrightness||100,g=u.backgroundBlur||0,m=u.backgroundContrast||100,y=u.backgroundSaturation||100,b=u.backgroundGrayscale||0;document.documentElement.style.setProperty("--background-brightness",`${p}%`),document.documentElement.style.setProperty("--background-blur",`${g}px`),document.documentElement.style.setProperty("--background-contrast",`${m}%`),document.documentElement.style.setProperty("--background-saturation",`${y}%`),document.documentElement.style.setProperty("--background-grayscale",`${b}%`)}await new Promise(d=>setTimeout(d,1e3)),s(50),await new Promise(d=>setTimeout(d,1e3)),s(75),await new Promise(d=>setTimeout(d,1e3)),s(100),await new Promise(d=>setTimeout(d,1500)),a(!0)}catch(c){console.error("Failed to load app:",c),s(100),a(!0)}})()},[]),r(ke,{children:[r(_L,{progress:i,isComplete:o}),r(CL,{}),r(L_,{hass:e,config:t,children:[n&&r(xL,{}),r("div",{style:{position:"relative",width:"100%",background:"transparent",opacity:o?1:0,transition:"opacity 0.4s cubic-bezier(0.4, 0.0, 0.2, 1.0)"},children:r(wL,{})})]})]})}document.getElementById("app")&&po(r(Lc,{}),document.getElementById("app"));typeof window<"u"&&(window.FastSearchCardApp={mount:function(e,t,n){e.innerHTML="";const i=document.createElement("div");i.id="fast-search-card-root",i.style.width="100%",i.style.height="672px",i.style.minHeight="672px",e.appendChild(i),e.__fastSearchCardRoot=i,po(r(Lc,{hass:t,config:n}),i)},updateHass:function(e,t){const n=e.__fastSearchCardRoot;n?po(r(Lc,{hass:t,config:e.__config}),n):console.warn("[FastSearchCardApp] No root element found for update")},unmount:function(e){const t=e.__fastSearchCardRoot;t&&(po(null,t),e.removeChild(t),delete e.__fastSearchCardRoot,delete e.__config)}});class gy extends _t{constructor(){super({id:"settings",domain:"settings",name:"Einstellungen",icon:"mdi:cog",brandColor:"rgb(0, 145, 255)",category:"system",description:"Konfiguriere deine Fast Search Card",relevance:100,attributes:{sections:["general","appearance","privacy","about"],version:"1.2.0",buildDate:"2025.10.22"},permissions:["settings:read","settings:write","storage:manage","plugins:manage"],routes:{general:"/settings/general",appearance:"/settings/appearance",privacy:"/settings/privacy",about:"/settings/about",excludedPatterns:"/settings/privacy/excluded-patterns"},actions:{getSetting:async function(t){const{key:n}=t,i=this.getStorage();return i?await i.get(n):localStorage.getItem(n)},setSetting:async function(t){const{key:n,value:i}=t,s=this.getStorage();if(!s){localStorage.setItem(n,i);return}await s.set(n,i),window.dispatchEvent(new CustomEvent("settingChanged",{detail:{key:n,value:i}}))},getAllSettings:async function(){return{darkMode:localStorage.getItem("darkMode")||"auto",language:localStorage.getItem("userLanguage")||"de",aiModeEnabled:localStorage.getItem("aiModeEnabled")!=="false",notifications:localStorage.getItem("notificationsEnabled")!=="false",soundEffects:localStorage.getItem("soundEffects")!=="false",animations:localStorage.getItem("animations")!=="false",excludedPatterns:(()=>{try{const n=localStorage.getItem("excludedPatterns");return n?JSON.parse(n):[]}catch{return[]}})(),version:this.attributes.version,buildDate:this.attributes.buildDate}},resetSettings:async function(t){const{section:n}=t;n==="all"?(["darkMode","userLanguage","aiModeEnabled","notificationsEnabled","soundEffects","animations","excludedPatterns"].forEach(s=>{localStorage.removeItem(s)}),console.log(" All settings reset to defaults")):console.log(` Reset settings for section: ${n}`),window.dispatchEvent(new CustomEvent("settingsReset",{detail:{section:n}}))},addExcludedPattern:async function(t){const{pattern:n}=t;try{const i=localStorage.getItem("excludedPatterns"),s=i?JSON.parse(i):[];s.includes(n)||(s.push(n),localStorage.setItem("excludedPatterns",JSON.stringify(s)),console.log(` Added excluded pattern: ${n}`))}catch(i){throw console.error("Failed to add excluded pattern:",i),i}},removeExcludedPattern:async function(t){const{pattern:n}=t;try{const i=localStorage.getItem("excludedPatterns"),s=i?JSON.parse(i):[],o=s.indexOf(n);o>-1&&(s.splice(o,1),localStorage.setItem("excludedPatterns",JSON.stringify(s)),console.log(` Removed excluded pattern: ${n}`))}catch(i){throw console.error("Failed to remove excluded pattern:",i),i}}},hasTabs:!0,hasCustomView:!1,showInDetailView:!0,viewComponent:()=>Ze(()=>Promise.resolve().then(()=>HL),void 0)})}async onMount(t){await super.onMount(t),!localStorage.getItem("fastSearchCardInitialized")&&await this._initializeDefaults(),await this._checkVersionAndMigrate()}async _initializeDefaults(){console.log(" First use detected, initializing defaults...");const t={darkMode:"auto",userLanguage:navigator.language.split("-")[0]||"de",aiModeEnabled:"true",notificationsEnabled:"true",soundEffects:"true",animations:"true",excludedPatterns:JSON.stringify([".*_battery_level$",".*_rssi$",".*_linkquality$"])};Object.entries(t).forEach(([n,i])=>{localStorage.getItem(n)||localStorage.setItem(n,i)}),localStorage.setItem("fastSearchCardInitialized","true"),localStorage.setItem("fastSearchCardVersion",this.attributes.version)}async _checkVersionAndMigrate(){const t=localStorage.getItem("fastSearchCardVersion"),n=this.attributes.version;t!==n&&(console.log(` Version change detected: ${t}  ${n}`),localStorage.setItem("fastSearchCardVersion",n))}}const v0=new gy,SL=Object.freeze(Object.defineProperty({__proto__:null,SettingsEntity:gy,default:v0,settingsEntity:v0},Symbol.toStringTag,{value:"Module"}));class NL extends _t{constructor(){super({id:"all_schedules",domain:"all_schedules",name:"Zeitplne bersicht",icon:"mdi:calendar-clock",brandColor:"rgb(255, 146, 48)",category:"system",description:"bersicht aller Timer und Zeitplne",relevance:95,hasTabs:!1,hasCustomView:!0,showInDetailView:!0,viewComponent:()=>Ze(()=>Promise.resolve().then(()=>jL),void 0)})}}const LL=new NL,ML=Object.freeze(Object.defineProperty({__proto__:null,default:LL},Symbol.toStringTag,{value:"Module"}));class yy extends _t{constructor(){super({id:"news",domain:"news",name:"Nachrichten",icon:"mdi:newspaper",brandColor:"rgb(255, 149, 0)",category:"system",description:"RSS News Feeds und Nachrichten",relevance:85,attributes:{articles:[],unread_count:0,total_articles:0,feed_count:0,last_update:null,active_feeds:[],categories:[],latest_article:null,max_articles:50,update_interval:15,article_retention_days:7,show_images:!0,auto_mark_read:!1,has_feedreader:!1,has_notifications:!0,has_tts:!1},hasTabs:!1,hasCustomView:!0,showInDetailView:!0,actionButtons:[{id:"overview",action:"overview",title:"bersicht"},{id:"settings",action:"settings",title:"Einstellungen"},{id:"refresh",action:"refresh",title:"Aktualisieren"}],viewComponent:()=>Ze(()=>Promise.resolve().then(()=>qL),void 0),permissions:["feedreader:read","entities:read","storage:write","storage:read"],routes:{feed:"/news/feed",article:"/news/article/:id",favorites:"/news/favorites",settings:"/news/settings",category:"/news/category/:category"},actions:{getArticles:async function(t){const{hass:n}=t||{};try{const i=await this.actions._checkFeedreaderAvailability.call(this,n);let s=[];i?s=await this.actions._fetchFromFeedreader.call(this,n):s=this.actions._getMockArticles.call(this);const a=new Set(s.map(l=>l.source).filter(l=>l)).size;return this.updateAttributes({articles:s,total_articles:s.length,unread_count:s.filter(l=>!l.read).length,feed_count:a,last_update:new Date().toISOString(),latest_article:s[0]||null,has_feedreader:i}),s}catch(i){return console.error("Failed to get articles:",i),this.actions._getMockArticles.call(this)}},refreshFeeds:async function(t){const{hass:n}=t||{};try{const i=await this.actions._checkFeedreaderAvailability.call(this,n);if(!i)return this.actions._getMockArticles.call(this);try{const l=n?.states?Object.keys(n.states).filter(c=>c.startsWith("event.")&&(n.states[c].attributes?.event_type==="feedreader"||n.states[c].attributes?.event_types?.includes("feedreader"))):[];if(l.length>0&&n?.callService){for(const c of l)await n.callService("homeassistant","update_entity",{entity_id:c});await new Promise(c=>setTimeout(c,1e3))}}catch{}const s=await this.actions._fetchFromFeedreader.call(this,n),a=new Set(s.map(l=>l.source).filter(l=>l)).size;return this.updateAttributes({articles:s,total_articles:s.length,unread_count:s.filter(l=>!l.read).length,feed_count:a,last_update:new Date().toISOString(),latest_article:s[0]||null,has_feedreader:i}),s}catch(i){return console.error(" Failed to refresh feeds:",i),this.actions._fetchFromFeedreader.call(this,n)}},markAsRead:async function(t){const{articleId:n}=t,i=this.attributes.articles||[],s=i.find(o=>o.id===n);return s?(s.read=!0,this.updateAttributes({articles:[...i],unread_count:i.filter(o=>!o.read).length}),this.actions._cacheArticles.call(this,i),{success:!0}):{success:!1}},markAsUnread:async function(t){const{articleId:n}=t,i=this.attributes.articles||[],s=i.find(o=>o.id===n);return s?(s.read=!1,this.updateAttributes({articles:[...i],unread_count:i.filter(o=>!o.read).length}),this.actions._cacheArticles.call(this,i),{success:!0}):{success:!1}},toggleFavorite:async function(t){const{articleId:n}=t,i=this.attributes.articles||[],s=i.find(o=>o.id===n);return s?(s.favorite=!s.favorite,this.updateAttributes({articles:[...i]}),this.actions._cacheArticles.call(this,i),{success:!0,favorite:s.favorite}):{success:!1}},_checkFeedreaderAvailability:async function(t){return!t||!t.config||!t.config.components?!1:t.config.components.includes("feedreader")},_fetchFromFeedreader:async function(t){try{const n=this.actions._loadSettings.call(this),i=n?.display?.maxAge||7,s=n?.display?.maxArticles||100;let o=this.actions._loadArticlesFromEventCache.call(this);if(o.length===0)return this.actions._getMockArticles.call(this);const a=new Date;a.setDate(a.getDate()-i),o=o.filter(c=>new Date(c.published)>=a);const l=this.actions._getCachedArticles.call(this);if(l&&l.length>0){const c=new Map(l.map(d=>[d.id,d]));o.forEach(d=>{const u=c.get(d.id);u&&(d.read=u.read||!1,d.favorite=u.favorite||!1)})}return o.sort((c,d)=>new Date(d.published)-new Date(c.published)),o.length>s&&(o=o.slice(0,s)),o}catch(n){return console.error(" Failed to fetch from event cache:",n),this.actions._getMockArticles.call(this)}},_handleFeedreaderEvent:function(t){const n=t.data||{};let i=n.image||null;i||(i=this.actions._extractImageFromHtml.call(this,n.content||n.description||n.summary||"")),!i&&n.enclosure&&n.enclosure.url&&(i=n.enclosure.url),!i&&n.media_thumbnail&&(i=n.media_thumbnail);let s="news";if(n.feed_url){const a=this.actions._findEntityIdByFeedUrl.call(this,n.feed_url);a&&(s=this.actions._getCategoryForEntityId.call(this,a))}const o={id:n.id||n.link||n.guid,title:n.title||"Kein Titel",description:n.summary||n.description||"",content:n.content||n.summary||n.description||"",link:n.link,published:n.published_parsed?new Date(n.published_parsed):new Date,source:this.actions._extractSourceFromUrl.call(this,n.feed_url),category:s,thumbnail:i,read:!1,favorite:!1,priority:"normal"};this.actions._addArticleToEventCache.call(this,o)},_extractImageFromHtml:function(t){if(!t)return null;try{const n=t.match(/<img[^>]+src="([^">]+)"/i);if(n&&n[1])return n[1];const i=t.match(/<meta[^>]+property="og:image"[^>]+content="([^">]+)"/i);if(i&&i[1])return i[1]}catch{}return null},_loadArticlesFromEventCache:function(){try{const t=localStorage.getItem("news_event_cache");if(!t)return[];const n=JSON.parse(t);if(!Array.isArray(n))return[];const i=this.actions._loadSettings.call(this);let s=parseInt(i.display.maxAge)||7;s>30&&(s=30);const o=s*24*60*60*1e3,a=Date.now(),l=n.filter(h=>{const f=new Date(h.published).getTime();return a-f<=o});l.sort((h,f)=>new Date(f.published)-new Date(h.published));const c=l.slice(0,100);let d=0;const u=[];for(const h of c){const f=this.actions._findEntityIdBySource.call(this,h.source);if(f){if(!(i.feeds?.[f]?.enabled!==!1))continue;const m=this.actions._getCategoryForEntityId.call(this,f);h.category!==m&&(h.category=m,d++),u.push(h)}}return d>0&&localStorage.setItem("news_event_cache",JSON.stringify(n)),u}catch(t){return console.error(" Failed to load from event cache:",t),[]}},_addArticleToEventCache:function(t){try{let n=[];const i=localStorage.getItem("news_event_cache");if(i&&(n=JSON.parse(i)),n.some(o=>o.id===t.id))return;n.unshift(t),n.length>500&&(n=n.slice(0,500)),localStorage.setItem("news_event_cache",JSON.stringify(n))}catch(n){console.error(" Failed to add article to event cache:",n)}},_extractSourceFromUrl:function(t){if(!t)return"Unknown";try{return new URL(t).hostname.replace("www.","")}catch{return"Unknown"}},_loadSettings:function(){const t=localStorage.getItem("newsSettings");return t?JSON.parse(t):{display:{maxAge:7,maxArticles:50},feeds:[]}},_getCategoryForEntityId:function(t){try{const i=this.actions._loadSettings.call(this).feeds?.[t];return i&&i.category?i.category:"news"}catch{return"news"}},_findEntityIdByFeedUrl:function(t){try{if(!this._hass||!this._hass.states)return null;for(const n in this._hass.states){if(!n.startsWith("event."))continue;if((this._hass.states[n].attributes||{}).feed_url===t)return n}return null}catch{return null}},_findEntityIdBySource:function(t){try{if(!this._hass||!this._hass.states)return null;for(const n in this._hass.states){if(!n.startsWith("event."))continue;const s=this._hass.states[n].attributes||{};if(s.friendly_name===t||s.friendly_name&&s.friendly_name.toLowerCase()===t.toLowerCase()||n.replace("event.","").replace(/_/g," ").toLowerCase()===t.toLowerCase())return n;if(s.feed_url)try{const l=new URL(s.feed_url).hostname.replace("www.","");if(l===t||l.toLowerCase()===t.toLowerCase())return n}catch{}}return null}catch{return null}},_cacheArticles:function(t){try{const n={timestamp:Date.now(),articles:t};localStorage.setItem("news_articles_cache",JSON.stringify(n))}catch(n){console.error("Failed to cache articles:",n)}},_getCachedArticles:function(){try{const t=localStorage.getItem("news_articles_cache");if(!t)return[];const n=JSON.parse(t),i=this.attributes.article_retention_days*24*60*60*1e3;return Date.now()-n.timestamp>i?(localStorage.removeItem("news_articles_cache"),[]):n.articles}catch(t){return console.error("Failed to load cached articles:",t),[]}},_getMockArticles:function(){return[]}},events:{"article:new":"Neuer Artikel verfgbar","article:read":"Artikel wurde gelesen","article:favorite":"Artikel als Favorit markiert","feeds:updated":"Feeds wurden aktualisiert"}})}async onMount(t){await this.mountWithRetry(t,async n=>{this._context=t,this._hass=n,n.connection&&(this._feedreaderEventListener=n.connection.subscribeEvents(i=>{this.actions._handleFeedreaderEvent.call(this,i)},"feedreader"));try{await this._loadFeedreaderHistory(n),await this._loadFeedreaderEventEntities(n),await this.executeAction("getArticles",{hass:n})}catch(i){console.error("Failed to load initial news articles:",i)}})}async _loadFeedreaderHistory(t){if(!(!t||!t.callWS))try{const n=this.actions._loadSettings.call(this);let i=parseInt(n.display.maxAge)||7;i>30&&(i=30);const s=new Date,o=new Date(s.getTime()-i*24*60*60*1e3),a=await t.callWS({type:"logbook/get_events",start_time:o.toISOString(),end_time:s.toISOString(),event_types:["feedreader"]});if(!a||!Array.isArray(a)){const l=await t.callWS({type:"recorder/get_events",start_time:o.toISOString(),end_time:s.toISOString(),event_types:["feedreader"]});if(!l||!Array.isArray(l))return;for(const c of l)c.data&&this.actions._handleFeedreaderEvent.call(this,c);return}for(const l of a)l.data&&this.actions._handleFeedreaderEvent.call(this,l)}catch{}}async _loadFeedreaderEventEntities(t){if(!t||!t.states)return;const i=Object.keys(t.states).filter(s=>s.startsWith("event.")).map(s=>t.states[s]).filter(s=>{const o=s.attributes?.event_type==="feedreader",a=s.attributes?.event_types?.includes("feedreader");return o||a});for(const s of i){const o=s.attributes||{};if(o.title&&o.link){let a=o.image||null;a||(a=this.actions._extractImageFromHtml.call(this,o.content||o.description||""));const l=this.actions._getCategoryForEntityId.call(this,s.entity_id),c={id:o.link||s.entity_id+"_"+Date.now(),title:o.title||"Kein Titel",description:o.description||"",content:o.content||o.description||"",link:o.link,published:s.state?new Date(s.state):new Date,source:o.friendly_name||s.entity_id.replace("event.","").replace(/_/g," "),category:l,thumbnail:a,read:!1,favorite:!1,priority:"normal"};this.actions._addArticleToEventCache.call(this,c)}}}async onUnmount(t){this._feedreaderEventListener&&(this._feedreaderEventListener.then(n=>n()),this._feedreaderEventListener=null),await super.onUnmount(t)}}const sn=new yy;typeof window<"u"&&(window.newsEntity=sn,window.debugNews=()=>{console.group(" NEWS DEBUG"),console.log("Entity:",sn),console.log("Attributes:",sn.attributes),console.log("Articles:",sn.attributes.articles),console.log("Has Feedreader:",sn.attributes.has_feedreader),console.log("Event Listener Active:",sn._feedreaderEventListener!==null);const e=localStorage.getItem("news_event_cache"),t=localStorage.getItem("news_articles_cache"),n=localStorage.getItem("newsSettings");console.log("Event Cache:",e?JSON.parse(e).length+" articles":"empty"),console.log("Articles Cache:",t?JSON.parse(t).articles.length+" articles":"empty"),console.log("Settings:",n?JSON.parse(n):"default"),console.groupEnd()},window.testFeedreaderEvent=()=>{console.log(" Testing manual Feedreader event...");const e={data:{id:"test_"+Date.now(),title:"Test Artikel von manuellen Event",summary:"Dies ist ein Test-Event",link:"https://example.com/test",published_parsed:new Date,feed_url:"https://example.com/feed.xml",image:null}};sn.actions._handleFeedreaderEvent.call(sn,e),console.log(" Test event processed. Check event cache.")});const EL=Object.freeze(Object.defineProperty({__proto__:null,NewsEntity:yy,default:sn,newsEntity:sn},Symbol.toStringTag,{value:"Module"}));class vy extends _t{constructor(){super({id:"todos",domain:"todos",name:"Aufgaben",icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 6L20 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M3.80002 5.79999L4.60002 6.59998L6.60001 4.59999" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M3.80002 11.8L4.60002 12.6L6.60001 10.6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M3.80002 17.8L4.60002 18.6L6.60001 16.6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9 12L20 12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9 18L20 18" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',brandColor:"rgb(0, 122, 255)",category:"system",description:"Todo-Listen und Aufgaben verwalten",relevance:80,attributes:{todos:[],incomplete_count:0,total_todos:0,overdue_count:0,today_count:0,last_update:null,available_lists:[],has_todo_integration:!1},hasTabs:!1,hasCustomView:!0,showInDetailView:!0,actionButtons:[{id:"overview",action:"overview",title:"bersicht"},{id:"settings",action:"settings",title:"Einstellungen"},{id:"add",action:"add",title:"Hinzufgen"},{id:"refresh",action:"refresh",title:"Aktualisieren"}],viewComponent:()=>Ze(()=>Promise.resolve().then(()=>sM),void 0),permissions:["todo:read","todo:write","entities:read","storage:write","storage:read"],routes:{main:"/todos",item:"/todos/item/:id",settings:"/todos/settings",list:"/todos/list/:listId"},actions:{getTodos:async function(t){const{hass:n,refresh:i=!1}=t||{};console.log(" getTodos called",{hasHass:!!n,refresh:i});try{const s=await this.actions._checkTodoAvailability.call(this,n);let o=[];s?(console.log(" Loading todos from Home Assistant"),o=await this.actions._fetchFromHomeAssistant.call(this,n)):(console.log(" Todo integration not available, using mock data"),o=this.actions._getMockTodos.call(this));const a=this.actions._loadSettings.call(this);o=this.actions._applyFilters.call(this,o,a);const l=this.actions._getCachedTodos.call(this);if(l&&l.length>0){const h=new Map(l.map(f=>[f.uid,f]));o.forEach(f=>{const p=h.get(f.uid);p&&p.status&&(f.status=p.status)})}const c=o.filter(h=>h.status==="needs_action").length,d=this.actions._getOverdueTodos.call(this,o).length,u=this.actions._getTodayTodos.call(this,o).length;return this.updateAttributes({todos:o,total_todos:o.length,incomplete_count:c,overdue_count:d,today_count:u,last_update:new Date().toISOString(),has_todo_integration:s}),o}catch(s){return console.error("Failed to get todos:",s),this.actions._getMockTodos.call(this)}},refreshTodos:async function(t){const{hass:n}=t||{};console.log(" refreshTodos called - manually refreshing todos");try{const i=await this.actions._checkTodoAvailability.call(this,n);if(!i)return console.warn(" Todo integration not available, cannot refresh"),this.actions._getMockTodos.call(this);console.log(" Reloading todos after refresh...");const s=await this.actions._fetchFromHomeAssistant.call(this,n),o=this.actions._loadSettings.call(this),a=this.actions._applyFilters.call(this,s,o),l=a.filter(u=>u.status==="needs_action").length,c=this.actions._getOverdueTodos.call(this,a).length,d=this.actions._getTodayTodos.call(this,a).length;return this.updateAttributes({todos:a,total_todos:a.length,incomplete_count:l,overdue_count:c,today_count:d,last_update:new Date().toISOString(),has_todo_integration:i}),console.log(`  Refresh complete! Loaded ${a.length} todos`),a}catch(i){return console.error(" Failed to refresh todos:",i),this.actions._getMockTodos.call(this)}},addTodo:async function(t){const{hass:n,listId:i,summary:s,description:o,dueDate:a}=t;console.log(" addTodo called",{listId:i,summary:s,dueDate:a});try{const l={entity_id:i,item:s,description:o};return a&&(a.includes("T")?l.due_datetime=a.replace("T"," "):l.due_date=a),await n.callService("todo","add_item",l),console.log(" Todo added successfully"),await this.actions.getTodos.call(this,{hass:n,refresh:!0})}catch(l){throw console.error(" Failed to add todo:",l),l}},updateTodo:async function(t){const{hass:n,listId:i,uid:s,summary:o,description:a,dueDate:l,status:c}=t;console.log(" updateTodo called",{listId:i,uid:s,summary:o,status:c});try{const d={entity_id:i,item:s};return o!==void 0&&(d.rename=o),a!==void 0&&(d.description=a),l&&(l.includes("T")?d.due_datetime=l.replace("T"," "):d.due_date=l),c!==void 0&&(d.status=c),await n.callService("todo","update_item",d),console.log(" Todo updated successfully"),await this.actions.getTodos.call(this,{hass:n,refresh:!0})}catch(d){throw console.error(" Failed to update todo:",d),d}},toggleComplete:async function(t){const{hass:n,listId:i,uid:s,currentStatus:o}=t,a=o==="completed"?"needs_action":"completed";console.log(" toggleComplete called",{uid:s,currentStatus:o,newStatus:a});try{await n.callService("todo","update_item",{entity_id:i,item:s,status:a}),console.log(" Todo status toggled successfully");const c=(this.attributes.todos||[]).map(d=>d.uid===s?{...d,status:a}:d);return this.actions._cacheTodos.call(this,c),await this.actions.getTodos.call(this,{hass:n,refresh:!0})}catch(l){throw console.error(" Failed to toggle todo:",l),l}},deleteTodo:async function(t){const{hass:n,listId:i,uid:s}=t;console.log(" deleteTodo called",{listId:i,uid:s});try{return await n.callService("todo","remove_item",{entity_id:i,item:[s]}),console.log(" Todo deleted successfully"),await this.actions.getTodos.call(this,{hass:n,refresh:!0})}catch(o){throw console.error(" Failed to delete todo:",o),o}},removeCompleted:async function(t){const{hass:n,listId:i}=t;console.log(" removeCompleted called",{listId:i});try{if(i)await n.callService("todo","remove_completed_items",{entity_id:i});else{const s=this.attributes.available_lists||[];for(const o of s)await n.callService("todo","remove_completed_items",{entity_id:o.id})}return console.log(" Completed todos removed successfully"),await this.actions.getTodos.call(this,{hass:n,refresh:!0})}catch(s){throw console.error(" Failed to remove completed todos:",s),s}},_checkTodoAvailability:async function(t){if(!t||!t.states)return console.log(" [CHECK]  Todo check failed - missing hass/states"),!1;const n=Object.keys(t.states).filter(s=>s.startsWith("todo.")),i=n.length>0;return console.log(" [CHECK] Todo entities found:",n.length),console.log(" [CHECK]  Todo integration available:",i),i},_fetchFromHomeAssistant:async function(t){try{console.log(" Fetching todos from Home Assistant...");const n=Object.keys(t.states).filter(l=>l.startsWith("todo.")).map(l=>({id:l,name:t.states[l].attributes.friendly_name||l.replace("todo.","").replace(/_/g," "),state:t.states[l].state}));console.log(" Found todo lists:",n),this.updateAttributes({available_lists:n});const i=performance.now(),o=(await Promise.allSettled(n.map(async l=>{try{const c=await t.callWS({type:"todo/item/list",entity_id:l.id});return console.log(` Items from ${l.name}:`,c),c&&c.items?c.items.map(d=>({uid:d.uid,summary:d.summary,description:d.description||"",status:d.status||"needs_action",due:d.due||null,listId:l.id,listName:l.name})):[]}catch(c){return console.warn(` Failed to fetch items from ${l.name}:`,c),[]}}))).filter(l=>l.status==="fulfilled").flatMap(l=>l.value),a=performance.now()-i;return console.log(`  Total todos loaded: ${o.length} in ${a.toFixed(0)}ms (parallel)`),o}catch(n){return console.error(" Failed to fetch from Home Assistant:",n),[]}},_applyFilters:function(t,n){return!n||!n.lists?t:t.filter(i=>n.lists[i.listId]?.enabled!==!1)},_getOverdueTodos:function(t){const n=new Date;return n.setHours(0,0,0,0),t.filter(i=>{if(i.status==="completed"||!i.due)return!1;const s=new Date(i.due);return s.setHours(0,0,0,0),s<n})},_getTodayTodos:function(t){const n=new Date;return n.setHours(0,0,0,0),t.filter(i=>{if(!i.due)return!1;const s=new Date(i.due);return s.setHours(0,0,0,0),s.getTime()===n.getTime()})},_loadSettings:function(){try{const t=localStorage.getItem("todosSettings");if(t)return JSON.parse(t)}catch(t){console.error("Failed to load settings:",t)}return{lists:{},display:{showCompleted:!0,autoHideAfterDays:7,defaultFilter:"all",sortBy:"dueDate"}}},_cacheTodos:function(t){try{const n={todos:t,timestamp:Date.now()};localStorage.setItem("todosCache",JSON.stringify(n))}catch(n){console.error("Failed to cache todos:",n)}},_getCachedTodos:function(){try{const t=localStorage.getItem("todosCache");if(t)return JSON.parse(t).todos||[]}catch(t){console.error("Failed to load cached todos:",t)}return[]},_getMockTodos:function(){return[{uid:"1",summary:"Milch kaufen",description:"Fettarm, 1 Liter",status:"needs_action",due:new Date().toISOString().split("T")[0],listId:"todo.shopping_list",listName:"Einkaufsliste"},{uid:"2",summary:"Meeting vorbereiten",description:"Prsentation fertigstellen",status:"needs_action",due:new Date(Date.now()+864e5).toISOString().split("T")[0],listId:"todo.work",listName:"Arbeit"},{uid:"3",summary:"Code Review machen",description:"Pull Request #123 prfen",status:"completed",due:new Date(Date.now()-864e5).toISOString().split("T")[0],listId:"todo.work",listName:"Arbeit"}]}}}),this.setup()}setup(){}async onMount(t){await this.mountWithRetry(t,async n=>{try{await this.actions.getTodos.call(this,{hass:n})}catch(i){console.warn(" TodosEntity: Failed to load initial todos:",i)}})}}const b0=new vy,TL=Object.freeze(Object.defineProperty({__proto__:null,TodosEntity:vy,default:b0,todosEntity:b0},Symbol.toStringTag,{value:"Module"}));class AL extends _t{constructor(){super({id:"versionsverlauf",domain:"versionsverlauf",name:"Versionsverlauf",icon:'<svg width="24" height="24" stroke-width="1.5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.5 6L10 18.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M6.5 8.5L3 12L6.5 15.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M17.5 8.5L21 12L17.5 15.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',brandColor:"rgb(88, 86, 214)",category:"system",description:"App-Versionsverlauf und Changelog",relevance:85,attributes:{current_version:"1.1.0",total_versions:0,latest_update:null,changelog_url:"https://raw.githubusercontent.com/fastender/Fast-Search-Card/main/docs/versionsverlauf.md",changelog_content:null,versions:[],last_loaded:null,cache_valid:!1},hasTabs:!1,hasCustomView:!0,showInDetailView:!0,actionButtons:[{id:"back",action:"back",title:"Zurck"},{id:"refresh",action:"refresh",title:"Aktualisieren"},{id:"settings",action:"settings",title:"Einstellungen"}],viewComponent:()=>Ze(()=>Promise.resolve().then(()=>MD),void 0),permissions:["network:read","storage:read","storage:write"],actions:{loadChangelog:async function(){const t=this.attributes.changelog_url;try{const n=this.actions.getFromCache.call(this);if(n&&this.actions.isCacheValid.call(this,n)){console.log(" [Versionsverlauf] Using cached changelog");const a=this.actions.parseMarkdown.call(this,n.content);return this.updateAttributes({changelog_content:n.content,versions:a,total_versions:a.length,latest_update:a[0]?.date||null,cache_valid:!0}),n.content}console.log(" [Versionsverlauf] Fetching changelog from GitHub...");const i=await fetch(t);if(!i.ok)throw new Error(`HTTP ${i.status}: ${i.statusText}`);const s=await i.text(),o=this.actions.parseMarkdown.call(this,s);return this.updateAttributes({changelog_content:s,versions:o,total_versions:o.length,latest_update:o[0]?.date||null,last_loaded:new Date().toISOString(),cache_valid:!0}),this.actions.saveToCache.call(this,s),console.log(` [Versionsverlauf] Loaded ${o.length} versions`),s}catch(n){console.error(" [Versionsverlauf] Failed to load changelog:",n);const i=this.actions.getFromCache.call(this);if(i){console.log(" [Versionsverlauf] Using expired cache as fallback");const s=this.actions.parseMarkdown.call(this,i.content);return this.updateAttributes({changelog_content:i.content,versions:s,total_versions:s.length,cache_valid:!1}),i.content}throw n}},parseMarkdown:function(t){const n=/## Version ([\d.]+) - ([\d-]+)\n\n\*\*Title:\*\* (.+?)\n\*\*Hero:\*\* (.+?)\n(?:\*\*Tags:\*\* (.+?)\n)?\n([\s\S]+?)(?=\n---\n|\n## Version|$)/g,i=[];let s;for(;(s=n.exec(t))!==null;)i.push({version:s[1],date:s[2],dateFormatted:this.actions.formatDate.call(this,s[2]),title:s[3],hero:s[4]!=="none"?s[4]:null,tags:s[5]?s[5].split(",").map(o=>o.trim()):[],content:s[6].trim()});return i},formatDate:function(t){const n=new Date(t),i=["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"];return`${n.getDate()}. ${i[n.getMonth()]}`},getFromCache:function(){try{const t=localStorage.getItem("versionsverlauf_cache");return t?JSON.parse(t):null}catch(t){return console.error("[Versionsverlauf] Failed to read cache:",t),null}},saveToCache:function(t){try{const n={content:t,timestamp:Date.now()};localStorage.setItem("versionsverlauf_cache",JSON.stringify(n)),console.log(" [Versionsverlauf] Cache saved")}catch(n){console.error("[Versionsverlauf] Failed to save cache:",n)}},isCacheValid:function(t){const i=Date.now()-t.timestamp,s=i<36e5;if(s){const o=Math.round(i/6e4);console.log(` [Versionsverlauf] Cache valid (${o}m old)`)}else console.log(" [Versionsverlauf] Cache expired");return s}}})}async onMount(t){await this.mountWithRetry(t,async n=>{try{await this.actions.loadChangelog.call(this)}catch(i){console.warn("[Versionsverlauf] Failed to load initial changelog:",i),this.updateAttributes({versions:[],total_versions:0,cache_valid:!1})}})}}const DL=new AL,FL=Object.freeze(Object.defineProperty({__proto__:null,default:DL},Symbol.toStringTag,{value:"Module"}));class PL extends _t{constructor(t){const{id:n,name:i,serial:s,deviceType:o,type:a,category:l}=t;super({id:n,domain:"printer3d_device",name:i,icon:'<svg width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 19V5C2 3.89543 2.89543 3 4 3H20C21.1046 3 22 3.89543 22 5V19C22 20.1046 21.1046 21 20 21H4C2.89543 21 2 20.1046 2 19Z" stroke="currentColor" stroke-width="1.5"></path><path d="M2 7L22 7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5 5.01L5.01 4.99889" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M8 5.01L8.01 4.99889" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M11 5.01L11.01 4.99889" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',brandColor:"rgb(48, 209, 88)",category:"devices",subcategory:"apps",relevance:75,attributes:{serial:s,device_type:o,printer_type:a,category:l,progress:0,nozzle_temp:null,bed_temp:null,current_step:null,remaining_time:null,is_printing:!1},hasTabs:!0,hasCustomView:!0,showInDetailView:!0,viewComponent:()=>Ze(()=>Promise.resolve().then(()=>ED),void 0),tabs:[{id:"overview",name_de:"bersicht",name_en:"Overview",icon:"mdi:printer-3d-nozzle",component:()=>Ze(()=>Promise.resolve().then(()=>TD),void 0)},{id:"controls",name_de:"Steuerung",name_en:"Controls",icon:"mdi:tune",component:()=>Ze(()=>Promise.resolve().then(()=>AD),void 0)},{id:"diagnostics",name_de:"Diagnose",name_en:"Diagnostics",icon:"mdi:chart-line",component:()=>Ze(()=>Promise.resolve().then(()=>DD),void 0)}],actionButtons:[{id:"overview",action:"overview",title:"bersicht"},{id:"settings",action:"settings",title:"Einstellungen"},{id:"camera",action:"camera",title:"Kamera"},{id:"image",action:"image",title:"Bild"}],actions:{getPrinterData:async function(c){const{hass:d}=c||{};if(!d||!d.states)return null;try{const{serial:u}=this.attributes,h=Object.keys(d.states).filter(v=>v.toLowerCase().includes(u.toLowerCase())),f={progress:"druckfortschritt",nozzleTemp:"temperatur_der_duse",bedTemp:"druckbetttemperatur",currentStep:"aktueller_arbeitsschritt",remainingTime:"verbleibende_zeit",nozzleSize:"dusengrosse",nozzleType:"dusentyp",currentLayer:"aktuelle_schicht",totalLayers:"gesamtzahl_der_schichten",startTime:"startzeit",endTime:"vrs_fertigstellung",printStatus:"druckstatus",printType:"drucktyp",speedProfile:"geschwindigkeitsprofil",fanSpeed:"druckkopflufterdrehzahl",heatbreakFanSpeed:"hotendlufterdrehzahl",targetNozzle:"zieltemperatur_der_duse",targetBed:"zieltemperatur_des_druckbett",chamberLight:"druckraumbeleuchtung",cameraEnabled:"enable_camera",imageCamera:"verwenden_sie_eine_bildsensorkamera",alertTone:"aufforderungston_zulassen",pause:"druckvorgang_anhalten",resume:"druckvorgang_fortsetzen",stop:"druckvorgang_beenden",forceUpdate:"aktualisierung_erzwingen",printError:"druckfehler",lanMode:"entwickler_lan_modus",firmwareStatus:"firmware_status",hmsError:"hms_fehler",mqttEncryption:"mqtt_verschlusselungsfirmware",online:"online",timelapse:"aufnahme_von_zeitraffern",extruderFilament:"extruder_filament_status",totalUsage:"gesamtnutzung",ipAddress:"ip_adresse",mqttMode:"mqtt_verbindungsmodus",sdCard:"sd_kartenstatus",wifiSignal:"wi_fi_signalqualitat"},p={};h.forEach(v=>{const w=d.states[v];if(!w)return;const S=v.toLowerCase();Object.keys(f).forEach(x=>{const k=f[x].toLowerCase();S.endsWith(k)&&!p[x]&&(p[x]=w.state,p[x+"_entity"]=w)})});const g=Object.keys(d.states).find(v=>{const w=v.toLowerCase();return w.startsWith("camera.")&&w.includes(u.toLowerCase())&&(w.endsWith("_kamera")||w.endsWith("_camera"))});g&&(p.cameraEntityId=g,p.cameraEntity=d.states[g],this._cameraLogged||(console.log(" Found camera entity:",g),this._cameraLogged=!0));let m=null,y=null,b=null;if(d.devices){const v=[];Object.keys(d.devices).forEach(w=>{const S=d.devices[w],x=S.name||"",k=JSON.stringify(S.identifiers||[]);if(x.toLowerCase().includes("bambu")||k.toLowerCase().includes("bambu")){const N=x.toLowerCase().includes(u.toLowerCase())||k.toLowerCase().includes(u.toLowerCase());v.push({id:w,name:x,identifiers:S.identifiers,area_id:S.area_id,matches_serial:N}),N&&(y=w,m=S.area_id)}}),this._deviceLogged||(console.log(" [BAMBU DEVICES] Found:",v.length,"devices"),y?console.log(" [MATCH] Device ID:",y,"| Area ID:",m):console.log(" [NO MATCH] Serial not found in",v.length,"Bambu devices"),this._deviceLogged=!0)}return m&&d.areas&&d.areas[m]&&(b=d.areas[m].name),this.updateAttributes({progress:parseFloat(p.progress)||0,nozzle_temp:p.nozzleTemp,bed_temp:p.bedTemp,current_step:p.currentStep,remaining_time:p.remainingTime,is_printing:p.progress>0&&p.currentStep!=="idle",area_id:m,camera_entity_id:p.cameraEntityId||null}),this.area_id=m,this.area=b,p}catch(u){return console.error("Failed to get printer data:",u),null}},refresh:async function(c){return await this.executeAction("getPrinterData",c)}}}),this._originalConfig=t}async onMount(t){await super.onMount(t),this._hass=t.hass,await this.executeAction("getPrinterData",{hass:t.hass}),this._updateInterval=setInterval(async()=>{await this.executeAction("getPrinterData",{hass:this._hass})},2e3)}async onUnmount(){this._updateInterval&&(clearInterval(this._updateInterval),this._updateInterval=null),await super.onUnmount()}getConfig(){return this._originalConfig}toEntity(){const t=super.toEntity();return t.area=this.area||null,t}}function Mi(){try{const e=localStorage.getItem("energy_dashboard_sensors");if(e)return JSON.parse(e)}catch(e){console.error("Failed to load sensor config:",e)}return{gridImportSensor:null,kwhSensor:null,pvTotalSensor:null}}function IL(e){try{localStorage.setItem("energy_dashboard_sensors",JSON.stringify(e)),console.log(" Sensor config saved:",e)}catch(t){console.error("Failed to save sensor config:",t)}}class RL extends _t{constructor(t){const{id:n,name:i,serial:s,deviceType:o,type:a,category:l}=t;super({id:n,domain:"energy_dashboard_device",name:i,icon:'<svg width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 19V5C2 3.89543 2.89543 3 4 3H20C21.1046 3 22 3.89543 22 5V19C22 20.1046 21.1046 21 20 21H4C2.89543 21 2 20.1046 2 19Z" stroke="currentColor" stroke-width="1.5"></path><path d="M2 7L22 7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5 5.01L5.01 4.99889" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M8 5.01L8.01 4.99889" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M11 5.01L11.01 4.99889" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',brandColor:"rgb(48, 209, 88)",category:"sensors",subcategory:"apps",relevance:75,attributes:{serial:s,device_type:o,energy_type:a,category:l,progress:0,nozzle_temp:null,bed_temp:null,current_step:null,remaining_time:null,is_printing:!1},hasTabs:!0,hasCustomView:!0,showInDetailView:!0,viewComponent:()=>Ze(()=>Promise.resolve().then(()=>FD),void 0),tabs:[{id:"controls",name_de:"Steuerung",name_en:"Controls",icon:"mdi:tune",component:()=>Ze(()=>Promise.resolve().then(()=>pm),void 0)},{id:"sensors",name_de:"Sensoren",name_en:"Sensors",icon:"mdi:chart-line",component:()=>Ze(()=>Promise.resolve().then(()=>PD),void 0)},{id:"diagnostics",name_de:"Diagnose",name_en:"Diagnostics",icon:"mdi:wrench",component:()=>Ze(()=>Promise.resolve().then(()=>ID),void 0)},{id:"misc",name_de:"Sonstiges",name_en:"Miscellaneous",icon:"mdi:dots-horizontal",component:()=>Ze(()=>Promise.resolve().then(()=>pm),void 0)}],actionButtons:[{id:"overview",action:"overview",title:"bersicht"},{id:"settings",action:"settings",title:"Einstellungen"}],actions:{loadEnergyPreferences:async function(c){const{hass:d}=c||{};if(!d||!d.connection)return null;try{const u=await d.connection.sendMessagePromise({type:"energy/get_prefs"});console.log(" Energy Preferences loaded:",u),this.updateAttributes({energy_prefs:u});let h=null;if(u.energy_sources){const f=u.energy_sources.find(p=>p.type==="grid");f&&f.flow_from&&f.flow_from.length>0&&(h=f.flow_from[0].stat_energy_from)}return{prefs:u,gridImportSensor:h}}catch(u){return console.error("Failed to load energy preferences:",u),null}},getGridImportValue:async function(c){const{hass:d}=c||{};if(!d||!d.states)return 0;try{const h=Mi().gridImportSensor||this.attributes.grid_import_sensor;if(!h)return console.warn("No grid import sensor configured"),0;const f=d.states[h];if(!f)return console.warn("Grid import sensor not found:",h),0;const p=parseFloat(f.state)||0;return this.updateAttributes({grid_import_value:p,grid_import_unit:f.attributes?.unit_of_measurement||"kWh"}),p}catch(u){return console.error("Failed to get grid import value:",u),0}},updateSensorConfig:async function(c){const{gridImportSensor:d,kwhSensor:u,pvTotalSensor:h}=c,p={...Mi(),...d!==void 0&&{gridImportSensor:d},...u!==void 0&&{kwhSensor:u},...h!==void 0&&{pvTotalSensor:h}};return IL(p),d!==void 0&&this.updateAttributes({grid_import_sensor:d}),u!==void 0&&this.updateAttributes({kwh_sensor:u}),h!==void 0&&this.updateAttributes({pv_total_sensor:h}),{success:!0}},getEnergyData:async function(c){const{hass:d}=c||{};if(!d||!d.states)return null;try{const{serial:u}=this.attributes,h=Object.keys(d.states).filter(v=>v.toLowerCase().includes(u.toLowerCase())),f={progress:"druckfortschritt",nozzleTemp:"temperatur_der_duse",bedTemp:"druckbetttemperatur",currentStep:"aktueller_arbeitsschritt",remainingTime:"verbleibende_zeit",nozzleSize:"dusengrosse",nozzleType:"dusentyp",currentLayer:"aktuelle_schicht",totalLayers:"gesamtzahl_der_schichten",startTime:"startzeit",endTime:"vrs_fertigstellung",printStatus:"druckstatus",printType:"drucktyp",speedProfile:"geschwindigkeitsprofil",fanSpeed:"druckkopflufterdrehzahl",heatbreakFanSpeed:"hotendlufterdrehzahl",targetNozzle:"zieltemperatur_der_duse",targetBed:"zieltemperatur_des_druckbett",chamberLight:"druckraumbeleuchtung",cameraEnabled:"enable_camera",imageCamera:"verwenden_sie_eine_bildsensorkamera",alertTone:"aufforderungston_zulassen",pause:"druckvorgang_anhalten",resume:"druckvorgang_fortsetzen",stop:"druckvorgang_beenden",forceUpdate:"aktualisierung_erzwingen",printError:"druckfehler",lanMode:"entwickler_lan_modus",firmwareStatus:"firmware_status",hmsError:"hms_fehler",mqttEncryption:"mqtt_verschlusselungsfirmware",online:"online",timelapse:"aufnahme_von_zeitraffern",extruderFilament:"extruder_filament_status",totalUsage:"gesamtnutzung",ipAddress:"ip_adresse",mqttMode:"mqtt_verbindungsmodus",sdCard:"sd_kartenstatus",wifiSignal:"wi_fi_signalqualitat"},p={};h.forEach(v=>{const w=d.states[v];if(!w)return;const S=v.toLowerCase();Object.keys(f).forEach(x=>{const k=f[x].toLowerCase();S.endsWith(k)&&!p[x]&&(p[x]=w.state,p[x+"_entity"]=w)})});const g=Object.keys(d.states).find(v=>{const w=v.toLowerCase();return w.startsWith("camera.")&&w.includes(u.toLowerCase())&&(w.endsWith("_kamera")||w.endsWith("_camera"))});g&&(p.cameraEntityId=g,p.cameraEntity=d.states[g],this._cameraLogged||(console.log(" Found camera entity:",g),this._cameraLogged=!0));let m=null,y=null,b=null;if(d.devices){const v=[];Object.keys(d.devices).forEach(w=>{const S=d.devices[w],x=S.name||"",k=JSON.stringify(S.identifiers||[]);if(x.toLowerCase().includes("bambu")||k.toLowerCase().includes("bambu")){const N=x.toLowerCase().includes(u.toLowerCase())||k.toLowerCase().includes(u.toLowerCase());v.push({id:w,name:x,identifiers:S.identifiers,area_id:S.area_id,matches_serial:N}),N&&(y=w,m=S.area_id)}}),this._deviceLogged||(console.log(" [BAMBU DEVICES] Found:",v.length,"devices"),y?console.log(" [MATCH] Device ID:",y,"| Area ID:",m):console.log(" [NO MATCH] Serial not found in",v.length,"Bambu devices"),this._deviceLogged=!0)}return m&&d.areas&&d.areas[m]&&(b=d.areas[m].name),this.updateAttributes({progress:parseFloat(p.progress)||0,nozzle_temp:p.nozzleTemp,bed_temp:p.bedTemp,current_step:p.currentStep,remaining_time:p.remainingTime,is_printing:p.progress>0&&p.currentStep!=="idle",area_id:m,camera_entity_id:p.cameraEntityId||null}),this.area_id=m,this.area=b,p}catch(u){return console.error("Failed to get energy data:",u),null}},getHistoricalPeriod:async function(c){const{hass:d,periodType:u="day",periodIndex:h=0}=c||{};if(!d||!d.connection)return null;try{const p=Mi().kwhSensor,{start:g,end:m,label:y}=this._calculatePeriodDates(u,h,d.language||"de");console.log(` Fetching statistics for ${y}:`,g,"",m);const v=(await d.connection.sendMessagePromise({type:"recorder/statistics_during_period",start_time:g.toISOString(),end_time:m.toISOString(),statistic_ids:[p],period:"hour"}))[p];if(!v||v.length===0)return console.warn("No statistics found for period:",y),{consumption:0,unit:"kWh",periodLabel:y,periodType:u,periodIndex:h};const w=v[0]?.sum||0,S=v[v.length-1]?.sum||0,k=(S-w)/1e3;return console.log(` ${y}: ${k.toFixed(2)} kWh`),{consumption:parseFloat(k.toFixed(2)),unit:"kWh",periodLabel:y,periodType:u,periodIndex:h,startValue:w/1e3,endValue:S/1e3}}catch(f){return console.error("Failed to get historical period:",f),null}},getCurrentPeriodConsumption:async function(c){const{hass:d,periodType:u="day"}=c||{};if(!d||!d.connection)return{consumption:0,unit:"kWh",periodLabel:"",trend:0,trendPositive:!1};try{const h=Mi(),f=h.kwhSensor||h.kwh;if(!f)return console.warn("No kWh sensor configured for getCurrentPeriodConsumption"),{consumption:0,unit:"kWh",periodLabel:"",trend:0,trendPositive:!1};const{start:p,end:g,label:m}=this._calculatePeriodDates(u,0,d.language||"de");let y;switch(u){case"day":y="hour";break;case"week":y="day";break;case"month":y="day";break;case"year":y="month";break;default:y="hour"}let b=0;try{let L,_;switch(u){case"day":L=new Date(p.getTime()-36e5),_=new Date(p);break;case"week":const T=new Date(p.getTime()-864e5);L=new Date(T.getFullYear(),T.getMonth(),T.getDate(),0,0,0),_=new Date(T.getFullYear(),T.getMonth(),T.getDate(),23,59,59);break;case"month":const R=new Date(p);R.setDate(0),L=new Date(R.getFullYear(),R.getMonth(),R.getDate(),0,0,0),_=new Date(R.getFullYear(),R.getMonth(),R.getDate(),23,59,59);break;case"year":const j=new Date(p.getFullYear()-1,11,31);L=new Date(j.getFullYear(),j.getMonth(),j.getDate(),0,0,0),_=new Date(j.getFullYear(),j.getMonth(),j.getDate(),23,59,59);break}const I=await this._fetchStatistics({hass:d,startTime:L,endTime:_,sensorIds:[f],period:y});I?.[f]?.length>0&&(b=I[f][I[f].length-1]?.sum||0)}catch(L){console.warn("Could not fetch baseline for consumption, starting from 0:",L.message),b=0}const v=await this._fetchStatistics({hass:d,startTime:p,endTime:g,sensorIds:[f],period:y});if(!v||!v[f]||v[f].length===0)return{consumption:0,unit:"kWh",periodLabel:m,trend:0,trendPositive:!1};const w=v[f],x=((w[w.length-1]?.sum||0)-b)/1e3,k=0,N=k>0;return{consumption:parseFloat(x.toFixed(2)),unit:"kWh",periodLabel:m,trend:Math.abs(k),trendPositive:N}}catch(h){return console.error("Failed to get current period consumption:",h),{consumption:0,unit:"kWh",periodLabel:"",trend:0,trendPositive:!1}}},getChartData:async function(c){const{hass:d,periodType:u="day",sensorId:h}=c||{};if(!d||!d.connection)return{periodType:u,periodLabel:"",chartType:"line",unit:"kWh",dataPoints:[]};try{const f=Mi(),p=h||f.kwhSensor;if(!p)return console.warn("No kWh sensor configured for getChartData"),{periodType:u,periodLabel:"",chartType:"line",unit:"kWh",dataPoints:[]};const g=new Date,m=d.language||"de";if(u==="year"){const L=g.getFullYear(),_=L-1,I=new Date(_,0,1,0,0,0),T=new Date(_,11,31,23,59,59),R=new Date(L,0,1,0,0,0),j=new Date;let z=0;try{const C=await this._fetchStatistics({hass:d,startTime:new Date(_-1,11,1,0,0,0),endTime:new Date(_-1,11,31,23,59,59),sensorIds:[p],period:"month"});C?.[p]?.length>0&&(z=C[p][C[p].length-1]?.sum||0)}catch(C){console.warn("Could not fetch baseline for previous year:",C.message)}const B=await this._fetchStatistics({hass:d,startTime:I,endTime:T,sensorIds:[p],period:"month"}),V=await this._fetchStatistics({hass:d,startTime:R,endTime:j,sensorIds:[p],period:"day"});let A=0;B?.[p]?.length>0&&(A=((B[p][B[p].length-1]?.sum||0)-z)/1e3);let F=0;const M=B?.[p]?.length>0?B[p][B[p].length-1]?.sum||0:z;return V?.[p]?.length>0&&(F=((V[p][V[p].length-1]?.sum||0)-M)/1e3),{periodType:"year",periodLabel:`${_} vs ${L}`,chartType:"bar",unit:"kWh",dataPoints:[{time:_.toString(),value:Math.max(0,parseFloat(A.toFixed(2))),timestamp:T.toISOString()},{time:L.toString(),value:Math.max(0,parseFloat(F.toFixed(2))),timestamp:j.toISOString()}]}}let y,b,v,w;switch(u){case"day":y=new Date(g.getFullYear(),g.getMonth(),g.getDate(),0,0,0),b=new Date(g.getFullYear(),g.getMonth(),g.getDate(),23,59,59),v="hour",w="line";break;case"week":y=new Date(g.getTime()-168*36e5),b=g,v="day",w="bar";break;case"month":y=new Date(g.getFullYear(),g.getMonth(),1,0,0,0),b=new Date(g.getFullYear(),g.getMonth()+1,0,23,59,59),v="day",w="bar";break;default:y=new Date(g.getFullYear(),g.getMonth(),g.getDate(),0,0,0),b=g,v="hour",w="line"}let S=0;try{let L,_;switch(u){case"day":L=new Date(y.getTime()-36e5),_=new Date(y);break;case"week":const T=new Date(y.getTime()-864e5);L=new Date(T.getFullYear(),T.getMonth(),T.getDate(),0,0,0),_=new Date(T.getFullYear(),T.getMonth(),T.getDate(),23,59,59);break;case"month":const R=new Date(y);R.setDate(0),L=new Date(R.getFullYear(),R.getMonth(),R.getDate(),0,0,0),_=new Date(R.getFullYear(),R.getMonth(),R.getDate(),23,59,59);break}const I=await this._fetchStatistics({hass:d,startTime:L,endTime:_,sensorIds:[p],period:v});I?.[p]?.length>0&&(S=I[p][I[p].length-1]?.sum||0)}catch(L){console.warn("Could not fetch baseline value, starting from 0:",L.message),S=0}const x=await this._fetchStatistics({hass:d,startTime:y,endTime:b,sensorIds:[p],period:v});if(!x||!x[p]||x[p].length===0)return{periodType:u,periodLabel:"",chartType:w,unit:"kWh",dataPoints:[]};const k=x[p],N=[];for(let L=0;L<k.length;L++){const _=k[L],I=new Date(_.start);let T;if(L===0)T=((_.sum||0)-S)/1e3;else{const j=k[L-1]?.sum||0;T=((_.sum||0)-j)/1e3}let R;u==="day"?R=I.toLocaleTimeString(m==="de"?"de-DE":"en-US",{hour:"2-digit",minute:"2-digit"}):u==="week"?R=I.toLocaleDateString(m==="de"?"de-DE":"en-US",{weekday:"short",day:"numeric"}):u==="month"?R=I.toLocaleDateString(m==="de"?"de-DE":"en-US",{day:"numeric"}):u==="year"&&(R=I.toLocaleDateString(m==="de"?"de-DE":"en-US",{month:"short"})),N.push({time:R,value:Math.max(0,parseFloat(T.toFixed(2))),timestamp:I.toISOString()})}return{periodType:u,periodLabel:this._calculatePeriodDates(u,0,m).label,chartType:w,unit:"kWh",dataPoints:N}}catch(f){return console.error("Failed to get chart data:",f),{periodType:u,periodLabel:"",chartType:"line",unit:"kWh",dataPoints:[]}}},_fetchStatistics:async function(c){const{hass:d,startTime:u,endTime:h,sensorIds:f,period:p}=c;try{return await d.connection.sendMessagePromise({type:"recorder/statistics_during_period",start_time:u.toISOString(),end_time:h.toISOString(),statistic_ids:f,period:p})}catch(g){console.warn("Statistics API failed, falling back to History API:",g.message);try{const m=await d.callWS({type:"history/history_during_period",start_time:u.toISOString(),end_time:h.toISOString(),entity_ids:f,minimal_response:!1,no_attributes:!1}),y={};return f.forEach((b,v)=>{const w=Array.isArray(m)?m[v]:m[b];if(!w||w.length===0){y[b]=[];return}const S=this._aggregateHistory(w,p,u,h);y[b]=S}),y}catch(m){throw console.error("Both Statistics and History API failed:",m),m}}},_aggregateHistory:function(c,d,u,h){const f=[],p=this._getPeriodMilliseconds(d);let g=new Date(u);for(;g<h;){const m=new Date(g.getTime()+p),y=c.filter(v=>{const w=new Date(v.last_changed||v.lu);return w>=g&&w<m});let b=0;if(y.length>0){const v=y[y.length-1];b=parseFloat(v.state||v.s)*1e3}else f.length>0&&(b=f[f.length-1].sum);f.push({start:g.toISOString(),sum:b}),g=m}return f},_getPeriodMilliseconds:function(c){switch(c){case"hour":return 36e5;case"day":return 864e5;case"month":return 2592e6;default:return 36e5}},_calculatePeriodDates:function(c,d,u="de"){const h=new Date;let f,p,g;switch(c){case"day":const m=new Date(h);m.setDate(h.getDate()+d),f=new Date(m.setHours(0,0,0,0)),p=new Date(m.setHours(23,59,59,999)),d===0?g=u==="de"?"Heute":"Today":d===-1?g=u==="de"?"Gestern":"Yesterday":g=f.toLocaleDateString(u==="de"?"de-DE":"en-US",{weekday:"short",day:"2-digit",month:"short"});break;case"week":const y=new Date(h),b=y.getDay(),v=(b===0?-6:1)-b;y.setDate(y.getDate()+v+d*7),f=new Date(y.setHours(0,0,0,0)),p=new Date(y),p.setDate(p.getDate()+6),p.setHours(23,59,59,999);const w=this._getISOWeek(f),S=f.getFullYear();d===0?g=u==="de"?`KW ${w}`:`Week ${w}`:g=u==="de"?`KW ${w} ${S}`:`Week ${w} ${S}`;break;case"month":const x=new Date(h.getFullYear(),h.getMonth()+d,1);f=new Date(x.getFullYear(),x.getMonth(),1,0,0,0,0),d===0?p=new Date:p=new Date(x.getFullYear(),x.getMonth()+1,0,23,59,59,999),g=f.toLocaleDateString(u==="de"?"de-DE":"en-US",{month:"short",year:d!==0?"numeric":void 0});break;case"year":const N=h.getFullYear()+d;f=new Date(N,0,1,0,0,0,0),d===0?p=new Date:p=new Date(N,11,31,23,59,59,999),g=N.toString();break;default:f=new Date(h.setHours(0,0,0,0)),p=new Date(h.setHours(23,59,59,999)),g=u==="de"?"Heute":"Today"}return{start:f,end:p,label:g}},_getISOWeek:function(c){const d=new Date(c.valueOf()),u=(c.getDay()+6)%7;d.setDate(d.getDate()-u+3);const h=d.valueOf();return d.setMonth(0,1),d.getDay()!==4&&d.setMonth(0,1+(4-d.getDay()+7)%7),1+Math.ceil((h-d)/6048e5)},refresh:async function(c){return await this.executeAction("getEnergyData",c)}}}),this._originalConfig=t}async onMount(t){await this.mountWithRetry(t,async n=>{this._hass=n;const i=Mi();i.gridImportSensor&&this.updateAttributes({grid_import_sensor:i.gridImportSensor}),i.kwhSensor&&this.updateAttributes({kwh_sensor:i.kwhSensor}),i.pvTotalSensor&&this.updateAttributes({pv_total_sensor:i.pvTotalSensor}),await this._loadAreaFromSensors(n,i),await this.executeAction("loadEnergyPreferences",{hass:n}),await this.executeAction("getGridImportValue",{hass:n}),await this.executeAction("getEnergyData",{hass:n})})}async _loadAreaFromSensors(t,n){console.log(" [Energy] Loading area from sensors...",{config:n});try{const i=n.kwhSensor||n.gridImportSensor||n.pvTotalSensor;if(!i){console.log(" [Energy] No sensor configured, cannot load area");return}console.log(" [Energy] Using sensor:",i);let s=null,o=null;console.log(" [Energy] hass.entities exists:",!!t.entities),console.log(" [Energy] hass.devices exists:",!!t.devices),console.log(" [Energy] hass.areas exists:",!!t.areas);let a=null;if(t.entities&&t.entities[i]?(a=t.entities[i],console.log(" [Energy] Entity entry found:",a),console.log(" [Energy] Entity area_id:",a.area_id),a.area_id&&(s=a.area_id)):console.log(" [Energy] Entity NOT found in hass.entities"),!s&&t.devices&&a&&a.device_id){console.log(" [Energy] Trying device fallback, device_id:",a.device_id);const l=t.devices[a.device_id];console.log(" [Energy] Device found:",l),console.log(" [Energy] Device area_id:",l?.area_id),l&&l.area_id&&(s=l.area_id)}s&&t.areas&&t.areas[s]?(o=t.areas[s].name,console.log(" [Energy] Area found:",o,"(ID:",s+")")):console.log(" [Energy] No area found for sensor:",i),this.area_id=s,this.area=o,console.log(" [Energy] AREA SET:",{area_id:s,area_name:o}),console.log(" [Energy] this.area is now:",this.area),this.updateAttributes({area_id:s,area:o})}catch(i){console.error("Failed to load area from sensors:",i)}}async onUnmount(){await super.onUnmount()}getConfig(){return this._originalConfig}toEntity(){const t=super.toEntity();return t.area=this.area||this.attributes?.area||null,console.log(" [Energy] toEntity() called, returning area:",t.area,"(this.area:",this.area,", attributes.area:",this.attributes?.area,")"),t}}class BL extends _t{constructor(t){const{id:n,name:i,entity_id:s,category:o}=t;super({id:n,domain:"weather_device",name:i,icon:"mdi:weather-partly-cloudy",brandColor:"rgb(60, 211, 254)",category:"sensors",subcategory:"apps",relevance:75,attributes:{entity_id:s,category:o,current_condition:null,current_temperature:null,has_forecast:!1},hasTabs:!1,hasCustomView:!0,showInDetailView:!0,viewComponent:()=>Ze(()=>Promise.resolve().then(()=>jD),void 0),actionButtons:[{id:"back",action:"back",title:"Zurck"},{id:"refresh",action:"refresh",title:"Aktualisieren"},{id:"settings",action:"settings",title:"Einstellungen"}],actions:{getCurrentWeather:async function(a){const{hass:l}=a||{};if(!l||!this.attributes.entity_id)return null;try{const c=l.states[this.attributes.entity_id];if(!c)return null;let d=null,u=null;if(console.log(" [Weather] Getting area for:",this.attributes.entity_id),console.log(" [Weather] hass.entities exists:",!!l.entities),console.log(" [Weather] hass.devices exists:",!!l.devices),console.log(" [Weather] hass.areas exists:",!!l.areas),l.entities&&l.entities[this.attributes.entity_id]){const h=l.entities[this.attributes.entity_id];console.log(" [Weather] Entity entry found:",h),console.log(" [Weather] Entity area_id:",h.area_id),h.area_id&&(d=h.area_id)}else console.log(" [Weather] Entity NOT found in hass.entities"),l.entities&&console.log(" [Weather] Available entities:",Object.keys(l.entities).slice(0,5));if(!d&&l.devices&&c.device_id){console.log(" [Weather] Trying device fallback, device_id:",c.device_id);const h=l.devices[c.device_id];h&&h.area_id&&(d=h.area_id)}return d&&l.areas&&l.areas[d]?(u=l.areas[d].name,console.log(" [Weather] Area found:",u,"(ID:",d+")")):console.log(" [Weather] No area found! area_id:",d),this.updateAttributes({current_condition:c.state,current_temperature:c.attributes.temperature,has_forecast:!!c.attributes.forecast,area_id:d}),this.area_id=d,this.area=u,{entity_id:this.attributes.entity_id,condition:c.state,temperature:c.attributes.temperature,temperature_unit:c.attributes.temperature_unit||"C",humidity:c.attributes.humidity,pressure:c.attributes.pressure,pressure_unit:c.attributes.pressure_unit||"hPa",wind_speed:c.attributes.wind_speed,wind_speed_unit:c.attributes.wind_speed_unit||"km/h",wind_bearing:c.attributes.wind_bearing,apparent_temperature:c.attributes.apparent_temperature,cloud_coverage:c.attributes.cloud_coverage,dew_point:c.attributes.dew_point,visibility:c.attributes.visibility,visibility_unit:c.attributes.visibility_unit||"km",forecast:c.attributes.forecast||[],friendly_name:c.attributes.friendly_name||i}}catch(c){return console.error(`Failed to get weather for ${this.attributes.entity_id}:`,c),null}},getForecast:async function(a){const{hass:l,type:c="daily"}=a||{};if(!l||!this.attributes.entity_id)return[];try{const d=await l.callWS({type:"call_service",domain:"weather",service:"get_forecasts",service_data:{entity_id:this.attributes.entity_id,type:c},return_response:!0});if(d&&d.response&&d.response[this.attributes.entity_id])return d.response[this.attributes.entity_id].forecast||[];const u=l.states[this.attributes.entity_id];return u&&u.attributes.forecast?u.attributes.forecast:[]}catch(d){return console.error(`Failed to get forecast for ${this.attributes.entity_id}:`,d),[]}}}})}async onMount(t){await this.mountWithRetry(t,async n=>{await this.executeAction("getCurrentWeather",{hass:n})})}}function w0(e){const{category:t}=e;switch(t){case"printer3d":return new PL(e);case"energy_dashboard":return new RL(e);case"weather":return new BL(e);default:return console.error(`Unknown device category: ${t}`),null}}class zL extends _t{constructor(){super({id:"integration",domain:"integration",name:"Integration",icon:'<svg width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 19V5C2 3.89543 2.89543 3 4 3H20C21.1046 3 22 3.89543 22 5V19C22 20.1046 21.1046 21 20 21H4C2.89543 21 2 20.1046 2 19Z" stroke="currentColor" stroke-width="1.5"></path><path d="M2 7L22 7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5 5.01L5.01 4.99889" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M8 5.01L8.01 4.99889" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M11 5.01L11.01 4.99889" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',brandColor:"rgb(175, 82, 222)",category:"apps",relevance:90,attributes:{device_count:0,last_added:null},hasTabs:!1,hasCustomView:!0,showInDetailView:!0,actionButtons:[{id:"back",action:"back",title:"Zurck"},{id:"management",action:"settings",title:"Verwalten"}],viewComponent:()=>Ze(()=>Promise.resolve().then(()=>nF),void 0),actions:{getDevices:async function(t){try{return this.actions._loadConfig.call(this).devices||[]}catch(n){return console.error("Failed to get devices:",n),[]}},addDevice:async function(t){const{deviceData:n}=t;try{const i=this.actions._loadConfig.call(this);n.id||(n.id=`device_${Date.now()}`),n.addedAt=n.addedAt||Date.now(),i.devices.push(n),this.actions._saveConfig.call(this,i);const s=w0(n);return s&&(Fe.register(s),Fe.isInitialized&&this._hass&&await s.onMount({hass:this._hass,storage:{get:o=>localStorage.getItem(o),set:(o,a)=>localStorage.setItem(o,a),delete:o=>localStorage.removeItem(o),clearNamespace:o=>{Object.keys(localStorage).forEach(a=>{a.startsWith(o)&&localStorage.removeItem(a)})}}})),await this.updateDeviceStats(),{success:!0,device:n}}catch(i){return console.error("Failed to add device:",i),{success:!1,error:i.message}}},removeDevice:async function(t){const{deviceId:n}=t;try{const i=this.actions._loadConfig.call(this);return i.devices=i.devices.filter(s=>s.id!==n),this.actions._saveConfig.call(this,i),await Fe.unregister(n),await this.updateDeviceStats(),{success:!0}}catch(i){return console.error("Failed to remove device:",i),{success:!1,error:i.message}}},_loadConfig:function(){try{const t=localStorage.getItem("integration_config");if(t)return JSON.parse(t)}catch(t){console.error("Failed to load integration config:",t)}return{devices:[]}},_saveConfig:function(t){try{localStorage.setItem("integration_config",JSON.stringify(t))}catch(n){console.error("Failed to save integration config:",n)}}}})}async onMount(t){await this.mountWithRetry(t,async n=>{this._hass=n,await this.loadSavedDevices({...t,hass:n}),await this.updateDeviceStats()})}async loadSavedDevices(t){try{const i=(await this.executeAction("_loadConfig")).devices||[];for(const s of i)try{const o=w0(s);o&&(console.log(" [Integration] Mounting device:",o.id,"area before mount:",o.area),await o.onMount({hass:t.hass,storage:t.storage}),console.log(" [Integration] Mount completed for:",o.id,"area after mount:",o.area),Fe.register(o),console.log(" [Integration] Registered device:",o.id,"with area:",o.area))}catch(o){console.error(`Failed to load device ${s.id}:`,o)}}catch(n){console.error("Failed to load saved devices:",n)}}async updateDeviceStats(){try{const n=(await this.executeAction("_loadConfig")).devices||[],i=n.length>0?n[n.length-1].addedAt:null;this.updateAttributes({device_count:n.length,last_added:i})}catch(t){console.error("Failed to update device stats:",t)}}async onUnmount(){await super.onUnmount()}}const VL=new zL,OL=Object.freeze(Object.defineProperty({__proto__:null,default:VL},Symbol.toStringTag,{value:"Module"}));function by({entity:e,hass:t,lang:n="de",onBack:i,onNavigate:s,onServiceCall:o}){return console.log(" SettingsView mounted with entity:",e),console.log(" SettingsView received hass:",t?"AVAILABLE":"MISSING"),t&&(console.log(" SettingsView hass.states:",!!t.states),console.log(" SettingsView hass.callWS:",!!t.callWS)),r("div",{className:"system-entity-view settings-view",children:r(Xo,{lang:n,onTabChange:a=>{if(console.log("Settings internal tab changed to:",a),e&&e.routes){const l=Object.keys(e.routes)[a];l&&s&&console.log("Route would be:",e.routes[l])}},systemEntity:e,hass:t})})}const WL=()=>by,HL=Object.freeze(Object.defineProperty({__proto__:null,createSettingsView:WL,default:by},Symbol.toStringTag,{value:"Module"}));function $L({entity:e,hass:t,lang:n="de",onBack:i,onNavigate:s}){console.log(" AllSchedulesView RENDERED",{entity:e,hass:t,lang:n,hasOnNavigate:!!s});const o=oe(t),[a,l]=D(!1);Y(()=>{let F=!0;return(()=>{if(t&&t.states)o.current=t,F&&l(!0);else{console.log(" HASS ohne states - hole echtes HASS aus DOM...");const C=document.querySelector("home-assistant");C&&C.hass&&C.hass.states?(console.log(" Echtes HASS gefunden:",Object.keys(C.hass.states).length,"entities"),o.current=C.hass,F&&l(!0)):(console.warn(" Kein echtes HASS im DOM gefunden"),o.current=t,F&&l(!1))}})(),()=>{F=!1}},[t]);const[c,d]=D("all"),[u,h]=D([]),[f,p]=D([]),[g,m]=D(!1),[y,b]=D(!0),[v,w]=D(0),[S,x]=D({x:0,width:0}),k=oe(null),N=oe(null),[L,_]=D(!1),I=F=>te(`schedule.${F}`,n),T=F=>!a||!o.current?.states?.[F]?F:o.current.states[F].attributes?.friendly_name||F,R=Ie(F=>(n==="de"?{climate:"Klima",light:"Licht",switch:"Schalter",cover:"Rollladen",fan:"Lfter",media_player:"Medien",scene:"Szene",script:"Skript",automation:"Automation"}:{climate:"Climate",light:"Light",switch:"Switch",cover:"Cover",fan:"Fan",media_player:"Media",scene:"Scene",script:"Script",automation:"Automation"})[F]||F,[n]),j=F=>F?.type==="timer"||F==="timer"?r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r("path",{d:"M12 12C15.866 12 19 8.86599 19 5H5C5 8.86599 8.13401 12 12 12ZM12 12C15.866 12 19 15.134 19 19H5C5 15.134 8.13401 12 12 12Z",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M5 2L12 2L19 2",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M5 22H12L19 22",strokeLinecap:"round",strokeLinejoin:"round"})]}):r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r("path",{d:"M9 2L15 2",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 10L12 14",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M12 22C16.4183 22 20 18.4183 20 14C20 9.58172 16.4183 6 12 6C7.58172 6 4 9.58172 4 14C4 18.4183 7.58172 22 12 22Z",strokeLinecap:"round",strokeLinejoin:"round"})]}),z=F=>{const M=[],C=[],X=[I("monday"),I("tuesday"),I("wednesday"),I("thursday"),I("friday"),I("saturday"),I("sunday")],q=["mon","tue","wed","thu","fri","sat","sun"];for(const E of F)try{const ee=E.attributes,ue=ee.timeslots?.[0],K=ee.actions?.[0];let Q=I("noDays");const ie=ee.weekdays||[];ie.includes("daily")?Q=I("daily"):ie.includes("weekdays")?Q=I("weekdays"):ie.includes("weekend")?Q=I("weekend"):ie.length>0&&(Q=ie.map(U=>X[q.indexOf(U)]||U).join(", "));let se=null;const xe=K?.service,we=K?.data;xe&&(xe==="climate.set_temperature"?se=we?.temperature?`${I("schedule.setTemperature")} - ${we.temperature}C`:I("schedule.setTemperature"):xe==="cover.open_cover"?se=I("schedule.open"):xe==="cover.close_cover"?se=I("schedule.close"):xe==="cover.set_cover_position"?se=we?.position?`${I("schedule.setPosition")} - ${we.position}%`:I("schedule.setPosition"):xe.includes("turn_on")?se=I("schedule.turnOn"):xe.includes("turn_off")?se=I("schedule.turnOff"):se=xe);const _e=(ee.entities?.[0]||"unknown.unknown").split(".")[0],H={id:E.entity_id,name:ee.friendly_name||E.entity_id,enabled:E.state==="on",entities:ee.entities||[],time:ue?ue.slice(0,5):"00:00",days:Q,daysRaw:ie,action:se,actionRaw:K?.service,serviceData:we,repeat_type:ee.repeat_type||"repeat",type:ee.repeat_type==="single"?"timer":"schedule",domainLabel:R(_e),domainRaw:_e};H.type==="timer"?C.push(H):M.push(H)}catch(ee){console.warn(`Konnte Schedule ${E.entity_id} nicht verarbeiten:`,ee)}return{allSchedules:M,allTimers:C}};Y(()=>{const F=()=>{if(k.current){const C=["all","timer","schedule"].indexOf(c),X=k.current.querySelectorAll(".filter-tab");if(X[C]){const q=X[C],E=k.current.getBoundingClientRect(),ee=q.getBoundingClientRect(),ue=ee.left-E.left,K=ee.width;x({x:Math.round(ue),width:Math.round(K)})}}};return setTimeout(F,50),window.addEventListener("resize",F),()=>{window.removeEventListener("resize",F)}},[c]),Y(()=>{const F=setTimeout(()=>m(!0),50);return()=>clearTimeout(F)},[]),Y(()=>{a&&B()},[a,v]);const B=async()=>{b(!0);try{const F=o.current;if(!F?.states){console.error(" Kein HASS mit states gefunden (loadData)!"),b(!1);return}const C=Object.values(F.states).filter(E=>E.entity_id.startsWith("switch.schedule_")&&E.attributes.timeslots);console.log(` ${C.length} rohe Schedule-Entitten gefunden.`);const{allSchedules:X,allTimers:q}=z(C);console.log(` Transformiert: ${X.length} Schedules, ${q.length} Timer`),p(X),h(q),b(!1)}catch(F){console.error(" Fehler beim Laden aller Schedules:",F),p([]),h([]),b(!1)}},V=Ie(F=>{if(console.log(" Schedule geklickt:",F),!F.entities||F.entities.length===0){console.warn(" Schedule hat keine Entity:",F);return}const M=F.entities[0];console.log(` Navigation zu ${M} mit ScheduleTab`),s?s(M,{openTab:"schedule"}):(console.warn(" onNavigate Callback fehlt - Navigation nicht mglich"),alert(n==="de"?"Navigation nicht verfgbar. Bitte onNavigate Prop setzen.":"Navigation not available. Please set onNavigate prop."))},[s]),A=c==="all"?[...f,...u].sort((F,M)=>F.time.localeCompare(M.time)):c==="timer"?u:c==="schedule"?f:[];return!a||y?r("div",{className:"all-schedules-view loading",children:r("div",{className:"loading-spinner",children:I("loading")||(n==="de"?"Ldt...":"Loading...")})}):r("div",{className:`all-schedules-view ${g?"visible":""}`,children:[r("div",{className:"filter-tabs-container",ref:k,children:[r("div",{className:"filter-tabs",children:[r("button",{className:`filter-tab ${c==="all"?"active":""}`,onClick:()=>d("all"),children:I("all")||(n==="de"?"Alle":"All")}),r("button",{className:`filter-tab ${c==="timer"?"active":""}`,onClick:()=>d("timer"),children:I("timer")||"Timer"}),r("button",{className:`filter-tab ${c==="schedule"?"active":""}`,onClick:()=>d("schedule"),children:I("schedules")||(n==="de"?"Zeitplne":"Schedules")})]}),r(P.div,{className:"scheduler-filter-slider",animate:{x:S.x,width:S.width},transition:{type:"spring",stiffness:300,damping:30}})]}),r("div",{className:"schedules-list",ref:N,onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),children:A.length===0?r("div",{className:"empty-state",children:r("p",{children:I("noSchedules")||(n==="de"?"Keine Zeitplne":"No schedules")})}):A.map((F,M)=>r(P.div,{className:"scheduler-item",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:M*.05},onClick:()=>V(F),style:{cursor:"pointer"},children:[r("div",{className:"item-icon",children:j(F)}),r("div",{className:"item-content",children:[r("div",{className:"item-name",children:[r("div",{className:"schedule-entity-info",children:r("span",{className:"entity-name",children:F.entities&&F.entities[0]?T(F.entities[0]):n==="de"?"Unbekannt":"Unknown"})}),r("span",{className:`item-type ${F.domainRaw}`,children:F.domainLabel})]}),r("div",{className:"item-time",children:[F.time&&r("span",{className:"schedule-time",children:[n==="de"?"Um":"At"," ",F.time]}),F.type==="schedule"&&F.days!==I("noDays")&&r(ke,{children:[r("span",{className:"separator",children:"-"}),r("span",{className:"schedule-days",children:F.days})]}),F.action&&r(ke,{children:[r("span",{className:"separator",children:"-"}),r("span",{className:"schedule-action",children:F.action})]})]})]})]},F.id))}),r("div",{className:"info-footer",children:r("p",{children:I("createInDetailView")||(n==="de"?"Zeitplne knnen in der Detailansicht der jeweiligen Gerte erstellt werden.":"Schedules can be created in the detail view of each device.")})}),r(De,{scrollContainerRef:N,isHovered:L})]})}const jL=Object.freeze(Object.defineProperty({__proto__:null,default:$L},Symbol.toStringTag,{value:"Module"})),UL=({settings:e,articles:t,hass:n,lang:i="de",onUpdateFeedCategory:s,onToggleFeedEnabled:o,onUpdateSetting:a})=>{const[l,c]=D("main"),[d,u]=D(null),h=oe(null),[f,p]=D(!1);console.log(" IOSSettingsView - hass:",n),console.log(" IOSSettingsView - hass.states:",n?.states);const g=n?.states?Object.keys(n.states).filter(_=>_.startsWith("event.")&&(n.states[_].attributes?.event_type==="feedreader"||n.states[_].attributes?.event_types?.includes("feedreader"))).map(_=>({id:_,entity:n.states[_],name:n.states[_]?.attributes?.friendly_name||_.replace("event.feedreader_","").replace(/_/g," "),articleCount:t.filter(I=>I.source===n.states[_]?.attributes?.friendly_name||I.source===_.replace("event.feedreader_","").replace(/_/g," ")).length})):[];console.log(" IOSSettingsView - availableFeeds:",g);const m=[{id:"news",label:"News",icon:""},{id:"tech",label:"Tech",icon:""},{id:"smarthome",label:"SmartHome",icon:""},{id:"sport",label:"Sport",icon:""},{id:"entertainment",label:"Entertainment",icon:""},{id:"politics",label:"Politics",icon:""},{id:"business",label:"Business",icon:""}],y={enter:_=>({x:_>0?"100%":"-100%",opacity:0}),center:{x:0,opacity:1},exit:_=>({x:_<0?"100%":"-100%",opacity:0})},b=_=>{u(_),c(`category-${_.id}`)},v=_=>{d&&(s(d.id,_),setTimeout(()=>{c("main"),u(null)},150))},w=()=>{c("main"),u(null)},S=_=>e.feeds[_]?.category||"news",x=_=>e.feeds[_]?.enabled!==!1,k=_=>{const I=m.find(T=>T.id===_);return I?I.label:_},N=_=>i==="de"?_===1?"1 Tag":`${_} Tage`:_===1?"1 Day":`${_} Days`,L=_=>({all:i==="de"?"Alle":"All",unread:i==="de"?"Ungelesen":"Unread",favorites:i==="de"?"Favoriten":"Favorites"})[_]||_;return r("div",{className:"ios-settings-container",children:r(Te,{mode:"wait",initial:!1,custom:l==="main"?-1:1,children:l==="main"?r(P.div,{custom:-1,variants:y,initial:!1,animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),style:{position:"relative"},children:[r("div",{className:"ios-navbar",children:r("div",{className:"ios-navbar-title",children:i==="de"?"Einstellungen":"Settings"})}),r("div",{ref:h,className:"ios-settings-view",children:[r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:"FEEDS"}),r("div",{className:"ios-card",children:g.length===0?r("div",{className:"ios-empty-state",children:r("p",{children:i==="de"?"Keine Feedreader-Feeds gefunden.":"No Feedreader feeds found."})}):g.map((_,I)=>{const T=x(_.id),R=S(_.id),j=k(R);return r("div",{children:[I>0&&r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:[r("div",{className:"ios-feed-icon",children:""}),r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:_.name}),r("div",{className:"ios-item-subtitle",children:[_.articleCount," ",i==="de"?"Artikel":"Articles"]})]})]}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:T,onChange:()=>o(_.id)}),r("span",{className:"ios-toggle-slider"})]})})]}),T&&r(ke,{children:[r("div",{className:"ios-divider ios-divider-inset"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>b(_),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label-small",children:i==="de"?"Kategorie":"Category"})})}),r("div",{className:"ios-item-right",children:[r("span",{className:"ios-item-value",children:j}),r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})]},_.id)})})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:i==="de"?"ANZEIGE":"DISPLAY"}),r("div",{className:"ios-card",children:[r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:i==="de"?"Bilder anzeigen":"Show Images"})})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:e.display?.showImages!==!1,onChange:_=>a("display.showImages",_.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:i==="de"?"Beim ffnen als gelesen markieren":"Mark as read when opening"})})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:e.display?.autoMarkRead||!1,onChange:_=>a("display.autoMarkRead",_.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>c("max-age"),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:i==="de"?"Artikelalter":"Article Age"})})}),r("div",{className:"ios-item-right",children:[r("span",{className:"ios-item-value",children:N(e.display?.maxAge||7)}),r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>c("max-articles"),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:i==="de"?"Maximale Artikel":"Maximum Articles"})})}),r("div",{className:"ios-item-right",children:[r("span",{className:"ios-item-value",children:e.display?.maxArticles||100}),r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>c("default-filter"),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:i==="de"?"Standard-Filter":"Default Filter"})})}),r("div",{className:"ios-item-right",children:[r("span",{className:"ios-item-value",children:L(e.display?.defaultFilter||"all")}),r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})]})]}),r(De,{scrollContainerRef:h,isHovered:f})]},"main"):l.startsWith("category-")?r(P.div,{custom:1,variants:y,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),style:{position:"relative"},children:[r("div",{className:"ios-navbar",children:[r(P.button,{className:"ios-back-button",onClick:w,whileHover:{opacity:.7},whileTap:{opacity:.5},children:[r("svg",{width:"9",height:"14",viewBox:"0 0 9 14",children:r("path",{d:"M8 1L1 7L8 13",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:"Feeds"})]}),r("div",{className:"ios-navbar-title",children:i==="de"?"Kategorie":"Category"})]}),r("div",{ref:h,className:"ios-settings-view",children:r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:[i==="de"?"KATEGORIE FR":"CATEGORY FOR"," ",d?.name.toUpperCase()]}),r("div",{className:"ios-card",children:m.map((_,I)=>{const T=S(d?.id)===_.id;return r("div",{children:[I>0&&r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>v(_.id),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:[_.icon," ",_.label]})})}),r("div",{className:"ios-item-right",children:T&&r("svg",{className:"ios-checkmark",width:"16",height:"12",viewBox:"0 0 16 12",children:r("path",{d:"M1 6L6 11L15 1",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]},_.id)})})]})}),r(De,{scrollContainerRef:h,isHovered:f})]},`category-${d?.id}`):l==="max-age"?r(P.div,{custom:1,variants:y,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),style:{position:"relative"},children:[r("div",{className:"ios-navbar",children:[r(P.button,{className:"ios-back-button",onClick:w,whileHover:{opacity:.7},whileTap:{opacity:.5},children:[r("svg",{width:"9",height:"14",viewBox:"0 0 9 14",children:r("path",{d:"M8 1L1 7L8 13",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:i==="de"?"Anzeige":"Display"})]}),r("div",{className:"ios-navbar-title",children:i==="de"?"Artikelalter":"Article Age"})]}),r("div",{ref:h,className:"ios-settings-view",children:r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:i==="de"?"ARTIKELALTER":"ARTICLE AGE"}),r("div",{className:"ios-card",children:[1,3,7,14,30].map((_,I)=>{const T=(e.display?.maxAge||7)===_;return r("div",{children:[I>0&&r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{a("display.maxAge",_),setTimeout(()=>c("main"),150)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:N(_)})})}),r("div",{className:"ios-item-right",children:T&&r("svg",{className:"ios-checkmark",width:"16",height:"12",viewBox:"0 0 16 12",children:r("path",{d:"M1 6L6 11L15 1",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]},_)})})]})}),r(De,{scrollContainerRef:h,isHovered:f})]},"max-age"):l==="max-articles"?r(P.div,{custom:1,variants:y,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),style:{position:"relative"},children:[r("div",{className:"ios-navbar",children:[r(P.button,{className:"ios-back-button",onClick:w,whileHover:{opacity:.7},whileTap:{opacity:.5},children:[r("svg",{width:"9",height:"14",viewBox:"0 0 9 14",children:r("path",{d:"M8 1L1 7L8 13",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:i==="de"?"Anzeige":"Display"})]}),r("div",{className:"ios-navbar-title",children:i==="de"?"Maximale Artikel":"Maximum Articles"})]}),r("div",{ref:h,className:"ios-settings-view",children:r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:i==="de"?"MAXIMALE ARTIKEL":"MAXIMUM ARTICLES"}),r("div",{className:"ios-card",children:[10,25,50,100,150,200,300,500].map((_,I)=>{const T=(e.display?.maxArticles||100)===_;return r("div",{children:[I>0&&r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{a("display.maxArticles",_),setTimeout(()=>c("main"),150)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:_})})}),r("div",{className:"ios-item-right",children:T&&r("svg",{className:"ios-checkmark",width:"16",height:"12",viewBox:"0 0 16 12",children:r("path",{d:"M1 6L6 11L15 1",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]},_)})})]})}),r(De,{scrollContainerRef:h,isHovered:f})]},"max-articles"):l==="default-filter"?r(P.div,{custom:1,variants:y,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),style:{position:"relative"},children:[r("div",{className:"ios-navbar",children:[r(P.button,{className:"ios-back-button",onClick:w,whileHover:{opacity:.7},whileTap:{opacity:.5},children:[r("svg",{width:"9",height:"14",viewBox:"0 0 9 14",children:r("path",{d:"M8 1L1 7L8 13",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:i==="de"?"Anzeige":"Display"})]}),r("div",{className:"ios-navbar-title",children:i==="de"?"Standard-Filter":"Default Filter"})]}),r("div",{ref:h,className:"ios-settings-view",children:r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:i==="de"?"STANDARD-FILTER":"DEFAULT FILTER"}),r("div",{className:"ios-card",children:["all","unread","favorites"].map((_,I)=>{const T=(e.display?.defaultFilter||"all")===_;return r("div",{children:[I>0&&r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{a("display.defaultFilter",_),setTimeout(()=>c("main"),150)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:L(_)})})}),r("div",{className:"ios-item-right",children:T&&r("svg",{className:"ios-checkmark",width:"16",height:"12",viewBox:"0 0 16 12",children:r("path",{d:"M1 6L6 11L15 1",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]},_)})})]})}),r(De,{scrollContainerRef:h,isHovered:f})]},"default-filter"):null})})};function k0(){try{const e=localStorage.getItem("newsSettings");if(e)return JSON.parse(e)}catch(e){console.error("Failed to load settings:",e)}return{feeds:{},display:{maxAge:7,maxArticles:100,showImages:!0,autoMarkRead:!1,defaultFilter:"all"}}}function GL(e){try{localStorage.setItem("newsSettings",JSON.stringify(e)),console.log(" Settings saved:",e)}catch(t){console.error("Failed to save settings:",t)}}function lo(e){if(!e)return"";const t=document.createElement("div");t.innerHTML=e;let n=t.textContent||t.innerText||"";return n=n.replace(/Continue reading\.\.\.?/gi,""),n=n.replace(/Read more\.\.\.?/gi,""),n=n.replace(/\[\.\.\.\.?\]/g,""),n=n.replace(/\[weiterlesen\]/gi,""),n=n.replace(/Weiterlesen\.\.\.?/gi,""),n=n.replace(/\[\]/g,""),n=n.replace(/$/g,""),n=n.replace(/\s+/g," ").trim(),n}function KL(e){if(!e)return console.error(" NewsView: Props are undefined!"),r("div",{style:{padding:"40px",textAlign:"center",color:"white"},children:[r("h3",{children:"Error: Component Props Missing"}),r("p",{children:"NewsView was called without props"})]});console.log(" NewsView called with props:",e);const{entity:t,hass:n,lang:i="de",onBack:s}=e,[o,a]=D([]),[l,c]=D([]),[d,u]=D(!0),[h,f]=D(null),[p,g]=D(!1),[m,y]=D(null),[b,v]=D(!1),[w,S]=D("overview"),[x,k]=D(()=>k0()),[N,L]=D(()=>k0().display.defaultFilter||"all"),[_,I]=D(!1),[T,R]=D(!1),j=oe(null),z=oe(null),[B,V]=D(!1),A=()=>{if(m){y(null);return}if(b){v(!1),S("overview");return}s&&s()};Y(()=>{const H=o.filter(J=>!J.read).length,U=Object.keys(x.feeds||{}).filter(J=>x.feeds[J].enabled).length;return window._newsViewRef={handleOpenSettings:()=>{v(!0),S("settings")},handleOverview:()=>{v(!1),y(null),S("overview")},handleRefresh:C,handleBackNavigation:A,selectedArticle:m,showSettings:b,handleToggleRead:()=>m&&E(m),handleToggleFavorite:()=>m&&ie(m),getActiveButton:()=>w,unreadCount:H,feedCount:U},()=>{delete window._newsViewRef}},[m,b,w,s,o,x]),Y(()=>{const H=new CustomEvent("news-view-state-changed");window.dispatchEvent(H)},[m,b]),Y(()=>{console.log(" NewsView mounted/updated"),console.log("   - entity:",t),console.log("   - entity.id:",t?.id),console.log("   - hass exists:",!!n),M()},[]),Y(()=>{X(N)},[N,o]),Y(()=>{const H=()=>{const J=j.current;if(!J)return;const{scrollLeft:re,scrollWidth:ae,clientWidth:be}=J;I(re>10),R(re<ae-be-10)},U=j.current;if(U){H();const J=setTimeout(H,100);return U.addEventListener("scroll",H),window.addEventListener("resize",H),()=>{clearTimeout(J),U.removeEventListener("scroll",H),window.removeEventListener("resize",H)}}},[o,N]);const F=H=>{const U=j.current;if(!U)return;const J=200,re=H==="left"?U.scrollLeft-J:U.scrollLeft+J;U.scrollTo({left:re,behavior:"smooth"})},M=async()=>{u(!0),f(null);try{if(!t||typeof t.executeAction!="function")throw console.error("Entity does not have executeAction method:",t),new Error("Invalid entity instance");const H=await t.executeAction("getArticles",{hass:n,refresh:!1});if(!H)throw new Error("No articles returned");console.log(` Loaded ${H.length} articles`),a(H),c(H)}catch(H){console.error("Failed to load news:",H),f(H.message)}finally{u(!1)}},C=async()=>{g(!0);try{const H=await t.executeAction("refreshFeeds",{hass:n});a(H)}catch(H){console.error("Failed to refresh feeds:",H)}finally{g(!1)}},X=H=>{c(H==="all"?o:H==="unread"?o.filter(U=>!U.read):H==="favorites"?o.filter(U=>U.favorite):o.filter(U=>U.category===H))},q=async H=>{console.log(" Article clicked:",H.id),x.display.autoMarkRead&&(await t.executeAction("markAsRead",{articleId:H.id}),a(U=>U.map(J=>J.id===H.id?{...J,read:!0}:J)),H={...H,read:!0}),y(H)},E=async H=>{const U=!H.read;U?await t.executeAction("markAsRead",{articleId:H.id}):await t.executeAction("markAsUnread",{articleId:H.id}),a(J=>J.map(re=>re.id===H.id?{...re,read:U}:re)),m&&m.id===H.id&&y(J=>({...J,read:U}))},ee=H=>{H.link&&window.open(H.link,"_blank")},ue=async H=>{k(H),GL(H),await M()},K=(H,U)=>{const J={...x,feeds:{...x.feeds,[H]:{...x.feeds[H],category:U,enabled:x.feeds[H]?.enabled!==!1}}};ue(J)},Q=H=>{const U=x.feeds[H]?.enabled!==!1,J={...x,feeds:{...x.feeds,[H]:{...x.feeds[H],enabled:!U}}};ue(J)},ie=async(H,U)=>{await t.executeAction("toggleFavorite",{articleId:H.id});let J=!1;a(re=>re.map(ae=>ae.id===H.id?(J=!ae.favorite,{...ae,favorite:J}):ae)),m&&m.id===H.id&&y(re=>({...re,favorite:J}))},se=()=>{const H=new Set(o.map(U=>U.category).filter(U=>U));return Array.from(H).sort()},xe=H=>o.filter(U=>U.category===H).length,we=()=>o.filter(H=>!H.read).length;if(d)return r("div",{className:"news-view-container",children:r("div",{className:"news-loading",children:[r("div",{className:"loading-spinner"}),r("p",{children:i==="de"?"Lade Nachrichten...":"Loading news..."})]})});if(h)return r("div",{className:"news-view-container",children:r("div",{className:"news-error",children:[r("h3",{children:i==="de"?"Fehler":"Error"}),r("p",{children:h}),r("button",{onClick:M,className:"retry-button",children:i==="de"?"Erneut versuchen":"Retry"})]})});const _e=t?.attributes?.has_feedreader;if(!d&&!_e)return r("div",{className:"news-view-container",children:r("div",{className:"news-feedparser-hint",children:[r("div",{className:"hint-icon",children:r("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[r("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"2"}),r("path",{d:"M12 16v-4M12 8h.01",strokeWidth:"2",strokeLinecap:"round"})]})}),r("h2",{children:i==="de"?"Feedreader nicht konfiguriert":"Feedreader not configured"}),r("p",{className:"hint-description",children:i==="de"?"Um RSS Feeds zu nutzen, konfiguriere die Feedreader Integration in Home Assistant.":"To use RSS feeds, configure the Feedreader integration in Home Assistant."}),r("div",{className:"hint-steps",children:[r("h3",{children:i==="de"?"Einrichtung:":"Setup:"}),r("ol",{children:[r("li",{children:i==="de"?"ffne Einstellungen  Gerte & Dienste":"Open Settings  Devices & Services"}),r("li",{children:i==="de"?'Klicke auf "Integration hinzufgen"':'Click "Add Integration"'}),r("li",{children:i==="de"?'Suche nach "Feedreader"':'Search for "Feedreader"'}),r("li",{children:i==="de"?"Fge deine RSS Feed-URLs hinzu":"Add your RSS feed URLs"})]})]}),r("div",{className:"hint-example",children:[r("h3",{children:i==="de"?"Beispiel Feed-URLs:":"Example Feed URLs:"}),r("pre",{children:`https://www.heise.de/rss/heise.rdf
https://www.tagesschau.de/xml/rss2/
https://feeds.bbci.co.uk/news/rss.xml`})]}),r("a",{href:"https://www.home-assistant.io/integrations/feedreader/",target:"_blank",rel:"noopener noreferrer",className:"hint-link-button",children:[r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[r("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r("polyline",{points:"15 3 21 3 21 9",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r("line",{x1:"10",y1:"14",x2:"21",y2:"3",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),i==="de"?"Zur Home Assistant Dokumentation":"Open Home Assistant Documentation"]})]})});if(m)return r("div",{className:"news-view-container",children:r("div",{className:"news-detail-content",children:r(P.div,{className:"news-detail-article",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[m.category&&r("div",{className:"article-detail-meta",children:r("span",{className:`article-category-badge category-${m.category}`,children:m.category})}),r("h1",{className:"article-detail-title",children:lo(m.title)}),m.thumbnail&&x.display.showImages&&r("div",{className:"article-detail-thumbnail",children:r("img",{src:m.thumbnail,alt:m.title})}),m.description&&r("p",{className:"article-detail-description",children:lo(m.description)}),m.content&&m.content!==m.description&&r("div",{className:"article-detail-body",children:lo(m.content)}),r("button",{onClick:()=>ee(m),className:"article-detail-link-button",children:[r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[r("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r("polyline",{points:"15 3 21 3 21 9",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r("line",{x1:"10",y1:"14",x2:"21",y2:"3",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),i==="de"?"Artikel ffnen":"Open Article"]})]})})});if(b){const H=n&&n.states?Object.keys(n.states).filter(J=>J.startsWith("event.")&&(n.states[J].attributes?.event_type==="feedreader"||n.states[J].attributes?.event_types?.includes("feedreader"))):[];return console.log(" Settings: Found feeds:",H),r(UL,{settings:x,articles:o,hass:n,lang:i,onUpdateFeedCategory:K,onToggleFeedEnabled:Q,onUpdateSetting:(J,re)=>{const ae=J.split("."),be={...x};ae.length===2&&(be[ae[0]]={...be[ae[0]],[ae[1]]:re}),ue(be)}})}return r("div",{className:"news-view-container",children:[r("div",{className:"news-filter-wrapper",style:{position:"relative",marginBottom:"20px"},children:[r(Te,{children:_&&r(P.div,{className:"news-scroll-indicator news-scroll-indicator-left",onClick:()=>F("left"),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},whileHover:{scale:1.1},whileTap:{scale:.95},transition:{duration:.2},children:r("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:r("path",{d:"M15 18L9 12L15 6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),r(Te,{children:T&&r(P.div,{className:"news-scroll-indicator news-scroll-indicator-right",onClick:()=>F("right"),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},whileHover:{scale:1.1},whileTap:{scale:.95},transition:{duration:.2},children:r("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:r("path",{d:"M9 18L15 12L9 6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),r(P.div,{className:"news-filter-bar",ref:j,initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:r("div",{className:"filter-tabs",children:[r(P.button,{className:`filter-tab ${N==="all"?"active":""}`,onClick:()=>L("all"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:[i==="de"?"Alle":"All"," ",r("span",{className:"filter-badge",children:o.length})]}),r(P.button,{className:`filter-tab ${N==="unread"?"active":""}`,onClick:()=>L("unread"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:[i==="de"?"Ungelesen":"Unread"," ",r("span",{className:"filter-badge",children:we()})]}),r(P.button,{className:`filter-tab ${N==="favorites"?"active":""}`,onClick:()=>L("favorites"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:[i==="de"?"Favoriten":"Favorites"," ",r("span",{className:"filter-badge",children:o.filter(H=>H.favorite).length})]}),se().map(H=>r(P.button,{className:`filter-tab category-${H} ${N===H?"active":""}`,onClick:()=>L(H),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:[H.charAt(0).toUpperCase()+H.slice(1)," ",r("span",{className:"filter-badge",children:xe(H)})]},H))]})})]}),r("div",{className:"news-feed",ref:z,onMouseEnter:()=>V(!0),onMouseLeave:()=>V(!1),children:r(Te,{mode:"wait",children:l.length===0?r(P.div,{className:"news-empty",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:o.length===0?r(ke,{children:[r("div",{className:"empty-icon",children:""}),r("h3",{children:i==="de"?"Keine Artikel vorhanden":"No articles available"}),r("p",{children:i==="de"?"Warte auf neue Artikel oder passe deine Einstellungen an":"Waiting for new articles or adjust your settings"})]}):N==="unread"?r(ke,{children:[r("div",{className:"empty-icon",children:""}),r("h3",{children:i==="de"?"Alles gelesen!":"All caught up!"}),r("p",{children:i==="de"?"Du bist auf dem neuesten Stand":"You're up to date"})]}):N==="favorites"?r(ke,{children:[r("div",{className:"empty-icon",children:""}),r("h3",{children:i==="de"?"Keine Favoriten":"No favorites"}),r("p",{children:i==="de"?"Markiere Artikel als Favoriten um sie hier zu sehen":"Mark articles as favorites to see them here"})]}):r(ke,{children:[r("div",{className:"empty-icon",children:""}),r("h3",{children:i==="de"?"Keine Artikel in dieser Kategorie":"No articles in this category"}),r("p",{children:i==="de"?`Keine Artikel fr "${N}" gefunden`:`No articles found for "${N}"`})]})}):r(P.div,{className:"news-articles-list",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:l.map((H,U)=>r(P.div,{className:`news-article-card ${H.read?"read":"unread"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},whileTap:{scale:.98},transition:{type:"spring",damping:25,stiffness:120,delay:U*.05,scale:{duration:.2}},onClick:()=>q(H),children:[H.thumbnail&&x.display.showImages&&r("div",{className:"article-thumbnail",children:r("img",{src:H.thumbnail,alt:H.title})}),r("div",{className:"article-content",children:[H.category&&r("span",{className:`article-category-badge category-${H.category}`,children:H.category}),r("h3",{className:"article-title",children:lo(H.title)}),r("div",{className:"article-footer",children:[r("span",{className:"article-source",children:H.source}),r("span",{className:"article-separator",children:""}),r("span",{className:"article-date",children:new Date(H.published).toLocaleDateString(i==="de"?"de-DE":"en-US",{day:"numeric",month:"short"})})]})]})]},H.id))})})}),r(De,{scrollContainerRef:z,isHovered:B})]})}const qL=Object.freeze(Object.defineProperty({__proto__:null,default:KL},Symbol.toStringTag,{value:"Module"})),YL=({isOpen:e,onClose:t,title:n,message:i,actions:s=[]})=>{Y(()=>{if(!e)return;const l=c=>{c.key==="Escape"&&t()};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[e,t]);const o=l=>{l.target===l.currentTarget&&t()},a=l=>{l.onPress&&l.onPress(),t()};return r(Te,{children:e&&r(ke,{children:r(P.div,{className:"action-sheet-backdrop",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:o,children:r(P.div,{className:"action-sheet-container",initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300},onClick:l=>l.stopPropagation(),children:[(n||i)&&r("div",{className:"action-sheet-header",children:[n&&r("h3",{className:"action-sheet-title",children:n}),i&&r("p",{className:"action-sheet-message",children:i})]}),r("div",{className:"action-sheet-actions",children:s.map((l,c)=>r("button",{className:`action-sheet-button action-sheet-button-${l.style||"default"}`,onClick:()=>a(l),children:[l.icon&&r("span",{className:"action-sheet-button-icon",children:l.icon}),r("span",{className:"action-sheet-button-label",children:l.label})]},c))})]})})})})};function ZL(e,t){return Re(()=>{if(console.log(" [useListFeatures] Feature detection for:",t),!e||!t)return console.log(" [useListFeatures] No hass or listId  features OFF"),{supportsDate:!1,supportsTime:!1,supportsDescription:!1};const n=e.states[t];if(!n)return console.log(" [useListFeatures] Entity not found:",t),{supportsDate:!1,supportsTime:!1,supportsDescription:!1};const i=(n.attributes?.friendly_name||t).toLowerCase();if(i.includes("einkauf")||i.includes("shopping"))return console.log(" [useListFeatures] Shopping list detected  all features OFF:",i),{supportsDate:!1,supportsTime:!1,supportsDescription:!1};const o=n.attributes?.supported_features||0,a={supportsDate:(o&1)!==0||(o&2)!==0,supportsTime:(o&2)!==0,supportsDescription:(o&4)!==0};return console.log(" [useListFeatures] Features:",a),a},[e,t])}function XL(e){return e?e.split("T")[0]:""}function JL(e){if(!e||!(e.includes("T")&&!e.endsWith("T00:00:00")))return"";const n=e.split("T")[1],[i,s]=n.split(":");return`${i}:${s}`}function QL(e,t){if(!e)return"";const n=new Date(e),i={day:"2-digit",month:"short",year:"numeric"};return n.toLocaleDateString(t==="de"?"de-DE":"en-US",i)}const wy=({mode:e="add",initialTodo:t=null,availableLists:n=[],hass:i,onSubmit:s,onCancel:o,onDelete:a,lang:l="de"})=>{console.log(" [TodoFormDialog] Rendering",{mode:e,initialTodo:t});const[c,d]=D("main"),[u,h]=D(()=>e==="edit"&&t?{summary:t.summary,description:t.description||"",listId:t.listId,status:t.status}:{summary:"",description:"",listId:n[0]?.id||"",status:"needs_action"}),[f,p]=D(""),[g,m]=D(""),[y,b]=D(""),[v,w]=D(""),[S,x]=D(!1),[k,N]=D(!1),L=oe(null),_=oe(null),I=oe(null),T=oe(null),R=oe(null),j=oe(null),z=oe(null),B=oe(null),{supportsDate:V,supportsTime:A,supportsDescription:F}=ZL(i,u.listId),M={enter:U=>({x:U>0?"100%":"-100%",opacity:0}),center:{x:0,opacity:1},exit:U=>({x:U<0?"100%":"-100%",opacity:0})};Y(()=>{if(e==="edit"&&t)if(h({summary:t.summary,description:t.description||"",listId:t.listId,status:t.status}),x(!1),t.due){const U=XL(t.due),J=JL(t.due);p(U),m(QL(t.due,l)),J?(b(J),w(J)):(b(""),w(""))}else p(""),m(""),b(""),w("")},[e,t,l]),Y(()=>{if(c==="date"){const U=()=>{if(L.current&&_.current&&I.current){const J=new Date;J.setDate(J.getDate()+1),z.current=new a4(L.current,_.current,I.current,{initialDay:f?parseInt(f.split("-")[2]):J.getDate(),initialMonth:f?parseInt(f.split("-")[1]):J.getMonth()+1,initialYear:f?parseInt(f.split("-")[0]):J.getFullYear(),lang:l,callback:(re,ae)=>{p(re),m(ae),x(!0)}})}else requestAnimationFrame(U)};requestAnimationFrame(U)}},[c,f,l]),Y(()=>{if(c==="time"){const U=()=>{if(T.current&&R.current&&j.current){const[J,re]=y?y.split(":"):["09","00"];B.current=new F1(T.current,R.current,j.current,{initialHour:J,initialMinute:re,minuteStep:5,callback:(ae,be,fe)=>{b(`${ae}:${be}`),w(`${ae}:${be}`),x(!0)}})}else requestAnimationFrame(U)};requestAnimationFrame(U)}},[c,y]);const C=()=>{d("main")},X=(U,J)=>{h(re=>({...re,[U]:J})),x(!0)},q=U=>{const J=n.find(re=>re.id===U);h(re=>({...re,listId:U,listName:J?.name||re.listName})),x(!0),setTimeout(C,150)},E=()=>{if(e==="edit"){const U=u.status==="completed"?"needs_action":"completed";h(J=>({...J,status:U})),x(!0)}},ee=()=>{let U=null;f&&V&&(y&&A?U=`${f}T${y}:00`:U=e==="add"?`${f}T09:00:00`:`${f}T00:00:00`);const J={listId:u.listId,summary:u.summary.trim(),dueDate:U};F&&u.description.trim()&&(J.description=u.description.trim()),e==="edit"&&t&&(J.uid=t.uid,J.status=u.status,F||delete J.description),console.log(" [TodoFormDialog] Submitting:",J),s(J)},ue=()=>{x(!0),C()},K=()=>{p(""),m(""),x(!0),C()},Q=()=>{x(!0),C()},ie=()=>{b(""),w(""),x(!0),C()},se=()=>{N(!0)},xe=()=>{e==="edit"&&t&&a&&a(t.uid,t.listId)},we=()=>n.find(J=>J.id===u.listId)?.name||"",_e={de:{back:"Zurck",delete:"Lschen",cancel:"Abbrechen",save:"Speichern",create:"Erstellen",titlePlaceholder:e==="add"?"Was mchtest du erledigen?":"Todo-Titel eingeben...",descriptionPlaceholder:e==="add"?"Notizen hinzufgen...":"Beschreibung hinzufgen...",list:"Liste",dueDate:"Datum",dueTime:"Uhrzeit",noDueDate:"Kein Datum",noTime:"Keine Uhrzeit",selectDate:"Datum auswhlen",selectTime:"Uhrzeit auswhlen",confirm:"Fertig",clear:"Lschen",deleteTitle:"Todo lschen?",deleteMessage:"Diese Aktion kann nicht rckgngig gemacht werden.",deleteConfirm:"Lschen",deleteCancel:"Abbrechen"},en:{back:"Back",delete:"Delete",cancel:"Cancel",save:"Save",create:"Create",titlePlaceholder:e==="add"?"What do you want to do?":"Enter todo title...",descriptionPlaceholder:e==="add"?"Add notes...":"Add description...",list:"List",dueDate:"Date",dueTime:"Time",noDueDate:"No date",noTime:"No time",selectDate:"Select date",selectTime:"Select time",confirm:"Done",clear:"Clear",deleteTitle:"Delete Todo?",deleteMessage:"This action cannot be undone.",deleteConfirm:"Delete",deleteCancel:"Cancel"}},H=_e[l]||_e.de;return r("div",{className:"ios-settings-container todo-detail-container",children:[r(Te,{mode:"wait",initial:!1,custom:c==="main"?-1:1,children:c==="main"?r(P.div,{custom:-1,variants:M,initial:!1,animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",children:[r("div",{className:"ios-navbar",children:[r("button",{className:"ios-navbar-back",onClick:o,children:[r("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:r("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:e==="add"?H.cancel:H.back})]}),e==="edit"?r("button",{className:"todo-detail-delete-btn",onClick:se,children:H.delete}):r("button",{className:"todo-detail-delete-btn",onClick:ee,disabled:!u.summary.trim(),children:H.create})]}),r("div",{className:"ios-settings-view",children:r("div",{className:"todo-detail-edit-content",children:[e==="edit"?r("div",{className:"todo-detail-field",style:{display:"flex",alignItems:"center",gap:"12px"},children:[r("label",{className:"todo-detail-checkbox",children:[r("input",{type:"checkbox",checked:u.status==="completed",onChange:E}),r("span",{className:"checkbox-mark-large"})]}),r("input",{type:"text",className:`todo-detail-title-input ${u.status==="completed"?"completed":""}`,value:u.summary,onInput:U=>X("summary",U.target.value),placeholder:H.titlePlaceholder,style:{flex:1}})]}):r("div",{className:"todo-detail-field",children:r("input",{type:"text",className:"todo-detail-title-input",value:u.summary,onInput:U=>X("summary",U.target.value),placeholder:H.titlePlaceholder,autoFocus:!0})}),F&&r("div",{className:"todo-detail-field",children:r("textarea",{className:"todo-detail-description-input",value:u.description,onInput:U=>X("description",U.target.value),placeholder:H.descriptionPlaceholder,rows:3})}),r("div",{className:"ios-section",style:{marginTop:"16px"},children:r("div",{className:"ios-card",children:[n.length>0&&r(ke,{children:[r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>d("list"),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:H.list})})}),r("div",{className:"ios-item-right",children:[r("span",{className:"ios-item-value",children:we()}),r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),r("div",{className:"ios-divider"})]}),V&&r(ke,{children:[r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>d("date"),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:H.dueDate})})}),r("div",{className:"ios-item-right",children:[r("span",{className:"ios-item-value",children:g||H.noDueDate}),r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),r("div",{className:"ios-divider"})]}),A&&r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>d("time"),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:H.dueTime})})}),r("div",{className:"ios-item-right",children:[r("span",{className:"ios-item-value",children:v||H.noTime}),r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})}),e==="edit"&&r("div",{className:"todo-detail-actions",children:[r("button",{className:"todo-action-btn todo-action-cancel",onClick:o,children:H.cancel}),r("button",{className:"todo-action-btn todo-action-save",onClick:ee,children:H.save})]})]})})]},"main"):c==="list"?r(P.div,{custom:1,variants:M,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",children:[r("div",{className:"ios-navbar",children:[r("button",{className:"ios-navbar-back",onClick:C,children:[r("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:r("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:H.back})]}),r("div",{className:"ios-navbar-title",children:H.list})]}),r("div",{className:"ios-settings-view",children:r("div",{className:"ios-section",children:r("div",{className:"ios-card",children:n.map((U,J)=>r("div",{children:[J>0&&r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>q(U.id),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:U.name})})}),r("div",{className:"ios-item-right",children:u.listId===U.id&&r("svg",{className:"ios-checkmark",width:"15",height:"12",viewBox:"0 0 15 12",fill:"none",children:r("path",{d:"M1 6L5.5 10.5L13.5 1.5",stroke:"rgb(0, 122, 255)",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]},U.id))})})})]},"list"):c==="date"?r(P.div,{custom:1,variants:M,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",children:[r("div",{className:"ios-navbar",children:[r("button",{className:"ios-navbar-back",onClick:K,children:H.clear}),r("div",{className:"ios-navbar-title",children:H.selectDate}),r("button",{className:"todo-detail-delete-btn",onClick:ue,children:H.confirm})]}),r("div",{className:"ios-settings-view",children:r("div",{className:"todo-picker-container",children:r("div",{className:"todo-date-picker-wheels",children:[r("div",{ref:L,className:"date-picker-wheel"}),r("div",{ref:_,className:"date-picker-wheel"}),r("div",{ref:I,className:"date-picker-wheel"})]})})})]},"date"):c==="time"?r(P.div,{custom:1,variants:M,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",children:[r("div",{className:"ios-navbar",children:[r("button",{className:"ios-navbar-back",onClick:ie,children:H.clear}),r("div",{className:"ios-navbar-title",children:H.selectTime}),r("button",{className:"todo-detail-delete-btn",onClick:Q,children:H.confirm})]}),r("div",{className:"ios-settings-view",children:r("div",{className:"todo-picker-container",children:r("div",{className:"todo-time-picker-wheels",children:[r("div",{ref:T,className:"time-picker-wheel"}),r("div",{className:"time-picker-separator",children:":"}),r("div",{ref:R,className:"time-picker-wheel"}),r("div",{ref:j,className:"time-picker-wheel"})]})})})]},"time"):null}),e==="edit"&&r(YL,{isOpen:k,onClose:()=>N(!1),title:H.deleteTitle,message:H.deleteMessage,actions:[{label:H.deleteConfirm,style:"destructive",onPress:xe},{label:H.deleteCancel,style:"cancel"}]})]})},eM=({todo:e,availableLists:t=[],hass:n,onSave:i,onCancel:s,onDelete:o,lang:a="de"})=>(console.log(" [TodoDetailView] Rendering wrapper for edit mode",{todo:e}),r(wy,{mode:"edit",initialTodo:e,availableLists:t,hass:n,onSubmit:i,onCancel:s,onDelete:o,lang:a})),tM=({availableLists:e,hass:t,onAdd:n,onCancel:i,lang:s="de"})=>(console.log(" [TodoAddDialog] Rendering wrapper for add mode"),r(wy,{mode:"add",availableLists:e,hass:t,onSubmit:n,onCancel:i,lang:s})),nM=({settings:e,todos:t,availableLists:n,lang:i="de",onToggleListEnabled:s,onUpdateSetting:o})=>{const[a,l]=D("main"),c=oe(null),[d,u]=D(!1),h={enter:v=>({x:v>0?"100%":"-100%",opacity:0}),center:{x:0,opacity:1},exit:v=>({x:v<0?"100%":"-100%",opacity:0})},f=()=>{l("main")},p=v=>e.lists[v]?.enabled!==!1,g=v=>t.filter(w=>w.listId===v).length,m=v=>i==="de"?v===1?"1 Tag":`${v} Tage`:v===1?"1 Day":`${v} Days`,y=v=>({all:i==="de"?"Alle":"All",incomplete:i==="de"?"Unerledigt":"Incomplete",today:i==="de"?"Heute":"Today",overdue:i==="de"?"berfllig":"Overdue",completed:i==="de"?"Erledigt":"Completed"})[v]||v,b=v=>({dueDate:i==="de"?"Flligkeitsdatum":"Due Date",alphabetical:i==="de"?"Alphabetisch":"Alphabetical",list:i==="de"?"Liste":"List",createdDate:i==="de"?"Erstellungsdatum":"Created Date"})[v]||v;return r("div",{className:"ios-settings-container",children:r(Te,{mode:"wait",initial:!1,custom:a==="main"?-1:1,children:a==="main"?r(P.div,{custom:-1,variants:h,initial:!1,animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),style:{position:"relative"},children:[r("div",{className:"ios-navbar",children:r("div",{className:"ios-navbar-title",children:i==="de"?"Einstellungen":"Settings"})}),r("div",{ref:c,className:"ios-settings-view",children:[r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:i==="de"?"LISTEN":"LISTS"}),r("div",{className:"ios-card",children:n.length===0?r("div",{className:"ios-empty-state",children:r("p",{children:i==="de"?"Keine Todo-Listen gefunden.":"No todo lists found."})}):n.map((v,w)=>{const S=p(v.id),x=g(v.id);return r("div",{children:[w>0&&r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:[r("div",{className:"ios-feed-icon",children:""}),r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:v.name}),r("div",{className:"ios-item-subtitle",children:[x," ",i==="de"?"Aufgaben":"Tasks"]})]})]}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:S,onChange:()=>s(v.id)}),r("span",{className:"ios-toggle-slider"})]})})]})]},v.id)})})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:i==="de"?"ANZEIGE":"DISPLAY"}),r("div",{className:"ios-card",children:[r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:i==="de"?"Erledigte anzeigen":"Show Completed"})})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:e.display?.showCompleted!==!1,onChange:v=>o("display.showCompleted",v.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>l("auto-hide-days"),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:i==="de"?"Erledigte ausblenden nach":"Auto-hide completed after"})})}),r("div",{className:"ios-item-right",children:[r("span",{className:"ios-item-value",children:m(e.display?.autoHideAfterDays||7)}),r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>l("default-filter"),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:i==="de"?"Standard-Filter":"Default Filter"})})}),r("div",{className:"ios-item-right",children:[r("span",{className:"ios-item-value",children:y(e.display?.defaultFilter||"all")}),r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>l("sort-by"),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:i==="de"?"Sortierung":"Sort By"})})}),r("div",{className:"ios-item-right",children:[r("span",{className:"ios-item-value",children:b(e.display?.sortBy||"dueDate")}),r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:i==="de"?"SICHTBARE TABS":"VISIBLE TABS"}),r("div",{className:"ios-card",children:[r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:i==="de"?"Alle":"All"})})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:e.visibleTabs?.all!==!1,onChange:v=>o("visibleTabs.all",v.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:i==="de"?"Unerledigt":"Incomplete"})})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:e.visibleTabs?.incomplete!==!1,onChange:v=>o("visibleTabs.incomplete",v.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:i==="de"?"Heute":"Today"})})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:e.visibleTabs?.today!==!1,onChange:v=>o("visibleTabs.today",v.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:i==="de"?"berfllig":"Overdue"})})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:e.visibleTabs?.overdue!==!1,onChange:v=>o("visibleTabs.overdue",v.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:i==="de"?"Erledigt":"Completed"})})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:e.visibleTabs?.completed!==!1,onChange:v=>o("visibleTabs.completed",v.target.checked)}),r("span",{className:"ios-toggle-slider"})]})})]})]})]})]}),r(De,{scrollContainerRef:c,isHovered:d})]},"main"):a==="auto-hide-days"?r(P.div,{custom:1,variants:h,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),style:{position:"relative"},children:[r("div",{className:"ios-navbar",children:[r("button",{className:"ios-navbar-back",onClick:f,children:[r("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:r("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:i==="de"?"Zurck":"Back"})]}),r("div",{className:"ios-navbar-title",children:i==="de"?"Erledigte ausblenden":"Auto-hide Completed"})]}),r("div",{ref:c,className:"ios-settings-view",children:r("div",{className:"ios-section",children:r("div",{className:"ios-card",children:[1,3,7,14,30].map((v,w)=>r("div",{children:[w>0&&r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{o("display.autoHideAfterDays",v),setTimeout(f,150)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:m(v)})})}),r("div",{className:"ios-item-right",children:(e.display?.autoHideAfterDays||7)===v&&r(P.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[r(P.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),r(P.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]})]},v))})})}),r(De,{scrollContainerRef:c,isHovered:d})]},"auto-hide-days"):a==="default-filter"?r(P.div,{custom:1,variants:h,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),style:{position:"relative"},children:[r("div",{className:"ios-navbar",children:[r("button",{className:"ios-navbar-back",onClick:f,children:[r("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:r("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:i==="de"?"Zurck":"Back"})]}),r("div",{className:"ios-navbar-title",children:i==="de"?"Standard-Filter":"Default Filter"})]}),r("div",{ref:c,className:"ios-settings-view",children:r("div",{className:"ios-section",children:r("div",{className:"ios-card",children:["all","incomplete","today","overdue","completed"].map((v,w)=>r("div",{children:[w>0&&r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{o("display.defaultFilter",v),setTimeout(f,150)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:y(v)})})}),r("div",{className:"ios-item-right",children:(e.display?.defaultFilter||"all")===v&&r(P.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[r(P.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),r(P.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]})]},v))})})}),r(De,{scrollContainerRef:c,isHovered:d})]},"default-filter"):a==="sort-by"?r(P.div,{custom:1,variants:h,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),style:{position:"relative"},children:[r("div",{className:"ios-navbar",children:[r("button",{className:"ios-navbar-back",onClick:f,children:[r("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:r("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:i==="de"?"Zurck":"Back"})]}),r("div",{className:"ios-navbar-title",children:i==="de"?"Sortierung":"Sort By"})]}),r("div",{ref:c,className:"ios-settings-view",children:r("div",{className:"ios-section",children:r("div",{className:"ios-card",children:["dueDate","alphabetical","list","createdDate"].map((v,w)=>r("div",{children:[w>0&&r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{o("display.sortBy",v),setTimeout(f,150)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",children:b(v)})})}),r("div",{className:"ios-item-right",children:(e.display?.sortBy||"dueDate")===v&&r(P.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[r(P.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),r(P.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]})]},v))})})}),r(De,{scrollContainerRef:c,isHovered:d})]},"sort-by"):null})})};function x0(){const e={lists:{},display:{showCompleted:!0,autoHideAfterDays:7,defaultFilter:"all",sortBy:"dueDate"},visibleTabs:{all:!0,incomplete:!0,today:!0,overdue:!0,completed:!0}};try{const t=localStorage.getItem("todosSettings");if(t){const n=JSON.parse(t);return{...e,...n,display:{...e.display,...n.display},visibleTabs:{...e.visibleTabs,...n.visibleTabs},lists:n.lists||{}}}}catch(t){console.error("Failed to load settings:",t)}return e}function _0(e){try{localStorage.setItem("todosSettings",JSON.stringify(e)),console.log(" Settings saved:",e)}catch(t){console.error("Failed to save settings:",t)}}function iM(e,t="de"){if(!e)return"";const n=new Date;n.setHours(0,0,0,0);const i=new Date(e),s=new Date(e);s.setHours(0,0,0,0);const o=s-n,a=Math.floor(o/(1e3*60*60*24)),c=typeof e=="string"&&e.includes("T")&&!e.endsWith("T00:00:00")?` ${i.getHours().toString().padStart(2,"0")}:${i.getMinutes().toString().padStart(2,"0")}`:"";if(t==="de"){if(a===0)return`Heute${c}`;if(a===1)return`Morgen${c}`;if(a===-1)return`Gestern${c}`;if(a<-1)return`berfllig seit ${Math.abs(a)} Tagen`;if(a>1)return`In ${a} Tagen${c}`}else{if(a===0)return`Today${c}`;if(a===1)return`Tomorrow${c}`;if(a===-1)return`Yesterday${c}`;if(a<-1)return`Overdue by ${Math.abs(a)} days`;if(a>1)return`In ${a} days${c}`}return s.toLocaleDateString(t==="de"?"de-DE":"en-US")+c}function hr(e){if(!e.due||e.status==="completed")return!1;const t=new Date;t.setHours(0,0,0,0);const n=new Date(e.due);return n.setHours(0,0,0,0),n<t}function rM(e){if(!e)return console.error(" TodosView: Props are undefined!"),r("div",{style:{padding:"40px",textAlign:"center",color:"white"},children:[r("h3",{children:"Error: Component Props Missing"}),r("p",{children:"TodosView was called without props"})]});console.log(" TodosView called with props:",e);const{entity:t,hass:n,lang:i="de",onBack:s}=e,[o,a]=D([]),[l,c]=D([]),[d,u]=D(!0),[h,f]=D(null),[p,g]=D(null),[m,y]=D(!1),[b,v]=D("overview"),[w,S]=D(()=>x0()),[x,k]=D(()=>x0().display.defaultFilter||"all"),[N,L]=D(!1),[_,I]=D(!1),[T,R]=D(!1),j=oe(null),z=oe(null),[B,V]=D(!1),A=()=>{if(p){g(null);return}if(m){y(!1),v("overview");return}if(T){R(!1);return}s&&s()};Y(()=>{const G=o.filter(le=>le.status==="needs_action").length,O=o.filter(le=>hr(le)).length,$=new Date;$.setHours(0,0,0,0);const ne=o.filter(le=>{if(!le.due)return!1;const pe=new Date(le.due);return pe.setHours(0,0,0,0),pe.getTime()===$.getTime()}).length;return window._todosViewRef={handleOpenSettings:()=>{y(!0),v("settings")},handleOverview:()=>{y(!1),g(null),R(!1),v("overview")},handleRefresh:C,handleBackNavigation:A,handleAdd:()=>{m?(y(!1),v("add"),setTimeout(()=>R(!0),50)):(R(!0),v("add"))},getActiveButton:()=>b,selectedTodo:p,showSettings:m,incompleteCount:G,overdueCount:O,todayCount:ne},()=>{delete window._todosViewRef}},[p,m,T,b,s,o]),Y(()=>{const G=new CustomEvent("todos-view-state-changed");window.dispatchEvent(G)},[p,m,T]),Y(()=>{console.log(" TodosView mounted/updated"),M()},[]),Y(()=>{q(x)},[x,o,w]),Y(()=>{const G=()=>{const $=j.current;if(!$)return;const{scrollLeft:ne,scrollWidth:le,clientWidth:pe}=$;L(ne>10),I(ne<le-pe-10)},O=j.current;if(O){G();const $=setTimeout(G,100);return O.addEventListener("scroll",G),window.addEventListener("resize",G),()=>{clearTimeout($),O.removeEventListener("scroll",G),window.removeEventListener("resize",G)}}},[o,x]);const F=G=>{const O=j.current;if(!O)return;const $=200,ne=G==="left"?O.scrollLeft-$:O.scrollLeft+$;O.scrollTo({left:ne,behavior:"smooth"})},M=async()=>{u(!0),f(null);try{if(!t||typeof t.executeAction!="function")throw console.error("Entity does not have executeAction method:",t),new Error("Invalid entity instance");const G=await t.executeAction("getTodos",{hass:n,refresh:!1});if(!G)throw new Error("No todos returned");console.log(` Loaded ${G.length} todos`),a(G),c(G)}catch(G){console.error("Failed to load todos:",G),f(G.message)}finally{u(!1)}},C=async()=>{try{const G=await t.executeAction("refreshTodos",{hass:n});a(G)}catch(G){console.error("Failed to refresh todos:",G)}},X=(G,O)=>{const $=[...G];switch(O){case"dueDate":$.sort((ne,le)=>{if(!ne.due&&!le.due)return 0;if(!ne.due)return 1;if(!le.due)return-1;const pe=new Date(ne.due),W=new Date(le.due);return pe-W});break;case"alphabetical":$.sort((ne,le)=>{const pe=ne.summary.toLowerCase(),W=le.summary.toLowerCase();return pe.localeCompare(W,i==="de"?"de-DE":"en-US")});break;case"list":$.sort((ne,le)=>{const pe=ne.listName.localeCompare(le.listName,i==="de"?"de-DE":"en-US");return pe!==0?pe:!ne.due&&!le.due?0:ne.due?le.due?new Date(ne.due)-new Date(le.due):-1:1});break;case"createdDate":$.sort((ne,le)=>{const pe=ne.status==="needs_action"?0:1,W=le.status==="needs_action"?0:1,Z=pe-W;return Z!==0?Z:!ne.due&&!le.due?0:ne.due?le.due?new Date(ne.due)-new Date(le.due):-1:1});break;default:$.sort((ne,le)=>!ne.due&&!le.due?0:ne.due?le.due?new Date(ne.due)-new Date(le.due):-1:1)}return $},q=G=>{const O=new Date;O.setHours(0,0,0,0);let $=[...o];$=$.filter(W=>w.lists[W.listId]?.enabled!==!1);const ne=w.display?.showCompleted!==!1,le=w.display?.autoHideAfterDays||7;if(!ne)$=$.filter(W=>W.status!=="completed");else{const W=new Date;W.setDate(W.getDate()-le),W.setHours(0,0,0,0),$=$.filter(Z=>{if(Z.status!=="completed")return!0;if(Z.due){const de=new Date(Z.due);return de.setHours(0,0,0,0),de>=W}return!0})}G==="all"||(G==="incomplete"?$=$.filter(W=>W.status==="needs_action"):G==="today"?$=$.filter(W=>{if(!W.due)return!1;const Z=new Date(W.due);return Z.setHours(0,0,0,0),Z.getTime()===O.getTime()}):G==="overdue"?$=$.filter(W=>hr(W)):G==="completed"?$=$.filter(W=>W.status==="completed"):$=$.filter(W=>W.listId===G));const pe=w.display?.sortBy||"dueDate";$=X($,pe),c($)},E=G=>{console.log(" Todo clicked:",G.uid),g(G)},ee=async(G,O)=>{O&&O.stopPropagation();try{await t.executeAction("toggleComplete",{hass:n,listId:G.listId,uid:G.uid,currentStatus:G.status});const $=G.status==="completed"?"needs_action":"completed";a(ne=>ne.map(le=>le.uid===G.uid?{...le,status:$}:le)),p&&p.uid===G.uid&&g(ne=>({...ne,status:$}))}catch($){console.error("Failed to toggle todo:",$)}},ue=async G=>{try{await t.executeAction("addTodo",{hass:n,listId:G.listId,summary:G.summary,description:G.description,dueDate:G.dueDate}),await M(),R(!1)}catch(O){console.error("Failed to add todo:",O)}},K=async G=>{try{console.log(" Saving todo:",G),await t.executeAction("updateTodo",{hass:n,listId:G.listId,uid:G.uid,summary:G.summary,description:G.description,dueDate:G.due,status:G.status}),a(O=>O.map($=>$.uid===G.uid?G:$)),g(null),console.log(" Todo saved successfully")}catch(O){console.error(" Failed to save todo:",O)}},Q=()=>{console.log(" Canceling detail view"),g(null)},ie=async(G,O)=>{try{console.log(" Deleting todo:",G),await t.executeAction("deleteTodo",{hass:n,listId:O,uid:G}),a($=>$.filter(ne=>ne.uid!==G)),g(null),console.log(" Todo deleted successfully")}catch($){console.error(" Failed to delete todo:",$)}},se=G=>{const O=w.lists[G]?.enabled!==!1,$={...w,lists:{...w.lists,[G]:{...w.lists[G],enabled:!O}}};S($),_0($),console.log(" List enabled toggled:",G,!O)},xe=(G,O)=>{const $=G.split("."),ne={...w};let le=ne;for(let pe=0;pe<$.length-1;pe++)le[$[pe]]||(le[$[pe]]={}),le=le[$[pe]];if(le[$[$.length-1]]=O,S(ne),_0(ne),console.log(" Setting updated:",G,O),G==="display.defaultFilter"&&k(O),G.startsWith("visibleTabs.")&&O===!1){const pe=G.split(".")[1];if(x===pe){const Z=["all","incomplete","today","overdue","completed"].find(de=>de!==pe&&ne.visibleTabs?.[de]!==!1);Z&&k(Z)}}},we=()=>t?.attributes?.available_lists||[],_e=()=>{const G={};return o.forEach(O=>{G[O.listId]||(G[O.listId]={id:O.listId,name:O.listName})}),Object.values(G)},H=()=>{let G=[...o];G=G.filter(ne=>w.lists[ne.listId]?.enabled!==!1);const O=w.display?.showCompleted!==!1,$=w.display?.autoHideAfterDays||7;if(!O)G=G.filter(ne=>ne.status!=="completed");else{const ne=new Date;ne.setDate(ne.getDate()-$),ne.setHours(0,0,0,0),G=G.filter(le=>{if(le.status!=="completed")return!0;if(le.due){const pe=new Date(le.due);return pe.setHours(0,0,0,0),pe>=ne}return!0})}return G},U=()=>H().filter(G=>G.status==="needs_action").length,J=()=>{const G=new Date;return G.setHours(0,0,0,0),H().filter(O=>{if(!O.due)return!1;const $=new Date(O.due);return $.setHours(0,0,0,0),$.getTime()===G.getTime()}).length},re=()=>H().filter(G=>hr(G)).length,ae=()=>H().filter(G=>G.status==="completed").length,be=G=>H().filter(O=>O.listId===G).length;if(d)return r("div",{className:"todos-view-container",children:r("div",{className:"todos-loading",children:[r("div",{className:"loading-spinner"}),r("p",{children:i==="de"?"Lade Aufgaben...":"Loading todos..."})]})});if(h)return r("div",{className:"todos-view-container",children:r("div",{className:"todos-error",children:[r("h3",{children:i==="de"?"Fehler":"Error"}),r("p",{children:h}),r("button",{onClick:M,className:"retry-button",children:i==="de"?"Erneut versuchen":"Retry"})]})});const fe=t?.attributes?.has_todo_integration;return!d&&!fe?r("div",{className:"todos-view-container",children:r("div",{className:"todos-hint",children:[r("div",{className:"hint-icon",children:r("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[r("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"2"}),r("path",{d:"M12 16v-4M12 8h.01",strokeWidth:"2",strokeLinecap:"round"})]})}),r("h2",{children:i==="de"?"Todo Integration nicht konfiguriert":"Todo Integration not configured"}),r("p",{className:"hint-description",children:i==="de"?"Um Todos zu nutzen, fge Todo-Listen in Home Assistant hinzu.":"To use todos, add todo lists in Home Assistant."})]})}):r("div",{className:"todos-view-container",style:{position:"relative"},children:r(Te,{mode:"wait",children:m?r(nM,{settings:w,todos:o,availableLists:we(),lang:i,onToggleListEnabled:se,onUpdateSetting:xe},"settings"):p?r(eM,{todo:p,availableLists:_e(),hass:n,onSave:K,onCancel:Q,onDelete:ie,lang:i},"detail"):T?r(tM,{availableLists:_e(),hass:n,onAdd:ue,onCancel:()=>R(!1),lang:i},"add"):r(P.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:30,stiffness:300},style:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[r("div",{className:"todos-filter-wrapper",style:{position:"relative",marginBottom:"20px"},children:[r(Te,{children:N&&r(P.div,{className:"todos-scroll-indicator todos-scroll-indicator-left",onClick:()=>F("left"),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},whileHover:{scale:1.1},whileTap:{scale:.95},transition:{duration:.2},children:r("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:r("path",{d:"M15 18L9 12L15 6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),r(Te,{children:_&&r(P.div,{className:"todos-scroll-indicator todos-scroll-indicator-right",onClick:()=>F("right"),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},whileHover:{scale:1.1},whileTap:{scale:.95},transition:{duration:.2},children:r("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:r("path",{d:"M9 18L15 12L9 6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),r(P.div,{className:"todos-filter-bar",ref:j,initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:r("div",{className:"filter-tabs",children:[w.visibleTabs?.all!==!1&&r(P.button,{className:`filter-tab ${x==="all"?"active":""}`,onClick:()=>k("all"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:[i==="de"?"Alle":"All"," ",r("span",{className:"filter-badge",children:H().length})]}),w.visibleTabs?.incomplete!==!1&&r(P.button,{className:`filter-tab ${x==="incomplete"?"active":""}`,onClick:()=>k("incomplete"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:[i==="de"?"Unerledigt":"Incomplete"," ",r("span",{className:"filter-badge",children:U()})]}),w.visibleTabs?.today!==!1&&r(P.button,{className:`filter-tab ${x==="today"?"active":""}`,onClick:()=>k("today"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:[i==="de"?"Heute":"Today"," ",r("span",{className:"filter-badge",children:J()})]}),w.visibleTabs?.overdue!==!1&&r(P.button,{className:`filter-tab ${x==="overdue"?"active":""}`,onClick:()=>k("overdue"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:[i==="de"?"berfllig":"Overdue"," ",r("span",{className:"filter-badge",children:re()})]}),w.visibleTabs?.completed!==!1&&r(P.button,{className:`filter-tab ${x==="completed"?"active":""}`,onClick:()=>k("completed"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:[i==="de"?"Erledigt":"Completed"," ",r("span",{className:"filter-badge",children:ae()})]}),_e().map(G=>r(P.button,{className:`filter-tab list-filter ${x===G.id?"active":""}`,onClick:()=>k(G.id),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:[" ",G.name," ",r("span",{className:"filter-badge",children:be(G.id)})]},G.id))]})})]}),r("div",{className:"todos-feed",children:r(Te,{mode:"wait",children:l.length===0?r(P.div,{className:"todos-empty",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[r("div",{className:"empty-icon",children:""}),r("h3",{children:i==="de"?"Keine Aufgaben":"No todos"}),r("p",{children:i==="de"?"Fge neue Aufgaben hinzu":"Add new todos"})]}):r(P.div,{className:"todos-list",ref:z,onMouseEnter:()=>V(!0),onMouseLeave:()=>V(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:l.map((G,O)=>r(P.div,{className:`todo-card ${G.status==="completed"?"completed":""} ${hr(G)?"overdue":""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},whileTap:{scale:.98},transition:{type:"spring",damping:25,stiffness:120,delay:O*.05,scale:{duration:.2}},onClick:()=>E(G),children:[r("div",{className:"todo-checkbox-wrapper",onClick:$=>$.stopPropagation(),children:r("label",{className:"todo-checkbox",children:[r("input",{type:"checkbox",checked:G.status==="completed",onChange:$=>ee(G,$)}),r("span",{className:"checkbox-mark"})]})}),r("div",{className:"todo-content",children:[r("h3",{className:"todo-title",children:G.summary}),G.description&&r("p",{className:"todo-description",children:G.description}),r("div",{className:"todo-footer",children:[r("span",{className:"todo-list",children:G.listName}),G.due&&r(ke,{children:[r("span",{className:"todo-separator",children:""}),r("span",{className:`todo-due ${hr(G)?"overdue":""}`,children:iM(G.due,i)})]})]})]})]},G.uid))})})}),r(De,{scrollContainerRef:z,isHovered:B})]},"main")})})}const sM=Object.freeze(Object.defineProperty({__proto__:null,default:rM},Symbol.toStringTag,{value:"Module"}));function oM({versions:e,onVersionClick:t,lang:n="de",scrollRef:i,onMouseEnter:s,onMouseLeave:o}){return r(ke,{children:r("div",{className:"versionsverlauf-feed",ref:i,onMouseEnter:s,onMouseLeave:o,children:e.length===0?r("div",{className:"versionsverlauf-empty",children:[r("div",{className:"empty-icon",children:""}),r("h3",{children:n==="de"?"Keine Versionen gefunden":"No versions found"}),r("p",{children:n==="de"?"Keine Versionen verfgbar":"No versions available"})]}):r("div",{className:"versionsverlauf-list",children:e.map((a,l)=>r(P.div,{className:"version-card",onClick:()=>t(a),initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:l*.05,duration:.3},children:[r("div",{className:"version-badge-wrapper",children:[r("div",{className:"version-badge",children:["v",a.version]}),r("div",{className:"version-date",children:a.dateFormatted})]}),r("div",{className:"version-content",children:[r("h3",{className:"version-title",children:a.title}),a.tags&&a.tags.length>0&&r("div",{className:"version-tags",children:a.tags.map(c=>r("span",{className:"version-tag",children:c},c))})]})]},a.version))})})})}function aM(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const lM=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,cM=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,dM={};function C0(e,t){return(dM.jsx?cM:lM).test(e)}const uM=/[ \t\n\f\r]/g;function hM(e){return typeof e=="object"?e.type==="text"?S0(e.value):!1:S0(e)}function S0(e){return e.replace(uM,"")===""}class ws{constructor(t,n,i){this.normal=n,this.property=t,i&&(this.space=i)}}ws.prototype.normal={};ws.prototype.property={};ws.prototype.space=void 0;function ky(e,t){const n={},i={};for(const s of e)Object.assign(n,s.property),Object.assign(i,s.normal);return new ws(n,i,t)}function Mc(e){return e.toLowerCase()}class At{constructor(t,n){this.attribute=n,this.property=t}}At.prototype.attribute="";At.prototype.booleanish=!1;At.prototype.boolean=!1;At.prototype.commaOrSpaceSeparated=!1;At.prototype.commaSeparated=!1;At.prototype.defined=!1;At.prototype.mustUseProperty=!1;At.prototype.number=!1;At.prototype.overloadedBoolean=!1;At.prototype.property="";At.prototype.spaceSeparated=!1;At.prototype.space=void 0;let fM=0;const Me=_i(),ot=_i(),Ec=_i(),ce=_i(),$e=_i(),Vi=_i(),Dt=_i();function _i(){return 2**++fM}const Tc=Object.freeze(Object.defineProperty({__proto__:null,boolean:Me,booleanish:ot,commaOrSpaceSeparated:Dt,commaSeparated:Vi,number:ce,overloadedBoolean:Ec,spaceSeparated:$e},Symbol.toStringTag,{value:"Module"})),dl=Object.keys(Tc);class Kd extends At{constructor(t,n,i,s){let o=-1;if(super(t,n),N0(this,"space",s),typeof i=="number")for(;++o<dl.length;){const a=dl[o];N0(this,dl[o],(i&Tc[a])===Tc[a])}}}Kd.prototype.defined=!0;function N0(e,t,n){n&&(e[t]=n)}function Xi(e){const t={},n={};for(const[i,s]of Object.entries(e.properties)){const o=new Kd(i,e.transform(e.attributes||{},i),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),t[i]=o,n[Mc(i)]=i,n[Mc(o.attribute)]=i}return new ws(t,n,e.space)}const xy=Xi({properties:{ariaActiveDescendant:null,ariaAtomic:ot,ariaAutoComplete:null,ariaBusy:ot,ariaChecked:ot,ariaColCount:ce,ariaColIndex:ce,ariaColSpan:ce,ariaControls:$e,ariaCurrent:null,ariaDescribedBy:$e,ariaDetails:null,ariaDisabled:ot,ariaDropEffect:$e,ariaErrorMessage:null,ariaExpanded:ot,ariaFlowTo:$e,ariaGrabbed:ot,ariaHasPopup:null,ariaHidden:ot,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:$e,ariaLevel:ce,ariaLive:null,ariaModal:ot,ariaMultiLine:ot,ariaMultiSelectable:ot,ariaOrientation:null,ariaOwns:$e,ariaPlaceholder:null,ariaPosInSet:ce,ariaPressed:ot,ariaReadOnly:ot,ariaRelevant:null,ariaRequired:ot,ariaRoleDescription:$e,ariaRowCount:ce,ariaRowIndex:ce,ariaRowSpan:ce,ariaSelected:ot,ariaSetSize:ce,ariaSort:null,ariaValueMax:ce,ariaValueMin:ce,ariaValueNow:ce,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function _y(e,t){return t in e?e[t]:t}function Cy(e,t){return _y(e,t.toLowerCase())}const pM=Xi({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Vi,acceptCharset:$e,accessKey:$e,action:null,allow:null,allowFullScreen:Me,allowPaymentRequest:Me,allowUserMedia:Me,alt:null,as:null,async:Me,autoCapitalize:null,autoComplete:$e,autoFocus:Me,autoPlay:Me,blocking:$e,capture:null,charSet:null,checked:Me,cite:null,className:$e,cols:ce,colSpan:null,content:null,contentEditable:ot,controls:Me,controlsList:$e,coords:ce|Vi,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Me,defer:Me,dir:null,dirName:null,disabled:Me,download:Ec,draggable:ot,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Me,formTarget:null,headers:$e,height:ce,hidden:Ec,high:ce,href:null,hrefLang:null,htmlFor:$e,httpEquiv:$e,id:null,imageSizes:null,imageSrcSet:null,inert:Me,inputMode:null,integrity:null,is:null,isMap:Me,itemId:null,itemProp:$e,itemRef:$e,itemScope:Me,itemType:$e,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Me,low:ce,manifest:null,max:null,maxLength:ce,media:null,method:null,min:null,minLength:ce,multiple:Me,muted:Me,name:null,nonce:null,noModule:Me,noValidate:Me,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Me,optimum:ce,pattern:null,ping:$e,placeholder:null,playsInline:Me,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Me,referrerPolicy:null,rel:$e,required:Me,reversed:Me,rows:ce,rowSpan:ce,sandbox:$e,scope:null,scoped:Me,seamless:Me,selected:Me,shadowRootClonable:Me,shadowRootDelegatesFocus:Me,shadowRootMode:null,shape:null,size:ce,sizes:null,slot:null,span:ce,spellCheck:ot,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ce,step:null,style:null,tabIndex:ce,target:null,title:null,translate:null,type:null,typeMustMatch:Me,useMap:null,value:ot,width:ce,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:$e,axis:null,background:null,bgColor:null,border:ce,borderColor:null,bottomMargin:ce,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Me,declare:Me,event:null,face:null,frame:null,frameBorder:null,hSpace:ce,leftMargin:ce,link:null,longDesc:null,lowSrc:null,marginHeight:ce,marginWidth:ce,noResize:Me,noHref:Me,noShade:Me,noWrap:Me,object:null,profile:null,prompt:null,rev:null,rightMargin:ce,rules:null,scheme:null,scrolling:ot,standby:null,summary:null,text:null,topMargin:ce,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ce,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Me,disableRemotePlayback:Me,prefix:null,property:null,results:ce,security:null,unselectable:null},space:"html",transform:Cy}),mM=Xi({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Dt,accentHeight:ce,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ce,amplitude:ce,arabicForm:null,ascent:ce,attributeName:null,attributeType:null,azimuth:ce,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ce,by:null,calcMode:null,capHeight:ce,className:$e,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ce,diffuseConstant:ce,direction:null,display:null,dur:null,divisor:ce,dominantBaseline:null,download:Me,dx:null,dy:null,edgeMode:null,editable:null,elevation:ce,enableBackground:null,end:null,event:null,exponent:ce,externalResourcesRequired:null,fill:null,fillOpacity:ce,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Vi,g2:Vi,glyphName:Vi,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ce,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ce,horizOriginX:ce,horizOriginY:ce,id:null,ideographic:ce,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ce,k:ce,k1:ce,k2:ce,k3:ce,k4:ce,kernelMatrix:Dt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ce,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ce,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ce,overlineThickness:ce,paintOrder:null,panose1:null,path:null,pathLength:ce,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:$e,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ce,pointsAtY:ce,pointsAtZ:ce,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Dt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Dt,rev:Dt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Dt,requiredFeatures:Dt,requiredFonts:Dt,requiredFormats:Dt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ce,specularExponent:ce,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ce,strikethroughThickness:ce,string:null,stroke:null,strokeDashArray:Dt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ce,strokeOpacity:ce,strokeWidth:null,style:null,surfaceScale:ce,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Dt,tabIndex:ce,tableValues:null,target:null,targetX:ce,targetY:ce,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Dt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ce,underlineThickness:ce,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ce,values:null,vAlphabetic:ce,vMathematical:ce,vectorEffect:null,vHanging:ce,vIdeographic:ce,version:null,vertAdvY:ce,vertOriginX:ce,vertOriginY:ce,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ce,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:_y}),Sy=Xi({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Ny=Xi({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Cy}),Ly=Xi({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),gM={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},yM=/[A-Z]/g,L0=/-[a-z]/g,vM=/^data[-\w.:]+$/i;function bM(e,t){const n=Mc(t);let i=t,s=At;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&vM.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(L0,kM);i="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!L0.test(o)){let a=o.replace(yM,wM);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}s=Kd}return new s(i,t)}function wM(e){return"-"+e.toLowerCase()}function kM(e){return e.charAt(1).toUpperCase()}const xM=ky([xy,pM,Sy,Ny,Ly],"html"),qd=ky([xy,mM,Sy,Ny,Ly],"svg");function _M(e){return e.join(" ").trim()}function My(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ei={},ul,M0;function CM(){if(M0)return ul;M0=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,l=/^\s+|\s+$/g,c=`
`,d="/",u="*",h="",f="comment",p="declaration";function g(y,b){if(typeof y!="string")throw new TypeError("First argument must be a string");if(!y)return[];b=b||{};var v=1,w=1;function S(z){var B=z.match(t);B&&(v+=B.length);var V=z.lastIndexOf(c);w=~V?z.length-V:w+z.length}function x(){var z={line:v,column:w};return function(B){return B.position=new k(z),_(),B}}function k(z){this.start=z,this.end={line:v,column:w},this.source=b.source}k.prototype.content=y;function N(z){var B=new Error(b.source+":"+v+":"+w+": "+z);if(B.reason=z,B.filename=b.source,B.line=v,B.column=w,B.source=y,!b.silent)throw B}function L(z){var B=z.exec(y);if(B){var V=B[0];return S(V),y=y.slice(V.length),B}}function _(){L(n)}function I(z){var B;for(z=z||[];B=T();)B!==!1&&z.push(B);return z}function T(){var z=x();if(!(d!=y.charAt(0)||u!=y.charAt(1))){for(var B=2;h!=y.charAt(B)&&(u!=y.charAt(B)||d!=y.charAt(B+1));)++B;if(B+=2,h===y.charAt(B-1))return N("End of comment missing");var V=y.slice(2,B-2);return w+=2,S(V),y=y.slice(B),w+=2,z({type:f,comment:V})}}function R(){var z=x(),B=L(i);if(B){if(T(),!L(s))return N("property missing ':'");var V=L(o),A=z({type:p,property:m(B[0].replace(e,h)),value:V?m(V[0].replace(e,h)):h});return L(a),A}}function j(){var z=[];I(z);for(var B;B=R();)B!==!1&&(z.push(B),I(z));return z}return _(),j()}function m(y){return y?y.replace(l,h):h}return ul=g,ul}var E0;function SM(){if(E0)return Ei;E0=1;var e=Ei&&Ei.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.default=n;const t=e(CM());function n(i,s){let o=null;if(!i||typeof i!="string")return o;const a=(0,t.default)(i),l=typeof s=="function";return a.forEach(c=>{if(c.type!=="declaration")return;const{property:d,value:u}=c;l?s(d,u,c):u&&(o=o||{},o[d]=u)}),o}return Ei}var fr={},T0;function NM(){if(T0)return fr;T0=1,Object.defineProperty(fr,"__esModule",{value:!0}),fr.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,o=function(d){return!d||n.test(d)||e.test(d)},a=function(d,u){return u.toUpperCase()},l=function(d,u){return"".concat(u,"-")},c=function(d,u){return u===void 0&&(u={}),o(d)?d:(d=d.toLowerCase(),u.reactCompat?d=d.replace(s,l):d=d.replace(i,l),d.replace(t,a))};return fr.camelCase=c,fr}var pr,A0;function LM(){if(A0)return pr;A0=1;var e=pr&&pr.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},t=e(SM()),n=NM();function i(s,o){var a={};return!s||typeof s!="string"||(0,t.default)(s,function(l,c){l&&c&&(a[(0,n.camelCase)(l,o)]=c)}),a}return i.default=i,pr=i,pr}var MM=LM();const EM=My(MM),Ey=Ty("end"),Yd=Ty("start");function Ty(e){return t;function t(n){const i=n&&n.position&&n.position[e]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function TM(e){const t=Yd(e),n=Ey(e);if(t&&n)return{start:t,end:n}}function Or(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?D0(e.position):"start"in e||"end"in e?D0(e):"line"in e||"column"in e?Ac(e):""}function Ac(e){return F0(e&&e.line)+":"+F0(e&&e.column)}function D0(e){return Ac(e&&e.start)+"-"+Ac(e&&e.end)}function F0(e){return e&&typeof e=="number"?e:1}class wt extends Error{constructor(t,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let s="",o={},a=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?s=t:!o.cause&&t&&(a=!0,s=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof i=="string"){const c=i.indexOf(":");c===-1?o.ruleId=i:(o.source=i.slice(0,c),o.ruleId=i.slice(c+1))}if(!o.place&&o.ancestors&&o.ancestors){const c=o.ancestors[o.ancestors.length-1];c&&(o.place=c.position)}const l=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=l?l.line:void 0,this.name=Or(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}wt.prototype.file="";wt.prototype.name="";wt.prototype.reason="";wt.prototype.message="";wt.prototype.stack="";wt.prototype.column=void 0;wt.prototype.line=void 0;wt.prototype.ancestors=void 0;wt.prototype.cause=void 0;wt.prototype.fatal=void 0;wt.prototype.place=void 0;wt.prototype.ruleId=void 0;wt.prototype.source=void 0;const Zd={}.hasOwnProperty,AM=new Map,DM=/[A-Z]/g,FM=new Set(["table","tbody","thead","tfoot","tr"]),PM=new Set(["td","th"]),Ay="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function IM(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=$M(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=HM(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?qd:xM,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=Dy(s,e,void 0);return o&&typeof o!="string"?o:s.create(e,s.Fragment,{children:o||void 0},void 0)}function Dy(e,t,n){if(t.type==="element")return RM(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return BM(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return VM(e,t,n);if(t.type==="mdxjsEsm")return zM(e,t);if(t.type==="root")return OM(e,t,n);if(t.type==="text")return WM(e,t)}function RM(e,t,n){const i=e.schema;let s=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(s=qd,e.schema=s),e.ancestors.push(t);const o=Py(e,t.tagName,!1),a=jM(e,t);let l=Jd(e,t);return FM.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!hM(c):!0})),Fy(e,a,o,t),Xd(a,l),e.ancestors.pop(),e.schema=i,e.create(t,o,a,n)}function BM(e,t){if(t.data&&t.data.estree&&e.evaluater){const i=t.data.estree.body[0];return e.evaluater.evaluateExpression(i.expression)}ls(e,t.position)}function zM(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ls(e,t.position)}function VM(e,t,n){const i=e.schema;let s=i;t.name==="svg"&&i.space==="html"&&(s=qd,e.schema=s),e.ancestors.push(t);const o=t.name===null?e.Fragment:Py(e,t.name,!0),a=UM(e,t),l=Jd(e,t);return Fy(e,a,o,t),Xd(a,l),e.ancestors.pop(),e.schema=i,e.create(t,o,a,n)}function OM(e,t,n){const i={};return Xd(i,Jd(e,t)),e.create(t,e.Fragment,i,n)}function WM(e,t){return t.value}function Fy(e,t,n,i){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=i)}function Xd(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function HM(e,t,n){return i;function i(s,o,a,l){const d=Array.isArray(a.children)?n:t;return l?d(o,a,l):d(o,a)}}function $M(e,t){return n;function n(i,s,o,a){const l=Array.isArray(o.children),c=Yd(i);return t(s,o,a,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function jM(e,t){const n={};let i,s;for(s in t.properties)if(s!=="children"&&Zd.call(t.properties,s)){const o=GM(e,s,t.properties[s]);if(o){const[a,l]=o;e.tableCellAlignToStyle&&a==="align"&&typeof l=="string"&&PM.has(t.tagName)?i=l:n[a]=l}}if(i){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function UM(e,t){const n={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&e.evaluater){const l=i.data.estree.body[0].expression.properties[0];Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else ls(e,t.position);else{const s=i.name;let o;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&e.evaluater){const l=i.value.data.estree.body[0];o=e.evaluater.evaluateExpression(l.expression)}else ls(e,t.position);else o=i.value===null?!0:i.value;n[s]=o}return n}function Jd(e,t){const n=[];let i=-1;const s=e.passKeys?new Map:AM;for(;++i<t.children.length;){const o=t.children[i];let a;if(e.passKeys){const c=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(c){const d=s.get(c)||0;a=c+"-"+d,s.set(c,d+1)}}const l=Dy(e,o,a);l!==void 0&&n.push(l)}return n}function GM(e,t,n){const i=bM(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?aM(n):_M(n)),i.property==="style"){let s=typeof n=="object"?n:KM(e,String(n));return e.stylePropertyNameCase==="css"&&(s=qM(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&i.space?gM[i.property]||i.property:i.attribute,n]}}function KM(e,t){try{return EM(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const i=n,s=new wt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=Ay+"#cannot-parse-style-attribute",s}}function Py(e,t,n){let i;if(!n)i={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let o=-1,a;for(;++o<s.length;){const l=C0(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};a=a?{type:"MemberExpression",object:a,property:l,computed:!!(o&&l.type==="Literal"),optional:!1}:l}i=a}else i=C0(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const s=i.value;return Zd.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(i);ls(e)}function ls(e,t){const n=new wt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Ay+"#cannot-handle-mdx-estrees-without-createevaluater",n}function qM(e){const t={};let n;for(n in e)Zd.call(e,n)&&(t[YM(n)]=e[n]);return t}function YM(e){let t=e.replace(DM,ZM);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function ZM(e){return"-"+e.toLowerCase()}const hl={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},XM={};function JM(e,t){const n=XM,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Iy(e,i,s)}function Iy(e,t,n){if(QM(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return P0(e.children,t,n)}return Array.isArray(e)?P0(e,t,n):""}function P0(e,t,n){const i=[];let s=-1;for(;++s<e.length;)i[s]=Iy(e[s],t,n);return i.join("")}function QM(e){return!!(e&&typeof e=="object")}const I0=document.createElement("i");function Qd(e){const t="&"+e+";";I0.innerHTML=t;const n=I0.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function pn(e,t,n,i){const s=e.length;let o=0,a;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,i.length<1e4)a=Array.from(i),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);o<i.length;)a=i.slice(o,o+1e4),a.unshift(t,0),e.splice(...a),o+=1e4,t+=1e4}function Ot(e,t){return e.length>0?(pn(e,e.length,0,t),e):t}const R0={}.hasOwnProperty;function eE(e){const t={};let n=-1;for(;++n<e.length;)tE(t,e[n]);return t}function tE(e,t){let n;for(n in t){const s=(R0.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let a;if(o)for(a in o){R0.call(s,a)||(s[a]=[]);const l=o[a];nE(s[a],Array.isArray(l)?l:l?[l]:[])}}}function nE(e,t){let n=-1;const i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);pn(e,0,0,i)}function Ry(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Oi(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const an=Gn(/[A-Za-z]/),It=Gn(/[\dA-Za-z]/),iE=Gn(/[#-'*+\--9=?A-Z^-~]/);function Dc(e){return e!==null&&(e<32||e===127)}const Fc=Gn(/\d/),rE=Gn(/[\dA-Fa-f]/),sE=Gn(/[!-/:-@[-`{-~]/);function Ne(e){return e!==null&&e<-2}function Tt(e){return e!==null&&(e<0||e===32)}function Ve(e){return e===-2||e===-1||e===32}const oE=Gn(/\p{P}|\p{S}/u),aE=Gn(/\s/);function Gn(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Ji(e){const t=[];let n=-1,i=0,s=0;for(;++n<e.length;){const o=e.charCodeAt(n);let a="";if(o===37&&It(e.charCodeAt(n+1))&&It(e.charCodeAt(n+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const l=e.charCodeAt(n+1);o<56320&&l>56319&&l<57344?(a=String.fromCharCode(o,l),s=1):a=""}else a=String.fromCharCode(o);a&&(t.push(e.slice(i,n),encodeURIComponent(a)),i=n+s+1,a=""),s&&(n+=s,s=0)}return t.join("")+e.slice(i)}function Ue(e,t,n,i){const s=i?i-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(c){return Ve(c)?(e.enter(n),l(c)):t(c)}function l(c){return Ve(c)&&o++<s?(e.consume(c),l):(e.exit(n),t(c))}}const lE={tokenize:cE};function cE(e){const t=e.attempt(this.parser.constructs.contentInitial,i,s);let n;return t;function i(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Ue(e,t,"linePrefix")}function s(l){return e.enter("paragraph"),o(l)}function o(l){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,a(l)}function a(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return Ne(l)?(e.consume(l),e.exit("chunkText"),o):(e.consume(l),a)}}const dE={tokenize:uE},B0={tokenize:hE};function uE(e){const t=this,n=[];let i=0,s,o,a;return l;function l(w){if(i<n.length){const S=n[i];return t.containerState=S[1],e.attempt(S[0].continuation,c,d)(w)}return d(w)}function c(w){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&v();const S=t.events.length;let x=S,k;for(;x--;)if(t.events[x][0]==="exit"&&t.events[x][1].type==="chunkFlow"){k=t.events[x][1].end;break}b(i);let N=S;for(;N<t.events.length;)t.events[N][1].end={...k},N++;return pn(t.events,x+1,0,t.events.slice(S)),t.events.length=N,d(w)}return l(w)}function d(w){if(i===n.length){if(!s)return f(w);if(s.currentConstruct&&s.currentConstruct.concrete)return g(w);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(B0,u,h)(w)}function u(w){return s&&v(),b(i),f(w)}function h(w){return t.parser.lazy[t.now().line]=i!==n.length,a=t.now().offset,g(w)}function f(w){return t.containerState={},e.attempt(B0,p,g)(w)}function p(w){return i++,n.push([t.currentConstruct,t.containerState]),f(w)}function g(w){if(w===null){s&&v(),b(0),e.consume(w);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),m(w)}function m(w){if(w===null){y(e.exit("chunkFlow"),!0),b(0),e.consume(w);return}return Ne(w)?(e.consume(w),y(e.exit("chunkFlow")),i=0,t.interrupt=void 0,l):(e.consume(w),m)}function y(w,S){const x=t.sliceStream(w);if(S&&x.push(null),w.previous=o,o&&(o.next=w),o=w,s.defineSkip(w.start),s.write(x),t.parser.lazy[w.start.line]){let k=s.events.length;for(;k--;)if(s.events[k][1].start.offset<a&&(!s.events[k][1].end||s.events[k][1].end.offset>a))return;const N=t.events.length;let L=N,_,I;for(;L--;)if(t.events[L][0]==="exit"&&t.events[L][1].type==="chunkFlow"){if(_){I=t.events[L][1].end;break}_=!0}for(b(i),k=N;k<t.events.length;)t.events[k][1].end={...I},k++;pn(t.events,L+1,0,t.events.slice(N)),t.events.length=k}}function b(w){let S=n.length;for(;S-- >w;){const x=n[S];t.containerState=x[1],x[0].exit.call(t,e)}n.length=w}function v(){s.write([null]),o=void 0,s=void 0,t.containerState._closeFlow=void 0}}function hE(e,t,n){return Ue(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function z0(e){if(e===null||Tt(e)||aE(e))return 1;if(oE(e))return 2}function eu(e,t,n){const i=[];let s=-1;for(;++s<e.length;){const o=e[s].resolveAll;o&&!i.includes(o)&&(t=o(t,n),i.push(o))}return t}const Pc={name:"attention",resolveAll:fE,tokenize:pE};function fE(e,t){let n=-1,i,s,o,a,l,c,d,u;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[i][1].end},f={...e[n][1].start};V0(h,-c),V0(f,c),a={type:c>1?"strongSequence":"emphasisSequence",start:h,end:{...e[i][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:f},o={type:c>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[n][1].start}},s={type:c>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},e[i][1].end={...a.start},e[n][1].start={...l.end},d=[],e[i][1].end.offset-e[i][1].start.offset&&(d=Ot(d,[["enter",e[i][1],t],["exit",e[i][1],t]])),d=Ot(d,[["enter",s,t],["enter",a,t],["exit",a,t],["enter",o,t]]),d=Ot(d,eu(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),d=Ot(d,[["exit",o,t],["enter",l,t],["exit",l,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(u=2,d=Ot(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):u=0,pn(e,i-1,n-i+3,d),n=i+d.length-u-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function pE(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,s=z0(i);let o;return a;function a(c){return o=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===o)return e.consume(c),l;const d=e.exit("attentionSequence"),u=z0(c),h=!u||u===2&&s||n.includes(c),f=!s||s===2&&u||n.includes(i);return d._open=!!(o===42?h:h&&(s||!f)),d._close=!!(o===42?f:f&&(u||!h)),t(c)}}function V0(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const mE={name:"autolink",tokenize:gE};function gE(e,t,n){let i=0;return s;function s(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(p){return an(p)?(e.consume(p),a):p===64?n(p):d(p)}function a(p){return p===43||p===45||p===46||It(p)?(i=1,l(p)):d(p)}function l(p){return p===58?(e.consume(p),i=0,c):(p===43||p===45||p===46||It(p))&&i++<32?(e.consume(p),l):(i=0,d(p))}function c(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||Dc(p)?n(p):(e.consume(p),c)}function d(p){return p===64?(e.consume(p),u):iE(p)?(e.consume(p),d):n(p)}function u(p){return It(p)?h(p):n(p)}function h(p){return p===46?(e.consume(p),i=0,u):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):f(p)}function f(p){if((p===45||It(p))&&i++<63){const g=p===45?f:h;return e.consume(p),g}return n(p)}}const pa={partial:!0,tokenize:yE};function yE(e,t,n){return i;function i(o){return Ve(o)?Ue(e,s,"linePrefix")(o):s(o)}function s(o){return o===null||Ne(o)?t(o):n(o)}}const By={continuation:{tokenize:bE},exit:wE,name:"blockQuote",tokenize:vE};function vE(e,t,n){const i=this;return s;function s(a){if(a===62){const l=i.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),o}return n(a)}function o(a){return Ve(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function bE(e,t,n){const i=this;return s;function s(a){return Ve(a)?Ue(e,o,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return e.attempt(By,t,n)(a)}}function wE(e){e.exit("blockQuote")}const zy={name:"characterEscape",tokenize:kE};function kE(e,t,n){return i;function i(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),s}function s(o){return sE(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const Vy={name:"characterReference",tokenize:xE};function xE(e,t,n){const i=this;let s=0,o,a;return l;function l(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),c}function c(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),o=31,a=It,u(h))}function d(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,a=rE,u):(e.enter("characterReferenceValue"),o=7,a=Fc,u(h))}function u(h){if(h===59&&s){const f=e.exit("characterReferenceValue");return a===It&&!Qd(i.sliceSerialize(f))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(h)&&s++<o?(e.consume(h),u):n(h)}}const O0={partial:!0,tokenize:CE},W0={concrete:!0,name:"codeFenced",tokenize:_E};function _E(e,t,n){const i=this,s={partial:!0,tokenize:x};let o=0,a=0,l;return c;function c(k){return d(k)}function d(k){const N=i.events[i.events.length-1];return o=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,l=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(k)}function u(k){return k===l?(a++,e.consume(k),u):a<3?n(k):(e.exit("codeFencedFenceSequence"),Ve(k)?Ue(e,h,"whitespace")(k):h(k))}function h(k){return k===null||Ne(k)?(e.exit("codeFencedFence"),i.interrupt?t(k):e.check(O0,m,S)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(k))}function f(k){return k===null||Ne(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(k)):Ve(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ue(e,p,"whitespace")(k)):k===96&&k===l?n(k):(e.consume(k),f)}function p(k){return k===null||Ne(k)?h(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(k))}function g(k){return k===null||Ne(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(k)):k===96&&k===l?n(k):(e.consume(k),g)}function m(k){return e.attempt(s,S,y)(k)}function y(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),b}function b(k){return o>0&&Ve(k)?Ue(e,v,"linePrefix",o+1)(k):v(k)}function v(k){return k===null||Ne(k)?e.check(O0,m,S)(k):(e.enter("codeFlowValue"),w(k))}function w(k){return k===null||Ne(k)?(e.exit("codeFlowValue"),v(k)):(e.consume(k),w)}function S(k){return e.exit("codeFenced"),t(k)}function x(k,N,L){let _=0;return I;function I(B){return k.enter("lineEnding"),k.consume(B),k.exit("lineEnding"),T}function T(B){return k.enter("codeFencedFence"),Ve(B)?Ue(k,R,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):R(B)}function R(B){return B===l?(k.enter("codeFencedFenceSequence"),j(B)):L(B)}function j(B){return B===l?(_++,k.consume(B),j):_>=a?(k.exit("codeFencedFenceSequence"),Ve(B)?Ue(k,z,"whitespace")(B):z(B)):L(B)}function z(B){return B===null||Ne(B)?(k.exit("codeFencedFence"),N(B)):L(B)}}}function CE(e,t,n){const i=this;return s;function s(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o)}function o(a){return i.parser.lazy[i.now().line]?n(a):t(a)}}const fl={name:"codeIndented",tokenize:NE},SE={partial:!0,tokenize:LE};function NE(e,t,n){const i=this;return s;function s(d){return e.enter("codeIndented"),Ue(e,o,"linePrefix",5)(d)}function o(d){const u=i.events[i.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?a(d):n(d)}function a(d){return d===null?c(d):Ne(d)?e.attempt(SE,a,c)(d):(e.enter("codeFlowValue"),l(d))}function l(d){return d===null||Ne(d)?(e.exit("codeFlowValue"),a(d)):(e.consume(d),l)}function c(d){return e.exit("codeIndented"),t(d)}}function LE(e,t,n){const i=this;return s;function s(a){return i.parser.lazy[i.now().line]?n(a):Ne(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):Ue(e,o,"linePrefix",5)(a)}function o(a){const l=i.events[i.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):Ne(a)?s(a):n(a)}}const ME={name:"codeText",previous:TE,resolve:EE,tokenize:AE};function EE(e){let t=e.length-4,n=3,i,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)s===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(s=i):(i===t||e[i][1].type==="lineEnding")&&(e[s][1].type="codeTextData",i!==s+2&&(e[s][1].end=e[i-1][1].end,e.splice(s+2,i-s-2),t-=i-s-2,i=s+2),s=void 0);return e}function TE(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function AE(e,t,n){let i=0,s,o;return a;function a(h){return e.enter("codeText"),e.enter("codeTextSequence"),l(h)}function l(h){return h===96?(e.consume(h),i++,l):(e.exit("codeTextSequence"),c(h))}function c(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),c):h===96?(o=e.enter("codeTextSequence"),s=0,u(h)):Ne(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("codeTextData"),d(h))}function d(h){return h===null||h===32||h===96||Ne(h)?(e.exit("codeTextData"),c(h)):(e.consume(h),d)}function u(h){return h===96?(e.consume(h),s++,u):s===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(o.type="codeTextData",d(h))}}class DE{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,n,i){const s=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return i&&mr(this.left,i),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),mr(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),mr(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);mr(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);mr(this.left,n.reverse())}}}function mr(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Oy(e){const t={};let n=-1,i,s,o,a,l,c,d;const u=new DE(e);for(;++n<u.length;){for(;n in t;)n=t[n];if(i=u.get(n),n&&i[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(c=i[1]._tokenizer.events,o=0,o<c.length&&c[o][1].type==="lineEndingBlank"&&(o+=2),o<c.length&&c[o][1].type==="content"))for(;++o<c.length&&c[o][1].type!=="content";)c[o][1].type==="chunkText"&&(c[o][1]._isInFirstContentOfListItem=!0,o++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,FE(u,n)),n=t[n],d=!0);else if(i[1]._container){for(o=n,s=void 0;o--;)if(a=u.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(s&&(u.get(s)[1].type="lineEndingBlank"),a[1].type="lineEnding",s=o);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;s&&(i[1].end={...u.get(s)[1].start},l=u.slice(s,n),l.unshift(i),u.splice(s,n-s+1,l))}}return pn(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!d}function FE(e,t){const n=e.get(t)[1],i=e.get(t)[2];let s=t-1;const o=[];let a=n._tokenizer;a||(a=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const l=a.events,c=[],d={};let u,h,f=-1,p=n,g=0,m=0;const y=[m];for(;p;){for(;e.get(++s)[1]!==p;);o.push(s),p._tokenizer||(u=i.sliceStream(p),p.next||u.push(null),h&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=p,p=p.next}for(p=n;++f<l.length;)l[f][0]==="exit"&&l[f-1][0]==="enter"&&l[f][1].type===l[f-1][1].type&&l[f][1].start.line!==l[f][1].end.line&&(m=f+1,y.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):y.pop(),f=y.length;f--;){const b=l.slice(y[f],y[f+1]),v=o.pop();c.push([v,v+b.length-1]),e.splice(v,2,b)}for(c.reverse(),f=-1;++f<c.length;)d[g+c[f][0]]=g+c[f][1],g+=c[f][1]-c[f][0]-1;return d}const PE={resolve:RE,tokenize:BE},IE={partial:!0,tokenize:zE};function RE(e){return Oy(e),e}function BE(e,t){let n;return i;function i(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(l)}function s(l){return l===null?o(l):Ne(l)?e.check(IE,a,o)(l):(e.consume(l),s)}function o(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function a(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function zE(e,t,n){const i=this;return s;function s(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Ue(e,o,"linePrefix")}function o(a){if(a===null||Ne(a))return n(a);const l=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):e.interrupt(i.parser.constructs.flow,n,t)(a)}}function Wy(e,t,n,i,s,o,a,l,c){const d=c||Number.POSITIVE_INFINITY;let u=0;return h;function h(b){return b===60?(e.enter(i),e.enter(s),e.enter(o),e.consume(b),e.exit(o),f):b===null||b===32||b===41||Dc(b)?n(b):(e.enter(i),e.enter(a),e.enter(l),e.enter("chunkString",{contentType:"string"}),m(b))}function f(b){return b===62?(e.enter(o),e.consume(b),e.exit(o),e.exit(s),e.exit(i),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===62?(e.exit("chunkString"),e.exit(l),f(b)):b===null||b===60||Ne(b)?n(b):(e.consume(b),b===92?g:p)}function g(b){return b===60||b===62||b===92?(e.consume(b),p):p(b)}function m(b){return!u&&(b===null||b===41||Tt(b))?(e.exit("chunkString"),e.exit(l),e.exit(a),e.exit(i),t(b)):u<d&&b===40?(e.consume(b),u++,m):b===41?(e.consume(b),u--,m):b===null||b===32||b===40||Dc(b)?n(b):(e.consume(b),b===92?y:m)}function y(b){return b===40||b===41||b===92?(e.consume(b),m):m(b)}}function Hy(e,t,n,i,s,o){const a=this;let l=0,c;return d;function d(p){return e.enter(i),e.enter(s),e.consume(p),e.exit(s),e.enter(o),u}function u(p){return l>999||p===null||p===91||p===93&&!c||p===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(e.exit(o),e.enter(s),e.consume(p),e.exit(s),e.exit(i),t):Ne(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===null||p===91||p===93||Ne(p)||l++>999?(e.exit("chunkString"),u(p)):(e.consume(p),c||(c=!Ve(p)),p===92?f:h)}function f(p){return p===91||p===92||p===93?(e.consume(p),l++,h):h(p)}}function $y(e,t,n,i,s,o){let a;return l;function l(f){return f===34||f===39||f===40?(e.enter(i),e.enter(s),e.consume(f),e.exit(s),a=f===40?41:f,c):n(f)}function c(f){return f===a?(e.enter(s),e.consume(f),e.exit(s),e.exit(i),t):(e.enter(o),d(f))}function d(f){return f===a?(e.exit(o),c(a)):f===null?n(f):Ne(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),Ue(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(f))}function u(f){return f===a||f===null||Ne(f)?(e.exit("chunkString"),d(f)):(e.consume(f),f===92?h:u)}function h(f){return f===a||f===92?(e.consume(f),u):u(f)}}function Wr(e,t){let n;return i;function i(s){return Ne(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,i):Ve(s)?Ue(e,i,n?"linePrefix":"lineSuffix")(s):t(s)}}const VE={name:"definition",tokenize:WE},OE={partial:!0,tokenize:HE};function WE(e,t,n){const i=this;let s;return o;function o(p){return e.enter("definition"),a(p)}function a(p){return Hy.call(i,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function l(p){return s=Oi(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),c):n(p)}function c(p){return Tt(p)?Wr(e,d)(p):d(p)}function d(p){return Wy(e,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function u(p){return e.attempt(OE,h,h)(p)}function h(p){return Ve(p)?Ue(e,f,"whitespace")(p):f(p)}function f(p){return p===null||Ne(p)?(e.exit("definition"),i.parser.defined.push(s),t(p)):n(p)}}function HE(e,t,n){return i;function i(l){return Tt(l)?Wr(e,s)(l):n(l)}function s(l){return $y(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function o(l){return Ve(l)?Ue(e,a,"whitespace")(l):a(l)}function a(l){return l===null||Ne(l)?t(l):n(l)}}const $E={name:"hardBreakEscape",tokenize:jE};function jE(e,t,n){return i;function i(o){return e.enter("hardBreakEscape"),e.consume(o),s}function s(o){return Ne(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const UE={name:"headingAtx",resolve:GE,tokenize:KE};function GE(e,t){let n=e.length-2,i=3,s,o;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(s={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},o={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},pn(e,i,n-i+1,[["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t]])),e}function KE(e,t,n){let i=0;return s;function s(u){return e.enter("atxHeading"),o(u)}function o(u){return e.enter("atxHeadingSequence"),a(u)}function a(u){return u===35&&i++<6?(e.consume(u),a):u===null||Tt(u)?(e.exit("atxHeadingSequence"),l(u)):n(u)}function l(u){return u===35?(e.enter("atxHeadingSequence"),c(u)):u===null||Ne(u)?(e.exit("atxHeading"),t(u)):Ve(u)?Ue(e,l,"whitespace")(u):(e.enter("atxHeadingText"),d(u))}function c(u){return u===35?(e.consume(u),c):(e.exit("atxHeadingSequence"),l(u))}function d(u){return u===null||u===35||Tt(u)?(e.exit("atxHeadingText"),l(u)):(e.consume(u),d)}}const qE=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],H0=["pre","script","style","textarea"],YE={concrete:!0,name:"htmlFlow",resolveTo:JE,tokenize:QE},ZE={partial:!0,tokenize:tT},XE={partial:!0,tokenize:eT};function JE(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function QE(e,t,n){const i=this;let s,o,a,l,c;return d;function d(E){return u(E)}function u(E){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(E),h}function h(E){return E===33?(e.consume(E),f):E===47?(e.consume(E),o=!0,m):E===63?(e.consume(E),s=3,i.interrupt?t:C):an(E)?(e.consume(E),a=String.fromCharCode(E),y):n(E)}function f(E){return E===45?(e.consume(E),s=2,p):E===91?(e.consume(E),s=5,l=0,g):an(E)?(e.consume(E),s=4,i.interrupt?t:C):n(E)}function p(E){return E===45?(e.consume(E),i.interrupt?t:C):n(E)}function g(E){const ee="CDATA[";return E===ee.charCodeAt(l++)?(e.consume(E),l===ee.length?i.interrupt?t:R:g):n(E)}function m(E){return an(E)?(e.consume(E),a=String.fromCharCode(E),y):n(E)}function y(E){if(E===null||E===47||E===62||Tt(E)){const ee=E===47,ue=a.toLowerCase();return!ee&&!o&&H0.includes(ue)?(s=1,i.interrupt?t(E):R(E)):qE.includes(a.toLowerCase())?(s=6,ee?(e.consume(E),b):i.interrupt?t(E):R(E)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(E):o?v(E):w(E))}return E===45||It(E)?(e.consume(E),a+=String.fromCharCode(E),y):n(E)}function b(E){return E===62?(e.consume(E),i.interrupt?t:R):n(E)}function v(E){return Ve(E)?(e.consume(E),v):I(E)}function w(E){return E===47?(e.consume(E),I):E===58||E===95||an(E)?(e.consume(E),S):Ve(E)?(e.consume(E),w):I(E)}function S(E){return E===45||E===46||E===58||E===95||It(E)?(e.consume(E),S):x(E)}function x(E){return E===61?(e.consume(E),k):Ve(E)?(e.consume(E),x):w(E)}function k(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(e.consume(E),c=E,N):Ve(E)?(e.consume(E),k):L(E)}function N(E){return E===c?(e.consume(E),c=null,_):E===null||Ne(E)?n(E):(e.consume(E),N)}function L(E){return E===null||E===34||E===39||E===47||E===60||E===61||E===62||E===96||Tt(E)?x(E):(e.consume(E),L)}function _(E){return E===47||E===62||Ve(E)?w(E):n(E)}function I(E){return E===62?(e.consume(E),T):n(E)}function T(E){return E===null||Ne(E)?R(E):Ve(E)?(e.consume(E),T):n(E)}function R(E){return E===45&&s===2?(e.consume(E),V):E===60&&s===1?(e.consume(E),A):E===62&&s===4?(e.consume(E),X):E===63&&s===3?(e.consume(E),C):E===93&&s===5?(e.consume(E),M):Ne(E)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(ZE,q,j)(E)):E===null||Ne(E)?(e.exit("htmlFlowData"),j(E)):(e.consume(E),R)}function j(E){return e.check(XE,z,q)(E)}function z(E){return e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),B}function B(E){return E===null||Ne(E)?j(E):(e.enter("htmlFlowData"),R(E))}function V(E){return E===45?(e.consume(E),C):R(E)}function A(E){return E===47?(e.consume(E),a="",F):R(E)}function F(E){if(E===62){const ee=a.toLowerCase();return H0.includes(ee)?(e.consume(E),X):R(E)}return an(E)&&a.length<8?(e.consume(E),a+=String.fromCharCode(E),F):R(E)}function M(E){return E===93?(e.consume(E),C):R(E)}function C(E){return E===62?(e.consume(E),X):E===45&&s===2?(e.consume(E),C):R(E)}function X(E){return E===null||Ne(E)?(e.exit("htmlFlowData"),q(E)):(e.consume(E),X)}function q(E){return e.exit("htmlFlow"),t(E)}}function eT(e,t,n){const i=this;return s;function s(a){return Ne(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):n(a)}function o(a){return i.parser.lazy[i.now().line]?n(a):t(a)}}function tT(e,t,n){return i;function i(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(pa,t,n)}}const nT={name:"htmlText",tokenize:iT};function iT(e,t,n){const i=this;let s,o,a;return l;function l(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),c}function c(C){return C===33?(e.consume(C),d):C===47?(e.consume(C),x):C===63?(e.consume(C),w):an(C)?(e.consume(C),L):n(C)}function d(C){return C===45?(e.consume(C),u):C===91?(e.consume(C),o=0,g):an(C)?(e.consume(C),v):n(C)}function u(C){return C===45?(e.consume(C),p):n(C)}function h(C){return C===null?n(C):C===45?(e.consume(C),f):Ne(C)?(a=h,A(C)):(e.consume(C),h)}function f(C){return C===45?(e.consume(C),p):h(C)}function p(C){return C===62?V(C):C===45?f(C):h(C)}function g(C){const X="CDATA[";return C===X.charCodeAt(o++)?(e.consume(C),o===X.length?m:g):n(C)}function m(C){return C===null?n(C):C===93?(e.consume(C),y):Ne(C)?(a=m,A(C)):(e.consume(C),m)}function y(C){return C===93?(e.consume(C),b):m(C)}function b(C){return C===62?V(C):C===93?(e.consume(C),b):m(C)}function v(C){return C===null||C===62?V(C):Ne(C)?(a=v,A(C)):(e.consume(C),v)}function w(C){return C===null?n(C):C===63?(e.consume(C),S):Ne(C)?(a=w,A(C)):(e.consume(C),w)}function S(C){return C===62?V(C):w(C)}function x(C){return an(C)?(e.consume(C),k):n(C)}function k(C){return C===45||It(C)?(e.consume(C),k):N(C)}function N(C){return Ne(C)?(a=N,A(C)):Ve(C)?(e.consume(C),N):V(C)}function L(C){return C===45||It(C)?(e.consume(C),L):C===47||C===62||Tt(C)?_(C):n(C)}function _(C){return C===47?(e.consume(C),V):C===58||C===95||an(C)?(e.consume(C),I):Ne(C)?(a=_,A(C)):Ve(C)?(e.consume(C),_):V(C)}function I(C){return C===45||C===46||C===58||C===95||It(C)?(e.consume(C),I):T(C)}function T(C){return C===61?(e.consume(C),R):Ne(C)?(a=T,A(C)):Ve(C)?(e.consume(C),T):_(C)}function R(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),s=C,j):Ne(C)?(a=R,A(C)):Ve(C)?(e.consume(C),R):(e.consume(C),z)}function j(C){return C===s?(e.consume(C),s=void 0,B):C===null?n(C):Ne(C)?(a=j,A(C)):(e.consume(C),j)}function z(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||Tt(C)?_(C):(e.consume(C),z)}function B(C){return C===47||C===62||Tt(C)?_(C):n(C)}function V(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function A(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),F}function F(C){return Ve(C)?Ue(e,M,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):M(C)}function M(C){return e.enter("htmlTextData"),a(C)}}const tu={name:"labelEnd",resolveAll:aT,resolveTo:lT,tokenize:cT},rT={tokenize:dT},sT={tokenize:uT},oT={tokenize:hT};function aT(e){let t=-1;const n=[];for(;++t<e.length;){const i=e[t][1];if(n.push(e[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const s=i.type==="labelImage"?4:2;i.type="data",t+=s}}return e.length!==n.length&&pn(e,0,e.length,n),e}function lT(e,t){let n=e.length,i=0,s,o,a,l;for(;n--;)if(s=e[n][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=n,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(a=n);const c={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[o][1].start},end:{...e[a][1].end}},u={type:"labelText",start:{...e[o+i+2][1].end},end:{...e[a-2][1].start}};return l=[["enter",c,t],["enter",d,t]],l=Ot(l,e.slice(o+1,o+i+3)),l=Ot(l,[["enter",u,t]]),l=Ot(l,eu(t.parser.constructs.insideSpan.null,e.slice(o+i+4,a-3),t)),l=Ot(l,[["exit",u,t],e[a-2],e[a-1],["exit",d,t]]),l=Ot(l,e.slice(a+1)),l=Ot(l,[["exit",c,t]]),pn(e,o,e.length,l),e}function cT(e,t,n){const i=this;let s=i.events.length,o,a;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){o=i.events[s][1];break}return l;function l(f){return o?o._inactive?h(f):(a=i.parser.defined.includes(Oi(i.sliceSerialize({start:o.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),c):n(f)}function c(f){return f===40?e.attempt(rT,u,a?u:h)(f):f===91?e.attempt(sT,u,a?d:h)(f):a?u(f):h(f)}function d(f){return e.attempt(oT,u,h)(f)}function u(f){return t(f)}function h(f){return o._balanced=!0,n(f)}}function dT(e,t,n){return i;function i(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),s}function s(h){return Tt(h)?Wr(e,o)(h):o(h)}function o(h){return h===41?u(h):Wy(e,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function a(h){return Tt(h)?Wr(e,c)(h):u(h)}function l(h){return n(h)}function c(h){return h===34||h===39||h===40?$y(e,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):u(h)}function d(h){return Tt(h)?Wr(e,u)(h):u(h)}function u(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function uT(e,t,n){const i=this;return s;function s(l){return Hy.call(i,e,o,a,"reference","referenceMarker","referenceString")(l)}function o(l){return i.parser.defined.includes(Oi(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function a(l){return n(l)}}function hT(e,t,n){return i;function i(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),s}function s(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const fT={name:"labelStartImage",resolveAll:tu.resolveAll,tokenize:pT};function pT(e,t,n){const i=this;return s;function s(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),o}function o(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),a):n(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(l):t(l)}}const mT={name:"labelStartLink",resolveAll:tu.resolveAll,tokenize:gT};function gT(e,t,n){const i=this;return s;function s(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(a):t(a)}}const pl={name:"lineEnding",tokenize:yT};function yT(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),Ue(e,t,"linePrefix")}}const Ao={name:"thematicBreak",tokenize:vT};function vT(e,t,n){let i=0,s;return o;function o(d){return e.enter("thematicBreak"),a(d)}function a(d){return s=d,l(d)}function l(d){return d===s?(e.enter("thematicBreakSequence"),c(d)):i>=3&&(d===null||Ne(d))?(e.exit("thematicBreak"),t(d)):n(d)}function c(d){return d===s?(e.consume(d),i++,c):(e.exit("thematicBreakSequence"),Ve(d)?Ue(e,l,"whitespace")(d):l(d))}}const Lt={continuation:{tokenize:xT},exit:CT,name:"list",tokenize:kT},bT={partial:!0,tokenize:ST},wT={partial:!0,tokenize:_T};function kT(e,t,n){const i=this,s=i.events[i.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,a=0;return l;function l(p){const g=i.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!i.containerState.marker||p===i.containerState.marker:Fc(p)){if(i.containerState.type||(i.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(Ao,n,d)(p):d(p);if(!i.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(p)}return n(p)}function c(p){return Fc(p)&&++a<10?(e.consume(p),c):(!i.interrupt||a<2)&&(i.containerState.marker?p===i.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),d(p)):n(p)}function d(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||p,e.check(pa,i.interrupt?n:u,e.attempt(bT,f,h))}function u(p){return i.containerState.initialBlankLine=!0,o++,f(p)}function h(p){return Ve(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return i.containerState.size=o+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function xT(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(pa,s,o);function s(l){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Ue(e,t,"listItemIndent",i.containerState.size+1)(l)}function o(l){return i.containerState.furtherBlankLines||!Ve(l)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,a(l)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(wT,t,a)(l))}function a(l){return i.containerState._closeFlow=!0,i.interrupt=void 0,Ue(e,e.attempt(Lt,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function _T(e,t,n){const i=this;return Ue(e,s,"listItemIndent",i.containerState.size+1);function s(o){const a=i.events[i.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===i.containerState.size?t(o):n(o)}}function CT(e){e.exit(this.containerState.type)}function ST(e,t,n){const i=this;return Ue(e,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const a=i.events[i.events.length-1];return!Ve(o)&&a&&a[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const $0={name:"setextUnderline",resolveTo:NT,tokenize:LT};function NT(e,t){let n=e.length,i,s,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",o?(e.splice(s,0,["enter",a,t]),e.splice(o+1,0,["exit",e[i][1],t]),e[i][1].end={...e[o][1].end}):e[i][1]=a,e.push(["exit",a,t]),e}function LT(e,t,n){const i=this;let s;return o;function o(d){let u=i.events.length,h;for(;u--;)if(i.events[u][1].type!=="lineEnding"&&i.events[u][1].type!=="linePrefix"&&i.events[u][1].type!=="content"){h=i.events[u][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||h)?(e.enter("setextHeadingLine"),s=d,a(d)):n(d)}function a(d){return e.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===s?(e.consume(d),l):(e.exit("setextHeadingLineSequence"),Ve(d)?Ue(e,c,"lineSuffix")(d):c(d))}function c(d){return d===null||Ne(d)?(e.exit("setextHeadingLine"),t(d)):n(d)}}const MT={tokenize:ET};function ET(e){const t=this,n=e.attempt(pa,i,e.attempt(this.parser.constructs.flowInitial,s,Ue(e,e.attempt(this.parser.constructs.flow,s,e.attempt(PE,s)),"linePrefix")));return n;function i(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const TT={resolveAll:Uy()},AT=jy("string"),DT=jy("text");function jy(e){return{resolveAll:Uy(e==="text"?FT:void 0),tokenize:t};function t(n){const i=this,s=this.parser.constructs[e],o=n.attempt(s,a,l);return a;function a(u){return d(u)?o(u):l(u)}function l(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),c}function c(u){return d(u)?(n.exit("data"),o(u)):(n.consume(u),c)}function d(u){if(u===null)return!0;const h=s[u];let f=-1;if(h)for(;++f<h.length;){const p=h[f];if(!p.previous||p.previous.call(i,i.previous))return!0}return!1}}}function Uy(e){return t;function t(n,i){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type==="data"&&(o=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return e?e(n,i):n}}function FT(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],s=t.sliceStream(i);let o=s.length,a=-1,l=0,c;for(;o--;){const d=s[o];if(typeof d=="string"){for(a=d.length;d.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(d===-2)c=!0,l++;else if(d!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const d={type:n===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:i.start._bufferIndex+a,_index:i.start._index+o,line:i.end.line,column:i.end.column-l,offset:i.end.offset-l},end:{...i.end}};i.end={...d.start},i.start.offset===i.end.offset?Object.assign(i,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}const PT={42:Lt,43:Lt,45:Lt,48:Lt,49:Lt,50:Lt,51:Lt,52:Lt,53:Lt,54:Lt,55:Lt,56:Lt,57:Lt,62:By},IT={91:VE},RT={[-2]:fl,[-1]:fl,32:fl},BT={35:UE,42:Ao,45:[$0,Ao],60:YE,61:$0,95:Ao,96:W0,126:W0},zT={38:Vy,92:zy},VT={[-5]:pl,[-4]:pl,[-3]:pl,33:fT,38:Vy,42:Pc,60:[mE,nT],91:mT,92:[$E,zy],93:tu,95:Pc,96:ME},OT={null:[Pc,TT]},WT={null:[42,95]},HT={null:[]},$T=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:WT,contentInitial:IT,disable:HT,document:PT,flow:BT,flowInitial:RT,insideSpan:OT,string:zT,text:VT},Symbol.toStringTag,{value:"Module"}));function jT(e,t,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},o=[];let a=[],l=[];const c={attempt:N(x),check:N(k),consume:v,enter:w,exit:S,interrupt:N(k,{interrupt:!0})},d={code:null,containerState:{},defineSkip:m,events:[],now:g,parser:e,previous:null,sliceSerialize:f,sliceStream:p,write:h};let u=t.tokenize.call(d,c);return t.resolveAll&&o.push(t),d;function h(T){return a=Ot(a,T),y(),a[a.length-1]!==null?[]:(L(t,0),d.events=eu(o,d.events,d),d.events)}function f(T,R){return GT(p(T),R)}function p(T){return UT(a,T)}function g(){const{_bufferIndex:T,_index:R,line:j,column:z,offset:B}=i;return{_bufferIndex:T,_index:R,line:j,column:z,offset:B}}function m(T){s[T.line]=T.column,I()}function y(){let T;for(;i._index<a.length;){const R=a[i._index];if(typeof R=="string")for(T=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===T&&i._bufferIndex<R.length;)b(R.charCodeAt(i._bufferIndex));else b(R)}}function b(T){u=u(T)}function v(T){Ne(T)?(i.line++,i.column=1,i.offset+=T===-3?2:1,I()):T!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===a[i._index].length&&(i._bufferIndex=-1,i._index++)),d.previous=T}function w(T,R){const j=R||{};return j.type=T,j.start=g(),d.events.push(["enter",j,d]),l.push(j),j}function S(T){const R=l.pop();return R.end=g(),d.events.push(["exit",R,d]),R}function x(T,R){L(T,R.from)}function k(T,R){R.restore()}function N(T,R){return j;function j(z,B,V){let A,F,M,C;return Array.isArray(z)?q(z):"tokenize"in z?q([z]):X(z);function X(K){return Q;function Q(ie){const se=ie!==null&&K[ie],xe=ie!==null&&K.null,we=[...Array.isArray(se)?se:se?[se]:[],...Array.isArray(xe)?xe:xe?[xe]:[]];return q(we)(ie)}}function q(K){return A=K,F=0,K.length===0?V:E(K[F])}function E(K){return Q;function Q(ie){return C=_(),M=K,K.partial||(d.currentConstruct=K),K.name&&d.parser.constructs.disable.null.includes(K.name)?ue():K.tokenize.call(R?Object.assign(Object.create(d),R):d,c,ee,ue)(ie)}}function ee(K){return T(M,C),B}function ue(K){return C.restore(),++F<A.length?E(A[F]):V}}}function L(T,R){T.resolveAll&&!o.includes(T)&&o.push(T),T.resolve&&pn(d.events,R,d.events.length-R,T.resolve(d.events.slice(R),d)),T.resolveTo&&(d.events=T.resolveTo(d.events,d))}function _(){const T=g(),R=d.previous,j=d.currentConstruct,z=d.events.length,B=Array.from(l);return{from:z,restore:V};function V(){i=T,d.previous=R,d.currentConstruct=j,d.events.length=z,l=B,I()}}function I(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function UT(e,t){const n=t.start._index,i=t.start._bufferIndex,s=t.end._index,o=t.end._bufferIndex;let a;if(n===s)a=[e[n].slice(i,o)];else{if(a=e.slice(n,s),i>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(i):a.shift()}o>0&&a.push(e[s].slice(0,o))}return a}function GT(e,t){let n=-1;const i=[];let s;for(;++n<e.length;){const o=e[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&s)continue;a=" ";break}default:a=String.fromCharCode(o)}s=o===-2,i.push(a)}return i.join("")}function KT(e){const i={constructs:eE([$T,...(e||{}).extensions||[]]),content:s(lE),defined:[],document:s(dE),flow:s(MT),lazy:{},string:s(AT),text:s(DT)};return i;function s(o){return a;function a(l){return jT(i,o,l)}}}function qT(e){for(;!Oy(e););return e}const j0=/[\0\t\n\r]/g;function YT(){let e=1,t="",n=!0,i;return s;function s(o,a,l){const c=[];let d,u,h,f,p;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),h=0,t="",n&&(o.charCodeAt(0)===65279&&h++,n=void 0);h<o.length;){if(j0.lastIndex=h,d=j0.exec(o),f=d&&d.index!==void 0?d.index:o.length,p=o.charCodeAt(f),!d){t=o.slice(h);break}if(p===10&&h===f&&i)c.push(-3),i=void 0;else switch(i&&(c.push(-5),i=void 0),h<f&&(c.push(o.slice(h,f)),e+=f-h),p){case 0:{c.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,c.push(-2);e++<u;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:i=!0,e=1}h=f+1}return l&&(i&&c.push(-5),t&&c.push(t),c.push(null)),c}}const ZT=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function XT(e){return e.replace(ZT,JT)}function JT(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),o=s===120||s===88;return Ry(n.slice(o?2:1),o?16:10)}return Qd(n)||e}const Gy={}.hasOwnProperty;function QT(e,t,n){return typeof t!="string"&&(n=t,t=void 0),eA(n)(qT(KT(n).document().write(YT()(e,t,!0))))}function eA(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(fe),autolinkProtocol:_,autolinkEmail:_,atxHeading:o(J),blockQuote:o(xe),characterEscape:_,characterReference:_,codeFenced:o(we),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(we,a),codeText:o(_e,a),codeTextData:_,data:_,codeFlowValue:_,definition:o(H),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(U),hardBreakEscape:o(re),hardBreakTrailing:o(re),htmlFlow:o(ae,a),htmlFlowData:_,htmlText:o(ae,a),htmlTextData:_,image:o(be),label:a,link:o(fe),listItem:o(O),listItemValue:f,listOrdered:o(G,h),listUnordered:o(G),paragraph:o($),reference:E,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(J),strong:o(ne),thematicBreak:o(pe)},exit:{atxHeading:c(),atxHeadingSequence:x,autolink:c(),autolinkEmail:se,autolinkProtocol:ie,blockQuote:c(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:ue,characterReferenceMarkerNumeric:ue,characterReferenceValue:K,characterReference:Q,codeFenced:c(y),codeFencedFence:m,codeFencedFenceInfo:p,codeFencedFenceMeta:g,codeFlowValue:I,codeIndented:c(b),codeText:c(B),codeTextData:I,data:I,definition:c(),definitionDestinationString:S,definitionLabelString:v,definitionTitleString:w,emphasis:c(),hardBreakEscape:c(R),hardBreakTrailing:c(R),htmlFlow:c(j),htmlFlowData:I,htmlText:c(z),htmlTextData:I,image:c(A),label:M,labelText:F,lineEnding:T,link:c(V),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:ee,resourceDestinationString:C,resourceTitleString:X,resource:q,setextHeading:c(L),setextHeadingLineSequence:N,setextHeadingText:k,strong:c(),thematicBreak:c()}};Ky(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(W){let Z={type:"root",children:[]};const de={stack:[Z],tokenStack:[],config:t,enter:l,exit:d,buffer:a,resume:u,data:n},me=[];let ve=-1;for(;++ve<W.length;)if(W[ve][1].type==="listOrdered"||W[ve][1].type==="listUnordered")if(W[ve][0]==="enter")me.push(ve);else{const ct=me.pop();ve=s(W,ct,ve)}for(ve=-1;++ve<W.length;){const ct=t[W[ve][0]];Gy.call(ct,W[ve][1].type)&&ct[W[ve][1].type].call(Object.assign({sliceSerialize:W[ve][2].sliceSerialize},de),W[ve][1])}if(de.tokenStack.length>0){const ct=de.tokenStack[de.tokenStack.length-1];(ct[1]||U0).call(de,void 0,ct[0])}for(Z.position={start:Dn(W.length>0?W[0][1].start:{line:1,column:1,offset:0}),end:Dn(W.length>0?W[W.length-2][1].end:{line:1,column:1,offset:0})},ve=-1;++ve<t.transforms.length;)Z=t.transforms[ve](Z)||Z;return Z}function s(W,Z,de){let me=Z-1,ve=-1,ct=!1,$t,st,Tn,Rt;for(;++me<=de;){const kt=W[me];switch(kt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{kt[0]==="enter"?ve++:ve--,Rt=void 0;break}case"lineEndingBlank":{kt[0]==="enter"&&($t&&!Rt&&!ve&&!Tn&&(Tn=me),Rt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Rt=void 0}if(!ve&&kt[0]==="enter"&&kt[1].type==="listItemPrefix"||ve===-1&&kt[0]==="exit"&&(kt[1].type==="listUnordered"||kt[1].type==="listOrdered")){if($t){let jt=me;for(st=void 0;jt--;){const Ut=W[jt];if(Ut[1].type==="lineEnding"||Ut[1].type==="lineEndingBlank"){if(Ut[0]==="exit")continue;st&&(W[st][1].type="lineEndingBlank",ct=!0),Ut[1].type="lineEnding",st=jt}else if(!(Ut[1].type==="linePrefix"||Ut[1].type==="blockQuotePrefix"||Ut[1].type==="blockQuotePrefixWhitespace"||Ut[1].type==="blockQuoteMarker"||Ut[1].type==="listItemIndent"))break}Tn&&(!st||Tn<st)&&($t._spread=!0),$t.end=Object.assign({},st?W[st][1].start:kt[1].end),W.splice(st||me,0,["exit",$t,kt[2]]),me++,de++}if(kt[1].type==="listItemPrefix"){const jt={type:"listItem",_spread:!1,start:Object.assign({},kt[1].start),end:void 0};$t=jt,W.splice(me,0,["enter",jt,kt[2]]),me++,de++,Tn=void 0,Rt=!0}}}return W[Z][1]._spread=ct,de}function o(W,Z){return de;function de(me){l.call(this,W(me),me),Z&&Z.call(this,me)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(W,Z,de){this.stack[this.stack.length-1].children.push(W),this.stack.push(W),this.tokenStack.push([Z,de||void 0]),W.position={start:Dn(Z.start),end:void 0}}function c(W){return Z;function Z(de){W&&W.call(this,de),d.call(this,de)}}function d(W,Z){const de=this.stack.pop(),me=this.tokenStack.pop();if(me)me[0].type!==W.type&&(Z?Z.call(this,W,me[0]):(me[1]||U0).call(this,W,me[0]));else throw new Error("Cannot close `"+W.type+"` ("+Or({start:W.start,end:W.end})+"): its not open");de.position.end=Dn(W.end)}function u(){return JM(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(W){if(this.data.expectingFirstListItemValue){const Z=this.stack[this.stack.length-2];Z.start=Number.parseInt(this.sliceSerialize(W),10),this.data.expectingFirstListItemValue=void 0}}function p(){const W=this.resume(),Z=this.stack[this.stack.length-1];Z.lang=W}function g(){const W=this.resume(),Z=this.stack[this.stack.length-1];Z.meta=W}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const W=this.resume(),Z=this.stack[this.stack.length-1];Z.value=W.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const W=this.resume(),Z=this.stack[this.stack.length-1];Z.value=W.replace(/(\r?\n|\r)$/g,"")}function v(W){const Z=this.resume(),de=this.stack[this.stack.length-1];de.label=Z,de.identifier=Oi(this.sliceSerialize(W)).toLowerCase()}function w(){const W=this.resume(),Z=this.stack[this.stack.length-1];Z.title=W}function S(){const W=this.resume(),Z=this.stack[this.stack.length-1];Z.url=W}function x(W){const Z=this.stack[this.stack.length-1];if(!Z.depth){const de=this.sliceSerialize(W).length;Z.depth=de}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function N(W){const Z=this.stack[this.stack.length-1];Z.depth=this.sliceSerialize(W).codePointAt(0)===61?1:2}function L(){this.data.setextHeadingSlurpLineEnding=void 0}function _(W){const de=this.stack[this.stack.length-1].children;let me=de[de.length-1];(!me||me.type!=="text")&&(me=le(),me.position={start:Dn(W.start),end:void 0},de.push(me)),this.stack.push(me)}function I(W){const Z=this.stack.pop();Z.value+=this.sliceSerialize(W),Z.position.end=Dn(W.end)}function T(W){const Z=this.stack[this.stack.length-1];if(this.data.atHardBreak){const de=Z.children[Z.children.length-1];de.position.end=Dn(W.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Z.type)&&(_.call(this,W),I.call(this,W))}function R(){this.data.atHardBreak=!0}function j(){const W=this.resume(),Z=this.stack[this.stack.length-1];Z.value=W}function z(){const W=this.resume(),Z=this.stack[this.stack.length-1];Z.value=W}function B(){const W=this.resume(),Z=this.stack[this.stack.length-1];Z.value=W}function V(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=Z,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function A(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=Z,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function F(W){const Z=this.sliceSerialize(W),de=this.stack[this.stack.length-2];de.label=XT(Z),de.identifier=Oi(Z).toLowerCase()}function M(){const W=this.stack[this.stack.length-1],Z=this.resume(),de=this.stack[this.stack.length-1];if(this.data.inReference=!0,de.type==="link"){const me=W.children;de.children=me}else de.alt=Z}function C(){const W=this.resume(),Z=this.stack[this.stack.length-1];Z.url=W}function X(){const W=this.resume(),Z=this.stack[this.stack.length-1];Z.title=W}function q(){this.data.inReference=void 0}function E(){this.data.referenceType="collapsed"}function ee(W){const Z=this.resume(),de=this.stack[this.stack.length-1];de.label=Z,de.identifier=Oi(this.sliceSerialize(W)).toLowerCase(),this.data.referenceType="full"}function ue(W){this.data.characterReferenceType=W.type}function K(W){const Z=this.sliceSerialize(W),de=this.data.characterReferenceType;let me;de?(me=Ry(Z,de==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):me=Qd(Z);const ve=this.stack[this.stack.length-1];ve.value+=me}function Q(W){const Z=this.stack.pop();Z.position.end=Dn(W.end)}function ie(W){I.call(this,W);const Z=this.stack[this.stack.length-1];Z.url=this.sliceSerialize(W)}function se(W){I.call(this,W);const Z=this.stack[this.stack.length-1];Z.url="mailto:"+this.sliceSerialize(W)}function xe(){return{type:"blockquote",children:[]}}function we(){return{type:"code",lang:null,meta:null,value:""}}function _e(){return{type:"inlineCode",value:""}}function H(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function U(){return{type:"emphasis",children:[]}}function J(){return{type:"heading",depth:0,children:[]}}function re(){return{type:"break"}}function ae(){return{type:"html",value:""}}function be(){return{type:"image",title:null,url:"",alt:null}}function fe(){return{type:"link",title:null,url:"",children:[]}}function G(W){return{type:"list",ordered:W.type==="listOrdered",start:null,spread:W._spread,children:[]}}function O(W){return{type:"listItem",spread:W._spread,checked:null,children:[]}}function $(){return{type:"paragraph",children:[]}}function ne(){return{type:"strong",children:[]}}function le(){return{type:"text",value:""}}function pe(){return{type:"thematicBreak"}}}function Dn(e){return{line:e.line,column:e.column,offset:e.offset}}function Ky(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?Ky(e,i):tA(e,i)}}function tA(e,t){let n;for(n in t)if(Gy.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function U0(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Or({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Or({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Or({start:t.start,end:t.end})+") is still open")}function nA(e){const t=this;t.parser=n;function n(i){return QT(i,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function iA(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function rA(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function sA(e,t){const n=t.value?t.value+`
`:"",i={},s=t.lang?t.lang.split(/\s+/):[];s.length>0&&(i.className=["language-"+s[0]]);let o={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function oA(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function aA(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function lA(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),s=Ji(i.toLowerCase()),o=e.footnoteOrder.indexOf(i);let a,l=e.footnoteCounts.get(i);l===void 0?(l=0,e.footnoteOrder.push(i),a=e.footnoteOrder.length):a=o+1,l+=1,e.footnoteCounts.set(i,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,c);const d={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,d),e.applyData(t,d)}function cA(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function dA(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function qy(e,t){const n=t.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const s=e.all(t),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const a=s[s.length-1];return a&&a.type==="text"?a.value+=i:s.push({type:"text",value:i}),s}function uA(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return qy(e,t);const s={src:Ji(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,o),e.applyData(t,o)}function hA(e,t){const n={src:Ji(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)}function fA(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)}function pA(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return qy(e,t);const s={href:Ji(i.url||"")};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function mA(e,t){const n={href:Ji(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function gA(e,t,n){const i=e.all(t),s=n?yA(n):Yy(t),o={},a=[];if(typeof t.checked=="boolean"){const u=i[0];let h;u&&u.type==="element"&&u.tagName==="p"?h=u:(h={type:"element",tagName:"p",properties:{},children:[]},i.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let l=-1;for(;++l<i.length;){const u=i[l];(s||l!==0||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!s?a.push(...u.children):a.push(u)}const c=i[i.length-1];c&&(s||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:o,children:a};return e.patch(t,d),e.applyData(t,d)}function yA(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=Yy(n[i])}return t}function Yy(e){const t=e.spread;return t??e.children.length>1}function vA(e,t){const n={},i=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<i.length;){const a=i[s];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function bA(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function wA(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function kA(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xA(e,t){const n=e.all(t),i=n.shift(),s=[];if(i){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],a),s.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=Yd(t.children[1]),c=Ey(t.children[t.children.length-1]);l&&c&&(a.position={start:l,end:c}),s.push(a)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,o),e.applyData(t,o)}function _A(e,t,n){const i=n?n.children:void 0,o=(i?i.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,l=a?a.length:t.children.length;let c=-1;const d=[];for(;++c<l;){const h=t.children[c],f={},p=a?a[c]:void 0;p&&(f.align=p);let g={type:"element",tagName:o,properties:f,children:[]};h&&(g.children=e.all(h),e.patch(h,g),g=e.applyData(h,g)),d.push(g)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,u),e.applyData(t,u)}function CA(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const G0=9,K0=32;function SA(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),s=0;const o=[];for(;i;)o.push(q0(t.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=n.exec(t);return o.push(q0(t.slice(s),s>0,!1)),o.join("")}function q0(e,t,n){let i=0,s=e.length;if(t){let o=e.codePointAt(i);for(;o===G0||o===K0;)i++,o=e.codePointAt(i)}if(n){let o=e.codePointAt(s-1);for(;o===G0||o===K0;)s--,o=e.codePointAt(s-1)}return s>i?e.slice(i,s):""}function NA(e,t){const n={type:"text",value:SA(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function LA(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const MA={blockquote:iA,break:rA,code:sA,delete:oA,emphasis:aA,footnoteReference:lA,heading:cA,html:dA,imageReference:uA,image:hA,inlineCode:fA,linkReference:pA,link:mA,listItem:gA,list:vA,paragraph:bA,root:wA,strong:kA,table:xA,tableCell:CA,tableRow:_A,text:NA,thematicBreak:LA,toml:co,yaml:co,definition:co,footnoteDefinition:co};function co(){}const Zy=-1,ma=0,Hr=1,ea=2,nu=3,iu=4,ru=5,su=6,Xy=7,Jy=8,Y0=typeof self=="object"?self:globalThis,EA=(e,t)=>{const n=(s,o)=>(e.set(o,s),s),i=s=>{if(e.has(s))return e.get(s);const[o,a]=t[s];switch(o){case ma:case Zy:return n(a,s);case Hr:{const l=n([],s);for(const c of a)l.push(i(c));return l}case ea:{const l=n({},s);for(const[c,d]of a)l[i(c)]=i(d);return l}case nu:return n(new Date(a),s);case iu:{const{source:l,flags:c}=a;return n(new RegExp(l,c),s)}case ru:{const l=n(new Map,s);for(const[c,d]of a)l.set(i(c),i(d));return l}case su:{const l=n(new Set,s);for(const c of a)l.add(i(c));return l}case Xy:{const{name:l,message:c}=a;return n(new Y0[l](c),s)}case Jy:return n(BigInt(a),s);case"BigInt":return n(Object(BigInt(a)),s);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:l}=new Uint8Array(a);return n(new DataView(l),a)}}return n(new Y0[o](a),s)};return i},Z0=e=>EA(new Map,e)(0),Ti="",{toString:TA}={},{keys:AA}=Object,gr=e=>{const t=typeof e;if(t!=="object"||!e)return[ma,t];const n=TA.call(e).slice(8,-1);switch(n){case"Array":return[Hr,Ti];case"Object":return[ea,Ti];case"Date":return[nu,Ti];case"RegExp":return[iu,Ti];case"Map":return[ru,Ti];case"Set":return[su,Ti];case"DataView":return[Hr,n]}return n.includes("Array")?[Hr,n]:n.includes("Error")?[Xy,n]:[ea,n]},uo=([e,t])=>e===ma&&(t==="function"||t==="symbol"),DA=(e,t,n,i)=>{const s=(a,l)=>{const c=i.push(a)-1;return n.set(l,c),c},o=a=>{if(n.has(a))return n.get(a);let[l,c]=gr(a);switch(l){case ma:{let u=a;switch(c){case"bigint":l=Jy,u=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);u=null;break;case"undefined":return s([Zy],a)}return s([l,u],a)}case Hr:{if(c){let f=a;return c==="DataView"?f=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(f=new Uint8Array(a)),s([c,[...f]],a)}const u=[],h=s([l,u],a);for(const f of a)u.push(o(f));return h}case ea:{if(c)switch(c){case"BigInt":return s([c,a.toString()],a);case"Boolean":case"Number":case"String":return s([c,a.valueOf()],a)}if(t&&"toJSON"in a)return o(a.toJSON());const u=[],h=s([l,u],a);for(const f of AA(a))(e||!uo(gr(a[f])))&&u.push([o(f),o(a[f])]);return h}case nu:return s([l,a.toISOString()],a);case iu:{const{source:u,flags:h}=a;return s([l,{source:u,flags:h}],a)}case ru:{const u=[],h=s([l,u],a);for(const[f,p]of a)(e||!(uo(gr(f))||uo(gr(p))))&&u.push([o(f),o(p)]);return h}case su:{const u=[],h=s([l,u],a);for(const f of a)(e||!uo(gr(f)))&&u.push(o(f));return h}}const{message:d}=a;return s([l,{name:c,message:d}],a)};return o},X0=(e,{json:t,lossy:n}={})=>{const i=[];return DA(!(t||n),!!t,new Map,i)(e),i},ta=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Z0(X0(e,t)):structuredClone(e):(e,t)=>Z0(X0(e,t));function FA(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function PA(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function IA(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||FA,i=e.options.footnoteBackLabel||PA,s=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[c]);if(!d)continue;const u=e.all(d),h=String(d.identifier).toUpperCase(),f=Ji(h.toLowerCase());let p=0;const g=[],m=e.footnoteCounts.get(h);for(;m!==void 0&&++p<=m;){g.length>0&&g.push({type:"text",value:" "});let v=typeof n=="string"?n:n(c,p);typeof v=="string"&&(v={type:"text",value:v}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(c,p),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const y=u[u.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const v=y.children[y.children.length-1];v&&v.type==="text"?v.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...g)}else u.push(...g);const b={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(u,!0)};e.patch(d,b),l.push(b)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...ta(a),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const Qy=(function(e){if(e==null)return VA;if(typeof e=="function")return ga(e);if(typeof e=="object")return Array.isArray(e)?RA(e):BA(e);if(typeof e=="string")return zA(e);throw new Error("Expected function, string, or object as test")});function RA(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Qy(e[n]);return ga(i);function i(...s){let o=-1;for(;++o<t.length;)if(t[o].apply(this,s))return!0;return!1}}function BA(e){const t=e;return ga(n);function n(i){const s=i;let o;for(o in e)if(s[o]!==t[o])return!1;return!0}}function zA(e){return ga(t);function t(n){return n&&n.type===e}}function ga(e){return t;function t(n,i,s){return!!(OA(n)&&e.call(this,n,typeof i=="number"?i:void 0,s||void 0))}}function VA(){return!0}function OA(e){return e!==null&&typeof e=="object"&&"type"in e}const ev=[],WA=!0,J0=!1,HA="skip";function $A(e,t,n,i){let s;typeof t=="function"&&typeof n!="function"?(i=n,n=t):s=t;const o=Qy(s),a=i?-1:1;l(e,void 0,[])();function l(c,d,u){const h=c&&typeof c=="object"?c:{};if(typeof h.type=="string"){const p=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(c.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=ev,g,m,y;if((!t||o(c,d,u[u.length-1]||void 0))&&(p=jA(n(c,u)),p[0]===J0))return p;if("children"in c&&c.children){const b=c;if(b.children&&p[0]!==HA)for(m=(i?b.children.length:-1)+a,y=u.concat(b);m>-1&&m<b.children.length;){const v=b.children[m];if(g=l(v,m,y)(),g[0]===J0)return g;m=typeof g[1]=="number"?g[1]:m+a}}return p}}}function jA(e){return Array.isArray(e)?e:typeof e=="number"?[WA,e]:e==null?ev:[e]}function tv(e,t,n,i){let s,o,a;typeof t=="function"&&typeof n!="function"?(o=void 0,a=t,s=n):(o=t,a=n,s=i),$A(e,o,l,s);function l(c,d){const u=d[d.length-1],h=u?u.children.indexOf(c):void 0;return a(c,h,u)}}const Ic={}.hasOwnProperty,UA={};function GA(e,t){const n=t||UA,i=new Map,s=new Map,o=new Map,a={...MA,...n.handlers},l={all:d,applyData:qA,definitionById:i,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:a,one:c,options:n,patch:KA,wrap:ZA};return tv(e,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const h=u.type==="definition"?i:s,f=String(u.identifier).toUpperCase();h.has(f)||h.set(f,u)}}),l;function c(u,h){const f=u.type,p=l.handlers[f];if(Ic.call(l.handlers,f)&&p)return p(l,u,h);if(l.options.passThrough&&l.options.passThrough.includes(f)){if("children"in u){const{children:m,...y}=u,b=ta(y);return b.children=l.all(u),b}return ta(u)}return(l.options.unknownHandler||YA)(l,u,h)}function d(u){const h=[];if("children"in u){const f=u.children;let p=-1;for(;++p<f.length;){const g=l.one(f[p],u);if(g){if(p&&f[p-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=Q0(g.value)),!Array.isArray(g)&&g.type==="element")){const m=g.children[0];m&&m.type==="text"&&(m.value=Q0(m.value))}Array.isArray(g)?h.push(...g):h.push(g)}}}return h}}function KA(e,t){e.position&&(t.position=TM(e))}function qA(e,t){let n=t;if(e&&e.data){const i=e.data.hName,s=e.data.hChildren,o=e.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const a="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:a}}n.type==="element"&&o&&Object.assign(n.properties,ta(o)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function YA(e,t){const n=t.data||{},i="value"in t&&!(Ic.call(n,"hProperties")||Ic.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function ZA(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:`
`});++i<e.length;)i&&n.push({type:"text",value:`
`}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Q0(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function em(e,t){const n=GA(e,t),i=n.one(e,void 0),s=IA(n),o=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function XA(e,t){return e&&"run"in e?async function(n,i){const s=em(n,{file:i,...t});await e.run(s,i)}:function(n,i){return em(n,{file:i,...e||t})}}function tm(e){if(e)throw e}var ml,nm;function JA(){if(nm)return ml;nm=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},o=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var u=e.call(d,"constructor"),h=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!u&&!h)return!1;var f;for(f in d);return typeof f>"u"||e.call(d,f)},a=function(d,u){n&&u.name==="__proto__"?n(d,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):d[u.name]=u.newValue},l=function(d,u){if(u==="__proto__")if(e.call(d,u)){if(i)return i(d,u).value}else return;return d[u]};return ml=function c(){var d,u,h,f,p,g,m=arguments[0],y=1,b=arguments.length,v=!1;for(typeof m=="boolean"&&(v=m,m=arguments[1]||{},y=2),(m==null||typeof m!="object"&&typeof m!="function")&&(m={});y<b;++y)if(d=arguments[y],d!=null)for(u in d)h=l(m,u),f=l(d,u),m!==f&&(v&&f&&(o(f)||(p=s(f)))?(p?(p=!1,g=h&&s(h)?h:[]):g=h&&o(h)?h:{},a(m,{name:u,newValue:c(v,g,f)})):typeof f<"u"&&a(m,{name:u,newValue:f}));return m},ml}var QA=JA();const gl=My(QA);function Rc(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function eD(){const e=[],t={run:n,use:i};return t;function n(...s){let o=-1;const a=s.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...s);function l(c,...d){const u=e[++o];let h=-1;if(c){a(c);return}for(;++h<s.length;)(d[h]===null||d[h]===void 0)&&(d[h]=s[h]);s=d,u?tD(u,l)(...d):a(null,...d)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function tD(e,t){let n;return i;function i(...a){const l=e.length>a.length;let c;l&&a.push(s);try{c=e.apply(this,a)}catch(d){const u=d;if(l&&n)throw u;return s(u)}l||(c&&c.then&&typeof c.then=="function"?c.then(o,s):c instanceof Error?s(c):o(c))}function s(a,...l){n||(n=!0,t(a,...l))}function o(a){s(null,a)}}const on={basename:nD,dirname:iD,extname:rD,join:sD,sep:"/"};function nD(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ks(e);let n=0,i=-1,s=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else i<0&&(o=!0,i=s+1);return i<0?"":e.slice(n,i)}if(t===e)return"";let a=-1,l=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else a<0&&(o=!0,a=s+1),l>-1&&(e.codePointAt(s)===t.codePointAt(l--)?l<0&&(i=s):(l=-1,i=a));return n===i?i=a:i<0&&(i=e.length),e.slice(n,i)}function iD(e){if(ks(e),e.length===0)return".";let t=-1,n=e.length,i;for(;--n;)if(e.codePointAt(n)===47){if(i){t=n;break}}else i||(i=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function rD(e){ks(e);let t=e.length,n=-1,i=0,s=-1,o=0,a;for(;t--;){const l=e.codePointAt(t);if(l===47){if(a){i=t+1;break}continue}n<0&&(a=!0,n=t+1),l===46?s<0?s=t:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||n<0||o===0||o===1&&s===n-1&&s===i+1?"":e.slice(s,n)}function sD(...e){let t=-1,n;for(;++t<e.length;)ks(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":oD(n)}function oD(e){ks(e);const t=e.codePointAt(0)===47;let n=aD(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function aD(e,t){let n="",i=0,s=-1,o=0,a=-1,l,c;for(;++a<=e.length;){if(a<e.length)l=e.codePointAt(a);else{if(l===47)break;l=47}if(l===47){if(!(s===a-1||o===1))if(s!==a-1&&o===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",i=0):(n=n.slice(0,c),i=n.length-1-n.lastIndexOf("/")),s=a,o=0;continue}}else if(n.length>0){n="",i=0,s=a,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+e.slice(s+1,a):n=e.slice(s+1,a),i=a-s-1;s=a,o=0}else l===46&&o>-1?o++:o=-1}return n}function ks(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const lD={cwd:cD};function cD(){return"/"}function Bc(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function dD(e){if(typeof e=="string")e=new URL(e);else if(!Bc(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return uD(e)}function uD(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const i=t.codePointAt(n+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const yl=["history","path","basename","stem","extname","dirname"];class nv{constructor(t){let n;t?Bc(t)?n={path:t}:typeof t=="string"||hD(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":lD.cwd(),this.data={},this.history=[],this.messages=[];let i=-1;for(;++i<yl.length;){const o=yl[i];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)yl.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?on.basename(this.path):void 0}set basename(t){bl(t,"basename"),vl(t,"basename"),this.path=on.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?on.dirname(this.path):void 0}set dirname(t){im(this.basename,"dirname"),this.path=on.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?on.extname(this.path):void 0}set extname(t){if(vl(t,"extname"),im(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=on.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Bc(t)&&(t=dD(t)),bl(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?on.basename(this.path,this.extname):void 0}set stem(t){bl(t,"stem"),vl(t,"stem"),this.path=on.join(this.dirname||"",t+(this.extname||""))}fail(t,n,i){const s=this.message(t,n,i);throw s.fatal=!0,s}info(t,n,i){const s=this.message(t,n,i);return s.fatal=void 0,s}message(t,n,i){const s=new wt(t,n,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function vl(e,t){if(e&&e.includes(on.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+on.sep+"`")}function bl(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function im(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function hD(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const fD=(function(e){const i=this.constructor.prototype,s=i[e],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,i),o}),pD={}.hasOwnProperty;class ou extends fD{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=eD()}copy(){const t=new ou;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];t.use(...i)}return t.data(gl(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(xl("data",this.frozen),this.namespace[t]=n,this):pD.call(this.namespace,t)&&this.namespace[t]||void 0:t?(xl("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const s=n.call(t,...i);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=ho(t),i=this.parser||this.Parser;return wl("parse",i),i(String(n),n)}process(t,n){const i=this;return this.freeze(),wl("process",this.parser||this.Parser),kl("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,a){const l=ho(t),c=i.parse(l);i.run(c,l,function(u,h,f){if(u||!h||!f)return d(u);const p=h,g=i.stringify(p,f);yD(g)?f.value=g:f.result=g,d(u,f)});function d(u,h){u||!h?a(u):o?o(h):n(void 0,h)}}}processSync(t){let n=!1,i;return this.freeze(),wl("processSync",this.parser||this.Parser),kl("processSync",this.compiler||this.Compiler),this.process(t,s),sm("processSync","process",n),i;function s(o,a){n=!0,tm(o),i=a}}run(t,n,i){rm(t),this.freeze();const s=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?o(void 0,i):new Promise(o);function o(a,l){const c=ho(n);s.run(t,c,d);function d(u,h,f){const p=h||t;u?l(u):a?a(p):i(void 0,p,f)}}}runSync(t,n){let i=!1,s;return this.run(t,n,o),sm("runSync","run",i),s;function o(a,l){tm(a),s=l,i=!0}}stringify(t,n){this.freeze();const i=ho(n),s=this.compiler||this.Compiler;return kl("stringify",s),rm(t),s(t,i)}use(t,...n){const i=this.attachers,s=this.namespace;if(xl("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(d){if(typeof d=="function")c(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[u,...h]=d;c(u,h)}else a(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function a(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(d.plugins),d.settings&&(s.settings=gl(!0,s.settings,d.settings))}function l(d){let u=-1;if(d!=null)if(Array.isArray(d))for(;++u<d.length;){const h=d[u];o(h)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function c(d,u){let h=-1,f=-1;for(;++h<i.length;)if(i[h][0]===d){f=h;break}if(f===-1)i.push([d,...u]);else if(u.length>0){let[p,...g]=u;const m=i[f][1];Rc(m)&&Rc(p)&&(p=gl(!0,m,p)),i[f]=[d,p,...g]}}}}const mD=new ou().freeze();function wl(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function kl(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function xl(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function rm(e){if(!Rc(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function sm(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ho(e){return gD(e)?e:new nv(e)}function gD(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function yD(e){return typeof e=="string"||vD(e)}function vD(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const om=[],am={allowDangerousHtml:!0},bD=/^(https?|ircs?|mailto|xmpp)$/i,wD=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function kD(e){const t=xD(e),n=_D(e);return CD(t.runSync(t.parse(n),n),e)}function xD(e){const t=e.rehypePlugins||om,n=e.remarkPlugins||om,i=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...am}:am;return mD().use(nA).use(n).use(XA,i).use(t)}function _D(e){const t=e.children||"",n=new nv;return typeof t=="string"&&(n.value=t),n}function CD(e,t){const n=t.allowedElements,i=t.allowElement,s=t.components,o=t.disallowedElements,a=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||SD;for(const u of wD);return tv(e,d),IM(e,{Fragment:ke,components:s,ignoreInvalidStyle:!0,jsx:r,jsxs:r,passKeys:!0,passNode:!0});function d(u,h,f){if(u.type==="raw"&&f&&typeof h=="number")return a?f.children.splice(h,1):f.children[h]={type:"text",value:u.value},h;if(u.type==="element"){let p;for(p in hl)if(Object.hasOwn(hl,p)&&Object.hasOwn(u.properties,p)){const g=u.properties[p],m=hl[p];(m===null||m.includes(u.tagName))&&(u.properties[p]=c(String(g||""),p,u))}}if(u.type==="element"){let p=n?!n.includes(u.tagName):o?o.includes(u.tagName):!1;if(!p&&i&&typeof h=="number"&&(p=!i(u,h,f)),p&&f&&typeof h=="number")return l&&u.children?f.children.splice(h,1,...u.children):f.children.splice(h,1),h}}}function SD(e){const t=e.indexOf(":"),n=e.indexOf("?"),i=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||i!==-1&&t>i||bD.test(e.slice(0,t))?e:""}function ND({version:e,onBack:t,lang:n="de"}){return e?r("div",{className:"version-detail-view",children:[r("div",{className:"ios-navbar",children:[r("button",{className:"ios-navbar-back",onClick:t,children:[r("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:r("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:n==="de"?"Zurck":"Back"})]}),r("div",{className:"ios-navbar-title",children:["v",e.version]})]}),r("div",{className:"version-detail-scroll",children:[e.hero&&r("div",{className:"hero-section",children:r("img",{src:`/assets/changelog/${e.hero}`,alt:e.title,className:"hero-image",onError:i=>{i.target.parentElement.style.display="none"}})}),r("h1",{className:"version-detail-title",children:e.title}),e.tags&&e.tags.length>0&&r("div",{className:"version-detail-tags",children:e.tags.map(i=>r("span",{className:"version-tag",children:i},i))}),r("div",{className:"version-detail-content",children:r(kD,{children:e.content})})]})]}):r("div",{className:"versionsverlauf-error",children:[r("p",{children:n==="de"?"Keine Version ausgewhlt":"No version selected"}),r("button",{onClick:t,className:"retry-button",children:n==="de"?"Zurck":"Back"})]})}function LD({entity:e,hass:t,lang:n="de"}){const[i,s]=D("list"),[o,a]=D(null),[l,c]=D([]),[d,u]=D(!0),[h,f]=D(null),[p,g]=D("back"),[m,y]=D(!1),b=oe(null),[v,w]=D(!1);Y(()=>(window._versionsverlaufViewRef={handleRefresh:N,handleOpenSettings:()=>{y(!0),g("settings")},handleBackNavigation:()=>{o?(a(null),g("back")):m&&(y(!1),g("back"))},getActiveButton:()=>p},()=>{delete window._versionsverlaufViewRef}),[o,m,p]),Y(()=>{S()},[]);const S=async()=>{u(!0),f(null);try{await e.executeAction("loadChangelog");const L=e.attributes.versions||[];c(L),console.log(` [VersionsverlaufView] Loaded ${L.length} versions`)}catch(L){console.error(" [VersionsverlaufView] Failed to load changelog:",L),f(L.message||"Fehler beim Laden des Changelogs"),c([])}finally{u(!1)}},x=L=>{console.log(" [VersionsverlaufView] Opening version:",L.version),a(L),s("detail")},k=()=>{console.log(" [VersionsverlaufView] Back to list"),s("list"),a(null)},N=async()=>{console.log(" [VersionsverlaufView] Refreshing changelog..."),await S()};return d?r("div",{className:"versionsverlauf-view-container",children:r("div",{className:"versionsverlauf-loading",children:[r("div",{className:"loading-spinner"}),r("p",{children:n==="de"?"Lade Versionsverlauf...":"Loading changelog..."})]})}):h&&l.length===0?r("div",{className:"versionsverlauf-view-container",children:r("div",{className:"versionsverlauf-error",children:[r("div",{className:"error-icon",children:""}),r("h3",{children:n==="de"?"Fehler":"Error"}),r("p",{children:h}),r("button",{onClick:N,className:"retry-button",children:n==="de"?"Erneut versuchen":"Retry"})]})}):m?r("div",{className:"versionsverlauf-view-container",children:r("div",{className:"versionsverlauf-settings",style:{padding:"40px",textAlign:"center",color:"rgba(255, 255, 255, 0.8)"},children:[r("h2",{style:{fontSize:"24px",fontWeight:600,marginBottom:"12px"},children:n==="de"?"Einstellungen":"Settings"}),r("p",{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.6)"},children:n==="de"?"Einstellungen werden hier angezeigt":"Settings will be shown here"})]})}):r("div",{className:"versionsverlauf-view-container",children:[i==="list"?r(oM,{versions:l,onVersionClick:x,lang:n,scrollRef:b,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1)}):r(ND,{version:o,onBack:k,lang:n}),r(De,{scrollContainerRef:b,isHovered:v})]})}const MD=Object.freeze(Object.defineProperty({__proto__:null,default:LD},Symbol.toStringTag,{value:"Module"})),lm=({entity:e,hass:t,lang:n="de",onServiceCall:i})=>{const[s,o]=D(!1),[a,l]=D(!1),[c,d]=D(!1),[u,h]=D("overview"),f=oe(null),[p,g]=D(!1),[m,y]=D(localStorage.getItem("userLanguage")||n||"de");D(!0),D(!0),D(!0),D(localStorage.getItem("aiModeEnabled")!=="false");const[b,v]=D(parseInt(localStorage.getItem("bambulab_camera_refresh_interval"))||10),[w,S]=D(()=>{const T=localStorage.getItem("bambulab_quickstats_config");return T?JSON.parse(T):{progress:!0,status:!0,remainingTime:!0,nozzleTemp:!1,bedTemp:!1,layerProgress:!1}}),x=T=>{const R=parseInt(T.target.value);v(R),localStorage.setItem("bambulab_camera_refresh_interval",R),window.dispatchEvent(new CustomEvent("cameraRefreshIntervalChanged",{detail:{interval:R*1e3}}))},k=T=>{const R={...w,[T]:!w[T]};S(R),localStorage.setItem("bambulab_quickstats_config",JSON.stringify(R)),window.dispatchEvent(new CustomEvent("quickStatsConfigChanged",{detail:{config:R}}))},[N,L]=D(Date.now()),_=m||n||"de",I=async()=>{try{e&&e.executeAction&&await e.executeAction("refresh",{hass:t})}catch(T){console.error("Failed to refresh printer data:",T)}};if(Y(()=>(window._printerViewRef={handleOpenSettings:()=>{o(!0),l(!1),d(!1),h("settings")},handleOpenCamera:()=>{l(!0),o(!1),d(!1),h("camera")},handleOpenImage:()=>{d(!0),l(!1),o(!1),h("image")},handleOverview:()=>{o(!1),l(!1),d(!1),h("overview")},handleRefresh:I,handleBackNavigation:()=>{o(!1),l(!1),d(!1),h("overview")},getActiveButton:()=>u},()=>{window._printerViewRef=null}),[u]),Y(()=>{const T=R=>{const j=R.detail.language;y(j)};return window.addEventListener("languageChanged",T),()=>{window.removeEventListener("languageChanged",T)}},[]),Y(()=>{const T=R=>{const j=R.detail.interval/1e3;v(j),console.log(" Camera refresh interval changed to:",j,"seconds")};return window.addEventListener("cameraRefreshIntervalChanged",T),()=>{window.removeEventListener("cameraRefreshIntervalChanged",T)}},[]),Y(()=>{if(!a)return;console.log(" Starting camera refresh timer with interval:",b,"seconds");const T=setInterval(()=>{L(Date.now()),console.log(" Camera refreshed at:",new Date().toLocaleTimeString())},b*1e3);return()=>{console.log(" Clearing camera refresh timer"),clearInterval(T)}},[a,b]),s)return r("div",{className:"printer3d-device-view",style:{display:"flex",flexDirection:"column",height:"100%",position:"relative"},children:r("div",{className:"tab-content-container",children:r("div",{className:"ios-settings-container",children:r("div",{className:"ios-view-wrapper",onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),style:{position:"relative"},children:[r("div",{ref:f,className:"ios-settings-view",style:{padding:"20px"},children:[r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:_==="de"?"Kamera-Einstellungen":"Camera Settings"}),r("div",{className:"ios-card",children:r("div",{className:"ios-item",style:{flexDirection:"column",alignItems:"stretch"},children:[r("div",{className:"ios-item-left",style:{width:"100%",marginBottom:"6px"},children:r("div",{className:"ios-item-content",children:[r("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r("div",{className:"ios-item-label",children:_==="de"?"Aktualisierungsintervall":"Refresh Interval"}),r("div",{className:"ios-item-value",style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.6)"},children:[b,"s"]})]}),r("div",{className:"ios-item-subtitle",children:_==="de"?"Wie oft die Kamera aktualisiert wird (5-15 Sekunden)":"How often the camera refreshes (5-15 seconds)"})]})}),r("input",{type:"range",min:"5",max:"15",step:"1",value:b,onChange:x,className:"ios-range-slider",style:{width:"100%",height:"4px",borderRadius:"2px",background:`linear-gradient(to right, rgb(48, 209, 88) 0%, rgb(48, 209, 88) ${(b-5)/10*100}%, rgba(255, 255, 255, 0.15) ${(b-5)/10*100}%, rgba(255, 255, 255, 0.15) 100%)`,outline:"none",WebkitAppearance:"none",appearance:"none",cursor:"pointer"}})]})})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:_==="de"?"Quick Stats Anzeige":"Quick Stats Display"}),r("div",{className:"ios-card",children:[r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:_==="de"?"Fortschritt":"Progress"}),r("div",{className:"ios-item-subtitle",children:_==="de"?"Zeigt den Druckfortschritt in %":"Shows print progress in %"})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:w.progress,onChange:()=>k("progress")}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:"Status"}),r("div",{className:"ios-item-subtitle",children:_==="de"?"Zeigt den aktuellen Druckstatus":"Shows current print status"})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:w.status,onChange:()=>k("status")}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:_==="de"?"Verbleibende Zeit":"Remaining Time"}),r("div",{className:"ios-item-subtitle",children:_==="de"?"Zeigt die geschtzte Restzeit":"Shows estimated remaining time"})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:w.remainingTime,onChange:()=>k("remainingTime")}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:_==="de"?"Dsentemperatur":"Nozzle Temperature"}),r("div",{className:"ios-item-subtitle",children:_==="de"?"Zeigt aktuelle Dsentemperatur":"Shows current nozzle temperature"})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:w.nozzleTemp,onChange:()=>k("nozzleTemp")}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:_==="de"?"Druckbett-Temperatur":"Bed Temperature"}),r("div",{className:"ios-item-subtitle",children:_==="de"?"Zeigt aktuelle Bett-Temperatur":"Shows current bed temperature"})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:w.bedTemp,onChange:()=>k("bedTemp")}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:_==="de"?"Schicht-Fortschritt":"Layer Progress"}),r("div",{className:"ios-item-subtitle",children:_==="de"?"Zeigt aktuelle/gesamte Schichten":"Shows current/total layers"})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:w.layerProgress,onChange:()=>k("layerProgress")}),r("span",{className:"ios-toggle-slider"})]})})]})]})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:_==="de"?"Benachrichtigungen":"Notifications"}),r("div",{className:"ios-card",children:[r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:_==="de"?"Druck abgeschlossen":"Print Completed"}),r("div",{className:"ios-item-subtitle",children:_==="de"?"Benachrichtigung wenn Druck fertig":"Notify when print finishes"})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",defaultChecked:!0}),r("span",{className:"ios-toggle-slider"})]})})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:_==="de"?"Fehler-Benachrichtigungen":"Error Notifications"}),r("div",{className:"ios-item-subtitle",children:_==="de"?"Bei Druckfehlern benachrichtigen":"Notify on print errors"})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",defaultChecked:!0}),r("span",{className:"ios-toggle-slider"})]})})]})]})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:_==="de"?"Erweitert":"Advanced"}),r("div",{className:"ios-card",children:r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:_==="de"?"Debug-Modus":"Debug Mode"}),r("div",{className:"ios-item-subtitle",children:_==="de"?"Erweiterte Logs anzeigen":"Show advanced logs"})]})}),r("div",{className:"ios-item-right",children:r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",defaultChecked:!1}),r("span",{className:"ios-toggle-slider"})]})})]})})]})]}),r(De,{scrollContainerRef:f,isHovered:p})]})})})});if(a){const T=e.attributes?.camera_entity_id;console.log(" === CAMERA DEBUG ==="),console.log(" Camera Entity ID from attributes:",T),console.log(" Entity attributes:",e.attributes),console.log(" Entity serial:",e.attributes?.serial);let R=T,j=null;if(!T&&t?.states){const B=e.attributes?.serial;if(B){const V=Object.keys(t.states).find(A=>{const F=A.toLowerCase();return F.startsWith("camera.")&&F.includes(B.toLowerCase())&&(F.endsWith("_kamera")||F.endsWith("_camera"))});if(V)R=V,console.log(" Found camera entity via fallback search:",V);else{const A=Object.keys(t.states).filter(F=>F.startsWith("camera."));console.log(" All available camera entities:",A)}}}R&&t?.states&&(j=t.states[R],console.log(" Camera state object:",j),console.log(" Camera entity_picture:",j?.attributes?.entity_picture));const z=Re(()=>{let B=null;return j?.attributes?.entity_picture?(B=j.attributes.entity_picture,console.log(" Using entity_picture:",B)):R&&(B=`/api/camera_proxy/${R}`,console.log(" Using camera_proxy:",B)),B&&N&&(B=`${B}${B.includes("?")?"&":"?"}t=${N}`),B},[j,R,N]);return r("div",{className:"printer3d-device-view",style:{display:"flex",flexDirection:"column",height:"100%",position:"relative"},children:r("div",{className:"tab-content-container",style:{display:"block",height:"100%",padding:"0",overflow:"hidden",borderRadius:"20px"},children:z?r("img",{src:z,alt:"Printer Camera",onError:B=>{console.error("  Failed to load camera image"),console.log(" Attempted URL:",B.target.src),console.log(" Entity ID used:",R),console.log(" Camera state:",j),B.target.style.display="none";const V=document.createElement("div");V.style.cssText="text-align: center; color: rgba(255, 255, 255, 0.8); padding: 20px;",V.innerHTML=`
                  <p style="margin-bottom: 10px; font-size: 14px;"> Kamera konnte nicht geladen werden</p>
                  <p style="font-size: 11px; opacity: 0.6; margin-bottom: 5px;">Entity: ${R}</p>
                  <p style="font-size: 11px; opacity: 0.6;">URL: ${B.target.src}</p>
                  <p style="font-size: 11px; opacity: 0.6; margin-top: 10px;">Fehler: 403 Forbidden - Zugriff verweigert</p>
                  <p style="font-size: 11px; opacity: 0.6;">Versuchen Sie, die Kamera-Entity neu zu laden</p>
                `,B.target.parentNode.appendChild(V)},onLoad:()=>{console.log("  Camera image loaded successfully"),console.log(" Entity ID:",R),console.log(" Image source:",z)},style:{display:"block",width:"100%",height:"auto",maxHeight:"100%",maxWidth:"100%",borderRadius:"20px",objectFit:"cover"}}):r("div",{style:{textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:[r("p",{style:{marginBottom:"10px"},children:_==="de"?" Keine Kamera gefunden":" No camera found"}),r("p",{style:{fontSize:"12px",opacity:.6},children:["Printer: ",e.id]}),r("p",{style:{fontSize:"11px",opacity:.5,marginTop:"10px"},children:["Serial: ",e.attributes?.serial]})]})})})}if(c){const T=e.attributes?.serial;console.log(" === IMAGE DEBUG ==="),console.log(" Entity serial:",T),console.log(" Looking for image entity: image.a1_"+T?.toLowerCase()+"_titelbild");let R=null,j=null;if(T&&t?.states)if(R=Object.keys(t.states).find(B=>{const V=B.toLowerCase();return V.startsWith("image.")&&V.includes(T.toLowerCase())&&V.endsWith("_titelbild")}),R)console.log(" Found image entity:",R);else{const B=Object.keys(t.states).filter(V=>V.startsWith("image."));console.log(" All available image entities:",B)}R&&t?.states&&(j=t.states[R],console.log(" Image state object:",j),console.log(" Image entity_picture:",j?.attributes?.entity_picture),console.log(" Image access_token:",j?.attributes?.access_token));let z=null;return j?.attributes?.entity_picture?(z=j.attributes.entity_picture,console.log(" Using entity_picture:",z),j.attributes.access_token&&(z=`${z}${z.includes("?")?"&":"?"}token=${j.attributes.access_token}`)):j?.state&&j.state!=="unavailable"&&(z=j.state,console.log(" Using state as image source:",z)),r("div",{className:"printer3d-device-view",style:{display:"flex",flexDirection:"column",height:"100%",position:"relative"},children:r("div",{className:"tab-content-container",style:{display:"block",height:"100%",padding:"0",overflow:"hidden",borderRadius:"20px"},children:z?r("img",{src:z,alt:"Printer Titelbild",onError:B=>{console.error("  Failed to load image"),console.log(" Attempted URL:",B.target.src),console.log(" Entity ID used:",R),console.log(" Image state:",j),B.target.style.display="none";const V=document.createElement("div");V.style.cssText="text-align: center; color: rgba(255, 255, 255, 0.8); padding: 20px;",V.innerHTML=`
                  <p style="margin-bottom: 10px; font-size: 14px;"> Bild konnte nicht geladen werden</p>
                  <p style="font-size: 11px; opacity: 0.6; margin-bottom: 5px;">Entity: ${R}</p>
                  <p style="font-size: 11px; opacity: 0.6;">URL: ${B.target.src}</p>
                  <p style="font-size: 11px; opacity: 0.6; margin-top: 10px;">Fehler: Zugriff verweigert</p>
                `,B.target.parentNode.appendChild(V)},onLoad:()=>{console.log("  Image loaded successfully"),console.log(" Entity ID:",R),console.log(" Image source:",z)},style:{display:"block",width:"100%",height:"auto",maxHeight:"100%",maxWidth:"100%",borderRadius:"20px",objectFit:"cover"}}):r("div",{style:{textAlign:"center",color:"rgba(255, 255, 255, 0.6)",padding:"20px"},children:[r("p",{style:{marginBottom:"10px"},children:_==="de"?" Kein Titelbild gefunden":" No title image found"}),r("p",{style:{fontSize:"12px",opacity:.6},children:["Printer: ",e.id]}),r("p",{style:{fontSize:"11px",opacity:.5,marginTop:"10px"},children:["Serial: ",T]}),r("p",{style:{fontSize:"11px",opacity:.5,marginTop:"5px"},children:["Erwartete Entity: image.a1_",T?.toLowerCase(),"_titelbild"]})]})})})}return r("div",{className:"printer3d-device-view",style:{display:"flex",flexDirection:"column",height:"100%",position:"relative"},children:r(Yo,{item:e,hass:t,lang:n,onServiceCall:i})})},ED=Object.freeze(Object.defineProperty({__proto__:null,Printer3DDeviceView:lm,default:lm},Symbol.toStringTag,{value:"Module"})),cm=({entity:e,hass:t,lang:n="de"})=>{const[i,s]=D({});Y(()=>{const m=async()=>{if(!e||!t)return;const b=await e.executeAction("getPrinterData",{hass:t});b&&s(b)};m();const y=setInterval(m,5e3);return()=>clearInterval(y)},[e,t]);const o=(m,y=null)=>{if(!m||m==="unavailable")return"--";const b=parseFloat(m);if(isNaN(b))return"--";if(y&&y!=="unavailable"){const v=parseFloat(y);if(!isNaN(v)&&v>0)return`${Math.round(b)}C  ${Math.round(v)}C`}return`${Math.round(b)}C`},a=i.currentStep||(n==="de"?"Bereit":"Ready"),l=()=>{const m=[];return i.nozzleSize&&i.nozzleSize!=="unavailable"&&m.push(i.nozzleSize),i.nozzleType&&i.nozzleType!=="unavailable"&&m.push(i.nozzleType),m.length===0?n==="de"?"Nicht verfgbar":"Not available":m.join(", ")},c=()=>{const m=o(i.bedTemp,i.targetBed),y=o(i.nozzleTemp,i.targetNozzle);return`Druckbett: ${m} | Dse: ${y}`},d=m=>!m||m==="unavailable"?n==="de"?"Unbekannt":"Unknown":m,u=parseFloat(i.progress)||0,h=(i.currentStep||"").toLowerCase(),f=["idle","offline","unavailable","unknown"].includes(h),p=u>0&&!f,g={value:u,min:0,max:100,unit:"%",label:n==="de"?"Druckfortschritt":"Print Progress",subValue:c(),color:p?"rgb(48, 209, 88)":"rgba(255, 255, 255, 0.3)",readOnly:!0,showPower:!1,progressMode:!1};return r("div",{className:"printer-overview-container",children:[r("div",{className:"printer-header-info",children:[r("div",{className:"printer-info-row",children:[r("span",{className:"info-label",children:n==="de"?"Arbeitsschritt":"Current Step"}),r("span",{className:"info-value",children:a})]}),r("div",{className:"printer-info-row",children:[r("span",{className:"info-label",children:n==="de"?"Dse":"Nozzle"}),r("span",{className:"info-value",children:l()})]})]}),r("div",{className:"printer-progress-section",children:r(Oo,{...g})}),r("div",{className:"printer-time-info",children:[r("span",{className:"time-label",children:n==="de"?"Verbleibende Zeit":"Remaining Time"}),r("span",{className:"time-value",children:d(i.remainingTime)})]})]})},TD=Object.freeze(Object.defineProperty({__proto__:null,Printer3DOverviewTab:cm,default:cm},Symbol.toStringTag,{value:"Module"})),dm=({entity:e,hass:t,lang:n="de"})=>{const[i,s]=D({});return Y(()=>{if(!e||!t)return;const o={printSpeed:e.attributes?.print_speed||100,fanSpeed:e.attributes?.fan_speed||100,chamberLight:e.attributes?.chamber_light||!1,targetNozzle:e.attributes?.target_nozzle_temp||220,targetBed:e.attributes?.target_bed_temp||60};s(o)},[e,t]),r("div",{className:"controls-content",children:[r("div",{className:"ios-control-row",children:[r("div",{className:"ios-control-label",children:n==="de"?"Druckgeschwindigkeit":"Print Speed"}),r("input",{type:"range",min:"50",max:"200",defaultValue:i.printSpeed||100,className:"ios-slider"}),r("span",{className:"ios-value",children:[i.printSpeed||100,"%"]})]}),r("div",{className:"ios-control-row",children:[r("div",{className:"ios-control-label",children:n==="de"?"Druckkopflfter":"Part Cooling Fan"}),r("input",{type:"range",min:"0",max:"100",defaultValue:i.fanSpeed||100,className:"ios-slider"}),r("span",{className:"ios-value",children:[i.fanSpeed||100,"%"]})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-control-row",children:[r("div",{className:"ios-control-label",children:n==="de"?"Druckraumbeleuchtung":"Chamber Light"}),r("label",{className:"ios-switch",children:[r("input",{type:"checkbox",defaultChecked:i.chamberLight}),r("span",{className:"ios-switch-slider"})]})]}),r("div",{className:"ios-control-row",children:[r("div",{className:"ios-control-label",children:n==="de"?"Aufforderungston":"Sound Alerts"}),r("label",{className:"ios-switch",children:[r("input",{type:"checkbox"}),r("span",{className:"ios-switch-slider"})]})]}),r("div",{className:"ios-control-row",children:[r("div",{className:"ios-control-label",children:n==="de"?"Bildsensorkamera":"Image Sensor Camera"}),r("label",{className:"ios-switch",children:[r("input",{type:"checkbox"}),r("span",{className:"ios-switch-slider"})]})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-control-row tappable",children:[r("div",{className:"ios-control-label",children:n==="de"?"Zieltemperatur der Dse":"Target Nozzle Temp"}),r("div",{className:"ios-value",children:[i.targetNozzle||220,"C"]}),r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"chevron-icon",children:r("path",{d:"M9 18l6-6-6-6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),r("div",{className:"ios-control-row tappable",children:[r("div",{className:"ios-control-label",children:n==="de"?"Zieltemperatur des Druckbetts":"Target Bed Temp"}),r("div",{className:"ios-value",children:[i.targetBed||60,"C"]}),r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"chevron-icon",children:r("path",{d:"M9 18l6-6-6-6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),r("div",{className:"ios-divider"}),r("button",{className:"ios-action-button pause",children:[" ",n==="de"?"Druckvorgang anhalten":"Pause Print"]}),r("button",{className:"ios-action-button stop",children:[" ",n==="de"?"Druckvorgang beenden":"Stop Print"]}),r("button",{className:"ios-action-button resume",children:[" ",n==="de"?"Druckvorgang fortsetzen":"Resume Print"]}),r("button",{className:"ios-action-button camera",children:[" ",n==="de"?"Kamera aktivieren":"Activate Camera"]})]})},AD=Object.freeze(Object.defineProperty({__proto__:null,Printer3DControlsTab:dm,default:dm},Symbol.toStringTag,{value:"Module"})),_l=({title:e,isExpanded:t,onToggle:n,children:i})=>r("div",{className:"ios-expandable-card",children:[r("div",{className:"ios-card-header",onClick:n,children:[r("span",{className:"ios-card-title",children:e}),r(P.svg,{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"chevron-icon",animate:{rotate:t?90:0},transition:{duration:.3,ease:"easeInOut"},children:r("path",{d:"M9 18l6-6-6-6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),r(Te,{initial:!1,children:t&&r(P.div,{className:"ios-card-content",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{height:{duration:.3,ease:"easeInOut"},opacity:{duration:.2,ease:"easeInOut"}},children:r("div",{className:"ios-card-content-inner",children:i})})})]}),um=({entity:e,hass:t,lang:n="de"})=>{const[i,s]=D(null),[o,a]=D({});Y(()=>{if(!e||!t)return;const d={chamberTemp:e.attributes?.chamber_temp||null,fanSpeed:e.attributes?.fan_speed||null,currentLayer:e.attributes?.current_layer||null,totalLayers:e.attributes?.total_layers||null,filamentUsed:e.attributes?.filament_used||null,printDuration:e.attributes?.print_duration||null,wifiSignal:e.attributes?.wifi_signal||null,firmwareVersion:e.attributes?.firmware_version||null},u=e.attributes?.serial;u&&t.states&&Object.keys(t.states).filter(f=>f.toLowerCase().includes(u.toLowerCase())).forEach(f=>{const p=t.states[f],g=f.toLowerCase();g.includes("online")?d.online=p.state:g.includes("druckfehler")||g.includes("print_error")?d.printError=p.state:g.includes("hms_fehler")||g.includes("hms_error")?d.hmsError=p.state:g.includes("firmware_status")?d.firmwareStatus=p.state:g.includes("entwickler_lan_modus")||g.includes("lan_mode")?d.lanMode=p.state:g.includes("mqtt_verbindungsmodus")||g.includes("mqtt_mode")?d.mqttMode=p.state:(g.includes("mqtt_verschlusselungsfirmware")||g.includes("mqtt_encryption"))&&(d.mqttEncryption=p.state)}),a(d)},[e,t]);const l=d=>{s(i===d?null:d)},c=d=>{if(!d)return"--";const u=String(d).toLowerCase();return u==="on"?n==="de"?"An":"On":u==="off"?n==="de"?"Aus":"Off":d};return r("div",{className:"printer-control-sections",children:[r(_l,{title:n==="de"?"  Sensoren & Diagnose":"  Sensors & Diagnostics",isExpanded:i==="sensors",onToggle:()=>l("sensors"),children:r("div",{className:"sensors-content",children:[r("div",{className:"ios-info-row",children:[r("div",{className:"ios-info-label",children:n==="de"?"Kammertemperatur":"Chamber Temperature"}),r("div",{className:"ios-info-value",children:[o.chamberTemp||"--","C"]})]}),r("div",{className:"ios-info-row",children:[r("div",{className:"ios-info-label",children:n==="de"?"Lftergeschwindigkeit":"Fan Speed"}),r("div",{className:"ios-info-value",children:[o.fanSpeed||"--","%"]})]}),r("div",{className:"ios-info-row",children:[r("div",{className:"ios-info-label",children:n==="de"?"Aktuelle Schicht":"Current Layer"}),r("div",{className:"ios-info-value",children:[o.currentLayer||"--","/",o.totalLayers||"--"]})]}),r("div",{className:"ios-info-row",children:[r("div",{className:"ios-info-label",children:n==="de"?"Filamentverbrauch":"Filament Used"}),r("div",{className:"ios-info-value",children:[o.filamentUsed||"--","g"]})]}),r("div",{className:"ios-info-row",children:[r("div",{className:"ios-info-label",children:n==="de"?"Druckdauer":"Print Duration"}),r("div",{className:"ios-info-value",children:o.printDuration||"--"})]}),r("div",{className:"ios-info-row",children:[r("div",{className:"ios-info-label",children:"WiFi-Signal"}),r("div",{className:"ios-info-value",children:[o.wifiSignal||"--"," dBm"]})]}),r("div",{className:"ios-info-row",children:[r("div",{className:"ios-info-label",children:n==="de"?"Firmware-Version":"Firmware Version"}),r("div",{className:"ios-info-value",children:o.firmwareVersion||"--"})]})]})}),r(_l,{title:n==="de"?"  Diagnose":"  Diagnostics",isExpanded:i==="diagnostics",onToggle:()=>l("diagnostics"),children:r("div",{className:"sensors-content",children:[r("div",{className:"ios-info-row",children:[r("div",{className:"ios-info-label",children:"Online"}),r("div",{className:"ios-info-value",children:c(o.online)})]}),r("div",{className:"ios-info-row",children:[r("div",{className:"ios-info-label",children:n==="de"?"Druckfehler":"Print Error"}),r("div",{className:"ios-info-value",children:c(o.printError)})]}),r("div",{className:"ios-info-row",children:[r("div",{className:"ios-info-label",children:"HMS-Fehler"}),r("div",{className:"ios-info-value",children:c(o.hmsError)})]}),r("div",{className:"ios-info-row",children:[r("div",{className:"ios-info-label",children:"Firmware Status"}),r("div",{className:"ios-info-value",children:c(o.firmwareStatus)})]}),r("div",{className:"ios-info-row",children:[r("div",{className:"ios-info-label",children:n==="de"?"Entwickler LAN-Modus":"Developer LAN Mode"}),r("div",{className:"ios-info-value",children:c(o.lanMode)})]}),r("div",{className:"ios-info-row",children:[r("div",{className:"ios-info-label",children:n==="de"?"MQTT-Verbindungsmodus":"MQTT Connection Mode"}),r("div",{className:"ios-info-value",children:c(o.mqttMode)})]}),r("div",{className:"ios-info-row",children:[r("div",{className:"ios-info-label",children:n==="de"?"MQTT-Verschlsselung":"MQTT Encryption"}),r("div",{className:"ios-info-value",children:c(o.mqttEncryption)})]})]})}),r(_l,{title:n==="de"?"  Verbundene Gerte":"  Connected Devices",isExpanded:i==="devices",onToggle:()=>l("devices"),children:r("div",{className:"devices-content",children:[r("div",{className:"ios-device-row",children:[r("div",{className:"ios-device-icon",children:""}),r("div",{className:"ios-device-info",children:[r("div",{className:"ios-device-name",children:"Bambu Handy (MQTT)"}),r("div",{className:"ios-device-status",children:"Connected  192.168.1.45"})]})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-device-row",children:[r("div",{className:"ios-device-icon",children:""}),r("div",{className:"ios-device-info",children:[r("div",{className:"ios-device-name",children:"Bambu Studio"}),r("div",{className:"ios-device-status",children:"Connected  Cloud"})]})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-device-row",children:[r("div",{className:"ios-device-icon",children:""}),r("div",{className:"ios-device-info",children:[r("div",{className:"ios-device-name",children:"AMS (Filament System)"}),r("div",{className:"ios-device-status",children:"Connected  4 Spools loaded"})]})]})]})})]})},DD=Object.freeze(Object.defineProperty({__proto__:null,Printer3DDiagnosticsTab:um,default:um},Symbol.toStringTag,{value:"Module"})),hm=({entity:e,hass:t,lang:n="de",onServiceCall:i})=>{const[s,o]=D(!1),[a,l]=D(!1),[c,d]=D(!1),[u,h]=D(!1),[f,p]=D(null),[g,m]=D(null),[y,b]=D("overview"),[v,w]=D("main");D(null);const[S,x]=D(()=>{const O={verbrauch:{enabled:!1},nettonutzung:{enabled:!1},solarerzeugung:{enabled:!1},batterie:{enabled:!1}};try{const $=localStorage.getItem("energy_circular_config_v3");if($){const ne=JSON.parse($);if(ne&&typeof ne=="object"&&!Array.isArray(ne))return ne}}catch($){console.warn("Failed to load circular config from localStorage:",$)}return O}),[k,N]=D(0),[L,_]=D(!1),I=oe(null),[T,R]=D(null),j=oe(null),[z,B]=D(!1),[V,A]=D(!1),[F,M]=D(null),[C,X]=D(localStorage.getItem("userLanguage")||n||"de"),q=C||n||"de",E={grid_import:{de:"Netzbezug",en:"Grid Import"},grid_return:{de:"Netzeinspeisung",en:"Grid Export"},solar:{de:"PV Leistung",en:"PV Power"},consumption:{de:"Verbrauch",en:"Consumption"},estimated_power:{de:"Geschtzte Leistung",en:"Estimated Power"},kwh:{de:"Bezogene Wirkenergie gesamt",en:"Total Active Energy Consumed"},pv_total:{de:"PV kumulativ gesamt",en:"PV Cumulative Total"},estimated_energy_today:{de:"Geschtzte Erzeugung heute",en:"Estimated Generation Today"},grid_export_total:{de:"Einspeisung gesamt",en:"Total Grid Export"},battery:{de:"Batterie",en:"Battery"},battery_discharged:{de:"Entladen (kWh)",en:"Discharged (kWh)"},battery_charged:{de:"Geladen (kWh)",en:"Charged (kWh)"},feed_in_tariff:{de:"Einspeisetarif",en:"Feed-in Tariff"},purchase_tariff:{de:"Bezugstarif",en:"Purchase Tariff"}},ee={grid_import:{de:"Strom, der aus dem ffentlichen Netz bezogen wird (in Watt).",en:"Power drawn from the public grid (in Watts)."},grid_return:{de:"Strom, der ins ffentliche Netz eingespeist wird (in Watt).",en:"Power fed back into the public grid (in Watts)."},solar:{de:"Aktuelle Solar-Produktion der PV-Anlage (in Watt).",en:"Current solar production from PV system (in Watts)."},consumption:{de:"Gesamtverbrauch = Netzbezug + (Solar - Einspeisung) (in Watt).",en:"Total consumption = Grid Import + (Solar - Grid Export) (in Watts)."},estimated_power:{de:"Geschtzte Leistung basierend auf Prognose-Daten.",en:"Estimated power based on forecast data."},kwh:{de:'Kumulativer Netzbezug seit Installation (in kWh). Fr "Verbrauch heute" wird der Wert um 00:00 Uhr abgezogen.',en:'Cumulative grid import since installation (in kWh). For "consumption today", the value at 00:00 is subtracted.'},pv_total:{de:"Kumulativ produzierte Solar-Energie seit Installation (in kWh). Lifetime-Wert.",en:"Cumulative solar energy produced since installation (in kWh). Lifetime value."},estimated_energy_today:{de:"Geschtzte Solar-Energie fr heute basierend auf Prognose.",en:"Estimated solar energy for today based on forecast."},grid_export_total:{de:"Kumulativ ins Netz eingespeiste Energie seit Installation (in kWh).",en:"Cumulative energy fed back to grid since installation (in kWh)."},battery:{de:"Aktueller Batterieladezustand (in Prozent).",en:"Current battery charge level (in percent)."},battery_discharged:{de:"Energie, die aus der Batterie entnommen wurde (in kWh).",en:"Energy discharged from battery (in kWh)."},battery_charged:{de:"Energie, die in die Batterie geladen wurde (in kWh).",en:"Energy charged into battery (in kWh)."},feed_in_tariff:{de:"Tarif fr Einspeisung ins Netz (in EUR/kWh oder andere Whrung pro kWh).",en:"Tariff for feeding energy into the grid (in EUR/kWh or other currency per kWh)."},purchase_tariff:{de:"Tarif fr Bezug aus dem Netz (in EUR/kWh oder andere Whrung pro kWh).",en:"Tariff for purchasing energy from the grid (in EUR/kWh or other currency per kWh)."}},ue=Ie(O=>{console.log(" getCircularTypeLabel called with:",{type:O,currentLang:q});const ne={verbrauch:q==="de"?"Verbrauch":"Consumption",nettonutzung:q==="de"?"Nettonutzung":"Net Usage",solarerzeugung:q==="de"?"Solarerzeugung":"Solar Production",batterie:q==="de"?"Batterie":"Battery"}[O]||O;return console.log(" Result:",ne),ne},[q]),K=Ie(O=>({verbrauch:{primary:e.attributes?.consumption_sensor,secondary:e.attributes?.grid_return_sensor},nettonutzung:{primary:e.attributes?.grid_import_sensor,secondary:e.attributes?.kwh_sensor},solarerzeugung:{primary:e.attributes?.solar_sensor,secondary:e.attributes?.pv_total_sensor},batterie:{primary:e.attributes?.battery_discharged_sensor,secondary:e.attributes?.battery_charged_sensor}})[O]||{primary:null,secondary:null},[e.attributes]),Q=Re(()=>!S||typeof S!="object"||Array.isArray(S)?[]:Object.keys(S).filter(O=>{if(!S[O]?.enabled)return!1;const ne=K(O);return ne.primary&&ne.secondary}).map(O=>({type:O})),[S,K]);Y(()=>{if(!(Q.length<=1||L||s||a||c||u))return I.current=setInterval(()=>{N(O=>(O+1)%Q.length)},5e3),()=>{I.current&&clearInterval(I.current)}},[Q.length,L,s,a,c,u]),D(!0),D(!0),D(!0),D(localStorage.getItem("aiModeEnabled")!=="false");const[ie,se]=D(parseInt(localStorage.getItem("bambulab_camera_refresh_interval"))||10);D(()=>{const O=localStorage.getItem("bambulab_quickstats_config");return O?JSON.parse(O):{progress:!0,status:!0,remainingTime:!0,nozzleTemp:!1,bedTemp:!1,layerProgress:!1}});const[xe,we]=D(Date.now()),_e={enter:O=>({x:O>0?"100%":"-100%",opacity:0}),center:{x:0,opacity:1},exit:O=>({x:O<0?"100%":"-100%",opacity:0})},H=(O,$)=>{const ne={...S,[O]:{enabled:$}};x(ne),localStorage.setItem("energy_circular_config_v3",JSON.stringify(ne))},U=O=>({grid_import:q==="de"?"Netzbezug (W)":"Grid Import (W)",grid_return:q==="de"?"Netzeinspeisung (W)":"Grid Export (W)",solar:q==="de"?"PV Leistung (W)":"PV Power (W)",battery:q==="de"?"Batterie":"Battery",kwh:q==="de"?"Energie (kWh)":"Energy (kWh)",pv_total:q==="de"?"PV kumulativ gesamt (kWh)":"PV Cumulative Total (kWh)",consumption:q==="de"?"Verbrauch (W)":"Consumption (W)",self_sufficiency:q==="de"?"Autarkie (%)":"Self-Sufficiency (%)",self_consumption:q==="de"?"Eigenverbrauch (%)":"Self-Consumption (%)",estimated_energy_today:q==="de"?"Geschtzte Erzeugung heute (kWh)":"Estimated Production Today (kWh)",estimated_power:q==="de"?"Geschtzte Leistung (W)":"Estimated Power (W)",grid_export_total:q==="de"?"Einspeisung gesamt (Wh)":"Grid Export Total (Wh)",feed_in_tariff:q==="de"?"Einspeisetarif (/kWh)":"Feed-in Tariff (/kWh)",purchase_tariff:q==="de"?"Bezugstarif (/kWh)":"Purchase Tariff (/kWh)"})[O]||O,J=O=>{if(!O||!t?.states?.[O])return{value:"-",unit:""};const $=t.states[O],ne=parseFloat($.state),le=$.attributes?.unit_of_measurement||"";return isNaN(ne)?{value:"-",unit:le}:le==="W"||le==="kW"?{value:ne.toFixed(1),unit:le}:le==="Wh"||le==="kWh"?{value:(ne/1e3).toFixed(2),unit:"kWh"}:{value:ne.toFixed(2),unit:le}},re=async()=>{try{e&&e.executeAction&&await e.executeAction("refresh",{hass:t})}catch(O){console.error("Failed to refresh energy data:",O)}};Y(()=>(window._printerViewRef={handleOpenSettings:()=>{o(!0),l(!1),d(!1),b("settings"),R(null)},handleOpenCamera:()=>{l(!0),o(!1),d(!1),b("camera"),R(null)},handleOpenImage:()=>{d(!0),l(!1),o(!1),b("image"),R(null)},handleOverview:()=>{o(!1),l(!1),d(!1),b("overview"),R(null)},handleRefresh:re,handleBackNavigation:()=>{o(!1),l(!1),d(!1),b("overview"),R(null)},getActiveButton:()=>y},()=>{window._printerViewRef=null}),[y]),Y(()=>{const O=$=>{const ne=$.detail.language;X(ne)};return window.addEventListener("languageChanged",O),()=>{window.removeEventListener("languageChanged",O)}},[]),Y(()=>{const O=$=>{const ne=$.detail.interval/1e3;se(ne),console.log(" Camera refresh interval changed to:",ne,"seconds")};return window.addEventListener("cameraRefreshIntervalChanged",O),()=>{window.removeEventListener("cameraRefreshIntervalChanged",O)}},[]),Y(()=>{if(!a)return;console.log(" Starting camera refresh timer with interval:",ie,"seconds");const O=setInterval(()=>{we(Date.now()),console.log(" Camera refreshed at:",new Date().toLocaleTimeString())},ie*1e3);return()=>{console.log(" Clearing camera refresh timer"),clearInterval(O)}},[a,ie]),Y(()=>{const O=e.attributes?.grid_import_sensor;if(!O||!t?.states||!t.states[O])return;(async()=>{try{await e.executeAction("getGridImportValue",{hass:t})}catch(le){console.error("Failed to update grid import value:",le)}})()},[t?.states,e.attributes?.grid_import_sensor]);const ae={grid_import:{attr:"grid_import_sensor",units:["W","kW"],deviceClass:"power"},grid_return:{attr:"grid_return_sensor",units:["W","kW"],deviceClass:"power"},solar:{attr:"solar_sensor",units:["W","kW"],deviceClass:"power"},consumption:{attr:"consumption_sensor",units:["W","kW"],deviceClass:"power"},estimated_power:{attr:"estimated_power_sensor",units:["W","kW"],deviceClass:"power"},kwh:{attr:"kwh_sensor",units:["Wh","kWh"],deviceClass:"energy"},pv_total:{attr:"pv_total_sensor",units:["Wh","kWh"],deviceClass:"energy"},estimated_energy_today:{attr:"estimated_energy_today_sensor",units:["Wh","kWh"],deviceClass:"energy"},grid_export_total:{attr:"grid_export_total_sensor",units:["Wh","kWh"],deviceClass:"energy"},battery:{attr:"battery_sensor",units:["%"],deviceClass:"battery"},battery_discharged:{attr:"battery_discharged_sensor",units:["Wh","kWh"],deviceClass:"energy"},battery_charged:{attr:"battery_charged_sensor",units:["Wh","kWh"],deviceClass:"energy"},feed_in_tariff:{attr:"feed_in_tariff_sensor",units:["EUR/kWh","/kWh","USD/kWh","$/kWh"],deviceClass:"monetary_rate",unitPattern:"/kWh"},purchase_tariff:{attr:"purchase_tariff_sensor",units:["EUR/kWh","/kWh","USD/kWh","$/kWh"],deviceClass:"monetary_rate",unitPattern:"/kWh"}};Y(()=>{Object.values(ae).forEach(O=>{const $=`energy_${e.id}_${O.attr}`,ne=localStorage.getItem($);ne&&e.updateAttributes({[O.attr]:ne})})},[e.id]);const be=async O=>{console.log(" handleSensorSelect called:",{sensorId:O,sensorSelectionType:f});try{const $=ae[f];if(!$){console.error(" Unknown sensor type:",f);return}console.log(" Config:",$),console.log(` Saving: ${$.attr} = ${O}`),e.updateAttributes({[$.attr]:O}),console.log(" entity.updateAttributes called"),console.log(" Current entity.attributes:",e.attributes);const ne=`energy_${e.id}_${$.attr}`;localStorage.setItem(ne,O),console.log(` Saved to localStorage: ${ne} = ${O}`);try{await e.executeAction("updateSensorConfig",{[$.attr]:O}),console.log(` Backend save successful: ${$.attr}`)}catch(le){console.warn(" Backend save failed (using localStorage only):",le)}console.log(" Closing sensor selection..."),h(!1),p(null),m(null),w("sensors"),console.log(" handleSensorSelect completed")}catch($){console.error(" Failed to update sensor config:",$)}};if(u){const O=ae[f]||ae.grid_import,$=e.attributes?.[O.attr]||null,ne=O.units,le=O.deviceClass,pe=Re(()=>t?.states?Object.keys(t.states).filter(W=>{const Z=t.states[W],de=Z.state,me=Z.attributes?.unit_of_measurement||"",ve=Z.attributes?.device_class||"";if(!W.startsWith("sensor.")||!ne.includes(me))return!1;const ct=parseFloat(de);return!(isNaN(ct)||ve&&ve!==le&&le!=="battery"&&le!=="battery"||["","$","EUR","USD","CHF","GBP"].includes(me))}).map(W=>{const Z=t.states[W];return{id:W,name:Z.attributes?.friendly_name||W,value:Z.state,unit:Z.attributes?.unit_of_measurement||"",deviceClass:Z.attributes?.device_class||"",stateClass:Z.attributes?.state_class||""}}).sort((W,Z)=>W.unit.startsWith("k")&&!Z.unit.startsWith("k")?-1:!W.unit.startsWith("k")&&Z.unit.startsWith("k")?1:W.name.localeCompare(Z.name)):[],[t?.states,f]);return r("div",{className:"energy-device-view",style:{display:"flex",flexDirection:"column",height:"100%",position:"relative"},children:r("div",{className:"tab-content-container",children:r("div",{className:"ios-settings-container",children:r("div",{className:"ios-view-wrapper",children:[r("div",{className:"ios-navbar",children:[r("button",{className:"ios-navbar-back",onClick:()=>{h(!1),m(null),w("sensors")},children:[r("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:r("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:q==="de"?"Zurck":"Back"})]}),r("div",{className:"ios-navbar-title",children:U(f)})]}),r("div",{className:"ios-settings-view",children:r("div",{className:"ios-section",children:r("div",{className:"ios-card",children:pe.length===0?r("div",{className:"ios-item",children:r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:r("div",{className:"ios-item-label",style:{opacity:.6},children:q==="de"?"Keine Sensoren gefunden":"No sensors found"})})})}):pe.map((W,Z)=>r("div",{children:[Z>0&&r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>be(W.id),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:W.name}),r("div",{className:"ios-item-subtitle",children:W.id})]})}),r("div",{className:"ios-item-right",children:[r("span",{className:"ios-item-value",children:[W.value," ",W.unit]}),$===W.id&&r("svg",{className:"ios-checkmark",width:"15",height:"12",viewBox:"0 0 15 12",fill:"none",children:r("path",{d:"M1 6L5.5 10.5L13.5 1.5",stroke:"rgb(0, 122, 255)",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]},W.id))})})})]})})})})}if(s)return Re(()=>t?.states?Object.keys(t.states).filter(O=>{const $=t.states[O],ne=$.state,le=$.attributes?.unit_of_measurement||"",pe=$.attributes?.device_class||"";if(!O.startsWith("sensor.")||!["W","kW"].includes(le))return!1;const Z=parseFloat(ne);return!(isNaN(Z)||pe&&pe!=="power"||["","$","EUR","USD","CHF","GBP"].includes(le))}).map(O=>{const $=t.states[O];return{id:O,name:$.attributes?.friendly_name||O,value:$.state,unit:$.attributes?.unit_of_measurement||"",deviceClass:$.attributes?.device_class||"",stateClass:$.attributes?.state_class||""}}).sort((O,$)=>O.unit==="kW"&&$.unit==="W"?-1:O.unit==="W"&&$.unit==="kW"?1:O.name.localeCompare($.name)):[],[t?.states]),r("div",{className:"energy-device-view",style:{display:"flex",flexDirection:"column",height:"100%",position:"relative"},children:r("div",{className:"tab-content-container",style:{height:"100%"},children:[r("div",{className:"ios-settings-container",children:r(Te,{mode:"wait",initial:!1,custom:v==="main"?-1:1,children:v==="main"?r(P.div,{custom:-1,variants:_e,initial:!1,animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>B(!0),onMouseLeave:()=>B(!1),style:{position:"relative"},children:[r("div",{ref:j,className:"ios-settings-view",style:{padding:"20px"},children:[r("div",{className:"ios-section",children:r("div",{className:"ios-card",children:r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>w("sensors"),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:q==="de"?"Werte":"Values"}),r("div",{className:"ios-item-subtitle",children:q==="de"?"Sensoren konfigurieren":"Configure sensors"})]})}),r("div",{className:"ios-item-right",children:r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}),r("div",{className:"ios-section",children:r("div",{className:"ios-card",children:r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>w("circular-overview"),children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:"Circular"}),r("div",{className:"ios-item-subtitle",children:[Q.length," ",q==="de"?"aktiv":"active"]})]})}),r("div",{className:"ios-item-right",children:r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})})]}),r(De,{scrollContainerRef:j,isHovered:z})]},"main"):v==="sensors"?r(P.div,{custom:1,variants:_e,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>B(!0),onMouseLeave:()=>B(!1),style:{position:"relative"},children:[r("div",{className:"ios-navbar",children:[r("button",{className:"ios-navbar-back",onClick:()=>w("main"),children:[r("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:r("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:q==="de"?"Zurck":"Back"})]}),r("div",{className:"ios-navbar-title",children:q==="de"?"Werte":"Values"})]}),r("div",{ref:j,className:"ios-settings-view",children:[r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:q==="de"?"LEISTUNG (W/KW)":"POWER (W/KW)"}),r("div",{className:"ios-card",children:[r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{p("grid_import"),m("sensors"),h(!0)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",style:{display:"flex",alignItems:"center",gap:"8px"},children:[r("span",{children:q==="de"?"Netzbezug":"Grid Import"}),r(P.button,{className:"info-icon-button",onClick:O=>{O.stopPropagation(),M("grid_import"),A(!0)},whileHover:{scale:1.1},whileTap:{scale:.95},style:{background:"none",border:"none",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",color:"rgba(0, 122, 255, 0.8)"},children:r("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[r("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeWidth:"1.5"}),r("path",{d:"M8 7V11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),r("circle",{cx:"8",cy:"5",r:"0.75",fill:"currentColor"})]})})]}),r("div",{className:"ios-item-subtitle",children:(()=>{const O=e.attributes?.grid_import_sensor;if(!O)return q==="de"?"Nicht konfiguriert":"Not configured";const $=J(O);return`${O.split(".")[1]}  ${$.value} ${$.unit}`})()})]})}),r("div",{className:"ios-item-right",children:r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{p("grid_return"),m("sensors"),h(!0)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",style:{display:"flex",alignItems:"center",gap:"8px"},children:[r("span",{children:q==="de"?"Netzeinspeisung":"Grid Export"}),r(P.button,{className:"info-icon-button",onClick:O=>{O.stopPropagation(),M("grid_return"),A(!0)},whileHover:{scale:1.1},whileTap:{scale:.95},style:{background:"none",border:"none",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",color:"rgba(0, 122, 255, 0.8)"},children:r("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[r("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeWidth:"1.5"}),r("path",{d:"M8 7V11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),r("circle",{cx:"8",cy:"5",r:"0.75",fill:"currentColor"})]})})]}),r("div",{className:"ios-item-subtitle",children:(()=>{const O=e.attributes?.grid_return_sensor;if(!O)return q==="de"?"Nicht konfiguriert":"Not configured";const $=J(O);return`${O.split(".")[1]}  ${$.value} ${$.unit}`})()})]})}),r("div",{className:"ios-item-right",children:r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{p("solar"),m("sensors"),h(!0)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",style:{display:"flex",alignItems:"center",gap:"8px"},children:[r("span",{children:q==="de"?"PV Leistung":"PV Power"}),r(P.button,{className:"info-icon-button",onClick:O=>{O.stopPropagation(),M("solar"),A(!0)},whileHover:{scale:1.1},whileTap:{scale:.95},style:{background:"none",border:"none",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",color:"rgba(0, 122, 255, 0.8)"},children:r("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[r("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeWidth:"1.5"}),r("path",{d:"M8 7V11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),r("circle",{cx:"8",cy:"5",r:"0.75",fill:"currentColor"})]})})]}),r("div",{className:"ios-item-subtitle",children:(()=>{const O=e.attributes?.solar_sensor;if(!O)return q==="de"?"Nicht konfiguriert":"Not configured";const $=J(O);return`${O.split(".")[1]}  ${$.value} ${$.unit}`})()})]})}),r("div",{className:"ios-item-right",children:r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{p("consumption"),m("sensors"),h(!0)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",style:{display:"flex",alignItems:"center",gap:"8px"},children:[r("span",{children:q==="de"?"Verbrauch":"Consumption"}),r(P.button,{className:"info-icon-button",onClick:O=>{O.stopPropagation(),M("consumption"),A(!0)},whileHover:{scale:1.1},whileTap:{scale:.95},style:{background:"none",border:"none",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",color:"rgba(0, 122, 255, 0.8)"},children:r("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[r("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeWidth:"1.5"}),r("path",{d:"M8 7V11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),r("circle",{cx:"8",cy:"5",r:"0.75",fill:"currentColor"})]})})]}),r("div",{className:"ios-item-subtitle",children:(()=>{const O=e.attributes?.consumption_sensor;if(!O)return q==="de"?"Nicht konfiguriert":"Not configured";const $=J(O);return`${O.split(".")[1]}  ${$.value} ${$.unit}`})()})]})}),r("div",{className:"ios-item-right",children:r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{p("estimated_power"),m("sensors"),h(!0)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",style:{display:"flex",alignItems:"center",gap:"8px"},children:[r("span",{children:q==="de"?"Geschtzte Leistung":"Estimated Power"}),r(P.button,{className:"info-icon-button",onClick:O=>{O.stopPropagation(),M("estimated_power"),A(!0)},whileHover:{scale:1.1},whileTap:{scale:.95},style:{background:"none",border:"none",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",color:"rgba(0, 122, 255, 0.8)"},children:r("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[r("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeWidth:"1.5"}),r("path",{d:"M8 7V11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),r("circle",{cx:"8",cy:"5",r:"0.75",fill:"currentColor"})]})})]}),r("div",{className:"ios-item-subtitle",children:(()=>{const O=e.attributes?.estimated_power_sensor;if(!O)return q==="de"?"Nicht konfiguriert":"Not configured";const $=J(O);return`${O.split(".")[1]}  ${$.value} ${$.unit}`})()})]})}),r("div",{className:"ios-item-right",children:r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:q==="de"?"ENERGIE (WH/KWH)":"ENERGY (WH/KWH)"}),r("div",{className:"ios-card",children:[r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{p("kwh"),m("sensors"),h(!0)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",style:{display:"flex",alignItems:"center",gap:"8px"},children:[r("span",{children:q==="de"?"Bezogene Wirkenergie gesamt":"Total Active Energy Consumed"}),r(P.button,{className:"info-icon-button",onClick:O=>{O.stopPropagation(),M("kwh"),A(!0)},whileHover:{scale:1.1},whileTap:{scale:.95},style:{background:"none",border:"none",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",color:"rgba(0, 122, 255, 0.8)"},children:r("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[r("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeWidth:"1.5"}),r("path",{d:"M8 7V11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),r("circle",{cx:"8",cy:"5",r:"0.75",fill:"currentColor"})]})})]}),r("div",{className:"ios-item-subtitle",children:(()=>{const O=e.attributes?.kwh_sensor;if(!O)return q==="de"?"Nicht konfiguriert":"Not configured";const $=J(O);return`${O.split(".")[1]}  ${$.value} ${$.unit}`})()})]})}),r("div",{className:"ios-item-right",children:r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{p("pv_total"),m("sensors"),h(!0)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",style:{display:"flex",alignItems:"center",gap:"8px"},children:[r("span",{children:q==="de"?"PV kumulativ gesamt":"PV Cumulative Total"}),r(P.button,{className:"info-icon-button",onClick:O=>{O.stopPropagation(),M("pv_total"),A(!0)},whileHover:{scale:1.1},whileTap:{scale:.95},style:{background:"none",border:"none",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",color:"rgba(0, 122, 255, 0.8)"},children:r("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[r("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeWidth:"1.5"}),r("path",{d:"M8 7V11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),r("circle",{cx:"8",cy:"5",r:"0.75",fill:"currentColor"})]})})]}),r("div",{className:"ios-item-subtitle",children:(()=>{const O=e.attributes?.pv_total_sensor;if(!O)return q==="de"?"Nicht konfiguriert":"Not configured";const $=J(O);return`${O.split(".")[1]}  ${$.value} ${$.unit}`})()})]})}),r("div",{className:"ios-item-right",children:r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{p("estimated_energy_today"),m("sensors"),h(!0)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",style:{display:"flex",alignItems:"center",gap:"8px"},children:[r("span",{children:q==="de"?"Geschtzte Erzeugung heute":"Estimated Production Today"}),r(P.button,{className:"info-icon-button",onClick:O=>{O.stopPropagation(),M("estimated_energy_today"),A(!0)},whileHover:{scale:1.1},whileTap:{scale:.95},style:{background:"none",border:"none",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",color:"rgba(0, 122, 255, 0.8)"},children:r("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[r("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeWidth:"1.5"}),r("path",{d:"M8 7V11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),r("circle",{cx:"8",cy:"5",r:"0.75",fill:"currentColor"})]})})]}),r("div",{className:"ios-item-subtitle",children:(()=>{const O=e.attributes?.estimated_energy_today_sensor;if(!O)return q==="de"?"Nicht konfiguriert":"Not configured";const $=J(O);return`${O.split(".")[1]}  ${$.value} ${$.unit}`})()})]})}),r("div",{className:"ios-item-right",children:r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item-clickable",onClick:()=>{p("grid_export_total"),m("sensors"),h(!0)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",style:{display:"flex",alignItems:"center",gap:"8px"},children:[r("span",{children:q==="de"?"Einspeisung gesamt":"Grid Export Total"}),r(P.button,{className:"info-icon-button",onClick:O=>{O.stopPropagation(),M("grid_export_total"),A(!0)},whileHover:{scale:1.1},whileTap:{scale:.95},style:{background:"none",border:"none",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",color:"rgba(0, 122, 255, 0.8)"},children:r("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[r("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeWidth:"1.5"}),r("path",{d:"M8 7V11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),r("circle",{cx:"8",cy:"5",r:"0.75",fill:"currentColor"})]})})]}),r("div",{className:"ios-item-subtitle",children:(()=>{const O=e.attributes?.grid_export_total_sensor;if(!O)return q==="de"?"Nicht konfiguriert":"Not configured";const $=J(O);return`${O.split(".")[1]}  ${$.value} ${$.unit}`})()})]})}),r("div",{className:"ios-item-right",children:r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:q==="de"?"BATTERIE":"BATTERY"}),r("div",{className:"ios-card",children:[r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{p("battery_discharged"),m("sensors"),h(!0)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",style:{display:"flex",alignItems:"center",gap:"8px"},children:[r("span",{children:q==="de"?"Entladen (kWh)":"Discharged (kWh)"}),r(P.button,{className:"info-icon-button",onClick:O=>{O.stopPropagation(),M("battery_discharged"),A(!0)},whileHover:{scale:1.1},whileTap:{scale:.95},style:{background:"none",border:"none",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",color:"rgba(0, 122, 255, 0.8)"},children:r("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[r("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeWidth:"1.5"}),r("path",{d:"M8 7V11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),r("circle",{cx:"8",cy:"5",r:"0.75",fill:"currentColor"})]})})]}),r("div",{className:"ios-item-subtitle",children:(()=>{const O=e.attributes?.battery_discharged_sensor;if(!O)return q==="de"?"Nicht konfiguriert":"Not configured";const $=J(O);return`${O.split(".")[1]}  ${$.value} ${$.unit}`})()})]})}),r("div",{className:"ios-item-right",children:r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{p("battery_charged"),m("sensors"),h(!0)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",style:{display:"flex",alignItems:"center",gap:"8px"},children:[r("span",{children:q==="de"?"Geladen (kWh)":"Charged (kWh)"}),r(P.button,{className:"info-icon-button",onClick:O=>{O.stopPropagation(),M("battery_charged"),A(!0)},whileHover:{scale:1.1},whileTap:{scale:.95},style:{background:"none",border:"none",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",color:"rgba(0, 122, 255, 0.8)"},children:r("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[r("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeWidth:"1.5"}),r("path",{d:"M8 7V11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),r("circle",{cx:"8",cy:"5",r:"0.75",fill:"currentColor"})]})})]}),r("div",{className:"ios-item-subtitle",children:(()=>{const O=e.attributes?.battery_charged_sensor;if(!O)return q==="de"?"Nicht konfiguriert":"Not configured";const $=J(O);return`${O.split(".")[1]}  ${$.value} ${$.unit}`})()})]})}),r("div",{className:"ios-item-right",children:r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})]}),r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:q==="de"?"TARIFE":"TARIFFS"}),r("div",{className:"ios-card",children:[r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{p("feed_in_tariff"),m("sensors"),h(!0)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",style:{display:"flex",alignItems:"center",gap:"8px"},children:[r("span",{children:q==="de"?"Einspeisetarif":"Feed-in Tariff"}),r(P.button,{className:"info-icon-button",onClick:O=>{O.stopPropagation(),M("feed_in_tariff"),A(!0)},whileHover:{scale:1.1},whileTap:{scale:.95},style:{background:"none",border:"none",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",color:"rgba(0, 122, 255, 0.8)"},children:r("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[r("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeWidth:"1.5"}),r("path",{d:"M8 7V11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),r("circle",{cx:"8",cy:"5",r:"0.75",fill:"currentColor"})]})})]}),r("div",{className:"ios-item-subtitle",children:(()=>{const O=e.attributes?.feed_in_tariff_sensor;if(!O)return q==="de"?"Nicht konfiguriert":"Not configured";const $=J(O);return`${O.split(".")[1]}  ${$.value} ${$.unit}`})()})]})}),r("div",{className:"ios-item-right",children:r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),r("div",{className:"ios-divider"}),r(P.div,{className:"ios-item ios-item-clickable",onClick:()=>{p("purchase_tariff"),m("sensors"),h(!0)},children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",style:{display:"flex",alignItems:"center",gap:"8px"},children:[r("span",{children:q==="de"?"Bezugstarif":"Purchase Tariff"}),r(P.button,{className:"info-icon-button",onClick:O=>{O.stopPropagation(),M("purchase_tariff"),A(!0)},whileHover:{scale:1.1},whileTap:{scale:.95},style:{background:"none",border:"none",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",color:"rgba(0, 122, 255, 0.8)"},children:r("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[r("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeWidth:"1.5"}),r("path",{d:"M8 7V11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),r("circle",{cx:"8",cy:"5",r:"0.75",fill:"currentColor"})]})})]}),r("div",{className:"ios-item-subtitle",children:(()=>{const O=e.attributes?.purchase_tariff_sensor;if(!O)return q==="de"?"Nicht konfiguriert":"Not configured";const $=J(O);return`${O.split(".")[1]}  ${$.value} ${$.unit}`})()})]})}),r("div",{className:"ios-item-right",children:r("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:r("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})]})]}),r(De,{scrollContainerRef:j,isHovered:z})]},"sensors"):v==="circular-overview"?r(P.div,{custom:1,variants:_e,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>B(!0),onMouseLeave:()=>B(!1),style:{position:"relative"},children:[r("div",{className:"ios-navbar",children:[r("button",{className:"ios-navbar-back",onClick:()=>w("main"),children:[r("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:r("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),r("span",{children:q==="de"?"Zurck":"Back"})]}),r("div",{className:"ios-navbar-title",children:"Circular"})]}),r("div",{ref:j,className:"ios-settings-view",children:r("div",{className:"ios-section",children:r("div",{className:"ios-card",children:S&&typeof S=="object"&&!Array.isArray(S)&&Object.keys(S).map((O,$)=>{const ne=S[O];if(!ne||typeof ne!="object")return null;const le=K(O),pe=le.primary&&le.secondary;return r("div",{children:[$>0&&r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:ue(O)}),r("div",{className:"ios-item-subtitle",children:pe?q==="de"?"Konfiguriert":"Configured":q==="de"?"Sensoren fehlen":"Missing sensors"})]})}),r("div",{className:"ios-item-right",children:pe&&r("label",{className:"ios-toggle",children:[r("input",{type:"checkbox",checked:ne.enabled||!1,onChange:()=>H(O,!ne.enabled)}),r("span",{className:"ios-toggle-slider"})]})})]})]},O)})})})}),r(De,{scrollContainerRef:j,isHovered:z})]},"circular-overview"):null})}),r(Te,{children:V&&F&&r(P.div,{className:"info-overlay-backdrop",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>A(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(10px)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:r(P.div,{className:"info-overlay-content",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:O=>O.stopPropagation(),style:{backgroundColor:"rgba(30, 30, 30, 0.95)",borderRadius:"20px",padding:"24px",maxWidth:"400px",width:"100%",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5)"},children:[r("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"16px"},children:r(P.button,{onClick:()=>A(!1),whileHover:{scale:1.1},whileTap:{scale:.9},style:{background:"none",border:"none",color:"rgba(255, 255, 255, 0.5)",fontSize:"24px",cursor:"pointer",padding:"0",lineHeight:"1"},children:""})}),r("h3",{style:{margin:"0 0 12px 0",fontSize:"20px",fontWeight:"600",color:"#fff",lineHeight:"1.3"},children:E[F]?.[q]||"Sensor"}),r("p",{style:{margin:0,fontSize:"15px",lineHeight:"1.6",color:"rgba(255, 255, 255, 0.7)"},children:ee[F]?.[q]||(q==="de"?"Keine Information verfgbar.":"No information available.")})]})})})]})});if(a){const O=e.attributes?.camera_entity_id;console.log(" === CAMERA DEBUG ==="),console.log(" Camera Entity ID from attributes:",O),console.log(" Entity attributes:",e.attributes),console.log(" Entity serial:",e.attributes?.serial);let $=O,ne=null;if(!O&&t?.states){const pe=e.attributes?.serial;if(pe){const W=Object.keys(t.states).find(Z=>{const de=Z.toLowerCase();return de.startsWith("camera.")&&de.includes(pe.toLowerCase())&&(de.endsWith("_kamera")||de.endsWith("_camera"))});if(W)$=W,console.log(" Found camera entity via fallback search:",W);else{const Z=Object.keys(t.states).filter(de=>de.startsWith("camera."));console.log(" All available camera entities:",Z)}}}$&&t?.states&&(ne=t.states[$],console.log(" Camera state object:",ne),console.log(" Camera entity_picture:",ne?.attributes?.entity_picture));const le=Re(()=>{let pe=null;return ne?.attributes?.entity_picture?(pe=ne.attributes.entity_picture,console.log(" Using entity_picture:",pe)):$&&(pe=`/api/camera_proxy/${$}`,console.log(" Using camera_proxy:",pe)),pe&&xe&&(pe=`${pe}${pe.includes("?")?"&":"?"}t=${xe}`),pe},[ne,$,xe]);return r("div",{className:"energy-device-view",style:{display:"flex",flexDirection:"column",height:"100%",position:"relative"},children:r("div",{className:"tab-content-container",style:{display:"block",height:"100%",padding:"0",overflow:"hidden",borderRadius:"20px"},children:le?r("img",{src:le,alt:"Energy Camera",onError:pe=>{console.error("  Failed to load camera image"),console.log(" Attempted URL:",pe.target.src),console.log(" Entity ID used:",$),console.log(" Camera state:",ne),pe.target.style.display="none";const W=document.createElement("div");W.style.cssText="text-align: center; color: rgba(255, 255, 255, 0.8); padding: 20px;",W.innerHTML=`
                  <p style="margin-bottom: 10px; font-size: 14px;"> Kamera konnte nicht geladen werden</p>
                  <p style="font-size: 11px; opacity: 0.6; margin-bottom: 5px;">Entity: ${$}</p>
                  <p style="font-size: 11px; opacity: 0.6;">URL: ${pe.target.src}</p>
                  <p style="font-size: 11px; opacity: 0.6; margin-top: 10px;">Fehler: 403 Forbidden - Zugriff verweigert</p>
                  <p style="font-size: 11px; opacity: 0.6;">Versuchen Sie, die Kamera-Entity neu zu laden</p>
                `,pe.target.parentNode.appendChild(W)},onLoad:()=>{console.log("  Camera image loaded successfully"),console.log(" Entity ID:",$),console.log(" Image source:",le)},style:{display:"block",width:"100%",height:"auto",maxHeight:"100%",maxWidth:"100%",borderRadius:"20px",objectFit:"cover"}}):r("div",{style:{textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:[r("p",{style:{marginBottom:"10px"},children:q==="de"?" Keine Kamera gefunden":" No camera found"}),r("p",{style:{fontSize:"12px",opacity:.6},children:["Energy: ",e.id]}),r("p",{style:{fontSize:"11px",opacity:.5,marginTop:"10px"},children:["Serial: ",e.attributes?.serial]})]})})})}if(c){const O=e.attributes?.serial;console.log(" === IMAGE DEBUG ==="),console.log(" Entity serial:",O),console.log(" Looking for image entity: image.a1_"+O?.toLowerCase()+"_titelbild");let $=null,ne=null;if(O&&t?.states)if($=Object.keys(t.states).find(pe=>{const W=pe.toLowerCase();return W.startsWith("image.")&&W.includes(O.toLowerCase())&&W.endsWith("_titelbild")}),$)console.log(" Found image entity:",$);else{const pe=Object.keys(t.states).filter(W=>W.startsWith("image."));console.log(" All available image entities:",pe)}$&&t?.states&&(ne=t.states[$],console.log(" Image state object:",ne),console.log(" Image entity_picture:",ne?.attributes?.entity_picture),console.log(" Image access_token:",ne?.attributes?.access_token));let le=null;return ne?.attributes?.entity_picture?(le=ne.attributes.entity_picture,console.log(" Using entity_picture:",le),ne.attributes.access_token&&(le=`${le}${le.includes("?")?"&":"?"}token=${ne.attributes.access_token}`)):ne?.state&&ne.state!=="unavailable"&&(le=ne.state,console.log(" Using state as image source:",le)),r("div",{className:"energy-device-view",style:{display:"flex",flexDirection:"column",height:"100%",position:"relative"},children:r("div",{className:"tab-content-container",style:{display:"block",height:"100%",padding:"0",overflow:"hidden",borderRadius:"20px"},children:le?r("img",{src:le,alt:"Energy Titelbild",onError:pe=>{console.error("  Failed to load image"),console.log(" Attempted URL:",pe.target.src),console.log(" Entity ID used:",$),console.log(" Image state:",ne),pe.target.style.display="none";const W=document.createElement("div");W.style.cssText="text-align: center; color: rgba(255, 255, 255, 0.8); padding: 20px;",W.innerHTML=`
                  <p style="margin-bottom: 10px; font-size: 14px;"> Bild konnte nicht geladen werden</p>
                  <p style="font-size: 11px; opacity: 0.6; margin-bottom: 5px;">Entity: ${$}</p>
                  <p style="font-size: 11px; opacity: 0.6;">URL: ${pe.target.src}</p>
                  <p style="font-size: 11px; opacity: 0.6; margin-top: 10px;">Fehler: Zugriff verweigert</p>
                `,pe.target.parentNode.appendChild(W)},onLoad:()=>{console.log("  Image loaded successfully"),console.log(" Entity ID:",$),console.log(" Image source:",le)},style:{display:"block",width:"100%",height:"auto",maxHeight:"100%",maxWidth:"100%",borderRadius:"20px",objectFit:"cover"}}):r("div",{style:{textAlign:"center",color:"rgba(255, 255, 255, 0.6)",padding:"20px"},children:[r("p",{style:{marginBottom:"10px"},children:q==="de"?" Kein Titelbild gefunden":" No title image found"}),r("p",{style:{fontSize:"12px",opacity:.6},children:["Energy: ",e.id]}),r("p",{style:{fontSize:"11px",opacity:.5,marginTop:"10px"},children:["Serial: ",O]}),r("p",{style:{fontSize:"11px",opacity:.5,marginTop:"5px"},children:["Erwartete Entity: image.a1_",O?.toLowerCase(),"_titelbild"]})]})})})}const fe=Q[k]||Q[0],G=Re(()=>{if(!fe||!fe.type)return e;const O=K(fe.type);return{...e,attributes:{...e.attributes,_display_primary:O.primary,_display_secondary:O.secondary,_display_primary_type:fe.type,_display_secondary_type:fe.type}}},[e,fe]);return r("div",{className:"energy-device-view",style:{display:"flex",flexDirection:"column",height:"100%",position:"relative"},onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),children:[r(Yo,{item:G,hass:t,lang:n,onServiceCall:i,slideShowKey:k,expandedControl:T,setExpandedControl:R}),Q.length>1&&!T&&r("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"8px",alignItems:"center",padding:"8px 16px",background:"rgba(0, 0, 0, 0.3)",backdropFilter:"blur(10px)",borderRadius:"20px",zIndex:10},children:Q.map((O,$)=>r(P.div,{onClick:()=>N($),animate:{width:k===$?"24px":"8px",backgroundColor:k===$?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.4)"},transition:{duration:.3,ease:"easeOut"},style:{height:"8px",borderRadius:"4px",cursor:"pointer"}},$))})]})},FD=Object.freeze(Object.defineProperty({__proto__:null,EnergyDashboardDeviceView:hm,default:hm},Symbol.toStringTag,{value:"Module"})),fm=({entity:e,hass:t,lang:n="de"})=>{const[i,s]=D({});return Y(()=>{if(!e||!t)return;const o={printSpeed:e.attributes?.print_speed||100,fanSpeed:e.attributes?.fan_speed||100,chamberLight:e.attributes?.chamber_light||!1,targetNozzle:e.attributes?.target_nozzle_temp||220,targetBed:e.attributes?.target_bed_temp||60};s(o)},[e,t]),r("div",{className:"controls-content",children:[r("div",{className:"ios-control-row",children:[r("div",{className:"ios-control-label",children:n==="de"?"Druckgeschwindigkeit":"Print Speed"}),r("input",{type:"range",min:"50",max:"200",defaultValue:i.printSpeed||100,className:"ios-slider"}),r("span",{className:"ios-value",children:[i.printSpeed||100,"%"]})]}),r("div",{className:"ios-control-row",children:[r("div",{className:"ios-control-label",children:n==="de"?"Druckkopflfter":"Part Cooling Fan"}),r("input",{type:"range",min:"0",max:"100",defaultValue:i.fanSpeed||100,className:"ios-slider"}),r("span",{className:"ios-value",children:[i.fanSpeed||100,"%"]})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-control-row",children:[r("div",{className:"ios-control-label",children:n==="de"?"Druckraumbeleuchtung":"Chamber Light"}),r("label",{className:"ios-switch",children:[r("input",{type:"checkbox",defaultChecked:i.chamberLight}),r("span",{className:"ios-switch-slider"})]})]}),r("div",{className:"ios-control-row",children:[r("div",{className:"ios-control-label",children:n==="de"?"Aufforderungston":"Sound Alerts"}),r("label",{className:"ios-switch",children:[r("input",{type:"checkbox"}),r("span",{className:"ios-switch-slider"})]})]}),r("div",{className:"ios-control-row",children:[r("div",{className:"ios-control-label",children:n==="de"?"Bildsensorkamera":"Image Sensor Camera"}),r("label",{className:"ios-switch",children:[r("input",{type:"checkbox"}),r("span",{className:"ios-switch-slider"})]})]}),r("div",{className:"ios-divider"}),r("div",{className:"ios-control-row tappable",children:[r("div",{className:"ios-control-label",children:n==="de"?"Zieltemperatur der Dse":"Target Nozzle Temp"}),r("div",{className:"ios-value",children:[i.targetNozzle||220,"C"]}),r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"chevron-icon",children:r("path",{d:"M9 18l6-6-6-6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),r("div",{className:"ios-control-row tappable",children:[r("div",{className:"ios-control-label",children:n==="de"?"Zieltemperatur des Druckbetts":"Target Bed Temp"}),r("div",{className:"ios-value",children:[i.targetBed||60,"C"]}),r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"chevron-icon",children:r("path",{d:"M9 18l6-6-6-6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),r("div",{className:"ios-divider"}),r("button",{className:"ios-action-button pause",children:[" ",n==="de"?"Druckvorgang anhalten":"Pause Print"]}),r("button",{className:"ios-action-button stop",children:[" ",n==="de"?"Druckvorgang beenden":"Stop Print"]}),r("button",{className:"ios-action-button resume",children:[" ",n==="de"?"Druckvorgang fortsetzen":"Resume Print"]}),r("button",{className:"ios-action-button camera",children:[" ",n==="de"?"Kamera aktivieren":"Activate Camera"]})]})},pm=Object.freeze(Object.defineProperty({__proto__:null,EnergyControlsTab:fm,default:fm},Symbol.toStringTag,{value:"Module"})),mm=({entity:e,hass:t,lang:n="de"})=>{const[i,s]=D({});Y(()=>{const m=async()=>{if(!e||!t)return;const b=await e.executeAction("getEnergyData",{hass:t});b&&s(b)};m();const y=setInterval(m,5e3);return()=>clearInterval(y)},[e,t]);const o=(m,y=null)=>{if(!m||m==="unavailable")return"--";const b=parseFloat(m);if(isNaN(b))return"--";if(y&&y!=="unavailable"){const v=parseFloat(y);if(!isNaN(v)&&v>0)return`${Math.round(b)}C  ${Math.round(v)}C`}return`${Math.round(b)}C`},a=i.currentStep||(n==="de"?"Bereit":"Ready"),l=()=>{const m=[];return i.nozzleSize&&i.nozzleSize!=="unavailable"&&m.push(i.nozzleSize),i.nozzleType&&i.nozzleType!=="unavailable"&&m.push(i.nozzleType),m.length===0?n==="de"?"Nicht verfgbar":"Not available":m.join(", ")},c=()=>{const m=o(i.bedTemp,i.targetBed),y=o(i.nozzleTemp,i.targetNozzle);return`Druckbett: ${m} | Dse: ${y}`},d=m=>!m||m==="unavailable"?n==="de"?"Unbekannt":"Unknown":m,u=parseFloat(i.progress)||0,h=(i.currentStep||"").toLowerCase(),f=["idle","offline","unavailable","unknown"].includes(h),p=u>0&&!f,g={value:u,min:0,max:100,unit:"%",label:n==="de"?"Druckfortschritt":"Print Progress",subValue:c(),color:p?"rgb(48, 209, 88)":"rgba(255, 255, 255, 0.3)",readOnly:!0,showPower:!1,progressMode:!1};return r("div",{className:"printer-overview-container",children:[r("div",{className:"printer-header-info",children:[r("div",{className:"printer-info-row",children:[r("span",{className:"info-label",children:n==="de"?"Arbeitsschritt":"Current Step"}),r("span",{className:"info-value",children:a})]}),r("div",{className:"printer-info-row",children:[r("span",{className:"info-label",children:n==="de"?"Dse":"Nozzle"}),r("span",{className:"info-value",children:l()})]})]}),r("div",{className:"printer-progress-section",children:r(Oo,{...g})}),r("div",{className:"printer-time-info",children:[r("span",{className:"time-label",children:n==="de"?"Verbleibende Zeit":"Remaining Time"}),r("span",{className:"time-value",children:d(i.remainingTime)})]})]})},PD=Object.freeze(Object.defineProperty({__proto__:null,EnergyOverviewTab:mm,default:mm},Symbol.toStringTag,{value:"Module"})),gm=({entity:e,hass:t,lang:n="de"})=>r(Eo,{item:e,hass:t,lang:n,viewType:"netusage"}),ID=Object.freeze(Object.defineProperty({__proto__:null,EnergyDiagnosticsTab:gm,default:gm},Symbol.toStringTag,{value:"Module"}));function RD({tempLow:e,tempHigh:t,currentTemp:n=null,globalMin:i,globalMax:s,isToday:o=!1}){const a=s-i,l=(e-i)/a*100,c=(t-e)/a*100;let d=null;if(o&&n!==null){const u=(n-e)/(t-e);d=l+c*u}return r("div",{className:"temperature-bar-container",children:r("div",{className:"temperature-bar-track",children:r("div",{className:"temperature-bar-range",style:{left:`${l}%`,width:`${c}%`},children:o&&d!==null&&r("div",{className:"temperature-bar-current",style:{left:`${(n-e)/(t-e)*100}%`}})})})})}function BD(e){if(!e||e.length===0)return{min:0,max:30};const t=e.flatMap(n=>[n.templow||n.temperature,n.temperature]).filter(n=>n!=null);return{min:Math.min(...t),max:Math.max(...t)}}function zD(e,t,n="de"){const i=[];if(e.apparent_temperature!==void 0&&e.temperature!==void 0&&Math.abs(e.apparent_temperature-e.temperature)>2){const o=Math.round(e.apparent_temperature);i.push(n==="de"?`Fhlt sich an wie ${o}`:`Feels like ${o}`)}if(e.cloud_coverage!==void 0){const s=e.cloud_coverage;let o="";n==="de"?s>=90?o="Bedeckt den ganzen Tag":s>=70?o="Stark bewlkt":s>=40?o="Teils bewlkt":s>=20?o="Leicht bewlkt":o="Klar":s>=90?o="Overcast all day":s>=70?o="Mostly cloudy":s>=40?o="Partly cloudy":s>=20?o="Mostly clear":o="Clear",i.push(o)}if(t&&t.precipitation_probability!==void 0&&t.precipitation_probability>20){const s=Math.round(t.precipitation_probability);i.push(n==="de"?`${s}% Regenwahrscheinlichkeit`:`${s}% chance of rain`)}if(e.visibility!==void 0&&e.visibility<10){const s=Math.round(e.visibility);i.push(n==="de"?`Sicht ${s} km`:`Visibility ${s} km`)}if(e.wind_gust_speed!==void 0&&e.wind_gust_speed>40){const s=Math.round(e.wind_gust_speed);i.push(n==="de"?`Windben bis ${s} km/h`:`Wind gusts up to ${s} km/h`)}return i.join(". ")+(i.length>0?".":"")}function VD({currentWeather:e,forecast:t,lang:n="de"}){if(!e)return null;const i=zD(e,t,n);return i?r("div",{className:"weather-summary-text",children:i}):null}const ym={hidden:{opacity:0,scale:.8,transition:{duration:.15,ease:[.4,0,1,1]}},visible:{opacity:1,scale:1,backgroundColor:"rgba(0, 0, 0, 0.5)",transition:{duration:.25,ease:[.25,.46,.45,.94]}},hover:{scale:1.15,backgroundColor:"rgba(255, 255, 255, 0.25)",transition:{duration:.2}}};function OD({hourlyData:e=[],currentWeather:t=null,todayForecast:n=null,lang:i="de"}){const[s,o]=D(!1),[a,l]=D(!1),c=oe(null);if(!e||e.length===0)return null;const d=()=>{if(!c.current)return;const{scrollLeft:f,scrollWidth:p,clientWidth:g}=c.current;o(f>0),l(f<p-g-5)};Y(()=>{d();const f=c.current;if(f)return f.addEventListener("scroll",d),window.addEventListener("resize",d),()=>{f.removeEventListener("scroll",d),window.removeEventListener("resize",d)}},[e]);const u=(f,p)=>{if(f.preventDefault(),!c.current)return;const g=300,m=c.current.scrollLeft,y=p==="left"?m-g:m+g;c.current.scrollTo({left:y,behavior:"smooth"})},h=f=>{const g=new Date(f).getHours();return e[0]===e.find(m=>m.datetime===f)?"Jetzt":`${g}:00`};return r("div",{className:"hourly-forecast",style:{position:"relative"},children:[r(VD,{currentWeather:t,forecast:n,lang:i}),r("div",{className:"hourly-forecast-scroll",ref:c,children:e.slice(0,24).map((f,p)=>r(P.div,{className:"hourly-forecast-item",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{type:"spring",damping:25,stiffness:120,delay:.02*p},children:[r("div",{className:"hourly-time",children:h(f.datetime)}),r("div",{className:"hourly-icon",children:os(f.condition,22,"#FFFFFF",!0)}),r("div",{className:"hourly-temp",children:[Math.round(f.temperature),""]}),f.precipitation_probability!==void 0&&f.precipitation_probability>0&&r("div",{className:"hourly-precipitation",children:[r(py,{size:12,color:"white"}),r("span",{children:[Math.round(f.precipitation_probability),"%"]})]})]},f.datetime||p))}),r(Te,{children:s&&r(P.div,{className:"scroll-indicator scroll-indicator-left",onClick:f=>u(f,"left"),variants:ym,initial:"hidden",animate:"visible",exit:"hidden",whileHover:"hover",whileTap:{scale:.95},children:r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r("polyline",{points:"15 18 9 12 15 6"})})})}),r(Te,{children:a&&r(P.div,{className:"scroll-indicator scroll-indicator-right",onClick:f=>u(f,"right"),variants:ym,initial:"hidden",animate:"visible",exit:"hidden",whileHover:"hover",whileTap:{scale:.95},children:r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r("polyline",{points:"9 18 15 12 9 6"})})})})]})}function WD({value:e,className:t=""}){const n=Vo(e,{damping:20,stiffness:100,mass:.5});Y(()=>{n.set(e)},[e,n]);const i=fi(n,s=>Math.round(s));return r(P.span,{className:t,children:i})}function HD({entity:e,hass:t,lang:n="de",onBack:i,onNavigate:s,onServiceCall:o}){const[a,l]=D(null),[c,d]=D([]),[u,h]=D([]),[f,p]=D(!0),[g,m]=D(null),[y,b]=D([]),[v,w]=D(null);Y(()=>{console.log(" WeatherView mounted/updated"),console.log("   - entity:",e),console.log("   - entity.id:",e?.id),console.log("   - entity.domain:",e?.domain),console.log("   - entity.executeAction:",typeof e?.executeAction),console.log("   - hass exists:",!!t),console.log("   - hass.states exists:",!!t?.states),S()},[v]);const S=async()=>{p(!0),m(null);try{if(!e||typeof e.executeAction!="function")throw console.error("Entity does not have executeAction method:",e),new Error("Invalid entity instance");const k=await e.executeAction("getCurrentWeather",{hass:t,entity_id:v});if(!k)throw new Error("No weather data returned");l(k);const N=await e.executeAction("getForecast",{hass:t,entity_id:v,type:"daily"});d(N||[]);try{const L=await e.executeAction("getForecast",{hass:t,entity_id:v,type:"hourly"});h(L||[])}catch(L){console.warn("Hourly forecast not available:",L),h([])}e.attributes.locations&&e.attributes.locations.length>0&&b(e.attributes.locations)}catch(k){console.error("Failed to load weather data:",k),m(n==="en"?"Failed to load weather data":"Wetterdaten konnten nicht geladen werden")}finally{p(!1)}},x=k=>{const N=n==="en"?["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]:["So","Mo","Di","Mi","Do","Fr","Sa"],L=new Date(k);return N[L.getDay()]};return f?r("div",{className:"weather-view",children:r("div",{className:"weather-loading",children:r("div",{className:"loading-spinner",children:n==="en"?"Loading weather data...":"Ldt Wetterdaten..."})})}):g||!a?r("div",{className:"weather-view",children:r("div",{className:"weather-error",children:[r("div",{style:{fontSize:"48px",opacity:.5},children:""}),r("p",{children:g||(n==="en"?"No weather data available":"Keine Wetterdaten verfgbar")}),r("button",{onClick:S,className:"retry-button",children:n==="en"?"Retry":"Erneut versuchen"})]})}):r("div",{className:"weather-view",children:[y.length>0&&r("div",{className:"weather-location-selector",children:r("select",{value:v||"",onChange:k=>w(k.target.value||null),className:"location-dropdown",children:[r("option",{value:"",children:n==="en"?"Default":"Standard"}),y.map(k=>r("option",{value:k.entity_id,children:[k.name," ",k.is_primary?"":""]},k.id))]})}),r(P.div,{className:"weather-current",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{type:"spring",damping:20,stiffness:100},children:[r("div",{className:"weather-location",children:a.friendly_name||a.location||e?.attributes?.friendly_name||e?.name||(n==="en"?"Weather":"Wetter")}),r("div",{className:"weather-temperature-large",children:[r(WD,{value:a.temperature,className:"temp-number"}),r("span",{className:"temp-unit",children:""})]}),r("div",{className:"weather-condition",children:$D(a.condition,n)}),c.length>0&&r("div",{className:"weather-high-low",children:["H:",Math.round(c[0].temperature)," T:",Math.round(c[0].templow||c[0].temperature-5),""]}),r("div",{className:"weather-icon-large",children:r(HN,{condition:a.condition,size:96,color:"#FFFFFF",animated:!0})}),r("div",{className:"weather-metrics",children:[a.humidity!==void 0&&r("div",{className:"metric",children:[r("div",{className:"metric-icon",children:r(py,{size:20,color:"white"})}),r("div",{className:"metric-value",children:[Math.round(a.humidity),"%"]})]}),a.wind_speed!==void 0&&r("div",{className:"metric",children:[r("div",{className:"metric-icon",children:r(ON,{size:20,color:"white"})}),r("div",{className:"metric-value",children:[Math.round(a.wind_speed)," ",a.wind_speed_unit]})]}),a.pressure!==void 0&&r("div",{className:"metric",children:[r("div",{className:"metric-icon",children:r(WN,{size:20,color:"white"})}),r("div",{className:"metric-value",children:[Math.round(a.pressure)," ",a.pressure_unit]})]})]})]}),a.apparent_temperature!==void 0&&r("div",{className:"weather-feels-like",children:[n==="en"?"Feels like":"Fhlt sich an wie"," ",Math.round(a.apparent_temperature),". ",a.condition_description||(a.precipitation_probability>0?n==="en"?"Cloudy.":"Leicht bewlkt.":n==="en"?"Clear.":"Klar.")]}),u.length>0&&r(OD,{hourlyData:u,currentWeather:a,todayForecast:c.length>0?c[0]:null,lang:n}),c.length>0&&(()=>{const{min:k,max:N}=BD(c.slice(0,10));return r(P.div,{className:"weather-forecast",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{type:"spring",damping:20,stiffness:100,delay:.1},children:[r("h3",{className:"forecast-title",children:n==="en"?"10-Day Forecast":"10-Tage Vorhersage"}),r("div",{className:"forecast-list",children:c.slice(0,10).map((L,_)=>{const I=_===0;return r(P.div,{className:"forecast-day",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{type:"spring",damping:25,stiffness:120,delay:.05*_},children:[r("div",{className:"forecast-weekday",children:I?n==="en"?"Today":"Heute":x(L.datetime)}),r("div",{className:"forecast-icon",children:os(L.condition,22,"#FFFFFF",!0)}),r("div",{className:"forecast-precipitation",children:L.precipitation_probability!==void 0&&L.precipitation_probability>0?`${Math.round(L.precipitation_probability)}%`:r("span",{style:{opacity:.3},children:""})}),r("div",{className:"forecast-temp-container",children:[r("span",{className:"temp-low",children:[Math.round(L.templow||L.temperature-5),""]}),r(RD,{tempLow:L.templow||L.temperature-5,tempHigh:L.temperature,currentTemp:I?a.temperature:null,globalMin:k,globalMax:N,isToday:I}),r("span",{className:"temp-high",children:[Math.round(L.temperature),""]})]})]},L.datetime)})})]})})()]})}function $D(e,t){const n={de:{"clear-night":"Klare Nacht",cloudy:"Bewlkt",fog:"Nebel",hail:"Hagel",lightning:"Gewitter","lightning-rainy":"Gewitter mit Regen",partlycloudy:"Teilweise bewlkt","partly-cloudy":"Teilweise bewlkt",pouring:"Starkregen",rainy:"Regnerisch",snowy:"Schneefall","snowy-rainy":"Schneeregen",sunny:"Sonnig",windy:"Windig","windy-variant":"Strmisch",exceptional:"Auergewhnlich"},en:{"clear-night":"Clear night",cloudy:"Cloudy",fog:"Fog",hail:"Hail",lightning:"Lightning","lightning-rainy":"Thunderstorm",partlycloudy:"Partly cloudy","partly-cloudy":"Partly cloudy",pouring:"Pouring",rainy:"Rainy",snowy:"Snowy","snowy-rainy":"Sleet",sunny:"Sunny",windy:"Windy","windy-variant":"Stormy",exceptional:"Exceptional"}};return(n[t]||n.de)[e]||e}const jD=Object.freeze(Object.defineProperty({__proto__:null,default:HD},Symbol.toStringTag,{value:"Module"})),UD=[{id:"energy_dashboard",name_de:"Energie Dashboard",name_en:"Energy Dashboard",icon:"",description_de:"Home Assistant Energie Dashboard",description_en:"Home Assistant Energy Dashboard",available:!0},{id:"printer3d",name_de:"3D-Drucker",name_en:"3D Printer",icon:"",description_de:"Bambu Lab & andere 3D-Drucker",description_en:"Bambu Lab & other 3D printers",available:!0},{id:"weather",name_de:"Wetter",name_en:"Weather",icon:"",description_de:"Wettervorhersage & aktuelle Bedingungen",description_en:"Weather forecast & current conditions",available:!0},{id:"oven",name_de:"Backofen",name_en:"Oven",icon:"",description_de:"Smart Backfen & Herde",description_en:"Smart ovens & stoves",available:!1},{id:"dishwasher",name_de:"Splmaschine",name_en:"Dishwasher",icon:"",description_de:"Smart Geschirrspler",description_en:"Smart dishwashers",available:!1},{id:"vacuum",name_de:"Staubsauger",name_en:"Vacuum",icon:"",description_de:"Saugroboter & Staubsauger",description_en:"Robot vacuums & cleaners",available:!1},{id:"coffee",name_de:"Kaffeemaschine",name_en:"Coffee Maker",icon:"",description_de:"Smart Kaffeemaschinen",description_en:"Smart coffee makers",available:!1},{id:"shower",name_de:"Dusche",name_en:"Shower",icon:"",description_de:"Smart Duschen & Badezimmer",description_en:"Smart showers & bathrooms",available:!1}],GD=({hass:e,lang:t="de",onCategorySelect:n,onManagementOpen:i,deviceCount:s=0})=>{const o=oe(null),[a,l]=D(!1);return r(P.div,{className:"integration-category-view",ref:o,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[r("div",{className:"integration-header",children:[r("h2",{children:t==="de"?"Gert hinzufgen":"Add Device"}),r("p",{className:"integration-subtitle",children:t==="de"?"Whle eine Kategorie um ein neues Gert hinzuzufgen":"Choose a category to add a new device"})]}),s>0&&r(P.button,{className:"integration-management-button",onClick:i,whileHover:{scale:1.02},whileTap:{scale:.98},children:[r("span",{className:"management-icon",children:""}),r("span",{className:"management-text",children:t==="de"?`${s} Gerte verwalten`:`Manage ${s} devices`}),r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:r("path",{d:"M9 18l6-6-6-6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),r("div",{className:"integration-category-grid",children:UD.map((c,d)=>r(P.div,{className:`integration-category-card ${c.available?"":"disabled"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.05},whileHover:c.available?{scale:1.02}:{},whileTap:c.available?{scale:.98}:{},onClick:()=>{c.available&&n(c.id)},style:{cursor:c.available?"pointer":"not-allowed",opacity:c.available?1:.5},children:[r("div",{className:"integration-category-icon",children:c.icon}),r("div",{className:"integration-category-info",children:[r("h3",{className:"integration-category-name",children:t==="de"?c.name_de:c.name_en}),r("p",{className:"integration-category-description",children:t==="de"?c.description_de:c.description_en}),!c.available&&r("span",{className:"integration-category-badge",children:t==="de"?"Bald verfgbar":"Coming soon"})]})]},c.id))}),r(De,{scrollContainerRef:o,isHovered:a})]})},KD=e=>e==="printer3d"?r("svg",{width:"32",height:"32",viewBox:"0 0 24 24",strokeWidth:"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:"rgba(255, 255, 255, 0.8)"},children:[r("path",{d:"M2 19V5C2 3.89543 2.89543 3 4 3H20C21.1046 3 22 3.89543 22 5V19C22 20.1046 21.1046 21 20 21H4C2.89543 21 2 20.1046 2 19Z",stroke:"currentColor",strokeWidth:"1.5"}),r("path",{d:"M2 7L22 7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M5 5.01L5.01 4.99889",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M8 5.01L8.01 4.99889",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M11 5.01L11.01 4.99889",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}):{oven:"",dishwasher:"",vacuum:"",coffee:"",shower:""}[e]||"",qD=(e,t)=>({printer3d:{de:"3D-Drucker",en:"3D Printer"},oven:{de:"Backofen",en:"Oven"},dishwasher:{de:"Splmaschine",en:"Dishwasher"},vacuum:{de:"Staubsauger",en:"Vacuum"},coffee:{de:"Kaffeemaschine",en:"Coffee Maker"},shower:{de:"Dusche",en:"Shower"}})[e]?.[t]||e,YD=({devices:e=[],hass:t,lang:n="de",onDeviceRemove:i,onBack:s})=>{const[o,a]=D(null),l=c=>{i(c),a(null)};return r(P.div,{className:"integration-management-view",initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{duration:.3},children:[r("div",{className:"integration-header",children:[r("h2",{children:n==="de"?"Gerte verwalten":"Manage Devices"}),r("p",{className:"integration-subtitle",children:n==="de"?`${e.length} ${e.length===1?"Gert":"Gerte"} hinzugefgt`:`${e.length} ${e.length===1?"device":"devices"} added`})]}),e.length===0?r("div",{className:"integration-empty",children:[r("div",{className:"empty-icon",children:""}),r("h3",{children:n==="de"?"Keine Gerte":"No Devices"}),r("p",{children:n==="de"?"Du hast noch keine Gerte hinzugefgt.":"You haven't added any devices yet."})]}):r("div",{className:"integration-device-list",children:r(Te,{children:e.map((c,d)=>r(P.div,{className:"integration-device-item",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:d*.05},children:[r("div",{className:"integration-device-icon",children:KD(c.category)}),r("div",{className:"integration-device-info",children:[r("h3",{className:"integration-device-name",children:c.name}),r("p",{className:"integration-device-category",children:qD(c.category,n)}),c.serial&&r("p",{className:"integration-device-meta",children:["Serial: ",c.serial]}),c.deviceType&&r("p",{className:"integration-device-meta",children:["Type: ",c.deviceType]})]}),o===c.id?r("div",{className:"integration-device-confirm-delete",children:[r("button",{className:"integration-confirm-yes",onClick:()=>l(c.id),children:n==="de"?"Lschen":"Delete"}),r("button",{className:"integration-confirm-no",onClick:()=>a(null),children:n==="de"?"Abbrechen":"Cancel"})]}):r(P.button,{className:"integration-device-delete-button",onClick:()=>a(c.id),whileHover:{scale:1.1},whileTap:{scale:.9},children:""})]},c.id))})})]})},ZD=({hass:e,lang:t="de",onComplete:n,onCancel:i})=>{const[s,o]=D([]),[a,l]=D(!0);Y(()=>{c()},[]);const c=async()=>{l(!0);try{const h=d(),f=new Set(h.devices.filter(y=>y.category==="printer3d").map(y=>y.serial)),p=Object.keys(e?.states||{}).filter(y=>y.match(/^sensor\.(a1|x1|p1s|p1p)_[0-9a-f]+_/)),g=new Map;p.forEach(y=>{const b=y.match(/^sensor\.([a1|x1|p1s|p1p]+)_([0-9a-f]+)_/);if(b){const[,v,w]=b,S=`${v}_${w}`;if(f.has(w))return;if(!g.has(S)){const N=(e.states[y]?.attributes?.friendly_name||"").split(" ").slice(0,2).join(" ")||`Bambu Lab ${v.toUpperCase()}`;g.set(S,{id:`bambulab_${v}_${w}`,name:N,type:"bambulab",category:"printer3d",deviceType:v,serial:w,discovered:!0})}}});const m=Array.from(g.values());o(m)}catch(h){console.error("Failed to discover printers:",h)}finally{l(!1)}};function d(){try{const h=localStorage.getItem("integration_config");if(h)return JSON.parse(h)}catch(h){console.error("Failed to load integration config:",h)}return{devices:[]}}const u=h=>{n({...h,addedAt:Date.now()})};return r(P.div,{className:"ios-settings-container",initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{duration:.3},children:[r("div",{className:"ios-navbar",children:[r("button",{className:"ios-navbar-back",onClick:i,children:[r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:r("path",{d:"M15 18l-6-6 6-6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),t==="de"?"Zurck":"Back"]}),r("div",{className:"ios-navbar-title",children:t==="de"?"3D-Drucker hinzufgen":"Add 3D Printer"})]}),r("div",{className:"ios-settings-view",children:a?r("div",{className:"ios-section",children:r("div",{className:"ios-card",children:r("div",{className:"ios-empty-state",children:[r("div",{className:"loading-spinner",style:{margin:"20px auto"}}),r("p",{children:t==="de"?"Suche nach Druckern...":"Searching for printers..."})]})})}):r(ke,{children:[r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:t==="de"?"VERFGBARE DRUCKER":"AVAILABLE PRINTERS"}),r("div",{className:"ios-card",children:s.length===0?r("div",{className:"ios-empty-state",children:[r("div",{className:"empty-icon",style:{marginBottom:"12px"},children:r("svg",{width:"48",height:"48",viewBox:"0 0 24 24",strokeWidth:"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:"rgba(255, 255, 255, 0.6)"},children:[r("path",{d:"M2 19V5C2 3.89543 2.89543 3 4 3H20C21.1046 3 22 3.89543 22 5V19C22 20.1046 21.1046 21 20 21H4C2.89543 21 2 20.1046 2 19Z",stroke:"currentColor",strokeWidth:"1.5"}),r("path",{d:"M2 7L22 7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M5 5.01L5.01 4.99889",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M8 5.01L8.01 4.99889",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M11 5.01L11.01 4.99889",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),r("p",{children:t==="de"?"Keine Bambu Lab Drucker gefunden.":"No Bambu Lab printers found."}),r("p",{style:{fontSize:"13px",color:"rgba(255,255,255,0.5)",marginTop:"8px"},children:t==="de"?"Stelle sicher, dass die Bambu Lab Integration in Home Assistant konfiguriert ist.":"Make sure the Bambu Lab integration is configured in Home Assistant."})]}):s.map((h,f)=>r("div",{children:[f>0&&r("div",{className:"ios-divider"}),r("div",{className:"ios-item",children:[r("div",{className:"ios-item-left",children:[r("div",{className:"ios-feed-icon",children:r("svg",{width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:"rgba(255, 255, 255, 0.8)"},children:[r("path",{d:"M2 19V5C2 3.89543 2.89543 3 4 3H20C21.1046 3 22 3.89543 22 5V19C22 20.1046 21.1046 21 20 21H4C2.89543 21 2 20.1046 2 19Z",stroke:"currentColor",strokeWidth:"1.5"}),r("path",{d:"M2 7L22 7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M5 5.01L5.01 4.99889",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M8 5.01L8.01 4.99889",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r("path",{d:"M11 5.01L11.01 4.99889",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),r("div",{className:"ios-item-content",children:[r("div",{className:"ios-item-label",children:h.name}),r("div",{className:"ios-item-subtitle",children:["Bambu Lab ",h.deviceType.toUpperCase(),`  ${h.serial.substring(0,8)}`]})]})]}),r("div",{className:"ios-item-right",children:r(P.button,{className:"ios-add-button",onClick:()=>u(h),whileHover:{scale:1.05},whileTap:{scale:.95},children:t==="de"?"Hinzufgen":"Add"})})]})]},h.id))})]}),s.length===0&&r("div",{className:"ios-section",children:r(P.button,{className:"ios-refresh-button",onClick:c,whileHover:{scale:1.02},whileTap:{scale:.98},children:[" ",t==="de"?"Erneut suchen":"Search Again"]})}),r("div",{className:"ios-section",children:r("div",{className:"ios-section-footer",children:t==="de"?'Drucker werden automatisch ber die Bambu Lab Home Assistant Integration erkannt. Nach dem Hinzufgen wird eine Device Card unter "Gerte  Tools" erstellt.':'Printers are automatically detected via the Bambu Lab Home Assistant integration. After adding, a Device Card will be created under "Devices  Tools".'})})]})}),r("style",{children:`
        .loading-spinner {
          width: 40px;
          height: 40px;
          border: 3px solid rgba(255, 255, 255, 0.2);
          border-top-color: rgb(48, 209, 88);
          border-radius: 50%;
          animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }

        .ios-add-button {
          background: rgb(48, 209, 88);
          border: none;
          border-radius: 8px;
          padding: 6px 16px;
          color: white;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .ios-add-button:hover {
          background: rgb(40, 199, 78);
        }

        .ios-refresh-button {
          width: 100%;
          background: rgba(255, 255, 255, 0.1);
          border: 1px solid rgba(255, 255, 255, 0.2);
          border-radius: 12px;
          padding: 14px;
          color: rgba(255, 255, 255, 0.9);
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .ios-refresh-button:hover {
          background: rgba(255, 255, 255, 0.15);
        }
      `})]})};async function XD(e){if(!e||!e.connection)return null;try{const t=await e.connection.sendMessagePromise({type:"energy/get_prefs"}),n=await e.connection.sendMessagePromise({type:"energy/info"});return{prefs:t,info:n}}catch(t){return console.error("Failed to check Energy Dashboard:",t),null}}const JD=({hass:e,lang:t="de",onComplete:n,onCancel:i})=>{const[s,o]=D(!0),[a,l]=D(null),[c,d]=D(null);Y(()=>{u()},[]);const u=async()=>{o(!0),d(null);try{const p=await XD(e);p&&p.prefs?(console.log(" Energy Dashboard configured:",p),l(p)):d("not_configured")}catch(p){console.error("Failed to check Energy Dashboard:",p),d("failed")}finally{o(!1)}},h=()=>{if(!a)return;const p={id:"energy_dashboard",name:"Energie Dashboard",type:"energy_dashboard",category:"energy_dashboard",serial:"energy_dashboard",model:"Home Assistant Energy Dashboard",energy_prefs:a.prefs,energy_info:a.info,discovered:!0,addedAt:Date.now()};n(p)},f=(p,g,m)=>{if(!a?.prefs?.energy_sources)return null;const y=a.prefs.energy_sources.some(b=>b.type===p);return r("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 16px",background:"rgba(255,255,255,0.05)",borderRadius:"8px",marginBottom:"8px"},children:[r("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[r("span",{style:{fontSize:"24px"},children:m}),r("span",{style:{color:"white",fontSize:"15px"},children:g})]}),r("div",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"13px",fontWeight:"600",background:y?"rgba(48,209,88,0.2)":"rgba(255,255,255,0.1)",color:y?"rgb(48,209,88)":"rgba(255,255,255,0.5)"},children:y?" Konfiguriert":"Nicht konfiguriert"})]})};return r(P.div,{className:"ios-settings-container",initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{duration:.3},children:[r("div",{className:"ios-navbar",children:[r("button",{className:"ios-navbar-back",onClick:i,children:[r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:r("path",{d:"M15 18l-6-6 6-6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),t==="de"?"Zurck":"Back"]}),r("div",{className:"ios-navbar-title",children:t==="de"?"Energie Dashboard hinzufgen":"Add Energy Dashboard"})]}),r("div",{className:"ios-settings-view",children:s?r("div",{className:"ios-section",children:r("div",{className:"ios-card",children:r("div",{className:"ios-empty-state",children:[r("div",{className:"loading-spinner",style:{margin:"20px auto"}}),r("p",{children:t==="de"?"Prfe Energie Dashboard...":"Checking Energy Dashboard..."})]})})}):c?r(ke,{children:[r("div",{className:"ios-section",children:r("div",{className:"ios-card",children:r("div",{className:"ios-empty-state",children:[r("div",{className:"empty-icon",style:{marginBottom:"12px"},children:r("svg",{width:"48",height:"48",viewBox:"0 0 24 24",strokeWidth:"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:"rgba(255, 69, 58, 0.8)"},children:r("path",{d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),r("p",{children:t==="de"?"Energie Dashboard nicht konfiguriert":"Energy Dashboard not configured"}),r("p",{style:{fontSize:"13px",color:"rgba(255,255,255,0.5)",marginTop:"8px"},children:t==="de"?"Bitte konfiguriere das Energie Dashboard in Home Assistant zuerst.":"Please configure the Energy Dashboard in Home Assistant first."})]})})}),r("div",{className:"ios-section",children:r(P.button,{className:"ios-refresh-button",onClick:u,whileHover:{scale:1.02},whileTap:{scale:.98},children:[" ",t==="de"?"Erneut prfen":"Check Again"]})})]}):r(ke,{children:[r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:"ENERGIE-QUELLEN"}),r("div",{className:"ios-card",style:{padding:"12px"},children:[f("grid","Netz (Grid)",""),f("solar","Solar (PV)",""),f("battery","Batterie",""),f("gas","Gas","")]})]}),a?.prefs?.device_consumption?.length>0&&r("div",{className:"ios-section",children:[r("div",{className:"ios-section-header",children:"GERTE-VERBRAUCH"}),r("div",{className:"ios-card",style:{padding:"16px"},children:r("div",{style:{color:"white",fontSize:"14px"},children:[a.prefs.device_consumption.length," ",t==="de"?"Gerte konfiguriert":"devices configured"]})})]}),r("div",{className:"ios-section",children:r(P.button,{className:"ios-add-button-large",onClick:h,whileHover:{scale:1.02},whileTap:{scale:.98},style:{width:"100%",background:"rgb(255, 204, 0)",border:"none",borderRadius:"12px",padding:"16px",color:"black",fontSize:"17px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},children:[" ",t==="de"?"Energie Dashboard hinzufgen":"Add Energy Dashboard"]})}),r("div",{className:"ios-section",children:r("div",{className:"ios-section-footer",children:t==="de"?"Das Energie Dashboard zeigt Echtzeit-Daten zu deinem Energieverbrauch, -produktion und -kosten basierend auf deiner Home Assistant Konfiguration.":"The Energy Dashboard displays real-time data about your energy consumption, production, and costs based on your Home Assistant configuration."})})]})}),r("style",{children:`
        .loading-spinner {
          width: 40px;
          height: 40px;
          border: 3px solid rgba(255, 255, 255, 0.2);
          border-top-color: rgb(255, 204, 0);
          border-radius: 50%;
          animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }

        .ios-refresh-button {
          width: 100%;
          background: rgba(255, 255, 255, 0.1);
          border: 1px solid rgba(255, 255, 255, 0.2);
          borderRadius: 12px;
          padding: 14px;
          color: rgba(255, 255, 255, 0.9);
          fontSize: 16px;
          fontWeight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .ios-refresh-button:hover {
          background: rgba(255, 255, 255, 0.15);
        }
      `})]})},QD=({hass:e,lang:t="de",onComplete:n,onCancel:i})=>{const[s,o]=D([]),[a,l]=D(!0);Y(()=>{c()},[]);const c=async()=>{l(!0);try{const h=d(),f=new Set(h.devices.filter(m=>m.category==="weather").map(m=>m.entity_id)),g=Object.keys(e?.states||{}).filter(m=>m.startsWith("weather.")).filter(m=>!f.has(m)).map(m=>{const b=e.states[m]?.attributes?.friendly_name||m;return{id:`weather_${m.replace("weather.","")}_${Date.now()}`,name:b,entity_id:m,category:"weather",discovered:!0}});o(g)}catch(h){console.error("Failed to discover weather entities:",h)}finally{l(!1)}};function d(){try{const h=localStorage.getItem("integration_config");if(h)return JSON.parse(h)}catch(h){console.error("Failed to load integration config:",h)}return{devices:[]}}const u=h=>{n(h)};return r(P.div,{className:"ios-settings-view",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},style:{height:"100%",overflowY:"auto"},children:[r("div",{className:"ios-section-header",style:{padding:"20px",paddingBottom:"10px"},children:[r("h2",{style:{margin:0,fontSize:"28px",fontWeight:700,color:"rgba(255,255,255,0.95)"},children:t==="de"?"Wetter hinzufgen":"Add Weather"}),r("p",{style:{margin:"8px 0 0 0",fontSize:"14px",color:"rgba(255,255,255,0.6)"},children:t==="de"?"Whle einen Standort aus Home Assistant":"Choose a location from Home Assistant"})]}),a&&r("div",{style:{padding:"40px",textAlign:"center"},children:[r("div",{style:{width:"40px",height:"40px",border:"3px solid rgba(255,255,255,0.1)",borderTopColor:"rgb(60, 211, 254)",borderRadius:"50%",animation:"spin 0.8s linear infinite",margin:"0 auto 16px"}}),r("p",{style:{color:"rgba(255,255,255,0.6)"},children:t==="de"?"Suche nach Wetter Entities...":"Searching for weather entities..."})]}),!a&&s.length>0&&r("div",{className:"ios-section",style:{padding:"0 20px"},children:[r("div",{className:"ios-section-header",children:t==="de"?"Gefundene Standorte":"Found Locations"}),s.map((h,f)=>r(P.div,{className:"ios-item ios-item-clickable",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:f*.05},onClick:()=>u(h),style:{padding:"16px",background:"rgba(255,255,255,0.1)",borderRadius:"12px",marginBottom:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px"},children:[r("span",{style:{fontSize:"32px"},children:""}),r("div",{style:{flex:1},children:[r("div",{style:{fontSize:"16px",fontWeight:600,color:"rgba(255,255,255,0.95)"},children:h.name}),r("div",{style:{fontSize:"13px",color:"rgba(255,255,255,0.5)",marginTop:"2px"},children:h.entity_id})]}),r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"rgba(255,255,255,0.4)",children:r("path",{d:"M9 18l6-6-6-6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]},h.id))]}),!a&&s.length===0&&r("div",{style:{padding:"60px 20px",textAlign:"center"},children:[r("span",{style:{fontSize:"64px",opacity:.5},children:""}),r("h3",{style:{fontSize:"18px",fontWeight:600,margin:"16px 0 8px",color:"rgba(255,255,255,0.9)"},children:t==="de"?"Keine Wetter Entities gefunden":"No weather entities found"}),r("p",{style:{fontSize:"14px",color:"rgba(255,255,255,0.6)",margin:0},children:t==="de"?"Stelle sicher, dass du eine Wetter-Integration in Home Assistant konfiguriert hast.":"Make sure you have a weather integration configured in Home Assistant."})]})]})};function Cl(){try{const e=localStorage.getItem("integration_config");if(e)return JSON.parse(e)}catch(e){console.error("Failed to load integration config:",e)}return{devices:[]}}function vm(e){try{localStorage.setItem("integration_config",JSON.stringify(e))}catch(t){console.error("Failed to save integration config:",t)}}function eF(e){if(!e)return console.error("IntegrationView: Props are undefined!"),r("div",{style:{padding:"40px",textAlign:"center",color:"white"},children:[r("h3",{children:"Error: Component Props Missing"}),r("p",{children:"IntegrationView was called without props"})]});const{entity:t,hass:n,lang:i="de",onBack:s}=e,[o,a]=D(()=>Cl()),[l,c]=D("selection"),[d,u]=D(null);Y(()=>(window._integrationViewRef={handleOpenSettings:()=>{c("management")},handleBackNavigation:()=>{l==="setup"?(c("selection"),u(null)):l==="management"?c("selection"):s&&s()}},()=>{delete window._integrationViewRef}),[l,s]);const h=m=>{u(m),c("setup")},f=async m=>{if(t&&t.executeAction)await t.executeAction("addDevice",{deviceData:m});else{console.warn("Integration entity not available, using fallback");const y={...o,devices:[...o.devices,m]};a(y),vm(y)}a(Cl()),c("selection"),u(null)},p=async m=>{if(t&&t.executeAction)await t.executeAction("removeDevice",{deviceId:m});else{console.warn("Integration entity not available, using fallback");const y={...o,devices:o.devices.filter(b=>b.id!==m)};a(y),vm(y)}a(Cl())};return r("div",{className:"integration-view-container",children:r(Te,{mode:"wait",children:l==="setup"?(()=>{switch(d){case"printer3d":return r(ZD,{hass:n,lang:i,onComplete:f,onCancel:()=>{c("selection"),u(null)}},"printer3d");case"energy_dashboard":return r(JD,{hass:n,lang:i,onComplete:f,onCancel:()=>{c("selection"),u(null)}},"energy_dashboard");case"weather":return r(QD,{hass:n,lang:i,onComplete:f,onCancel:()=>{c("selection"),u(null)}},"weather");default:return r("div",{className:"integration-error",children:[r("p",{children:['Setup flow for "',d,'" not implemented yet.']}),r("button",{onClick:()=>c("selection"),children:i==="de"?"Zurck":"Back"})]})}})():l==="management"?r(YD,{devices:o.devices,hass:n,lang:i,onDeviceRemove:p,onBack:()=>c("selection")},"management"):r(GD,{hass:n,lang:i,onCategorySelect:h,onManagementOpen:()=>c("management"),deviceCount:o.devices.length},"selection")})})}const tF=Uc(eF),nF=Object.freeze(Object.defineProperty({__proto__:null,default:tF},Symbol.toStringTag,{value:"Module"}));
