!function(){"use strict";var e,t,n,r,i,o,u,s,c,l,a,_,h={},f=[],d=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,p=Array.isArray;function g(e,t){for(var n in t)e[n]=t[n];return e}function v(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function m(t,n,r){var i,o,u,s={};for(u in n)"key"==u?i=n[u]:"ref"==u?o=n[u]:s[u]=n[u];if(arguments.length>2&&(s.children=arguments.length>3?e.call(arguments,2):r),"function"==typeof t&&null!=t.defaultProps)for(u in t.defaultProps)void 0===s[u]&&(s[u]=t.defaultProps[u]);return y(t,s,i,o,null)}function y(e,r,i,o,u){var s={type:e,props:r,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==u?++n:u,__i:-1,__u:0};return null==u&&null!=t.vnode&&t.vnode(s),s}function C(){return{current:null}}function b(e){return e.children}function A(e,t){this.props=e,this.context=t}function E(e,t){if(null==t)return e.__?E(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?E(e):null}function x(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return x(e)}}function S(e){(!e.__d&&(e.__d=!0)&&r.push(e)&&!k.__r++||i!=t.debounceRendering)&&((i=t.debounceRendering)||o)(k)}function k(){for(var e,n,i,o,s,c,l,a=1;r.length;)r.length>a&&r.sort(u),e=r.shift(),a=r.length,e.__d&&(i=void 0,s=(o=(n=e).__v).__e,c=[],l=[],n.__P&&((i=g({},o)).__v=o.__v+1,t.vnode&&t.vnode(i),R(n.__P,i,o,n.__n,n.__P.namespaceURI,32&o.__u?[s]:null,c,null==s?E(o):s,!!(32&o.__u),l),i.__v=o.__v,i.__.__k[i.__i]=i,O(c,i,l),i.__e!=s&&x(i)));k.__r=0}function F(e,t,n,r,i,o,u,s,c,l,a){var _,d,g,v,m,C,A,x=r&&r.__k||f,S=t.length;for(c=function(e,t,n,r,i){var o,u,s,c,l,a=n.length,_=a,h=0;for(e.__k=new Array(i),o=0;o<i;o++)null!=(u=t[o])&&"boolean"!=typeof u&&"function"!=typeof u?(c=o+h,(u=e.__k[o]="string"==typeof u||"number"==typeof u||"bigint"==typeof u||u.constructor==String?y(null,u,null,null,null):p(u)?y(b,{children:u},null,null,null):null==u.constructor&&u.__b>0?y(u.type,u.props,u.key,u.ref?u.ref:null,u.__v):u).__=e,u.__b=e.__b+1,s=null,-1!=(l=u.__i=M(u,n,c,_))&&(_--,(s=n[l])&&(s.__u|=2)),null==s||null==s.__v?(-1==l&&(i>a?h--:i<a&&h++),"function"!=typeof u.type&&(u.__u|=4)):l!=c&&(l==c-1?h--:l==c+1?h++:(l>c?h--:h++,u.__u|=4))):e.__k[o]=null;if(_)for(o=0;o<a;o++)null!=(s=n[o])&&!(2&s.__u)&&(s.__e==r&&(r=E(s)),$(s,s));return r}(n,t,x,c,S),_=0;_<S;_++)null!=(g=n.__k[_])&&(d=-1==g.__i?h:x[g.__i]||h,g.__i=_,C=R(e,g,d,i,o,u,s,c,l,a),v=g.__e,g.ref&&d.ref!=g.ref&&(d.ref&&T(d.ref,null,g),a.push(g.ref,g.__c||v,g)),null==m&&null!=v&&(m=v),(A=!!(4&g.__u))||d.__k===g.__k?c=w(g,c,e,A):"function"==typeof g.type&&void 0!==C?c=C:v&&(c=v.nextSibling),g.__u&=-7);return n.__e=m,c}function w(e,t,n,r){var i,o;if("function"==typeof e.type){for(i=e.__k,o=0;i&&o<i.length;o++)i[o]&&(i[o].__=e,t=w(i[o],t,n,r));return t}e.__e!=t&&(r&&(t&&e.type&&!t.parentNode&&(t=E(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function D(e,t){return t=t||[],null==e||"boolean"==typeof e||(p(e)?e.some(function(e){D(e,t)}):t.push(e)),t}function M(e,t,n,r){var i,o,u,s=e.key,c=e.type,l=t[n],a=null!=l&&!(2&l.__u);if(null===l&&null==e.key||a&&s==l.key&&c==l.type)return n;if(r>(a?1:0))for(i=n-1,o=n+1;i>=0||o<t.length;)if(null!=(l=t[u=i>=0?i--:o++])&&!(2&l.__u)&&s==l.key&&c==l.type)return u;return-1}function B(e,t,n){"-"==t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||d.test(t)?n:n+"px"}function L(e,t,n,r,i){var o,u;e:if("style"==t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||B(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||B(e.style,t,n[t])}else if("o"==t[0]&&"n"==t[1])o=t!=(t=t.replace(s,"$1")),u=t.toLowerCase(),t=u in e||"onFocusOut"==t||"onFocusIn"==t?u.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=c,e.addEventListener(t,o?a:l,o)):e.removeEventListener(t,o?a:l,o);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(_){}"function"==typeof n||(null==n||!1===n&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function N(e){return function(n){if(this.l){var r=this.l[n.type+e];if(null==n.t)n.t=c++;else if(n.t<r.u)return;return r(t.event?t.event(n):n)}}}function R(n,r,i,o,u,s,c,l,a,_){var f,d,m,y,C,x,S,k,w,D,M,B,N,R,O,T,$,U=r.type;if(null!=r.constructor)return null;128&i.__u&&(a=!!(32&i.__u),s=[l=r.__e=i.__e]),(f=t.__b)&&f(r);e:if("function"==typeof U)try{if(k=r.props,w="prototype"in U&&U.prototype.render,D=(f=U.contextType)&&o[f.__c],M=f?D?D.props.value:f.__:o,i.__c?S=(d=r.__c=i.__c).__=d.__E:(w?r.__c=d=new U(k,M):(r.__c=d=new A(k,M),d.constructor=U,d.render=W),D&&D.sub(d),d.props=k,d.state||(d.state={}),d.context=M,d.__n=o,m=d.__d=!0,d.__h=[],d._sb=[]),w&&null==d.__s&&(d.__s=d.state),w&&null!=U.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=g({},d.__s)),g(d.__s,U.getDerivedStateFromProps(k,d.__s))),y=d.props,C=d.state,d.__v=r,m)w&&null==U.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),w&&null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(w&&null==U.getDerivedStateFromProps&&k!==y&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(k,M),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(k,d.__s,M)||r.__v==i.__v){for(r.__v!=i.__v&&(d.props=k,d.state=d.__s,d.__d=!1),r.__e=i.__e,r.__k=i.__k,r.__k.some(function(e){e&&(e.__=r)}),B=0;B<d._sb.length;B++)d.__h.push(d._sb[B]);d._sb=[],d.__h.length&&c.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(k,d.__s,M),w&&null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(y,C,x)})}if(d.context=M,d.props=k,d.__P=n,d.__e=!1,N=t.__r,R=0,w){for(d.state=d.__s,d.__d=!1,N&&N(r),f=d.render(d.props,d.state,d.context),O=0;O<d._sb.length;O++)d.__h.push(d._sb[O]);d._sb=[]}else do{d.__d=!1,N&&N(r),f=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++R<25);d.state=d.__s,null!=d.getChildContext&&(o=g(g({},o),d.getChildContext())),w&&!m&&null!=d.getSnapshotBeforeUpdate&&(x=d.getSnapshotBeforeUpdate(y,C)),T=f,null!=f&&f.type===b&&null==f.key&&(T=P(f.props.children)),l=F(n,p(T)?T:[T],r,i,o,u,s,c,l,a,_),d.base=r.__e,r.__u&=-161,d.__h.length&&c.push(d),S&&(d.__E=d.__=null)}catch(H){if(r.__v=null,a||null!=s)if(H.then){for(r.__u|=a?160:128;l&&8==l.nodeType&&l.nextSibling;)l=l.nextSibling;s[s.indexOf(l)]=null,r.__e=l}else{for($=s.length;$--;)v(s[$]);I(r)}else r.__e=i.__e,r.__k=i.__k,H.then||I(r);t.__e(H,r,i)}else null==s&&r.__v==i.__v?(r.__k=i.__k,r.__e=i.__e):l=r.__e=function(n,r,i,o,u,s,c,l,a){var _,f,d,g,m,y,C,b=i.props,A=r.props,x=r.type;if("svg"==x?u="http://www.w3.org/2000/svg":"math"==x?u="http://www.w3.org/1998/Math/MathML":u||(u="http://www.w3.org/1999/xhtml"),null!=s)for(_=0;_<s.length;_++)if((m=s[_])&&"setAttribute"in m==!!x&&(x?m.localName==x:3==m.nodeType)){n=m,s[_]=null;break}if(null==n){if(null==x)return document.createTextNode(A);n=document.createElementNS(u,x,A.is&&A),l&&(t.__m&&t.__m(r,s),l=!1),s=null}if(null==x)b===A||l&&n.data==A||(n.data=A);else{if(s=s&&e.call(n.childNodes),b=i.props||h,!l&&null!=s)for(b={},_=0;_<n.attributes.length;_++)b[(m=n.attributes[_]).name]=m.value;for(_ in b)if(m=b[_],"children"==_);else if("dangerouslySetInnerHTML"==_)d=m;else if(!(_ in A)){if("value"==_&&"defaultValue"in A||"checked"==_&&"defaultChecked"in A)continue;L(n,_,null,m,u)}for(_ in A)m=A[_],"children"==_?g=m:"dangerouslySetInnerHTML"==_?f=m:"value"==_?y=m:"checked"==_?C=m:l&&"function"!=typeof m||b[_]===m||L(n,_,m,b[_],u);if(f)l||d&&(f.__html==d.__html||f.__html==n.innerHTML)||(n.innerHTML=f.__html),r.__k=[];else if(d&&(n.innerHTML=""),F("template"==r.type?n.content:n,p(g)?g:[g],r,i,o,"foreignObject"==x?"http://www.w3.org/1999/xhtml":u,s,c,s?s[0]:i.__k&&E(i,0),l,a),null!=s)for(_=s.length;_--;)v(s[_]);l||(_="value","progress"==x&&null==y?n.removeAttribute("value"):null!=y&&(y!==n[_]||"progress"==x&&!y||"option"==x&&y!=b[_])&&L(n,_,y,b[_],u),_="checked",null!=C&&C!=n[_]&&L(n,_,C,b[_],u))}return n}(i.__e,r,i,o,u,s,c,a,_);return(f=t.diffed)&&f(r),128&r.__u?void 0:l}function I(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(I)}function O(e,n,r){for(var i=0;i<r.length;i++)T(r[i],r[++i],r[++i]);t.__c&&t.__c(n,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(e){e.call(n)})}catch(r){t.__e(r,n.__v)}})}function P(e){return"object"!=typeof e||null==e||e.__b&&e.__b>0?e:p(e)?e.map(P):g({},e)}function T(e,n,r){try{if("function"==typeof e){var i="function"==typeof e.__u;i&&e.__u(),i&&null==n||(e.__u=e(n))}else e.current=n}catch(o){t.__e(o,r)}}function $(e,n,r){var i,o;if(t.unmount&&t.unmount(e),(i=e.ref)&&(i.current&&i.current!=e.__e||T(i,null,n)),null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(u){t.__e(u,n)}i.base=i.__P=null}if(i=e.__k)for(o=0;o<i.length;o++)i[o]&&$(i[o],n,r||"function"!=typeof e.type);r||v(e.__e),e.__c=e.__=e.__e=void 0}function W(e,t,n){return this.constructor(e,n)}function U(n,r,i){var o,u,s,c;r==document&&(r=document.documentElement),t.__&&t.__(n,r),u=(o="function"==typeof i)?null:i&&i.__k||r.__k,s=[],c=[],R(r,n=(!o&&i||r).__k=m(b,null,[n]),u||h,h,r.namespaceURI,!o&&i?[i]:u?null:r.firstChild?e.call(r.childNodes):null,s,!o&&i?i:u?u.__e:r.firstChild,o,c),O(s,n,c)}function H(e,t){U(e,t,H)}function j(t,n,r){var i,o,u,s,c=g({},t.props);for(u in t.type&&t.type.defaultProps&&(s=t.type.defaultProps),n)"key"==u?i=n[u]:"ref"==u?o=n[u]:c[u]=void 0===n[u]&&null!=s?s[u]:n[u];return arguments.length>2&&(c.children=arguments.length>3?e.call(arguments,2):r),y(t.type,c,i||t.key,o||t.ref,null)}function V(e){function t(e){var n,r;return this.getChildContext||(n=new Set,(r={})[t.__c]=this,this.getChildContext=function(){return r},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(e){this.props.value!=e.value&&n.forEach(function(e){e.__e=!0,S(e)})},this.sub=function(e){n.add(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n&&n.delete(e),t&&t.call(e)}}),e.children}return t.__c="__cC"+_++,t.__=e,t.Provider=t.__l=(t.Consumer=function(e,t){return e.children(t)}).contextType=t,t}e=f.slice,t={__e:function(e,t,n,r){for(var i,o,u;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),u=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),u=i.__d),u)return i.__E=i}catch(s){e=s}throw e}},n=0,A.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=g({},this.state),"function"==typeof e&&(e=e(g({},n),this.props)),e&&g(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),S(this))},A.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),S(this))},A.prototype.render=b,r=[],o="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=function(e,t){return e.__v.__b-t.__v.__b},k.__r=0,s=/(PointerCapture)$|Capture$/i,c=0,l=N(!1),a=N(!0),_=0;var z=0;function q(e,n,r,i,o,u){n||(n={});var s,c,l=n;if("ref"in l)for(c in l={},n)"ref"==c?s=n[c]:l[c]=n[c];var a={type:e,props:l,key:r,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--z,__i:-1,__u:0,__source:o,__self:u};if("function"==typeof e&&(s=e.defaultProps))for(c in s)void 0===l[c]&&(l[c]=s[c]);return t.vnode&&t.vnode(a),a}const Q={},K=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"==typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=r?r:"object"!=typeof i||null===i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,o={setState:r,getState:i,getInitialState:()=>u,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{"production"!==(Q?"production":void 0)&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,o);return o};var G,J,Y,Z,X=0,ee=[],te=t,ne=te.__b,re=te.__r,ie=te.diffed,oe=te.__c,ue=te.unmount,se=te.__;function ce(e,t){te.__h&&te.__h(J,e,X||t),X=0;var n=J.__H||(J.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function le(e){return X=1,ae(ke,e)}function ae(e,t,n){var r=ce(G++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):ke(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=J,!J.__f)){var i=function(e,t,n){if(!r.__c.__H)return!0;var i=r.__c.__H.__.filter(function(e){return!!e.__c});if(i.every(function(e){return!e.__N}))return!o||o.call(this,e,t,n);var u=r.__c.props!==e;return i.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(u=!0)}}),o&&o.call(this,e,t,n)||u};J.__f=!0;var o=J.shouldComponentUpdate,u=J.componentWillUpdate;J.componentWillUpdate=function(e,t,n){if(this.__e){var r=o;o=void 0,i(e,t,n),o=r}u&&u.call(this,e,t,n)},J.shouldComponentUpdate=i}return r.__N||r.__}function _e(e,t){var n=ce(G++,3);!te.__s&&Se(n.__H,t)&&(n.__=e,n.u=t,J.__H.__h.push(n))}function he(e,t){var n=ce(G++,4);!te.__s&&Se(n.__H,t)&&(n.__=e,n.u=t,J.__h.push(n))}function fe(e){return X=5,pe(function(){return{current:e}},[])}function de(e,t,n){X=6,he(function(){if("function"==typeof e){var n=e(t());return function(){e(null),n&&"function"==typeof n&&n()}}if(e)return e.current=t(),function(){return e.current=null}},null==n?n:n.concat(e))}function pe(e,t){var n=ce(G++,7);return Se(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function ge(e,t){return X=8,pe(function(){return e},t)}function ve(e){var t=J.context[e.__c],n=ce(G++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(J)),t.props.value):e.__}function me(e,t){te.useDebugValue&&te.useDebugValue(t?t(e):e)}function ye(){var e=ce(G++,11);if(!e.__){for(var t=J.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Ce(){for(var e;e=ee.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Ee),e.__H.__h.forEach(xe),e.__H.__h=[]}catch(t){e.__H.__h=[],te.__e(t,e.__v)}}te.__b=function(e){J=null,ne&&ne(e)},te.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),se&&se(e,t)},te.__r=function(e){re&&re(e),G=0;var t=(J=e.__c).__H;t&&(Y===J?(t.__h=[],J.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0})):(t.__h.forEach(Ee),t.__h.forEach(xe),t.__h=[],G=0)),Y=J},te.diffed=function(e){ie&&ie(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==ee.push(t)&&Z===te.requestAnimationFrame||((Z=te.requestAnimationFrame)||Ae)(Ce)),t.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.u=void 0})),Y=J=null},te.__c=function(e,t){t.some(function(e){try{e.__h.forEach(Ee),e.__h=e.__h.filter(function(e){return!e.__||xe(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],te.__e(n,e.__v)}}),oe&&oe(e,t)},te.unmount=function(e){ue&&ue(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{Ee(e)}catch(n){t=n}}),n.__H=void 0,t&&te.__e(t,n.__v))};var be="function"==typeof requestAnimationFrame;function Ae(e){var t,n=function(){clearTimeout(r),be&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);be&&(t=requestAnimationFrame(n))}function Ee(e){var t=J,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),J=t}function xe(e){var t=J;e.__c=e.__(),J=t}function Se(e,t){return!e||e.length!==t.length||t.some(function(t,n){return t!==e[n]})}function ke(e,t){return"function"==typeof t?t(e):t}function Fe(e,t){for(var n in t)e[n]=t[n];return e}function we(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function De(e,t){var n=t(),r=le({t:{__:n,u:t}}),i=r[0].t,o=r[1];return he(function(){i.__=n,i.u=t,Me(i)&&o({t:i})},[e,n,t]),_e(function(){return Me(i)&&o({t:i}),e(function(){Me(i)&&o({t:i})})},[e]),n}function Me(e){var t,n,r=e.u,i=e.__;try{var o=r();return!((t=i)===(n=o)&&(0!==t||1/t==1/n)||t!=t&&n!=n)}catch(u){return!0}}function Be(e){e()}function Le(e){return e}function Ne(){return[!1,Be]}var Re=he;function Ie(e,t){this.props=e,this.context=t}function Oe(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:we(this.props,e)}function r(t){return this.shouldComponentUpdate=n,m(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r.type=e,r}(Ie.prototype=new A).isPureReactComponent=!0,Ie.prototype.shouldComponentUpdate=function(e,t){return we(this.props,e)||we(this.state,t)};var Pe=t.__b;t.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Pe&&Pe(e)};var Te="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function $e(e){function t(t){var n=Fe({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=Te,t.render=e,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var We=function(e,t){return null==e?null:D(D(e).map(t))},Ue={map:We,forEach:We,count:function(e){return e?D(e).length:0},only:function(e){var t=D(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:D},He=t.__e;t.__e=function(e,t,n,r){if(e.then)for(var i,o=t;o=o.__;)if((i=o.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t);He(e,t,n,r)};var je=t.unmount;function Ve(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(e){"function"==typeof e.__c&&e.__c()}),e.__c.__H=null),null!=(e=Fe({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(e){return Ve(e,t,n)})),e}function ze(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(e){return ze(e,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function qe(){this.__u=0,this.o=null,this.__b=null}function Qe(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Ke(e){var t,n,r;function i(i){if(t||(t=e()).then(function(e){n=e.default||e},function(e){r=e}),r)throw r;if(!n)throw t;return m(n,i)}return i.displayName="Lazy",i.__f=!0,i}function Ge(){this.i=null,this.l=null}t.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),je&&je(e)},(qe.prototype=new A).__c=function(e,t){var n=t.__c,r=this;null==r.o&&(r.o=[]),r.o.push(n);var i=Qe(r.__v),o=!1,u=function(){o||(o=!0,n.__R=null,i?i(s):s())};n.__R=u;var s=function(){if(! --r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=ze(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.o.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(u,u)},qe.prototype.componentWillUnmount=function(){this.o=[]},qe.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=Ve(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__a&&m(b,null,e.fallback);return i&&(i.__u&=-33),[m(b,null,t.__a?null:e.children),i]};var Je=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function Ye(e){return this.getChildContext=function(){return e.context},e.children}function Ze(e){var t=this,n=e.h;if(t.componentWillUnmount=function(){U(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),!t.v){for(var r=t.__v;null!==r&&!r.__m&&null!==r.__;)r=r.__;t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:r.__m},contains:function(){return!0},insertBefore:function(e,n){this.childNodes.push(e),t.h.insertBefore(e,n)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.h.removeChild(e)}}}U(m(Ye,{context:t.context},e.__v),t.v)}function Xe(e,t){var n=m(Ze,{__v:e,h:t});return n.containerInfo=t,n}(Ge.prototype=new A).__a=function(e){var t=this,n=Qe(t.__v),r=t.l.get(e);return r[0]++,function(i){var o=function(){t.props.revealOrder?(r.push(i),Je(t,e,r)):i()};n?n(o):o()}},Ge.prototype.render=function(e){this.i=null,this.l=new Map;var t=D(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Ge.prototype.componentDidUpdate=Ge.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){Je(e,n,t)})};var et="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,tt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,nt=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,rt=/[A-Z0-9]/g,it="undefined"!=typeof document,ot=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};function ut(e,t,n){return null==t.__k&&(t.textContent=""),U(e,t),"function"==typeof n&&n(),e?e.__c:null}function st(e,t,n){return H(e,t),"function"==typeof n&&n(),e?e.__c:null}A.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(A.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var ct=t.event;function lt(){}function at(){return this.cancelBubble}function _t(){return this.defaultPrevented}t.event=function(e){return ct&&(e=ct(e)),e.persist=lt,e.isPropagationStopped=at,e.isDefaultPrevented=_t,e.nativeEvent=e};var ht,ft={enumerable:!1,configurable:!0,get:function(){return this.class}},dt=t.vnode;t.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,r={},i=-1===n.indexOf("-");for(var o in t){var u=t[o];if(!("value"===o&&"defaultValue"in t&&null==u||it&&"children"===o&&"noscript"===n||"class"===o||"className"===o)){var s=o.toLowerCase();"defaultValue"===o&&"value"in t&&null==t.value?o="value":"download"===o&&!0===u?u="":"translate"===s&&"no"===u?u=!1:"o"===s[0]&&"n"===s[1]?"ondoubleclick"===s?o="ondblclick":"onchange"!==s||"input"!==n&&"textarea"!==n||ot(t.type)?"onfocus"===s?o="onfocusin":"onblur"===s?o="onfocusout":nt.test(o)&&(o=s):s=o="oninput":i&&tt.test(o)?o=o.replace(rt,"-$&").toLowerCase():null===u&&(u=void 0),"oninput"===s&&r[o=s]&&(o="oninputCapture"),r[o]=u}}"select"==n&&r.multiple&&Array.isArray(r.value)&&(r.value=D(t.children).forEach(function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)})),"select"==n&&null!=r.defaultValue&&(r.value=D(t.children).forEach(function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value})),t.class&&!t.className?(r.class=t.class,Object.defineProperty(r,"className",ft)):(t.className&&!t.class||t.class&&t.className)&&(r.class=r.className=t.className),e.props=r}(e),e.$$typeof=et,dt&&dt(e)};var pt=t.__r;t.__r=function(e){pt&&pt(e),ht=e.__c};var gt=t.diffed;t.diffed=function(e){gt&&gt(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),ht=null};var vt={ReactCurrentDispatcher:{current:{readContext:function(e){return ht.__n[e.__c].props.value},useCallback:ge,useContext:ve,useDebugValue:me,useDeferredValue:Le,useEffect:_e,useId:ye,useImperativeHandle:de,useInsertionEffect:Re,useLayoutEffect:he,useMemo:pe,useReducer:ae,useRef:fe,useState:le,useSyncExternalStore:De,useTransition:Ne}}};function mt(e){return m.bind(null,e)}function yt(e){return!!e&&e.$$typeof===et}function Ct(e){return yt(e)&&e.type===b}function bt(e){return!!e&&!!e.displayName&&("string"==typeof e.displayName||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function At(e){return yt(e)?j.apply(null,arguments):e}function Et(e){return!!e.__k&&(U(null,e),!0)}function xt(e){return e&&(e.base||1===e.nodeType&&e)||null}var St=function(e,t){return e(t)},kt=function(e,t){return e(t)},Ft=b,wt=yt,Dt={useState:le,useId:ye,useReducer:ae,useEffect:_e,useLayoutEffect:he,useInsertionEffect:Re,useTransition:Ne,useDeferredValue:Le,useSyncExternalStore:De,startTransition:Be,useRef:fe,useImperativeHandle:de,useMemo:pe,useCallback:ge,useContext:ve,useDebugValue:me,version:"18.3.1",Children:Ue,render:ut,hydrate:st,unmountComponentAtNode:Et,createPortal:Xe,createElement:m,createContext:V,createFactory:mt,cloneElement:At,createRef:C,Fragment:b,isValidElement:yt,isElement:wt,isFragment:Ct,isMemo:bt,findDOMNode:xt,Component:A,PureComponent:Ie,memo:Oe,forwardRef:$e,flushSync:kt,unstable_batchedUpdates:St,StrictMode:Ft,Suspense:qe,SuspenseList:Ge,lazy:Ke,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:vt};function Mt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Bt(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}var Lt={exports:{}},Nt={};const Rt=Bt(Object.freeze(Object.defineProperty({__proto__:null,Children:Ue,Component:A,Fragment:b,PureComponent:Ie,StrictMode:Ft,Suspense:qe,SuspenseList:Ge,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:vt,cloneElement:At,createContext:V,createElement:m,createFactory:mt,createPortal:Xe,createRef:C,default:Dt,findDOMNode:xt,flushSync:kt,forwardRef:$e,hydrate:st,isElement:wt,isFragment:Ct,isMemo:bt,isValidElement:yt,lazy:Ke,memo:Oe,render:ut,startTransition:Be,unmountComponentAtNode:Et,unstable_batchedUpdates:St,useCallback:ge,useContext:ve,useDebugValue:me,useDeferredValue:Le,useEffect:_e,useErrorBoundary:function(e){var t=ce(G++,10),n=le();return t.__=e,J.componentDidCatch||(J.componentDidCatch=function(e,r){t.__&&t.__(e,r),n[1](e)}),[n[0],function(){n[1](void 0)}]},useId:ye,useImperativeHandle:de,useInsertionEffect:Re,useLayoutEffect:he,useMemo:pe,useReducer:ae,useRef:fe,useState:le,useSyncExternalStore:De,useTransition:Ne,version:"18.3.1"},Symbol.toStringTag,{value:"Module"})));var It={exports:{}},Ot={},Pt=Rt;var Tt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},$t=Pt.useState,Wt=Pt.useEffect,Ut=Pt.useLayoutEffect,Ht=Pt.useDebugValue;function jt(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tt(e,n)}catch(r){return!0}}var Vt="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=$t({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return Ut(function(){i.value=n,i.getSnapshot=t,jt(i)&&o({inst:i})},[e,n,t]),Wt(function(){return jt(i)&&o({inst:i}),e(function(){jt(i)&&o({inst:i})})},[e]),Ht(n),n};Ot.useSyncExternalStore=void 0!==Pt.useSyncExternalStore?Pt.useSyncExternalStore:Vt,It.exports=Ot;var zt=Rt,qt=It.exports;
/**
   * @license React
   * use-sync-external-store-shim/with-selector.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */var Qt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Kt=qt.useSyncExternalStore,Gt=zt.useRef,Jt=zt.useEffect,Yt=zt.useMemo,Zt=zt.useDebugValue;Nt.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=Gt(null);if(null===o.current){var u={hasValue:!1,value:null};o.current=u}else u=o.current;o=Yt(function(){function e(e){if(!c){if(c=!0,o=e,e=r(e),void 0!==i&&u.hasValue){var t=u.value;if(i(t,e))return s=t}return s=e}if(t=s,Qt(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(o=e,t):(o=e,s=n)}var o,s,c=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,n,r,i]);var s=Kt(e,o[0],o[1]);return Jt(function(){u.hasValue=!0,u.value=s},[s]),Zt(s),s},Lt.exports=Nt;const Xt=Mt(Lt.exports),en={},{useDebugValue:tn}=Dt,{useSyncExternalStoreWithSelector:nn}=Xt;let rn=!1;const on=e=>e;const un=e=>{"production"!==(en?"production":void 0)&&"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"==typeof e?(e=>e?K(e):K)(e):e,n=(e,n)=>function(e,t=on,n){"production"!==(en?"production":void 0)&&n&&!rn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),rn=!0);const r=nn(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return tn(r),r}(t,e,n);return Object.assign(n,t),n},sn=(cn=(e,t)=>({hass:null,config:{},favorites:[],searchQuery:"",selectedCategory:"all",viewMode:"grid",setHass:t=>e({hass:t}),setConfig:t=>e({config:t}),setSearchQuery:t=>e({searchQuery:t}),setSelectedCategory:t=>e({selectedCategory:t}),setViewMode:t=>e({viewMode:t}),toggleFavorite:t=>e(e=>({favorites:e.favorites.includes(t)?e.favorites.filter(e=>e!==t):[...e.favorites,t]}))}))?un(cn):un;var cn;function ln(e,t){return{light:"on"===t?"mdi:lightbulb":"mdi:lightbulb-outline",switch:"on"===t?"mdi:toggle-switch":"mdi:toggle-switch-off",climate:"mdi:thermostat",cover:"mdi:window-shutter",media_player:"mdi:cast"}[e]||"mdi:home"}function an(e){return Array.isArray?Array.isArray(e):"[object Array]"===vn(e)}function _n(e){return"string"==typeof e}function hn(e){return"number"==typeof e}function fn(e){return!0===e||!1===e||function(e){return dn(e)&&null!==e}(e)&&"[object Boolean]"==vn(e)}function dn(e){return"object"==typeof e}function pn(e){return null!=e}function gn(e){return!e.trim().length}function vn(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const mn=Object.prototype.hasOwnProperty;class yn{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(e=>{let n=Cn(e);this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight}),this._keys.forEach(e=>{e.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Cn(e){let t=null,n=null,r=null,i=1,o=null;if(_n(e)||an(e))r=e,t=bn(e),n=An(e);else{if(!mn.call(e,"name"))throw new Error((e=>`Missing ${e} property in key`)("name"));const u=e.name;if(r=u,mn.call(e,"weight")&&(i=e.weight,i<=0))throw new Error((e=>`Property 'weight' in key '${e}' must be a positive integer`)(u));t=bn(u),n=An(u),o=e.getFn}return{path:t,id:n,weight:i,src:r,getFn:o}}function bn(e){return an(e)?e:e.split(".")}function An(e){return an(e)?e.join("."):e}var En={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(e,t){let n=[],r=!1;const i=(e,t,o)=>{if(pn(e))if(t[o]){const u=e[t[o]];if(!pn(u))return;if(o===t.length-1&&(_n(u)||hn(u)||fn(u)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(u));else if(an(u)){r=!0;for(let e=0,n=u.length;e<n;e+=1)i(u[e],t,o+1)}else t.length&&i(u,t,o+1)}else n.push(e)};return i(e,_n(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const xn=/[^ ]+/g;class Sn{constructor({getFn:e=En.getFn,fieldNormWeight:t=En.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(t){const i=t.match(xn).length;if(n.has(i))return n.get(i);const o=1/Math.pow(i,.5*e),u=parseFloat(Math.round(o*r)/r);return n.set(i,u),u},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((e,t)=>{this._keysMap[e.id]=t})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,_n(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();_n(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!pn(e)||gn(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach((t,r)=>{let i=t.getFn?t.getFn(e):this.getFn(e,t.path);if(pn(i))if(an(i)){let e=[];const t=[{nestedArrIndex:-1,value:i}];for(;t.length;){const{nestedArrIndex:n,value:r}=t.pop();if(pn(r))if(_n(r)&&!gn(r)){let t={v:r,i:n,n:this.norm.get(r)};e.push(t)}else an(r)&&r.forEach((e,n)=>{t.push({nestedArrIndex:n,value:e})})}n.$[r]=e}else if(_n(i)&&!gn(i)){let e={v:i,n:this.norm.get(i)};n.$[r]=e}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function kn(e,t,{getFn:n=En.getFn,fieldNormWeight:r=En.fieldNormWeight}={}){const i=new Sn({getFn:n,fieldNormWeight:r});return i.setKeys(e.map(Cn)),i.setSources(t),i.create(),i}function Fn(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:i=En.distance,ignoreLocation:o=En.ignoreLocation}={}){const u=t/e.length;if(o)return u;const s=Math.abs(r-n);return i?u+s/i:s?1:u}const wn=32;function Dn(e,t,n,{location:r=En.location,distance:i=En.distance,threshold:o=En.threshold,findAllMatches:u=En.findAllMatches,minMatchCharLength:s=En.minMatchCharLength,includeMatches:c=En.includeMatches,ignoreLocation:l=En.ignoreLocation}={}){if(t.length>wn)throw new Error(`Pattern length exceeds max of ${wn}.`);const a=t.length,_=e.length,h=Math.max(0,Math.min(r,_));let f=o,d=h;const p=s>1||c,g=p?Array(_):[];let v;for(;(v=e.indexOf(t,d))>-1;){let e=Fn(t,{currentLocation:v,expectedLocation:h,distance:i,ignoreLocation:l});if(f=Math.min(e,f),d=v+a,p){let e=0;for(;e<a;)g[v+e]=1,e+=1}}d=-1;let m=[],y=1,C=a+_;const b=1<<a-1;for(let E=0;E<a;E+=1){let r=0,o=C;for(;r<o;){Fn(t,{errors:E,currentLocation:h+o,expectedLocation:h,distance:i,ignoreLocation:l})<=f?r=o:C=o,o=Math.floor((C-r)/2+r)}C=o;let s=Math.max(1,h-o+1),c=u?_:Math.min(h+o,_)+a,v=Array(c+2);v[c+1]=(1<<E)-1;for(let u=c;u>=s;u-=1){let r=u-1,o=n[e.charAt(r)];if(p&&(g[r]=+!!o),v[u]=(v[u+1]<<1|1)&o,E&&(v[u]|=(m[u+1]|m[u])<<1|1|m[u+1]),v[u]&b&&(y=Fn(t,{errors:E,currentLocation:r,expectedLocation:h,distance:i,ignoreLocation:l}),y<=f)){if(f=y,d=r,d<=h)break;s=Math.max(1,2*h-d)}}if(Fn(t,{errors:E+1,currentLocation:h,expectedLocation:h,distance:i,ignoreLocation:l})>f)break;m=v}const A={isMatch:d>=0,score:Math.max(.001,y)};if(p){const e=function(e=[],t=En.minMatchCharLength){let n=[],r=-1,i=-1,o=0;for(let u=e.length;o<u;o+=1){let u=e[o];u&&-1===r?r=o:u||-1===r||(i=o-1,i-r+1>=t&&n.push([r,i]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}(g,s);e.length?c&&(A.indices=e):A.isMatch=!1}return A}function Mn(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}const Bn=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class Ln{constructor(e,{location:t=En.location,threshold:n=En.threshold,distance:r=En.distance,includeMatches:i=En.includeMatches,findAllMatches:o=En.findAllMatches,minMatchCharLength:u=En.minMatchCharLength,isCaseSensitive:s=En.isCaseSensitive,ignoreDiacritics:c=En.ignoreDiacritics,ignoreLocation:l=En.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:u,isCaseSensitive:s,ignoreDiacritics:c,ignoreLocation:l},e=s?e:e.toLowerCase(),e=c?Bn(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const a=(e,t)=>{this.chunks.push({pattern:e,alphabet:Mn(e),startIndex:t})},_=this.pattern.length;if(_>wn){let e=0;const t=_%wn,n=_-t;for(;e<n;)a(this.pattern.substr(e,wn),e),e+=wn;if(t){const e=_-wn;a(this.pattern.substr(e),e)}}else a(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:n,includeMatches:r}=this.options;if(e=t?e:e.toLowerCase(),e=n?Bn(e):e,this.pattern===e){let t={isMatch:!0,score:0};return r&&(t.indices=[[0,e.length-1]]),t}const{location:i,distance:o,threshold:u,findAllMatches:s,minMatchCharLength:c,ignoreLocation:l}=this.options;let a=[],_=0,h=!1;this.chunks.forEach(({pattern:t,alphabet:n,startIndex:f})=>{const{isMatch:d,score:p,indices:g}=Dn(e,t,n,{location:i+f,distance:o,threshold:u,findAllMatches:s,minMatchCharLength:c,includeMatches:r,ignoreLocation:l});d&&(h=!0),_+=p,d&&g&&(a=[...a,...g])});let f={isMatch:h,score:h?_/this.chunks.length:1};return h&&r&&(f.indices=a),f}}class Nn{constructor(e){this.pattern=e}static isMultiMatch(e){return Rn(e,this.multiRegex)}static isSingleMatch(e){return Rn(e,this.singleRegex)}search(){}}function Rn(e,t){const n=e.match(t);return n?n[1]:null}class In extends Nn{constructor(e,{location:t=En.location,threshold:n=En.threshold,distance:r=En.distance,includeMatches:i=En.includeMatches,findAllMatches:o=En.findAllMatches,minMatchCharLength:u=En.minMatchCharLength,isCaseSensitive:s=En.isCaseSensitive,ignoreDiacritics:c=En.ignoreDiacritics,ignoreLocation:l=En.ignoreLocation}={}){super(e),this._bitapSearch=new Ln(e,{location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:u,isCaseSensitive:s,ignoreDiacritics:c,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class On extends Nn{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const r=[],i=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+i,r.push([t,n-1]);const o=!!r.length;return{isMatch:o,score:o?0:1,indices:r}}}const Pn=[class extends Nn{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},On,class extends Nn{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends Nn{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends Nn{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends Nn{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends Nn{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},In],Tn=Pn.length,$n=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const Wn=new Set([In.type,On.type]);class Un{constructor(e,{isCaseSensitive:t=En.isCaseSensitive,ignoreDiacritics:n=En.ignoreDiacritics,includeMatches:r=En.includeMatches,minMatchCharLength:i=En.minMatchCharLength,ignoreLocation:o=En.ignoreLocation,findAllMatches:u=En.findAllMatches,location:s=En.location,threshold:c=En.threshold,distance:l=En.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:n,includeMatches:r,minMatchCharLength:i,findAllMatches:u,ignoreLocation:o,location:s,threshold:c,distance:l},e=t?e:e.toLowerCase(),e=n?Bn(e):e,this.pattern=e,this.query=function(e,t={}){return e.split("|").map(e=>{let n=e.trim().split($n).filter(e=>e&&!!e.trim()),r=[];for(let i=0,o=n.length;i<o;i+=1){const e=n[i];let o=!1,u=-1;for(;!o&&++u<Tn;){const n=Pn[u];let i=n.isMultiMatch(e);i&&(r.push(new n(i,t)),o=!0)}if(!o)for(u=-1;++u<Tn;){const n=Pn[u];let i=n.isSingleMatch(e);if(i){r.push(new n(i,t));break}}}return r})}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r,ignoreDiacritics:i}=this.options;e=r?e:e.toLowerCase(),e=i?Bn(e):e;let o=0,u=[],s=0;for(let c=0,l=t.length;c<l;c+=1){const r=t[c];u.length=0,o=0;for(let t=0,i=r.length;t<i;t+=1){const i=r[t],{isMatch:c,indices:l,score:a}=i.search(e);if(!c){s=0,o=0,u.length=0;break}if(o+=1,s+=a,n){const e=i.constructor.type;Wn.has(e)?u=[...u,...l]:u.push(l)}}if(o){let e={isMatch:!0,score:s/o};return n&&(e.indices=u),e}}return{isMatch:!1,score:1}}}const Hn=[];function jn(e,t){for(let n=0,r=Hn.length;n<r;n+=1){let r=Hn[n];if(r.condition(e,t))return new r(e,t)}return new Ln(e,t)}const Vn="$and",zn="$or",qn="$path",Qn="$val",Kn=e=>!(!e[Vn]&&!e[zn]),Gn=e=>({[Vn]:Object.keys(e).map(t=>({[t]:e[t]}))});function Jn(e,t,{auto:n=!0}={}){const r=e=>{let i=Object.keys(e);const o=(e=>!!e[qn])(e);if(!o&&i.length>1&&!Kn(e))return r(Gn(e));if((e=>!an(e)&&dn(e)&&!Kn(e))(e)){const r=o?e[qn]:i[0],u=o?e[Qn]:e[r];if(!_n(u))throw new Error((e=>`Invalid value for key ${e}`)(r));const s={keyId:An(r),pattern:u};return n&&(s.searcher=jn(u,t)),s}let u={children:[],operator:i[0]};return i.forEach(t=>{const n=e[t];an(n)&&n.forEach(e=>{u.children.push(r(e))})}),u};return Kn(e)||(e=Gn(e)),r(e)}function Yn(e,t){const n=e.matches;t.matches=[],pn(n)&&n.forEach(e=>{if(!pn(e.indices)||!e.indices.length)return;const{indices:n,value:r}=e;let i={indices:n,value:r};e.key&&(i.key=e.key.src),e.idx>-1&&(i.refIndex=e.idx),t.matches.push(i)})}function Zn(e,t){t.score=e.score}class Xn{constructor(e,t={},n){this.options={...En,...t},this.options.useExtendedSearch,this._keyStore=new yn(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof Sn))throw new Error("Incorrect 'index' type");this._myIndex=t||kn(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){pn(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let n=0,r=this._docs.length;n<r;n+=1){const i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,r-=1,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:i,sortFn:o,ignoreFieldNorm:u}=this.options;let s=_n(e)?_n(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=En.ignoreFieldNorm}){e.forEach(e=>{let n=1;e.matches.forEach(({key:e,norm:r,score:i})=>{const o=e?e.weight:null;n*=Math.pow(0===i&&o?Number.EPSILON:i,(o||1)*(t?1:r))}),e.score=n})}(s,{ignoreFieldNorm:u}),i&&s.sort(o),hn(t)&&t>-1&&(s=s.slice(0,t)),function(e,t,{includeMatches:n=En.includeMatches,includeScore:r=En.includeScore}={}){const i=[];return n&&i.push(Yn),r&&i.push(Zn),e.map(e=>{const{idx:n}=e,r={item:t[n],refIndex:n};return i.length&&i.forEach(t=>{t(e,r)}),r})}(s,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){const t=jn(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach(({v:e,i:n,n:i})=>{if(!pn(e))return;const{isMatch:o,score:u,indices:s}=t.searchIn(e);o&&r.push({item:e,idx:n,matches:[{score:u,value:e,norm:i,indices:s}]})}),r}_searchLogical(e){const t=Jn(e,this.options),n=(e,t,r)=>{if(!e.children){const{keyId:n,searcher:i}=e,o=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:i});return o&&o.length?[{idx:r,item:t,matches:o}]:[]}const i=[];for(let o=0,u=e.children.length;o<u;o+=1){const u=e.children[o],s=n(u,t,r);if(s.length)i.push(...s);else if(e.operator===Vn)return[]}return i},r=this._myIndex.records,i={},o=[];return r.forEach(({$:e,i:r})=>{if(pn(e)){let u=n(t,e,r);u.length&&(i[r]||(i[r]={idx:r,item:e,matches:[]},o.push(i[r])),u.forEach(({matches:e})=>{i[r].matches.push(...e)}))}}),o}_searchObjectList(e){const t=jn(e,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach(({$:e,i:r})=>{if(!pn(e))return;let o=[];n.forEach((n,r)=>{o.push(...this._findMatches({key:n,value:e[r],searcher:t}))}),o.length&&i.push({idx:r,item:e,matches:o})}),i}_findMatches({key:e,value:t,searcher:n}){if(!pn(t))return[];let r=[];if(an(t))t.forEach(({v:t,i:i,n:o})=>{if(!pn(t))return;const{isMatch:u,score:s,indices:c}=n.searchIn(t);u&&r.push({score:s,key:e,value:t,idx:i,norm:o,indices:c})});else{const{v:i,n:o}=t,{isMatch:u,score:s,indices:c}=n.searchIn(i);u&&r.push({score:s,key:e,value:i,norm:o,indices:c})}return r}}function er({device:e,onToggle:t,onFavorite:n,isFavorite:r}){return q("div",{onClick:()=>{t&&t(e)},style:{padding:"12px",background:e.isOn?"#e3f2fd":"#f5f5f5",borderRadius:"8px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[q("div",{children:[q("div",{style:{fontWeight:"bold"},children:e.name}),q("div",{style:{fontSize:"12px",color:"#666"},children:e.state})]}),q("button",{onClick:t=>{t.stopPropagation(),n&&n(e.entity_id)},style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer"},children:r?"⭐":"☆"})]})}function tr({value:e,onChange:t,categories:n,activeCategory:r,onCategoryChange:i}){return q("div",{style:{marginBottom:"16px"},children:[q("input",{type:"text",value:e,onInput:e=>t(e.target.value),placeholder:"Search devices...",style:{width:"100%",padding:"12px",fontSize:"16px",border:"1px solid #ddd",borderRadius:"8px",boxSizing:"border-box"}}),q("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:n.map(e=>q("button",{onClick:()=>i(e.id),style:{padding:"6px 12px",border:"1px solid #ddd",borderRadius:"16px",background:r===e.id?"#007AFF":"white",color:r===e.id?"white":"black",cursor:"pointer"},children:e.label},e.id))})]})}function nr({hass:e,config:t,onAction:n}){const{searchQuery:r,setSearchQuery:i,selectedCategory:o,setSelectedCategory:u,favorites:s,toggleFavorite:c}=sn(),l=function(e,t){return pe(()=>{if(!(null==e?void 0:e.states))return[];const n=(null==t?void 0:t.domains)||["light","switch","climate","cover","media_player"];return Object.values(e.states).filter(e=>{const t=e.entity_id.split(".")[0];return n.includes(t)}).map(e=>{const t=e.entity_id.split(".")[0];return{entity_id:e.entity_id,domain:t,state:e.state,name:e.attributes.friendly_name||e.entity_id,attributes:e.attributes,isOn:["on","open","playing"].includes(e.state),isAvailable:"unavailable"!==e.state,icon:e.attributes.icon||ln(t,e.state)}})},[null==e?void 0:e.states,null==t?void 0:t.domains])}(e,t),a=function(e,t,n={}){const{category:r="all",favorites:i=[],maxResults:o=50}=n,u=pe(()=>new Set(i),[i]),s=pe(()=>e&&0!==e.length?new Xn(e,{keys:["name","entity_id"],threshold:.3}):null,[e]);return pe(()=>{let n=e||[];return"all"!==r&&(n=n.filter(e=>e.domain===r)),t&&s&&(n=s.search(t).map(e=>e.item)),n.sort((e,t)=>{const n=u.has(e.entity_id);return n!==u.has(t.entity_id)?n?-1:1:0}),n.slice(0,o)},[e,t,r,u,s,o])}(l,r,{category:o,favorites:s,maxResults:(null==t?void 0:t.max_results)||50});if(!e)return q("div",{style:{padding:"16px"},children:q("div",{children:"Loading..."})});const _=async e=>{n&&await n({type:"TOGGLE",entityId:e.entity_id})};return q("div",{style:{padding:"16px",fontFamily:"system-ui, sans-serif"},children:[q("h2",{style:{margin:"0 0 16px 0"},children:(null==t?void 0:t.title)||"Device Search"}),q(tr,{value:r,onChange:i,categories:[{id:"all",label:"All"},{id:"light",label:"Lights"},{id:"switch",label:"Switches"},{id:"climate",label:"Climate"}],activeCategory:o,onCategoryChange:u}),q("div",{style:{display:"grid",gap:"8px"},children:a.length>0?a.map(e=>q(er,{device:e,onToggle:_,onFavorite:c,isFavorite:s.includes(e.entity_id)},e.entity_id)):q("div",{style:{padding:"32px",textAlign:"center",color:"#666"},children:r?`No devices found for "${r}"`:"No devices available"})}),q("div",{style:{marginTop:"16px",padding:"8px",background:"#f0f0f0",borderRadius:"4px",fontSize:"12px",color:"#666"},children:["Found ",a.length," devices • Total: ",l.length]})]})}Xn.version="7.1.0",Xn.createIndex=kn,Xn.parseIndex=function(e,{getFn:t=En.getFn,fieldNormWeight:n=En.fieldNormWeight}={}){const{keys:r,records:i}=e,o=new Sn({getFn:t,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(i),o},Xn.config=En,Xn.parseQuery=Jn,function(...e){Hn.push(...e)}(Un);class rr extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.handleAction=this.handleAction.bind(this)}connectedCallback(){this.render()}setConfig(e){this._config=e,sn.getState().setConfig(e),this.render()}set hass(e){this._hass=e,sn.getState().setHass(e),this.render()}async handleAction(e){if(this._hass)try{if("TOGGLE"===e.type)await this._hass.callService("homeassistant","toggle",{entity_id:e.entityId})}catch(t){console.error("Action failed:",t)}}render(){U(q(nr,{hass:this._hass,config:this._config,onAction:this.handleAction}),this.shadowRoot)}static getStubConfig(){return{type:"custom:fast-search-card",title:"Search",domains:["light","switch","climate"],max_results:50}}getCardSize(){var e;return(null==(e=this._config)?void 0:e.card_height)||4}}customElements.get("fast-search-card")||customElements.define("fast-search-card",rr),window.customCards=window.customCards||[],window.customCards.find(e=>"fast-search-card"===e.type)||window.customCards.push({type:"fast-search-card",name:"Fast Search Card",preview:!0,description:"Fast search card with Preact"}),console.info("%c FAST-SEARCH-CARD v2 ","background: #007AFF; color: white; font-weight: bold;")}();
