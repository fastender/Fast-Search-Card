// Fast Search Card - Custom Element Wrapper
// Auto-generated by build.sh

// Custom Element Definition
class FastSearchCardElement extends HTMLElement {
  constructor() {
    super();
    this.attachShadow({ mode: 'open' });
    this._config = {};
    this._hass = null;
    this._initialized = false;
    this._appMounted = false;

    // Sofort sichtbaren Placeholder erstellen (vor _render)
    this._createPlaceholder();

    // Schutz gegen Verstecken durch HA Edit-Mode
    this._protectVisibility();
  }

  _createPlaceholder() {
    // Minimaler Placeholder der SOFORT sichtbar ist
    this.shadowRoot.innerHTML = '<style>' +
      ':host { display: block !important; visibility: visible !important; min-height: 100px; position: relative; }' +
      '.fsc-placeholder { display: flex; align-items: center; justify-content: center; min-height: 672px; ' +
      'background: var(--card-background-color, #fff); border-radius: var(--ha-card-border-radius, 4px); ' +
      'box-shadow: var(--ha-card-box-shadow, 0 2px 4px rgba(0,0,0,0.1)); }' +
      '.fsc-placeholder-content { text-align: center; padding: 20px; color: var(--primary-text-color); }' +
      '</style>' +
      '<div class="fsc-placeholder"><div class="fsc-placeholder-content">' +
      '<div>üîç Fast Search Card</div>' +
      '<div style="margin-top: 10px; font-size: 0.9em; opacity: 0.7;">Loading...</div>' +
      '</div></div>';
  }

  _protectVisibility() {
    // Verhindert dass HA die Card versteckt (z.B. im Edit-Mode)
    this._visibilityObserver = new MutationObserver((mutations) => {
      // Nur reagieren wenn Card tats√§chlich versteckt wird
      const computedStyle = window.getComputedStyle(this);
      if (computedStyle.display === 'none' || computedStyle.visibility === 'hidden') {
        // Nur √ºberschreiben wenn App mounted ist (sonst legitimes Hide)
        if (this._appMounted || this._initialized) {
          this.style.display = 'block';
          this.style.visibility = 'visible';
        }
      }
    });

    this._visibilityObserver.observe(this, {
      attributes: true,
      attributeFilter: ['style', 'class']
    });
  }

  setConfig(config) {
    this._config = config;
    if (!this._initialized) {
      this._render();
    }
  }

  set hass(hass) {
    this._hass = hass;
    if (this._appMounted && window.FastSearchCardApp) {
      window.FastSearchCardApp.updateHass(this._root, hass);
    }
  }

  connectedCallback() {
    // Render wenn noch nicht initialisiert ODER wenn App unmounted wurde
    if (!this._initialized || !this._appMounted) {
      this._render();
    }
  }

  disconnectedCallback() {
    if (this._appMounted && window.FastSearchCardApp) {
      window.FastSearchCardApp.unmount(this._root);
      this._appMounted = false;
    }

    // Reset f√ºr sauberen Re-Mount
    this._initialized = false;

    // Cleanup Observer
    if (this._visibilityObserver) {
      this._visibilityObserver.disconnect();
      this._visibilityObserver = null;
    }
  }

  _render() {
    if (this._initialized) return;
    this._initialized = true;

    // Placeholder entfernen und echtes Shadow DOM aufbauen
    const placeholder = this.shadowRoot.querySelector('.fsc-placeholder');
    if (placeholder) {
      placeholder.remove();
    }

    // Pr√ºfen ob #root schon existiert (beim Re-Mount)
    let root = this.shadowRoot.querySelector('#root');

    if (!root) {
      // Nur beim ersten Render erstellen
      console.log('[FastSearchCard] Shadow DOM initialized (first time)');

      // Behalte den Visibility-Style, f√ºge aber echtes CSS hinzu
      const hostStyle = this.shadowRoot.querySelector('style');
      if (hostStyle) {
        hostStyle.textContent += '\n' +
          ':host { display: block !important; visibility: visible !important; position: relative; }' +
          '#root { min-height: 100px; }';
      }

      // Root-Element erstellen
      root = document.createElement('div');
      root.id = 'root';
      this.shadowRoot.appendChild(root);

      // CSS ins Shadow DOM (wird durch inject-css.js eingef√ºgt)
      const style = document.createElement('style');
      style.textContent = '.carousel-dots{position:absolute;bottom:35px;left:50%;transform:translate(-50%);display:flex;gap:8px;z-index:10}.carousel-dots .dot{width:8px;height:8px;border-radius:50%;background:#ffffff4d;cursor:pointer;transition:all .3s ease}.carousel-dots .dot.active{background:#fffc;transform:scale(1.2)}.carousel-dots .dot:hover{background:#ffffff80}.label-container{position:absolute;bottom:60px;left:50%;transform:translate(-50%);width:100%;text-align:center}.solar-carousel{touch-action:pan-y pinch-zoom}.solar-carousel .circular-value,.solar-carousel .circular-label{transition:all .5s ease}@media (max-width: 768px){.carousel-dots{bottom:25px;gap:6px}.carousel-dots .dot{width:6px;height:6px}.label-container{bottom:45px}}.ios-settings-container{width:100%;height:100%;max-height:555px;position:relative;background:#00000040;border-radius:24px;overflow:hidden}.ios-view-wrapper{display:flex;flex-direction:column;width:100%;height:100%}.ios-settings-view{flex:1;overflow-y:auto;overflow-x:hidden;padding:0 20px 20px;scrollbar-width:none;-ms-overflow-style:none}.ios-settings-view::-webkit-scrollbar{display:none}.ios-navbar{display:flex;align-items:center;height:62px;padding:0 20px;border-radius:24px 24px 0 0}.ios-back-button,.ios-navbar-back{display:flex;align-items:center;gap:5px;background:none;border:none;color:#fffffff2;font-size:17px;cursor:pointer;padding:0}.ios-back-button svg,.ios-navbar-back svg{stroke:#fffffff2}.ios-navbar-title{position:absolute;left:50%;transform:translate(-50%);font-size:17px;font-weight:600;color:#fffffff2}.ios-section{margin-bottom:35px;padding:20px 12px 0}.ios-section-header{font-size:13px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:#fff9;margin-bottom:8px;padding-left:0;line-height:1.1}.ios-section-footer{font-size:13px;color:#fff9;margin-top:8px;padding-left:0;line-height:1.4}.ios-text{color:#ffffffd9}.ios-text-strong{color:#fffffff2}.ios-text-medium{color:#ffffffe6}.ios-card{border-radius:10px;overflow:visible;display:flex;flex-direction:column;gap:8px}.ios-item{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;min-height:44px;transition:all .15s cubic-bezier(.4,0,.2,1);transform-origin:center;border-radius:10px;position:relative;z-index:1;background:#ffffff14;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}@media (hover: hover){.ios-item:hover:not(:active){transform:scale(1.02);background:#fffffff2!important;box-shadow:0 8px 24px #0006,0 4px 12px #0000004d;z-index:10}.ios-item:hover:not(:active) .ios-item-label,.ios-item:hover:not(:active) .ios-item-subtitle,.ios-item:hover:not(:active) .ios-item-value,.ios-item:hover:not(:active) .range-label,.ios-item:hover:not(:active) .range-value-display,.ios-item:hover:not(:active) .slider-value{color:#000!important}.ios-item:hover:not(:active) .ios-chevron{color:#00000080!important}.ios-item:hover:not(:active) .ios-checkmark{background:#000!important}.ios-item:hover:not(:active) .ios-checkmark svg circle{fill:#000!important;stroke:#000!important}.ios-item:hover:not(:active) .ios-checkmark svg path{stroke:#fff!important}.ios-item:hover:not(:active) .ios-item-left svg,.ios-item:hover:not(:active) .ios-item-left div svg{color:#000!important}.ios-item:hover:not(:active) .ios-item-left svg path,.ios-item:hover:not(:active) .ios-item-left svg polyline,.ios-item:hover:not(:active) .ios-item-left svg circle,.ios-item:hover:not(:active) .ios-item-left svg rect,.ios-item:hover:not(:active) .ios-item-left svg line,.ios-item:hover:not(:active) .ios-item-left div svg path,.ios-item:hover:not(:active) .ios-item-left div svg polyline,.ios-item:hover:not(:active) .ios-item-left div svg circle,.ios-item:hover:not(:active) .ios-item-left div svg rect,.ios-item:hover:not(:active) .ios-item-left div svg line{stroke:#000!important;fill:#000!important}.ios-item:hover:not(:active) code.ios-text-strong{background:#000!important;color:#fff!important}.ios-item:hover:not(:active) .range-slider-input{background:linear-gradient(to right,#000000 0%,#000000 var(--slider-progress, 50%),rgba(0,0,0,.15) var(--slider-progress, 50%),rgba(0,0,0,.15) 100%)!important}.ios-item:hover:not(:active) input,.ios-item:hover:not(:active) .ios-input,.ios-item:hover:not(:active) .ios-number-input{color:#000!important}.ios-item:hover:not(:active) .ios-toggle,.ios-item:hover:not(:active) button,.ios-item:hover:not(:active) input{position:relative;z-index:11}}.ios-item:active{transform:scale(1);background:#ffffff14!important;transition:all .05s ease!important}.ios-item-clickable{cursor:pointer;transition:background-color .1s ease}.ios-item-left{display:flex;align-items:center;gap:12px;flex:1;min-width:0;margin-right:16px}.ios-item-right{display:flex;align-items:center;gap:8px;flex-shrink:0}.ios-item-content{flex:1;min-width:0}.ios-item-label{font-size:14px;font-weight:600;color:#fffffff2;line-height:1.3;word-wrap:break-word;overflow-wrap:break-word}.ios-item-label-small{font-size:15px;font-weight:500;color:#fffffff2}.ios-item-subtitle{font-size:12px;color:#fff9;margin-top:2px;line-height:1.1}.ios-item-value{font-size:15px;font-weight:500;color:#ffffff80;margin-right:4px}.slider-value{color:#ffffff80}.ios-feed-icon{width:29px;height:29px;border-radius:7px;background:#ff9500e6;display:flex;align-items:center;justify-content:center;font-size:16px;flex-shrink:0}.ios-divider,.ios-divider-inset{display:none}.ios-chevron{color:#ffffff4d;flex-shrink:0}.ios-checkmark{color:#007aff;flex-shrink:0;background:#fff;border-radius:50%;width:24px;height:24px;display:flex;align-items:center;justify-content:center}.ios-toggle{position:relative;display:inline-block;width:51px;height:31px}.ios-toggle input{opacity:0;width:0;height:0}.ios-toggle-slider{position:absolute;cursor:pointer;inset:0;background:#fff3;border-radius:31px;transition:all .3s ease}.ios-toggle-slider:before{position:absolute;content:"";height:27px;width:27px;left:2px;bottom:2px;background-color:#fff;border-radius:50%;transition:all .3s ease;box-shadow:0 2px 4px #0003}.ios-toggle input:checked+.ios-toggle-slider{background:#34c759}.ios-toggle input:checked+.ios-toggle-slider:before{transform:translate(20px)}.ios-empty-state{padding:40px 20px;text-align:center;color:#fff9}.ios-empty-state p{font-size:15px;margin:0}.ios-select{padding:6px 8px;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:6px;color:#fffffff2;font-size:15px;cursor:pointer;transition:all .2s ease;min-width:120px}@media (hover: hover){.ios-select:hover{background:#ffffff26}}.ios-select:focus{outline:none;border-color:#007aff}.ios-input{padding:6px 12px;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:6px;color:#fff;font-size:15px;text-align:right;width:80px;transition:all .2s ease}@media (hover: hover){.ios-input:hover{background:#ffffff26}}.ios-input:focus{outline:none;border-color:#007aff}.ios-input[type=number]::-webkit-inner-spin-button,.ios-input[type=number]::-webkit-outer-spin-button{opacity:1}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:12px;height:12px;border-radius:50%;background:#fff;cursor:pointer;box-shadow:0 2px 8px #0003;border:none}input[type=range]::-moz-range-thumb{width:12px;height:12px;border-radius:50%;background:#fff;cursor:pointer;box-shadow:0 2px 8px #0003;border:none}.printer-sensors-wrapper{background:transparent;max-height:420px;border-radius:24px;overflow:hidden;display:flex;flex-direction:column}.printer-sensors-wrapper .ios-settings-view{flex:1;overflow-y:auto;overflow-x:hidden}.printer-sensors-scroll{scrollbar-width:none;-ms-overflow-style:none}.printer-sensors-scroll::-webkit-scrollbar{display:none}@media (max-width: 768px){.ios-section{padding:0 12px}.ios-item,.ios-navbar{padding:10px 12px}.printer-sensors-wrapper{max-height:190px}}.bambu-slider{-webkit-appearance:none;appearance:none;width:100%;height:6px;border-radius:3px;outline:none;cursor:pointer;position:relative;background:linear-gradient(to right,#007aff 0% calc((var(--value) - var(--min)) / (var(--max) - var(--min)) * 100%),#ffffff26 calc((var(--value) - var(--min)) / (var(--max) - var(--min)) * 100%) 100%)}.bambu-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:20px;height:20px;border-radius:50%;background:#fff;cursor:pointer;box-shadow:0 2px 6px #0000004d;transition:transform .1s ease}@media (hover: hover){.bambu-slider::-webkit-slider-thumb:hover{transform:scale(1.1)}}.bambu-slider::-webkit-slider-thumb:active{transform:scale(1.05)}.bambu-slider::-moz-range-thumb{width:20px;height:20px;border-radius:50%;background:#fff;cursor:pointer;border:none;box-shadow:0 2px 6px #0000004d;transition:transform .1s ease}@media (hover: hover){.bambu-slider::-moz-range-thumb:hover{transform:scale(1.1)}}.bambu-slider::-moz-range-thumb:active{transform:scale(1.05)}.bambu-slider::-moz-range-track{background:transparent;border:none}.energy-charts-view{width:100%;display:flex;flex-direction:column;gap:20px;padding:0 0 20px;background:transparent;border-radius:0}.energy-header{display:flex;justify-content:space-between;align-items:center;gap:16px;flex-wrap:wrap;padding:0 16px}.energy-date-container{display:flex;flex-direction:column;gap:2px}.energy-date{font-size:14px;font-weight:600;color:#fffffff2}.energy-total-value{font-size:20px;font-weight:700;color:#fffffff2;line-height:1.2}.energy-total-value sup{font-size:11px;font-weight:600;color:#fff9;margin-left:2px}.energy-time-tabs{display:flex;gap:4px;background:#ffffff14;padding:4px;border-radius:10px;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.time-tab{padding:6px 14px;background:transparent;border:none;color:#fff9;font-size:13px;font-weight:500;cursor:pointer;border-radius:8px;transition:all .2s ease}.time-tab:hover{color:#fffc;background:#ffffff0d}.time-tab.active{background:#fff3;color:#fffffff2}.energy-summary{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:0 16px}.energy-stats-inline{display:flex;align-items:center;gap:10px;flex:1}.energy-stat-item{display:flex;flex-direction:column-reverse;gap:0px;flex:1;min-width:0;font-size:12px;color:#ffffffe6;font-weight:500;white-space:nowrap;flex-shrink:0}.stat-value{font-size:20px;font-weight:700;color:#fffffff2;line-height:1.2;white-space:nowrap}.energy-stat-item .stat-value{font-size:18px}.stat-value sup{font-size:11px;font-weight:600;color:#fff9;margin-left:2px}.stat-label{display:flex;align-items:center;font-size:10px;color:#ffffff80;margin-bottom:-4px;text-transform:uppercase;letter-spacing:.5px;font-weight:700}.stat-label svg{flex-shrink:0;vertical-align:middle;display:block}.stat-percent{color:#fff6}.energy-stat-item[data-source=grid] .stat-label,.energy-stat-item[data-source=solar] .stat-label,.energy-stat-item[data-source=battery] .stat-label{color:#fffc}.stat-divider{width:1px;height:36px;background:#ffffff26;flex-shrink:0}.energy-ring-chart{width:50px;height:50px;flex-shrink:0;display:flex;align-items:center;justify-content:center}.energy-ring-chart canvas{width:50px!important;height:50px!important}.value-trend{font-size:16px;font-weight:600;color:#30d158;margin-left:8px}.energy-chart-container{width:100%;height:240px;position:relative;background:transparent;border-radius:0;padding:0 16px}.energy-chart-container canvas{width:100%!important;height:100%!important}.loading-container{display:flex;align-items:center;justify-content:center;height:100%;position:absolute;inset:0;z-index:10}.loading-spinner{width:32px;height:32px;border:3px solid rgba(255,255,255,.1);border-top-color:#fffc;border-radius:50%;animation:spin .8s linear infinite}.no-data-message{display:flex;align-items:center;justify-content:center;height:100%;color:#ffffff80;font-size:14px;position:absolute;inset:0;z-index:10}.energy-sources{display:flex;flex-direction:column;gap:12px;padding:0 16px}.sources-label{font-size:13px;color:#fff9;text-transform:uppercase;letter-spacing:.5px}.sources-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}.source-card{background:#ffffff14;border-radius:10px;padding:12px;display:flex;flex-direction:column;gap:6px;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.source-value{font-size:18px;font-weight:700;color:#fffffff2}.source-label{font-size:12px;color:#fff9;display:flex;align-items:center;gap:4px}.energy-sources-bar{width:100%;margin-bottom:8px}.energy-progress-bar{width:100%;height:6px;border-radius:3px;display:flex;overflow:hidden;background:#ffffff0d}.progress-segment{height:100%;transition:width .3s ease}.progress-segment.solar{background:#fc0}.progress-segment.grid{background:#af52de}.progress-segment.battery{background:#30d158}@media (max-width: 768px){.energy-charts-view{padding:12px;gap:16px}.energy-header{gap:12px}.energy-time-tabs{justify-content:stretch}.time-tab{flex:1;padding:6px 12px;font-size:13px}.value-number{font-size:28px}.value-unit{font-size:16px}.energy-chart-container{height:200px;padding:12px}.sources-grid{grid-template-columns:repeat(2,1fr);gap:8px}.source-card{padding:10px}.source-value{font-size:16px}.source-label{font-size:11px}}.controls-tab{opacity:0;transition:opacity .5s ease;will-change:opacity;height:100%;display:flex;flex-direction:column}.controls-tab.visible{opacity:1;animation:fadeInUp .6s cubic-bezier(.16,1,.3,1) forwards}@keyframes fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.device-control-design{position:relative;display:flex;flex-direction:column;align-items:center;gap:0;width:100%;height:100%;overflow-y:auto;overflow-x:hidden;scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.2) transparent}.device-control-design::-webkit-scrollbar{width:6px}.device-control-design::-webkit-scrollbar-track{background:transparent}.device-control-design::-webkit-scrollbar-thumb{background:#fff3;border-radius:3px}.slider-wrapper{position:relative;z-index:1;opacity:1;visibility:visible;height:280px;padding-top:20px;display:flex;align-items:flex-start;justify-content:center;will-change:transform,opacity,height;transform-origin:center top}@media (max-width: 768px){.slider-wrapper{height:160px;padding-top:0}}.device-control-buttons{display:flex;flex-direction:column;gap:12px;position:sticky;top:0;z-index:10;will-change:transform;transform-origin:center top;width:100%;max-width:500px;margin:20px auto 0;background:transparent;padding:0;border-radius:0}.device-control-buttons.energy-dashboard-buttons{position:relative}.control-row{display:flex;gap:8px;justify-content:center;align-items:center;flex-wrap:wrap;max-width:100%;padding:0 10px}.control-button-wrapper{display:flex;flex-direction:column;align-items:center;gap:8px}.button-label{font-size:11px;color:#fffc;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:72px;line-height:1.2;font-weight:400}@media (max-width: 768px){.button-label{font-size:10px;max-width:52px}}.control-button{width:72px;height:72px;min-width:72px;min-height:72px;aspect-ratio:1;flex-shrink:0;padding:0;background:#ffffff1a;border:0px solid rgba(255,255,255,.2);border-radius:50%;box-sizing:border-box;color:#fff;cursor:pointer;transition:all .2s ease;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2px;position:relative;will-change:transform,background-color;backface-visibility:hidden}.control-button svg{stroke:#fff!important;fill:#fff!important;opacity:1!important;visibility:visible!important}.control-button svg[fill=none]{fill:none!important}.control-button:hover:not(.disabled):not(.expanded){background:#ffffff26;transform:scale(1.05)}.control-button.active{background:#fff3;border-color:#fff6}.control-button.expanded{background:#0091ff!important;border:1px solid rgba(0,145,255,.5);color:#fff!important;opacity:1!important}.control-button.expanded:hover{transform:scale(1) translateZ(0);background:#0091ff!important}.control-button.expanded .button-icon svg{stroke:#fff!important;opacity:1!important}@keyframes pulse{0%,to{box-shadow:0 0 #4a90e266;opacity:1}50%{box-shadow:0 0 0 10px #4a90e200;opacity:1}}.control-button.disabled{opacity:.3;cursor:not-allowed;background:#ffffff0d;border-color:#ffffff1a}.control-button.disabled:hover{transform:none;background:#ffffff0d}.button-icon{display:flex;align-items:center;justify-content:center;width:24px;height:24px;flex-shrink:0;color:inherit}.button-icon svg{width:24px;height:24px;display:block;stroke:currentColor;opacity:1}.control-presets{width:100%;will-change:opacity}.control-row.primary{margin-bottom:0!important}.control-presets.visible{margin-top:20px!important;margin-bottom:0!important;min-height:72px;position:relative!important;top:0!important;transform:none!important}@media (max-width: 768px){.control-presets.visible{min-height:68px}}.control-presets.visible{opacity:1;overflow:visible}.control-presets.grouped .presets-scroll-container{background:#0000004d;border:1px solid rgba(255,255,255,.1);border-radius:20px;padding:16px;max-height:400px;overflow-y:auto;scrollbar-width:none;-ms-overflow-style:none}.control-presets.grouped .presets-scroll-container::-webkit-scrollbar{display:none}.presets-scroll-container{display:flex!important;flex-wrap:wrap;gap:8px;overflow-x:hidden;overflow-y:auto;padding:4px 10px;scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.2) transparent;min-height:72px;max-height:160px;justify-content:center;width:100%;-webkit-overflow-scrolling:touch;scroll-behavior:smooth;will-change:scroll-position}.presets-scroll-container::-webkit-scrollbar{height:6px}.presets-scroll-container::-webkit-scrollbar-track{background:transparent}.presets-scroll-container::-webkit-scrollbar-thumb{background:#fff3;border-radius:3px}.preset-button{width:72px;height:72px;min-width:72px;min-height:72px;aspect-ratio:1;flex:0 0 72px;max-width:72px;padding:0;background:#ffffff1a;border:0px solid rgba(255,255,255,.2);border-radius:50%;box-sizing:border-box;color:#fff;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);font-size:11px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2px;text-align:center;position:relative;will-change:transform,background-color;transform:translateZ(0);backface-visibility:hidden}.preset-button:hover{transform:scale(1.1) translateZ(0);transition:all .15s cubic-bezier(.4,0,.2,1)}.preset-button.active{background:#4a90e24d;border-color:#4a90e299}.preset-icon{display:flex;align-items:center;justify-content:center;width:32px;height:32px}.preset-icon svg{width:32px;height:32px;stroke:currentColor;fill:none}.preset-header{width:100%;font-size:12px;font-weight:600;color:#ffffffb3;text-transform:uppercase;letter-spacing:.5px;margin-bottom:10px;margin-top:10px;padding-bottom:6px;border-bottom:1px solid rgba(255,255,255,.1)}.preset-header:first-child{margin-top:0}.control-presets.grouped .preset-button{width:52px;height:52px;min-width:52px;min-height:52px;font-size:10px;margin:4px}@media (max-width: 768px){.climate-settings-group .filter-item{min-width:50px;padding:6px 10px;font-size:11px}}@media (max-width: 768px){.control-button{width:52px;height:52px;min-width:52px;min-height:52px}.button-icon svg{width:20px;height:20px}.preset-button{width:52px;height:52px;min-width:52px;min-height:52px;flex:0 0 52px;max-width:52px;font-size:10px}.presets-scroll-container{max-height:120px;gap:6px}.device-control-buttons.energy-dashboard-buttons{margin-top:0;margin-bottom:0}.energy-dashboard-buttons+.control-presets.visible{margin-top:0!important}}@keyframes slideInUp{0%{opacity:0;transform:translateY(20px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}*{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}@media (prefers-reduced-motion: reduce){*{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;animation-delay:.01ms!important}}.circular-slider-svg,.control-button,.preset-button,.slider-wrapper,.device-control-buttons{transform:translateZ(0);backface-visibility:hidden;perspective:1000px}.energy-expandable-container{flex:1;overflow-y:auto;overflow-x:hidden;padding:0;scrollbar-width:none;-ms-overflow-style:none;box-sizing:border-box}.energy-expandable-container::-webkit-scrollbar{display:none}.climate-settings-wrapper{background:#0003;border:1px solid rgba(255,255,255,.1);border-radius:24px;padding:20px 0;box-sizing:border-box;box-shadow:none;width:100%}@media (min-width: 1085px){.climate-settings-wrapper{max-width:450px;margin:0 auto}}@media (min-width: 769px) and (max-width: 1084px){.climate-settings-wrapper{max-width:calc(50vw - 80px);margin:0 auto}}@media (max-width: 768px){.climate-settings-wrapper{max-width:calc(100vw - 115px);margin:0 auto}}.history-tab{padding:0;color:#ffffffe6;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;opacity:0;transform:translateY(10px);transition:all .5s cubic-bezier(.16,1,.3,1)}.history-tab.visible{opacity:1;transform:translateY(0)}.time-range-selector{display:flex;gap:8px;background:#ffffff0d;border-radius:12px;padding:4px;position:sticky;top:0;margin-bottom:20px;z-index:10;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.time-range-slider{position:absolute;top:4px;left:0;height:calc(100% - 8px);background:linear-gradient(135deg,#3b82f666,#8b5cf666);border-radius:8px;z-index:1;pointer-events:none;box-shadow:0 8px 32px #3b82f626,inset 0 1px #fff3,inset 0 -1px #0000001a;transform-origin:left center}.time-range-button{flex:1;padding:8px 16px;background:transparent;border:none;color:#fff9;font-size:14px;font-weight:500;border-radius:8px;cursor:pointer;transition:all .2s;z-index:2;position:relative;display:flex;align-items:center;justify-content:center}.time-range-button:hover{color:#fffc}.time-range-button.active{color:#fff}.accordion-section{background:#ffffff08;border-radius:16px;margin-bottom:12px;overflow:hidden}.accordion-section:hover{background:#ffffff0d}.accordion-header{display:flex;align-items:center;justify-content:space-between;padding:16px;cursor:pointer;user-select:none}.accordion-title{display:flex;align-items:center;gap:12px;font-size:15px;font-weight:600;color:#ffffffe6}.accordion-icon{width:20px;height:20px;color:#ffffff80}.accordion-content{overflow:hidden}.chart-wrapper{padding:0 16px 16px}.chart-container{height:250px;min-height:250px;position:relative;background:#0003;border-radius:12px;padding:16px;overflow:visible}.loading-container{display:flex;align-items:center;justify-content:center;height:200px;color:#fff6}.loading-spinner{width:40px;height:40px;border:3px solid rgba(255,255,255,.1);border-top-color:#ffffff80;border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.text-events-list{padding:0 16px 16px;max-height:400px;overflow-y:auto}.event-item{display:flex;align-items:center;justify-content:space-between;padding:12px;background:#0003;border-radius:8px;margin-bottom:8px}.event-time{font-size:13px;color:#ffffff80;min-width:100px}.event-description{flex:1;font-size:14px;color:#fffc;margin:0 12px}.event-value{font-size:14px;font-weight:600;color:#6b5dff}.event-state-on{color:#30d158}.event-state-off{color:#ff4545}.stats-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;padding:16px;background:#ffffff08;border:none;border-radius:16px;margin-top:12px}.stat-card{text-align:center;padding:12px;background:#0003;border-radius:12px;transition:all .2s}.stat-card:hover{background:#0000004d;transform:translateY(-2px)}.stat-label{display:block;font-size:12px;color:#ffffff80;margin-bottom:4px;text-transform:uppercase;letter-spacing:.5px}.stat-value{display:block;font-size:24px;font-weight:700;color:#ffffffe6}.stat-unit{font-size:14px;color:#ffffff80;margin-left:4px}.no-data-message{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;color:#fff6}.no-data-message svg{margin-bottom:16px;opacity:.3}.no-data-message p{font-size:14px}.scheduler-tab{padding:0;opacity:0;transform:translateY(10px);transition:all .5s cubic-bezier(.16,1,.3,1)}.scheduler-tab.visible{opacity:1;transform:translateY(0)}.scheduler-filter{display:flex;gap:8px;background:#ffffff0d;border-radius:12px;padding:4px;position:sticky;top:0;margin-bottom:20px;z-index:10;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.scheduler-filter-slider{position:absolute;top:4px;left:0;height:calc(100% - 8px);background:linear-gradient(135deg,#3b82f666,#8b5cf666);border-radius:8px;z-index:1;pointer-events:none;box-shadow:0 8px 32px #3b82f626,inset 0 1px #fff3,inset 0 -1px #0000001a;transform-origin:left center}.scheduler-filter .filter-tab{flex:1;padding:8px 16px;background:transparent;border:none;color:#fff9;font-size:14px;font-weight:500;border-radius:8px;cursor:pointer;transition:all .2s;z-index:2;position:relative;display:flex;align-items:center;justify-content:center}.scheduler-filter .filter-tab:hover{color:#fffc}.scheduler-filter .filter-tab.active{color:#fff}.scheduler-items{display:flex;flex-direction:column;gap:8px;margin-bottom:20px;transform:translateZ(0);will-change:contents}.scheduler-item{display:flex;align-items:center;padding:12px;background:#ffffff08;border-radius:12px;transition:background-color .3s ease,box-shadow .3s ease;position:relative;overflow:hidden;cursor:pointer;will-change:transform,opacity;transform:translateZ(0);-webkit-transform:translateZ(0);backface-visibility:hidden;-webkit-backface-visibility:hidden;perspective:1000px}@keyframes fadeInUp{0%{opacity:0;transform:translateY(10px) translateZ(0)}to{opacity:1;transform:translateY(0) translateZ(0)}}.item-icon{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:#ffffff0d;border-radius:10px;margin-right:12px;transition:all .3s ease}.item-content{flex:1}.item-name{font-size:14px;font-weight:500;color:#fff;margin-bottom:2px;display:flex;align-items:center;gap:8px}.item-time{font-size:12px;color:#ffffff80}.item-type{padding:2px 8px;border-radius:4px;font-size:10px;text-transform:uppercase;letter-spacing:.5px;color:#fffffff2;font-weight:500}.item-type.timer{background:#ff9230;border:1px solid rgba(255,146,48,.5)}.item-type.schedule{background:#00d2e0;border:1px solid rgba(0,210,224,.5)}.item-actions{display:flex;align-items:center;gap:8px}.item-delete{width:40px;height:40px;border-radius:10px;background:#ffffff0d;border:none;color:#ffffff80;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.scheduler-loading{text-align:center;padding:40px;color:#ffffff80}.loading-text{font-size:14px;animation:pulse 1.5s ease-in-out infinite}.picker-table-container{margin-top:0;margin-bottom:20px;background:#00000040;border:0px solid rgba(255,255,255,.1);border-radius:12px;overflow:hidden;animation:slideUp .3s cubic-bezier(.4,0,.2,1)}.picker-table-container.editing{margin-top:0}@keyframes slideUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}.scheduler-filter.hidden,.scheduler-items.hidden{display:none}table{width:100%;font-size:15px;border-collapse:collapse;font-family:-apple-system,BlinkMacSystemFont,SF Pro Display,Segoe UI,Roboto,sans-serif;letter-spacing:normal}table th{text-align:left;font-weight:500;height:45px;border-bottom:1px solid rgba(255,255,255,.1);padding:0 16px;cursor:pointer;color:#fffffff2;letter-spacing:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}table td{text-align:right;font-weight:500;color:#ffffffb3;border-bottom:1px solid rgba(255,255,255,.1);padding:0 16px;cursor:pointer;letter-spacing:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}tr[data-line="6"] th,tr[data-line="6"] td{border-bottom:none!important}table td.picker{border:none;cursor:default;padding:0}div.picker{display:none;overflow:hidden;border-bottom:0px solid rgba(255,255,255,.1)}div.picker[style*=block]{border-bottom:1px solid rgba(255,255,255,.1)}#picker-container-line-6,#picker-container-line-6[style*=block]{border-bottom:none!important}.picker-wrapper,.picker-wrapper *{box-sizing:border-box;-webkit-user-select:none;user-select:none;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif}.picker-wrapper{text-align:center;position:relative;height:210px;display:inline-block;line-height:30px;width:100%;font-size:18px;perspective:1000px;perspective-origin:center center}.picker-scroller{transform:translateZ(-90px) rotateX(0);transform-style:preserve-3d;height:100%;will-change:transform}.picker-scroller .option{position:absolute;backface-visibility:hidden;width:100%;color:#fff6;transform-origin:50% 50%;transform-style:preserve-3d;opacity:1;transition:opacity .2s,color .2s;pointer-events:auto}.picker-scroller .option.is-hidden{opacity:0;pointer-events:none}.picker-scroller .option.is-center{color:#ffffffe6}.picker-up{position:absolute;top:0;z-index:2;background:linear-gradient(to bottom,#00000040,#0000);width:100%;height:90px;border-bottom:1px solid rgba(255,255,255,.3);pointer-events:none}.picker-down{position:absolute;top:120px;z-index:2;background:linear-gradient(to top,#00000040,#0000);width:100%;height:90px;border-top:1px solid rgba(255,255,255,.3);pointer-events:none}.clone-scroller{z-index:5;overflow:auto;height:100%;position:absolute;top:0;width:100%;padding-top:90px;padding-bottom:90px;scrollbar-width:none;-ms-overflow-style:none}.clone-scroller::-webkit-scrollbar{display:none}.clone-scroller .option{visibility:hidden}.clickable-row{cursor:pointer}.time-picker-container{display:flex;justify-content:center;align-items:center;width:100%;gap:0;margin:0;padding:0}.time-picker-container>div:first-child{flex:1;max-width:50%}.time-picker-container>div:last-child{flex:1;max-width:50%}.time-picker-separator{flex:0 0 20px;display:flex;justify-content:center;align-items:center;width:20px;height:210px;position:relative;background:linear-gradient(to bottom,#00000040,#0000 42.86% 57.14%,#00000040)}.time-picker-separator:before{content:"";position:absolute;top:89px;left:0;right:0;height:1px;background:#fff3;z-index:2}.time-picker-separator:after{content:"";position:absolute;top:120px;left:0;right:0;height:1px;background:#fff3;z-index:2}.time-picker-separator svg{width:8px;height:16px;fill:#fff9;transform:translateY(0);position:relative;z-index:3}.multi-select-option{display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:20px;font-weight:500;transition:color .3s ease,transform .15s ease}.multi-select-option.active{color:#34c759;font-weight:600}.picker-scroller .option.is-center{z-index:10}.picker-scroller .option.is-center .multi-select-option{transform:scale(1.05)}.multi-select-button{position:absolute;bottom:15px;left:50%;transform:translate(-50%);z-index:15;padding:8px 20px;font-size:14px;font-weight:600;border:none;border-radius:20px;cursor:pointer;background-color:#007aff;color:#fff;box-shadow:0 2px 10px #0000001a;transition:opacity .2s,background-color .2s}.multi-select-button.deselect{background-color:#ff3b30}.multi-select-button.is-hidden{opacity:0;pointer-events:none}.scheduler-tab .add-button-container{display:flex;justify-content:center;margin:20px 0}.scheduler-tab .add-button-container .control-button{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:12px;padding:16px 32px;background:#ffffff14;border:0px solid rgba(255,255,255,.2);border-radius:16px;color:#fff;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);min-width:180px}.scheduler-tab .add-button-container .control-button:hover:not(.disabled){background:#ffffff26;transform:scale(1.05)}.scheduler-tab .add-button-container .control-button:active:not(.disabled){transform:scale(.98)}.scheduler-tab .add-button-container .control-button.expanded{background:#0091ff;border:1px solid rgba(0,145,255,.5);box-shadow:0 4px 16px #0091ff40,0 0 24px #0091ff26,inset 0 1px #ffffff26}.scheduler-tab .add-button-container .control-button.expanded:hover{transform:scale(1) translateZ(0);background:#0091ff}.scheduler-tab .button-icon{width:24px;height:24px;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.scheduler-tab .add-button-container .control-button.expanded .button-icon{transform:rotate(45deg)}.scheduler-tab .button-icon svg{width:100%;height:100%;stroke:currentColor}.scheduler-tab .button-text{font-size:16px;font-weight:500}.picker-actions{display:flex;gap:12px;margin-top:20px;animation:slideUp .3s cubic-bezier(.4,0,.2,1)}.picker-btn{flex:1;padding:14px;border-radius:12px;border:none;font-size:16px;font-weight:500;cursor:pointer;transition:all .2s ease}.picker-btn.cancel{background:#ffffff1a;color:#fff}.picker-btn.confirm{background:linear-gradient(135deg,#0091ff,#0091ff);color:#fff}.picker-btn.confirm.disabled{background:#8080804d;color:#ffffff80;cursor:not-allowed;pointer-events:none}.picker-btn:hover{transform:translateY(-1px)}.picker-btn:active{transform:scale(.98)}.context-tab{opacity:0;transform:translateY(10px);transition:all .5s cubic-bezier(.16,1,.3,1)}.context-tab.visible{opacity:1;transform:translateY(0)}.context-filter{display:flex;gap:8px;background:#ffffff0d;border-radius:12px;padding:4px;position:sticky;top:0;margin-bottom:20px;z-index:10;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.context-filter-slider{position:absolute;top:4px;left:0;height:calc(100% - 8px);background:linear-gradient(135deg,#3b82f666,#8b5cf666);border-radius:8px;z-index:1;pointer-events:none;box-shadow:0 8px 32px #3b82f626,inset 0 1px #fff3,inset 0 -1px #0000001a;transform-origin:left center}.context-filter .filter-tab{flex:1;padding:8px 16px;background:transparent;border:none;color:#fff9;font-size:14px;font-weight:500;border-radius:8px;cursor:pointer;transition:all .2s;z-index:2;position:relative;display:flex;align-items:center;justify-content:center}.context-filter .filter-tab:hover{color:#fffc}.context-filter .filter-tab.active{color:#fff}.context-container{padding:0 0 20px}.context-list{display:flex;flex-direction:column;gap:8px}.action-item{display:flex;align-items:center;padding:12px;background:#ffffff08;border-radius:12px;transition:all .3s ease;position:relative;overflow:hidden}.action-item:hover{background:#ffffff14}.action-type-icon{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:#ffffff0d;border-radius:10px;margin-right:12px;transition:all .3s ease}.action-item:hover .action-type-icon{background:#ffffff14;box-shadow:0 0 10px #ffffff1a}.action-type-icon svg{width:24px;height:24px;opacity:.9;color:#ffffffe6;stroke:#ffffffe6}.action-content{flex:1}.action-name{font-size:14px;font-weight:500;color:#fff;margin-bottom:2px}.action-meta{display:flex;align-items:center;gap:8px;font-size:12px;color:#ffffff80}.action-type{padding:2px 8px;border-radius:4px;font-size:10px;text-transform:uppercase;letter-spacing:.5px;color:#fffffff2;font-weight:500}.action-type.scene{background:#db34f2;border:1px solid rgba(219,52,242,.5)}.action-type.script{background:#0091ff;border:1px solid rgba(0,145,255,.5)}.action-type.automation{background:#ff375f;border:1px solid rgba(255,55,95,.5)}.action-area{padding:2px 8px;background:transparent;border:1px solid rgba(255,255,255,.3);border-radius:4px;font-size:10px;text-transform:uppercase;letter-spacing:.5px;color:#ffffffe6;font-weight:400}.action-buttons{display:flex;gap:8px;align-items:center}.action-favorite-btn{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:12px;color:#fff9;cursor:pointer;transition:all .3s ease}.action-favorite-btn svg{stroke:#fff9!important;fill:none!important}.action-favorite-btn.active{background:#ffd600;border:1px solid rgba(255,214,0,.5)}.action-favorite-btn.active svg{stroke:#fffffff2!important;fill:#fffffff2!important}.action-favorite-btn:hover:not(.active){transform:none;background:#ffffff26;box-shadow:0 0 10px #fff3,inset 0 0 10px #ffffff0d}.action-favorite-btn:hover:not(.active) svg{stroke:#fffc!important;fill:none!important}.action-favorite-btn.active:hover{box-shadow:0 0 15px #ffd60080,0 0 30px #ffd6004d,inset 0 0 10px #fff3}.action-execute-btn{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:#30d158;border:1px solid rgba(48,209,88,.5);border-radius:12px;color:#fffffff2;cursor:pointer;transition:all .3s ease;position:relative}.action-execute-btn svg{stroke:#fffffff2!important}.action-execute-btn:hover{background:#30d158;border:1px solid rgba(48,209,88,.7);box-shadow:0 0 15px #30d15880,0 0 30px #30d1584d,inset 0 0 10px #fff3;transform:none}.context-loading,.context-empty{text-align:center;padding:40px;color:#ffffff80}.empty-icon{font-size:48px;margin-bottom:12px;opacity:.5}.empty-text{font-size:14px}@media (max-width: 768px){.context-tab{padding:0}.context-filter{margin-bottom:12px}.context-list{gap:6px}.action-item{padding:10px 12px;flex-wrap:nowrap}.action-type-icon{width:36px;height:36px;margin-right:10px}.action-type-icon svg{width:20px;height:20px}.action-content{flex:1;min-width:0}.action-name{font-size:13px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%}.action-meta{flex-wrap:wrap;gap:6px;margin-top:4px}.action-type,.action-area{font-size:9px;padding:2px 6px}.action-buttons{gap:6px;margin-left:8px;flex-shrink:0}.action-execute-btn,.action-favorite-btn{width:36px;height:36px}.action-execute-btn svg,.action-favorite-btn svg{width:16px;height:16px}}@media (max-width: 400px){.action-item{padding:8px 10px}.action-type-icon{width:32px;height:32px;margin-right:8px}.action-type-icon svg{width:18px;height:18px}.action-name{font-size:12px}.action-execute-btn,.action-favorite-btn{width:32px;height:32px}.action-execute-btn svg,.action-favorite-btn svg{width:14px;height:14px}.action-buttons{gap:4px}}.settings-container{display:flex;flex-direction:column;height:100%;overflow:hidden}.settings-content{flex:1;display:flex;flex-direction:column;gap:0;padding:0;overflow:hidden}.setting-group{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:16px}.setting-group-title{font-size:16px;font-weight:600;color:#fffffff2;margin-bottom:12px}.setting-item{display:flex;align-items:center;justify-content:space-between;padding:12px 0;border-bottom:1px solid rgba(255,255,255,.05)}.setting-item:last-child{border-bottom:none}.setting-label{display:flex;flex-direction:column;gap:4px;flex:1}.setting-name{font-size:15px;color:#ffffffe6}.setting-description{font-size:12px;color:#ffffff80}.setting-control{display:flex;align-items:center}.toggle-switch{position:relative;width:48px;height:28px;background:#fff3;border-radius:14px;cursor:pointer;transition:background .3s ease}.toggle-switch.active{background:#30d158cc}.toggle-switch-handle{position:absolute;top:2px;left:2px;width:24px;height:24px;background:#fff;border-radius:12px;transition:transform .3s ease;box-shadow:0 2px 4px #0003}.toggle-switch.active .toggle-switch-handle{transform:translate(20px)}.slider{width:120px;height:28px;-webkit-appearance:none;appearance:none;background:transparent;cursor:pointer}.slider::-webkit-slider-track{width:100%;height:6px;background:#fff3;border-radius:3px}.slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:20px;height:20px;background:#fff;border-radius:50%;cursor:pointer;margin-top:-7px;box-shadow:0 2px 6px #0000004d}.slider::-moz-range-track{width:100%;height:6px;background:#fff3;border-radius:3px}.slider::-moz-range-thumb{border:none;width:20px;height:20px;background:#fff;border-radius:50%;cursor:pointer;box-shadow:0 2px 6px #0000004d}.select-native{padding:8px 12px;background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:8px;color:#ffffffe6;font-size:14px;cursor:pointer;min-width:120px;transition:all .2s ease}.select-native:hover{background:#ffffff1f}.select-native:focus{outline:none;border-color:#0091ff80}.select-native option{background:#1e1e1efa;color:#fff}.privacy-info{margin-top:16px}.info-card{display:flex;align-items:center;gap:12px;padding:16px;background:#0091ff1a;border:1px solid rgba(0,145,255,.2);border-radius:12px}.info-icon{font-size:24px}.info-text{flex:1}.info-text strong{display:block;color:#fffffff2;font-size:14px;margin-bottom:4px}.info-text p{color:#ffffffb3;font-size:12px;margin:0}.select-dropdown{position:relative;min-width:120px}.select-button{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:8px 12px;background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:8px;color:#ffffffe6;font-size:14px;cursor:pointer;transition:all .2s ease;width:100%}.select-button:hover{background:#ffffff1f}.select-options{position:absolute;top:100%;left:0;right:0;margin-top:4px;background:#1e1e1efa;border:1px solid rgba(255,255,255,.2);border-radius:8px;overflow:hidden;z-index:10;display:none}.select-dropdown.open .select-options{display:block}.select-option{padding:10px 12px;color:#fffc;cursor:pointer;transition:background .2s ease}.select-option:hover{background:#ffffff1a}.select-option.selected{background:#0091ff4d;color:#fff}.about-info{display:flex;flex-direction:column;gap:12px;padding:16px;background:#ffffff08;border-radius:12px}.about-item{display:flex;justify-content:space-between;font-size:14px}.about-label{color:#fff9}.about-value{color:#ffffffe6;font-weight:500}.button-group{display:flex;gap:12px;margin-top:20px}.button{flex:1;padding:12px 20px;background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:12px;color:#ffffffe6;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease;text-align:center}.button:hover{background:#ffffff1f;transform:translateY(-2px)}.button.danger{background:#ff3b3033;border-color:#ff3b3066}.button.danger:hover{background:#ff3b304d}.number-input{width:100px;padding:8px 12px;background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:8px;color:#fff;font-size:14px;text-align:center;cursor:text;transition:all .2s ease}.number-input:hover{background:#ffffff1f}.number-input:focus{outline:none;border-color:#0091ff80;background:#ffffff26}.number-input::placeholder{color:#fff6}.number-input::-webkit-outer-spin-button,.number-input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.number-input[type=number]{-moz-appearance:textfield}.pattern-description{font-size:13px;color:#ffffffb3;margin-bottom:16px;line-height:1.6}.pattern-description p{margin:0 0 12px}.pattern-description ul{margin:0 0 12px;padding-left:20px}.pattern-description li{margin:4px 0}.pattern-description code{background:#ffffff1a;padding:2px 6px;border-radius:4px;font-family:Courier New,monospace;font-size:12px;color:#0091ffe6}.pattern-examples{display:flex;flex-wrap:wrap;gap:8px;align-items:center;margin-top:12px;padding:12px;background:#ffffff08;border-radius:8px}.pattern-examples strong{color:#fffc;font-size:12px}.example-tag{background:#0091ff26;color:#0091ffe6;padding:4px 10px;border-radius:6px;font-family:Courier New,monospace;font-size:11px;border:1px solid rgba(0,145,255,.3)}.pattern-input-group{display:flex;gap:8px;margin-bottom:12px}.pattern-input{flex:1;padding:10px 14px;background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:8px;color:#fff;font-size:14px;font-family:Courier New,monospace;transition:all .2s ease}.pattern-input:focus{outline:none;border-color:#0091ff80;background:#ffffff1f}.pattern-input::placeholder{color:#fff6;font-family:Courier New,monospace}.add-pattern-btn{padding:10px 20px;background:#30d15833;border:1px solid rgba(48,209,88,.4);white-space:nowrap}.add-pattern-btn:hover{background:#30d1584d;border-color:#30d15899}.pattern-error{padding:10px 12px;background:#ff3b3026;border:1px solid rgba(255,59,48,.3);border-radius:8px;color:#ff6464f2;font-size:13px;margin-bottom:12px}.patterns-list{margin-top:16px}.patterns-list-header{font-size:13px;font-weight:600;color:#fffc;margin-bottom:10px;padding-bottom:8px;border-bottom:1px solid rgba(255,255,255,.1)}.pattern-item{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:8px;margin-bottom:8px;transition:all .2s ease}.pattern-item:hover{background:#ffffff14;border-color:#fff3}.pattern-code{font-family:Courier New,monospace;font-size:13px;color:#0091ffe6;background:#0091ff1a;padding:4px 8px;border-radius:4px;flex:1}.pattern-remove-btn{width:28px;height:28px;background:#ff3b3026;border:1px solid rgba(255,59,48,.3);border-radius:6px;color:#ff3b30e6;font-size:20px;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;margin-left:12px}.pattern-remove-btn:hover{background:#ff3b304d;border-color:#ff3b3080;transform:scale(1.1)}.patterns-empty{text-align:center;padding:32px 16px;color:#ffffff80}.patterns-empty span{font-size:48px;display:block;margin-bottom:12px;opacity:.5}.patterns-empty p{margin:0;font-size:14px}@media (max-width: 768px){.settings-content{padding:0}.pattern-input-group{flex-direction:column}.add-pattern-btn{width:100%}}:root{--glass-blur-amount: 20px;--glass-border-color: rgba(255, 255, 255, .2);--glass-shadow: 0 8px 32px rgba(0, 0, 0, .15);--background-brightness: 100%;--background-blur: 0px;--background-contrast: 100%;--background-saturation: 100%;--background-grayscale: 0%}.detail-panel{position:relative;width:100%;height:672px;min-height:672px;border-radius:35px;border:1px solid var(--glass-border-color);box-shadow:var(--glass-shadow);overflow:hidden;isolation:isolate;display:flex;flex-direction:column;margin:0;padding:0;backdrop-filter:blur(calc(20px + var(--background-blur, 0px))) saturate(calc(180% * var(--background-saturation, 100%) / 100%)) brightness(var(--background-brightness, 100%)) contrast(var(--background-contrast, 100%)) grayscale(var(--background-grayscale, 0%));-webkit-backdrop-filter:blur(calc(20px + var(--background-blur, 0px))) saturate(calc(180% * var(--background-saturation, 100%) / 100%)) brightness(var(--background-brightness, 100%)) contrast(var(--background-contrast, 100%)) grayscale(var(--background-grayscale, 0%));background:radial-gradient(circle at 50% 0%,#ffffff14,#ffffff08 70%),#1e1e1e66}.detail-panel:before{content:"";position:absolute;inset:0;z-index:0;border-radius:inherit;background:radial-gradient(circle at 50% 0%,#ffffff1a,#ffffff0d 70%);pointer-events:none}.detail-panel:after{content:"";position:absolute;inset:0;z-index:2;border-radius:inherit;pointer-events:none;box-shadow:inset 0 1px 1px #ffffff4d,inset 0 -1px 1px #0000001a}.detail-content{display:flex;flex:1;overflow:hidden;height:100%;position:relative;z-index:1;border-radius:35px;-webkit-mask-image:-webkit-radial-gradient(white,black);mask-image:radial-gradient(#fff,#000)}.detail-left{width:50%;padding:25px;display:flex;flex-direction:column;border-radius:35px 0 0 35px;box-sizing:border-box;position:relative;overflow:hidden}.detail-left-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;position:relative;z-index:100}.back-button{width:40px;height:40px;border-radius:50%;background:#00000080;backdrop-filter:blur(10px);border:0px solid rgba(255,255,255,.15);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;position:relative;z-index:100;pointer-events:auto}.back-button:hover{background:#000000b3;transform:scale(1.05)}.back-button svg{width:20px;height:20px;stroke:#fff}.detail-left-title-info{flex:1;text-align:center;max-width:80%}.detail-panel .detail-left .detail-left-header .detail-left-title-info .detail-left-title-name,.detail-panel .detail-left-title-name,.detail-left-title-name{font-size:15px;font-weight:600!important;-webkit-font-smoothing:antialiased!important;-moz-osx-font-smoothing:grayscale!important;margin:0;white-space:nowrap;overflow:hidden;line-height:1.1;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif!important;background:linear-gradient(to right,rgba(255,255,255,1) 55%,transparent 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.detail-panel .detail-left .detail-left-header .detail-left-title-info .detail-left-title-area,.detail-panel .detail-left-title-area,.detail-left-title-area{font-size:15px;margin:2px 0 0;line-height:1.1;font-weight:400!important;text-transform:capitalize;-webkit-font-smoothing:antialiased!important;-moz-osx-font-smoothing:grayscale!important;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif!important;white-space:nowrap;overflow:hidden;background:linear-gradient(to right,rgba(255,255,255,.5) 55%,transparent 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.favorite-button{width:40px;height:40px;border-radius:50%;background:#00000080;backdrop-filter:blur(10px);border:0px solid rgba(255,255,255,.15);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;position:relative;z-index:100}.favorite-button:hover{background:#000000b3;transform:scale(1.05)}.favorite-button.active{background:#ffd7004d;border-color:gold}.favorite-button svg{width:20px;height:20px;stroke:#fff;fill:none}.favorite-button.active svg{fill:gold;stroke:gold}.detail-left-video-background{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;border-radius:35px 0 0 35px;opacity:0;transition:opacity .5s ease;z-index:0;pointer-events:none}.detail-left-video-background.visible{opacity:1}.icon-content{flex:1;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;position:relative;z-index:10;padding-top:20px}.icon-background-wrapper{width:260px;height:260px;position:relative;margin-bottom:25px;overflow:hidden;border-radius:28px;z-index:10}.icon-background{width:100%;height:100%;border-radius:28px;display:flex;align-items:center;justify-content:center;font-size:70px;box-shadow:0 10px 40px #0000004d;background-size:cover;background-position:center;transition:opacity .3s ease;position:relative;z-index:1}.icon-background.hidden{opacity:0;pointer-events:none}.detail-info-row{width:100%;display:flex;justify-content:center;position:relative;z-index:100;margin-top:auto;overflow:hidden;padding:0 20px}.quick-stats{display:flex;gap:8px;flex-wrap:nowrap;overflow-x:auto;scrollbar-width:none;padding:4px 0;max-width:100%;width:auto}.quick-stats::-webkit-scrollbar{display:none}.stat-item{background:#00000080;border:0px solid rgba(255,255,255,.1);border-radius:18px;padding:8px 14px;font-size:12px;color:#ffffffe6;font-weight:500;white-space:nowrap;flex-shrink:0;backdrop-filter:blur(10px)}.entity-id-display{margin-top:15px;margin-bottom:20px;font-size:13px;color:#ffffff80;font-weight:400!important;-webkit-font-smoothing:antialiased!important;-moz-osx-font-smoothing:grayscale!important;text-align:center;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,monospace!important;letter-spacing:.02em;position:relative;z-index:100}.detail-divider{width:1px;background:linear-gradient(to bottom,transparent,rgba(255,255,255,.15),transparent);margin:40px 0}.detail-right{width:50%;display:flex;flex-direction:column;border-radius:0 35px 35px 0;box-sizing:border-box;overflow:hidden}.desktop-tabs{display:block;padding:25px 20px 20px}.mobile-tabs{display:none}.detail-header{display:flex;justify-content:space-between;align-items:flex-start}.detail-header-info{text-align:left}.detail-panel .detail-right .detail-header .detail-header-info .detail-header-name,.detail-panel .detail-header-name,.detail-header-name{margin:0;font-size:15px;font-weight:600!important;-webkit-font-smoothing:antialiased!important;-moz-osx-font-smoothing:grayscale!important;color:#fff;line-height:1.1em;max-width:280px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-transform:capitalize;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif!important}.detail-panel .detail-right .detail-header .detail-header-info .detail-header-area,.detail-panel .detail-header-area,.detail-header-area{margin:2px 0 0;font-size:15px;font-weight:400!important;text-transform:capitalize;-webkit-font-smoothing:antialiased!important;-moz-osx-font-smoothing:grayscale!important;color:#fff9;line-height:1.1em;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif!important}.detail-tabs{position:relative;background:#00000040;border-radius:24px;display:flex;justify-content:flex-start;gap:6px;padding:5px}.tab-slider{position:absolute;top:5px;left:0;height:calc(100% - 10px);background:#fff;border-radius:50%;box-shadow:0 2px 8px #00000026;z-index:1;pointer-events:none;transform-origin:left center;opacity:1}.detail-tab{width:40px;height:40px;padding:10px;border-radius:50%;cursor:pointer;color:#ffffff80;transition:color .25s ease;z-index:2;border:none;background:transparent;display:flex;align-items:center;justify-content:center;line-height:0}.detail-tab.active{color:#000000d9}.detail-tab:hover:not(.active){color:#ffffffbf}.detail-tab svg{width:20px;height:20px;stroke-width:1.5}#tab-content-container{flex-grow:1;overflow-y:auto;padding:0 20px;box-sizing:border-box;scrollbar-width:thin;scrollbar-color:transparent transparent;transition:scrollbar-color .3s ease}#tab-content-container::-webkit-scrollbar{display:none}#tab-content-container{scrollbar-width:none;-ms-overflow-style:none}@media (max-width: 768px){.detail-panel{height:672px!important;min-height:672px!important}.desktop-tabs{display:none}.mobile-tabs{display:flex;justify-content:space-between;align-items:center;padding:18px}.mobile-tabs .detail-tabs{position:relative;background:#0000004d;backdrop-filter:blur(10px);border-radius:24px;display:inline-flex;gap:4px;padding:3px}.mobile-tabs .tab-slider{position:absolute;top:3px;left:0;height:calc(100% - 6px);background:#fff;border-radius:50%;box-shadow:0 2px 8px #00000026;z-index:1;width:36px;pointer-events:none;transform-origin:left center;opacity:1}.mobile-tabs .detail-tab{width:36px;height:36px;padding:0;border-radius:50%;cursor:pointer;color:#ffffff80;transition:all .25s ease;z-index:2;border:none;background:transparent;display:flex;align-items:center;justify-content:center;line-height:0;position:relative}.mobile-tabs .detail-tab.active{color:#000000d9}.mobile-tabs .detail-tab svg{width:18px;height:18px;stroke-width:1.5;transition:transform .2s ease;flex-shrink:0;min-width:18px;min-height:18px;max-width:18px;max-height:18px}.mobile-tabs .detail-tab:active svg{transform:scale(.9)}.detail-content{flex-direction:column;height:100%}.detail-divider{width:calc(100% - 40px);height:1px;background:linear-gradient(to right,transparent,rgba(255,255,255,.15),transparent);margin:10px auto;align-self:center}.detail-left{width:100%;padding:20px;flex:none;min-height:200px;border-radius:35px 35px 0 0}.detail-left.has-video{min-height:250px}.detail-left-video-background{border-radius:35px 35px 0 0}.detail-left-header{margin-bottom:20px}.icon-background-wrapper{width:80px;height:80px;margin-bottom:15px}.icon-background{font-size:50px;border-radius:20px}.detail-right{width:100%;border-radius:0 0 35px 35px;padding:0;flex:1;min-height:200px}#tab-content-container{padding:15px}.detail-header-name{font-size:15px;max-width:180px;font-weight:600!important}.detail-header-area{font-size:13px;font-weight:400!important}.detail-left-title-name{font-size:15px;font-weight:600!important}.detail-left-title-area{font-size:15px;font-weight:400!important}.back-button,.favorite-button{width:36px;height:36px}.back-button svg,.favorite-button svg{width:18px;height:18px}.stat-item{font-size:11px;padding:6px 12px}.entity-id-display{margin-top:10px;font-size:11px}}:root{--radius: 35px;--mask-stroke: 1px;--mask-inner-distance: calc(var(--radius) - var(--mask-stroke));--mask-outer-distance: var(--radius);--diameter: calc(var(--radius) * 2);--glass-border-color: rgba(255, 255, 255, .2);--glass-shadow: 0 8px 32px rgba(0, 0, 0, .15);--accent: #007AFF;--accent-rgb: 0, 122, 255;--accent-light: rgba(255, 255, 255, .35);--text-primary: rgba(255, 255, 255, .95);--text-secondary: rgba(255, 255, 255, .7)}.stats-bar,.greetings-bar{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.stats-bar .glass-panel:before{backdrop-filter:blur(20px) saturate(180%);-webkit-backdrop-filter:blur(20px) saturate(180%)}*{box-sizing:border-box}.glass-panel{position:relative;border-radius:35px;border:1px solid var(--glass-border-color);box-shadow:0 8px 32px #0000001a;overflow:hidden;background:transparent!important}.glass-panel:before{content:"";position:absolute;inset:0;backdrop-filter:blur(calc(20px + var(--background-blur, 0px))) saturate(calc(180% * var(--background-saturation, 100%) / 100%)) brightness(var(--background-brightness, 100%)) contrast(var(--background-contrast, 100%)) grayscale(var(--background-grayscale, 0%));-webkit-backdrop-filter:blur(calc(20px + var(--background-blur, 0px))) saturate(calc(180% * var(--background-saturation, 100%) / 100%)) brightness(var(--background-brightness, 100%)) contrast(var(--background-contrast, 100%)) grayscale(var(--background-grayscale, 0%));background:radial-gradient(circle at 50% 0%,#ffffff14,#ffffff08 70%),#1e1e1e66;z-index:-1;pointer-events:none}.search-panel.glass-panel{transition:border-color .3s ease,box-shadow .3s ease;border-radius:35px!important}.glass-panel:after{display:none!important}.main-container{width:100%;max-width:1000px;margin:0 auto;position:relative}.search-row{display:flex;width:100%;position:relative;align-items:flex-start}.search-panel{background-color:#0000;display:flex;flex-direction:column;flex:1;overflow:hidden;border-radius:35px!important}.search-panel.hidden{opacity:0;pointer-events:none;transition:opacity .2s ease-in-out}.detail-backdrop{background:transparent;backdrop-filter:blur(0px);-webkit-backdrop-filter:blur(0px)}.detail-panel-wrapper{position:absolute;top:0;left:0;right:0;width:100%;height:672px;z-index:10;pointer-events:auto}.search-wrapper{display:flex;align-items:center;gap:12px;padding:16px 20px;height:72px;position:sticky;top:0;z-index:3;background-color:#ffffff03}.search-wrapper:after{content:"";position:absolute;bottom:0;left:20px;right:20px;height:1px;background-color:#ffffff1a;transform-origin:left center;transition:transform .4s cubic-bezier(.16,1,.3,1)}.category-icon{width:24px;height:24px;cursor:pointer;display:flex;align-items:center;justify-content:center;border-radius:6px;background:#fff0;flex-shrink:0;transition:all .2s ease;position:relative}.category-icon:hover{transform:scale(1.05)}.category-icon svg,.category-icon .default-icon svg{width:24px;height:24px;stroke:#fffc;stroke-linecap:round;stroke-linejoin:round;position:absolute;transition:opacity .2s ease,stroke .3s ease}.category-icon.ai-active{background:transparent}.category-icon .default-icon{position:absolute;display:flex;align-items:center;justify-content:center;opacity:1;transition:opacity .25s cubic-bezier(.4,0,.2,1)}.category-icon:hover .default-icon{opacity:0}.category-icon .chevron-icon{position:absolute;opacity:0;transition:opacity .25s cubic-bezier(.4,0,.2,1)}.category-icon:hover .chevron-icon{opacity:1}.search-input-container{position:relative;flex:1;min-width:0;height:30px}.search-suggestion{position:absolute;top:0;left:0;right:0;width:100%;height:100%;border:none;background:transparent;outline:none;font-size:24px;font-family:inherit;font-weight:inherit;line-height:30px;color:#ffffff4d;pointer-events:none;z-index:1;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.search-input{position:absolute;top:0;left:0;right:0;width:100%;height:100%;border:none;background:transparent;outline:none;font-size:24px;font-family:inherit;font-weight:inherit;line-height:30px;color:#fff;z-index:2;padding:0;margin:0}.grouped-search-results{display:flex;flex-direction:column;gap:20px}.search-group{display:flex;flex-direction:column;gap:12px}.search-group-title{font-size:18px;font-weight:500;color:#ffffffe6;padding:8px 0;margin:0 0 12px;position:relative;display:flex;align-items:center}.search-group-title:after{content:"";position:absolute;bottom:0;left:0;right:0;height:1px;background:#ffffff1a}.device-name mark,.device-list-name mark{background:#ffdc004d;color:inherit;font-weight:700;padding:0 2px;border-radius:2px}.search-input::placeholder{color:#ffffffb3;transition:color .2s ease}.search-input:focus::placeholder{color:#ffffffd9}.clear-button{width:44px;height:44px;border:none;background:#00000026;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0;touch-action:manipulation;-webkit-tap-highlight-color:transparent;user-select:none;z-index:10;position:relative;transform:translateZ(0);-webkit-transform:translateZ(0);backface-visibility:hidden;-webkit-backface-visibility:hidden;will-change:transform,opacity}.ai-mode-button{width:44px;height:44px;border:none;background:#ffffff26;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0;touch-action:manipulation;-webkit-tap-highlight-color:transparent;user-select:none;z-index:10;position:relative;transform:translateZ(0);-webkit-transform:translateZ(0);backface-visibility:hidden;-webkit-backface-visibility:hidden;will-change:transform,opacity}.ai-mode-button svg{width:24px;height:24px;stroke:#fffc;stroke-linecap:round;stroke-linejoin:round;fill:none;pointer-events:none;display:block}.filter-container{position:relative;display:flex;align-items:center;gap:0}.filter-main-button{width:44px;height:44px;border:none;background-color:#ffffff14;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;position:relative;z-index:10;flex-shrink:0;transition:background-color .3s ease}.filter-main-button.active{background-color:#0091ff}.filter-groups{position:absolute;right:100%;top:50%;transform:translateY(-50%);display:flex;align-items:center;gap:12px;margin-right:12px;z-index:1000}.filter-group{display:flex;align-items:center;gap:3px;background:#ffffff14;border-radius:60px;padding:10px 0;border:0px solid rgba(255,255,255,0);height:45px;z-index:1001}.filter-button{width:45px;height:45px;border:none;background:transparent;border-radius:60px;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:0;box-sizing:border-box;position:relative}.filter-button svg{width:20px;height:20px;stroke:#fff;stroke-width:1;fill:none}.category-buttons-container{display:flex;flex:0 0 auto;padding:0;width:auto;justify-content:flex-end}.category-buttons{display:flex;flex-direction:row;gap:12px;flex-wrap:nowrap;justify-content:center}.category-button{width:72px;height:72px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer}.category-button svg{width:24px;height:24px;stroke:currentColor;stroke-width:2;fill:none}.category-button.glass-panel.active{background:#fffffff2!important}.category-button.glass-panel.active:before{display:none!important}.results-container{padding:10px 20px 40px;max-height:600px;overflow-y:auto;overflow-x:hidden;transition:none;flex-shrink:0;position:relative;display:flex;flex-direction:column;z-index:2}@media (prefers-reduced-motion: no-preference){.results-container{scroll-behavior:smooth}}.results-container::-webkit-scrollbar{display:none}.results-container{scrollbar-width:none;-ms-overflow-style:none}.results-container>*{flex:1;min-height:0}.results-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(130px,1fr));gap:16px;min-height:200px;align-items:center;justify-content:center}.empty-state{grid-column:1 / -1;text-align:center;padding:40px 20px;color:var(--text-secondary);display:flex;flex-direction:column;align-items:center;gap:12px}.device-grid-container{display:grid;gap:16px}@media (min-width: 1024px){.device-grid-container{grid-template-columns:repeat(var(--device-grid-columns, 4),1fr)}}@media (min-width: 868px) and (max-width: 1023px){.device-grid-container{grid-template-columns:repeat(4,1fr)}}@media (min-width: 581px) and (max-width: 867px){.device-grid-container{grid-template-columns:repeat(3,1fr)}}@media (min-width: 361px) and (max-width: 580px){.device-grid-container{grid-template-columns:repeat(2,1fr)}}@media (max-width: 360px){.device-grid-container{grid-template-columns:1fr}}.device-list-container{display:flex;flex-direction:column;gap:12px;width:100%}.favorites-section{margin-bottom:30px}.favorites-title{font-size:14px;font-weight:600;color:#ffffffe6;text-transform:uppercase;letter-spacing:.05em;padding:0;margin:0 0 16px;display:flex;align-items:center;gap:8px}.star-icon{font-size:16px;filter:drop-shadow(0 0 4px rgba(255,215,0,.5))}@media (max-width: 768px){.search-wrapper{height:58px;padding:13px 16px;gap:10px}.category-icon{width:19px;height:19px}.category-icon svg,.category-icon .default-icon svg{width:19px;height:19px}.search-input-container{height:24px}.search-input,.search-suggestion{font-size:19px;line-height:24px}.clear-button{width:35px;height:35px}.clear-button svg{width:19px;height:19px}.ai-mode-button{width:35px;height:35px}.ai-mode-button svg{width:19px;height:19px}.filter-main-button{width:35px;height:35px}.filter-main-button svg{width:19px;height:19px}.filter-group{height:36px;gap:2px;padding:8px 0}.filter-button{width:36px;height:36px}.filter-button svg{width:16px;height:16px}.search-group-title{font-size:14px;padding:6px 0;margin:0 0 10px}.grouped-search-results{gap:16px}.search-group{gap:10px}.results-container{padding:8px 16px 32px}.device-grid-container{gap:13px}.device-list-container{gap:10px}.category-buttons-container{padding:20px;width:100%;justify-content:center}.category-buttons{gap:8px;flex-wrap:wrap}}#toast-container{position:absolute;inset:0;pointer-events:none;z-index:10000}.toast{position:absolute;display:flex;align-items:center;gap:12px;padding:12px 16px;background:#000000d9;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-radius:12px;color:#fff;font-size:14px;font-weight:500;box-shadow:0 8px 32px #0000004d,0 0 0 1px #ffffff1a;z-index:10001;opacity:0;transform:translateY(-10px);transition:all .3s cubic-bezier(.16,1,.3,1);pointer-events:all;min-width:280px;max-width:500px}.toast-visible{opacity:1;transform:translateY(0)}.toast-hiding{opacity:0;transform:translateY(-10px);transition:all .2s ease-out}.toast-top-center{top:20px;left:50%;transform:translate(-50%) translateY(-10px)}.toast-top-center.toast-visible{transform:translate(-50%) translateY(0)}.toast-top-center.toast-hiding{transform:translate(-50%) translateY(-10px)}.toast-top-right{top:20px;right:20px}.toast-top-left{top:20px;left:20px}.toast-bottom-center{top:692px;left:50%;transform:translate(-50%) translateY(10px)}.toast-bottom-center.toast-visible{transform:translate(-50%) translateY(0)}.toast-bottom-center.toast-hiding{transform:translate(-50%) translateY(10px)}.toast-bottom-right{bottom:20px;right:20px;transform:translateY(10px)}.toast-bottom-right.toast-visible{transform:translateY(0)}.toast-bottom-right.toast-hiding{transform:translateY(10px)}.toast-bottom-left{bottom:20px;left:20px;transform:translateY(10px)}.toast-bottom-left.toast-visible{transform:translateY(0)}.toast-bottom-left.toast-hiding{transform:translateY(10px)}.toast-success{background:#30d15826;border:1px solid rgba(48,209,88,.3);box-shadow:0 8px 32px #30d15833,0 0 0 1px #30d1584d}.toast-error{background:#ff454526;border:1px solid rgba(255,69,69,.3);box-shadow:0 8px 32px #ff454533,0 0 0 1px #ff45454d}.toast-warning{background:#ffd60026;border:1px solid rgba(255,214,0,.3);box-shadow:0 8px 32px #ffd60033,0 0 0 1px #ffd6004d}.toast-info{background:#0091ff26;border:1px solid rgba(0,145,255,.3);box-shadow:0 8px 32px #0091ff33,0 0 0 1px #0091ff4d}.toast-icon{font-size:20px;line-height:1;flex-shrink:0}.toast-message{flex:1;line-height:1.4;word-break:break-word}.toast-close{width:24px;height:24px;display:flex;align-items:center;justify-content:center;background:#ffffff1a;border:none;border-radius:6px;color:#fff9;font-size:18px;cursor:pointer;transition:all .2s ease;flex-shrink:0;font-family:inherit}.toast-close:hover{background:#fff3;color:#ffffffe6}.toast-close:active{transform:scale(.95)}.toast-action{padding:4px 12px;background:#fff3;border:none;border-radius:6px;color:#fff;cursor:pointer;font-size:13px;font-weight:500;transition:all .2s ease;flex-shrink:0}.toast-action:hover{background:#ffffff4d}.toast-action:active{transform:scale(.95)}.toast-progress{position:absolute;bottom:0;left:0;height:3px;background:#ffffff4d;border-radius:0 0 12px 12px;transition:width .3s ease}.toast-success .toast-progress{background:#30d15899}.toast-error .toast-progress{background:#ff454599}.toast-warning .toast-progress{background:#ffd60099}.toast-info .toast-progress{background:#0091ff99}.toast+.toast{margin-top:12px}.toast-top-center+.toast-top-center,.toast-top-left+.toast-top-left,.toast-top-right+.toast-top-right{margin-top:12px}.toast-bottom-center+.toast-bottom-center,.toast-bottom-left+.toast-bottom-left,.toast-bottom-right+.toast-bottom-right{margin-bottom:12px}@media (max-width: 768px){.toast{min-width:240px;max-width:calc(100vw - 40px);font-size:13px;padding:10px 14px}.toast-icon{font-size:18px}.toast-close{width:20px;height:20px;font-size:16px}.toast-top-left,.toast-top-right,.toast-bottom-left,.toast-bottom-right{inset:20px auto auto 50%;transform:translate(-50%) translateY(-10px)}.toast-top-left.toast-visible,.toast-top-right.toast-visible,.toast-bottom-left.toast-visible,.toast-bottom-right.toast-visible{transform:translate(-50%) translateY(0)}.toast-top-left.toast-hiding,.toast-top-right.toast-hiding,.toast-bottom-left.toast-hiding,.toast-bottom-right.toast-hiding{transform:translate(-50%) translateY(-10px)}}@media (max-width: 480px){.toast{min-width:200px;max-width:calc(100vw - 30px);font-size:12px;padding:8px 12px;gap:8px}.toast-icon{font-size:16px}}@keyframes toast-slide-in-right{0%{opacity:0;transform:translate(100px)}to{opacity:1;transform:translate(0)}}@keyframes toast-slide-in-left{0%{opacity:0;transform:translate(-100px)}to{opacity:1;transform:translate(0)}}@keyframes toast-pulse{0%,to{transform:scale(1)}50%{transform:scale(1.02)}}.toast-top-right.toast-slide,.toast-bottom-right.toast-slide{animation:toast-slide-in-right .3s cubic-bezier(.16,1,.3,1)}.toast-top-left.toast-slide,.toast-bottom-left.toast-slide{animation:toast-slide-in-left .3s cubic-bezier(.16,1,.3,1)}@media (prefers-color-scheme: dark){.toast{background:#000000e6}.toast-success{background:#30d15833}.toast-error{background:#ff454533}.toast-warning{background:#ffd60033}.toast-info{background:#0091ff33}}.toast:focus-within{outline:2px solid rgba(255,255,255,.5);outline-offset:2px}@media (prefers-reduced-motion: reduce){.toast,.toast-visible,.toast-hiding{transition:opacity .1s linear;animation:none}}:root{--plugin-purple: rgb(147, 51, 234);--plugin-indigo: rgb(79, 70, 229);--plugin-green: rgb(34, 197, 94);--plugin-red: rgb(239, 68, 68)}.plugin-store-container{width:100%;height:100%;max-height:555px;background:#0003;border-radius:24px;overflow:hidden;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.plugin-store-tabs{display:flex;gap:8px;padding:20px 20px 16px;border-bottom:1px solid rgba(255,255,255,.1);overflow-x:auto;scrollbar-width:none}.plugin-store-tabs::-webkit-scrollbar{display:none}.plugin-tab{display:flex;align-items:center;gap:6px;padding:8px 16px;border-radius:20px;background:#ffffff1a;color:#ffffffb3;font-size:14px;font-weight:500;cursor:pointer;white-space:nowrap;border:none;transition:all .2s ease}.plugin-tab.active{background:#fffffff2;color:#000000e6}.plugin-tab-badge{display:inline-flex;align-items:center;justify-content:center;min-width:20px;height:20px;padding:0 6px;background:#ffffff4d;color:#fff;font-size:12px;font-weight:600;border-radius:10px}.plugin-tab.active .plugin-tab-badge{background:#000000e6;color:#fff}.plugin-store-content{flex:1;overflow-y:auto;padding:20px;scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.2) transparent}.plugin-store-content::-webkit-scrollbar{width:8px}.plugin-store-content::-webkit-scrollbar-track{background:transparent}.plugin-store-content::-webkit-scrollbar-thumb{background:#fff3;border-radius:4px}.plugins-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px}.plugin-card{background:#ffffff1a;border:1px solid rgba(255,255,255,.15);border-radius:16px;padding:16px;cursor:pointer;transition:all .3s ease;display:flex;flex-direction:column;gap:12px}.plugin-card:hover{background:#ffffff26;transform:translateY(-2px)}.plugin-header{display:flex;align-items:center;gap:12px}.plugin-icon{width:48px;height:48px;min-width:48px;display:flex;align-items:center;justify-content:center;background:#ffffff1a;border-radius:12px;font-size:24px}.plugin-info{flex:1;min-width:0}.plugin-info h3{margin:0;font-size:16px;font-weight:600;color:#fffffff2;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.plugin-author{margin:2px 0 0;font-size:12px;color:#ffffff80}.plugin-description{font-size:14px;line-height:1.4;color:#ffffffb3;margin:0;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.plugin-footer{display:flex;justify-content:space-between;align-items:center;padding-top:8px;border-top:1px solid rgba(255,255,255,.1)}.plugin-version{font-size:12px;color:#ffffff80}.plugin-btn{padding:8px 16px;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;border:none;transition:all .2s ease}.install-btn{background:linear-gradient(135deg,var(--plugin-purple),var(--plugin-indigo));color:#fff}.install-btn:hover{transform:scale(1.05)}.uninstall-btn{background:#ef444433;color:#ef4444;border:1px solid rgba(239,68,68,.3)}.uninstall-btn:hover{background:#ef44444d}.toggle-btn{width:32px;height:32px;border-radius:50%;background:#ffffff1a;border:2px solid rgba(255,255,255,.3);color:#ffffffb3;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}.toggle-btn.enabled{background:#22c55e33;border-color:var(--plugin-green);color:var(--plugin-green)}.upload-section{display:flex;flex-direction:column;gap:20px}.upload-card{background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:16px;padding:20px}.upload-card h3{margin:0 0 8px;font-size:18px;font-weight:600;color:#fffffff2}.upload-card p{margin:0 0 16px;font-size:14px;color:#ffffffb3}.input-group{display:flex;gap:12px}.input-group input{flex:1;padding:10px 16px;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff;font-size:14px}.input-group input::placeholder{color:#fff6}.upload-btn{padding:10px 20px;background:linear-gradient(135deg,var(--plugin-purple),var(--plugin-indigo));border:none;border-radius:8px;color:#fff;font-weight:500;cursor:pointer;transition:all .2s}.upload-btn:hover{transform:scale(1.05)}.upload-btn:disabled{opacity:.5;cursor:not-allowed;transform:none}.file-drop-zone{border:2px dashed rgba(255,255,255,.3);border-radius:12px;padding:40px;text-align:center;cursor:pointer;transition:all .3s}.file-drop-zone:hover{border-color:#9333ea80;background:#9333ea0d}.file-drop-zone h4{margin:8px 0 4px;font-size:16px;color:#ffffffe6}.file-drop-zone p{margin:0;font-size:14px;color:#fff9}.develop-section h3{margin:0 0 8px;font-size:20px;font-weight:600;color:#fffffff2}.develop-section>p{margin:0 0 20px;font-size:14px;color:#ffffffb3}.docs-card{background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:16px;padding:20px}.docs-card h3{margin:0 0 8px;font-size:18px;font-weight:600;color:#fffffff2}.docs-card p{margin:0 0 16px;font-size:14px;color:#ffffffb3}.docs-list{margin:16px 0;padding-left:20px;color:#ffffffb3;font-size:14px;line-height:1.8}.docs-list li{margin-bottom:4px}.code-example{background:#0000004d;border:1px solid rgba(255,255,255,.1);border-radius:8px;padding:16px;margin:16px 0;overflow-x:auto}.code-example pre{margin:0;font-family:Monaco,Courier New,monospace;font-size:13px;line-height:1.6;color:#ffffffd9}.empty-state{text-align:center;padding:60px 20px;color:#fff9}.empty-state-icon{font-size:64px;margin-bottom:16px;opacity:.5}.empty-state h3{font-size:20px;font-weight:600;color:#fffc;margin:0 0 8px}.empty-state p{font-size:14px;color:#ffffff80;margin:0}.loading-state{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;color:#fff9}.loading-spinner{width:40px;height:40px;border:3px solid rgba(255,255,255,.2);border-top-color:var(--plugin-purple);border-radius:50%;animation:spin 1s linear infinite;margin-bottom:16px}.loading-state p{margin:0;font-size:14px}.all-schedules-view{padding:0 16px;box-sizing:border-box}.filter-tabs-container{position:sticky;top:0;background:#ffffff0d;padding:4px;border-radius:12px;margin-bottom:16px;z-index:10;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.filter-tabs{display:flex;gap:8px;position:relative;z-index:2}.filter-tabs-container .filter-tab{flex:1;padding:8px 16px;background:transparent;border:none;color:#fff9;font-size:14px;font-weight:500;cursor:pointer;border-radius:8px;transition:all .2s ease;position:relative;z-index:2;display:flex;align-items:center;justify-content:center}.filter-tabs-container .filter-tab.active{color:#fff}.filter-tabs-container .filter-tab:hover:not(.active){color:#fffc}.schedules-list{display:flex;flex-direction:column;gap:8px;margin-bottom:20px}.scheduler-item{display:flex;align-items:center;padding:12px;background:#ffffff08;border-radius:12px;transition:background-color .3s ease,box-shadow .3s ease;position:relative;overflow:hidden;cursor:pointer;will-change:transform,opacity;transform:translateZ(0)}.scheduler-item:hover{background:#ffffff14}.item-icon{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:#ffffff0d;border-radius:10px;margin-right:12px;transition:all .3s ease;flex-shrink:0}.scheduler-item:hover .item-icon{background:#ffffff14;box-shadow:0 0 10px #ffffff1a}.item-icon svg{width:24px;height:24px;opacity:.9;color:#ffffffe6;stroke:#ffffffe6}.item-content{flex:1;min-width:0}.item-name{font-size:14px;font-weight:500;color:#fff;margin-bottom:2px;display:flex;align-items:center;justify-content:space-between;gap:8px}.item-time{font-size:12px;color:#ffffff80;display:flex;flex-wrap:wrap;gap:4px;align-items:center}.item-time .separator{color:#ffffff4d;margin:0 2px}.item-type{padding:2px 8px;border-radius:4px;font-size:10px;text-transform:uppercase;letter-spacing:.5px;color:#fffffff2;font-weight:500;flex-shrink:0;border:1px solid rgba(255,255,255,.1)}.item-type.climate{background:#0091ff;border-color:#0091ff80}.item-type.light{background:#ff9230;border-color:#ff923080}.item-type.cover{background:#34c759;border-color:#34c75980}.item-type.switch{background:#8e8e93;border-color:#8e8e9380}.item-type{background:#00d2e0;border-color:#00d2e080}.item-actions{display:flex;align-items:center;gap:8px;margin-left:8px}.item-delete{width:40px;height:40px;border-radius:10px;background:#ffffff0d;border:none;color:#ffffff80;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease;padding:0}.item-delete svg{width:20px;height:20px;stroke:currentColor}.item-delete:hover{background:#ff3b3033;color:#ff3b30}.schedule-entity-info{display:flex;flex-direction:column;line-height:1.2;min-width:0}.schedule-entity-info .entity-name{color:#fff;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.item-toggle{width:40px;height:22px;border-radius:11px;background:#ffffff1a;border:none;cursor:pointer;display:flex;align-items:center;padding:2px;box-sizing:border-box;transition:background-color .3s ease}.item-toggle .toggle-thumb{width:18px;height:18px;background:#fff;border-radius:50%;box-shadow:0 1px 3px #0003}.item-toggle.enabled{background:#34c759}.item-toggle.disabled{background:#7878805c}.item-toggle.disabled .toggle-thumb{background:#f0f0f0}.all-schedules-view.loading{display:flex;justify-content:center;align-items:center;min-height:200px;color:#ffffff80}.loading-spinner{font-size:14px;animation:pulse 1.5s ease-in-out infinite}@keyframes pulse{0%,to{opacity:.5}50%{opacity:.8}}.empty-state{text-align:center;padding:40px;color:#ffffff4d}.info-footer{text-align:center;padding:16px;font-size:13px;color:#fff6;background:#0000001a;border-radius:12px;margin-top:16px}.weather-view{height:100%;display:flex;flex-direction:column;overflow-y:auto;padding:0}.refresh-button:active{transform:rotate(180deg)}.weather-location-selector{padding:12px 20px;border-bottom:1px solid var(--divider-color, rgba(0, 0, 0, .1))}.location-dropdown{width:100%;padding:12px 16px;border:1px solid var(--divider-color, rgba(0, 0, 0, .2));border-radius:12px;font-size:15px;background:var(--card-background-color, #fff);color:var(--text-primary-color, #1f1f1f);cursor:pointer;transition:border-color .2s}.location-dropdown:hover{border-color:var(--primary-color, #007aff)}.location-dropdown:focus{outline:none;border-color:var(--primary-color, #007aff);box-shadow:0 0 0 3px #007aff1a}.weather-current{padding:32px 20px;text-align:center;background:transparent}.weather-location{font-size:18px;font-weight:400;color:#fff;margin-bottom:8px;opacity:.8}.weather-temperature-large{font-size:96px;font-weight:100;line-height:1;color:#fff;margin-bottom:4px;letter-spacing:-2px;display:flex;align-items:flex-start;justify-content:center}.weather-temperature-large .temp-number{margin-left:16px}.weather-temperature-large .temp-unit{font-size:48px;font-weight:200;opacity:.8;margin-left:4px;margin-top:8px}.weather-condition{font-size:20px;font-weight:600;color:#fff;margin-bottom:8px;text-transform:capitalize}.weather-high-low{font-size:18px;font-weight:400;color:#fff;margin-bottom:24px;opacity:.8}.weather-icon-large{font-size:96px;line-height:1;margin-bottom:0;animation:float 3s ease-in-out infinite}@keyframes float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.weather-temperature{font-size:72px;font-weight:200;line-height:1;color:var(--text-primary-color, #1f1f1f);margin-bottom:8px}.weather-temperature .unit{font-size:36px;font-weight:300;opacity:.7;margin-left:4px}.weather-metrics{display:flex;justify-content:center;gap:32px;padding:0}.metric{display:flex;align-items:center;gap:8px}.metric-icon{display:flex;align-items:center;justify-content:center;width:20px;height:20px}.metric-value{font-size:15px;font-weight:500;color:#fff}.metric-label{font-size:12px;color:var(--text-secondary-color, #666);opacity:.8}.hourly-forecast{padding:20px 0;margin:0 20px 20px;background:#ffffff08;border-radius:16px}.weather-summary-text{font-size:12px;line-height:1.5;color:#fffc;padding:0 0 16px;margin:0 20px 16px;font-weight:400;letter-spacing:.2px;border-bottom:1px solid rgba(255,255,255,.1)}.hourly-forecast-title{font-size:14px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:#fff9;margin:0 0 12px;padding:0 20px}.hourly-forecast-scroll{display:flex;gap:10px;padding:0 20px;overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;-ms-overflow-style:none}.hourly-forecast-scroll::-webkit-scrollbar{display:none}.hourly-forecast-item{display:flex;flex-direction:column;align-items:center;gap:8px;min-width:60px;max-width:60px;padding:0 25px 0 0;background:transparent;border-radius:12px;transition:background .2s}.hourly-time{font-size:14px;font-weight:500;color:#fff;white-space:nowrap}.hourly-icon{font-size:22px;line-height:1}.hourly-temp{font-size:18px;font-weight:600;color:#fff}.hourly-precipitation{display:flex;align-items:center;gap:4px;font-size:12px;color:#fff}.hourly-forecast .scroll-indicator{position:absolute;top:56%;transform:translateY(-50%);width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;cursor:pointer;z-index:10;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);box-shadow:0 2px 8px #00000026}.hourly-forecast .scroll-indicator svg{width:16px;height:16px}.hourly-forecast .scroll-indicator-left{left:5px}.hourly-forecast .scroll-indicator-right{right:5px}.weather-forecast{padding:20px;margin:0 20px 20px;background:#ffffff08;border-radius:16px}.forecast-title{font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:#fff9;margin:0 0 16px}.forecast-list{display:flex;flex-direction:column;gap:0}.forecast-day{display:grid;grid-template-columns:60px 40px 40px 1fr;align-items:center;gap:12px;padding:12px 0;background:transparent;border:none;border-bottom:1px solid rgba(255,255,255,.1);border-radius:0;transition:background .2s}.forecast-day:last-child{border-bottom:none}.forecast-weekday{font-size:15px;font-weight:500;color:#fff}.forecast-icon{font-size:22px;text-align:center;line-height:1}.forecast-precipitation{font-size:14px;color:var(--primary-color, #007aff);text-align:center;min-width:40px}.forecast-temp-container{display:flex;align-items:center;gap:12px;flex:1}.temp-low{font-size:15px;font-weight:400;color:#fff9;min-width:32px;text-align:right}.temp-high{font-size:15px;font-weight:600;color:#fff;min-width:32px;text-align:left}.temperature-bar-container{flex:1;display:flex;align-items:center;min-width:100px;height:28px}.temperature-bar-track{position:relative;width:100%;height:4px;background:var(--divider-color, rgba(0, 0, 0, .1));border-radius:2px}.temperature-bar-range{position:absolute;top:0;height:100%;background:linear-gradient(90deg,gold,#ff8c00);border-radius:2px;transition:all .3s ease}.temperature-bar-current{position:absolute;top:50%;transform:translate(-50%,-50%);width:8px;height:8px;background:#fff;border:2px solid var(--text-primary-color, #1f1f1f);border-radius:50%;box-shadow:0 1px 3px #0003;z-index:1}.weather-attribution{padding:16px 20px;text-align:center;font-size:12px;color:var(--text-secondary-color, #666);opacity:.7;border-top:1px solid var(--divider-color, rgba(0, 0, 0, .1))}.weather-loading{display:flex;align-items:center;justify-content:center;height:400px}.loading-spinner{font-size:16px;color:var(--text-secondary-color, #666);animation:pulse 1.5s ease-in-out infinite}@keyframes pulse{0%,to{opacity:.5}50%{opacity:1}}.weather-error{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;padding:20px;text-align:center}.weather-error p{font-size:16px;color:var(--text-secondary-color, #666);margin:16px 0 24px}.retry-button{padding:12px 24px;background:var(--primary-color, #007aff);color:#fff;border:none;border-radius:12px;font-size:15px;font-weight:600;cursor:pointer;transition:opacity .2s,transform .1s}.retry-button:hover{opacity:.9}.retry-button:active{transform:scale(.98)}@media (max-width: 768px){.weather-temperature-large{font-size:80px;letter-spacing:-1.5px}.weather-icon-large{font-size:80px}.weather-metrics{gap:24px}.metric{gap:6px}.hourly-forecast-scroll{gap:10px}.hourly-forecast-item{min-width:56px;padding:10px 6px}.forecast-day{grid-template-columns:50px 36px 36px 1fr;gap:10px;padding:10px 0}.forecast-icon{font-size:28px}.temperature-bar-container{min-width:80px}}@media (max-width: 480px){.weather-location{font-size:16px}.weather-temperature-large{font-size:64px;letter-spacing:-1px}.weather-condition{font-size:18px}.weather-high-low{font-size:16px}.weather-icon-large{font-size:64px}.weather-metrics{gap:16px}.metric-icon{width:18px;height:18px}.metric-value{font-size:14px}.hourly-forecast-scroll{gap:10px}.hourly-forecast-item{min-width:52px;padding:8px 4px;gap:6px}.hourly-time{font-size:12px}.hourly-icon{font-size:40px}.hourly-temp{font-size:16px}.forecast-day{grid-template-columns:45px 32px 32px 1fr;gap:8px;padding:8px 0}.forecast-weekday{font-size:13px}.forecast-icon{font-size:24px}.forecast-precipitation{font-size:12px;min-width:32px}.temp-high,.temp-low{font-size:14px;min-width:28px}.temperature-bar-container{min-width:60px;height:24px}.temperature-bar-track{height:3px}.temperature-bar-current{width:6px;height:6px;border-width:1.5px}}@media (prefers-color-scheme: dark){.weather-current{background:transparent}.forecast-day{background:transparent;border:none;border-bottom:1px solid rgba(255,255,255,.1)}.forecast-day:last-child{border-bottom:none}}:root{--news-orange: rgb(255, 149, 0);--news-blue: rgb(0, 122, 255);--news-red: rgb(255, 59, 48);--news-gold: rgb(255, 214, 10)}.news-view-container{width:100%;height:100%;max-height:555px;background:#0003;border-radius:24px;overflow:hidden;overflow-x:hidden;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;padding:0}.news-header{display:flex;align-items:center;padding:20px;gap:16px;background:#ffffff0d;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-bottom:1px solid rgba(255,255,255,.1)}.news-back-button,.news-refresh-button{background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:12px;width:44px;height:44px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#fffffff2;transition:all .2s ease}.news-back-button:hover,.news-refresh-button:hover{background:#fff3;transform:scale(1.05)}.news-refresh-button.refreshing{animation:spin 1s linear infinite}.news-title{flex:1;font-size:28px;font-weight:700;color:#fffffff2;margin:0;letter-spacing:-.5px}.news-filter-wrapper{padding:20px 20px 0}.news-filter-bar{overflow-x:auto;scrollbar-width:none;margin-left:-20px;margin-right:-20px;padding-left:20px;padding-right:20px}.news-filter-bar::-webkit-scrollbar{display:none}.news-scroll-indicator{position:absolute;top:43%;transform:translateY(-43%);width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;cursor:pointer;z-index:10;background:#000000b3}.news-scroll-indicator-left{left:2px}.news-scroll-indicator-right{right:2px}.news-scroll-indicator svg{width:14px;height:14px}.news-filter-bar .filter-tab{padding:8px 16px;border-radius:20px;background:#ffffff1a;color:#ffffffb3;font-size:14px;font-weight:500;cursor:pointer;white-space:nowrap;border:none;display:flex;align-items:center;gap:6px;transition:all .2s}.news-filter-bar .filter-tab.active{background:#fffffff2;border-color:#fffffff2;color:#000000e6;font-weight:500}.news-filter-bar .filter-badge{display:inline-flex;align-items:center;justify-content:center;min-width:20px;height:20px;padding:0 6px;background:#ffffff4d;color:#fff;font-size:12px;font-weight:600;border-radius:10px;line-height:1}.news-filter-bar .filter-tab.active .filter-badge{background:#000000e6;color:#fff}.news-filter-bar .filter-tab.category-tech.active,.news-filter-bar .filter-tab.category-news.active,.news-filter-bar .filter-tab.category-smarthome.active,.news-filter-bar .filter-tab.category-sport.active,.news-filter-bar .filter-tab.category-entertainment.active,.news-filter-bar .filter-tab.category-politics.active,.news-filter-bar .filter-tab.category-business.active{background:#fffffff2;border-color:#fffffff2;color:#000000e6}.news-feed{flex:1;overflow-y:auto;padding:0 20px 20px;scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.2) transparent;max-height:60vh}.news-feed::-webkit-scrollbar{width:8px}.news-feed::-webkit-scrollbar-track{background:transparent}.news-feed::-webkit-scrollbar-thumb{background:#fff3;border-radius:4px}.news-articles-list{display:flex;flex-direction:column;gap:16px;padding:0 4px}.news-article-card{background:#ffffff1a;border-radius:16px;padding:16px;cursor:pointer;transition:all .3s ease;position:relative;display:flex;gap:16px}.news-article-card.unread{background:#ffffff38}.news-article-card:hover{background:#ffffff14}.news-article-card.read{opacity:.65}.article-thumbnail{width:55px;height:55px;min-width:55px;border-radius:12px;overflow:hidden;background:#0000004d;position:relative}.article-thumbnail:after{content:"";position:absolute;inset:0;background:linear-gradient(to bottom,transparent 50%,rgba(0,0,0,.3));pointer-events:none}.article-thumbnail img{width:100%;height:100%;object-fit:cover}.article-content{flex:1;min-width:0;display:flex;flex-direction:column;gap:0px}.article-footer{display:flex;align-items:center;gap:6px;font-size:12px;line-height:.8;color:#fff9}.article-source{font-weight:500;color:#ffffffb3}.article-separator{color:#fff6}.article-reading-time,.article-date{color:#fff9}.article-category-badge{display:inline-block;padding:2px 10px;border-radius:8px;font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:#fff;background:#fff3;align-self:flex-start;margin-bottom:2px}.article-category-badge.category-tech{background:#007aff;box-shadow:0 2px 8px #007aff4d}.article-category-badge.category-news{background:#ff9500;box-shadow:0 2px 8px #ff95004d}.article-category-badge.category-smarthome{background:#30d158;box-shadow:0 2px 8px #30d1584d}.article-category-badge.category-sport{background:#ff3b30;box-shadow:0 2px 8px #ff3b304d}.article-category-badge.category-entertainment{background:#af52de;box-shadow:0 2px 8px #af52de4d}.article-category-badge.category-politics{background:#5ac8fa;box-shadow:0 2px 8px #5ac8fa4d}.article-category-badge.category-business{background:#fc0;box-shadow:0 2px 8px #ffcc004d;color:#000c}.article-title{font-size:14px;font-weight:600;color:#fffffff2;line-height:1.5;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;letter-spacing:-.3px;transition:all .2s ease;background:linear-gradient(to right,rgba(255,255,255,.95) 85%,transparent 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.news-article-card.unread .article-title{font-weight:700;color:#fff;background:linear-gradient(to right,rgba(255,255,255,1) 85%,transparent 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.article-favorite-button{position:absolute;top:16px;right:16px;width:36px;height:36px;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#ffffffb3;transition:all .2s ease}.article-favorite-button:hover{background:#fff3;transform:scale(1.1)}.article-favorite-button.active{background:var(--news-gold);border-color:var(--news-gold);color:#fff}.article-unread-indicator{position:absolute;top:12px;left:12px;width:8px;height:8px;background:var(--news-blue);border-radius:50%;box-shadow:0 0 8px #007aff80}.news-empty{text-align:center;padding:60px 20px;color:#fffc;display:flex;flex-direction:column;align-items:center;gap:16px}.news-empty h3{font-size:24px;font-weight:700;color:#fffffff2;margin:0}.news-empty p{font-size:15px;color:#ffffffb3;margin:0;max-width:300px}.news-loading{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;gap:16px;color:#fffc}.loading-spinner{width:40px;height:40px;border:3px solid rgba(255,255,255,.2);border-top-color:var(--news-orange);border-radius:50%;animation:spin 1s linear infinite}.news-error{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;gap:16px;padding:20px;text-align:center;color:#fffc}.news-error h3{font-size:24px;margin:0}.news-error p{font-size:16px;color:#fff9}.retry-button{padding:12px 24px;background:var(--news-orange);border:none;border-radius:12px;color:#fff;font-size:16px;font-weight:600;cursor:pointer;transition:all .2s ease}.retry-button:hover{transform:scale(1.05);box-shadow:0 4px 12px #ff95004d}.news-settings-button{background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:12px;width:44px;height:44px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#fffffff2;transition:all .2s ease}.news-settings-button:hover{background:#fff3;transform:scale(1.05)}.news-settings-tabs{display:flex;gap:8px;padding:16px 20px;background:#ffffff08;border-bottom:1px solid rgba(255,255,255,.08)}.settings-tab{padding:10px 20px;background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:12px;color:#ffffffb3;font-size:15px;font-weight:500;cursor:pointer;transition:all .2s ease}.settings-tab:hover{background:#ffffff26}.settings-tab.active{background:var(--news-orange);border-color:var(--news-orange);color:#fff}.news-settings-content{flex:1;overflow-y:auto;padding:24px 20px;scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.2) transparent}.settings-feeds-list h2,.settings-options h2{font-size:24px;font-weight:700;color:#fffffff2;margin:0 0 8px}.settings-hint{font-size:14px;color:#ffffffb3;margin:0 0 24px}.no-feeds-message{text-align:center;padding:40px 20px;color:#fff9}.feed-item{background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:16px;padding:20px;margin-bottom:16px;transition:all .2s ease}.feed-item:hover{background:#ffffff1f}.feed-item-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.feed-info h3{font-size:18px;font-weight:600;color:#fffffff2;margin:0 0 4px}.feed-count{font-size:13px;color:#fff9}.feed-toggle{position:relative;display:inline-block;width:50px;height:28px}.feed-toggle input{opacity:0;width:0;height:0}.toggle-slider{position:absolute;cursor:pointer;inset:0;background:#fff3;border-radius:28px;transition:all .3s ease}.toggle-slider:before{position:absolute;content:"";height:20px;width:20px;left:4px;bottom:4px;background-color:#fff;border-radius:50%;transition:all .3s ease}.feed-toggle input:checked+.toggle-slider{background:var(--news-blue)}.feed-toggle input:checked+.toggle-slider:before{transform:translate(22px)}.feed-item-category{display:flex;align-items:center;gap:12px}.feed-item-category label{font-size:14px;font-weight:500;color:#fffc}.feed-item-category select{flex:1;padding:10px 14px;background:#0000004d;border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fffffff2;font-size:14px;cursor:pointer;transition:all .2s ease}.feed-item-category select:disabled{opacity:.5;cursor:not-allowed}.feed-item-category select:hover:not(:disabled){background:#0006;border-color:#ffffff4d}.setting-item{background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:12px;padding:20px;margin-bottom:16px}.setting-item label{display:block;font-size:16px;font-weight:600;color:#fffffff2;margin-bottom:8px}.setting-description{font-size:14px;color:#ffffffb3;margin:0 0 12px}.setting-item select,.setting-item input[type=number]{width:100%;padding:12px 16px;background:#0000004d;border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fffffff2;font-size:15px;cursor:pointer;transition:all .2s ease}.setting-item select:hover,.setting-item input[type=number]:hover{background:#0006;border-color:#ffffff4d}.checkbox-label{display:flex!important;align-items:center;gap:12px;cursor:pointer;font-weight:500!important}.checkbox-label input[type=checkbox]{width:20px;height:20px;cursor:pointer}.news-detail-header{display:flex;align-items:center;padding:20px;gap:16px;background:#ffffff0d;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-bottom:1px solid rgba(255,255,255,.1)}.news-detail-actions{display:flex;gap:8px}.news-action-button{background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:12px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#fffffff2;transition:all .2s ease}.news-action-button:hover{background:#fff3;transform:scale(1.05)}.news-action-button.active{background:var(--news-gold);border-color:var(--news-gold);color:#fff}.news-detail-content{flex:1;overflow-y:auto;padding:20px;scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.2) transparent}.news-detail-article{max-width:800px;margin:0 auto}.article-detail-thumbnail{width:100%;max-height:400px;border-radius:16px;overflow:hidden;margin-bottom:24px;background:#0003}.article-detail-thumbnail img{width:100%;height:100%;object-fit:cover}.article-detail-meta{display:flex;align-items:center;gap:8px;font-size:14px;color:#fff9;margin-bottom:16px}.article-detail-source{font-weight:600;color:var(--news-orange)}.article-detail-time,.article-detail-category{color:#fff9}.article-detail-title{font-size:28px;font-weight:700;color:#fffffff2;line-height:1.2;margin:0 0 24px;letter-spacing:-.5px}.article-detail-description{font-size:18px;line-height:1.6;color:#fffc;margin:0 0 24px;font-weight:500}.article-detail-body{font-size:16px;line-height:1.8;color:#ffffffd9;margin:0 0 32px;white-space:pre-wrap;word-wrap:break-word}.article-detail-link-button{display:inline-flex;align-items:center;gap:8px;padding:14px 24px;background:#fffffff2;border:none;border-radius:12px;color:#000000e6;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease}.article-detail-link-button:hover{transform:scale(1.05);box-shadow:0 8px 20px #0003}.article-detail-link-button svg{stroke:#000000e6}.news-feedparser-hint{padding:40px 20px;max-width:600px;margin:0 auto;color:#ffffffe6;text-align:center}.hint-icon{margin:0 auto 24px;color:var(--news-orange);opacity:.9}.news-feedparser-hint h2{font-size:28px;font-weight:700;margin:0 0 16px;color:#fffffff2}.hint-description{font-size:16px;line-height:1.6;color:#fffc;margin:0 0 32px}.hint-steps{background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:16px;padding:24px;margin-bottom:24px;text-align:left}.hint-steps h3{font-size:18px;font-weight:600;margin:0 0 16px;color:#fffffff2}.hint-steps ol{margin:0;padding-left:24px}.hint-steps li{font-size:15px;line-height:1.8;color:#fffc;margin-bottom:8px}.hint-example{background:#0000004d;border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:20px;margin-bottom:24px;text-align:left}.hint-example h3{font-size:16px;font-weight:600;margin:0 0 12px;color:#ffffffe6}.hint-example pre{margin:0;padding:16px;background:#0006;border-radius:8px;overflow-x:auto;font-size:13px;line-height:1.6;color:#ffffffd9;font-family:Monaco,Courier New,monospace}.hint-link-button{display:inline-flex;align-items:center;gap:8px;padding:14px 24px;background:var(--news-orange);border:none;border-radius:12px;color:#fff;font-size:16px;font-weight:600;text-decoration:none;cursor:pointer;transition:all .2s ease}.hint-link-button:hover{transform:scale(1.05);box-shadow:0 8px 20px #ff950066}.hint-link-button svg{stroke:#fff}@media (max-width: 768px){.news-header{padding:16px}.news-title{font-size:24px}.news-feed{padding:16px}.article-thumbnail{width:50px;height:50px;min-width:50px}.article-title,.article-description{font-size:13px}}@media (max-width: 480px){.news-article-card{flex-direction:column}.article-thumbnail{width:100%;height:180px}.article-favorite-button{top:auto;bottom:16px;right:16px}}.action-sheet-backdrop{position:fixed;inset:0;background:#0006;backdrop-filter:blur(8px);z-index:9999;display:flex;align-items:flex-end;justify-content:center;padding:0}.action-sheet-container{width:100%;max-width:500px;background:#1c1c1ef2;backdrop-filter:saturate(180%) blur(20px);border-radius:24px 24px 0 0;padding:0;box-shadow:0 -4px 24px #0000004d;overflow:hidden}.action-sheet-header{padding:20px 20px 16px;text-align:center;border-bottom:1px solid rgba(255,255,255,.1)}.action-sheet-title{font-size:17px;font-weight:600;color:#fffffff2;margin:0 0 8px;line-height:1.3}.action-sheet-message{font-size:14px;color:#fff9;margin:0;line-height:1.4}.action-sheet-actions{padding:8px 0}.action-sheet-button{width:100%;padding:16px 20px;border:none;background:transparent;color:#ffffffe6;font-size:17px;font-weight:500;cursor:pointer;transition:background .2s ease;display:flex;align-items:center;justify-content:center;gap:8px;border-top:1px solid rgba(255,255,255,.05)}.action-sheet-button:first-child{border-top:none}.action-sheet-button:hover{background:#ffffff14}.action-sheet-button:active{background:#ffffff1f}.action-sheet-button-destructive{color:#ff3b30;font-weight:600}.action-sheet-button-destructive:hover{background:#ff3b301a}.action-sheet-button-destructive:active{background:#ff3b3026}.action-sheet-button-cancel{font-weight:600;color:#fffffff2;margin-top:8px;border-top:8px solid rgba(0,0,0,.3)}.action-sheet-button-default{color:#007aff}.action-sheet-button-default:hover{background:#007aff1a}.action-sheet-button-default:active{background:#007aff26}.action-sheet-button-icon{font-size:20px;line-height:1}.action-sheet-button-label{line-height:1}@media (max-width: 768px){.action-sheet-container{max-width:100%;border-radius:24px 24px 0 0}}@media (min-width: 769px){.action-sheet-container{margin-bottom:20px;border-radius:24px}}:root{--todos-blue: rgb(0, 122, 255);--todos-red: rgb(255, 59, 48)}.todo-detail-container{width:100%;height:100%;max-height:555px;border-radius:24px;overflow:hidden;position:absolute;inset:0}.todo-detail-container .ios-navbar{justify-content:space-between}.todo-detail-delete-btn{background:none;border:none;color:#fffffff2;font-size:17px;cursor:pointer;padding:0;margin-left:auto}.todo-detail-edit-content{padding:20px;overflow-y:auto;flex:1}.todo-picker-container{padding:40px 20px;display:flex;justify-content:center;align-items:flex-start;flex:1}.todo-picker-container .picker-wrapper .picker-up,.todo-picker-container .picker-wrapper .picker-down{background:transparent;border:none}.todo-picker-container .todo-date-picker-wheels{display:flex;justify-content:center;gap:0;height:210px;width:100%;position:relative}.todo-picker-container .todo-date-picker-wheels:before,.todo-picker-container .todo-date-picker-wheels:after{content:"";position:absolute;left:0;right:0;height:1px;background:#ffffff4d;pointer-events:none;z-index:10}.todo-picker-container .todo-date-picker-wheels:before{top:calc(50% - 15px)}.todo-picker-container .todo-date-picker-wheels:after{top:calc(50% + 15px)}.todo-picker-container .date-picker-wheel{flex:1;max-width:100px}.todo-picker-container .todo-time-picker-wheels{display:flex;justify-content:center;align-items:center;gap:0;height:210px;width:100%;position:relative}.todo-picker-container .todo-time-picker-wheels:before,.todo-picker-container .todo-time-picker-wheels:after{content:"";position:absolute;left:0;right:0;height:1px;background:#ffffff4d;pointer-events:none;z-index:10}.todo-picker-container .todo-time-picker-wheels:before{top:calc(50% - 15px)}.todo-picker-container .todo-time-picker-wheels:after{top:calc(50% + 15px)}.todo-picker-container .time-picker-wheel{flex:1;max-width:80px}.todo-picker-container .time-picker-separator{font-size:24px;font-weight:600;color:#fffffff2;padding:0 5px;background:transparent;position:relative;z-index:11}.todo-picker-container .time-picker-separator:before,.todo-picker-container .time-picker-separator:after{height:0}.todo-time-picker-wheels{display:flex;justify-content:center;align-items:center;gap:5px;height:210px}.time-picker-separator{font-size:24px;font-weight:600;color:#fffffff2;padding:0 5px;background:transparent}.todo-detail-checkbox{position:relative;display:inline-block;cursor:pointer;margin-bottom:-10px}.todo-detail-checkbox input{opacity:0;width:0;height:0;position:absolute}.checkbox-mark-large{position:relative;display:inline-block;width:28px;height:28px;background:#ffffff1a;border:none;border-radius:50%;transition:all .2s ease;flex-shrink:0}.todo-detail-checkbox:hover .checkbox-mark-large{background:#ffffff26}.todo-detail-checkbox input:checked~.checkbox-mark-large{background:var(--todos-blue)}.checkbox-mark-large:after{content:"";position:absolute;display:none;left:9px;top:4px;width:6px;height:11px;border:solid white;border-width:0 2.5px 2.5px 0;transform:rotate(45deg)}.todo-detail-checkbox input:checked~.checkbox-mark-large:after{display:block}.todo-detail-field{margin-bottom:16px}.todo-detail-title-input{width:100%;font-size:28px;font-weight:700;color:#fffffff2;background:#ffffff0d;border:none;outline:none;padding:12px 16px;border-radius:12px;transition:background .2s ease;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;letter-spacing:-.5px}.todo-detail-title-input:focus{background:#ffffff1a}.todo-detail-title-input.completed{text-decoration:line-through;color:#fff9}.todo-detail-title-input::placeholder{color:#ffffff4d}.todo-detail-description-input{width:100%;font-size:16px;font-weight:400;color:#fffc;background:#ffffff0d;border:none;outline:none;padding:12px 16px;border-radius:12px;transition:background .2s ease;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;resize:vertical;min-height:100px;line-height:1.5}.todo-detail-description-input:focus{background:#ffffff1a}.todo-detail-description-input::placeholder{color:#ffffff4d}.todo-detail-meta{margin:24px 0;padding:16px;background:#ffffff0d;border-radius:16px;border:1px solid rgba(255,255,255,.1)}.todo-meta-row{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid rgba(255,255,255,.05)}.todo-meta-row:last-child{border-bottom:none}.meta-label{display:flex;align-items:center;gap:8px;font-size:15px;font-weight:600;color:#ffffffb3}.meta-icon{font-size:18px;line-height:1}.meta-value{font-size:15px;font-weight:500;color:#ffffffe6}.todo-detail-select{padding:8px 12px;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fffffff2;font-size:15px;cursor:pointer;min-width:120px}.todo-detail-select:focus{outline:none;border-color:#007aff}.todo-detail-date-button{display:flex;align-items:center;gap:8px;padding:8px 12px;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fffffff2;font-size:15px;cursor:pointer}.todo-detail-date-button svg{stroke:#ffffff80}.todo-detail-date-button.overdue{color:var(--todos-red);border-color:#ff3b304d}.todo-date-picker-overlay{position:absolute;inset:0;background:#000c;display:flex;align-items:flex-end;justify-content:center;z-index:100}.todo-date-picker-container{width:100%;background:#1c1c1ef2;border-radius:24px 24px 0 0;padding:20px;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px)}.todo-date-picker-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:1px solid rgba(255,255,255,.1)}.todo-date-picker-header button{background:none;border:none;color:#fffffff2;font-size:17px;cursor:pointer;padding:0}.todo-date-picker-header span{font-size:17px;font-weight:600;color:#fffffff2}.todo-date-picker-wheels{display:flex;justify-content:center;gap:10px;height:210px}.date-picker-wheel{flex:1;max-width:100px}.todo-time-picker-wheels{display:flex;justify-content:center;align-items:center;gap:0;height:210px;position:relative}.todo-time-picker-wheels:before,.todo-time-picker-wheels:after{content:"";position:absolute;left:0;right:0;height:1px;background:#ffffff4d;pointer-events:none;z-index:10}.todo-time-picker-wheels:before{top:calc(50% - 15px)}.todo-time-picker-wheels:after{top:calc(50% + 15px)}.time-picker-wheel{flex:1;max-width:80px}.time-picker-separator{font-size:24px;font-weight:600;color:#fffffff2;padding:0 5px;background:transparent;position:relative;z-index:11}.time-picker-separator:before,.time-picker-separator:after{height:0}.todo-detail-actions{display:flex;gap:12px;margin-top:24px;padding-top:24px;border-top:1px solid rgba(255,255,255,.1)}.todo-action-btn{flex:1;padding:14px 20px;border-radius:12px;border:none;font-size:16px;font-weight:600;cursor:pointer;transition:all .2s ease;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.todo-action-cancel{background:#ffffff1a;color:#ffffffe6}.todo-action-cancel:hover{background:#ffffff26;transform:scale(1.02)}.todo-action-save{background:var(--todos-blue);color:#fff}.todo-action-save:hover:not(:disabled){background:#0a84ff;transform:scale(1.02);box-shadow:0 4px 12px #007aff4d}.todo-action-save:disabled{opacity:.5;cursor:not-allowed}@media (max-width: 768px){.todo-detail-content{padding:20px}.todo-detail-title-input{font-size:24px}.todo-detail-description-input{font-size:15px}}.todo-add-dialog{width:100%;height:100%;max-height:555px;border-radius:24px;overflow:hidden;position:absolute;inset:0;background:transparent}.todo-add-dialog .ios-navbar{justify-content:space-between}.todo-add-dialog .todo-detail-delete-btn:disabled{opacity:.4;cursor:not-allowed}.todo-add-dialog .todo-picker-container .picker-wrapper .picker-up,.todo-add-dialog .todo-picker-container .picker-wrapper .picker-down{background:transparent;border:none}.todo-add-dialog .todo-picker-container .todo-date-picker-wheels{gap:0;position:relative}.todo-add-dialog .todo-picker-container .todo-date-picker-wheels:before,.todo-add-dialog .todo-picker-container .todo-date-picker-wheels:after{content:"";position:absolute;left:0;right:0;height:1px;background:#ffffff4d;pointer-events:none;z-index:10}.todo-add-dialog .todo-picker-container .todo-date-picker-wheels:before{top:calc(50% - 15px)}.todo-add-dialog .todo-picker-container .todo-date-picker-wheels:after{top:calc(50% + 15px)}.todo-add-dialog .todo-picker-container .todo-time-picker-wheels{gap:0;position:relative}.todo-add-dialog .todo-picker-container .todo-time-picker-wheels:before,.todo-add-dialog .todo-picker-container .todo-time-picker-wheels:after{content:"";position:absolute;left:0;right:0;height:1px;background:#ffffff4d;pointer-events:none;z-index:10}.todo-add-dialog .todo-picker-container .todo-time-picker-wheels:before{top:calc(50% - 15px)}.todo-add-dialog .todo-picker-container .todo-time-picker-wheels:after{top:calc(50% + 15px)}.todo-add-dialog .todo-picker-container .time-picker-separator{background:transparent;position:relative;z-index:11}.todo-add-dialog .todo-picker-container .time-picker-separator:before,.todo-add-dialog .todo-picker-container .time-picker-separator:after{height:0}:root{--todos-blue: rgb(0, 122, 255);--todos-red: rgb(255, 59, 48);--todos-green: rgb(52, 199, 89);--todos-orange: rgb(255, 149, 0)}.todos-view-container{width:100%;height:100%;max-height:555px;background:#0003;border-radius:24px;overflow:hidden;overflow-x:hidden;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;padding:0}.todos-filter-wrapper{padding:20px 20px 0}.todos-filter-bar{overflow-x:auto;scrollbar-width:none;margin-left:-20px;margin-right:-20px;padding-left:20px;padding-right:20px}.todos-filter-bar::-webkit-scrollbar{display:none}.todos-scroll-indicator{position:absolute;top:43%;transform:translateY(-43%);width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;cursor:pointer;z-index:10;background:#000000b3}.todos-scroll-indicator-left{left:2px}.todos-scroll-indicator-right{right:2px}.todos-scroll-indicator svg{width:14px;height:14px}.filter-tabs{display:flex;gap:8px;min-width:min-content}.todos-filter-bar .filter-tab{padding:8px 16px;border-radius:20px;background:#ffffff1a;color:#ffffffb3;font-size:14px;font-weight:500;cursor:pointer;white-space:nowrap;border:none;display:flex;align-items:center;gap:6px;transition:all .2s}.todos-filter-bar .filter-tab.active{background:#fffffff2;border-color:#fffffff2;color:#000000e6;font-weight:500}.todos-filter-bar .filter-badge{display:inline-flex;align-items:center;justify-content:center;min-width:20px;height:20px;padding:0 6px;background:#ffffff4d;color:#fff;font-size:12px;font-weight:600;border-radius:10px;line-height:1}.todos-filter-bar .filter-tab.active .filter-badge{background:#000000e6;color:#fff}.todos-feed{flex:1;overflow-y:auto;padding:0 20px 20px;scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.2) transparent}.todos-feed::-webkit-scrollbar{width:8px}.todos-feed::-webkit-scrollbar-track{background:transparent}.todos-feed::-webkit-scrollbar-thumb{background:#fff3;border-radius:4px}.todos-list{display:flex;flex-direction:column;gap:12px;padding:0 4px}.todo-card{background:#ffffff1a;border-radius:16px;padding:16px;cursor:pointer;transition:all .3s ease;position:relative;display:flex;gap:16px;align-items:flex-start}.todo-card:hover{background:#ffffff26}.todo-card.completed{opacity:.5}.todo-card.completed .todo-title{text-decoration:line-through;color:#fff9}.todo-card.overdue:not(.completed){border-left:3px solid var(--todos-red)}.todo-checkbox-wrapper{flex-shrink:0;padding-top:2px}.todo-checkbox{position:relative;display:inline-block;width:22px;height:22px;cursor:pointer}.todo-checkbox input{opacity:0;width:0;height:0;position:absolute}.checkbox-mark{position:absolute;top:0;left:0;height:22px;width:22px;background:#ffffff1a;border:2px solid rgba(255,255,255,.3);border-radius:50%;transition:all .2s ease}.todo-checkbox:hover .checkbox-mark{background:#ffffff26;border-color:#ffffff80}.todo-checkbox input:checked~.checkbox-mark{background:var(--todos-blue);border-color:var(--todos-blue)}.checkbox-mark:after{content:"";position:absolute;display:none;left:6px;top:3px;width:5px;height:9px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg)}.todo-checkbox input:checked~.checkbox-mark:after{display:block}.todo-content{flex:1;min-width:0;display:flex;flex-direction:column;gap:4px}.todo-title{font-size:15px;font-weight:600;color:#fffffff2;line-height:1.4;margin:0;word-wrap:break-word;overflow-wrap:break-word}.todo-description{font-size:13px;color:#fff9;line-height:1.4;margin:0;word-wrap:break-word;overflow-wrap:break-word}.todo-footer{display:flex;align-items:center;gap:6px;font-size:12px;line-height:1;color:#fff9;margin-top:4px}.todo-list{font-weight:500;color:#ffffffb3}.todo-separator{color:#fff6}.todo-due{color:#fff9}.todo-due.overdue{color:var(--todos-red);font-weight:600}.todos-detail-content{flex:1;overflow-y:auto;padding:20px;scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.2) transparent}.todos-detail-item{max-width:800px;margin:0 auto}.todo-detail-title{font-size:28px;font-weight:700;color:#fffffff2;line-height:1.2;margin:0 0 16px;letter-spacing:-.5px}.todo-detail-description{font-size:16px;line-height:1.6;color:#fffc;margin:0 0 24px}.todo-detail-meta{display:flex;flex-direction:column;gap:12px;margin-bottom:24px;padding:16px;background:#ffffff0d;border-radius:12px}.todo-meta-item{display:flex;justify-content:space-between;align-items:center}.meta-label{font-size:14px;font-weight:600;color:#ffffffb3}.meta-value{font-size:14px;color:#fffffff2}.meta-value.overdue{color:var(--todos-red);font-weight:600}.todo-detail-actions{display:flex;gap:12px}.todo-action-button{padding:12px 20px;border-radius:12px;border:none;font-size:15px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:8px}.todo-action-button.delete{background:var(--todos-red);color:#fff}.todo-action-button.delete:hover{transform:scale(1.05);box-shadow:0 4px 12px #ff3b304d}.todos-empty{text-align:center;padding:60px 20px;color:#fffc;display:flex;flex-direction:column;align-items:center;gap:16px}.empty-icon{font-size:64px;opacity:.8}.todos-empty h3{font-size:24px;font-weight:700;color:#fffffff2;margin:0}.todos-empty p{font-size:15px;color:#ffffffb3;margin:0;max-width:300px}.todos-loading{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;gap:16px;color:#fffc}.loading-spinner{width:40px;height:40px;border:3px solid rgba(255,255,255,.2);border-top-color:var(--todos-blue);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.todos-error{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;gap:16px;padding:20px;text-align:center;color:#fffc}.todos-error h3{font-size:24px;margin:0}.todos-error p{font-size:16px;color:#fff9}.retry-button{padding:12px 24px;background:var(--todos-blue);border:none;border-radius:12px;color:#fff;font-size:16px;font-weight:600;cursor:pointer;transition:all .2s ease}.retry-button:hover{transform:scale(1.05);box-shadow:0 4px 12px #007aff4d}.todos-hint{padding:40px 20px;max-width:600px;margin:0 auto;color:#ffffffe6;text-align:center}.hint-icon{margin:0 auto 24px;color:var(--todos-blue);opacity:.9}.todos-hint h2{font-size:28px;font-weight:700;margin:0 0 16px;color:#fffffff2}.hint-description{font-size:16px;line-height:1.6;color:#fffc;margin:0}@media (max-width: 768px){.todos-feed{padding:16px}.todo-card{padding:14px}.todo-title{font-size:14px}.todo-description{font-size:12px}}.printer-detail-view{width:100%;height:100%;padding:20px;overflow-y:auto;overflow-x:hidden}.printer-detail-header{margin-bottom:24px}.printer-detail-header h2{font-size:24px;font-weight:600;margin:0 0 4px;color:#fffffff2}.printer-serial{font-size:14px;color:#fff9;margin:0}.printer-progress-section{display:flex;flex-direction:column;align-items:center;margin-bottom:32px}.circular-slider-container{position:relative;width:280px;height:280px;margin-bottom:20px}.temperature-labels{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;gap:8px;pointer-events:none;margin-top:40px}.temp-label{font-size:16px;font-weight:500;color:#fffc;display:flex;align-items:center;gap:6px}.temp-label.nozzle{color:#ff9500e6}.temp-label.bed{color:#ffcc00e6}.status-info{text-align:center;width:100%}.status-line{font-size:16px;font-weight:500;color:#ffffffe6;margin-bottom:4px}.status-time{font-size:14px;color:#ffffffb3}.printer-control-sections{width:100%}.controls-content,.sensors-content,.devices-content{display:flex;flex-direction:column;gap:12px}.ios-control-row{display:flex;align-items:center;justify-content:space-between;padding:12px 0;gap:16px}.ios-control-row.tappable{cursor:pointer;padding:12px;margin:-12px;border-radius:8px;transition:background .2s ease}.ios-control-row.tappable:hover{background:#ffffff0d}.ios-control-label{font-size:15px;color:#ffffffe6;flex:1}.ios-value{font-size:15px;color:#ffffff80;margin-left:auto;margin-right:8px}.ios-slider{flex:1;-webkit-appearance:none;appearance:none;height:4px;border-radius:2px;background:#fff3;outline:none;margin:0 12px}.ios-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:20px;height:20px;border-radius:50%;background:#fff;cursor:pointer;box-shadow:0 2px 4px #0000004d}.ios-slider::-moz-range-thumb{width:20px;height:20px;border-radius:50%;background:#fff;cursor:pointer;border:none;box-shadow:0 2px 4px #0000004d}.ios-switch{position:relative;display:inline-block;width:51px;height:31px;flex-shrink:0}.ios-switch input{opacity:0;width:0;height:0}.ios-switch-slider{position:absolute;cursor:pointer;inset:0;background-color:#78788066;transition:.3s;border-radius:31px}.ios-switch-slider:before{position:absolute;content:"";height:27px;width:27px;left:2px;bottom:2px;background-color:#fff;transition:.3s;border-radius:50%;box-shadow:0 2px 4px #0003}.ios-switch input:checked+.ios-switch-slider{background-color:#30d158}.ios-switch input:checked+.ios-switch-slider:before{transform:translate(20px)}.ios-divider{height:1px;background:#ffffff1a;margin:8px 0}.ios-action-button{width:100%;padding:14px;border-radius:10px;border:none;font-size:16px;font-weight:600;cursor:pointer;transition:all .2s ease;margin-bottom:8px;display:flex;align-items:center;justify-content:center;gap:8px}.ios-action-button.pause,.ios-action-button.stop,.ios-action-button.resume{transition:all .2s ease}.ios-action-button.pause:hover,.ios-action-button.stop:hover,.ios-action-button.resume:hover{background:#fff!important;color:#000000d9!important}.ios-action-button.camera{background:#007aff26;color:#007aff;border:1px solid rgba(0,122,255,.3)}.ios-action-button.camera:hover{background:#007aff40}.ios-action-button:active{transform:scale(.98)}.ios-info-row{display:flex;align-items:center;justify-content:space-between;padding:12px 0}.ios-info-label{font-size:15px;color:#ffffffe6}.ios-info-value{font-size:15px;color:#ffffff80}.ios-device-row{display:flex;align-items:center;gap:12px;padding:12px 0}.ios-device-icon{font-size:32px;flex-shrink:0}.ios-device-info{flex:1}.ios-device-name{font-size:15px;font-weight:500;color:#ffffffe6;margin-bottom:2px}.ios-device-status{font-size:13px;color:#ffffff80}.printer-overview-container{width:100%;display:flex;flex-direction:column;align-items:center;padding:20px 0}.printer-header-info{width:100%;max-width:400px;margin-bottom:24px;padding:16px 20px;background:#ffffff0d;border-radius:12px;border:1px solid rgba(255,255,255,.1)}.printer-info-row{display:flex;justify-content:space-between;align-items:center;padding:8px 0}.printer-info-row:not(:last-child){border-bottom:1px solid rgba(255,255,255,.08);margin-bottom:8px;padding-bottom:12px}.info-label{font-size:13px;font-weight:500;color:#fff9;text-transform:uppercase;letter-spacing:.5px}.info-value{font-size:15px;font-weight:600;color:#fffffff2;text-align:right}.printer-time-info{width:100%;max-width:400px;margin-top:24px;padding:16px 20px;background:#ffffff0d;border-radius:12px;border:1px solid rgba(255,255,255,.1);display:flex;justify-content:space-between;align-items:center}.time-label{font-size:13px;font-weight:500;color:#fff9;text-transform:uppercase;letter-spacing:.5px}.time-value{font-size:16px;font-weight:600;color:#30d158}@media (max-width: 768px){.circular-slider-container{width:240px;height:240px}.temperature-labels{margin-top:30px}.temp-label{font-size:14px}.printer-header-info,.printer-time-info{max-width:100%}}.ios-expandable-card{background:#ffffff1a;border-radius:12px;border:1px solid rgba(255,255,255,.15);backdrop-filter:blur(10px);margin-bottom:12px;overflow:hidden;transition:all .2s ease}.ios-expandable-card:hover{background:#ffffff1f;border-color:#fff3}.ios-card-header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;cursor:pointer;user-select:none;-webkit-tap-highlight-color:transparent}.ios-card-header:active{background:#ffffff0d}.ios-card-title{font-size:16px;font-weight:600;color:#ffffffe6;display:flex;align-items:center;gap:8px}.chevron-icon{color:#ffffff80;flex-shrink:0}.ios-card-content{overflow:hidden}.ios-card-content-inner{padding:0 20px 16px}.integration-view-container{width:100%;height:100%;overflow-y:auto;overflow-x:hidden}.integration-header{padding:20px 20px 16px;text-align:center}.integration-header h2{font-size:28px;font-weight:700;margin:0 0 8px;color:#fffffff2}.integration-subtitle{font-size:15px;color:#fff9;margin:0;line-height:1.4}.integration-category-view{width:100%;height:100%;padding:20px}.integration-management-button{width:100%;max-width:600px;margin:0 auto 24px;display:flex;align-items:center;justify-content:space-between;padding:16px 20px;background:#007aff26;border:1px solid rgba(0,122,255,.3);border-radius:12px;color:#007aff;font-size:16px;font-weight:600;cursor:pointer;transition:all .2s ease}.integration-management-button:hover{background:#007aff40;border-color:#007aff66}.management-icon{font-size:20px;margin-right:12px}.management-text{flex:1;text-align:left}.integration-category-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px;max-width:1200px;margin:0 auto}.integration-category-card{background:#ffffff1a;border:1px solid rgba(255,255,255,.15);border-radius:16px;padding:20px;display:flex;align-items:flex-start;gap:16px;transition:all .2s ease;backdrop-filter:blur(10px)}.integration-category-card:not(.disabled):hover{background:#ffffff26;border-color:#ffffff40}.integration-category-card.disabled{opacity:.5}.integration-category-icon{font-size:48px;flex-shrink:0;width:60px;height:60px;display:flex;align-items:center;justify-content:center;background:#ffffff1a;border-radius:12px}.integration-category-info{flex:1;min-width:0}.integration-category-name{font-size:18px;font-weight:600;margin:0 0 4px;color:#fffffff2}.integration-category-description{font-size:14px;color:#fff9;margin:0 0 8px;line-height:1.4}.integration-category-badge{display:inline-block;padding:4px 12px;background:#ff950033;border:1px solid rgba(255,149,0,.3);border-radius:12px;font-size:12px;font-weight:600;color:#ff9500}.integration-management-view{width:100%;height:100%;padding:20px}.integration-empty{text-align:center;padding:60px 20px}.empty-icon{font-size:64px;margin-bottom:16px}.integration-empty h3{font-size:20px;font-weight:600;margin:0 0 8px;color:#fffffff2}.integration-empty p{font-size:15px;color:#fff9;margin:0}.integration-device-list{max-width:800px;margin:0 auto;display:flex;flex-direction:column;gap:12px}.integration-device-item{background:#ffffff1a;border:1px solid rgba(255,255,255,.15);border-radius:12px;padding:16px;display:flex;align-items:center;gap:16px;transition:all .2s ease}.integration-device-item:hover{background:#ffffff1f;border-color:#fff3}.integration-device-icon{font-size:32px;flex-shrink:0;width:48px;height:48px;display:flex;align-items:center;justify-content:center;background:#ffffff1a;border-radius:10px}.integration-device-info{flex:1;min-width:0}.integration-device-name{font-size:16px;font-weight:600;margin:0 0 4px;color:#fffffff2}.integration-device-category{font-size:14px;color:#fff9;margin:0 0 2px}.integration-device-meta{font-size:12px;color:#fff6;margin:0}.integration-device-delete-button{background:#ff3b3026;border:1px solid rgba(255,59,48,.3);border-radius:8px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:20px;transition:all .2s ease}.integration-device-delete-button:hover{background:#ff3b3040;border-color:#ff3b3066}.integration-device-confirm-delete{display:flex;gap:8px}.integration-confirm-yes,.integration-confirm-no{padding:8px 16px;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease;border:none}.integration-confirm-yes{background:#ff3b30;color:#fff}.integration-confirm-yes:hover{background:#eb271c}.integration-confirm-no{background:#ffffff1a;color:#ffffffe6;border:1px solid rgba(255,255,255,.2)}.integration-confirm-no:hover{background:#ffffff26}.integration-error{text-align:center;padding:40px 20px}.integration-error p{font-size:16px;color:#ffffffb3;margin-bottom:20px}.integration-error button{background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:8px;padding:10px 24px;color:#ffffffe6;font-size:15px;font-weight:600;cursor:pointer;transition:all .2s ease}.integration-error button:hover{background:#ffffff26}@media (max-width: 768px){.integration-category-grid{grid-template-columns:1fr}.integration-header h2{font-size:24px}.integration-category-icon{font-size:40px;width:50px;height:50px}.integration-category-name{font-size:16px}}\n';
      this.shadowRoot.appendChild(style);
    } else {
      // Re-Mount: Root existiert schon
      console.log('[FastSearchCard] Shadow DOM re-initialized (re-mount)');
    }

    // Referenz zum #root DIV speichern (immer)
    this._root = root;

    // Optional: H√∂he setzen falls konfiguriert
    if (this._config.card_height) {
      this._root.style.height = this._config.card_height + 'px';
    }

    this._tryMountApp();
  }

  _tryMountApp(retries = 0) {
    if (window.FastSearchCardApp && window.FastSearchCardApp.mount) {
      try {
        window.FastSearchCardApp.mount(this._root, this._hass, this._config);
        this._appMounted = true;
        console.log('[FastSearchCard] Preact app mounted successfully');
      } catch (error) {
        console.error('[FastSearchCard] Mount error:', error);
        this._root.innerHTML = '<div style="color: red; padding: 20px;">Error mounting Fast Search Card: ' + error.message + '</div>';
      }
    } else if (retries < 10) {
      setTimeout(() => this._tryMountApp(retries + 1), 100);
    } else {
      console.error('[FastSearchCard] App interface not available after retries');
      this._root.innerHTML = '<div style="color: red; padding: 20px;">Fast Search Card failed to load</div>';
    }
  }

  getCardSize() {
    return this._config.card_height ? Math.ceil(this._config.card_height / 50) : 10;
  }

  static getConfigElement() {
    const el = document.createElement('div');
    el.innerHTML = '<div style="padding: 20px; font-family: system-ui; text-align: center;">' +
      '<h3 style="margin-top: 0;">‚öôÔ∏è Fast Search Card</h3>' +
      '<p><strong>No configuration required.</strong></p>' +
      '<p style="margin: 20px 0;">All settings are managed <strong>inside the card</strong><br>' +
      'via the <strong>System Settings</strong> tab (‚öôÔ∏è icon).</p>' +
      '<div style="background: #f5f5f5; padding: 15px; border-radius: 8px; margin-top: 20px;">' +
      '<p style="margin: 0; font-size: 0.9em; color: #666;">' +
      'Configure: Appearance, Language, Filters, Background Effects, and more' +
      '</p>' +
      '</div>' +
      '</div>';
    return el;
  }

  static getStubConfig() {
    return { type: 'custom:fast-search-card' };
  }
}

// Register Custom Element
customElements.define('fast-search-card', FastSearchCardElement);

// Register with Home Assistant
window.customCards = window.customCards || [];
window.customCards.push({
  type: 'fast-search-card',
  name: 'Fast Search Card',
  description: 'Modern search interface with visionOS design'
});

console.log('[FastSearchCard] Custom element registered');

// === PREACT APP BUNDLE BELOW ===

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-B4sXsVSS.js","assets/vendor-UwooGa8U.js","assets/framer-motion-CkNhTlZC.js","assets/index-XeCrlVv5.js","assets/index-6trXYYG6.js","assets/index-DNTDt6r0.js","assets/index-DY6M6uOd.js","assets/index-Bhtg6EcV.js","assets/index-eCdUCj5A.js"])))=>i.map(i=>d[i]);
import{d as w,A as Q,y as O,u as e,q as be,Q as Kr,x as Yr,T as Le,k as fe,ag as ci,j as Ii,ah as Jr,ai as Pn,aj as Xr,ak as Vt}from"./vendor-UwooGa8U.js";import{A as xe,m as S,u as di,a as vt,b as zi}from"./framer-motion-CkNhTlZC.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const Qr="modulepreload",es=function(t){return"/"+t},Bi={},Oe=function(i,n,r){let s=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),a=l?.nonce||l?.getAttribute("nonce");s=c(n.map(u=>{if(u=es(u),u in Bi)return;Bi[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":Qr,d||(v.as="script"),v.crossOrigin="",v.href=u,a&&v.setAttribute("nonce",a),document.head.appendChild(v),d)return new Promise((b,y)=>{v.addEventListener("load",b),v.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(l){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=l,window.dispatchEvent(a),!a.defaultPrevented)throw l}return s.then(l=>{for(const a of l||[])a.status==="rejected"&&o(a.reason);return i().catch(o)})},ts={ui:{common:{pleaseSelect:"Bitte ausw√§hlen"},controls:{brightness:"Helligkeit",colorTemperature:"Farbtemperatur",color:"Farbe",effects:"Effekte",hvac:"HVAC",fan:"L√ºfter",preset:"Voreinstellung",swing:"Schwenk",play:"Wiedergabe",pause:"Pause",previous:"Zur√ºck",next:"Weiter",source:"Quelle",open:"√ñffnen",stop:"Stop",close:"Schlie√üen",position:"Position",speed:"Geschwindigkeit",volume:"Lautst√§rke",targetTemperature:"Zieltemperatur",currentTemperature:"Aktuell",control:"Steuerung",production:"Produktion",consumption:"Verbrauch",battery:"Batterie",printProgress:"Druckfortschritt",sensor:"Sensor",sensors:"Sensoren",diagnostics:"Diagnose",misc:"Sonstiges",controls:"Steuerung",temperature:"Temperatur",humidity:"Luftfeuchtigkeit",power:"Leistung",energy:"Energie",co2:"CO‚ÇÇ",movement:"Bewegung",door:"T√ºr",window:"Fenster",presence:"Pr√§senz",solar:"Solar",info:"Information",settings:"Einstellungen",systemSettings:"System Einstellungen",appearance:"Darstellung",language:"Sprache",notifications:"Benachrichtigungen",privacy:"Datenschutz",about:"√úber",theme:"Design",darkMode:"Dunkler Modus",lightMode:"Heller Modus",autoMode:"Automatisch",security:"Sicherheit",lock:"Verriegeln",unlock:"Entriegeln",locked:"Verriegelt",unlocked:"Entriegelt",activate:"Aktivieren",run:"Ausf√ºhren",disable:"Deaktivieren",enable:"Aktivieren",trigger:"Ausl√∂sen",scene:"Szene",script:"Skript",automation:"Automatisierung",veryWarm:"Sehr Warm",warm:"Warm",neutral:"Neutral",cold:"Kalt",daylight:"Tageslicht",on:"An",off:"Aus",active:"Aktiv",inactive:"Inaktiv",since:"seit",noRoom:"Kein Raum",unknown:"Unbekannt",justNow:"gerade eben",turned_on:"Eingeschaltet",turned_off:"Ausgeschaltet",heating:"Heizen",cooling:"K√ºhlen",auto:"Auto",drying:"Entfeuchten",fanOnly:"Nur L√ºfter",idle:"Bereit",heatingTo:"Heizen auf",coolingTo:"K√ºhlen auf",maintaining:"Halte",eco:"Eco-Modus",comfort:"Komfort",boost:"Boost",fanSpeed:"L√ºftergeschwindigkeit",horizontalOscillation:"Horizontale Oszillation",verticalOscillation:"Vertikale Oszillation",apply:"Anwenden",cancel:"Abbrechen",veryCold:"Sehr kalt",cold:"Kalt",cool:"K√ºhl",comfortable:"Angenehm",warm:"Warm",hot:"Hei√ü",veryHot:"Sehr hei√ü",veryDry:"Sehr trocken",dry:"Trocken",optimal:"Optimal",humid:"Feucht",veryHumid:"Sehr feucht",critical:"Kritisch",low:"Niedrig",medium:"Mittel",good:"Gut",full:"Voll",minimal:"Minimal",high:"Hoch",veryHigh:"Sehr hoch",excellent:"Exzellent",acceptable:"Akzeptabel",moderate:"M√§√üig",poor:"Schlecht"},search:{noResults:'Keine Ergebnisse f√ºr "{term}"',tryDifferent:"Versuche es mit anderen Suchbegriffen"},aiMode:{askAnything:"Frag mich was",subtitle:"Frage mich alles √ºber dein Smart Home",thinking:"AI denkt nach...",wasHelpful:"War das hilfreich?",yes:"Ja",no:"Nein",followUp:"Stelle eine Folgefrage...",suggestions:{lightsOff:"Schalte alle Lichter aus",weather:"Wie ist das Wetter heute?",temperature:"Stelle die Heizung auf 22 Grad"},badges:{webSearch:"Web-Suche",location:"Standort",deviceControl:"Ger√§testeuerung",assistant:"Assistent"}},subcategories:{all:"Alle",favorites:"Favoriten",suggestions:"Vorschl√§ge",lights:"Beleuchtung",switches:"Schalter",climate:"Klima",covers:"Roll√§den",media:"Medien",cleaning:"Reinigung",security:"Sicherheit",utilities:"Drucker",scripts:"Skripte",automations:"Automationen",scenes:"Szenen",temperature:"Temperatur",humidity:"Feuchtigkeit",motion:"Bewegung",door_window:"T√ºren & Fenster",energy:"Energie",light:"Licht",presence:"Pr√§senz",pressure:"Luftdruck",battery:"Batterie",air_quality:"Luftqualit√§t",other_sensors:"Sonstige",system:"System",apps:"Apps"},placeholders:{searchDevices:"Ger√§te",searchSensors:"Sensoren",searchActions:"Aktionen",searchCustom:"Benutzerdefiniert",search:"Suchen..."},categories:{devices:"Ger√§te",sensors:"Sensoren",actions:"Aktionen",custom:"Benutzerdefiniert"},viewModes:{grid:"Kacheln",list:"Liste"},filters:{categories:"Kategorien",areas:"R√§ume",types:"Typen",toggleFilter:"Filter √∂ffnen/schlie√üen"},tooltips:{gridView:"Kachelansicht",listView:"Listenansicht",filterCategories:"Nach Kategorien filtern",filterAreas:"Nach R√§umen filtern",filterTypes:"Nach Typen filtern",toggleFilter:"Filter √∂ffnen/schlie√üen",controlsTab:"Steuerung",scheduleTab:"Zeitplan",historyTab:"Verlauf",contextTab:"Kontext",generalTab:"Allgemein",appearanceTab:"Darstellung",privacyTab:"Privatsph√§re",aboutTab:"√úber"},actionButtons:{overview:"√úbersicht",settings:"Einstellungen",refresh:"Aktualisieren",back:"Zur√ºck",add:"Hinzuf√ºgen",camera:"Kamera",image:"Bild",read:"Gelesen/Ungelesen",favorite:"Favorit"},general:{noRoom:"Kein Raum",favorites:"Favoriten"},suggestions:{highlyLikely:"Sehr wahrscheinlich",likely:"Wahrscheinlich",possible:"M√∂glich"},deviceNames:{settings:"Einstellungen",marketplace:"Marktplatz",weather:"Wetter",news:"Nachrichten",todos:"Aufgaben","all-schedules":"Zeitpl√§ne √úbersicht",pluginstore:"Plugin Store"},settings:{general:"ALLGEMEIN",appearance:"Darstellung",privacy:"Datenschutz",about:"√úber",generalSettings:"Allgemeine Einstellungen",aiMode:"AI-Modus",aiModeDescription:"KI-Assistent f√ºr erweiterte Suche und Steuerung aktivieren",animations:"Animationen",animationsDescription:"√úbergangseffekte und Animationen aktivieren",soundEffects:"Soundeffekte",soundEffectsDescription:"Akustische R√ºckmeldungen bei Aktionen",languageSettings:"Spracheinstellungen",appLanguage:"App-Sprache",appLanguageDescription:"W√§hle deine bevorzugte Sprache",currencySettings:"W√§hrungseinstellungen",appCurrency:"W√§hrung",appCurrencyDescription:"W√§hle deine bevorzugte W√§hrung",notifications:"Benachrichtigungen",pushNotifications:"Push-Benachrichtigungen",pushNotificationsDescription:"Erhalte Benachrichtigungen √ºber wichtige Ereignisse",design:"Design",backgroundMode:"Hintergrund-Modus",backgroundModeDescription:"Overlay anpassen f√ºr besseren Fokus",automatic:"Automatisch",light:"Hell",dark:"Dunkel",background:"Hintergrund",backgroundDescription:"Filter und Effekte anpassen",gridColumns:"Rasterspalten",gridColumnsDescription:"Anzahl der Ger√§tekarten pro Zeile",fourColumns:"4 Spalten",fourColumnsDescription:"Standard-Layout - mehr Platz pro Karte",fiveColumns:"5 Spalten",fiveColumnsDescription:"Kompaktes Layout - mehr Karten auf einen Blick",columnsCount:"{count} Spalten",gridColumnsFooter:"Diese Einstellung gilt nur f√ºr die Desktop-Ansicht (ab 1024px Bildschirmbreite).",cardShape:"Kartenform",cardShapeDescription:"Ecken-Rundung der Ger√§tekarten",squircleStandard:"Standard",squircleStandardDescription:"Klassische abgerundete Ecken",squircleProminent:"Ausgepr√§gt",squircleProminentDescription:"Starke, markante Kurvenform",squircleBalanced:"Ausgewogen",squircleBalancedDescription:"Ausgewogene organische Kurven",squircleSubtle:"Dezent",squircleSubtleDescription:"Zarte weiche Kurven",squircleFooter:"Squircles sind organischere Kurven als normale Rundungen - je st√§rker, desto mehr weichen sie vom Kreis ab.",customized:"Angepasst",brightness:"Helligkeit",brightnessLabel:"Deckkraft",brightnessFooter:"Steuert die Helligkeit des Hintergrundbildes (100% = Original, 0% = Schwarz)",blur:"Unsch√§rfe",blurLabel:"Weichzeichner",blurFooter:"Wendet einen weichen Unsch√§rfe-Effekt auf den Hintergrund an (0px = Scharf, 50px = Sehr unscharf)",contrast:"Kontrast",contrastLabel:"Kontrast",contrastFooter:"Kontrast-Anpassung (100% = Original, 0% = Grau, 200% = Maximum)",saturation:"S√§ttigung",saturationLabel:"S√§ttigung",saturationFooter:"Farbintensit√§t (100% = Original, 0% = Graustufen, 200% = √úbers√§ttigt)",grayscale:"Graustufen",grayscaleLabel:"Schwarz & Wei√ü",grayscaleFooter:"Schwarz-Wei√ü-Effekt (0% = Farbe, 100% = Vollst√§ndig Schwarz & Wei√ü)",detailViewVideos:"Detail-Ansicht Videos",detailViewVideosDescription:"Hintergrund-Videos in der Detail-Ansicht",enableVideos:"Videos aktivieren",enableVideosDescription:"Hintergrund-Videos in der Detail-Ansicht anzeigen",onMobile:"Auf mobilen Ger√§ten",onMobileDescription:"Videos auch auf Smartphones/Tablets anzeigen",videoFolder:"Video-Ordner",path:"Pfad",videoFiles:"Video-Dateien",videoFooter:"Videos im Home Assistant www-Ordner platzieren: config/www/fast-search-videos/",videoNamingScheme:"Namensschema:",videoExamples:"Beispiele:",videoNote:"Hinweis:",videoNoteDescription:"Videos werden einmalig abgespielt, wenn die Detail-Ansicht ge√∂ffnet wird. Das letzte Frame bleibt sichtbar. Default_1.mp4 bis default_10.mp4 k√∂nnen als Platzhalter verwendet werden (zuf√§llige Auswahl).",back:"Zur√ºck",active:"Aktiv",inactive:"Inaktiv",standard:"Standard",privacySecurity:"Datenschutz & Sicherheit",clearCache:"Cache leeren",clearCacheConfirm:"Cache wirklich l√∂schen?",clearCacheSuccess:"Cache erfolgreich gel√∂scht",resetData:"Daten zur√ºcksetzen",resetDataWarning:"ACHTUNG: Alle Daten werden gel√∂scht. Fortfahren?",resetDataConfirm:"Wirklich ALLE Einstellungen und Daten zur√ºcksetzen?",privacySecure:"Ihre Daten sind sicher",privacyLocalOnly:"Alle Berechnungen erfolgen lokal. Keine Daten verlassen Ihr Ger√§t.",intelligentSuggestions:"Intelligente Vorschl√§ge",predictiveSuggestions:"VORSCHL√ÑGE AKTIVIEREN",predictiveSuggestionsDesc:"Lernt Ihre Nutzungsmuster und schl√§gt Ger√§te vor",enableSuggestions:"Vorschl√§ge aktivieren",enableSuggestionsDescription:"KI-Assistent f√ºr erweiterte Suche und Steuerung aktivieren",confidenceThreshold:"Confidence-Schwellenwert",confidenceThresholdLabel:"Confidence-Schwellenwert",confidenceThresholdDescription:"Mindest-Wahrscheinlichkeit f√ºr Vorschl√§ge",confidenceThresholdCurrent:"Aktuell: {value}%",confidenceThresholdDesc:"Mindest-Wahrscheinlichkeit f√ºr Vorschl√§ge",timeWindow:"Zeitfenster",timeWindowLabel:"Zeitfenster",timeWindowDescription:"Zeitraum um die aktuelle Uhrzeit f√ºr Vorschl√§ge",timeWindowCurrent:"Aktuell: {value} Minuten",timeWindowDesc:"Zeitraum um die aktuelle Uhrzeit f√ºr Vorschl√§ge",maxSuggestions:"Maximale Anzahl",maxSuggestionsLabel:"Maximale Anzahl",maxSuggestionsDescription:"Maximale Anzahl der angezeigten Vorschl√§ge",maxSuggestionsShow:"Zeige {value} Vorschl√§ge",maxSuggestionsDesc:"Maximale Anzahl der angezeigten Vorschl√§ge",learningSpeed:"Lern-Geschwindigkeit",learningSpeedDescription:"Wie schnell sich das System an neue Muster anpasst",learningRate:"Lern-Geschwindigkeit",learningRateDesc:"Wie schnell sich das System an neue Muster anpasst",slow:"Langsam",normal:"Normal",fast:"Schnell",learningRateSlow:"Langsam",learningRateNormal:"Normal",learningRateFast:"Schnell",privacyTitle:"Ihre Daten sind sicher",privacyDesc:"Alle Berechnungen erfolgen lokal. Keine Daten verlassen Ihr Ger√§t.",cacheCleared:"Gel√∂scht",statsBar:"StatsBar",settings:"Einstellungen",widgets:"Widgets",widgetsDescription:"Verf√ºgbare Widgets verwalten",dataSources:"Datenquellen",dataSourcesDescription:"Energie-Sensoren konfigurieren",aboutStatsBar:"√úBER STATSBAR",statsBarDescription:"Die StatsBar zeigt wichtige Informationen wie Wetter, Energieverbrauch und Uhrzeit dauerhaft oberhalb des Suchfeldes an.",features:"Features:",liveUpdates:"Live-Updates",energyDashboardIntegration:"Energy Dashboard Integration",customizableWidgets:"Anpassbare Widgets",availableWidgets:"Verf√ºgbare Widgets",weatherWidget:"Wetter (Temperatur & Icon)",weatherWidgetDescription:"Temperatur & Icon",energyGridConsumptionWidget:"Leistung (Netzbezug)",energyGridConsumptionDescription:"Aktueller Netzbezug",energyGridReturnWidget:"Leistung (Einspeisung)",energyGridReturnDescription:"R√ºckspeisung ins Netz",solarProductionWidget:"PV Leistung",solarProductionDescription:"Aktuelle PV-Erzeugung",notificationsWidget:"Benachrichtigungen (mit Z√§hler)",notificationsWidgetDescription:"Z√§hler anzeigen",timeWidget:"Uhrzeit (live)",timeWidgetDescription:"Live-Update",consumptionWidget:"Verbrauch",consumptionDescription:"Aktueller Hausverbrauch",todayConsumptionWidget:"Bisheriger Verbrauch heute",todayConsumptionDescription:"Tagesverbrauch in kWh",todayCostWidget:"Heutige Kosten",todayCostDescription:"Kosten basierend auf Energiepreis",widgetsFooter:"Widgets werden in der StatsBar rechts angezeigt",detectionMode:"Erkennungsmodus",autoDetection:"Automatische Erkennung",detectionRunning:"Erkennung l√§uft...",energyDashboardFound:"Energy Dashboard gefunden",patternBasedDetection:"Muster-basierte Erkennung",noSensorsDetected:"Keine Sensoren erkannt",detectionError:"Fehler bei Erkennung",notChecked:"Nicht gepr√ºft",startDetection:"Erkennung starten",redetectSensors:"Sensoren neu erkennen",searchRunning:"Suche l√§uft...",autoDetectionInfo:"Sensoren werden aus dem Energy Dashboard oder durch Muster erkannt",manualConfigInfo:"Manuelle Konfiguration: Gib die Entity IDs selbst ein",gridPowerConsumption:"Leistung (Netzbezug)",gridPowerReturn:"Leistung (Einspeisung)",pvPower:"PV Leistung",homeConsumption:"Verbrauch",configuredSensors:"Konfigurierte Sensoren",gridConsumption:"Netzbezug",gridReturn:"Einspeisung",solar:"Solar",battery:"Batterie",notConfigured:"Nicht konfiguriert",sensorStatusLegend:"‚úì Konfiguriert | ‚ö†Ô∏è Nicht gefunden | -- Nicht konfiguriert",energyPriceConfig:"Energiepreis",energyPriceLabel:"Preis pro kWh",energyPriceDescription:"Strompreis f√ºr Kostenberechnung",energyPriceFooter:"Dieser Preis wird verwendet, um die t√§glichen Kosten zu berechnen",manualConfiguration:"Manuelle Konfiguration",manualConfigDescription:"W√§hle die Sensor-Entity IDs manuell aus. Tipp: Die Entity-Auswahl wird in einer zuk√ºnftigen Version hinzugef√ºgt.",gridConsumptionEntityLabel:"Netzbezug Entity ID",gridReturnEntityLabel:"Einspeisung Entity ID",solarEntityLabel:"Solar Entity ID",batteryEntityLabel:"Batterie Entity ID",aboutDataSources:"√úber Datenquellen",autoDetectionDescription:`Automatische Erkennung:
1. Energy Dashboard - Nutzt die konfigurierten Energie-Sensoren
2. Muster-basiert - Sucht nach Sensoren mit √ºblichen Namen

Manuelle Konfiguration:
Gib die Entity IDs deiner Energie-Sensoren direkt ein. Diese werden f√ºr die StatsBar Widgets verwendet.`,systemSettings:"Systemeinstellungen",maxEntities:"Maximale Anzahl Entities",maxEntitiesDescription:"{count} Entities laden (0 = Unbegrenzt)",maxEntitiesUnlimited:"Unbegrenzte Entities laden (0 = Unbegrenzt)",onlyEntitiesWithArea:"Nur Entities mit Bereich laden",onlyEntitiesWithAreaDescription:"Filtert Entities ohne Bereichszuweisung heraus (Permanent aktiviert)",excludedPatterns:"Ausschlussmuster",excludedPatternsDescription:"Definiere Muster um bestimmte Entities von der Suche auszuschlie√üen. Verwende Wildcards:",wildcardAny:"beliebige Zeichen (z.B.",wildcardAnySuffix:"f√ºr alle Sensoren)",wildcardSingle:"ein einzelnes Zeichen",examples:"Beispiele:",patternPlaceholder:"z.B. sensor.temp_*",addPattern:"+ Hinzuf√ºgen",activePatterns:"Aktive Muster ({count})",removePattern:"Muster entfernen",noPatternsYet:"Keine Muster definiert. Alle Entities werden angezeigt.",statusAndGreetings:"STATUS & BEGR√úSSUNG",statsBarLabel:"StatsBar",statsBarDescription:"Statusleiste mit Widgets anzeigen",greetingsBarLabel:"GreetingsBar",greetingsBarDescription:"Begr√º√üung anzeigen",showStatsBar:"StatsBar anzeigen",showStatsBarDescription:"Statusleiste oberhalb des Suchfeldes",username:"Benutzername",usernamePlaceholder:"Benutzername eingeben",usernameFooter:"Der Benutzername wird in der StatsBar links angezeigt",widgets:"Widgets",fixedWidgets:"Feste Widgets:",weatherWidget:"Wetter (Temperatur & Icon)",energyWidget:"Energieverbrauch",notificationsWidget:"Benachrichtigungen (mit Z√§hler)",timeWidget:"Uhrzeit (live)",statsBarNote:"Die StatsBar bleibt immer sichtbar, auch wenn das Panel ge√∂ffnet ist.",namingScheme:"Namensschema:",namingSchemeNote:"Videos werden einmalig abgespielt wenn die Detail-Ansicht ge√∂ffnet wird. Das letzte Frame bleibt sichtbar. Als Platzhalter k√∂nnen default_1.mp4 bis default_10.mp4 verwendet werden (zuf√§llige Auswahl).",suggestions:"Vorschl√§ge",aboutCard:"√úber Fast Search Card",version:"Version",build:"Build",developer:"Entwickler",license:"Lizenz"},schedule:{all:"Alle",timer:"Timer",schedules:"Zeitpl√§ne",turnOn:"Einschalten",turnOff:"Ausschalten",open:"√ñffnen",close:"Schlie√üen",setPosition:"Position setzen",position:"Position",timerMode:"Timer",scheduleMode:"Zeitplan",timeFormat:"Zeitanzeige",format24h:"24h",formatAM:"AM",formatPM:"PM",days:"Tage",monday:"Mo",tuesday:"Di",wednesday:"Mi",thursday:"Do",friday:"Fr",saturday:"Sa",sunday:"So",daily:"T√§glich",weekdays:"Mo-Fr",weekend:"Sa, So",noDays:"Keine",selectDay:"Ausw√§hlen",deselectDay:"Abw√§hlen",repeat:"Wiederholung",regular:"Regelm√§√üig",once:"Einmalig",add:"Neu",cancel:"Abbrechen",confirm:"Jetzt erstellen",save:"Speichern",action:"Aktion",scheduler:"Scheduler",atTime:"Um",remaining:"Noch",minutes:"Min",noTimers:"Keine Timer",noSchedules:"Keine Zeitpl√§ne",noEntries:"Keine Eintr√§ge",timerName:"Timer",scheduleName:"Zeitplan",morningRoutine:"Morgenroutine",evening:"Abends"},climate:{temperature:"Temperatur",hvacMode:"HVAC-Modus",fanMode:"L√ºftermodus",swingMode:"Schwenkmodus",presetMode:"Voreinstellung",off:"Aus",heat:"Heizen",cool:"K√ºhlen",heatCool:"Auto",auto:"Automatisch",dry:"Entfeuchten",fanOnly:"Nur L√ºfter",low:"Niedrig",medium:"Mittel",high:"Hoch",quiet:"Leise",turbo:"Turbo",vertical:"Vertikal",horizontal:"Horizontal",both:"Beide",none:"Keine",away:"Abwesend",home:"Zuhause",eco:"Eco",boost:"Boost",comfort:"Komfort",sleep:"Schlaf"},context:{tabActions:"Aktionen",tabFavorites:"Favoriten",tabEnvironment:"Umgebung",loading:"Lade Umgebung...",noFavorites:"Keine Favoriten markiert",noEnvironment:"Keine verwandten Ger√§te gefunden",noActions:"Keine Aktionen gefunden"}},states:{on:"Ein",off:"Aus",home:"Zuhause",not_home:"Abwesend",unknown:"Unbekannt",unavailable:"Nicht verf√ºgbar",heat:"Heizen",cool:"K√ºhlen",heat_cool:"Auto",dry:"Entfeuchten",fan_only:"Nur L√ºfter",auto:"Automatisch",open:"Offen",closed:"Geschlossen",opening:"√ñffnet",closing:"Schlie√üt",stopped:"Gestoppt",locked:"Verriegelt",unlocked:"Entriegelt",locking:"Verriegelt...",unlocking:"Entriegelt...",jammed:"Verklemmt",disarmed:"Deaktiviert",armed_home:"Zuhause scharf",armed_away:"Abwesend scharf",armed_night:"Nacht scharf",armed_vacation:"Urlaub scharf",armed_custom_bypass:"Teilscharf",pending:"Aktiviert...",triggered:"Ausgel√∂st",arming:"Wird scharf...",playing:"Wiedergabe",paused:"Pausiert",idle:"Bereit",standby:"Standby",buffering:"Puffert",docked:"Ladestation",cleaning:"Reinigt",returning:"Kehrt zur√ºck",error:"Fehler","clear-night":"Klare Nacht",cloudy:"Bew√∂lkt",fog:"Neblig",hail:"Hagel",lightning:"Gewitter","lightning-rainy":"Gewitterregen",partlycloudy:"Teilweise bew√∂lkt",pouring:"Starkregen",rainy:"Regnerisch",snowy:"Schnee","snowy-rainy":"Schneeregen",sunny:"Sonnig",windy:"Windig","windy-variant":"Windig",exceptional:"Au√üergew√∂hnlich",recording:"Aufnahme",streaming:"Streaming",active:"Aktiv",scening:"Szene"},deviceClasses:{battery:{on:"Niedrig",off:"Normal"},battery_charging:{on:"L√§dt",off:"L√§dt nicht"},cold:{on:"Kalt",off:"Normal"},connectivity:{on:"Verbunden",off:"Getrennt"},door:{on:"Offen",off:"Geschlossen"},garage_door:{on:"Offen",off:"Geschlossen"},gas:{on:"Gas erkannt",off:"Kein Gas"},heat:{on:"Hei√ü",off:"Normal"},light:{on:"Licht erkannt",off:"Dunkel"},lock:{on:"Entriegelt",off:"Verriegelt"},moisture:{on:"Feucht",off:"Trocken"},motion:{on:"Bewegung",off:"Keine Bewegung"},moving:{on:"Bewegt sich",off:"Stillstand"},occupancy:{on:"Belegt",off:"Frei"},opening:{on:"Offen",off:"Geschlossen"},plug:{on:"Eingesteckt",off:"Ausgesteckt"},power:{on:"Ein",off:"Aus"},presence:{on:"Anwesend",off:"Abwesend"},problem:{on:"Problem",off:"OK"},running:{on:"L√§uft",off:"Gestoppt"},safety:{on:"Unsicher",off:"Sicher"},smoke:{on:"Rauch erkannt",off:"Kein Rauch"},sound:{on:"Ger√§usch erkannt",off:"Still"},tamper:{on:"Manipulation",off:"OK"},update:{on:"Update verf√ºgbar",off:"Aktuell"},vibration:{on:"Vibration",off:"Keine Vibration"},window:{on:"Offen",off:"Geschlossen"}},domains:{automation:"Automatisierung",binary_sensor:"Sensor",camera:"Kamera",climate:"Klima",cover:"Abdeckung",device_tracker:"Ger√§t",fan:"Ventilator",input_boolean:"Schalter",input_number:"Nummer",light:"Licht",lock:"Schloss",media_player:"Media Player",person:"Person",scene:"Szene",script:"Skript",sensor:"Sensor",switch:"Schalter",timer:"Timer",vacuum:"Staubsauger",weather:"Wetter",alarm_control_panel:"Alarmanlage"},units:{"¬∞C":"¬∞C","¬∞F":"¬∞F","%":"%",W:"W",kW:"kW",kWh:"kWh",A:"A",V:"V","km/h":"km/h","m/s":"m/s",mm:"mm",hPa:"hPa",bar:"bar",lx:"lx",lm:"lm",dB:"dB",ppm:"ppm","¬µg/m¬≥":"¬µg/m¬≥"},advice:{temp_very_cold:"Sehr kalt",temp_cold:"Kalt",temp_cool:"K√ºhl",temp_comfortable:"Angenehm",temp_warm:"Warm",temp_hot:"Hei√ü",temp_very_hot:"Sehr hei√ü",humidity_too_dry:"Zu trocken",humidity_dry:"Trocken",humidity_optimal:"Optimal",humidity_humid:"Feucht",humidity_too_humid:"Zu feucht",energy_none:"Keine Produktion",energy_low:"Geringer Ertrag",energy_medium:"Mittlerer Ertrag",energy_good:"Guter Ertrag",energy_excellent:"Sehr guter Ertrag",energy_consuming:"Verbrauch",air_excellent:"Sehr gut",air_good:"Gut",air_acceptable:"Akzeptabel",air_moderate:"M√§√üig",air_poor:"L√ºften empfohlen",air_very_poor:"Dringend l√ºften",battery_critical:"Kritisch niedrig",battery_low:"Niedrig",battery_medium:"Mittel",battery_good:"Gut",battery_full:"Voll",light_dark:"Dunkel",light_dim:"D√§mmerig",light_moderate:"M√§√üig hell",light_bright:"Hell",light_very_bright:"Sehr hell",pressure_low:"Tiefdruck",pressure_normal:"Normal",pressure_high:"Hochdruck",noise_quiet:"Ruhig",noise_moderate:"M√§√üig",noise_loud:"Laut",noise_very_loud:"Sehr laut"},actions:{title:"Aktionen",execute:"Ausf√ºhren",toggle:"Umschalten",noActions:"Keine Aktionen verf√ºgbar",noRelevantActions:"Keine relevanten Aktionen f√ºr dieses Ger√§t",loading:"Lade Aktionen...",sceneActivated:"Szene aktiviert",scriptExecuted:"Skript ausgef√ºhrt",automationOn:"Automation aktiviert",automationOff:"Automation deaktiviert",actionExecuted:"Aktion erfolgreich ausgef√ºhrt",executionError:"Fehler beim Ausf√ºhren der Aktion",loadingError:"Fehler beim Laden der Aktionen",noCallback:"Keine Callback-Funktion verf√ºgbar",types:{scene:"Szene",script:"Skript",automation:"Automation"},relevance:{veryHigh:"Sehr relevant",high:"Relevant",medium:"M√§√üig relevant",low:"Wenig relevant"},areas:{noRoom:"Kein Raum",house:"Haus",global:"Global"},states:{on:"EIN",off:"AUS",unknown:"Unbekannt"}}},is={ui:{common:{pleaseSelect:"Please select"},controls:{brightness:"Brightness",colorTemperature:"Color Temperature",color:"Color",effects:"Effects",hvac:"HVAC",fan:"Fan",preset:"Preset",swing:"Swing",play:"Play",pause:"Pause",previous:"Previous",next:"Next",source:"Source",open:"Open",stop:"Stop",close:"Close",position:"Position",speed:"Speed",volume:"Volume",targetTemperature:"Target Temperature",currentTemperature:"Current",control:"Control",production:"Production",consumption:"Consumption",battery:"Battery",printProgress:"Print Progress",sensor:"Sensor",sensors:"Sensors",diagnostics:"Diagnostics",misc:"Miscellaneous",controls:"Controls",temperature:"Temperature",humidity:"Humidity",power:"Power",energy:"Energy",co2:"CO‚ÇÇ",movement:"Motion",door:"Door",window:"Window",presence:"Presence",solar:"Solar",info:"Information",settings:"Settings",systemSettings:"System Settings",appearance:"Appearance",language:"Language",notifications:"Notifications",privacy:"Privacy",about:"About",theme:"Theme",darkMode:"Dark Mode",lightMode:"Light Mode",autoMode:"Automatic",security:"Security",lock:"Lock",unlock:"Unlock",locked:"Locked",unlocked:"Unlocked",activate:"Activate",run:"Run",disable:"Disable",enable:"Enable",trigger:"Trigger",scene:"Scene",script:"Script",automation:"Automation",veryWarm:"Very Warm",warm:"Warm",neutral:"Neutral",cold:"Cold",daylight:"Daylight",on:"On",off:"Off",active:"Active",inactive:"Inactive",since:"since",noRoom:"No Room",unknown:"Unknown",justNow:"just now",turned_on:"Turned on",turned_off:"Turned off",heating:"Heating",cooling:"Cooling",auto:"Auto",drying:"Drying",fanOnly:"Fan only",idle:"Idle",heatingTo:"Heating to",coolingTo:"Cooling to",maintaining:"Maintaining",eco:"Eco mode",comfort:"Comfort",boost:"Boost",veryCold:"Very cold",cold:"Cold",cool:"Cool",comfortable:"Comfortable",warm:"Warm",hot:"Hot",veryHot:"Very hot",veryDry:"Very dry",dry:"Dry",optimal:"Optimal",humid:"Humid",veryHumid:"Very humid",critical:"Critical",low:"Low",medium:"Medium",good:"Good",full:"Full",minimal:"Minimal",high:"High",veryHigh:"Very high",excellent:"Excellent",acceptable:"Acceptable",moderate:"Moderate",poor:"Poor"},search:{noResults:'No results for "{term}"',tryDifferent:"Try different search terms"},aiMode:{askAnything:"Ask Anything",subtitle:"Ask me anything about your Smart Home",thinking:"AI is thinking...",wasHelpful:"Was this helpful?",yes:"Yes",no:"No",followUp:"Ask a follow-up question...",suggestions:{lightsOff:"Turn off all lights",weather:"What's the weather today?",temperature:"Set temperature to 72¬∞F"},badges:{webSearch:"Web Search",location:"Location",deviceControl:"Device Control",assistant:"Assistant"}},subcategories:{all:"All",favorites:"Favorites",suggestions:"Suggestions",lights:"Lights",switches:"Switches",climate:"Climate",covers:"Covers",media:"Media",cleaning:"Cleaning",security:"Security",utilities:"Utilities",scripts:"Scripts",automations:"Automations",scenes:"Scenes",temperature:"Temperature",humidity:"Humidity",motion:"Motion",door_window:"Doors & Windows",energy:"Energy",light:"Light",presence:"Presence",pressure:"Pressure",battery:"Battery",air_quality:"Air Quality",other_sensors:"Other",system:"System",apps:"Apps"},placeholders:{searchDevices:"Devices",searchSensors:"Sensors",searchActions:"Actions",searchCustom:"Custom",search:"Search..."},categories:{devices:"Devices",sensors:"Sensors",actions:"Actions",custom:"Custom"},viewModes:{grid:"Grid",list:"List"},filters:{categories:"Categories",areas:"Areas",types:"Types",toggleFilter:"Toggle filters"},tooltips:{gridView:"Grid view",listView:"List view",filterCategories:"Filter by categories",filterAreas:"Filter by areas",filterTypes:"Filter by types",toggleFilter:"Toggle filters",controlsTab:"Controls",scheduleTab:"Schedule",historyTab:"History",contextTab:"Context",generalTab:"General",appearanceTab:"Appearance",privacyTab:"Privacy",aboutTab:"About"},actionButtons:{overview:"Overview",settings:"Settings",refresh:"Refresh",back:"Back",add:"Add",camera:"Camera",image:"Image",read:"Read/Unread",favorite:"Favorite"},general:{noRoom:"No Room",favorites:"Favorites"},deviceNames:{settings:"Settings",marketplace:"Marketplace",weather:"Weather",news:"News",todos:"Tasks","all-schedules":"Schedules Overview",pluginstore:"Plugin Store"},settings:{general:"GENERAL",appearance:"Appearance",privacy:"Privacy",about:"About",generalSettings:"General Settings",aiMode:"AI Mode",aiModeDescription:"Enable AI assistant for advanced search and control",animations:"Animations",animationsDescription:"Enable transition effects and animations",soundEffects:"Sound Effects",soundEffectsDescription:"Acoustic feedback for actions",languageSettings:"Language Settings",appLanguage:"App Language",appLanguageDescription:"Choose your preferred language",currencySettings:"Currency Settings",appCurrency:"Currency",appCurrencyDescription:"Choose your preferred currency",notifications:"Notifications",pushNotifications:"Push Notifications",pushNotificationsDescription:"Receive notifications about important events",design:"Design",backgroundMode:"Background Mode",backgroundModeDescription:"Adjust overlay for better focus",automatic:"Automatic",light:"Light",dark:"Dark",background:"Background",backgroundDescription:"Adjust filters and effects",gridColumns:"Grid Columns",gridColumnsDescription:"Number of device cards per row",fourColumns:"4 Columns",fourColumnsDescription:"Standard layout - more space per card",fiveColumns:"5 Columns",fiveColumnsDescription:"Compact layout - more cards at a glance",columnsCount:"{count} Columns",gridColumnsFooter:"This setting only applies to desktop view (from 1024px screen width).",cardShape:"Card Shape",cardShapeDescription:"Corner rounding of device cards",squircleStandard:"Standard",squircleStandardDescription:"Classic rounded corners",squircleProminent:"Prominent",squircleProminentDescription:"Strong, distinctive curve form",squircleBalanced:"Balanced",squircleBalancedDescription:"Balanced organic curves",squircleSubtle:"Subtle",squircleSubtleDescription:"Delicate soft curves",squircleFooter:"Squircles are more organic curves than normal rounding - the stronger, the more they deviate from the circle.",customized:"Customized",brightness:"Brightness",brightnessLabel:"Opacity",brightnessFooter:"Controls the brightness of the background image (100% = Original, 0% = Black)",blur:"Blur",blurLabel:"Blur",blurFooter:"Applies a soft blur to the background (0px = Sharp, 50px = Very blurred)",contrast:"Contrast",contrastLabel:"Contrast",contrastFooter:"Contrast adjustment (100% = Original, 0% = Gray, 200% = Maximum)",saturation:"Saturation",saturationLabel:"Saturation",saturationFooter:"Color intensity (100% = Original, 0% = Grayscale, 200% = Oversaturated)",grayscale:"Grayscale",grayscaleLabel:"Black & White",grayscaleFooter:"Black and white effect (0% = Color, 100% = Fully Black & White)",detailViewVideos:"Detail View Videos",detailViewVideosDescription:"Background videos in detail view",enableVideos:"Enable videos",enableVideosDescription:"Show background videos in detail view",onMobile:"On mobile devices",onMobileDescription:"Also show videos on smartphones/tablets",videoFolder:"Video Folder",path:"Path",videoFiles:"Video Files",videoFooter:"Place videos in Home Assistant www folder: config/www/fast-search-videos/",videoNamingScheme:"Naming Scheme:",videoExamples:"Examples:",videoNote:"Note:",videoNoteDescription:"Videos are played once when the detail view is opened. The last frame remains visible. Default_1.mp4 to default_10.mp4 can be used as placeholders (random selection).",back:"Back",active:"Active",inactive:"Inactive",standard:"Standard",privacySecurity:"Privacy & Security",clearCache:"Clear Cache",clearCacheConfirm:"Really clear cache?",clearCacheSuccess:"Cache successfully cleared",resetData:"Reset Data",resetDataWarning:"WARNING: All data will be deleted. Continue?",resetDataConfirm:"Really reset ALL settings and data?",privacySecure:"Your data is secure",privacyLocalOnly:"All calculations are performed locally. No data leaves your device.",intelligentSuggestions:"Intelligent Suggestions",predictiveSuggestions:"ENABLE SUGGESTIONS",predictiveSuggestionsDesc:"Learns your usage patterns and suggests devices",enableSuggestions:"Enable Suggestions",enableSuggestionsDescription:"AI assistant for enhanced search and control",confidenceThreshold:"Confidence Threshold",confidenceThresholdLabel:"Confidence Threshold",confidenceThresholdDescription:"Minimum probability for suggestions",confidenceThresholdCurrent:"Current: {value}%",confidenceThresholdDesc:"Minimum probability for suggestions",timeWindow:"Time Window",timeWindowLabel:"Time Window",timeWindowDescription:"Time range around current time for suggestions",timeWindowCurrent:"Current: {value} minutes",timeWindowDesc:"Time range around current time for suggestions",maxSuggestions:"Maximum Number",maxSuggestionsLabel:"Maximum Number",maxSuggestionsDescription:"Maximum number of displayed suggestions",maxSuggestionsShow:"Show {value} suggestions",maxSuggestionsDesc:"Maximum number of displayed suggestions",learningSpeed:"Learning Speed",learningSpeedDescription:"How quickly the system adapts to new patterns",learningRate:"Learning Speed",learningRateDesc:"How quickly the system adapts to new patterns",slow:"Slow",normal:"Normal",fast:"Fast",learningRateSlow:"Slow",learningRateNormal:"Normal",learningRateFast:"Fast",privacyTitle:"Your data is secure",privacyDesc:"All calculations are performed locally. No data leaves your device.",cacheCleared:"Cleared",statsBar:"StatsBar",settings:"Settings",widgets:"Widgets",widgetsDescription:"Manage available widgets",dataSources:"Data Sources",dataSourcesDescription:"Configure energy sensors",aboutStatsBar:"ABOUT STATSBAR",statsBarDescription:"The StatsBar displays important information like weather, energy consumption, and time permanently above the search field.",features:"Features:",liveUpdates:"Live Updates",energyDashboardIntegration:"Energy Dashboard Integration",customizableWidgets:"Customizable Widgets",availableWidgets:"Available Widgets",weatherWidget:"Weather (Temperature & Icon)",weatherWidgetDescription:"Temperature & Icon",energyGridConsumptionWidget:"Power (Grid Import)",energyGridConsumptionDescription:"Current grid import",energyGridReturnWidget:"Power (Grid Export)",energyGridReturnDescription:"Return to grid",solarProductionWidget:"PV Power",solarProductionDescription:"Current PV generation",notificationsWidget:"Notifications (with counter)",notificationsWidgetDescription:"Show counter",timeWidget:"Time (live)",timeWidgetDescription:"Live update",consumptionWidget:"Consumption",consumptionDescription:"Current home consumption",todayConsumptionWidget:"Today's Consumption",todayConsumptionDescription:"Daily consumption in kWh",todayCostWidget:"Today's Cost",todayCostDescription:"Cost based on energy price",widgetsFooter:"Widgets are displayed on the right side of the StatsBar",detectionMode:"Detection Mode",autoDetection:"Automatic Detection",detectionRunning:"Detection running...",energyDashboardFound:"Energy Dashboard found",patternBasedDetection:"Pattern-based detection",noSensorsDetected:"No sensors detected",detectionError:"Detection error",notChecked:"Not checked",startDetection:"Start Detection",redetectSensors:"Redetect sensors",searchRunning:"Search running...",autoDetectionInfo:"Sensors are detected from Energy Dashboard or by pattern",manualConfigInfo:"Manual configuration: Enter the entity IDs yourself",gridPowerConsumption:"Power (Grid Import)",gridPowerReturn:"Power (Grid Export)",pvPower:"PV Power",homeConsumption:"Consumption",configuredSensors:"Configured Sensors",gridConsumption:"Grid Import",gridReturn:"Grid Export",solar:"Solar",battery:"Battery",notConfigured:"Not configured",sensorStatusLegend:"‚úì Configured | ‚ö†Ô∏è Not found | -- Not configured",energyPriceConfig:"Energy Price",energyPriceLabel:"Price per kWh",energyPriceDescription:"Electricity price for cost calculation",energyPriceFooter:"This price is used to calculate daily costs",manualConfiguration:"Manual Configuration",manualConfigDescription:"Select the sensor entity IDs manually. Tip: Entity selection will be added in a future version.",gridConsumptionEntityLabel:"Grid Import Entity ID",gridReturnEntityLabel:"Grid Export Entity ID",solarEntityLabel:"Solar Entity ID",batteryEntityLabel:"Battery Entity ID",aboutDataSources:"About Data Sources",autoDetectionDescription:`Automatic Detection:
1. Energy Dashboard - Uses configured energy sensors
2. Pattern-based - Searches for sensors with common names

Manual Configuration:
Enter the entity IDs of your energy sensors directly. These are used for the StatsBar widgets.`,systemSettings:"System Settings",maxEntities:"Maximum Number of Entities",maxEntitiesDescription:"{count} entities load (0 = Unlimited)",maxEntitiesUnlimited:"Unlimited entities load (0 = Unlimited)",onlyEntitiesWithArea:"Load only entities with area",onlyEntitiesWithAreaDescription:"Filters out entities without area assignment (Permanently enabled)",excludedPatterns:"Excluded Patterns",excludedPatternsDescription:"Define patterns to exclude specific entities from search. Use wildcards:",wildcardAny:"any characters (e.g.",wildcardAnySuffix:"for all sensors)",wildcardSingle:"a single character",examples:"Examples:",patternPlaceholder:"e.g. sensor.temp_*",addPattern:"+ Add",activePatterns:"Active Patterns ({count})",removePattern:"Remove pattern",noPatternsYet:"No patterns defined. All entities will be shown.",statusAndGreetings:"STATUS & GREETINGS",statsBarLabel:"StatsBar",statsBarDescription:"Show status bar with widgets",greetingsBarLabel:"GreetingsBar",greetingsBarDescription:"Show greeting",showStatsBar:"Show StatsBar",showStatsBarDescription:"Status bar above search field",username:"Username",usernamePlaceholder:"Enter username",usernameFooter:"The username is displayed on the left in the StatsBar",widgets:"Widgets",fixedWidgets:"Fixed Widgets:",weatherWidget:"Weather (Temperature & Icon)",energyWidget:"Energy consumption",notificationsWidget:"Notifications (with counter)",timeWidget:"Time (live)",statsBarNote:"The StatsBar remains visible even when the panel is open.",namingScheme:"Naming Scheme:",namingSchemeNote:"Videos are played once when the detail view is opened. The last frame remains visible. Placeholder videos default_1.mp4 to default_10.mp4 can be used (random selection).",suggestions:"Suggestions",aboutCard:"About Fast Search Card",version:"Version",build:"Build",developer:"Developer",license:"License"},schedule:{all:"All",timer:"Timer",schedules:"Schedules",turnOn:"Turn on",turnOff:"Turn off",open:"Open",close:"Close",setPosition:"Set position",position:"Position",timerMode:"Timer",scheduleMode:"Schedule",timeFormat:"Time Display",format24h:"24h",formatAM:"AM",formatPM:"PM",days:"Days",monday:"Mon",tuesday:"Tue",wednesday:"Wed",thursday:"Thu",friday:"Fri",saturday:"Sat",sunday:"Sun",daily:"Daily",weekdays:"Mon-Fri",weekend:"Sat, Sun",noDays:"None",selectDay:"Select",deselectDay:"Deselect",repeat:"Repeat",regular:"Regular",once:"Once",add:"New",cancel:"Cancel",confirm:"Create now",save:"Save",action:"Action",scheduler:"Scheduler",atTime:"At",remaining:"Remaining",minutes:"min",noTimers:"No timers",noSchedules:"No schedules",noEntries:"No entries",timerName:"Timer",scheduleName:"Schedule",morningRoutine:"Morning routine",evening:"Evening"},context:{tabActions:"Actions",tabFavorites:"Favorites",tabEnvironment:"Environment",loading:"Loading environment...",noFavorites:"No favorites marked",noEnvironment:"No related devices found",noActions:"No actions found"}},states:{on:"On",off:"Off",home:"Home",not_home:"Away",unknown:"Unknown",unavailable:"Unavailable",heat:"Heating",cool:"Cooling",heat_cool:"Auto",dry:"Drying",fan_only:"Fan only",auto:"Automatic",open:"Open",closed:"Closed",opening:"Opening",closing:"Closing",stopped:"Stopped",locked:"Locked",unlocked:"Unlocked",locking:"Locking...",unlocking:"Unlocking...",jammed:"Jammed",disarmed:"Disarmed",armed_home:"Armed Home",armed_away:"Armed Away",armed_night:"Armed Night",armed_vacation:"Armed Vacation",armed_custom_bypass:"Armed Custom",pending:"Pending...",triggered:"Triggered",arming:"Arming...",playing:"Playing",paused:"Paused",idle:"Idle",standby:"Standby",buffering:"Buffering",docked:"Docked",cleaning:"Cleaning",returning:"Returning",error:"Error","clear-night":"Clear Night",cloudy:"Cloudy",fog:"Foggy",hail:"Hail",lightning:"Lightning","lightning-rainy":"Lightning Rain",partlycloudy:"Partly Cloudy",pouring:"Heavy Rain",rainy:"Rainy",snowy:"Snowy","snowy-rainy":"Sleet",sunny:"Sunny",windy:"Windy","windy-variant":"Windy",exceptional:"Exceptional",recording:"Recording",streaming:"Streaming",active:"Active",scening:"Scene"},deviceClasses:{battery:{on:"Low",off:"Normal"},battery_charging:{on:"Charging",off:"Not charging"},cold:{on:"Cold",off:"Normal"},connectivity:{on:"Connected",off:"Disconnected"},door:{on:"Open",off:"Closed"},garage_door:{on:"Open",off:"Closed"},gas:{on:"Gas detected",off:"Clear"},heat:{on:"Hot",off:"Normal"},light:{on:"Light detected",off:"Dark"},lock:{on:"Unlocked",off:"Locked"},moisture:{on:"Wet",off:"Dry"},motion:{on:"Motion detected",off:"No motion"},moving:{on:"Moving",off:"Stopped"},occupancy:{on:"Occupied",off:"Clear"},opening:{on:"Open",off:"Closed"},plug:{on:"Plugged in",off:"Unplugged"},power:{on:"On",off:"Off"},presence:{on:"Present",off:"Away"},problem:{on:"Problem",off:"OK"},running:{on:"Running",off:"Stopped"},safety:{on:"Unsafe",off:"Safe"},smoke:{on:"Smoke detected",off:"Clear"},sound:{on:"Sound detected",off:"Quiet"},tamper:{on:"Tampered",off:"OK"},update:{on:"Update available",off:"Up to date"},vibration:{on:"Vibration",off:"No vibration"},window:{on:"Open",off:"Closed"}},domains:{automation:"Automation",binary_sensor:"Sensor",camera:"Camera",climate:"Climate",cover:"Cover",device_tracker:"Device",fan:"Fan",input_boolean:"Switch",input_number:"Number",light:"Light",lock:"Lock",media_player:"Media Player",person:"Person",scene:"Scene",script:"Script",sensor:"Sensor",switch:"Switch",timer:"Timer",vacuum:"Vacuum",weather:"Weather",alarm_control_panel:"Alarm"},units:{"¬∞C":"¬∞C","¬∞F":"¬∞F","%":"%",W:"W",kW:"kW",kWh:"kWh",A:"A",V:"V","km/h":"km/h",mph:"mph","m/s":"m/s",mm:"mm",in:"in",hPa:"hPa",bar:"bar",lx:"lx",lm:"lm",dB:"dB",ppm:"ppm","¬µg/m¬≥":"¬µg/m¬≥"},advice:{temp_very_cold:"Very cold",temp_cold:"Cold",temp_cool:"Cool",temp_comfortable:"Comfortable",temp_warm:"Warm",temp_hot:"Hot",temp_very_hot:"Very hot",humidity_too_dry:"Too dry",humidity_dry:"Dry",humidity_optimal:"Optimal",humidity_humid:"Humid",humidity_too_humid:"Too humid",energy_none:"No production",energy_low:"Low yield",energy_medium:"Medium yield",energy_good:"Good yield",energy_excellent:"Excellent yield",energy_consuming:"Consuming",air_excellent:"Excellent",air_good:"Good",air_acceptable:"Acceptable",air_moderate:"Moderate",air_poor:"Ventilate",air_very_poor:"Ventilate now",battery_critical:"Critical",battery_low:"Low",battery_medium:"Medium",battery_good:"Good",battery_full:"Full",light_dark:"Dark",light_dim:"Dim",light_moderate:"Moderate",light_bright:"Bright",light_very_bright:"Very bright",pressure_low:"Low pressure",pressure_normal:"Normal",pressure_high:"High pressure",noise_quiet:"Quiet",noise_moderate:"Moderate",noise_loud:"Loud",noise_very_loud:"Very loud"},actions:{title:"Actions",execute:"Execute",toggle:"Toggle",noActions:"No actions available",noRelevantActions:"No relevant actions for this device",loading:"Loading actions...",sceneActivated:"Scene activated",scriptExecuted:"Script executed",automationOn:"Automation enabled",automationOff:"Automation disabled",actionExecuted:"Action executed successfully",executionError:"Error executing action",loadingError:"Error loading actions",noCallback:"No callback function available",types:{scene:"Scene",script:"Script",automation:"Automation"},relevance:{veryHigh:"Very relevant",high:"Relevant",medium:"Moderately relevant",low:"Less relevant"},areas:{noRoom:"No Room",house:"House",global:"Global"},states:{on:"ON",off:"OFF",unknown:"Unknown"}}},ns={ui:{common:{pleaseSelect:"Veuillez s√©lectionner"},controls:{brightness:"Luminosit√©",colorTemperature:"Temp√©rature de couleur",color:"Couleur",effects:"Effets",hvac:"CVC",fan:"Ventilateur",preset:"Pr√©r√©glage",swing:"Oscillation",play:"Lecture",pause:"Pause",previous:"Pr√©c√©dent",next:"Suivant",source:"Source",open:"Ouvrir",stop:"Arr√™t",close:"Fermer",position:"Position",speed:"Vitesse",volume:"Volume",targetTemperature:"Temp√©rature cible",currentTemperature:"Actuelle",control:"Contr√¥le",production:"Production",consumption:"Consommation",battery:"Batterie",sensor:"Capteur",temperature:"Temp√©rature",humidity:"Humidit√©",power:"Puissance",energy:"√ânergie",co2:"CO‚ÇÇ",movement:"Mouvement",door:"Porte",window:"Fen√™tre",presence:"Pr√©sence",solar:"Solaire",info:"Information",settings:"Param√®tres",systemSettings:"Param√®tres syst√®me",appearance:"Apparence",language:"Langue",notifications:"Notifications",privacy:"Confidentialit√©",about:"√Ä propos",theme:"Th√®me",darkMode:"Mode sombre",lightMode:"Mode clair",autoMode:"Automatique",security:"S√©curit√©",lock:"Verrouiller",unlock:"D√©verrouiller",locked:"Verrouill√©",unlocked:"D√©verrouill√©",activate:"Activer",run:"Ex√©cuter",disable:"D√©sactiver",enable:"Activer",trigger:"D√©clencher",scene:"Sc√®ne",script:"Script",automation:"Automatisation",veryWarm:"Tr√®s chaud",warm:"Chaud",neutral:"Neutre",cold:"Froid",daylight:"Lumi√®re du jour",on:"Allum√©",off:"√âteint",active:"Actif",inactive:"Inactif",since:"depuis",noRoom:"Aucune pi√®ce",unknown:"Inconnu",justNow:"√† l'instant",turned_on:"Allum√©",turned_off:"√âteint",heating:"Chauffage",cooling:"Refroidissement",auto:"Auto",drying:"D√©shumidification",fanOnly:"Ventilateur seulement",idle:"En attente",heatingTo:"Chauffage √†",coolingTo:"Refroidissement √†",maintaining:"Maintien",eco:"Mode √©co",comfort:"Confort",boost:"Boost",veryCold:"Tr√®s froid",cold:"Froid",cool:"Frais",comfortable:"Confortable",warm:"Chaud",hot:"Tr√®s chaud",veryHot:"Extr√™mement chaud",veryDry:"Tr√®s sec",dry:"Sec",optimal:"Optimal",humid:"Humide",veryHumid:"Tr√®s humide",critical:"Critique",low:"Bas",medium:"Moyen",good:"Bon",full:"Plein",minimal:"Minimal",high:"√âlev√©",veryHigh:"Tr√®s √©lev√©",excellent:"Excellent",acceptable:"Acceptable",moderate:"Mod√©r√©",poor:"Mauvais"},search:{noResults:"Aucun r√©sultat pour",tryDifferent:"Essayez avec d'autres termes"},aiMode:{askAnything:"Demandez tout",subtitle:"Posez-moi toutes vos questions sur votre maison intelligente",thinking:"L'IA r√©fl√©chit...",wasHelpful:"Cela vous a-t-il aid√© ?",yes:"Oui",no:"Non",followUp:"Posez une question de suivi...",suggestions:{lightsOff:"√âteindre toutes les lumi√®res",weather:"Quel temps fait-il aujourd'hui ?",temperature:"R√©gler la temp√©rature √† 22¬∞C"},badges:{webSearch:"Recherche Web",location:"Localisation",deviceControl:"Contr√¥le des appareils",assistant:"Assistant"}},subcategories:{all:"Tous",lights:"√âclairage",switches:"Interrupteurs",climate:"Climat",covers:"Volets",media:"M√©dias",cleaning:"Nettoyage",security:"S√©curit√©",utilities:"Appareils",scripts:"Scripts",automations:"Automatisations",scenes:"Sc√®nes",temperature:"Temp√©rature",humidity:"Humidit√©",motion:"Mouvement",door_window:"Portes & Fen√™tres",energy:"√ânergie",light:"Lumi√®re",presence:"Pr√©sence",pressure:"Pression",battery:"Batterie",air_quality:"Qualit√© de l'air",other_sensors:"Autres",system:"Syst√®me",apps:"Applications"},placeholders:{searchDevices:"Appareils",searchSensors:"Capteurs",searchActions:"Actions",searchCustom:"Personnalis√©",search:"Rechercher..."},categories:{devices:"Appareils",sensors:"Capteurs",actions:"Actions",custom:"Personnalis√©"},viewModes:{grid:"Grille",list:"Liste"},filters:{categories:"Cat√©gories",areas:"Pi√®ces",types:"Types"},general:{noRoom:"Aucune pi√®ce"},deviceNames:{settings:"Param√®tres",marketplace:"Boutique"},settings:{general:"G√©n√©ral",appearance:"Apparence",privacy:"Confidentialit√©",about:"√Ä propos",generalSettings:"Param√®tres g√©n√©raux",aiMode:"Mode IA",aiModeDescription:"Activer l'assistant IA pour recherche et contr√¥le avanc√©s",animations:"Animations",animationsDescription:"Activer les effets de transition et animations",soundEffects:"Effets sonores",soundEffectsDescription:"Retour acoustique pour les actions",languageSettings:"Param√®tres de langue",appLanguage:"Langue de l'application",appLanguageDescription:"Choisissez votre langue pr√©f√©r√©e",notifications:"Notifications",pushNotifications:"Notifications push",pushNotificationsDescription:"Recevoir des notifications sur les √©v√©nements importants",design:"Design",backgroundMode:"Mode d'arri√®re-plan",backgroundModeDescription:"Ajuster la superposition pour une meilleure concentration",automatic:"Automatique",light:"Clair",dark:"Sombre",background:"Arri√®re-plan",privacySecurity:"Confidentialit√© et s√©curit√©",clearCache:"Vider le cache",resetData:"R√©initialiser les donn√©es",aboutCard:"√Ä propos de Fast Search Card",version:"Version",build:"Build",developer:"D√©veloppeur",license:"Licence"},schedule:{all:"Tous",timer:"Minuteur",schedules:"Horaires",turnOn:"Allumer",turnOff:"√âteindre",timerMode:"Minuteur",scheduleMode:"Horaire",timeFormat:"Format horaire",format24h:"24h",formatAM:"AM",formatPM:"PM",days:"Jours",monday:"Lun",tuesday:"Mar",wednesday:"Mer",thursday:"Jeu",friday:"Ven",saturday:"Sam",sunday:"Dim",daily:"Quotidien",weekdays:"Lun-Ven",weekend:"Sam, Dim",noDays:"Aucun",selectDay:"S√©lectionner",deselectDay:"D√©s√©lectionner",repeat:"R√©p√©tition",regular:"R√©gulier",once:"Une fois",add:"Nouveau",cancel:"Annuler",confirm:"Cr√©er maintenant",save:"Enregistrer",action:"Action",scheduler:"Planificateur",atTime:"√Ä",remaining:"Restant",minutes:"min",noTimers:"Aucun minuteur",noSchedules:"Aucun horaire",noEntries:"Aucune entr√©e",timerName:"Minuteur",scheduleName:"Horaire",morningRoutine:"Routine matinale",evening:"Soir"},context:{tabActions:"Actions",tabFavorites:"Favoris",tabEnvironment:"Environnement",loading:"Chargement de l'environnement...",noFavorites:"Aucun favori marqu√©",noEnvironment:"Aucun appareil associ√© trouv√©",noActions:"Aucune action trouv√©e"}},states:{on:"Allum√©",off:"√âteint",home:"Maison",not_home:"Absent",heat:"Chauffage",cool:"Refroidissement",unknown:"Inconnu",unavailable:"Indisponible"},deviceClasses:{motion:{on:"Mouvement d√©tect√©",off:"Pas de mouvement"},door:{on:"Ouvert",off:"Ferm√©"},window:{on:"Ouvert",off:"Ferm√©"}},domains:{light:"Lumi√®re",switch:"Interrupteur",sensor:"Capteur",climate:"Climat"}},rs={ui:{common:{pleaseSelect:"Por favor seleccione"},controls:{brightness:"Brillo",colorTemperature:"Temperatura de color",color:"Color",effects:"Efectos",hvac:"HVAC",fan:"Ventilador",preset:"Preajuste",swing:"Oscilaci√≥n",play:"Reproducir",pause:"Pausar",previous:"Anterior",next:"Siguiente",source:"Fuente",open:"Abrir",stop:"Detener",close:"Cerrar",position:"Posici√≥n",speed:"Velocidad",volume:"Volumen",targetTemperature:"Temperatura objetivo",currentTemperature:"Actual",control:"Control",production:"Producci√≥n",consumption:"Consumo",battery:"Bater√≠a",sensor:"Sensor",temperature:"Temperatura",humidity:"Humedad",power:"Potencia",energy:"Energ√≠a",co2:"CO‚ÇÇ",movement:"Movimiento",door:"Puerta",window:"Ventana",presence:"Presencia",solar:"Solar",info:"Informaci√≥n",settings:"Configuraci√≥n",systemSettings:"Configuraci√≥n del sistema",appearance:"Apariencia",language:"Idioma",notifications:"Notificaciones",privacy:"Privacidad",about:"Acerca de",theme:"Tema",darkMode:"Modo oscuro",lightMode:"Modo claro",autoMode:"Autom√°tico",security:"Seguridad",lock:"Bloquear",unlock:"Desbloquear",locked:"Bloqueado",unlocked:"Desbloqueado",activate:"Activar",run:"Ejecutar",disable:"Desactivar",enable:"Activar",trigger:"Disparar",scene:"Escena",script:"Script",automation:"Automatizaci√≥n",veryWarm:"Muy c√°lido",warm:"C√°lido",neutral:"Neutro",cold:"Fr√≠o",daylight:"Luz del d√≠a",on:"Encendido",off:"Apagado",active:"Activo",inactive:"Inactivo",since:"desde",noRoom:"Sin habitaci√≥n",unknown:"Desconocido",justNow:"justo ahora",turned_on:"Encendido",turned_off:"Apagado",heating:"Calefacci√≥n",cooling:"Refrigeraci√≥n",auto:"Auto",drying:"Deshumidificaci√≥n",fanOnly:"Solo ventilador",idle:"En espera",heatingTo:"Calentando a",coolingTo:"Enfriando a",maintaining:"Manteniendo",eco:"Modo eco",comfort:"Confort",boost:"Boost",veryCold:"Muy fr√≠o",cold:"Fr√≠o",cool:"Fresco",comfortable:"Confortable",warm:"C√°lido",hot:"Caliente",veryHot:"Muy caliente",veryDry:"Muy seco",dry:"Seco",optimal:"√ìptimo",humid:"H√∫medo",veryHumid:"Muy h√∫medo",critical:"Cr√≠tico",low:"Bajo",medium:"Medio",good:"Bueno",full:"Lleno",minimal:"M√≠nimo",high:"Alto",veryHigh:"Muy alto",excellent:"Excelente",acceptable:"Aceptable",moderate:"Moderado",poor:"Pobre"},search:{noResults:"Sin resultados para",tryDifferent:"Prueba con otros t√©rminos"},aiMode:{askAnything:"Pregunta lo que sea",subtitle:"Preg√∫ntame cualquier cosa sobre tu hogar inteligente",thinking:"La IA est√° pensando...",wasHelpful:"¬øTe fue √∫til?",yes:"S√≠",no:"No",followUp:"Haz una pregunta de seguimiento...",suggestions:{lightsOff:"Apagar todas las luces",weather:"¬øC√≥mo est√° el tiempo hoy?",temperature:"Ajustar temperatura a 22¬∞C"},badges:{webSearch:"B√∫squeda web",location:"Ubicaci√≥n",deviceControl:"Control de dispositivos",assistant:"Asistente"}},subcategories:{all:"Todos",lights:"Iluminaci√≥n",switches:"Interruptores",climate:"Clima",covers:"Persianas",media:"Medios",cleaning:"Limpieza",security:"Seguridad",utilities:"Dispositivos",scripts:"Scripts",automations:"Automatizaciones",scenes:"Escenas",temperature:"Temperatura",humidity:"Humedad",motion:"Movimiento",door_window:"Puertas y Ventanas",energy:"Energ√≠a",light:"Luz",presence:"Presencia",pressure:"Presi√≥n",battery:"Bater√≠a",air_quality:"Calidad del aire",other_sensors:"Otros",system:"Sistema",apps:"Aplicaciones"},placeholders:{searchDevices:"Dispositivos",searchSensors:"Sensores",searchActions:"Acciones",searchCustom:"Personalizado",search:"Buscar..."},categories:{devices:"Dispositivos",sensors:"Sensores",actions:"Acciones",custom:"Personalizado"},viewModes:{grid:"Cuadr√≠cula",list:"Lista"},filters:{categories:"Categor√≠as",areas:"Habitaciones",types:"Tipos"},general:{noRoom:"Sin habitaci√≥n"},deviceNames:{settings:"Configuraci√≥n",marketplace:"Tienda"},settings:{general:"General",appearance:"Apariencia",privacy:"Privacidad",about:"Acerca de",generalSettings:"Configuraci√≥n general",aiMode:"Modo IA",aiModeDescription:"Activar asistente de IA para b√∫squeda y control avanzados",animations:"Animaciones",animationsDescription:"Activar efectos de transici√≥n y animaciones",soundEffects:"Efectos de sonido",soundEffectsDescription:"Retroalimentaci√≥n ac√∫stica para acciones",languageSettings:"Configuraci√≥n de idioma",appLanguage:"Idioma de la aplicaci√≥n",appLanguageDescription:"Elige tu idioma preferido",notifications:"Notificaciones",pushNotifications:"Notificaciones push",pushNotificationsDescription:"Recibir notificaciones sobre eventos importantes",design:"Dise√±o",backgroundMode:"Modo de fondo",backgroundModeDescription:"Ajustar superposici√≥n para mejor enfoque",automatic:"Autom√°tico",light:"Claro",dark:"Oscuro",background:"Fondo",privacySecurity:"Privacidad y seguridad",clearCache:"Limpiar cach√©",resetData:"Restablecer datos",aboutCard:"Acerca de Fast Search Card",version:"Versi√≥n",build:"Build",developer:"Desarrollador",license:"Licencia"},schedule:{all:"Todos",timer:"Temporizador",schedules:"Horarios",turnOn:"Encender",turnOff:"Apagar",timerMode:"Temporizador",scheduleMode:"Horario",timeFormat:"Formato de hora",format24h:"24h",formatAM:"AM",formatPM:"PM",days:"D√≠as",monday:"Lun",tuesday:"Mar",wednesday:"Mi√©",thursday:"Jue",friday:"Vie",saturday:"S√°b",sunday:"Dom",daily:"Diario",weekdays:"Lun-Vie",weekend:"S√°b, Dom",noDays:"Ninguno",selectDay:"Seleccionar",deselectDay:"Deseleccionar",repeat:"Repetici√≥n",regular:"Regular",once:"Una vez",add:"Nuevo",cancel:"Cancelar",confirm:"Crear ahora",save:"Guardar",action:"Acci√≥n",scheduler:"Programador",atTime:"A las",remaining:"Restante",minutes:"min",noTimers:"Sin temporizadores",noSchedules:"Sin horarios",noEntries:"Sin entradas",timerName:"Temporizador",scheduleName:"Horario",morningRoutine:"Rutina matutina",evening:"Noche"},context:{tabActions:"Acciones",tabFavorites:"Favoritos",tabEnvironment:"Entorno",loading:"Cargando entorno...",noFavorites:"No hay favoritos marcados",noEnvironment:"No se encontraron dispositivos relacionados",noActions:"No se encontraron acciones"}},states:{on:"Encendido",off:"Apagado",home:"En casa",not_home:"Ausente",heat:"Calefacci√≥n",cool:"Refrigeraci√≥n",unknown:"Desconocido",unavailable:"No disponible"}},ss={ui:{common:{pleaseSelect:"Seleziona"},controls:{brightness:"Luminosit√†",colorTemperature:"Temperatura colore",color:"Colore",temperature:"Temperatura",humidity:"Umidit√†",settings:"Impostazioni",security:"Sicurezza",on:"Acceso",off:"Spento",open:"Apri",close:"Chiudi",locked:"Bloccato",unlocked:"Sbloccato",active:"Attivo",inactive:"Inattivo",since:"da",noRoom:"Nessuna stanza",unknown:"Sconosciuto",justNow:"proprio ora",turned_on:"Acceso",turned_off:"Spento"},search:{noResults:"Nessun risultato per",tryDifferent:"Prova con altri termini"},aiMode:{askAnything:"Chiedi qualsiasi cosa",subtitle:"Chiedimi tutto sulla tua casa intelligente",thinking:"L'IA sta pensando...",wasHelpful:"√à stato utile?",yes:"S√¨",no:"No",followUp:"Fai una domanda di follow-up...",suggestions:{lightsOff:"Spegni tutte le luci",weather:"Com'√® il tempo oggi?",temperature:"Imposta la temperatura a 22¬∞C"},badges:{webSearch:"Ricerca Web",location:"Posizione",deviceControl:"Controllo dispositivi",assistant:"Assistente"}},subcategories:{all:"Tutti",lights:"Illuminazione",switches:"Interruttori",climate:"Clima",covers:"Tapparelle",media:"Media",cleaning:"Pulizia",security:"Sicurezza",utilities:"Dispositivi",scripts:"Script",automations:"Automazioni",scenes:"Scene",temperature:"Temperatura",humidity:"Umidit√†",motion:"Movimento",door_window:"Porte e Finestre",energy:"Energia",light:"Luce",presence:"Presenza",pressure:"Pressione",battery:"Batteria",air_quality:"Qualit√† dell'aria",other_sensors:"Altri",system:"Sistema",apps:"Applicazioni"},placeholders:{searchDevices:"Dispositivi",searchSensors:"Sensori",searchActions:"Azioni",searchCustom:"Personalizzato",search:"Cerca..."},categories:{devices:"Dispositivi",sensors:"Sensori",actions:"Azioni",custom:"Personalizzato"},viewModes:{grid:"Griglia",list:"Lista"},filters:{categories:"Categorie",areas:"Stanze",types:"Tipi"},general:{noRoom:"Nessuna stanza"},deviceNames:{settings:"Impostazioni",marketplace:"Negozio"},settings:{general:"Generale",appearance:"Aspetto",privacy:"Privacy",about:"Informazioni",generalSettings:"Impostazioni generali",aiMode:"Modalit√† IA",aiModeDescription:"Abilita assistente IA per ricerca e controllo avanzati",animations:"Animazioni",animationsDescription:"Abilita effetti di transizione e animazioni",soundEffects:"Effetti sonori",soundEffectsDescription:"Feedback acustico per le azioni",languageSettings:"Impostazioni lingua",appLanguage:"Lingua dell'app",appLanguageDescription:"Scegli la tua lingua preferita",notifications:"Notifiche",pushNotifications:"Notifiche push",pushNotificationsDescription:"Ricevi notifiche su eventi importanti",design:"Design",backgroundMode:"Modalit√† sfondo",backgroundModeDescription:"Regola sovrapposizione per migliore focus",automatic:"Automatico",light:"Chiaro",dark:"Scuro",background:"Sfondo",privacySecurity:"Privacy e sicurezza",clearCache:"Svuota cache",resetData:"Ripristina dati",aboutCard:"Info su Fast Search Card",version:"Versione",build:"Build",developer:"Sviluppatore",license:"Licenza"},schedule:{all:"Tutti",timer:"Timer",schedules:"Programmi",turnOn:"Accendi",turnOff:"Spegni",timerMode:"Timer",scheduleMode:"Programma",timeFormat:"Formato ora",format24h:"24h",formatAM:"AM",formatPM:"PM",days:"Giorni",monday:"Lun",tuesday:"Mar",wednesday:"Mer",thursday:"Gio",friday:"Ven",saturday:"Sab",sunday:"Dom",daily:"Giornaliero",weekdays:"Lun-Ven",weekend:"Sab, Dom",noDays:"Nessuno",selectDay:"Seleziona",deselectDay:"Deseleziona",repeat:"Ripeti",regular:"Regolare",once:"Una volta",add:"Nuovo",cancel:"Annulla",confirm:"Crea ora",save:"Salva",action:"Azione",scheduler:"Programmatore",atTime:"Alle",remaining:"Rimanente",minutes:"min",noTimers:"Nessun timer",noSchedules:"Nessun programma",noEntries:"Nessun elemento",timerName:"Timer",scheduleName:"Programma",morningRoutine:"Routine mattutina",evening:"Sera"},context:{tabActions:"Azioni",tabFavorites:"Preferiti",tabEnvironment:"Ambiente",loading:"Caricamento ambiente...",noFavorites:"Nessun preferito contrassegnato",noEnvironment:"Nessun dispositivo correlato trovato",noActions:"Nessuna azione trovata"}},states:{on:"Acceso",off:"Spento",home:"Casa",not_home:"Assente"}},os={ui:{common:{pleaseSelect:"Selecteer alstublieft"},controls:{brightness:"Helderheid",colorTemperature:"Kleurtemperatuur",color:"Kleur",temperature:"Temperatuur",humidity:"Vochtigheid",settings:"Instellingen",security:"Beveiliging",on:"Aan",off:"Uit",open:"Open",close:"Sluiten",locked:"Vergrendeld",unlocked:"Ontgrendeld"},search:{noResults:"Geen resultaten voor",tryDifferent:"Probeer andere zoektermen"},aiMode:{askAnything:"Vraag het maar",subtitle:"Vraag me alles over je slimme woning",thinking:"AI is aan het denken...",wasHelpful:"Was dit nuttig?",yes:"Ja",no:"Nee",followUp:"Stel een vervolgvraag...",suggestions:{lightsOff:"Schakel alle lichten uit",weather:"Hoe is het weer vandaag?",temperature:"Stel temperatuur in op 22¬∞C"},badges:{webSearch:"Web zoeken",location:"Locatie",deviceControl:"Apparaatbediening",assistant:"Assistent"}},subcategories:{all:"Alle",lights:"Verlichting",switches:"Schakelaars",climate:"Klimaat",covers:"Rolgordijnen",media:"Media",cleaning:"Reiniging",security:"Beveiliging",utilities:"Apparaten",scripts:"Scripts",automations:"Automatiseringen",scenes:"Sc√®nes",temperature:"Temperatuur",humidity:"Vochtigheid",motion:"Beweging",door_window:"Deuren en Ramen",energy:"Energie",light:"Licht",presence:"Aanwezigheid",pressure:"Druk",battery:"Batterij",air_quality:"Luchtkwaliteit",other_sensors:"Overige",system:"Systeem",apps:"Apps"},placeholders:{searchDevices:"Apparaten",searchSensors:"Sensoren",searchActions:"Acties",searchCustom:"Aangepast",search:"Zoeken..."},categories:{devices:"Apparaten",sensors:"Sensoren",actions:"Acties",custom:"Aangepast"},viewModes:{grid:"Raster",list:"Lijst"},filters:{categories:"Categorie√´n",areas:"Kamers",types:"Types"},general:{noRoom:"Geen kamer"},deviceNames:{settings:"Instellingen",marketplace:"Winkel"},settings:{general:"Algemeen",appearance:"Uiterlijk",privacy:"Privacy",about:"Over",generalSettings:"Algemene instellingen",aiMode:"AI-modus",aiModeDescription:"AI-assistent inschakelen voor geavanceerd zoeken en beheer",animations:"Animaties",animationsDescription:"Overgangseffecten en animaties inschakelen",soundEffects:"Geluidseffecten",soundEffectsDescription:"Akoestische feedback bij acties",languageSettings:"Taalinstellingen",appLanguage:"App-taal",appLanguageDescription:"Kies je voorkeurstaal",notifications:"Meldingen",pushNotifications:"Push-meldingen",pushNotificationsDescription:"Ontvang meldingen over belangrijke gebeurtenissen",design:"Ontwerp",backgroundMode:"Achtergrondmodus",backgroundModeDescription:"Overlay aanpassen voor betere focus",automatic:"Automatisch",light:"Licht",dark:"Donker",background:"Achtergrond",privacySecurity:"Privacy & Beveiliging",clearCache:"Cache wissen",resetData:"Gegevens resetten",aboutCard:"Over Fast Search Card",version:"Versie",build:"Build",developer:"Ontwikkelaar",license:"Licentie"},schedule:{all:"Alle",timer:"Timer",schedules:"Schema's",turnOn:"Inschakelen",turnOff:"Uitschakelen",timerMode:"Timer",scheduleMode:"Schema",timeFormat:"Tijdweergave",format24h:"24u",formatAM:"AM",formatPM:"PM",days:"Dagen",monday:"Ma",tuesday:"Di",wednesday:"Wo",thursday:"Do",friday:"Vr",saturday:"Za",sunday:"Zo",daily:"Dagelijks",weekdays:"Ma-Vr",weekend:"Za, Zo",noDays:"Geen",selectDay:"Selecteren",deselectDay:"Deselecteren",repeat:"Herhaling",regular:"Regelmatig",once:"Eenmalig",add:"Nieuw",cancel:"Annuleren",confirm:"Nu maken",save:"Opslaan",action:"Actie",scheduler:"Planner",atTime:"Om",remaining:"Resterend",minutes:"min",noTimers:"Geen timers",noSchedules:"Geen schema's",noEntries:"Geen items",timerName:"Timer",scheduleName:"Schema",morningRoutine:"Ochtendroutine",evening:"Avond"},context:{tabActions:"Acties",tabFavorites:"Favorieten",tabEnvironment:"Omgeving",loading:"Omgeving laden...",noFavorites:"Geen favorieten gemarkeerd",noEnvironment:"Geen gerelateerde apparaten gevonden",noActions:"Geen acties gevonden"}},states:{on:"Aan",off:"Uit",home:"Thuis",not_home:"Afwezig"}},as={ui:{common:{pleaseSelect:"Por favor selecione"},controls:{brightness:"Brilho",colorTemperature:"Temperatura de cor",color:"Cor",temperature:"Temperatura",humidity:"Umidade",settings:"Configura√ß√µes",security:"Seguran√ßa",on:"Ligado",off:"Desligado",open:"Abrir",close:"Fechar",locked:"Bloqueado",unlocked:"Desbloqueado"},search:{noResults:"Sem resultados para",tryDifferent:"Tente termos diferentes"},aiMode:{askAnything:"Pergunte qualquer coisa",subtitle:"Me pergunte tudo sobre sua casa inteligente",thinking:"IA est√° pensando...",wasHelpful:"Isso foi √∫til?",yes:"Sim",no:"N√£o",followUp:"Fa√ßa uma pergunta de acompanhamento...",suggestions:{lightsOff:"Apagar todas as luzes",weather:"Como est√° o tempo hoje?",temperature:"Definir temperatura para 22¬∞C"},badges:{webSearch:"Pesquisa na Web",location:"Localiza√ß√£o",deviceControl:"Controle de dispositivos",assistant:"Assistente"}},subcategories:{all:"Todos",lights:"Ilumina√ß√£o",switches:"Interruptores",climate:"Clima",covers:"Persianas",media:"M√≠dia",cleaning:"Limpeza",security:"Seguran√ßa",utilities:"Dispositivos",scripts:"Scripts",automations:"Automa√ß√µes",scenes:"Cenas",temperature:"Temperatura",humidity:"Umidade",motion:"Movimento",door_window:"Portas e Janelas",energy:"Energia",light:"Luz",presence:"Presen√ßa",pressure:"Press√£o",battery:"Bateria",air_quality:"Qualidade do ar",other_sensors:"Outros",system:"Sistema",apps:"Aplica√ß√µes"},placeholders:{searchDevices:"Dispositivos",searchSensors:"Sensores",searchActions:"A√ß√µes",searchCustom:"Personalizado",search:"Buscar..."},categories:{devices:"Dispositivos",sensors:"Sensores",actions:"A√ß√µes",custom:"Personalizado"},viewModes:{grid:"Grade",list:"Lista"},filters:{categories:"Categorias",areas:"C√¥modos",types:"Tipos"},general:{noRoom:"Sem c√¥modo"},deviceNames:{settings:"Configura√ß√µes",marketplace:"Loja"},settings:{general:"Geral",appearance:"Apar√™ncia",privacy:"Privacidade",about:"Sobre",generalSettings:"Configura√ß√µes gerais",aiMode:"Modo IA",aiModeDescription:"Ativar assistente de IA para busca e controle avan√ßados",animations:"Anima√ß√µes",animationsDescription:"Ativar efeitos de transi√ß√£o e anima√ß√µes",soundEffects:"Efeitos sonoros",soundEffectsDescription:"Feedback ac√∫stico para a√ß√µes",languageSettings:"Configura√ß√µes de idioma",appLanguage:"Idioma do app",appLanguageDescription:"Escolha seu idioma preferido",notifications:"Notifica√ß√µes",pushNotifications:"Notifica√ß√µes push",pushNotificationsDescription:"Receber notifica√ß√µes sobre eventos importantes",design:"Design",backgroundMode:"Modo de fundo",backgroundModeDescription:"Ajustar sobreposi√ß√£o para melhor foco",automatic:"Autom√°tico",light:"Claro",dark:"Escuro",background:"Fundo",privacySecurity:"Privacidade e Seguran√ßa",clearCache:"Limpar cache",resetData:"Redefinir dados",aboutCard:"Sobre Fast Search Card",version:"Vers√£o",build:"Build",developer:"Desenvolvedor",license:"Licen√ßa"},schedule:{all:"Todos",timer:"Timer",schedules:"Agendamentos",turnOn:"Ligar",turnOff:"Desligar",timerMode:"Timer",scheduleMode:"Agendamento",timeFormat:"Formato de hora",format24h:"24h",formatAM:"AM",formatPM:"PM",days:"Dias",monday:"Seg",tuesday:"Ter",wednesday:"Qua",thursday:"Qui",friday:"Sex",saturday:"S√°b",sunday:"Dom",daily:"Di√°rio",weekdays:"Seg-Sex",weekend:"S√°b, Dom",noDays:"Nenhum",selectDay:"Selecionar",deselectDay:"Desselecionar",repeat:"Repetir",regular:"Regular",once:"Uma vez",add:"Novo",cancel:"Cancelar",confirm:"Criar agora",save:"Salvar",action:"A√ß√£o",scheduler:"Agendador",atTime:"√Äs",remaining:"Restante",minutes:"min",noTimers:"Sem timers",noSchedules:"Sem agendamentos",noEntries:"Sem itens",timerName:"Timer",scheduleName:"Agendamento",morningRoutine:"Rotina matinal",evening:"Noite"},context:{tabActions:"A√ß√µes",tabFavorites:"Favoritos",tabEnvironment:"Ambiente",loading:"Carregando ambiente...",noFavorites:"Nenhum favorito marcado",noEnvironment:"Nenhum dispositivo relacionado encontrado",noActions:"Nenhuma a√ß√£o encontrada"}},states:{on:"Ligado",off:"Desligado",home:"Em casa",not_home:"Ausente"}},ls={ui:{common:{pleaseSelect:"–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ"},controls:{brightness:"–Ø—Ä–∫–æ—Å—Ç—å",colorTemperature:"–¶–≤–µ—Ç–æ–≤–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞",color:"–¶–≤–µ—Ç",temperature:"–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞",humidity:"–í–ª–∞–∂–Ω–æ—Å—Ç—å",settings:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏",security:"–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å",on:"–í–∫–ª",off:"–í—ã–∫–ª",open:"–û—Ç–∫—Ä—ã—Ç—å",close:"–ó–∞–∫—Ä—ã—Ç—å",locked:"–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ",unlocked:"–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ"},search:{noResults:"–ù–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è",tryDifferent:"–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–∏–µ –ø–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã"},aiMode:{askAnything:"–°–ø—Ä–æ—Å–∏ —á—Ç–æ —É–≥–æ–¥–Ω–æ",subtitle:"–°–ø—Ä–æ—Å–∏—Ç–µ –º–µ–Ω—è –æ –≤–∞—à–µ–º —É–º–Ω–æ–º –¥–æ–º–µ",thinking:"–ò–ò –¥—É–º–∞–µ—Ç...",wasHelpful:"–≠—Ç–æ –±—ã–ª–æ –ø–æ–ª–µ–∑–Ω–æ?",yes:"–î–∞",no:"–ù–µ—Ç",followUp:"–ó–∞–¥–∞–π—Ç–µ —É—Ç–æ—á–Ω—è—é—â–∏–π –≤–æ–ø—Ä–æ—Å...",suggestions:{lightsOff:"–í—ã–∫–ª—é—á–∏—Ç—å –≤–µ—Å—å —Å–≤–µ—Ç",weather:"–ö–∞–∫–∞—è —Å–µ–≥–æ–¥–Ω—è –ø–æ–≥–æ–¥–∞?",temperature:"–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É 22¬∞C"},badges:{webSearch:"–ü–æ–∏—Å–∫ –≤ —Å–µ—Ç–∏",location:"–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ",deviceControl:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏",assistant:"–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç"}},subcategories:{all:"–í—Å–µ",lights:"–û—Å–≤–µ—â–µ–Ω–∏–µ",switches:"–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏",climate:"–ö–ª–∏–º–∞—Ç",covers:"–ñ–∞–ª—é–∑–∏",media:"–ú–µ–¥–∏–∞",cleaning:"–£–±–æ—Ä–∫–∞",security:"–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å",utilities:"–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞",scripts:"–°—Ü–µ–Ω–∞—Ä–∏–∏",automations:"–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏",scenes:"–°—Ü–µ–Ω—ã",temperature:"–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞",humidity:"–í–ª–∞–∂–Ω–æ—Å—Ç—å",motion:"–î–≤–∏–∂–µ–Ω–∏–µ",door_window:"–î–≤–µ—Ä–∏ –∏ –û–∫–Ω–∞",energy:"–≠–Ω–µ—Ä–≥–∏—è",light:"–°–≤–µ—Ç",presence:"–ü—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ",pressure:"–î–∞–≤–ª–µ–Ω–∏–µ",battery:"–ë–∞—Ç–∞—Ä–µ—è",air_quality:"–ö–∞—á–µ—Å—Ç–≤–æ –≤–æ–∑–¥—É—Ö–∞",other_sensors:"–î—Ä—É–≥–∏–µ",system:"–°–∏—Å—Ç–µ–º–∞",apps:"–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è"},placeholders:{searchDevices:"–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞",searchSensors:"–°–µ–Ω—Å–æ—Ä—ã",searchActions:"–î–µ–π—Å—Ç–≤–∏—è",searchCustom:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ",search:"–ü–æ–∏—Å–∫..."},categories:{devices:"–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞",sensors:"–°–µ–Ω—Å–æ—Ä—ã",actions:"–î–µ–π—Å—Ç–≤–∏—è",custom:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ"},viewModes:{grid:"–°–µ—Ç–∫–∞",list:"–°–ø–∏—Å–æ–∫"},filters:{categories:"–ö–∞—Ç–µ–≥–æ—Ä–∏–∏",areas:"–ö–æ–º–Ω–∞—Ç—ã",types:"–¢–∏–ø—ã"},general:{noRoom:"–ù–µ—Ç –∫–æ–º–Ω–∞—Ç—ã"},deviceNames:{settings:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏",marketplace:"–ú–∞–≥–∞–∑–∏–Ω"},settings:{general:"–û–±—â–µ–µ",appearance:"–í–Ω–µ—à–Ω–∏–π –≤–∏–¥",privacy:"–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å",about:"–û –ø—Ä–æ–≥—Ä–∞–º–º–µ",generalSettings:"–û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏",aiMode:"–†–µ–∂–∏–º –ò–ò",aiModeDescription:"–í–∫–ª—é—á–∏—Ç—å –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è",animations:"–ê–Ω–∏–º–∞—Ü–∏–∏",animationsDescription:"–í–∫–ª—é—á–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç—ã –ø–µ—Ä–µ—Ö–æ–¥–∞ –∏ –∞–Ω–∏–º–∞—Ü–∏–∏",soundEffects:"–ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã",soundEffectsDescription:"–ó–≤—É–∫–æ–≤–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π",languageSettings:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —è–∑—ã–∫–∞",appLanguage:"–Ø–∑—ã–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è",appLanguageDescription:"–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º—ã–π —è–∑—ã–∫",notifications:"–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è",pushNotifications:"Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è",pushNotificationsDescription:"–ü–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤–∞–∂–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö",design:"–î–∏–∑–∞–π–Ω",backgroundMode:"–†–µ–∂–∏–º —Ñ–æ–Ω–∞",backgroundModeDescription:"–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –Ω–∞–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ª—É—á—à–µ–π —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∫–∏",automatic:"–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏",light:"–°–≤–µ—Ç–ª—ã–π",dark:"–¢—ë–º–Ω—ã–π",background:"–§–æ–Ω",privacySecurity:"–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å",clearCache:"–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à",resetData:"–°–±—Ä–æ—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ",aboutCard:"–û Fast Search Card",version:"–í–µ—Ä—Å–∏—è",build:"–°–±–æ—Ä–∫–∞",developer:"–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫",license:"–õ–∏—Ü–µ–Ω–∑–∏—è"},schedule:{all:"–í—Å–µ",timer:"–¢–∞–π–º–µ—Ä",schedules:"–†–∞—Å–ø–∏—Å–∞–Ω–∏—è",turnOn:"–í–∫–ª—é—á–∏—Ç—å",turnOff:"–í—ã–∫–ª—é—á–∏—Ç—å",timerMode:"–¢–∞–π–º–µ—Ä",scheduleMode:"–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ",timeFormat:"–§–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏",format24h:"24—á",formatAM:"AM",formatPM:"PM",days:"–î–Ω–∏",monday:"–ü–Ω",tuesday:"–í—Ç",wednesday:"–°—Ä",thursday:"–ß—Ç",friday:"–ü—Ç",saturday:"–°–±",sunday:"–í—Å",daily:"–ï–∂–µ–¥–Ω–µ–≤–Ω–æ",weekdays:"–ü–Ω-–ü—Ç",weekend:"–°–±, –í—Å",noDays:"–ù–µ—Ç",selectDay:"–í—ã–±—Ä–∞—Ç—å",deselectDay:"–û—Ç–º–µ–Ω–∏—Ç—å –≤—ã–±–æ—Ä",repeat:"–ü–æ–≤—Ç–æ—Ä",regular:"–†–µ–≥—É–ª—è—Ä–Ω–æ",once:"–û–¥–∏–Ω —Ä–∞–∑",add:"–ù–æ–≤—ã–π",cancel:"–û—Ç–º–µ–Ω–∞",confirm:"–°–æ–∑–¥–∞—Ç—å —Å–µ–π—á–∞—Å",save:"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å",action:"–î–µ–π—Å—Ç–≤–∏–µ",scheduler:"–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫",atTime:"–í",remaining:"–û—Å—Ç–∞–ª–æ—Å—å",minutes:"–º–∏–Ω",noTimers:"–ù–µ—Ç —Ç–∞–π–º–µ—Ä–æ–≤",noSchedules:"–ù–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π",noEntries:"–ù–µ—Ç –∑–∞–ø–∏—Å–µ–π",timerName:"–¢–∞–π–º–µ—Ä",scheduleName:"–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ",morningRoutine:"–£—Ç—Ä–µ–Ω–Ω—è—è —Ä—É—Ç–∏–Ω–∞",evening:"–í–µ—á–µ—Ä"},context:{tabActions:"–î–µ–π—Å—Ç–≤–∏—è",tabFavorites:"–ò–∑–±—Ä–∞–Ω–Ω–æ–µ",tabEnvironment:"–û–∫—Ä—É–∂–µ–Ω–∏–µ",loading:"–ó–∞–≥—Ä—É–∑–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è...",noFavorites:"–ù–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö",noEnvironment:"–°–≤—è–∑–∞–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã",noActions:"–î–µ–π—Å—Ç–≤–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"}},states:{on:"–í–∫–ª",off:"–í—ã–∫–ª",home:"–î–æ–º–∞",not_home:"–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"}},cs={ui:{common:{pleaseSelect:"ËØ∑ÈÄâÊã©"},controls:{brightness:"‰∫ÆÂ∫¶",colorTemperature:"Ëâ≤Ê∏©",color:"È¢úËâ≤",temperature:"Ê∏©Â∫¶",humidity:"ÊπøÂ∫¶",settings:"ËÆæÁΩÆ",security:"ÂÆâÂÖ®",on:"ÂºÄ",off:"ÂÖ≥",open:"ÊâìÂºÄ",close:"ÂÖ≥Èó≠",locked:"Â∑≤ÈîÅÂÆö",unlocked:"Â∑≤Ëß£ÈîÅ"},search:{noResults:"Ê≤°ÊúâÁªìÊûú",tryDifferent:"Â∞ùËØï‰∏çÂêåÁöÑÊêúÁ¥¢ËØç"},aiMode:{askAnything:"Èöè‰æøÈóÆ",subtitle:"ÈóÆÊàëÂÖ≥‰∫éÊÇ®ÁöÑÊô∫ËÉΩÂÆ∂Â±ÖÁöÑ‰ªª‰ΩïÈóÆÈ¢ò",thinking:"AI Ê≠£Âú®ÊÄùËÄÉ...",wasHelpful:"ËøôÊúâÂ∏ÆÂä©ÂêóÔºü",yes:"ÊòØ",no:"Âê¶",followUp:"ËØ∑ÈóÆÂêéÁª≠ÈóÆÈ¢ò...",suggestions:{lightsOff:"ÂÖ≥Èó≠ÊâÄÊúâÁÅØÂÖâ",weather:"‰ªäÂ§©Â§©Ê∞îÊÄé‰πàÊ†∑Ôºü",temperature:"ËÆæÁΩÆÊ∏©Â∫¶‰∏∫22¬∞C"},badges:{webSearch:"ÁΩëÁªúÊêúÁ¥¢",location:"‰ΩçÁΩÆ",deviceControl:"ËÆæÂ§áÊéßÂà∂",assistant:"Âä©Êâã"}},subcategories:{all:"ÂÖ®ÈÉ®",lights:"ÁÅØÂÖâ",switches:"ÂºÄÂÖ≥",climate:"Ê∞îÂÄô",covers:"Á™óÂ∏ò",media:"Â™í‰Ωì",cleaning:"Ê∏ÖÊ¥Å",security:"ÂÆâÂÖ®",utilities:"ËÆæÂ§á",scripts:"ËÑöÊú¨",automations:"Ëá™Âä®Âåñ",scenes:"Âú∫ÊôØ",temperature:"Ê∏©Â∫¶",humidity:"ÊπøÂ∫¶",motion:"Âä®‰Ωú",door_window:"Èó®Á™ó",energy:"ËÉΩÊ∫ê",light:"ÂÖâÁ∫ø",presence:"Â≠òÂú®",pressure:"ÂéãÂäõ",battery:"ÁîµÊ±†",air_quality:"Á©∫Ê∞îË¥®Èáè",other_sensors:"ÂÖ∂‰ªñ",system:"Á≥ªÁªü",apps:"Â∫îÁî®"},placeholders:{searchDevices:"ËÆæÂ§á",searchSensors:"‰º†ÊÑüÂô®",searchActions:"Âä®‰Ωú",searchCustom:"Ëá™ÂÆö‰πâ",search:"ÊêúÁ¥¢..."},categories:{devices:"ËÆæÂ§á",sensors:"‰º†ÊÑüÂô®",actions:"Âä®‰Ωú",custom:"Ëá™ÂÆö‰πâ"},viewModes:{grid:"ÁΩëÊ†º",list:"ÂàóË°®"},filters:{categories:"Á±ªÂà´",areas:"ÊàøÈó¥",types:"Á±ªÂûã"},general:{noRoom:"Êó†ÊàøÈó¥"},deviceNames:{settings:"ËÆæÁΩÆ",marketplace:"Â∏ÇÂú∫"},settings:{general:"Â∏∏ËßÑ",appearance:"Â§ñËßÇ",privacy:"ÈöêÁßÅ",about:"ÂÖ≥‰∫é",generalSettings:"Â∏∏ËßÑËÆæÁΩÆ",aiMode:"AI Ê®°Âºè",aiModeDescription:"ÂêØÁî®AIÂä©ÊâãËøõË°åÈ´òÁ∫ßÊêúÁ¥¢ÂíåÊéßÂà∂",animations:"Âä®Áîª",animationsDescription:"ÂêØÁî®ËøáÊ∏°ÊïàÊûúÂíåÂä®Áîª",soundEffects:"Â£∞Èü≥ÊïàÊûú",soundEffectsDescription:"Êìç‰ΩúÊó∂ÁöÑÂ£∞Èü≥ÂèçÈ¶à",languageSettings:"ËØ≠Ë®ÄËÆæÁΩÆ",appLanguage:"Â∫îÁî®ËØ≠Ë®Ä",appLanguageDescription:"ÈÄâÊã©ÊÇ®ÂñúÊ¨¢ÁöÑËØ≠Ë®Ä",notifications:"ÈÄöÁü•",pushNotifications:"Êé®ÈÄÅÈÄöÁü•",pushNotificationsDescription:"Êé•Êî∂ÈáçË¶Å‰∫ã‰ª∂ÁöÑÈÄöÁü•",design:"ËÆæËÆ°",backgroundMode:"ËÉåÊôØÊ®°Âºè",backgroundModeDescription:"Ë∞ÉÊï¥Ë¶ÜÁõñÂ±Ç‰ª•Êõ¥Â•ΩÂú∞ËÅöÁÑ¶",automatic:"Ëá™Âä®",light:"ÊµÖËâ≤",dark:"Ê∑±Ëâ≤",background:"ËÉåÊôØ",privacySecurity:"ÈöêÁßÅ‰∏éÂÆâÂÖ®",clearCache:"Ê∏ÖÈô§ÁºìÂ≠ò",resetData:"ÈáçÁΩÆÊï∞ÊçÆ",aboutCard:"ÂÖ≥‰∫é Fast Search Card",version:"ÁâàÊú¨",build:"ÊûÑÂª∫",developer:"ÂºÄÂèëËÄÖ",license:"ËÆ∏ÂèØËØÅ"},schedule:{all:"ÂÖ®ÈÉ®",timer:"ËÆ°Êó∂Âô®",schedules:"Êó∂Èó¥Ë°®",turnOn:"ÂºÄÂêØ",turnOff:"ÂÖ≥Èó≠",timerMode:"ËÆ°Êó∂Âô®",scheduleMode:"Êó∂Èó¥Ë°®",timeFormat:"Êó∂Èó¥ÊòæÁ§∫",format24h:"24Â∞èÊó∂",formatAM:"‰∏äÂçà",formatPM:"‰∏ãÂçà",days:"Â§©Êï∞",monday:"Âë®‰∏Ä",tuesday:"Âë®‰∫å",wednesday:"Âë®‰∏â",thursday:"Âë®Âõõ",friday:"Âë®‰∫î",saturday:"Âë®ÂÖ≠",sunday:"Âë®Êó•",daily:"ÊØèÂ§©",weekdays:"Â∑•‰ΩúÊó•",weekend:"Âë®Êú´",noDays:"Êó†",selectDay:"ÈÄâÊã©",deselectDay:"ÂèñÊ∂àÈÄâÊã©",repeat:"ÈáçÂ§ç",regular:"Â∏∏ËßÑ",once:"‰∏ÄÊ¨°",add:"Êñ∞Âª∫",cancel:"ÂèñÊ∂à",confirm:"Á´ãÂç≥ÂàõÂª∫",save:"‰øùÂ≠ò",action:"Êìç‰Ωú",scheduler:"Ë∞ÉÂ∫¶Âô®",atTime:"Âú®",remaining:"Ââ©‰Ωô",minutes:"ÂàÜÈíü",noTimers:"Êó†ËÆ°Êó∂Âô®",noSchedules:"Êó†Êó∂Èó¥Ë°®",noEntries:"Êó†È°πÁõÆ",timerName:"ËÆ°Êó∂Âô®",scheduleName:"Êó∂Èó¥Ë°®",morningRoutine:"Êó©Êô®‰æãÁ®ã",evening:"Êôö‰∏ä"},context:{tabActions:"Êìç‰Ωú",tabFavorites:"Êî∂ËóèÂ§π",tabEnvironment:"ÁéØÂ¢É",loading:"Âä†ËΩΩÁéØÂ¢É...",noFavorites:"Êú™Ê†áËÆ∞Êî∂Ëóè",noEnvironment:"Êú™ÊâæÂà∞Áõ∏ÂÖ≥ËÆæÂ§á",noActions:"Êú™ÊâæÂà∞Êìç‰Ωú"}},states:{on:"ÂºÄ",off:"ÂÖ≥",home:"Âú®ÂÆ∂",not_home:"Á¶ªÂºÄ"}},ds={ui:{common:{pleaseSelect:"L√ºtfen se√ßin"},controls:{brightness:"Parlaklƒ±k",colorTemperature:"Renk sƒ±caklƒ±ƒüƒ±",color:"Renk",temperature:"Sƒ±caklƒ±k",humidity:"Nem",settings:"Ayarlar",security:"G√ºvenlik",on:"A√ßƒ±k",off:"Kapalƒ±",open:"A√ß",close:"Kapat",locked:"Kilitli",unlocked:"Kilit a√ßƒ±k"},search:{noResults:"≈ûunun i√ßin sonu√ß yok",tryDifferent:"Farklƒ± arama terimleri deneyin"},aiMode:{askAnything:"Ne istersen sor",subtitle:"Akƒ±llƒ± eviniz hakkƒ±nda bana her ≈üeyi sorun",thinking:"AI d√º≈ü√ºn√ºyor...",wasHelpful:"Bu yardƒ±mcƒ± oldu mu?",yes:"Evet",no:"Hayƒ±r",followUp:"Bir takip sorusu sorun...",suggestions:{lightsOff:"T√ºm ƒ±≈üƒ±klarƒ± kapat",weather:"Bug√ºn hava nasƒ±l?",temperature:"Sƒ±caklƒ±ƒüƒ± 22¬∞C'ye ayarla"},badges:{webSearch:"Web Aramasƒ±",location:"Konum",deviceControl:"Cihaz Kontrol√º",assistant:"Asistan"}},subcategories:{all:"T√ºm√º",lights:"Aydƒ±nlatma",switches:"Anahtarlar",climate:"ƒ∞klim",covers:"Perdeler",media:"Medya",cleaning:"Temizlik",security:"G√ºvenlik",utilities:"Cihazlar",scripts:"Betikler",automations:"Otomasyonlar",scenes:"Sahneler",temperature:"Sƒ±caklƒ±k",humidity:"Nem",motion:"Hareket",door_window:"Kapƒ±lar ve Pencereler",energy:"Enerji",light:"I≈üƒ±k",presence:"Varlƒ±k",pressure:"Basƒ±n√ß",battery:"Pil",air_quality:"Hava kalitesi",other_sensors:"Diƒüer",system:"Sistem",apps:"Uygulamalar"},placeholders:{searchDevices:"Cihazlar",searchSensors:"Sens√∂rler",searchActions:"Eylemler",searchCustom:"√ñzel",search:"Ara..."},categories:{devices:"Cihazlar",sensors:"Sens√∂rler",actions:"Eylemler",custom:"√ñzel"},viewModes:{grid:"Izgara",list:"Liste"},filters:{categories:"Kategoriler",areas:"Odalar",types:"T√ºrler"},general:{noRoom:"Oda yok"},deviceNames:{settings:"Ayarlar",marketplace:"Maƒüaza"},settings:{general:"Genel",appearance:"G√∂r√ºn√ºm",privacy:"Gizlilik",about:"Hakkƒ±nda",generalSettings:"Genel Ayarlar",aiMode:"AI Modu",aiModeDescription:"Geli≈ümi≈ü arama ve kontrol i√ßin AI asistanƒ±nƒ± etkinle≈ütir",animations:"Animasyonlar",animationsDescription:"Ge√ßi≈ü efektlerini ve animasyonlarƒ± etkinle≈ütir",soundEffects:"Ses Efektleri",soundEffectsDescription:"Eylemler i√ßin sesli geri bildirim",languageSettings:"Dil Ayarlarƒ±",appLanguage:"Uygulama Dili",appLanguageDescription:"Tercih ettiƒüiniz dili se√ßin",notifications:"Bildirimler",pushNotifications:"Anlƒ±k Bildirimler",pushNotificationsDescription:"√ñnemli olaylar hakkƒ±nda bildirimler alƒ±n",design:"Tasarƒ±m",backgroundMode:"Arka Plan Modu",backgroundModeDescription:"Daha iyi odaklanma i√ßin kaplamayƒ± ayarlayƒ±n",automatic:"Otomatik",light:"A√ßƒ±k",dark:"Koyu",background:"Arka Plan",privacySecurity:"Gizlilik ve G√ºvenlik",clearCache:"√ñnbelleƒüi Temizle",resetData:"Verileri Sƒ±fƒ±rla",aboutCard:"Fast Search Card Hakkƒ±nda",version:"S√ºr√ºm",build:"Yapƒ±",developer:"Geli≈ütirici",license:"Lisans"},schedule:{all:"T√ºm√º",timer:"Zamanlayƒ±cƒ±",schedules:"Programlar",turnOn:"A√ß",turnOff:"Kapat",timerMode:"Zamanlayƒ±cƒ±",scheduleMode:"Program",timeFormat:"Saat G√∂sterimi",format24h:"24 saat",formatAM:"√ñ√ñ",formatPM:"√ñS",days:"G√ºnler",monday:"Pzt",tuesday:"Sal",wednesday:"√áar",thursday:"Per",friday:"Cum",saturday:"Cmt",sunday:"Paz",daily:"Her g√ºn",weekdays:"Hafta i√ßi",weekend:"Hafta sonu",noDays:"Yok",selectDay:"Se√ß",deselectDay:"Se√ßimi kaldƒ±r",repeat:"Tekrar",regular:"D√ºzenli",once:"Bir kere",add:"Yeni",cancel:"ƒ∞ptal",confirm:"≈ûimdi olu≈ütur",save:"Kaydet",action:"Eylem",scheduler:"Programlayƒ±cƒ±",atTime:"Saat",remaining:"Kalan",minutes:"dk",noTimers:"Zamanlayƒ±cƒ± yok",noSchedules:"Program yok",noEntries:"Giri≈ü yok",timerName:"Zamanlayƒ±cƒ±",scheduleName:"Program",morningRoutine:"Sabah rutini",evening:"Ak≈üam"},context:{tabActions:"Eylemler",tabFavorites:"Favoriler",tabEnvironment:"√áevre",loading:"√áevre y√ºklenyor...",noFavorites:"ƒ∞≈üaretlenmi≈ü favori yok",noEnvironment:"ƒ∞lgili cihaz bulunamadƒ±",noActions:"Eylem bulunamadƒ±"}},states:{on:"A√ßƒ±k",off:"Kapalƒ±",home:"Evde",not_home:"Dƒ±≈üarƒ±da"}};function us(t,i,n,r="de",s={}){const o=s[r]||s.de;return i==="binary_sensor"&&n&&o.deviceClasses?.[n]?o.deviceClasses[n][t]||o.states?.[t]||t:o.states?.[t]||t}function ui(t){if(!t)return null;const i=t.domain,n=t.attributes?.device_class,r=t.entity_id;return i==="binary_sensor"?["door","window","garage_door","opening"].includes(n)?"door_window":["motion","moving","occupancy"].includes(n)?"motion":["presence","home"].includes(n)?"presence":["smoke","gas","carbon_monoxide","safety","sound","vibration","problem"].includes(n)?"security":["moisture","water"].includes(n)?"water":n==="light"?"light":n==="battery"||n==="battery_charging"?"battery":"other_sensors":i==="sensor"?n==="temperature"||r?.includes("temperature")?"temperature":n==="humidity"||r?.includes("humidity")?"humidity":["power","energy","current","voltage","apparent_power","reactive_power"].includes(n)?"energy":n==="battery"||r?.includes("battery")?"battery":n==="illuminance"||r?.includes("illuminance")||r?.includes("lux")?"light":n==="pressure"||r?.includes("pressure")?"pressure":["pm25","pm10","co2","co","aqi","voc","nox"].includes(n)||r?.includes("air_quality")||r?.includes("pm25")?"air_quality":"other_sensors":null}function hs(t,i,n,r="de"){const s={de:{temperature:{cold:"K√ºhl - Heizung erw√§gen",optimal:"Optimale Temperatur",warm:"Warm - L√ºften empfohlen",hot:"Sehr warm - K√ºhlung empfohlen"},humidity:{low:"Zu trocken - Befeuchter empfohlen",optimal:"Optimale Luftfeuchtigkeit",high:"Zu feucht - L√ºften empfohlen"},co2:{good:"Gute Luftqualit√§t",moderate:"M√§√üige Luftqualit√§t",poor:"Schlechte Luft - L√ºften!"},battery:{critical:"Batterie fast leer!",low:"Batterie schwach",good:"Batterie OK",full:"Batterie voll"}},en:{temperature:{cold:"Cool - Consider heating",optimal:"Optimal temperature",warm:"Warm - Ventilation recommended",hot:"Very warm - Cooling recommended"},humidity:{low:"Too dry - Humidifier recommended",optimal:"Optimal humidity",high:"Too humid - Ventilation recommended"},co2:{good:"Good air quality",moderate:"Moderate air quality",poor:"Poor air - Ventilate!"},battery:{critical:"Battery almost empty!",low:"Battery low",good:"Battery OK",full:"Battery full"}}},o=s[r]||s.en;if(!t||!i||!o[i])return null;const l=parseFloat(t);if(isNaN(l))return null;if(i==="temperature"){if(l<18)return o.temperature.cold;if(l>=18&&l<=24)return o.temperature.optimal;if(l>24&&l<=27)return o.temperature.warm;if(l>27)return o.temperature.hot}if(i==="humidity"){if(l<30)return o.humidity.low;if(l>=30&&l<=60)return o.humidity.optimal;if(l>60)return o.humidity.high}if(i==="co2"||n==="ppm"){if(l<800)return o.co2.good;if(l>=800&&l<=1200)return o.co2.moderate;if(l>1200)return o.co2.poor}if(i==="battery"||n==="%"){if(l<=10)return o.battery.critical;if(l>10&&l<=30)return o.battery.low;if(l>30&&l<90)return o.battery.good;if(l>=90)return o.battery.full}return null}function ps(t,i,n={}){if(!t)return!1;const r=t.toString().toLowerCase();if(["on","ein","an","open","offen","home","zuhause","playing","active","aktiv"].includes(r))return!0;switch(i){case"light":case"switch":case"input_boolean":case"fan":return r==="on"||r==="ein";case"cover":return r==="open"||r==="offen";case"lock":return r==="unlocked"||r==="entriegelt";case"binary_sensor":return r==="on"||r==="true";case"media_player":return["playing","paused","on"].includes(r);case"climate":return r!=="off"&&r!=="aus";case"vacuum":return["cleaning","returning","docked"].includes(r);case"person":case"device_tracker":return r==="home"||r==="zuhause";case"alarm_control_panel":return["armed_home","armed_away","armed_night","triggered"].includes(r);case"timer":return r==="active"||r==="paused";case"automation":case"script":case"scene":if(n.last_triggered){const o=new Date(n.last_triggered);return(new Date-o)/1e3/60<5}return!1;case"sensor":return!1;default:return r==="on"||r==="ein"}}function hi(t,i,n="de"){const r=i?.unit_of_measurement||"",s=i?.device_class;if(!isNaN(parseFloat(t))){const o=parseFloat(t);let l,a=r;switch(s){case"temperature":l=o.toFixed(1);break;case"humidity":case"battery":l=Math.round(o).toString();break;case"power":o>=1e3?(l=(o/1e3).toFixed(1),a="kW"):l=Math.round(o).toString();break;case"energy":l=o.toFixed(1);break;default:r&&(r.includes("¬∞")||r==="K")?l=o.toFixed(1):o%1===0?l=o.toString():l=o.toFixed(1)}return{value:l,unit:a,combined:`${l}${a?" "+a:""}`}}return{value:t,unit:"",combined:t}}function ms(t,i,n="de"){const r=t[n]||t.de;if(!r)return console.error("getTranslation: No language data found!"),i;const s=i.split(".");let o=r;for(let l=0;l<s.length;l++){const a=s[l];if(o&&typeof o=="object"&&a in o)o=o[a];else{o=t.de;for(const c of s)if(o&&typeof o=="object"&&c in o)o=o[c];else return i;break}}return o||i}function gs(t,i){return t.replace(/\{(\w+)\}/g,(n,r)=>i.hasOwnProperty(r)?i[r]:n)}const pi={de:ts,en:is,fr:ns,es:rs,it:ss,nl:os,pt:as,ru:ls,zh:cs,tr:ds};function fs(t,i="de",n={}){const r=ms(pi,t,i);return n&&Object.keys(n).length>0?gs(r,n):r}function Ri(t,i,n,r="de"){return pi[r]||(console.warn(`Language '${r}' not found, falling back to 'de'`),r="de"),us(t,i,n,r,pi)}function W(t,i="de",n={}){const r=`ui.${t}`;return fs(r,i,n)}const te={smooth:[.16,1,.3,1],spring:[.25,.46,.45,.94],elastic:[.68,-.55,.265,1.55],easeOut:[0,0,.2,1],easeIn:[.4,0,1,1],easeInOut:[.4,0,.2,1]},de={instant:.1,fast:.2,normal:.3,medium:.4},Pi={collapsed:{height:60,opacity:.95,scale:.98,transition:{duration:de.medium,ease:te.smooth}},expanded:{height:"auto",opacity:1,scale:1,transition:{duration:de.medium,ease:te.smooth}}},xt={initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1,transition:{duration:de.normal,ease:te.easeInOut}},exit:{scale:.8,opacity:0,transition:{duration:de.normal,ease:te.easeInOut}}},Wi={hover:{scale:1.05,backgroundColor:"rgba(255, 255, 255, 0.25)",transition:{duration:de.fast,ease:te.spring}},tap:{scale:.95,transition:{duration:de.instant,ease:te.easeOut}}},at={active:{backgroundColor:"rgba(255, 255, 255, 0.25)",transition:{duration:de.normal,ease:te.smooth}},inactive:{backgroundColor:"transparent",transition:{duration:de.normal,ease:te.smooth}}},We={hover:{scale:1.05,backgroundColor:"rgba(255, 255, 255, 0.15)",transition:{duration:de.fast,ease:te.spring}},tap:{scale:.95,transition:{duration:de.instant,ease:te.easeOut}}},vs={inactive:{backgroundColor:"rgba(255, 255, 255, 0.08)",transition:{duration:de.normal,ease:te.smooth}},active:{backgroundColor:"rgb(0, 145, 255)",transition:{duration:de.normal,ease:te.smooth}},hover:{scale:1.08,transition:{duration:de.fast,ease:te.spring}},tap:{scale:.92,transition:{duration:de.fast,ease:te.easeOut}}},ys={hidden:{opacity:0,scale:.8,y:10},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:24}}},Hi={hover:{scale:1.05,transition:{duration:de.fast,ease:te.spring}},tap:{scale:.95,transition:{duration:de.instant,ease:te.easeOut}}},bs=t=>({scale:1,backgroundColor:t?"rgba(255, 255, 255, 0.95)":"rgba(255, 255, 255, 0.08)",borderColor:t?"rgba(255, 255, 255, 0.3)":"rgba(255, 255, 255, 0.1)",transition:{duration:de.normal,ease:te.easeInOut}}),$i={hover:{scale:1.1,backgroundColor:"rgba(0, 0, 0, 0.25)",transition:{duration:de.fast,ease:te.spring}},tap:{scale:.95,transition:{duration:de.instant,ease:te.easeOut}}},ks={inactive:{scale:1,backgroundColor:"rgba(255, 255, 255, 0.08)",borderColor:"rgba(255, 255, 255, 0.15)"},active:{scale:1,backgroundColor:"rgba(255, 255, 255, 0.25)",borderColor:"rgba(255, 255, 255, 0.35)",transition:{duration:de.normal,ease:te.smooth}},hover:{scale:1.04,backgroundColor:"rgba(255, 255, 255, 0.15)",transition:{duration:de.fast,ease:te.easeOut}},tap:{scale:.96,transition:{duration:de.instant,ease:te.easeOut}}},ws={hidden:{opacity:0,scale:.85,y:10},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:24}},idle:{scale:1,backgroundColor:"rgba(255, 255, 255, 0.1)",transition:{duration:de.normal,ease:te.smooth}},hover:{scale:1.05,backgroundColor:"rgba(255, 255, 255, 0.15)",boxShadow:"0 8px 24px rgba(0, 145, 255, 0.2)",transition:{duration:de.fast,ease:te.spring}},tap:{scale:.95,transition:{duration:de.instant,ease:te.easeOut}}},Vi={hidden:{opacity:0,scale:.8,y:10},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:24}},idle:{scale:1,backgroundColor:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)"},hover:{scale:1.05,backgroundColor:"rgba(255, 255, 255, 0.15)",borderColor:"rgba(255, 255, 255, 0.3)",transition:{duration:de.fast,ease:te.spring}},tap:{scale:.95,transition:{duration:de.instant,ease:te.easeOut}}},Cs={initial:{opacity:0},animate:{opacity:1,transition:{duration:de.fast}},exit:{opacity:0,transition:{duration:de.fast}}},St={initial:{x:20,scale:.8,opacity:0},animate:(t=.1)=>({x:0,scale:1,opacity:1,transition:{duration:de.medium,delay:t,ease:te.easeInOut}}),exit:{x:20,scale:.8,opacity:0,transition:{duration:de.medium,ease:te.easeInOut}}},xs={hidden:{opacity:0,x:20},visible:{opacity:1,x:0,transition:{duration:.35,ease:te.smooth,staggerChildren:.08,delayChildren:.1}}},Ss={hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1,transition:{duration:.6,ease:te.smooth,opacity:{duration:.4,ease:te.easeOut}}},exit:{x:"100%",opacity:0,transition:{duration:.4,ease:te.easeInOut}}},Oi={hidden:{opacity:0,scale:.8,transition:{duration:de.fast,ease:te.easeIn}},visible:{opacity:1,scale:1,backgroundColor:"rgba(0, 0, 0, 0.5)",transition:{duration:de.medium,ease:te.smooth}},hover:{scale:1.15,backgroundColor:"rgba(255, 255, 255, 0.25)",transition:{duration:de.fast,ease:te.spring}}},ji={visible:{opacity:1,height:280,scale:1,y:0,transition:{duration:.35,ease:te.smooth}},hidden:{opacity:0,height:0,scale:.9,y:-20,transition:{duration:.35,ease:[.4,0,.6,1]}}},Ui={visible:{opacity:1,height:160,scale:1,y:0,transition:{duration:.35,ease:te.smooth}},hidden:{opacity:0,height:0,scale:.9,y:-20,transition:{duration:.35,ease:[.4,0,.6,1]}}},Gi={normal:{y:0,transition:{duration:.4,ease:[.34,1.56,.64,1]}},movedUp:{y:-8,transition:{duration:.4,ease:[.34,1.56,.64,1]}}},_s={hidden:{opacity:0,height:0,y:-10,overflow:"hidden",transition:{duration:.3,ease:te.easeInOut}},visible:{opacity:1,height:"auto",y:0,overflow:"visible",transition:{duration:.4,ease:te.smooth,delayChildren:.1,staggerChildren:.03}}},Ns={hidden:{opacity:0,scale:.85,rotate:-12},visible:{opacity:1,scale:1,rotate:0,transition:{duration:.6,ease:te.elastic,when:"beforeChildren",staggerChildren:.08}},hover:{scale:1.01,transition:{duration:de.fast,ease:te.spring}}},Ls={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.4,ease:te.smooth}}},Ms={idle:{scale:1,filter:"brightness(1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},hover:{scale:1.08,filter:"brightness(1.05)",boxShadow:"0 4px 16px rgba(255, 255, 255, 0.3)",transition:{type:"spring",stiffness:400,damping:15}},dragging:{scale:1.15,filter:"brightness(1.2)",boxShadow:"0 0 24px rgba(255, 255, 255, 0.7)",transition:{type:"spring",stiffness:600,damping:20}}},Zi={hidden:{opacity:0,y:-5,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.3,ease:te.smooth}},update:{scale:[1,1.08,1],transition:{duration:.25,ease:te.spring}}},Es={off:{rotate:0,scale:1},on:{rotate:360,scale:1,transition:{rotate:{type:"spring",stiffness:200,damping:20},scale:{duration:.2}}},tap:{scale:.9,transition:{duration:.1}}},_t={hidden:{opacity:0,y:10},visible:{opacity:.5,y:0,transition:{delay:.2,duration:.4,ease:te.smooth}}},Ts={hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{backgroundColor:"rgba(255, 255, 255, 0.1)",scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:de.medium,ease:te.smooth,opacity:{duration:.4,ease:te.easeOut},scale:{duration:.45,ease:te.smooth},y:{duration:.45,ease:te.smooth},filter:{duration:.35,ease:te.easeOut}}},active:{backgroundColor:"#FFFFFF",scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:de.medium,ease:te.smooth}}},As={hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{backgroundColor:"rgba(255, 255, 255, 0.1)",scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:de.medium,ease:te.smooth,opacity:{duration:.4,ease:te.easeOut},scale:{duration:.45,ease:te.smooth},y:{duration:.45,ease:te.smooth},filter:{duration:.35,ease:te.easeOut}}},active:{backgroundColor:"#FFFFFF",scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:de.medium,ease:te.smooth}}},Ds={hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{backgroundColor:"#FFFFFF",scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:de.medium,ease:te.smooth,opacity:{duration:.4,ease:te.easeOut},scale:{duration:.45,ease:te.smooth},y:{duration:.45,ease:te.smooth},filter:{duration:.35,ease:te.easeOut}}},active:{backgroundColor:"#FFFFFF",scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:de.medium,ease:te.smooth}}},Fs={hidden:{scale:.96,opacity:0,filter:"blur(25px)"},visible:{scale:1,opacity:1,filter:"blur(0px)",transition:{delay:.05,duration:.35,ease:[.25,.1,.25,1],scale:{type:"spring",damping:28,stiffness:250,mass:.6},opacity:{duration:.25,ease:te.easeOut},filter:{duration:.35,ease:[.16,1,.3,1]}}},exit:{scale:.94,y:20,opacity:0,filter:"blur(18px)",transition:{duration:.32,ease:[.4,0,.6,1],opacity:{duration:.28,ease:te.easeIn},filter:{duration:.35,ease:[.4,0,1,1]}}}},Is={hidden:{opacity:0,scale:.98,filter:"blur(15px)"},visible:{opacity:1,scale:1,filter:"blur(0px)",transition:{delay:.08,duration:.3,ease:[.25,.1,.25,1],opacity:{duration:.25,ease:te.easeOut,delay:.1},filter:{duration:.32,ease:[.16,1,.3,1],delay:.08}}},exit:{opacity:0,scale:.96,y:15,filter:"blur(12px)",transition:{duration:.25,ease:[.4,0,.6,1],filter:{duration:.28,ease:te.easeIn}}}},zs=({activeCategory:t="devices",items:i=[],onSubcategoryChange:n,mode:r="categories",lang:s="de",activeSubcategory:o="all",suggestions:l=[],hasSuggestions:a=!1})=>{const[c,u]=w({}),[d,h]=w({}),[v,b]=w(!1),[y,m]=w(!1),p=Q(null),x={light:"lights",switch:"switches",climate:"climate",fan:"climate",humidifier:"climate",cover:"covers",media_player:"media",vacuum:"cleaning",dishwasher:"cleaning",washing_machine:"cleaning",air_purifier:"cleaning",camera:"security",lock:"security",siren:"security",alert:"security",alarm_control_panel:"security",valve:"utilities",printer3d_device:"utilities",script:"scripts",automation:"automations",scene:"scenes"},f=D=>W(`subcategories.${D}`,s),L={all:W("subcategories.all",s),script:"Skripte",automation:"Automationen",scene:"Szenen",playlist:"Playlists",custom_card:"Karten",lovelace_view:"Views"},M=()=>{const D=i.some(P=>P.isFavorite),F=["all"];if(D&&F.push("favorites"),a&&F.push("suggestions"),r==="areas"){const P=new Set(i.map(q=>q.area).filter(Boolean));return[...F,...Array.from(P).sort()]}if(r==="types"&&t==="custom"){const P=new Set(i.map(q=>q.custom_data?.type).filter(Boolean));return["all",...Array.from(P)]}if(t==="custom")return[...F,"system","apps"];if(t==="sensors"){const P=new Set;i.forEach(Y=>{const se=ui(Y);se&&se!==null&&P.add(se)});const q=["temperature","humidity","motion","door_window","presence","energy","light","pressure","battery","air_quality","other_sensors"],U=Array.from(P).sort((Y,se)=>{const B=q.indexOf(Y),V=q.indexOf(se);return(B===-1?999:B)-(V===-1?999:V)});return[...F,...U]}if(t==="actions"){const P=new Set(i.map(se=>se.domain)),q=new Set;P.forEach(se=>{const B=x[se];B&&q.add(B)});const U=["scripts","automations","scenes"],Y=Array.from(q).sort((se,B)=>{const V=U.indexOf(se),j=U.indexOf(B);return(V===-1?999:V)-(j===-1?999:j)});return[...F,...Y]}const z=new Set(i.map(P=>P.domain)),g=new Set;z.forEach(P=>{if(t==="devices"&&P==="scene")return;const q=x[P];q&&g.add(q)}),i.some(P=>P.domain==="fan"&&P.attributes?.device_class==="air_purifier")&&(g.add("cleaning"),!i.some(q=>q.domain==="fan"&&q.attributes?.device_class!=="air_purifier")&&g.has("climate")&&(i.some(U=>U.domain==="climate"||U.domain==="humidifier")||g.delete("climate"))),i.some(P=>P.domain==="binary_sensor"?["smoke","gas","carbon_monoxide","safety","sound","vibration","problem"].includes(P.attributes?.device_class):!1)&&g.add("security");const k=["lights","switches","climate","covers","media","cleaning","security","utilities"],$=Array.from(g).sort((P,q)=>{const U=k.indexOf(P),Y=k.indexOf(q);return(U===-1?999:U)-(Y===-1?999:Y)});return[...F,...$]},_=()=>{const D={},F={};M().forEach(g=>{if(g==="all")D.all=i.length,F.all=i.filter(C=>C.isActive).length;else if(g==="favorites"){const C=i.filter(A=>A.isFavorite);D.favorites=C.length,F.favorites=C.filter(A=>A.isActive).length}else if(g==="suggestions")D.suggestions=l.length,F.suggestions=l.filter(C=>C.isActive).length;else if(r==="areas"){const C=i.filter(A=>A.area===g);D[g]=C.length,F[g]=C.filter(A=>A.isActive).length}else if(r==="types"){const C=i.filter(A=>A.custom_data?.type===g);D[g]=C.length,F[g]=C.filter(A=>A.isActive).length}else if(t==="sensors"){const C=i.filter(A=>ui(A)===g);D[g]=C.length,F[g]=C.filter(A=>A.isActive).length}else if(t==="actions"){const C=i.filter(A=>x[A.domain]===g);D[g]=C.length,F[g]=C.filter(A=>A.isActive).length}else if(t==="custom"){if(g==="system"){const C=i.filter(A=>A.domain==="settings");D[g]=C.length,F[g]=C.filter(A=>A.isActive).length}else if(g==="apps"){const C=i.filter(A=>A.domain==="marketplace");D[g]=C.length,F[g]=C.filter(A=>A.isActive).length}}else{const C=Object.entries(x).filter(([k,$])=>$===g).map(([k])=>k),A=i.filter(k=>C.includes(k.domain)?k.domain==="fan"&&k.attributes?.device_class==="air_purifier"?g==="cleaning":!0:!!(k.domain==="fan"&&k.attributes?.device_class==="air_purifier"&&g==="cleaning"||k.domain==="binary_sensor"&&g==="security"&&["smoke","gas","carbon_monoxide","safety","sound","vibration","problem"].includes(k.attributes?.device_class)));D[g]=A.length,F[g]=A.filter(k=>k.isActive).length}}),u(D),h(F)},R=()=>{if(!p.current)return;const{scrollLeft:D,scrollWidth:F,clientWidth:z}=p.current;b(D>0),m(D<F-z-5)};O(()=>{_()},[i,r,t]),O(()=>{const D=p.current;if(D){D.addEventListener("scroll",R),R();const F=new ResizeObserver(R);return F.observe(D),()=>{D.removeEventListener("scroll",R),F.disconnect()}}},[]);const N=(D,F)=>{D&&(D.stopPropagation(),D.preventDefault()),n?.(F===o&&F!=="all"?"all":F)},T=(D,F)=>{if(D&&(D.stopPropagation(),D.preventDefault()),!p.current)return;const z=200;p.current.scrollBy({left:F==="left"?-z:z,behavior:"smooth"})},E=D=>r==="areas"?D==="all"?W("subcategories.all",s)+" "+W("filters.areas",s):D==="favorites"||D==="suggestions"?f(D):D:r==="types"?L[D]||D:f(D),H=M(),I=D=>{D.stopPropagation(),D.preventDefault()},X=D=>{D.stopPropagation(),D.preventDefault()};return e(S.div,{className:"subcategory-bar-container",onClick:I,onMouseDown:X,onPointerDown:X,"data-subcategory-bar":"true",variants:Ss,initial:"hidden",animate:"visible",exit:"exit",children:[e("style",{children:`
        .subcategory-bar-container {
          position: relative;
          margin: 0;
          width: 100%;
        }

        .subcategory-bar {
          display: flex;
          gap: 8px;
          padding: 8px 20px;
          margin: 0 -20px;
          overflow-x: auto;
          scrollbar-width: none;
          -ms-overflow-style: none;
          -webkit-overflow-scrolling: touch;
          scroll-behavior: smooth;
          position: relative;
        }

        .subcategory-bar::-webkit-scrollbar {
          display: none;
        }

        .subcategory-chip {
          padding: 8px 16px;
          border: 0px solid;
          border-radius: 20px;
          cursor: pointer;
          white-space: nowrap;
          flex-shrink: 0;
          user-select: none;
          display: inline-flex;
          align-items: center;
          gap: 8px;
          min-height: 38px;
          font-size: 17px;
          /* Removed CSS transitions - handled by Framer Motion */
        }

        .chip-label {
          font-weight: 500;
          color: rgba(255, 255, 255, 0.9);
          font-size: 16px;
        }

        .chip-active-badge {
          font-size: 14px;
          padding: 2px 6px;
          background: rgba(255, 255, 255, 0.1);
          border-radius: 10px;
          color: rgba(255, 255, 255, 0.7);
          font-weight: 500;
          min-width: 20px;
          text-align: center;
        }

        .scroll-indicator {
          position: absolute;
          top: 25%;
          transform: translateY(-50%);
          width: 28px;
          height: 28px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          cursor: pointer;
          z-index: 10;
          backdrop-filter: blur(10px);
          -webkit-backdrop-filter: blur(10px);
          border: 1px solid rgba(255, 255, 255, 0.1);
          /* Removed CSS transitions - handled by Framer Motion */
        }

        .scroll-indicator-left {
          left: 0px;
        }

        .scroll-indicator-right {
          right: 0px;
        }

        .scroll-indicator svg {
          width: 14px;
          height: 14px;
        }
      `}),e("div",{ref:p,className:"subcategory-bar",children:e(xe,{mode:"sync",children:H.map((D,F)=>{const z=d[D]||0,g=D===o,C=z>0;return e(S.div,{layout:!0,className:"subcategory-chip","data-subcategory":D,onClick:A=>N(A,D),initial:"inactive",animate:g?"active":"inactive",whileHover:g?{}:"hover",whileTap:"tap",variants:ks,transition:{layout:{duration:.3,ease:[.16,1,.3,1]},backgroundColor:{duration:.2},scale:{duration:.2,ease:[.16,1,.3,1]}},children:[e(S.span,{className:"chip-label",layout:"position",children:E(D)}),e(xe,{children:C&&e(S.span,{className:"chip-active-badge",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{duration:.2,ease:"easeOut"},layout:"position",children:z})})]},D)})})}),e(xe,{children:v&&e(S.div,{className:"scroll-indicator scroll-indicator-left",onClick:D=>T(D,"left"),variants:Oi,initial:"hidden",animate:"visible",exit:"hidden",whileHover:"hover",whileTap:{scale:.95},children:e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e("polyline",{points:"15 18 9 12 15 6"})})})}),e(xe,{children:y&&e(S.div,{className:"scroll-indicator scroll-indicator-right",onClick:D=>T(D,"right"),variants:Oi,initial:"hidden",animate:"visible",exit:"hidden",whileHover:"hover",whileTap:{scale:.95},children:e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e("polyline",{points:"9 18 15 12 9 6"})})})})]})},_e=({scrollContainerRef:t,isHovered:i=!1})=>{const[n,r]=w(!1),[s,o]=w(0),[l,a]=w(8),[c,u]=w(!1),d=Q(null),h=80,v=8;return O(()=>{const b=t?.current;if(!b)return;const y=()=>{const{scrollTop:p,scrollHeight:x,clientHeight:f}=b,L=x>f;if(r(L),!L)return;const M=f/x,_=Math.max(v,h*M);a(_);const R=p/(x-f),N=h-_,T=R*N;o(T),u(!0),clearTimeout(d.current),d.current=setTimeout(()=>{u(!1)},1e3)};y(),b.addEventListener("scroll",y);const m=new ResizeObserver(y);return m.observe(b),()=>{b.removeEventListener("scroll",y),m.disconnect(),clearTimeout(d.current)}},[t]),n?e(xe,{children:n&&e(S.div,{className:"custom-scrollbar-container",initial:{opacity:0},animate:{opacity:c||i?1:0},exit:{opacity:0},transition:{duration:.3},style:{position:"absolute",right:"3px",top:"50%",transform:"translateY(-50%)",zIndex:1e3,pointerEvents:"none"},children:e("div",{style:{width:"14px",height:`${h}px`,background:"rgba(255, 255, 255, 0.1)",borderRadius:"14px",position:"relative",overflow:"hidden"},children:e(S.div,{style:{position:"absolute",top:`${s}px`,left:"3px",right:"3px",height:`${l}px`,background:"rgba(255, 255, 255, 0.6)",borderRadius:"10px"},transition:{type:"spring",stiffness:300,damping:30}})})})}):null},Fe={DEBUG:0,INFO:1,WARN:2,ERROR:3,NONE:4};class Bs{constructor(){this.level=this._getInitialLogLevel(),this.enabled=!0}_getInitialLogLevel(){return Fe.WARN}setLevel(i){const n=i.toUpperCase();Fe[n]!==void 0?this.level=Fe[n]:console.warn(`Invalid log level: ${i}`)}setEnabled(i){this.enabled=i}_shouldLog(i){return this.enabled&&i>=this.level}_format(i,...n){return[`[${new Date().toISOString().substr(11,8)}] ${i}`,...n]}debug(...i){this._shouldLog(Fe.DEBUG)&&console.log(...this._format("üîç",...i))}info(...i){this._shouldLog(Fe.INFO)&&console.log(...this._format("‚ÑπÔ∏è",...i))}success(...i){this._shouldLog(Fe.INFO)&&console.log(...this._format("‚úÖ",...i))}warn(...i){this._shouldLog(Fe.WARN)&&console.warn(...this._format("‚ö†Ô∏è",...i))}error(...i){this._shouldLog(Fe.ERROR)&&console.error(...this._format("‚ùå",...i))}group(i){this._shouldLog(Fe.DEBUG)&&console.group(`üìÇ ${i}`)}groupEnd(){this._shouldLog(Fe.DEBUG)&&console.groupEnd()}table(i){this._shouldLog(Fe.DEBUG)&&console.table(i)}log(i,...n){this._shouldLog(Fe.INFO)&&console.log(...this._format(i,...n))}}const Z=new Bs;typeof window<"u"&&(window.logger=Z);const Wn=80,Ci="system",Hn="mdi:puzzle",Nt={SYSTEM:"system",TOOLS:"tools",APPS:"apps",SERVICES:"services"},Rs=[{id:Nt.SYSTEM,label:"System",order:1},{id:Nt.TOOLS,label:"Tools",order:2},{id:Nt.APPS,label:"Apps",order:3},{id:Nt.SERVICES,label:"Services",order:4}],Ps="apps",Ws=80,Hs="mdi:puzzle",$s="system_entity",mi={INITIALIZED:"initialized",ENTITY_REGISTERED:"entity-registered",ENTITY_UNREGISTERED:"entity-unregistered"},lt={MISSING_ID:"SystemEntity requires an id",MISSING_DOMAIN:"SystemEntity requires a domain",MISSING_NAME:"SystemEntity requires a name",ACTION_NOT_FOUND:"Action not found",ACTION_NOT_FUNCTION:"Action is not a function"};class rt extends Error{constructor(i,n={}){super(i),this.name=this.constructor.name,this.context=n,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}toJSON(){return{name:this.name,message:this.message,context:this.context,stack:this.stack}}}class Be extends rt{constructor(i,n,r={}){super(`Invalid entity configuration: ${i} - ${n}`,{field:i,reason:n,config:r})}}class Vs extends rt{constructor(i,n){super(`Plugin initialization failed for "${i}": ${n.message}`,{pluginId:i,originalError:n}),this.originalError=n}}class qi extends rt{constructor(i,n,r){super(`Lifecycle ${n} failed for entity "${i}": ${r.message}`,{entityId:i,operation:n,originalError:r}),this.originalError=r}}class Ki extends rt{constructor(i){super(`Cannot ${i}: Registry is not initialized. Call initialize() first.`,{operation:i})}}class Os extends rt{constructor(){super("Registry is already initialized")}}class $n extends rt{constructor(i,n,r){super(`EventBus ${n} failed for event "${i}": ${r}`,{eventName:i,operation:n,reason:r})}}class js extends $n{constructor(i){super(i,"registration","Callback must be a function")}}class Us extends $n{constructor(i){super(i||"undefined","registration","Event name must be a non-empty string")}}class Gs{constructor(){this.listeners=new Map}on(i,n){if(!i||typeof i!="string")throw new Us(i);if(typeof n!="function")throw new js(i);return this.listeners.has(i)||this.listeners.set(i,new Set),this.listeners.get(i).add(n),Z.debug(`EventBus: Listener registered for '${i}'`),()=>this.off(i,n)}once(i,n){const r=(...s)=>{this.off(i,r),n(...s)};return this.on(i,r)}off(i,n){const r=this.listeners.get(i);r&&(r.delete(n),r.size===0&&this.listeners.delete(i),Z.debug(`EventBus: Listener removed for '${i}'`))}offAll(i){if(this.listeners.has(i)){const n=this.listeners.get(i).size;this.listeners.delete(i),Z.debug(`EventBus: Removed ${n} listeners for '${i}'`)}}emit(i,n){const r=this.listeners.get(i);if(!r||r.size===0){Z.debug(`EventBus: No listeners for '${i}'`);return}Z.debug(`EventBus: Emitting '${i}' to ${r.size} listeners`),r.forEach(s=>{try{s(n)}catch(o){Z.error(`EventBus: Error in listener for '${i}':`,o)}})}getEvents(){return Array.from(this.listeners.keys())}listenerCount(i){return this.listeners.get(i)?.size||0}clear(){const i=Array.from(this.listeners.values()).reduce((n,r)=>n+r.size,0);this.listeners.clear(),Z.debug(`EventBus: Cleared ${i} listeners`)}debug(){Z.group("EventBus Debug"),Z.info("Total Events:",this.listeners.size),this.listeners.forEach((i,n)=>{Z.info(`  ${n}: ${i.size} listeners`)}),Z.groupEnd()}}let gi=class Vn{constructor(i){if(!i.id)throw new Be("id",lt.MISSING_ID,i);if(!i.domain)throw new Be("domain",lt.MISSING_DOMAIN,i);if(!i.name)throw new Be("name",lt.MISSING_NAME,i);this.id=i.id,this.domain=i.domain,this.name=i.name,this.icon=i.icon||Hn,this.category=i.category||Ci,this.description=i.description||"",this.relevance=i.relevance||Wn,this.brandColor=i.brandColor||null,this.attributes=i.attributes||{},this.permissions=i.permissions||[],this.routes=i.routes||{},this.actions=i.actions||{},this.viewComponent=i.viewComponent||null,this.isPlugin=i.isPlugin||!1,this.pluginManifest=i.pluginManifest||null,this.hasTabs=i.hasTabs!==void 0?i.hasTabs:!1,this.hasCustomView=i.hasCustomView!==void 0?i.hasCustomView:!0,this.showInDetailView=i.showInDetailView!==void 0?i.showInDetailView:!0,this.actionButtons=i.actionButtons||null,this._mounted=!1,this._context=null,this._storage=null,this._config=i}async onMount(i){if(this._mounted){Z.warn(`SystemEntity ${this.id} is already mounted`);return}this._context=i,this._mounted=!0,i.storage&&(this._storage=await this._initializeStorage(i.storage)),Z.success(`SystemEntity mounted: ${this.id}`)}async onUnmount(){this._mounted&&(this._context=null,this._storage=null,this._mounted=!1,Z.info(`SystemEntity unmounted: ${this.id}`))}async _initializeStorage(i){const n=`${$s}_${this.id}`;return{get:r=>i.get(`${n}_${r}`),set:(r,s)=>i.set(`${n}_${r}`,s),delete:r=>i.delete(`${n}_${r}`),clear:()=>i.clearNamespace(n)}}async executeAction(i,n={}){const r=this.actions[i];if(!r)throw new Error(`${lt.ACTION_NOT_FOUND}: '${i}' in entity '${this.id}'`);if(typeof r!="function")throw new Error(`${lt.ACTION_NOT_FUNCTION}: '${i}' in entity '${this.id}'`);try{Z.debug(`Executing action: ${this.id}.${i}`,n);const s=await r.call(this,n,this._context);return Z.debug(`Action completed: ${this.id}.${i}`),s}catch(s){throw Z.error(`Action failed: ${this.id}.${i}`,s),s}}getRoute(i){return this.routes[i]||null}hasPermission(i){return this.permissions.includes(i)}toEntity(){const i=this.isPlugin?`plugin.${this.id}`:`system.${this.id}`;return{entity_id:i,id:i,domain:this.domain,name:this.name,state:this._mounted?"active":"inactive",area:null,category:this.category,attributes:{friendly_name:this.name,icon:this.icon,description:this.description,category:this.category,is_plugin:this.isPlugin,permissions:this.permissions,routes:Object.keys(this.routes),actions:Object.keys(this.actions),...this.attributes},is_system:!0,is_plugin:this.isPlugin,relevance_score:this.relevance,usage_count:0,last_used:null}}async loadView(){if(!this.viewComponent)throw new Error(`No view component defined for entity '${this.id}'`);if(typeof this.viewComponent=="function")try{const i=await this.viewComponent();return i.default||i}catch(i){throw Z.error(`Failed to load view for entity '${this.id}':`,i),i}return this.viewComponent}updateAttributes(i){if(this.attributes={...this.attributes,...i},typeof window<"u"){const n=new CustomEvent("system-entity-updated",{detail:{entity_id:this.isPlugin?`plugin.${this.id}`:`system.${this.id}`,attributes:this.attributes}});window.dispatchEvent(n)}}getStorage(){return this._storage||Z.warn(`No storage available for entity '${this.id}'`),this._storage}getContext(){return this._mounted||Z.warn(`Entity '${this.id}' is not mounted`),this._context}isMounted(){return this._mounted}clone(){return new Vn(this._config)}toJSON(){return{id:this.id,domain:this.domain,name:this.name,icon:this.icon,category:this.category,description:this.description,relevance:this.relevance,attributes:this.attributes,permissions:this.permissions,routes:this.routes,actions:Object.keys(this.actions),isPlugin:this.isPlugin,isMounted:this._mounted}}};class Zs{constructor(i){this.entities=new Map,this.viewComponents=new Map,this.categories=new Map,this.eventBus=i,this._initializeCategories()}_initializeCategories(){Rs.forEach(i=>{this.categories.set(i.id,i)})}register(i){if(i instanceof gi||(i=new gi(i)),!i.id)throw new Be("id","Entity ID is required");if(!i.domain)throw new Be("domain","Entity domain is required");this.entities.has(i.id)&&Z.warn(`Entity '${i.id}' is already registered, overwriting...`),this.entities.set(i.id,i),i.viewComponent&&this.viewComponents.set(i.domain,i.viewComponent);const n=i.category||Ci;return this.categories.has(n)||this.categories.set(n,{id:n,label:n.charAt(0).toUpperCase()+n.slice(1),order:99}),Z.success(`Registered entity: ${i.id} (${i.domain})`),this.eventBus.emit(mi.ENTITY_REGISTERED,{entity:i}),this}unregister(i){const n=this.entities.get(i);if(!n){Z.warn(`Entity '${i}' not found`);return}this.entities.delete(i),this.viewComponents.delete(n.domain),Z.info(`Unregistered entity: ${i}`),this.eventBus.emit(mi.ENTITY_UNREGISTERED,{id:i})}getEntity(i){return this.entities.get(i)||null}getEntityByDomain(i){for(const n of this.entities.values())if(n.domain===i)return n;return null}getViewComponent(i){return this.viewComponents.has(i)?this.viewComponents.get(i):this.getEntityByDomain(i)?.viewComponent||null}getAllEntities(){return Array.from(this.entities.values())}getEntitiesByCategory(i){return this.getAllEntities().filter(n=>n.category===i)}getAsHomeAssistantEntities(){return this.getAllEntities().map(i=>i.toEntity())}isSystemEntity(i){return i?this.getEntityByDomain(i)!==null:!1}hasTabs(i){return this.getEntityByDomain(i)?.hasTabs||!1}hasCustomView(i){const n=this.getEntityByDomain(i);return n?.hasCustomView!==void 0?n.hasCustomView:!0}shouldShowInDetailView(i){const n=this.getEntityByDomain(i);return n?.showInDetailView!==void 0?n.showInDetailView:!0}getActionButtons(i){const n=this.getEntityByDomain(i);return Z.debug("EntityRegistry.getActionButtons for domain:",i),Z.debug("Entity found:",n),Z.debug("Entity.actionButtons:",n?.actionButtons),n?.actionButtons||null}get size(){return this.entities.size}clear(){this.entities.clear(),this.viewComponents.clear(),Z.info("EntityRegistry cleared")}}class qs{constructor(i,n){this.entityRegistry=i,this.eventBus=n,this.context=null,this.isInitialized=!1}async initialize(i){if(this.isInitialized)throw new Os;this.context=i,this.isInitialized=!0,Z.success("LifecycleManager initialized")}async mountEntity(i){if(!this.context)throw new Ki("mount entity");if(i.isMounted()){Z.debug(`Entity '${i.id}' is already mounted`);return}try{await i.onMount(this.context),Z.success(`Mounted entity: ${i.id}`)}catch(n){const r=new qi(i.id,"mount",n);throw Z.error(r.message),r}}async unmountEntity(i){if(!i.isMounted()){Z.debug(`Entity '${i.id}' is not mounted`);return}try{await i.onUnmount(),Z.info(`Unmounted entity: ${i.id}`)}catch(n){const r=new qi(i.id,"unmount",n);throw Z.error(r.message),r}}async mountAll(){if(!this.context)throw new Ki("mount all entities");const i=this.entityRegistry.getAllEntities(),n=[];for(const r of i)r.isMounted()||n.push(this.mountEntity(r).catch(s=>{Z.error(`Failed to mount entity '${r.id}':`,s)}));await Promise.all(n),Z.success(`Mounted ${n.length} entities`)}async unmountAll(){const i=this.entityRegistry.getAllEntities(),n=[];for(const r of i)r.isMounted()&&n.push(this.unmountEntity(r).catch(s=>{Z.error(`Failed to unmount entity '${r.id}':`,s)}));await Promise.all(n),Z.info(`Unmounted ${n.length} entities`)}getContext(){return this.context}async reset(){await this.unmountAll(),this.context=null,this.isInitialized=!1,Z.info("LifecycleManager reset")}}const Yt={weather:{category:"services",icon:"mdi:weather-partly-cloudy",relevance:85,hasTabs:!0,showInDetailView:!0},settings:{category:"system",icon:"mdi:cog",relevance:90,hasCustomView:!0,showInDetailView:!0},pluginstore:{category:"system",icon:"mdi:puzzle",relevance:80,hasCustomView:!0,showInDetailView:!0},schedule:{category:"tools",icon:"mdi:calendar-clock",relevance:75,hasCustomView:!0,showInDetailView:!0},news:{category:"apps",icon:"mdi:newspaper",relevance:70,hasTabs:!1,showInDetailView:!0},todo:{category:"apps",icon:"mdi:checkbox-marked-circle-outline",relevance:75,hasTabs:!1,showInDetailView:!0},integration:{category:"system",icon:"mdi:puzzle",relevance:60,hasCustomView:!0,showInDetailView:!0}};class Ks{static createEntity(i){if(!i.id)throw new Be("id","Entity ID is required",i);if(!i.domain)throw new Be("domain","Entity domain is required",i);if(!i.name)throw new Be("name","Entity name is required",i);const n={icon:Hn,category:Ci,relevance:Wn,...i};return new gi(n)}static _createWithPreset(i,n){const r=Yt[i]||{};return this.createEntity({...r,...n})}static createWeatherEntity(i){return this._createWithPreset("weather",i)}static createSettingsEntity(i){return this._createWithPreset("settings",i)}static createPluginStoreEntity(i){return this._createWithPreset("pluginstore",i)}static createScheduleEntity(i){return this._createWithPreset("schedule",i)}static createNewsEntity(i){return this._createWithPreset("news",i)}static createTodoEntity(i){return this._createWithPreset("todo",i)}static createIntegrationEntity(i){return this._createWithPreset("integration",i)}static createPluginEntity(i,n){if(!n?.id)throw new Be("manifest.id","Plugin manifest must have an id",n);if(!n?.system_entity?.domain)throw new Be("manifest.system_entity.domain","Plugin manifest must have system_entity.domain",n);if(!n?.name)throw new Be("manifest.name","Plugin manifest must have a name",n);return this.createEntity({id:n.id,domain:n.system_entity.domain,name:n.name,icon:n.system_entity.icon||Hs,category:n.system_entity.category||Ps,description:n.description,relevance:n.system_entity.relevance||Ws,isPlugin:!0,pluginManifest:n,viewComponent:i.viewComponent||n.system_entity.viewComponent,actions:i.actions||{},permissions:n.requirements?.permissions||[]})}static createBatch(i){return i.map(n=>this.createEntity(n))}static validate(i){const n=[];return i.id||n.push("Missing required field: id"),i.domain||n.push("Missing required field: domain"),i.name||n.push("Missing required field: name"),i.id&&!/^[a-z0-9-_]+$/.test(i.id)&&n.push("Invalid ID format: must be lowercase alphanumeric with hyphens/underscores"),i.domain&&!/^[a-z0-9_]+$/.test(i.domain)&&n.push("Invalid domain format: must be lowercase alphanumeric with underscores"),{valid:n.length===0,errors:n}}static getPreset(i){return Yt[i]||null}static getAvailablePresets(){return Object.keys(Yt)}}class Ys{constructor(i,n){this.entityRegistry=i,this.eventBus=n,this.plugins=new Map,this.pluginLoaders=new Map}async registerPlugin(i,n){const r=Ks.createPluginEntity(i,n);if(this.plugins.set(n.id,{entity:r,plugin:i,manifest:n}),this.entityRegistry.register(r),typeof i.init=="function")try{Z.info(`Initializing plugin: ${n.id}`),await i.init({hass:window._hass||null,storage:localStorage,registry:this}),Z.success(`Plugin initialized: ${n.id}`)}catch(s){const o=new Vs(n.id,s);throw Z.error(o.message),o}Z.success(`Registered plugin: ${n.id}`)}getPlugin(i){return this.plugins.get(i)||null}getAllPlugins(){return Array.from(this.plugins.values())}async unregisterPlugin(i){const n=this.plugins.get(i);if(!n){Z.warn(`Plugin '${i}' not found`);return}if(typeof n.plugin.cleanup=="function")try{await n.plugin.cleanup()}catch(r){Z.error(`Plugin cleanup failed for ${i}:`,r)}this.plugins.delete(i),this.entityRegistry.unregister(i),Z.info(`Unregistered plugin: ${i}`)}get size(){return this.plugins.size}clear(){this.plugins.clear(),this.pluginLoaders.clear(),Z.info("PluginRegistry cleared")}}class Js{constructor(){this.eventBus=new Gs,this.entityRegistry=new Zs(this.eventBus),this.lifecycleManager=new qs(this.entityRegistry,this.eventBus),this.pluginRegistry=new Ys(this.entityRegistry,this.eventBus),this.entities=this.entityRegistry.entities,this.viewComponents=this.entityRegistry.viewComponents,this.categories=this.entityRegistry.categories,this.plugins=this.pluginRegistry.plugins,this.pluginLoaders=this.pluginRegistry.pluginLoaders,this.listeners=this.eventBus.listeners}async initialize(i){await this.lifecycleManager.initialize(i),await this.autoDiscover(),await this.lifecycleManager.mountAll(),Z.success("SystemEntityRegistry initialized with",this.entityRegistry.size,"entities"),this.eventBus.emit(mi.INITIALIZED,{count:this.entityRegistry.size})}async autoDiscover(){Z.info("Auto-discovering system entities...");const i=[()=>Oe(()=>import("./index-B4sXsVSS.js"),__vite__mapDeps([0,1,2])),()=>Oe(()=>import("./index-XeCrlVv5.js"),__vite__mapDeps([3,1,2])),()=>Oe(()=>import("./index-6trXYYG6.js"),__vite__mapDeps([4,1,2])),()=>Oe(()=>import("./index-DNTDt6r0.js"),__vite__mapDeps([5,1,2])),()=>Oe(()=>import("./index-DY6M6uOd.js"),__vite__mapDeps([6,1,2])),()=>Oe(()=>import("./index-Bhtg6EcV.js"),__vite__mapDeps([7,1,2])),()=>Oe(()=>import("./index-eCdUCj5A.js"),__vite__mapDeps([8,1,2]))];for(const n of i)try{const r=await n(),s=r.default||r.entity||r;if(s){const o=typeof s=="function"&&!(s instanceof SystemEntity)?s():s;o&&this.register(o)}}catch(r){Z.error("Failed to load known entity:",r)}}register(i){if(this.entityRegistry.register(i),this.lifecycleManager.isInitialized&&this.lifecycleManager.context){const n=this.entityRegistry.getEntity(i.id);n&&this.lifecycleManager.mountEntity(n).catch(r=>{Z.error(`Failed to mount entity '${i.id}':`,r)})}return this}unregister(i){const n=this.entityRegistry.getEntity(i);n&&n.isMounted()&&this.lifecycleManager.unmountEntity(n).catch(r=>{Z.error(`Failed to unmount entity '${i}':`,r)}),this.entityRegistry.unregister(i)}getEntity(i){return this.entityRegistry.getEntity(i)}getEntityByDomain(i){return this.entityRegistry.getEntityByDomain(i)}getViewComponent(i){return this.entityRegistry.getViewComponent(i)}getAllEntities(){return this.entityRegistry.getAllEntities()}getEntitiesByCategory(i){return this.entityRegistry.getEntitiesByCategory(i)}getAsHomeAssistantEntities(){return this.entityRegistry.getAsHomeAssistantEntities()}isSystemEntity(i){return this.entityRegistry.isSystemEntity(i)}hasTabs(i){return this.entityRegistry.hasTabs(i)}hasCustomView(i){return this.entityRegistry.hasCustomView(i)}shouldShowInDetailView(i){return this.entityRegistry.shouldShowInDetailView(i)}getActionButtons(i){return this.entityRegistry.getActionButtons(i)}async registerPlugin(i,n){await this.pluginRegistry.registerPlugin(i,n)}getPlugin(i){return this.pluginRegistry.getPlugin(i)}getAllPlugins(){return this.pluginRegistry.getAllPlugins()}async mountAll(){return this.lifecycleManager.mountAll()}async unmountAll(){return this.lifecycleManager.unmountAll()}on(i,n){return this.eventBus.on(i,n)}off(i,n){this.eventBus.off(i,n)}_emit(i,n){this.eventBus.emit(i,n)}async reset(){await this.lifecycleManager.reset(),this.entityRegistry.clear(),this.pluginRegistry.clear(),this.eventBus.clear(),Z.info("Registry reset")}debug(){Z.group("SystemEntityRegistry Debug"),Z.info("Initialized:",this.lifecycleManager.isInitialized),Z.info("Entities:",this.entityRegistry.size),Z.info("Plugins:",this.pluginRegistry.size),Z.info("Categories:",Array.from(this.categories.keys())),Z.table(this.getAllEntities().map(i=>({id:i.id,domain:i.domain,category:i.category,mounted:i.isMounted(),isPlugin:i.isPlugin}))),Z.groupEnd()}get isInitialized(){return this.lifecycleManager.isInitialized}get context(){return this.lifecycleManager.context}}function Xs(t){typeof window>"u"||(window.systemRegistry=t,window.debugRegistry=()=>{Z.debug("Registry initialized:",t.isInitialized),Z.debug("Entities:",t.entities.size),Z.debug("All entities:",t.getAllEntities()),Z.debug("As HA entities:",t.getAsHomeAssistantEntities())},window.debugEntity=i=>{const n=t.getEntity(i);if(!n){Z.warn(`Entity '${i}' not found`);return}return Z.group(`Entity: ${i}`),Z.debug("ID:",n.id),Z.debug("Domain:",n.domain),Z.debug("Name:",n.name),Z.debug("Category:",n.category),Z.debug("Relevance:",n.relevance),Z.debug("Mounted:",n.isMounted()),Z.debug("Actions:",Object.keys(n.actions)),Z.debug("Permissions:",n.permissions),Z.groupEnd(),n},window.listEntities=()=>{const i=t.getAllEntities();return Z.table(i.map(n=>({id:n.id,domain:n.domain,category:n.category,relevance:n.relevance,mounted:n.isMounted(),isPlugin:n.isPlugin}))),i},window.testAction=async(i,n,r={})=>{const s=t.getEntity(i);if(!s){Z.error(`Entity '${i}' not found`);return}try{Z.info(`Testing action: ${i}.${n}`,r);const o=await s.executeAction(n,r);return Z.success("Action result:",o),o}catch(o){throw Z.error("Action failed:",o),o}},Z.debug("SystemRegistry debug tools attached to window"),Z.debug("Available commands: debugRegistry(), debugEntity(id), listEntities(), testAction(id, action, params)"))}const me=new Js;Xs(me);const On={light:{turn_on:{parameters:["transition","rgb_color","rgbw_color","rgbww_color","color_name","hs_color","xy_color","color_temp","color_temp_kelvin","brightness","brightness_pct","brightness_step","brightness_step_pct","white","profile","flash","effect"]},turn_off:{parameters:["transition","flash"]},toggle:{parameters:["transition"]}},switch:{turn_on:{parameters:[]},turn_off:{parameters:[]},toggle:{parameters:[]}},climate:{set_temperature:{parameters:["temperature","target_temp_high","target_temp_low","hvac_mode"]},set_hvac_mode:{parameters:["hvac_mode"]},set_preset_mode:{parameters:["preset_mode"]},set_fan_mode:{parameters:["fan_mode"]},set_swing_mode:{parameters:["swing_mode"]},set_humidity:{parameters:["humidity"]},turn_on:{parameters:[]},turn_off:{parameters:[]}},cover:{open_cover:{parameters:[]},close_cover:{parameters:[]},stop_cover:{parameters:[]},toggle:{parameters:[]},open_cover_tilt:{parameters:[]},close_cover_tilt:{parameters:[]},stop_cover_tilt:{parameters:[]},set_cover_position:{parameters:["position"]},set_cover_tilt_position:{parameters:["tilt_position"]}},media_player:{turn_on:{parameters:[]},turn_off:{parameters:[]},toggle:{parameters:[]},volume_up:{parameters:[]},volume_down:{parameters:[]},volume_set:{parameters:["volume_level"]},volume_mute:{parameters:["is_volume_muted"]},media_play_pause:{parameters:[]},media_play:{parameters:[]},media_pause:{parameters:[]},media_stop:{parameters:[]},media_next_track:{parameters:[]},media_previous_track:{parameters:[]},media_seek:{parameters:["seek_position"]},select_source:{parameters:["source"]},select_sound_mode:{parameters:["sound_mode"]},play_media:{parameters:["media_content_type","media_content_id","enqueue","announce"]},shuffle_set:{parameters:["shuffle"]},repeat_set:{parameters:["repeat"]}},fan:{turn_on:{parameters:["speed","percentage","preset_mode"]},turn_off:{parameters:[]},toggle:{parameters:[]},set_percentage:{parameters:["percentage"]},set_preset_mode:{parameters:["preset_mode"]},set_direction:{parameters:["direction"]},oscillate:{parameters:["oscillating"]}},lock:{lock:{parameters:["code"]},unlock:{parameters:["code"]},open:{parameters:["code"]}},vacuum:{turn_on:{parameters:[]},turn_off:{parameters:[]},start:{parameters:[]},pause:{parameters:[]},stop:{parameters:[]},return_to_base:{parameters:[]},clean_spot:{parameters:[]},locate:{parameters:[]},set_fan_speed:{parameters:["fan_speed"]},send_command:{parameters:["command","params"]}},alarm_control_panel:{alarm_disarm:{parameters:["code"]},alarm_arm_home:{parameters:["code"]},alarm_arm_away:{parameters:["code"]},alarm_arm_night:{parameters:["code"]},alarm_arm_vacation:{parameters:["code"]},alarm_arm_custom_bypass:{parameters:["code"]},alarm_trigger:{parameters:[]}},scene:{turn_on:{parameters:["transition"]}},script:{turn_on:{parameters:[]},turn_off:{parameters:[]},toggle:{parameters:[]}},automation:{turn_on:{parameters:[]},turn_off:{parameters:[]},toggle:{parameters:[]},trigger:{parameters:["skip_condition"]}},input_boolean:{turn_on:{parameters:[]},turn_off:{parameters:[]},toggle:{parameters:[]}},input_number:{set_value:{parameters:["value"]},increment:{parameters:[]},decrement:{parameters:[]}},timer:{start:{parameters:["duration"]},pause:{parameters:[]},cancel:{parameters:[]},finish:{parameters:[]}}};function xi(t,i,n){const r={...n};return t==="light"&&("kelvin"in r&&!("color_temp_kelvin"in r)&&(r.color_temp_kelvin=r.kelvin,delete r.kelvin),"color_temp"in r&&!("color_temp_kelvin"in r)&&(r.color_temp_kelvin=Math.round(1e6/r.color_temp)),"brightness"in r&&(r.brightness=Math.max(0,Math.min(255,Math.round(r.brightness)))),"brightness_pct"in r&&!("brightness"in r)&&(r.brightness=Math.round(r.brightness_pct/100*255)),"rgb_color"in r&&(r.rgb_color=r.rgb_color.map(s=>Math.max(0,Math.min(255,Math.round(s))))),"hs_color"in r&&(r.hs_color=[Math.max(0,Math.min(360,r.hs_color[0])),Math.max(0,Math.min(100,r.hs_color[1]))])),t==="climate"&&("temperature"in r&&(r.temperature=Number(r.temperature)),"target_temp_high"in r&&(r.target_temp_high=Number(r.target_temp_high)),"target_temp_low"in r&&(r.target_temp_low=Number(r.target_temp_low)),"humidity"in r&&(r.humidity=Math.max(0,Math.min(100,Number(r.humidity))))),t==="media_player"&&"volume_level"in r&&(r.volume_level=Math.max(0,Math.min(1,Number(r.volume_level)))),t==="cover"&&("position"in r&&(r.position=Math.max(0,Math.min(100,Math.round(r.position)))),"tilt_position"in r&&(r.tilt_position=Math.max(0,Math.min(100,Math.round(r.tilt_position))))),t==="fan"&&"percentage"in r&&(r.percentage=Math.max(0,Math.min(100,Math.round(r.percentage)))),r}function jn(t,i){return On[t]?.hasOwnProperty(i)||!1}async function Un(t,i,n,r){if(!t)return console.warn("Home Assistant not available"),Promise.reject("Home Assistant not available");if(!jn(i,n))return console.warn(`Service ${i}.${n} not available`),Promise.reject(`Service ${i}.${n} not available`);const s=xi(i,n,r);console.log("Calling HA Service:",{domain:i,service:n,data:s});try{return await t.callService(i,n,s)}catch(o){throw console.error("HA Service Call failed:",o),o}}async function Gn(t){if(!t)return console.warn("Home Assistant not available"),[];try{const i=await t.callWS({type:"config/area_registry/list"});return console.log("Loaded areas from HA:",i.length),i||[]}catch(i){return console.error("Failed to load areas from HA:",i),[]}}async function Zn(t){if(!t)return console.warn("Home Assistant not available"),[];try{const i=await t.callWS({type:"config/device_registry/list"});return console.log("Loaded devices from HA:",i.length),i||[]}catch(i){return console.error("Failed to load devices from HA:",i),[]}}async function qn(t){if(!t)return console.warn("Home Assistant not available"),[];try{const i=await t.callWS({type:"config/entity_registry/list"});return console.log("Loaded entity registry from HA:",i.length),i||[]}catch(i){return console.error("Failed to load entity registry from HA:",i),[]}}function Kn(t,i=[],n=[],r=[]){const s=r.find(o=>o.entity_id===t.entity_id);if(s?.area_id){const o=i.find(l=>l.area_id===s.area_id);if(o)return{...t,area:o.name,area_id:s.area_id}}if(s?.device_id){const o=n.find(l=>l.id===s.device_id);if(o?.area_id){const l=i.find(a=>a.area_id===o.area_id);if(l)return{...t,area:l.name,area_id:o.area_id}}}return t.attributes?.area?t:{...t,area:null,area_id:null}}function Yn(t,i,n,r){return console.log("Enriching entities with areas...",{entities:t.length,areas:i.length,devices:n.length,entityRegistry:r.length}),t.map(s=>Kn(s,i,n,r))}async function Qs(t,i,n="24h"){if(!t)return console.warn("Home Assistant not available"),null;try{const r=new Date,s=r.toISOString();let o;switch(n){case"1h":o=new Date(r.getTime()-3600*1e3).toISOString();break;case"24h":o=new Date(r.getTime()-1440*60*1e3).toISOString();break;case"7d":o=new Date(r.getTime()-10080*60*1e3).toISOString();break;default:o=new Date(r.getTime()-1440*60*1e3).toISOString()}console.log("üìä Loading history from HA:",{entityId:i,timeRange:n,startTime:o,endTime:s});const l=await t.callApi("GET",`history/period/${o}?filter_entity_id=${i}&end_time=${s}&minimal_response&no_attributes`);if(!l||!l[0]||l[0].length===0)return console.warn("No history data returned from HA"),null;const a=l[0];console.log("üìä Received history data points:",a.length);const c=a.map(d=>({timestamp:new Date(d.last_changed).getTime(),value:Yi(d.state),state:d.state})).filter(d=>d.value!==null),u=a.filter((d,h)=>h===0?!0:d.state!==a[h-1].state).map(d=>({timestamp:new Date(d.last_changed).getTime(),state:d.state,value:Yi(d.state)}));return console.log("üìä Processed data:",{chartPoints:c.length,events:u.length}),{data:c,events:u}}catch(r){return console.error("Failed to load history from HA:",r),null}}function Yi(t){const i=parseFloat(t);return isNaN(i)?t==="on"?100:t==="off"?0:t==="open"?100:t==="closed"||t==="locked"?0:t==="unlocked"||t==="home"?100:t==="not_home"?0:t==="playing"?100:t==="paused"?50:t==="idle"?0:null:i}const eo=Object.freeze(Object.defineProperty({__proto__:null,DOMAIN_SERVICES:On,callHAService:Un,enrichAllEntitiesWithAreas:Yn,enrichEntityWithArea:Kn,formatServiceData:xi,isServiceAvailable:jn,loadAreasFromHA:Gn,loadDeviceRegistry:Zn,loadEntityHistory:Qs,loadEntityRegistry:qn},Symbol.toStringTag,{value:"Module"})),to=()=>me&&me.isInitialized?me.getAsHomeAssistantEntities():[{entity_id:"system.settings",id:"system.settings",domain:"settings",name:"Einstellungen",state:"active",area:null,attributes:{friendly_name:"Einstellungen",icon:"mdi:cog",description:"Konfiguriere deine Fast Search Card"},relevance_score:100,is_system:!0,usage_count:0,last_used:null},{entity_id:"system.pluginstore",id:"system.pluginstore",domain:"pluginstore",name:"Plugin Store",state:"active",area:null,attributes:{friendly_name:"Plugin Store",icon:"mdi:puzzle-plus",description:"Erweitere deine Fast Search Card mit Plugins"},relevance_score:90,is_system:!0,usage_count:0,last_used:null}],io="FastSearchDB",no=1,we={ENTITIES:"entities",SETTINGS:"settings",SEARCH_INDEX:"searchIndex",USER_PATTERNS:"userPatterns",AREA_MAPPINGS:"areaMappings",FAVORITES:"favorites"};class ro{constructor(){this.db=null,this.isInitialized=!1}async init(){return this.isInitialized?this.db:new Promise((i,n)=>{const r=indexedDB.open(io,no);r.onerror=()=>{console.error("IndexedDB error:",r.error),n(r.error)},r.onsuccess=()=>{this.db=r.result,this.isInitialized=!0,console.log("IndexedDB initialized successfully"),i(this.db)},r.onupgradeneeded=s=>{const o=s.target.result;this.createStores(o)}})}createStores(i){if(!i.objectStoreNames.contains(we.ENTITIES)){const n=i.createObjectStore(we.ENTITIES,{keyPath:"entity_id"});n.createIndex("domain","domain",{unique:!1}),n.createIndex("area_id","area_id",{unique:!1}),n.createIndex("relevance_score","relevance_score",{unique:!1}),n.createIndex("last_used","last_used",{unique:!1})}if(i.objectStoreNames.contains(we.SETTINGS)||i.createObjectStore(we.SETTINGS,{keyPath:"key"}),i.objectStoreNames.contains(we.SEARCH_INDEX)||i.createObjectStore(we.SEARCH_INDEX,{keyPath:"term"}).createIndex("entity_count","entity_count",{unique:!1}),!i.objectStoreNames.contains(we.USER_PATTERNS)){const n=i.createObjectStore(we.USER_PATTERNS,{keyPath:"id",autoIncrement:!0});n.createIndex("entity_id","entity_id",{unique:!1}),n.createIndex("timestamp","timestamp",{unique:!1}),n.createIndex("action_type","action_type",{unique:!1})}if(i.objectStoreNames.contains(we.AREA_MAPPINGS)||i.createObjectStore(we.AREA_MAPPINGS,{keyPath:"area_id"}).createIndex("activity_level","activity_level",{unique:!1}),!i.objectStoreNames.contains(we.FAVORITES)){const n=i.createObjectStore(we.FAVORITES,{keyPath:"entity_id"});n.createIndex("added_date","added_date",{unique:!1}),n.createIndex("usage_count","usage_count",{unique:!1})}console.log("IndexedDB stores created successfully")}async get(i,n){return this.db||await this.init(),new Promise((r,s)=>{const a=this.db.transaction([i],"readonly").objectStore(i).get(n);a.onsuccess=()=>r(a.result),a.onerror=()=>s(a.error)})}async put(i,n){return this.db||await this.init(),new Promise((r,s)=>{const a=this.db.transaction([i],"readwrite").objectStore(i).put(n);a.onsuccess=()=>r(a.result),a.onerror=()=>s(a.error)})}async delete(i,n){return this.db||await this.init(),new Promise((r,s)=>{const a=this.db.transaction([i],"readwrite").objectStore(i).delete(n);a.onsuccess=()=>r(a.result),a.onerror=()=>s(a.error)})}async getAll(i,n=null,r=null){return this.db||await this.init(),new Promise((s,o)=>{const a=this.db.transaction([i],"readonly").objectStore(i),c=n?a.index(n):a,u=r?c.getAll(r):c.getAll();u.onsuccess=()=>s(u.result||[]),u.onerror=()=>o(u.error)})}async clear(i){return this.db||await this.init(),new Promise((n,r)=>{const l=this.db.transaction([i],"readwrite").objectStore(i).clear();l.onsuccess=()=>n(!0),l.onerror=()=>r(l.error)})}}class so{constructor(){this.cache={settings:{language:"de",viewMode:"grid",theme:"auto",aiModeEnabled:!0},entities:new Map,favorites:new Set,recentSearches:[],searchCache:new Map,areaMappings:new Map,activeFilters:{category:"devices",subcategory:"all",area:null}},this.stats={hits:0,misses:0,writes:0}}get(i,n=null){return this.stats.hits++,n?this.cache[i]?.[n]:this.cache[i]}set(i,n,r=null){this.stats.writes++,r?(this.cache[i]||(this.cache[i]={}),this.cache[i][r]=n):this.cache[i]=n}has(i,n=null){return n?this.cache[i]?.hasOwnProperty(n):this.cache.hasOwnProperty(i)}clear(i=null){if(i)this.cache[i]instanceof Map?this.cache[i].clear():this.cache[i]instanceof Set?this.cache[i].clear():this.cache[i]={};else{const n=this.cache.settings;this.cache=this.constructor().cache,this.cache.settings=n}}getStats(){return{...this.stats,hitRate:this.stats.hits/(this.stats.hits+this.stats.misses)}}}const oo=(t,i)=>{if(!t||!i)return!1;try{const n=i.replace(/\./g,"\\.").replace(/\*/g,".*").replace(/\?/g,".");return new RegExp(`^${n}$`,"i").test(t)}catch(n){return console.error("Invalid pattern regex:",i,n),!1}},Jn=t=>{try{const i=localStorage.getItem("excludedPatterns");if(!i)return t;const n=JSON.parse(i);if(!Array.isArray(n)||n.length===0)return t;const r=t.filter(o=>{if(o.is_system===!0)return!0;const l=o.entity_id||o.id;return l?!n.some(c=>oo(l,c)):!0}),s=t.length-r.length;return s>0&&console.log(`üîç Filtered out ${s} entities based on ${n.length} patterns`),r}catch(i){return console.error("Error filtering excluded entities:",i),t}},Lt=async(t,i,n,r,s={})=>{if(!r){console.warn("recordUserAction called without entityId");return}const o=new Date,l={action_type:n,entity_id:r,timestamp:o.toISOString(),context:{time_of_day:o.getHours()<12?"morning":o.getHours()<18?"afternoon":"evening",hour:o.getHours(),minute:o.getMinutes(),day_of_week:o.getDay(),week_of_year:Math.ceil((o-new Date(o.getFullYear(),0,1))/6048e5),is_weekend:o.getDay()===0||o.getDay()===6,...s}};try{await t.put(we.USER_PATTERNS,l);const a=await t.get(we.ENTITIES,r);a&&(a.usage_count=(a.usage_count||0)+1,a.last_used=new Date().toISOString(),await t.put(we.ENTITIES,a),i.cache.entities.has(r)&&i.cache.entities.set(r,a))}catch(a){console.error("Failed to record user action:",a)}},ao=async(t,i)=>{const n=await t.getAll(we.USER_PATTERNS),r=new Map;return n.forEach(s=>{const o=r.get(s.entity_id)||0;r.set(s.entity_id,o+1)}),i.map(s=>{let o=0;o+={light:15,switch:12,climate:18,cover:10,media_player:8,sensor:5,binary_sensor:5,scene:10,script:8,automation:6}[s.domain]||3,s.state!=="unavailable"&&s.state!=="unknown"&&(o+=10,(s.state==="on"||s.state==="playing"||s.state==="open")&&(o+=5));const a=r.get(s.entity_id)||0;o+=Math.min(a*3,30);const c=["living_room","kitchen","bedroom","bathroom"];if(s.area_id&&c.includes(s.area_id)&&(o+=20),s.attributes?.friendly_name&&(o+=5),s.last_updated){const u=new Date(s.last_updated),d=new Date(Date.now()-3600*1e3);u>d&&(o+=10)}return{...s,relevance_score:o,usage_count:a}})},lo=t=>t?t.toLowerCase().replace(/[^a-z0-9√§√∂√º√ü\s]/g,"").split(/\s+/).filter(i=>i.length>1):[],co=async(t,i)=>{const n=new Map;for(const r of i){const s=[r.attributes?.friendly_name,r.entity_id,r.area,r.domain].filter(Boolean).join(" "),o=lo(s);for(const l of o)n.has(l)||n.set(l,[]),n.get(l).push({entity_id:r.entity_id,score:r.relevance_score})}for(const[r,s]of n.entries())await t.put(we.SEARCH_INDEX,{term:r,matches:s,entity_count:s.length});console.log(`Search index built with ${n.size} terms`)},uo=async(t,i,n,r)=>{try{const s=await t.get(we.SETTINGS,"user_preferences");s&&(i.set("settings",s.value),n(s.value));const o=await t.getAll(we.FAVORITES),l=new Set(o.map(a=>a.entity_id));i.set("favorites",l),r(l),console.log("Critical data loaded to memory cache")}catch(s){console.error("Failed to load critical data:",s)}},ho=async(t,i,n,r,s)=>{try{if(n.current)await s();else{const l=await t.getAll(we.ENTITIES),a=me.isInitialized?me.getAsHomeAssistantEntities():[];console.log(`[loadBackgroundData] System entities from registry: ${a.length}`);const c=[...a,...l.filter(u=>!u.is_system)];if(c.length>0){const u=Jn(c);console.log(`[loadBackgroundData] Setting ${u.length} entities (${a.length} system)`),r(u),u.sort((h,v)=>(v.relevance_score||0)-(h.relevance_score||0)).slice(0,20).forEach(h=>{i.cache.entities.set(h.entity_id,h)})}}(await t.getAll(we.AREA_MAPPINGS)).forEach(l=>{i.cache.areaMappings.set(l.area_id,l)}),console.log("Background data loaded")}catch(o){console.error("Failed to load background data:",o)}},po=async(t,i)=>{try{if(localStorage.getItem("predictiveSuggestions")==="false")return[];const n=parseInt(localStorage.getItem("confidenceThreshold")||"60")/100,r=parseInt(localStorage.getItem("suggestionTimeWindow")||"45"),s=parseInt(localStorage.getItem("maxSuggestions")||"10"),o=localStorage.getItem("learningRate")||"normal",l=new Date,a=l.getHours(),c=l.getMinutes(),u=l.getDay(),d={slow:45,normal:30,fast:15}[o]||30,h=new Date(l.getTime()-d*24*60*60*1e3),b=(await t.getAll(we.USER_PATTERNS)).filter(p=>{if(!p.context?.hour||new Date(p.timestamp)<h)return!1;const f=p.context.hour*60+(p.context.minute||0),L=a*60+c;let M=Math.abs(f-L);return M>720&&(M=1440-M),M<=r}),y=new Map;b.forEach(p=>{if(p.action_type!=="device_click")return;const x=p.entity_id;y.has(x)||y.set(x,{entity_id:x,total_count:0,same_day_count:0,recent_uses:[],last_used:null});const f=y.get(x);f.total_count++,p.context?.day_of_week===u&&f.same_day_count++,f.recent_uses.push(new Date(p.timestamp)),f.last_used=p.timestamp});const m=[];for(const[p,x]of y.entries()){const f={slow:5,normal:3,fast:2}[o]||3;if(x.total_count<f)continue;let L=x.total_count/d;const M={slow:.8,normal:1,fast:1.3}[o]||1;if(x.same_day_count>0){const N=x.same_day_count/Math.ceil(d/7)*.3*M;L+=N}const _=Math.floor((l-new Date(x.last_used))/(1440*60*1e3));_>7&&(L*=o==="fast"?.5:.7);const R=x.recent_uses.sort((N,T)=>N-T);if(R.length>=f){const N=[];for(let H=1;H<R.length;H++)N.push(R[H]-R[H-1]);N.reduce((H,I)=>H+I)/N.length<2880*60*1e3&&(L+=.2*M)}if(L=Math.min(Math.max(L,0),1),L>=n){const N=i.find(T=>T.entity_id===p||T.id===p);N&&m.push({...N,suggestion_confidence:L,suggestion_reason:L>.85?"highly_likely":L>.7?"likely":"possible",usage_pattern:{total_uses:x.total_count,same_weekday_uses:x.same_day_count,days_since_last:_,lookback_days:d}})}}return m.sort((p,x)=>x.suggestion_confidence-p.suggestion_confidence),m.slice(0,s)}catch(n){return console.error("Failed to calculate suggestions:",n),[]}},Xn=Kr(null),mo=({children:t,hass:i=null,config:n=null})=>{const[r,s]=w(!1),[o,l]=w(!0),[a,c]=w(null),[u,d]=w([]),[h,v]=w(new Set),[b,y]=w({}),m=Q(new ro),p=Q(new so),x=Q(i);O(()=>{x.current=i},[i]),O(()=>{if(!i?.connection)return;console.log("üîå [DataProvider] Subscribing to state_changed events...");const g=i.connection.subscribeMessage(C=>{if(C?.event_type==="state_changed"&&C?.data){const{entity_id:A,new_state:k}=C.data;if(!k||!A)return;D(A,k)}},{type:"subscribe_events",event_type:"state_changed"});return()=>{console.log("üîå [DataProvider] Unsubscribing from state_changed events"),g.then(C=>C())}},[i?.connection]),O(()=>{const g=()=>{console.log("üìã Excluded patterns changed, reloading entities..."),x.current?R():_()};return window.addEventListener("excludedPatternsChanged",g),()=>window.removeEventListener("excludedPatternsChanged",g)},[]),O(()=>{const g=()=>{console.log("üîÑ System entity registered, updating entities list..."),f()},C=()=>{console.log("üîÑ System entity unregistered, updating entities list..."),f()};return me.on("entity-registered",g),me.on("entity-unregistered",C),()=>{me.off("entity-registered",g),me.off("entity-unregistered",C)}},[]),O(()=>{const g=C=>{const{entity_id:A,attributes:k}=C.detail;d($=>{const P=$.findIndex(q=>q.entity_id===A);if(P!==-1){const q=[...$];return q[P]={...q[P],attributes:{...q[P].attributes,...k}},q}return $})};return window.addEventListener("system-entity-updated",g),()=>{window.removeEventListener("system-entity-updated",g)}},[]);const f=()=>{d(g=>{const C=me.getAsHomeAssistantEntities(),A=g.filter(k=>!k.is_system);return[...C,...A]})};O(()=>{L()},[]);const L=async()=>{try{l(!0),await m.current.init(),console.log("üöÄ Initializing System-Entity Registry...");try{await me.initialize({hass:x.current,storage:{get:C=>localStorage.getItem(C),set:(C,A)=>localStorage.setItem(C,A),delete:C=>localStorage.removeItem(C),clearNamespace:C=>{Object.keys(localStorage).forEach(A=>{A.startsWith(C)&&localStorage.removeItem(A)})}}});const g=me.getAsHomeAssistantEntities();console.log(`‚úÖ Loaded ${g.length} system entities`),console.log("System entity IDs:",g.map(C=>C.entity_id)),d(g),console.log("‚úÖ System entities set as initial entities")}catch(g){console.error("Failed to initialize system registry:",g)}await M(),s(!0),_()}catch(g){console.error("Failed to initialize DataProvider:",g),c(g.message)}finally{l(!1)}},M=async()=>{await uo(m.current,p.current,y,v)},_=async()=>{await ho(m.current,p.current,x,d,R)},R=async()=>{if(x.current)try{console.log("Loading entities from Home Assistant...");const[g,C,A]=await Promise.all([Gn(x.current),Zn(x.current),qn(x.current)]);console.log("Loaded registries:",{areas:g.length,devices:C.length,entities:A.length});const $=Object.values(x.current.states||{}).map(j=>({entity_id:j.entity_id,domain:j.entity_id.split(".")[0],state:j.state,attributes:j.attributes,last_changed:j.last_changed,last_updated:j.last_updated,context:j.context,relevance_score:0,usage_count:0,last_used:null}));console.log("Enriching entities with area information...");const P=Yn($,g,C,A);console.log("Entities enriched with areas:",{total:P.length,withArea:P.filter(j=>j.area).length,withoutArea:P.filter(j=>!j.area).length});const q=await ao(m.current,P),U=to(),Y=q.filter(j=>!(["unavailable","unknown","disabled","None"].includes(j.state)||j.attributes?.disabled===!0||j.entity_id&&j.entity_id.startsWith("disabled_")));console.log("Filtered out inactive entities:",{total:q.length,active:Y.length,filtered:q.length-Y.length});const se=parseInt(localStorage.getItem("maxEntitiesLimit")||"0");let B=Y.filter(j=>j.area!=null&&j.area!=="").sort((j,oe)=>oe.relevance_score-j.relevance_score);se>0&&(B=B.slice(0,se));let V=[...U,...B];V=Jn(V);for(const j of B)j.is_system||await m.current.put(we.ENTITIES,j);d(V),V.slice(0,20).forEach(j=>{p.current.cache.entities.set(j.entity_id,j)}),await co(m.current,V),console.log(`Loaded ${B.length} HA entities + ${U.length} system entities`)}catch(g){console.error("Failed to load entities from HA:",g)}},N=be(async g=>{if(!g){console.warn("toggleFavorite called without entityId");return}const C=new Set(h);try{C.has(g)?(C.delete(g),await m.current.delete(we.FAVORITES,g),await Lt(m.current,p.current,"unfavorite",g)):(C.add(g),await m.current.put(we.FAVORITES,{entity_id:g,added_date:new Date().toISOString(),usage_count:0}),await Lt(m.current,p.current,"favorite",g)),v(C),p.current.set("favorites",C)}catch(A){console.error("Failed to toggle favorite:",A)}},[h]),T=be(async(g,C)=>{const A={...b,[g]:C};p.current.set("settings",A),y(A),await m.current.put(we.SETTINGS,{key:"user_preferences",value:A,updated:new Date().toISOString()}),console.log(`Setting updated: ${g} = ${C}`)},[b]),E=be(async g=>{if(!g||g.length<2)return[];if(p.current.cache.searchCache.has(g))return p.current.cache.searchCache.get(g);const C=g.toLowerCase().split(/\s+/).filter($=>$.length>1),A=new Map;for(const $ of C){const P=await m.current.get(we.SEARCH_INDEX,$);if(P)for(const q of P.matches){const U=A.get(q.entity_id)||0;A.set(q.entity_id,U+q.score)}}const k=Array.from(A.entries()).sort(($,P)=>P[1]-$[1]).slice(0,20).map(([$])=>u.find(P=>P.entity_id===$)).filter(Boolean);return p.current.cache.searchCache.set(g,k),k},[u]),H=be(async()=>po(m.current,u),[u]),I=be(async(g,C,A={})=>{if(!x.current)return console.warn("No Home Assistant connection"),!1;try{return await x.current.callService(g,C,A),A.entity_id&&Lt(m.current,p.current,"service_call",A.entity_id,{domain:g,service:C}),!0}catch(k){return console.error("Service call failed:",k),!1}},[]),X=async()=>{const g=new Date;let C=[];u&&u.length>0?C=u.slice(0,Math.min(10,u.length)).map(k=>k.entity_id||k.id):C=["light.wohnzimmer","light.schlafzimmer","switch.kaffeemaschine","climate.heizung_wohnzimmer","cover.rolladen_wohnzimmer"];for(let k=0;k<30;k++)for(const $ of C){const P=Math.floor(Math.random()*3)+2;for(let q=0;q<P;q++){const U=new Date(g);U.setDate(U.getDate()-k);const Y=g.getHours(),se=g.getMinutes();q===0?(U.setHours(Y),U.setMinutes(se)):q===1?(U.setHours(Y),U.setMinutes(Math.max(0,se-30))):(U.setHours(Y+(Math.random()-.5)),U.setMinutes(Math.floor(Math.random()*60)));const B={action_type:"device_click",entity_id:$,timestamp:U.toISOString(),context:{time_of_day:U.getHours()<12?"morning":U.getHours()<18?"afternoon":"evening",hour:U.getHours(),minute:U.getMinutes(),day_of_week:U.getDay(),week_of_year:Math.ceil((U-new Date(U.getFullYear(),0,1))/6048e5),is_weekend:U.getDay()===0||U.getDay()===6}};try{await m.current.put(we.USER_PATTERNS,B)}catch{}}}return await H()},D=be((g,C)=>{if(!g||!C){console.warn("[DataProvider] updateEntityState called with invalid data:",{entity_id:g,new_state:C});return}d(A=>{const k=A.findIndex(P=>P.entity_id===g),$=[...A];if(k!==-1){const P=$[k];$[k]={...P,state:C.state,attributes:{...P.attributes,...C.attributes},last_changed:C.last_changed,last_updated:C.last_updated,context:C.context}}else{const P=g.split(".")[0];$.push({entity_id:g,domain:P,state:C.state,attributes:C.attributes||{},last_changed:C.last_changed,last_updated:C.last_updated,context:C.context,relevance_score:0,usage_count:0,last_used:null})}return $})},[]),F=be(async(g,C,A={})=>{try{m.current&&p.current&&await Lt(m.current,p.current,g,C,A)}catch(k){console.warn("Failed to record user action:",k)}},[]),z={isInitialized:r,isLoading:o,error:a,entities:u,favorites:h,settings:b,cache:p.current,toggleFavorite:N,updateSetting:T,searchEntities:E,callService:I,calculateSuggestions:H,updateEntityState:D,recordUserAction:F,db:m.current,generateTestPatterns:X,hass:x.current};return e(Xn.Provider,{value:z,children:t})},Re=()=>{const t=Yr(Xn);if(!t)throw new Error("useData must be used within DataProvider");return t},Qn=()=>{const{settings:t,updateSetting:i}=Re();return[t,i]},go=()=>{const{favorites:t,toggleFavorite:i}=Re();return[t,i]},Si=()=>{const{entities:t,searchEntities:i}=Re();return[t,i]},fo=()=>{const{hass:t,callService:i}=Re();return[t,i]},vo=()=>{const{calculateSuggestions:t}=Re(),[i,n]=w([]),[r,s]=w(!1),o=be(async()=>{s(!0);try{const a=await t();n(a)}catch(a){console.error("Failed to load suggestions:",a),n([])}finally{s(!1)}},[t]);return O(()=>{o()},[]),O(()=>{const a=setInterval(o,3e5);return()=>clearInterval(a)},[o]),O(()=>{const a=c=>{console.log("Predictive settings changed:",c.detail),o()};return window.addEventListener("predictiveSettingChanged",a),()=>{window.removeEventListener("predictiveSettingChanged",a)}},[o]),[localStorage.getItem("predictiveSuggestions")!=="false"?i:[],r,o]},yt={SINGLE:"single",REPEAT:"repeat"},yo={MONDAY:{key:"mon",label:"Montag",labelEn:"Monday",labelShort:"Mo",labelShortEn:"Mon"},TUESDAY:{key:"tue",label:"Dienstag",labelEn:"Tuesday",labelShort:"Di",labelShortEn:"Tue"},WEDNESDAY:{key:"wed",label:"Mittwoch",labelEn:"Wednesday",labelShort:"Mi",labelShortEn:"Wed"},THURSDAY:{key:"thu",label:"Donnerstag",labelEn:"Thursday",labelShort:"Do",labelShortEn:"Thu"},FRIDAY:{key:"fri",label:"Freitag",labelEn:"Friday",labelShort:"Fr",labelShortEn:"Fri"},SATURDAY:{key:"sat",label:"Samstag",labelEn:"Saturday",labelShort:"Sa",labelShortEn:"Sat"},SUNDAY:{key:"sun",label:"Sonntag",labelEn:"Sunday",labelShort:"So",labelShortEn:"Sun"}},Jt=["mon","tue","wed","thu","fri","sat","sun"],er={LIGHT:{TURN_ON:{service:"turn_on",label:"Einschalten",labelEn:"Turn On"},TURN_OFF:{service:"turn_off",label:"Ausschalten",labelEn:"Turn Off"}},SWITCH:{TURN_ON:{service:"turn_on",label:"Einschalten",labelEn:"Turn On"},TURN_OFF:{service:"turn_off",label:"Ausschalten",labelEn:"Turn Off"}},CLIMATE:{SET_TEMPERATURE:{service:"set_temperature",label:"Temperatur setzen",labelEn:"Set Temperature"},TURN_ON:{service:"turn_on",label:"Einschalten",labelEn:"Turn On"},TURN_OFF:{service:"turn_off",label:"Ausschalten",labelEn:"Turn Off"}},COVER:{OPEN:{service:"open_cover",label:"√ñffnen",labelEn:"Open"},CLOSE:{service:"close_cover",label:"Schlie√üen",labelEn:"Close"},SET_POSITION:{service:"set_cover_position",label:"Position setzen",labelEn:"Set Position"},STOP:{service:"stop_cover",label:"Stoppen",labelEn:"Stop"}},MEDIA_PLAYER:{TURN_ON:{service:"turn_on",label:"Einschalten",labelEn:"Turn On"},TURN_OFF:{service:"turn_off",label:"Ausschalten",labelEn:"Turn Off"},PLAY:{service:"media_play",label:"Abspielen",labelEn:"Play"},PAUSE:{service:"media_pause",label:"Pausieren",labelEn:"Pause"}}},tt={MIN_SCHEDULES:2,MAX_SCHEDULES:8,MIN_TIMERS:1,MAX_TIMERS:4},mt={MINUTE_IN_MS:6e4,HOUR_IN_MS:36e5},bo=(t,i="de")=>!t||t.length===0?i==="en"?"No days":"Keine Tage":t.length===7?i==="en"?"Daily":"T√§glich":t.length===5&&t.includes("mon")&&t.includes("tue")&&t.includes("wed")&&t.includes("thu")&&t.includes("fri")?i==="en"?"Weekdays":"Werktags":t.length===2&&t.includes("sat")&&t.includes("sun")?i==="en"?"Weekend":"Wochenende":t.map(r=>{const s=Object.values(yo).find(o=>o.key===r);return s?i==="en"?s.labelShortEn:s.labelShort:r}).join(", "),ko=t=>{const i=new Date,r=new Date(t)-i;if(r<=0)return{hours:0,minutes:0,seconds:0,isPast:!0};const s=Math.floor(r/mt.HOUR_IN_MS),o=Math.floor(r%mt.HOUR_IN_MS/mt.MINUTE_IN_MS),l=Math.floor(r%mt.MINUTE_IN_MS/1e3);return{hours:s,minutes:o,seconds:l,isPast:!1}},Ji=(t,i)=>`${String(t).padStart(2,"0")}:${String(i).padStart(2,"0")}`,Xi=(t,i,n="de")=>{if(!t)return i;const r=er[t.toUpperCase()];if(!r)return i;const s=Object.values(r).find(o=>o.service===i);return s?n==="en"?s.labelEn:s.label:i},wo=async(t,i)=>{if(!t||!i)return console.warn("fetchSchedules: hass oder entityId fehlt"),[];try{console.log(`üì° Lade Schedules f√ºr ${i}...`);let n=[],r=[];if(t.states)console.log("üåê Suche in States nach switch.schedule_* Entities"),r=Object.values(t.states);else if(t.connection&&t.connection.sendMessagePromise)console.log("üåê States nicht verf√ºgbar, lade via sendMessagePromise..."),r=await t.connection.sendMessagePromise({type:"get_states"});else if(t.callWS)console.log("üåê States nicht verf√ºgbar, lade via callWS..."),r=await t.callWS({type:"get_states"});else return console.error("‚ùå Keine Methode zum Laden der States gefunden!"),[];if(r.length===0)return console.warn("‚ö†Ô∏è Keine States geladen!"),[];console.log(`‚úÖ ${r.length} States geladen`);const s=r.filter(l=>l.entity_id.startsWith("switch.schedule_"));return console.log(`üîç Gefundene switch.schedule_* entities: ${s.length}`),n=s.filter(l=>{const a=l.attributes?.entities||[],c=a.includes(i);return console.log(`üîç Check ${l.entity_id}:`,{entities:a,match:c,weekdays:l.attributes?.weekdays,timeslots:l.attributes?.timeslots,actions:l.attributes?.actions}),c}).map(l=>({schedule_id:l.entity_id,name:l.attributes.friendly_name||l.entity_id,entity_id:i,enabled:l.state==="on",weekdays:l.attributes.weekdays||[],timeslots:l.attributes.timeslots||[],actions:l.attributes.actions||[],entities:l.attributes.entities||[],repeat_type:Co(l.attributes),time:l.attributes.timeslots?.[0]||"00:00",...l.attributes})),console.log(`‚úÖ ${n.length} passende Schedules gefunden f√ºr ${i}`),n.length===0&&console.warn(`‚ö†Ô∏è Keine Schedules f√ºr ${i} gefunden`),n}catch(n){return console.error("‚ùå Fehler beim Laden der Schedules:",n),[]}},Co=t=>{const i=t?.weekdays||[];return i.includes("daily")||i.length>1||i.length===1&&i[0]!=="daily",yt.REPEAT},xo=t=>{if(!t||!t.entity_id)return console.warn("generateMockSchedules: item oder entity_id fehlt"),[];console.log(`üé≠ Generiere Mock-Schedules f√ºr ${t.entity_id}`);const i=[],n=[],r=Math.floor(Math.random()*(tt.MAX_SCHEDULES-tt.MIN_SCHEDULES+1))+tt.MIN_SCHEDULES;for(let l=0;l<r;l++){const a=Math.floor(Math.random()*24),c=Math.floor(Math.random()*60),u=No(),d=Qi(t.domain);i.push({schedule_id:`schedule_mock_${t.entity_id}_${l}`,name:`${t.name||t.entity_id} - ${Ji(a,c)}`,entity_id:t.entity_id,enabled:Math.random()>.3,repeat_type:yt.REPEAT,weekdays:u,time:Ji(a,c),action:d.service,service_data:d.data||{},next_execution:Lo(a,c,u)})}const s=Math.floor(Math.random()*(tt.MAX_TIMERS-tt.MIN_TIMERS+1))+tt.MIN_TIMERS;for(let l=0;l<s;l++){const a=new Date(Date.now()+Math.random()*3*mt.HOUR_IN_MS),c=Qi(t.domain);n.push({schedule_id:`timer_mock_${t.entity_id}_${l}`,name:`Timer: ${t.name||t.entity_id}`,entity_id:t.entity_id,enabled:!0,repeat_type:yt.SINGLE,execution_time:a.toISOString(),action:c.service,service_data:c.data||{},remaining_time:ko(a.toISOString())})}const o=[...i,...n];return console.log(`‚úÖ ${i.length} Schedules + ${n.length} Timer generiert`),o},So=(t,i,n)=>{if(!t||t.length===0)return console.warn("transformToScheduleObject: Keine Schedules vorhanden"),{activeSchedules:[],activeTimers:[],stats:{totalSchedules:0,activeSchedules:0,totalTimers:0,activeTimers:0}};console.log(`üîÑ Transformiere ${t.length} Schedules f√ºr ${i}`);const r=t.filter(c=>{const u=c.name||c.attributes?.friendly_name||"";return!u.toLowerCase().startsWith("timer")&&!u.toLowerCase().includes("timer:")}),s=t.filter(c=>{const u=c.name||c.attributes?.friendly_name||"";return u.toLowerCase().startsWith("timer")||u.toLowerCase().includes("timer:")});console.log(`üìä Kategorisierung: ${r.length} Schedules, ${s.length} Timer`);const o=r.map(c=>{const u=c.timeslots?.[0]||"00:00",d=c.actions?.[0]||{},h=d.service||"turn_on",v=h.includes(".")?h.split(".")[1]:h,b=c.entities||[],y=b[0]||i,m=y?y.split(".")[0]:n||"unknown";return{id:c.schedule_id,type:"schedule",name:c.name,time:u.slice(0,5),days:bo(c.weekdays||[]),daysRaw:c.weekdays||[],action:Xi(m,v),actionRaw:h,enabled:c.enabled!==!1,nextExecution:c.next_execution,serviceData:d.data||d.service_data||{},domain:m,entities:b}}),l=s.map(c=>{const u=c.timeslots?.[0]||"00:00",d=c.actions?.[0]||{},h=d.service||"turn_on",v=h.includes(".")?h.split(".")[1]:h,b=new Date,[y,m]=u.split(":").map(T=>parseInt(T)),p=new Date;p.setHours(y,m,0,0),p<=b&&p.setDate(p.getDate()+1);const x=p.getTime()-b.getTime(),f=Math.floor(x/6e4),L=Math.floor(f/60),M=f%60,_=c.entities||[],R=_[0]||i,N=R?R.split(".")[0]:n||"unknown";return{id:c.schedule_id,type:"timer",name:c.name,time:u.slice(0,5),executionTime:p.toISOString(),action:Xi(N,v),actionRaw:h,enabled:c.enabled!==!1,remaining:f,remainingTime:{hours:L,minutes:M,isPast:f<0},isPast:f<0,serviceData:d.data||d.service_data||{},domain:N,entities:_}}),a={totalSchedules:r.length,activeSchedules:r.filter(c=>c.enabled!==!1).length,totalTimers:s.length,activeTimers:s.filter(c=>c.enabled!==!1).length};return console.log("‚úÖ Transformation abgeschlossen:",{schedules:o.length,timers:l.length,stats:a}),{activeSchedules:o,activeTimers:l,stats:a}},tr=async(t,i)=>{if(!t||!i)return console.warn("createSchedule: hass oder scheduleData fehlt"),!1;try{return console.log("üìù Erstelle neuen Schedule:",i),t.callService?(await t.callService("scheduler","add",i),console.log("‚úÖ Schedule erfolgreich erstellt"),!0):(console.warn("‚ö†Ô∏è Keine Methode zum Erstellen verf√ºgbar"),!1)}catch(n){return console.error("‚ùå Fehler beim Erstellen des Schedules:",n),!1}},_o=async(t,i)=>{if(!t||!i)return console.warn("deleteSchedule: hass oder scheduleId fehlt"),!1;try{return console.log(`üóëÔ∏è L√∂sche Schedule ${i}`),t.callService?(await t.callService("scheduler","remove",{entity_id:i}),console.log("‚úÖ Schedule erfolgreich gel√∂scht"),!0):(console.warn("‚ö†Ô∏è Keine Methode zum L√∂schen verf√ºgbar"),!1)}catch(n){return console.error("‚ùå Fehler beim L√∂schen des Schedules:",n),!1}},No=()=>{const t=Math.random();if(t>.7)return["daily"];if(t>.5)return["mon","tue","wed","thu","fri"];if(t>.3)return["sat","sun"];{const i=Math.floor(Math.random()*4)+2;return[...Jt].sort(()=>Math.random()-.5).slice(0,i).sort((r,s)=>Jt.indexOf(r)-Jt.indexOf(s))}},Qi=t=>{const i=t?.toUpperCase()||"LIGHT",n=er[i];if(!n)return{service:"turn_on",data:{}};const r=Object.keys(n),s=r[Math.floor(Math.random()*r.length)],o=n[s];let l={};return t==="light"&&o.service==="turn_on"?l.brightness=Math.floor(Math.random()*255):t==="climate"&&o.service==="set_temperature"&&(l.temperature=18+Math.floor(Math.random()*8)),{service:o.service,data:l}},Lo=(t,i,n)=>{if(!n||n.length===0)return null;const r=new Date,s=r.getDay(),o=r.getHours(),l=r.getMinutes(),a=["sun","mon","tue","wed","thu","fri","sat"];for(let u=0;u<7;u++){const d=(s+u)%7,h=a[d];if((n.includes(h)||n.includes("daily"))&&!(u===0&&(o>t||o===t&&l>=i))){const y=new Date(r);return y.setDate(r.getDate()+u),y.setHours(t,i,0,0),y.toISOString()}}const c=new Date(r);return c.setDate(r.getDate()+7),c.setHours(t,i,0,0),c.toISOString()},Mo=async(t,i,n)=>{if(console.log("‚è∞ handleTimerCreate called with:",n),!t)return console.warn("‚è∞ No hass available, cannot create timer"),!1;if(!i||!i.entity_id)return console.warn("‚è∞ No valid item provided"),!1;try{const r={weekdays:n.weekdays||[],timeslots:[{start:n.time||"00:00",actions:[{service:`${i.domain}.${n.action||"turn_on"}`,entity_id:i.entity_id,service_data:n.serviceData||{}}]}],name:n.name||`Timer: ${i.name||i.entity_id}`,repeat_type:"single"},s=await tr(t,r);return s?(console.log("‚úÖ Timer erfolgreich erstellt! Warte kurz vor Reload..."),await new Promise(o=>setTimeout(o,500))):console.error("‚ùå Timer konnte nicht erstellt werden"),s}catch(r){return console.error("‚ùå Error creating timer:",r),!1}},Eo=async(t,i,n)=>{if(console.log("üìÖ handleScheduleCreate called with:",n),!t)return console.warn("üìÖ No hass available, cannot create schedule"),!1;if(!i||!i.entity_id)return console.warn("üìÖ No valid item provided"),!1;try{const r={weekdays:n.weekdays||[],timeslots:[{start:n.time||"00:00",actions:[{service:`${i.domain}.${n.action||"turn_on"}`,entity_id:i.entity_id,service_data:n.serviceData||{}}]}],name:n.name||`Schedule: ${i.name||i.entity_id}`,repeat_type:"repeat"};console.log("üìÖ Sende an Scheduler Component:",r);const s=await tr(t,r);return s?(console.log("‚úÖ Schedule erfolgreich erstellt! Warte kurz vor Reload..."),await new Promise(o=>setTimeout(o,500))):console.error("‚ùå Schedule konnte nicht erstellt werden"),s}catch(r){return console.error("‚ùå Error creating schedule:",r),!1}},Mt={heat:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="12" cy="12" r="6" stroke-linecap="round" stroke-linejoin="round"/><path d="M22 12L23 12M12 2V1M12 23V22M20 20L19 19M20 4L19 5M4 20L5 19M4 4L5 5M1 12L2 12" stroke-linecap="round" stroke-linejoin="round"/></svg>',cool:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M3 7L6.5 9M21 17L17.5 15M12 12L6.5 9M12 12L6.5 15M12 12V5M12 12V18.5M12 12L17.5 15M12 12L17.5 9M12 2V5M12 22V18.5M21 7L17.5 9M3 17L6.5 15M6.5 9L3 10M6.5 9L6 5.5M6.5 15L3 14M6.5 15L6 18.5M12 5L9.5 4M12 5L14.5 4M12 18.5L14.5 20M12 18.5L9.5 20M17.5 15L18 18.5M17.5 15L21 14M17.5 9L21 10M17.5 9L18 5.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',dry:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M20 14C20 9.58172 12 2 12 2C12 2 4 9.58172 4 14C4 18.4183 7.58172 22 12 22C16.4183 22 20 18.4183 20 14Z"/></svg>',fan_only:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M18.2785 7C19.7816 7 21 8.11929 21 9.5C21 10.8807 19.7816 12 18.2785 12H3M17.9375 20C19.0766 20 20.5 19.5 20.5 17.5C20.5 15.5 19.0766 15 17.9375 15H3M10.4118 4C11.8412 4 13 5.11929 13 6.5C13 7.88071 11.8412 9 10.4118 9H3" stroke-linecap="round" stroke-linejoin="round"/></svg>'},Ae={brightness:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>',thermometer:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"/></svg>',palette:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"/></svg>',settings:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><circle cx="12" cy="12" r="3"/><path d="M12 1v6m0 6v6m4.22-13.22l4.24 4.24M1.54 1.54l4.24 4.24M20.46 20.46l-4.24-4.24M1.54 20.46l4.24-4.24"/></svg>',settings_climate:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="1.5"><path d="M13.9922 17H16.9922M19.9922 17H16.9922M16.9922 17V14M16.9922 17V20" stroke-linecap="round" stroke-linejoin="round"/><path d="M4 9.4V4.6C4 4.26863 4.26863 4 4.6 4H9.4C9.73137 4 10 4.26863 10 4.6V9.4C10 9.73137 9.73137 10 9.4 10H4.6C4.26863 10 4 9.73137 4 9.4Z"/><path d="M4 19.4V14.6C4 14.2686 4.26863 14 4.6 14H9.4C9.73137 14 10 14.2686 10 14.6V19.4C10 19.7314 9.73137 20 9.4 20H4.6C4.26863 20 4 19.7314 4 19.4Z"/><path d="M14 9.4V4.6C14 4.26863 14.2686 4 14.6 4H19.4C19.7314 4 20 4.26863 20 4.6V9.4C20 9.73137 19.7314 10 19.4 10H14.6C14.2686 10 14 9.73137 14 9.4Z"/></svg>',play:'<svg width="24" height="24" viewBox="0 0 24 24" fill="white"><polygon points="5 3 19 12 5 21 5 3"/></svg>',pause:'<svg width="24" height="24" viewBox="0 0 24 24" fill="white"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>',skip_back:'<svg width="24" height="24" viewBox="0 0 24 24" fill="white"><polygon points="11 19 2 12 11 5 11 19"/><polygon points="22 19 13 12 22 5 22 19"/></svg>',skip_forward:'<svg width="24" height="24" viewBox="0 0 24 24" fill="white"><polygon points="13 19 22 12 13 5 13 19"/><polygon points="2 19 11 12 2 5 2 19"/></svg>',tv:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><rect x="2" y="7" width="20" height="15" rx="2" ry="2"/><polyline points="17 2 12 7 7 2"/></svg>',info:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>',lock:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>',unlock:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 9.9-1"/></svg>'},To=(t,i,n,r="de")=>{const s=o=>W(`controls.${o}`,r);if(i==="temperature"){const o=parseFloat(t);return isNaN(o)?"":n==="¬∞F"?o<50?s("cold"):o<68?s("cool"):o<77?s("comfortable"):o<86?s("warm"):s("hot"):o<10?s("cold"):o<20?s("cool"):o<25?s("comfortable"):o<30?s("warm"):s("hot")}if(i==="humidity"){const o=parseFloat(t);return isNaN(o)?"":o<30?s("veryDry"):o<40?s("dry"):o<60?s("optimal"):o<70?s("humid"):s("veryHumid")}if(i==="battery"){const o=parseFloat(t);return isNaN(o)?"":o<20?s("critical"):o<40?s("low"):o<60?s("medium"):o<80?s("good"):s("full")}if(i==="power"||i==="energy"){const o=parseFloat(t);return isNaN(o)?"":o===0?s("off"):o<100?s("minimal"):o<500?s("low"):o<1e3?s("medium"):o<3e3?s("high"):s("veryHigh")}if(i==="carbon_dioxide"){const o=parseFloat(t);return isNaN(o)?"":o<400?s("excellent"):o<600?s("good"):o<1e3?s("acceptable"):o<1500?s("moderate"):s("poor")}return""},Ao=(t,i="de")=>{const n=t?.attributes?.device_class||t?.entity?.attributes?.device_class,r=t?.entity_id||t?.id||"",s=o=>W(`controls.${o}`,i);return n==="temperature"?s("temperature"):n==="humidity"?s("humidity"):n==="battery"?s("battery"):n==="power"?s("power"):n==="energy"?s("energy"):n==="carbon_dioxide"?s("co2"):n==="motion"?s("movement"):n==="door"?s("door"):n==="window"?s("window"):n==="presence"?s("presence"):r.includes("temperature")||r.includes("temperatur")?s("temperature"):r.includes("humidity")||r.includes("feuchtigkeit")?s("humidity"):r.includes("power")||r.includes("leistung")?s("power"):r.includes("energy")||r.includes("energie")?s("energy"):r.includes("battery")||r.includes("batterie")?s("battery"):r.includes("co2")?s("co2"):r.includes("solar")?s("solar"):s("sensor")},Do=(t,i="¬∞C")=>{let n=parseFloat(t);return i==="¬∞F"&&(n=(n-32)*5/9),n<16?"#0288D1":n<18?"#03A9F4":n<20?"#00BCD4":n<22?"#4CAF50":n<24?"#8BC34A":n<26?"#FFC107":n<28?"#FF9800":n<30?"#FF5722":"#F44336"},Et=(t,i)=>{const n=t?.supported_features||0,r=t?.supported_color_modes||[],s=1,o=2,l=4,a=16;switch(i){case"brightness":return n&s||r.includes("brightness")||r.includes("color_temp")||r.includes("hs")||r.includes("xy")||r.includes("rgb")||r.includes("rgbw")||r.includes("rgbww");case"colortemp":return n&o||r.includes("color_temp");case"color":return n&a||r.includes("hs")||r.includes("xy")||r.includes("rgb")||r.includes("rgbw")||r.includes("rgbww");case"effects":return n&l||t?.effect_list&&t.effect_list.length>0;default:return!1}},Fo=(t,i="de")=>{const n=String(t).toLowerCase();return{idle:i==="de"?"Leerlauf":"Idle",offline:"Offline",unavailable:i==="de"?"Nicht verf√ºgbar":"Unavailable",unknown:i==="de"?"Unbekannt":"Unknown",bereit:i==="de"?"Bereit":"Ready",ready:i==="de"?"Bereit":"Ready",printing:i==="de"?"Druckt":"Printing",paused:i==="de"?"Pausiert":"Paused",error:i==="de"?"Fehler":"Error",complete:i==="de"?"Abgeschlossen":"Complete",finished:i==="de"?"Fertig":"Finished"}[n]||t},fi=(t,i="de")=>{const n=t?.domain||"unknown",r=t?.entity?.state||t?.state,s=t?.entity?.attributes||t?.attributes||{},o=l=>W(`controls.${l}`,i);switch(n){case"switch":return{primary:[],expandable:[]};case"light":const l=[],a=[];return Et(s,"brightness")&&(l.push({id:"brightness",icon:Ae.brightness,label:o("brightness"),expandable:!0}),a.push({id:"brightness",service:"turn_on",items:[{label:"10%",data:{brightness_pct:10},style:{background:"rgba(255, 255, 255, 0.1)"}},{label:"25%",data:{brightness_pct:25},style:{background:"rgba(255, 255, 255, 0.25)"}},{label:"50%",data:{brightness_pct:50},style:{background:"rgba(255, 255, 255, 0.5)"}},{label:"75%",data:{brightness_pct:75},style:{background:"rgba(255, 255, 255, 0.75)"}},{label:"100%",data:{brightness_pct:100},style:{background:"rgba(255, 215, 0, 0.9)"}}]})),Et(s,"colortemp")&&(l.push({id:"colortemp",icon:Ae.thermometer,label:o("colorTemperature"),expandable:!0}),a.push({id:"colortemp",service:"turn_on",items:[{label:o("veryWarm"),data:{color_temp_kelvin:2e3},style:{background:"#ff8c42"}},{label:o("warm"),data:{color_temp_kelvin:2700},style:{background:"#ffb366"}},{label:o("neutral"),data:{color_temp_kelvin:3500},style:{background:"#ffd4a3"}},{label:o("cold"),data:{color_temp_kelvin:5e3},style:{background:"#e8e4ff"}},{label:o("daylight"),data:{color_temp_kelvin:6500},style:{background:"#d4e4ff"}}]})),Et(s,"color")&&(l.push({id:"color",icon:Ae.palette,label:o("color"),expandable:!0}),a.push({id:"color",service:"turn_on",items:[{label:i==="de"?"Rot":"Red",data:{rgb_color:[255,0,0]},style:{background:"#ff0000"}},{label:i==="de"?"Gr√ºn":"Green",data:{rgb_color:[0,255,0]},style:{background:"#00ff00"}},{label:i==="de"?"Blau":"Blue",data:{rgb_color:[0,0,255]},style:{background:"#0000ff"}},{label:i==="de"?"Gelb":"Yellow",data:{rgb_color:[255,255,0]},style:{background:"#ffff00"}},{label:"Cyan",data:{rgb_color:[0,255,255]},style:{background:"#00ffff"}},{label:"Magenta",data:{rgb_color:[255,0,255]},style:{background:"#ff00ff"}},{label:"Orange",data:{rgb_color:[255,165,0]},style:{background:"#ffa500"}},{label:"Pink",data:{rgb_color:[255,192,203]},style:{background:"#ffc0cb"}}]})),Et(s,"effects")&&(l.push({id:"effects",icon:Ae.settings,label:o("effects"),expandable:!0}),a.push({id:"effects",service:"turn_on",items:s.effect_list?.slice(0,8).map(p=>({label:p,data:{effect:p},icon:"‚ú®"}))||[]})),l.length===0&&l.push({id:"info",icon:Ae.info,label:i==="de"?"Einfaches Licht":"Simple Light",expandable:!1,disabled:!0}),{primary:l,expandable:a};case"climate":const c=[],u=s.hvac_modes||[],d={heat:{icon:Mt.heat,label:o("heating")||"Heizen"},cool:{icon:Mt.cool,label:o("cooling")||"K√ºhlen"},dry:{icon:Mt.dry,label:o("drying")||"Entfeuchten"},fan_only:{icon:Mt.fan_only,label:o("fanOnly")||"Nur L√ºfter"}};return["heat","cool","dry","fan_only"].forEach(p=>{u.includes(p)&&d[p]&&c.push({id:`hvac_${p}`,icon:d[p].icon,label:d[p].label,action:"set_hvac_mode",data:{hvac_mode:p},active:s.hvac_mode===p})}),c.push({id:"settings",icon:Ae.settings_climate,label:o("settings")||"Einstellungen",expandable:!0}),{primary:c,expandable:[{id:"settings",renderCustom:!0}]};case"printer3d_device":const h={controls:'<svg width="24" height="24" stroke-width="1.5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="currentColor"><path d="M12 2V6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 18V22" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M22 12H18" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6 12H2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M4.92896 4.92896L7.75738 7.75738" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M16.2427 16.2427L19.0711 19.0711" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M19.071 4.92896L16.2426 7.75738" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M7.75732 16.2427L4.9289 19.0711" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',sensors:'<svg width="24" height="24" stroke-width="1.5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="currentColor"><path d="M3 12H6L9 3L15 21L18 12H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',diagnostics:'<svg width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" fill="none" xmlns="http://www.w3.org/2000/svg" color="currentColor"><path d="M10.0503 10.6066L2.97923 17.6777C2.19818 18.4587 2.19818 19.725 2.97923 20.5061V20.5061C3.76027 21.2871 5.0266 21.2871 5.80765 20.5061L12.8787 13.435" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M10.0502 10.6066C9.20638 8.45358 9.37134 5.6286 11.1109 3.88909C12.8504 2.14957 16.0606 1.76777 17.8284 2.82843L14.7877 5.8691L14.5051 8.98014L17.6161 8.69753L20.6568 5.65685C21.7175 7.42462 21.3357 10.6349 19.5961 12.3744C17.8566 14.1139 15.0316 14.2789 12.8786 13.435" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',misc:'<svg width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" fill="none" xmlns="http://www.w3.org/2000/svg" color="currentColor"><path d="M5.5 5C5.22386 5 5 4.77614 5 4.5C5 4.22386 5.22386 4 5.5 4C5.77614 4 6 4.22386 6 4.5C6 4.77614 5.77614 5 5.5 5Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5.5 10C5.22386 10 5 9.77614 5 9.5C5 9.22386 5.22386 9 5.5 9C5.77614 9 6 9.22386 6 9.5C6 9.77614 5.77614 10 5.5 10Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5.5 15C5.22386 15 5 14.7761 5 14.5C5 14.2239 5.22386 14 5.5 14C5.77614 14 6 14.2239 6 14.5C6 14.7761 5.77614 15 5.5 15Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 5C11.7239 5 11.5 4.77614 11.5 4.5C11.5 4.22386 11.7239 4 12 4C12.2761 4 12.5 4.22386 12.5 4.5C12.5 4.77614 12.2761 5 12 5Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 10C11.7239 10 11.5 9.77614 11.5 9.5C11.5 9.22386 11.7239 9 12 9C12.2761 9 12.5 9.22386 12.5 9.5C12.5 9.77614 12.2761 10 12 10Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 15C11.7239 15 11.5 14.7761 11.5 14.5C11.5 14.2239 11.7239 14 12 14C12.2761 14 12.5 14.2239 12.5 14.5C12.5 14.7761 12.2761 15 12 15Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 20C11.7239 20 11.5 19.7761 11.5 19.5C11.5 19.2239 11.7239 19 12 19C12.2761 19 12.5 19.2239 12.5 19.5C12.5 19.7761 12.2761 20 12 20Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M18.5 5C18.2239 5 18 4.77614 18 4.5C18 4.22386 18.2239 4 18.5 4C18.7761 4 19 4.22386 19 4.5C19 4.77614 18.7761 5 18.5 5Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M18.5 10C18.2239 10 18 9.77614 18 9.5C18 9.22386 18.2239 9 18.5 9C18.7761 9 19 9.22386 19 9.5C19 9.77614 18.7761 10 18.5 10Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M18.5 15C18.2239 15 18 14.7761 18 14.5C18 14.2239 18.2239 14 18.5 14C18.7761 14 19 14.2239 19 14.5C19 14.7761 18.7761 15 18.5 15Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>'};return{primary:[{id:"controls",icon:h.controls,label:i==="de"?"Steuerung":"Controls",expandable:!0},{id:"sensors",icon:h.sensors,label:i==="de"?"Sensoren":"Sensors",expandable:!0},{id:"diagnostics",icon:h.diagnostics,label:i==="de"?"Diagnose":"Diagnostics",expandable:!0},{id:"misc",icon:h.misc,label:i==="de"?"Sonstiges":"Miscellaneous",expandable:!0}],expandable:[{id:"controls",service:"button.press",items:[{label:i==="de"?"Fortsetzen":"Resume",data:{action:"resume"},customIcon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="currentColor" stroke-width="1.5"><path d="M6.90588 4.53682C6.50592 4.2998 6 4.58808 6 5.05299V18.947C6 19.4119 6.50592 19.7002 6.90588 19.4632L18.629 12.5162C19.0211 12.2838 19.0211 11.7162 18.629 11.4838L6.90588 4.53682Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',style:{background:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.9)"}},{label:i==="de"?"Pausieren":"Pause",data:{action:"pause"},customIcon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="currentColor" stroke-width="1.5"><path d="M6 18.4V5.6C6 5.26863 6.26863 5 6.6 5H9.4C9.73137 5 10 5.26863 10 5.6V18.4C10 18.7314 9.73137 19 9.4 19H6.6C6.26863 19 6 18.7314 6 18.4Z" fill="currentColor" stroke="currentColor" stroke-width="1.5"></path><path d="M14 18.4V5.6C14 5.26863 14.2686 5 14.6 5H17.4C17.7314 5 18 5.26863 18 5.6V18.4C18 18.7314 17.7314 19 17.4 19H14.6C14.2686 19 14 18.7314 14 18.4Z" fill="currentColor" stroke="currentColor" stroke-width="1.5"></path></svg>',style:{background:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.9)"}},{label:i==="de"?"Stoppen":"Stop",data:{action:"stop"},customIcon:'<svg width="24" height="24" stroke-width="1.5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="currentColor"><path d="M21 3.6V20.4C21 20.7314 20.7314 21 20.4 21H3.6C3.26863 21 3 20.7314 3 20.4V3.6C3 3.26863 3.26863 3 3.6 3H20.4C20.7314 3 21 3.26863 21 3.6Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="currentColor"></path></svg>',style:{background:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.9)"}}]},{id:"sensors",renderCustom:!0},{id:"diagnostics",renderCustom:!0},{id:"misc",renderCustom:!0}]};case"energy_dashboard_device":const b={controls:'<svg width="24" height="24" viewBox="0 0 463 463" fill="currentColor" xmlns="http://www.w3.org/2000/svg" color="currentColor"><path d="M367.5,159c4.142,0,7.5-3.357,7.5-7.5v-32c0-0.278-0.018-0.552-0.047-0.822c-0.004-0.037-0.012-0.074-0.017-0.111 c-0.039-0.313-0.1-0.619-0.176-0.919c-0.015-0.061-0.03-0.121-0.046-0.181c-0.093-0.332-0.206-0.656-0.342-0.967 c-0.013-0.03-0.029-0.058-0.042-0.087c-0.132-0.291-0.282-0.57-0.448-0.839c-0.031-0.051-0.06-0.103-0.093-0.153 c-0.183-0.281-0.384-0.549-0.602-0.802c-0.044-0.052-0.092-0.101-0.138-0.152c-0.225-0.248-0.462-0.483-0.718-0.699 c-0.011-0.009-0.019-0.02-0.03-0.029l-0.026-0.022c-0.003-0.002-0.006-0.005-0.008-0.007l-95.292-79.41L253.5,3 c-1.417-1.889-3.639-3-6-3h-32c-2.361,0-4.583,1.111-6,3l-23.474,31.299l-95.292,79.41c-0.003,0.002-0.006,0.005-0.008,0.007 l-0.026,0.022c-0.011,0.009-0.019,0.02-0.03,0.029c-0.256,0.216-0.493,0.452-0.718,0.699c-0.046,0.051-0.093,0.1-0.138,0.152 c-0.218,0.253-0.419,0.521-0.602,0.802c-0.033,0.05-0.062,0.102-0.093,0.153c-0.166,0.269-0.317,0.548-0.448,0.839 c-0.013,0.029-0.029,0.057-0.042,0.087c-0.136,0.312-0.248,0.635-0.342,0.967c-0.017,0.06-0.031,0.12-0.046,0.181 c-0.076,0.3-0.137,0.606-0.176,0.919c-0.005,0.037-0.013,0.074-0.017,0.111C88.018,118.948,88,119.222,88,119.5v32 c0,4.143,3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5V127h81v68.987l-93.267,77.722c-0.003,0.002-0.006,0.005-0.008,0.007l-0.026,0.022 c-0.011,0.009-0.019,0.02-0.03,0.029c-0.256,0.216-0.493,0.452-0.718,0.699c-0.046,0.051-0.093,0.1-0.138,0.152 c-0.218,0.253-0.419,0.521-0.602,0.802c-0.033,0.05-0.062,0.102-0.093,0.153c-0.166,0.269-0.317,0.548-0.448,0.839 c-0.013,0.029-0.029,0.057-0.042,0.087c-0.136,0.312-0.248,0.635-0.342,0.967c-0.017,0.06-0.031,0.12-0.046,0.181 c-0.076,0.3-0.137,0.606-0.176,0.919c-0.005,0.037-0.013,0.074-0.017,0.111C88.018,278.948,88,279.222,88,279.5v32 c0,4.143,3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5V287h77.792l-58.545,161H111.5c-4.142,0-7.5,3.357-7.5,7.5s3.358,7.5,7.5,7.5h40 c4.142,0,7.5-3.357,7.5-7.5s-3.358-7.5-7.5-7.5h-8.173L231.5,340.233L319.673,448H319.5c-4.142,0-7.5,3.357-7.5,7.5 s3.358,7.5,7.5,7.5h40c4.142,0,7.5-3.357,7.5-7.5s-3.358-7.5-7.5-7.5h-18.747l-58.545-161H360v24.5c0,4.143,3.358,7.5,7.5,7.5 s7.5-3.357,7.5-7.5v-32c0-0.278-0.018-0.552-0.047-0.822c-0.004-0.037-0.012-0.074-0.017-0.111c-0.039-0.313-0.1-0.619-0.176-0.919 c-0.015-0.061-0.03-0.121-0.046-0.181c-0.093-0.332-0.206-0.656-0.342-0.967c-0.013-0.03-0.029-0.058-0.042-0.087 c-0.132-0.291-0.282-0.57-0.448-0.839c-0.031-0.051-0.06-0.103-0.093-0.153c-0.183-0.281-0.384-0.549-0.602-0.802 c-0.044-0.052-0.092-0.101-0.138-0.152c-0.225-0.248-0.462-0.483-0.718-0.699c-0.011-0.009-0.019-0.02-0.03-0.029l-0.026-0.022 c-0.003-0.002-0.006-0.005-0.008-0.007L279,195.987V127h81v24.5C360,155.643,363.358,159,367.5,159z M220.893,79.5L199,101.393 V57.607L220.893,79.5z M209.607,47h43.786L231.5,68.893L209.607,47z M209.607,112L231.5,90.107L253.393,112H209.607z M253.393,127 L231.5,148.893L209.607,127H253.393z M220.893,159.5L199,181.393v-43.786L220.893,159.5z M209.607,192l21.893-21.893L253.393,192 H209.607z M253.393,207L231.5,228.893L209.607,207H253.393z M220.893,239.5L199,261.393v-43.786L220.893,239.5z M231.5,250.107 L253.393,272h-43.786L231.5,250.107z M255.673,287L231.5,316.545L207.327,287H255.673z M242.107,239.5L264,217.607v43.786 L242.107,239.5z M242.107,159.5L264,137.607v43.786L242.107,159.5z M242.107,79.5L264,57.607v43.786L242.107,79.5z M219.25,15h24.5 l12.75,17h-50L219.25,15z M184,55.513V112h-67.785L184,55.513z M184,215.513V272h-67.785L184,215.513z M149.617,416.624 l44.426-122.172l27.766,33.937L149.617,416.624z M241.19,328.389l27.766-33.937l44.426,122.172L241.19,328.389z M279,272v-56.487 L346.785,272H279z M279,112V55.513L346.785,112H279z"/></svg>',sensors:'<svg width="24" height="24" viewBox="0 0 512 512" fill="currentColor" xmlns="http://www.w3.org/2000/svg" color="currentColor"><path d="M48 32h96v96H48zm128 0h96v96h-96zm128 0h96v96h-96zM48 160h96v96H48zm128 0h96v96h-96zm128 0h96v96h-96zM48 288h96v96H48zm128 0h96v96h-96zm128 0h96v96h-96zM80 416h288v32H80z"/></svg>',diagnostics:'<svg width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" fill="none" xmlns="http://www.w3.org/2000/svg" color="currentColor"><path d="M5.5 5C5.22386 5 5 4.77614 5 4.5C5 4.22386 5.22386 4 5.5 4C5.77614 4 6 4.22386 6 4.5C6 4.77614 5.77614 5 5.5 5Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5.5 10C5.22386 10 5 9.77614 5 9.5C5 9.22386 5.22386 9 5.5 9C5.77614 9 6 9.22386 6 9.5C6 9.77614 5.77614 10 5.5 10Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5.5 15C5.22386 15 5 14.7761 5 14.5C5 14.2239 5.22386 14 5.5 14C5.77614 14 6 14.2239 6 14.5C6 14.7761 5.77614 15 5.5 15Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 5C11.7239 5 11.5 4.77614 11.5 4.5C11.5 4.22386 11.7239 4 12 4C12.2761 4 12.5 4.22386 12.5 4.5C12.5 4.77614 12.2761 5 12 5Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 10C11.7239 10 11.5 9.77614 11.5 9.5C11.5 9.22386 11.7239 9 12 9C12.2761 9 12.5 9.22386 12.5 9.5C12.5 9.77614 12.2761 10 12 10Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 15C11.7239 15 11.5 14.7761 11.5 14.5C11.5 14.2239 11.7239 14 12 14C12.2761 14 12.5 14.2239 12.5 14.5C12.5 14.7761 12.2761 15 12 15Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 20C11.7239 20 11.5 19.7761 11.5 19.5C11.5 19.2239 11.7239 19 12 19C12.2761 19 12.5 19.2239 12.5 19.5C12.5 19.7761 12.2761 20 12 20Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M18.5 5C18.2239 5 18 4.77614 18 4.5C18 4.22386 18.2239 4 18.5 4C18.7761 4 19 4.22386 19 4.5C19 4.77614 18.7761 5 18.5 5Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M18.5 10C18.2239 10 18 9.77614 18 9.5C18 9.22386 18.2239 9 18.5 9C18.7761 9 19 9.22386 19 9.5C19 9.77614 18.7761 10 18.5 10Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M18.5 15C18.2239 15 18 14.7761 18 14.5C18 14.2239 18.2239 14 18.5 14C18.7761 14 19 14.2239 19 14.5C19 14.7761 18.7761 15 18.5 15Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>'},y=[{id:"controls",icon:b.controls,label:i==="de"?"Verbrauch":"Consumption",expandable:!0},{id:"sensors",icon:b.sensors,label:"Solar",expandable:!0},{id:"diagnostics",icon:b.diagnostics,label:i==="de"?"Nettonutzung":"Net Usage",expandable:!0}],m=[{label:i==="de"?"Fortsetzen":"Resume",data:{action:"resume"},customIcon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="currentColor" stroke-width="1.5"><path d="M6.90588 4.53682C6.50592 4.2998 6 4.58808 6 5.05299V18.947C6 19.4119 6.50592 19.7002 6.90588 19.4632L18.629 12.5162C19.0211 12.2838 19.0211 11.7162 18.629 11.4838L6.90588 4.53682Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',style:{background:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.9)"}}];return{primary:y,expandable:[{id:"controls",renderCustom:!0,service:"button.press",items:m},{id:"sensors",renderCustom:!0,service:"button.press",items:m},{id:"diagnostics",renderCustom:!0,service:"button.press",items:m}]};case"media_player":return{primary:[{id:"play",icon:r==="playing"?Ae.pause:Ae.play,label:o(r==="playing"?"pause":"play"),action:r==="playing"?"media_pause":"media_play"},{id:"previous",icon:Ae.skip_back,label:o("previous"),action:"media_previous_track"},{id:"next",icon:Ae.skip_forward,label:o("next"),action:"media_next_track"},{id:"source",icon:Ae.tv,label:o("source"),expandable:!0}],expandable:[{id:"source",service:"select_source",items:(s.source_list||[]).slice(0,8).map(p=>({label:p,data:{source:p},icon:"üìª"}))}]};case"lock":return{primary:[{id:"lock",icon:r==="locked"?Ae.unlock:Ae.lock,label:o(r==="locked"?"unlock":"lock"),action:r==="locked"?"unlock":"lock",data:{}}],expandable:[]};case"cover":return{primary:[{id:"open",icon:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M6 15L12 9L18 15" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>`,label:o("open"),action:"open_cover",data:{}},{id:"stop",icon:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M17 4L12 9L7 4" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M17 20L12 15L7 20" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>`,label:o("stop"),action:"stop_cover",data:{}},{id:"close",icon:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M6 9L12 15L18 9" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>`,label:o("close"),action:"close_cover",data:{}},{id:"presets",icon:Ae.settings_climate,label:o("position"),expandable:!0}],expandable:[{id:"presets",service:"set_cover_position",items:[{label:"0%",data:{position:0},style:{background:"rgba(255, 255, 255, 0.1)"}},{label:"25%",data:{position:25},style:{background:"linear-gradient(to top, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.25) 25%, rgba(255, 255, 255, 0.1) 25%)"}},{label:"50%",data:{position:50},style:{background:"linear-gradient(to top, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.25) 50%, rgba(255, 255, 255, 0.1) 50%)"}},{label:"75%",data:{position:75},style:{background:"linear-gradient(to top, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.25) 75%, rgba(255, 255, 255, 0.1) 75%)"}},{label:"100%",data:{position:100},style:{background:"rgba(255, 255, 255, 0.25)"}}]}]};case"scene":return{primary:[{id:"trigger",icon:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M13 10V3L5 14H11V21L19 10H13Z" />
            </svg>`,label:o("trigger")||"Ausl√∂sen",action:"turn_on",data:{}}],expandable:[]};case"script":return{primary:[{id:"trigger",icon:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M13 10V3L5 14H11V21L19 10H13Z" />
            </svg>`,label:o("trigger")||"Ausl√∂sen",action:"turn_on",data:{}}],expandable:[]};case"automation":return{primary:[{id:"trigger",icon:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M13 10V3L5 14H11V21L19 10H13Z" />
            </svg>`,label:o("trigger")||"Ausl√∂sen",action:"trigger",data:{},disabled:r==="off"}],expandable:[]};default:return{primary:[],expandable:[]}}},en=(t,i="de")=>{const n=t?.domain||"unknown",r=t?.entity?.state||t?.state,s=t?.entity?.attributes||t?.attributes||{},o=l=>W(`controls.${l}`,i);switch(n){case"scene":case"script":case"automation":return{value:r==="on"?100:0,min:0,max:100,unit:"%",label:n==="scene"?o("scene")||"Szene":n==="script"?o("script")||"Skript":o("automation")||"Automatisierung",displayValue:r==="on"?o("active")||"Aktiv":o("inactive")||"Inaktiv",color:"#9E9E9E",showPower:!0,powerState:r==="on",interactive:!1,progressMode:!0,readOnly:!0,hideSlider:!0,showUnit:!1};case"switch":return{value:r==="on"?100:0,min:0,max:100,unit:"%",label:o("control"),displayValue:o(r==="on"?"on":"off"),color:"#9E9E9E",showPower:!0,powerState:r==="on",interactive:!1,progressMode:!0,readOnly:!0,hideSlider:!0,showUnit:!1};case"light":const l=s.brightness||0;return{value:r==="off"?0:Math.round(l/255*100),min:0,max:100,unit:"%",label:o("brightness"),displayValue:r==="off"?o("off")||"Aus":null,color:r==="off"?"#9E9E9E":"#FFD700",showPower:!0,powerState:r==="on",interactive:!0,showUnit:r!=="off",progressMode:r==="off",readOnly:r==="off"};case"climate":const c=s.current_temperature||20,u=s.temperature||20,d=s.temperature_unit||"¬∞C",h=Do(u,d);return{value:r==="off"?0:u,min:s.min_temp||16,max:s.max_temp||30,unit:d,label:o("targetTemperature"),displayValue:r==="off"?o("off")||"Aus":null,subValue:`${o("currentTemperature")}: ${c}${d}`,showUnit:r!=="off",color:r==="off"?"#9E9E9E":h,showPower:!0,powerState:r!=="off",interactive:r!=="off",progressMode:r==="off",readOnly:r==="off",step:1};case"printer3d_device":const v=s.progress||0,b=s.current_step||"Bereit",y=s.remaining_time||"",m=s.gcode_filename||"",p=v>0&&b!=="idle"&&b!=="offline"&&b!=="unavailable"&&b!=="unknown",x=Fo(b,i);return{value:parseFloat(v)||0,min:0,max:100,unit:"%",label:p?y:"",displayValue:p?null:x,subValue:p?m:"",showUnit:p,color:"rgb(48, 209, 88)",showPower:!1,interactive:!1,progressMode:!p,readOnly:!0,step:1};case"energy_dashboard_device":const f=s.grid_import_value||0,L=s.grid_import_unit||"kWh",M=s.grid_import_sensor,_=s._display_primary_type||null,N={verbrauch:i==="de"?"Verbrauch":"Consumption",nettonutzung:i==="de"?"Nettonutzung":"Net Usage",solarerzeugung:i==="de"?"Solarerzeugung":"Solar Production",batterie:i==="de"?"Batterie":"Battery"}[_]||(i==="de"?"Netzbezug":"Grid Import");let T=i==="de"?"Kein Sensor konfiguriert":"No sensor configured";M&&(T=M.split(".").pop());const E={solarerzeugung:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>',verbrauch:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>',nettonutzung:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>',batterie:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="6" width="18" height="12" rx="2" ry="2"/><line x1="23" y1="13" x2="23" y2="11"/></svg>'},H={solarerzeugung:"#FFD93D",verbrauch:"#FF6B6B",nettonutzung:"#4ECB71",batterie:"#42A5F5"},I=E[_]||null,X=H[_]||"rgb(48, 209, 88)";return{value:parseFloat(f)||0,min:0,max:50,unit:L,label:N,subValue:T,showUnit:!0,color:X,showPower:!1,centerIcon:I,showCenterIcon:I!==null,interactive:!1,progressMode:!1,readOnly:!0,step:.1};case"cover":return{value:s.current_position||0,min:0,max:100,unit:"%",label:o("position"),color:"#9C27B0",showPower:!1,interactive:!0,showUnit:!0};case"media_player":return{value:Math.round((s.volume_level||0)*100),min:0,max:100,unit:"%",label:o("volume"),color:"#FF6B35",showPower:!0,powerState:r!=="off"&&r!=="unavailable",interactive:!0,showUnit:!0};case"lock":return{value:r==="locked"?100:0,min:0,max:100,unit:"",label:o("security"),displayValue:o(r==="locked"?"locked":"unlocked"),color:r==="locked"?"#4CAF50":"#F44336",showPower:!1,interactive:!1,progressMode:!0,readOnly:!0,showUnit:!1};case"fan":return{value:s.percentage||0,min:0,max:100,unit:"%",label:o("speed"),color:"#00BCD4",showPower:!0,powerState:r==="on",interactive:!0,showUnit:!0};case"binary_sensor":return{value:r==="on"?100:0,min:0,max:100,unit:"",label:s.friendly_name||o("sensor"),displayValue:o(r==="on"?"active":"inactive"),color:r==="on"?"#4CAF50":"#9E9E9E",showPower:!1,interactive:!1,progressMode:!0,readOnly:!0,showUnit:!1};case"sensor":let g=r?parseFloat(r):0;isNaN(g)&&(g=0);const C=To(r,s.device_class,s.unit_of_measurement,i),A=Ao(t,i);return s.device_class==="temperature"||t.entity_id?.includes("temperature")||t.entity_id?.includes("temperatur")?{value:g,min:s.min||-10,max:s.max||40,unit:s.unit_of_measurement||"¬∞C",label:A,subValue:C,displayValue:null,showUnit:!0,color:"#2196F3",showPower:!1,interactive:!1,progressMode:!0,readOnly:!0}:s.device_class==="humidity"||t.entity_id?.includes("humidity")?{value:g,min:0,max:100,unit:s.unit_of_measurement||"%",label:A,subValue:C,displayValue:`${Math.round(g)}`,showUnit:!0,color:"#00BCD4",showPower:!1,interactive:!1,progressMode:!0,readOnly:!0}:t.entity_id?.includes("solar")?{value:g,min:0,max:s.max||10,unit:s.unit_of_measurement||"kW",label:A,subValue:C,displayValue:`${g}`,showUnit:!0,color:"#FFC107",showPower:!1,interactive:!1,progressMode:!0,readOnly:!0}:{value:g,min:s.min||0,max:s.max||100,unit:s.unit_of_measurement||"",label:A,subValue:C||null,displayValue:`${g}`,showUnit:!!s.unit_of_measurement,color:"#8BC34A",showPower:!1,interactive:!1,progressMode:!0,readOnly:!0};default:return{value:0,min:0,max:100,unit:"%",label:o("control"),color:"#9E9E9E",showPower:r==="on"||r==="off",powerState:r==="on",interactive:!1,showUnit:!0}}},Io=(t,i="¬∞C")=>{let n=parseFloat(t);return i==="¬∞F"&&(n=(n-32)*5/9),n<16?"#0288D1":n<18?"#03A9F4":n<20?"#00BCD4":n<22?"#4CAF50":n<24?"#8BC34A":n<26?"#FFC107":n<28?"#FF9800":n<30?"#FF5722":"#F44336"},Ye=320,Ce=Ye*.4375,Ie=Ye/2,ze=Ye/2,Xt=2*Math.PI*Ce,tn=()=>{const t=window.innerWidth;return t<=480||t<=768?160:(t<=1024,280)},zo=(t,i,n)=>-90+(t-i)/(n-i)*360,Bo=(t,i,n)=>{let r=t+90;r<0&&(r+=360),r=r%360;const s=r/360;return i+s*(n-i)},Ro=(t,i,n,r)=>{const s=(t-i)/(n-i);return r-s*r},Po=({isOn:t=!1,onChange:i,disabled:n=!1,size:r=280,show:s=!0})=>{if(!s)return null;const o=r<220,l=o?51:64,a=o?26:32,c=o?19:24,u=o?11:14,d=o?22:32;return e("div",{className:"power-toggle-container",style:{position:"absolute",top:"50%",left:"50%",transform:`translate(-50%, calc(-50% - ${o?38:60}px))`,pointerEvents:"all",zIndex:10},children:e(S.label,{className:`power-toggle ${n?"disabled":""}`,style:{position:"relative",width:`${l}px`,height:`${a}px`,display:"block",cursor:n?"not-allowed":"pointer"},whileHover:n?{}:{scale:1.05},whileTap:n?{}:{scale:.95},children:[e("input",{type:"checkbox",checked:t,onChange:i,disabled:n,style:{opacity:0,width:0,height:0}}),e(S.span,{className:"power-slider",style:{position:"absolute",inset:0,borderRadius:"20px",display:"flex",alignItems:"center",padding:"0 5px"},animate:{background:t?"rgba(255, 255, 255, 0.25)":"rgba(255, 255, 255, 0.1)",borderColor:t?"rgba(255, 255, 255, 0.4)":"rgba(255, 255, 255, 0.2)"},transition:{type:"spring",stiffness:300,damping:25},children:e(S.span,{className:"power-icon",style:{width:`${c}px`,height:`${c}px`,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},animate:{x:t?d:0,background:t?"white":"rgba(0, 0, 0, 0.1)"},variants:Es,whileTap:"tap",transition:{type:"spring",stiffness:400,damping:25},children:e(S.svg,{width:u,height:u,viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",animate:{stroke:t?"#333":"rgba(255, 255, 255, 1)",rotate:t?360:0},transition:{rotate:{type:"spring",stiffness:200,damping:20}},children:e("path",{d:"M12 2v10M16.2 7.8A7 7 0 1 1 7.8 7.8",strokeLinecap:"round",strokeLinejoin:"round"})})})})]})})},Wo=({value:t,animatedValue:i,displayValue:n,subValue:r,unit:s,showUnit:o=!0,label:l,size:a=280,isDragging:c=!1,valueRef:u,scrollOffset:d=0,centerIcon:h=null,showCenterIcon:v=!1})=>{const b=n&&!c?typeof n=="string"?n.charAt(0).toUpperCase()+n.slice(1):n:null,m=a<220?28:32;return e("div",{className:"value-display-container",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, calc(-50% + 10px))",pointerEvents:"none",display:"flex",flexDirection:"column",alignItems:"center",gap:a<200?"4px":"6px",zIndex:3},children:[v&&h&&e(S.div,{className:"circular-icon",variants:_t,initial:"hidden",animate:"visible",style:{width:`${m}px`,height:`${m}px`,display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(255, 255, 255, 0.8)",marginBottom:a<200?"2px":"4px"},dangerouslySetInnerHTML:{__html:h}}),e("div",{className:"value-wrapper",style:{position:"relative",display:"inline-block"},children:[b?e(S.span,{className:"circular-value",ref:u,variants:Zi,initial:"hidden",animate:"visible",style:{fontSize:a<200?"clamp(26px, 12.2vw, 39px)":"clamp(38px, 18vw, 48px)",fontWeight:500,color:"white",lineHeight:1,display:"inline-block"},children:e("span",{style:{transform:`translateX(${d}px)`,display:"inline-block",whiteSpace:"nowrap"},children:[b,d<-50&&e("span",{style:{marginLeft:"50px"},children:b})]})},t):e(S.span,{className:"circular-value",variants:Zi,initial:"hidden",animate:"visible",style:{fontSize:a<200?"clamp(26px, 12.2vw, 39px)":"clamp(38px, 18vw, 48px)",fontWeight:500,color:"white",lineHeight:1,display:"inline-block"},children:i}),o&&s&&e(S.span,{className:"circular-unit",variants:_t,initial:"hidden",animate:"visible",style:{fontSize:a<200?"clamp(9px, 3.7vw, 13px)":"clamp(13px, 5.5vw, 19px)",fontWeight:400,color:"rgba(255, 255, 255, 0.5)",position:"absolute",left:"100%",top:0,marginLeft:a<200?"2px":"4px",whiteSpace:"nowrap"},children:s})]}),r&&e(S.div,{className:"circular-sub-value",variants:_t,initial:"hidden",animate:"visible",style:{fontSize:a<200?"clamp(10px, 4.4vw, 15px)":"clamp(13px, 5.5vw, 19px)",color:"rgba(255, 255, 255, 0.6)",lineHeight:1,whiteSpace:"nowrap",textAlign:"center"},children:r}),e(S.div,{className:"circular-label",variants:_t,initial:"hidden",animate:"visible",style:{fontSize:a<200?"clamp(8px, 3.2vw, 10px)":"clamp(10px, 4vw, 13px)",color:"rgba(255, 255, 255, 0.5)",textTransform:"uppercase",letterSpacing:a<200?"0.4px":"0.5px",whiteSpace:"nowrap",textAlign:"center"},children:l})]})},Ho=(t,i,n,r)=>{const[s,o]=w(t),[l,a]=w(!1),c=di(t,{stiffness:280,damping:28,mass:.8,restDelta:.001,restSpeed:.01}),u=di(0,{stiffness:100,damping:30,restDelta:.01}),d=vt(c,r);return O(()=>{!l&&t>0&&(u.set(t),a(!0))},[l,t]),O(()=>{t!==s&&(o(t),c.set(t),l&&u.set(t))},[t]),{currentValue:s,setCurrentValue:o,springValue:c,countingValue:u,handleAngle:d,hasAnimated:l}},$o=({svgRef:t,readOnly:i,disabled:n,angleToValue:r,step:s,min:o,max:l,springValue:a,countingValue:c,setCurrentValue:u,setLastSliderValue:d,lastSliderValue:h,showPower:v,localPowerState:b,setLocalPowerState:y,onPowerToggle:m,onValueChange:p})=>{const[x,f]=w(!1),L=(H,I)=>{if(i||n||!t.current)return;const X=t.current.getBoundingClientRect(),D=H-X.left,F=I-X.top,z=Ye/X.width,g=Ye/X.height,C=D*z,A=F*g,k=C-Ie,$=A-ze,q=Math.atan2($,k)*(180/Math.PI),U=r(q),Y=Math.round(U/s)*s,se=Math.max(o,Math.min(l,Y));u(se),a.set(se),c.set(se,!1),d(se>0?se:h),v&&!b&&se>0&&(y(!0),m&&m(!0)),p&&p(se)},M=H=>{i||n||(f(!0),L(H.clientX,H.clientY))},_=H=>{x&&L(H.clientX,H.clientY)},R=()=>{f(!1)},N=H=>{if(i||n)return;f(!0);const I=H.touches[0];L(I.clientX,I.clientY)},T=H=>{if(!x)return;const I=H.touches[0];L(I.clientX,I.clientY),H.preventDefault()},E=()=>{f(!1)};return O(()=>{if(x)return document.addEventListener("mousemove",_),document.addEventListener("mouseup",R),document.addEventListener("touchmove",T,{passive:!1}),document.addEventListener("touchend",E),()=>{document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",R),document.removeEventListener("touchmove",T),document.removeEventListener("touchend",E)}},[x]),{isDragging:x,handleMouseDown:M,handleTouchStart:N}},Vo=(t,i,n,r)=>{const[s,o]=w(t),[l,a]=w(i>0?i:50);return{localPowerState:s,setLocalPowerState:o,lastSliderValue:l,setLastSliderValue:a,handlePowerToggle:(u,d,h,v)=>{const b=u.target.checked;o(b),b?l>0&&(v(l),d.set(l),h.set(l,!1),r&&r(l)):(v(0),d.set(0),h.set(0,!1)),n&&n(b)}}},nn=({value:t=0,min:i=0,max:n=100,step:r=1,label:s="",displayValue:o=null,subValue:l=null,unit:a="%",showUnit:c=!1,color:u="#FFD700",size:d=null,disabled:h=!1,readOnly:v=!1,progressMode:b=!1,hideSlider:y=!1,showPower:m=!1,powerState:p=!1,centerIcon:x=null,showCenterIcon:f=!1,onValueChange:L,onPowerToggle:M,domain:_=null})=>{const[R,N]=w(!1),[T,E]=w(d||tn()),[H,I]=w(u),[X,D]=w(0),F=Q(null),z=Q(null),g=Q(null);zi(0),zi(0);const C=Le(()=>ie=>zo(ie,i,n),[i,n]),A=Le(()=>ie=>Bo(ie,i,n),[i,n]),{currentValue:k,setCurrentValue:$,springValue:P,countingValue:q,handleAngle:U}=Ho(t,i,n,C),{localPowerState:Y,setLocalPowerState:se,lastSliderValue:B,setLastSliderValue:V,handlePowerToggle:j}=Vo(p,t,M,L),{isDragging:oe,handleMouseDown:Ne,handleTouchStart:he}=$o({svgRef:F,readOnly:v,disabled:h,angleToValue:A,step:r,min:i,max:n,springValue:P,countingValue:q,setCurrentValue:$,setLastSliderValue:V,lastSliderValue:B,showPower:m,localPowerState:Y,setLocalPowerState:se,onPowerToggle:M,onValueChange:L}),pe=Le(()=>()=>Ro(k,i,n,Xt),[k,i,n]),J=vt(U,ie=>{const le=ie*Math.PI/180;return Ie+Ce*Math.cos(le)}),G=vt(U,ie=>{const le=ie*Math.PI/180;return ze+Ce*Math.sin(le)});O(()=>{se(p),!p&&m&&(s?.toLowerCase().includes("hellig")||s?.toLowerCase().includes("bright"))&&$(0)},[p,m,s]),O(()=>{if(_==="climate"&&(a==="¬∞C"||a==="¬∞F")){const ie=Io(k,a);I(ie)}else I(u)},[k,_,a,u]),O(()=>{if(d)return;const ie=()=>{const le=tn();E(le)};return ie(),window.addEventListener("resize",ie),()=>window.removeEventListener("resize",ie)},[d]),O(()=>{const ie=g.current;if(!ie||!o||o.length<=7){D(0);return}const le=ie.scrollWidth,Se=ie.clientWidth;if(le>Se){let Te;const Je=()=>{D(Xe=>{const Qe=Xe-1;return Math.abs(Qe)>=le+50?0:Qe}),Te=requestAnimationFrame(Je)};return Te=requestAnimationFrame(Je),()=>{Te&&cancelAnimationFrame(Te)}}},[o]);const ne=ie=>{j(ie,P,q,$)},K=()=>{if(b)return k<=0?null:e(S.circle,{cx:Ie,cy:ze,r:Ce,fill:"none",stroke:H,strokeWidth:Ce*.086,strokeDasharray:Xt,initial:{strokeDashoffset:Xt},animate:{strokeDashoffset:pe()},transition:{type:"spring",stiffness:100,damping:20,restDelta:.001},strokeLinecap:"round",transform:`rotate(-90 ${Ie} ${ze})`});if(k>=n-.01)return e(fe,{children:[e(S.path,{d:`M ${Ie} ${ze-Ce} A ${Ce} ${Ce} 0 0 1 ${Ie} ${ze+Ce}`,fill:"none",stroke:H,strokeWidth:Ce*.086,strokeLinecap:"round",animate:{stroke:H},transition:{duration:.3}}),e(S.path,{d:`M ${Ie} ${ze+Ce} A ${Ce} ${Ce} 0 0 1 ${Ie} ${ze-Ce}`,fill:"none",stroke:H,strokeWidth:Ce*.086,strokeLinecap:"round",animate:{stroke:H},transition:{duration:.3}})]});const ie=C(k),le=Math.abs(ie+90)>180?1:0,Se=Ie+Ce*Math.cos(ie*Math.PI/180),Te=ze+Ce*Math.sin(ie*Math.PI/180);return e(S.path,{d:`M ${Ie} ${ze-Ce} A ${Ce} ${Ce} 0 ${le} 1 ${Se} ${Te}`,fill:"none",stroke:H,strokeWidth:Ce*.086,strokeLinecap:"round",animate:{stroke:H},transition:{stroke:{duration:.3,ease:"easeInOut"}}})},ee=()=>b||y||v?null:e(S.g,{children:e(S.circle,{cx:J,cy:G,r:Ce*.114,fill:"white",stroke:H,strokeWidth:Ce*.025,style:{cursor:oe?"grabbing":"grab",pointerEvents:"all"},variants:Ms,animate:oe?"dragging":R?"hover":"idle",onMouseEnter:()=>!h&&!v&&N(!0),onMouseLeave:()=>N(!1),whileHover:!h&&!v?"hover":void 0})}),ce=vt(q,ie=>a==="%"||Number.isInteger(ie)?Math.round(ie):parseFloat(ie.toFixed(1)));return e(S.div,{ref:z,className:`circular-slider-container ${h?"disabled":""} ${v?"read-only":""}`,style:{position:"relative",width:`${T}px`,height:`${T}px`,margin:"0 auto 30px",display:"flex",alignItems:"center",justifyContent:"center"},variants:Ns,initial:"hidden",animate:"visible",whileHover:!h&&!v?"hover":void 0,layout:!0,transition:{layout:{type:"spring",stiffness:300,damping:30}},children:[e(S.svg,{ref:F,width:"100%",height:"100%",viewBox:`0 0 ${Ye} ${Ye}`,preserveAspectRatio:"xMidYMid meet",className:"circular-slider-svg",onMouseDown:!v&&!b?Ne:void 0,onTouchStart:!v&&!b?he:void 0,style:{position:"absolute",top:0,left:0,cursor:v||b?"default":oe?"grabbing":"grab",pointerEvents:v||b?"none":"auto",transform:"translateZ(0)",backfaceVisibility:"hidden"},variants:Ls,initial:"hidden",animate:"visible",children:[e("circle",{cx:Ie,cy:ze,r:Ce,fill:"none",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:Ce*.086}),K(),ee()]}),e("div",{className:"circular-content",style:{position:"absolute",inset:0,zIndex:2,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},children:[e(Po,{isOn:Y,onChange:ne,disabled:h,size:T,show:m}),e(Wo,{value:k,animatedValue:ce,displayValue:o,subValue:l,unit:a,showUnit:c,label:s,size:T,isDragging:oe,valueRef:g,scrollOffset:X,centerIcon:x,showCenterIcon:f})]}),e("style",{children:`
        @media (prefers-reduced-motion: reduce) {
          .circular-slider-container *,
          .circular-slider-container *::before,
          .circular-slider-container *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
          }
        }
      `})]})},Oo=({data:t,lang:i="de"})=>{const[n,r]=w(0),[s,o]=w(null),[l,a]=w(!1),[c,u]=w(320);O(()=>{const M=()=>{const _=window.innerWidth;let R;_<=768?R=180:R=256,u(R)};return M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),O(()=>{const M=setTimeout(()=>{a(!0)},100);return()=>clearTimeout(M)},[]),O(()=>{const M=setInterval(()=>{r(_=>(_+1)%t.length)},5e3);return()=>clearInterval(M)},[t]);const d=t[n],h=M=>{o(M.touches[0].clientX)},v=M=>{if(!s)return;const _=M.changedTouches[0].clientX,R=s-_;Math.abs(R)>50&&(R>0?r(N=>(N+1)%t.length):r(N=>(N-1+t.length)%t.length)),o(null)},b=320,y=b*.4375,m=b/2,p=b/2,x=2*Math.PI*y,f=(d.value-d.min)/(d.max-d.min),L=x-f*x;return e("div",{className:`circular-slider-container solar-carousel ${l?"visible":""}`,onTouchStart:h,onTouchEnd:v,style:{width:`${c}px`,height:`${c}px`},children:[e("svg",{width:"100%",height:"100%",viewBox:`0 0 ${b} ${b}`,preserveAspectRatio:"xMidYMid meet",className:"circular-slider-svg",children:[e("circle",{cx:m,cy:p,r:y,fill:"none",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:y*.086}),e("circle",{cx:m,cy:p,r:y,fill:"none",stroke:d.color,strokeWidth:y*.086,strokeDasharray:x,strokeDashoffset:L,strokeLinecap:"round",transform:`rotate(-90 ${m} ${p})`,style:{transition:"stroke-dashoffset 0.5s ease"}})]}),e("div",{className:"circular-content",children:e("div",{className:"value-container",children:[e("div",{className:"value-wrapper",children:[e("span",{className:"circular-value",children:d.value}),e("span",{className:"circular-unit",children:d.unit})]}),d.subValue&&e("div",{className:"circular-sub-value",children:d.subValue}),e("div",{className:"circular-label",children:d.label})]})}),e("div",{className:"carousel-dots",children:t.map((M,_)=>e("div",{className:`dot ${_===n?"active":""}`,onClick:()=>r(_)},_))})]})},rn={light:(t,i,n,r)=>{if(i){const s=n&&n>0?Math.round(n/100*255):255;r("turn_on",{brightness:s}),t.attributes&&(t.attributes.brightness=s),t.entity?.attributes&&(t.entity.attributes.brightness=s)}else r("turn_off",{});t.state!==void 0&&(t.state=i?"on":"off"),t.entity?.state!==void 0&&(t.entity.state=i?"on":"off")},switch:(t,i,n,r)=>{r(i?"turn_on":"turn_off",{}),t.state!==void 0&&(t.state=i?"on":"off"),t.entity?.state!==void 0&&(t.entity.state=i?"on":"off")},climate:(t,i,n,r)=>{const s=i?"heat_cool":"off";r("set_hvac_mode",{hvac_mode:s}),t.state!==void 0&&(t.state=s),t.entity?.state!==void 0&&(t.entity.state=s)},media_player:(t,i,n,r)=>{r(i?"media_play":"media_pause",{}),t.state!==void 0&&(t.state=i?"playing":"paused"),t.entity?.state!==void 0&&(t.entity.state=i?"playing":"paused")},fan:(t,i,n,r)=>{r(i?"turn_on":"turn_off",{}),t.state!==void 0&&(t.state=i?"on":"off"),t.entity?.state!==void 0&&(t.entity.state=i?"on":"off")},vacuum:(t,i,n,r)=>{r(i?"start":"return_to_base",{}),t.state!==void 0&&(t.state=i?"cleaning":"docked"),t.entity?.state!==void 0&&(t.entity.state=i?"cleaning":"docked")},scene:(t,i,n,r)=>{i&&r("turn_on",{}),t.state!==void 0&&(t.state=i?"on":"off"),t.entity?.state!==void 0&&(t.entity.state=i?"on":"off")},script:(t,i,n,r)=>{r(i?"turn_on":"turn_off",{}),t.state!==void 0&&(t.state=i?"on":"off"),t.entity?.state!==void 0&&(t.entity.state=i?"on":"off")},automation:(t,i,n,r)=>{r(i?"turn_on":"turn_off",{}),t.state!==void 0&&(t.state=i?"on":"off"),t.entity?.state!==void 0&&(t.entity.state=i?"on":"off")},default:(t,i,n,r)=>{i?r("turn_on",{}):r("turn_off",{})}},jo=(t,i,n,r,s)=>(rn[t]||rn.default)(i,n,r,s),Uo={light:(t,i,n,r,s)=>{n(i),(!t.state||t.state==="off"&&i>0)&&(r(!0),t.state&&(t.state="on"),t.entity?.state&&(t.entity.state="on"));const o=Math.round(i/100*255);t.attributes&&(t.attributes.brightness=o),t.entity?.attributes&&(t.entity.attributes.brightness=o),s("turn_on",{brightness:o})},climate:(t,i,n,r,s)=>{const o=Math.round(i);t.attributes&&(t.attributes.temperature=o),t.entity?.attributes&&(t.entity.attributes.temperature=o),s("set_temperature",{temperature:o})},cover:(t,i,n,r,s)=>{s("set_cover_position",{position:Math.round(i)})},media_player:(t,i,n,r,s)=>{s("volume_set",{volume_level:i/100})},fan:(t,i,n,r,s)=>{s("set_percentage",{percentage:Math.round(i)})}},Go=(t,i,n,r,s,o)=>{const l=Uo[t];l&&l(i,n,r,s,o)},Zo=(t,i,n)=>{const[r,s]=w(null),[o,l]=w(null),[a,c]=w(null);return O(()=>{const d=t?.entity_id?i?.states?.[t.entity_id]||t:null;if(!d)return;const h=d.state,b=(d.attributes||{}).brightness;n==="light"||n==="switch"||n==="fan"?(s(h==="on"),n==="light"&&h==="on"&&b&&l(Math.round(b/255*100))):n==="climate"?s(h!=="off"):n==="media_player"?s(h!=="off"&&h!=="unavailable"):n==="lock"&&c(h)},[i,t?.entity_id,n]),{localPowerState:r,setLocalPowerState:s,lastBrightness:o,setLastBrightness:l,lockState:a,setLockState:c}},sn=({control:t,index:i,expandedControl:n,onToggleExpandable:r,onServiceCall:s,disabled:o})=>{const l=t.expandable&&n===t.id,a=()=>{t.disabled||(t.action&&s(t.action,t.data),t.expandable&&r(t.id))};return e("div",{className:"control-button-wrapper",children:[e(S.button,{className:`control-button ${t.active?"active":""} ${l?"expanded":""} ${t.disabled?"disabled":""}`,"data-tooltip":t.label,onClick:a,title:t.label,style:{animationDelay:`${i*50}ms`,"--hover-scale":t.expandable?"1.05":"1.1"},disabled:t.disabled,variants:ws,initial:"initial",whileHover:"hover",whileTap:"tap",children:e("span",{className:"button-icon",dangerouslySetInnerHTML:{__html:t.icon}})}),e("span",{className:"button-label",children:t.label})]})};class Me{constructor(i,n){this.element=i,this.data=n.data||[],this.lineHeight=n.lineHeight||30,this.selected=n.selected||0,this.callback=n.callback||function(){},this.scrollTimer=null,this.lastVisibleRange={start:-1,end:-1},this.init()}init(){this.element.innerHTML="",this.element.className="picker-wrapper";const i=document.createElement("div");i.className="clone-scroller";const n=document.createElement("div");n.className="picker-up";const r=document.createElement("div");r.className="picker-down";const s=document.createElement("div");s.className="picker-scroller",this.data.forEach((l,a)=>{const c=document.createElement("div");c.className="option",c.textContent=l,c.style.height=`${this.lineHeight}px`,c.style.lineHeight=`${this.lineHeight}px`,i.appendChild(c);const u=document.createElement("div");u.className="option is-hidden",u.textContent=l,u.style.transform=`rotateX(-${22.5*a}deg) translateZ(90px)`,s.appendChild(u)}),this.element.appendChild(i),this.element.appendChild(n),this.element.appendChild(r),this.element.appendChild(s),this.element.style.height=`${this.lineHeight*7}px`,this.element.style.lineHeight=`${this.lineHeight}px`,i.style.paddingTop=`${this.lineHeight*3}px`,i.style.paddingBottom=`${this.lineHeight*3}px`,s.style.paddingTop=`${this.lineHeight*3}px`,s.style.paddingBottom=`${this.lineHeight*3}px`,n.style.height=`${this.lineHeight*3}px`,r.style.height=`${this.lineHeight*3}px`,r.style.top=`${this.lineHeight*4}px`,this.cloneScroller=i,this.pickerScroller=s,this.options=Array.from(s.querySelectorAll(".option"));const o=this.selected*22.5;this.pickerScroller.style.transform=`translate3d(0, 0, -90px) rotateX(${o}deg)`,this.cloneScroller.scrollTop=this.lineHeight*this.selected,this.bindEvents(),this.updateRotation()}bindEvents(){let i=null;this.cloneScroller.addEventListener("scroll",()=>{i&&cancelAnimationFrame(i),i=requestAnimationFrame(()=>this.updateRotation()),this.scrollTimer&&clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(()=>this.onScrollStop(),150)},{passive:!0})}updateRotation(){const i=this.cloneScroller.scrollTop,n=22.5/this.lineHeight*i;this.pickerScroller.style.transform=`translate3d(0, 0, -90px) rotateX(${n}deg)`;const r=Math.round(n/22.5),s=7,o=Math.max(0,r-s),l=Math.min(this.options.length-1,r+s);for(let a=0;a<this.options.length;a++)a===r?this.options[a].classList.add("is-center"):this.options[a].classList.remove("is-center");if(!(this.lastVisibleRange.start===o&&this.lastVisibleRange.end===l)){for(let a=this.lastVisibleRange.start;a<=this.lastVisibleRange.end;a++)(a<o||a>l)&&a>=0&&this.options[a].classList.add("is-hidden");for(let a=o;a<=l;a++)(a<this.lastVisibleRange.start||a>this.lastVisibleRange.end)&&this.options[a].classList.remove("is-hidden");this.lastVisibleRange={start:o,end:l}}}onScrollStop(){const i=this.cloneScroller.scrollTop,n=Math.round(i/this.lineHeight)*this.lineHeight;this.smoothScrollTo(n);const r=Math.round(n/this.lineHeight);this.callback&&this.data[r]&&this.callback(r,this.data[r])}smoothScrollTo(i){const n=this.cloneScroller.scrollTop,r=i-n;if(Math.abs(r)<1){this.cloneScroller.scrollTop=i;return}const s=250,o=performance.now(),l=a=>{const c=a-o,u=Math.min(c/s,1),d=this.easeOutQuint(u);this.cloneScroller.scrollTop=n+r*d,u<1?requestAnimationFrame(l):this.cloneScroller.scrollTop=i};requestAnimationFrame(l)}easeOutQuint(i){return 1+--i*i*i*i*i}getCurrentValue(){const i=Math.round(this.cloneScroller.scrollTop/this.lineHeight);return this.data[i]}}class qo{constructor(i,n,r,s={}){this.hoursElement=i,this.minutesElement=n,this.periodElement=r,this.callback=s.callback||function(){},this.lineHeight=s.lineHeight||30;const o=s.initialHour||"09",l=s.initialMinute||"00";this.minuteStep=s.minuteStep||5;const a=parseInt(o);a===0?(this.selectedPeriod="AM",this.selectedHour="12"):a<12?(this.selectedPeriod="AM",this.selectedHour=a.toString().padStart(2,"0")):a===12?(this.selectedPeriod="PM",this.selectedHour="12"):(this.selectedPeriod="PM",this.selectedHour=(a-12).toString().padStart(2,"0")),this.selectedMinute=l,this.init()}init(){const i=Array.from({length:12},(s,o)=>(o+1).toString().padStart(2,"0"));this.hoursPicker=new Me(this.hoursElement,{data:i,lineHeight:this.lineHeight,selected:i.indexOf(this.selectedHour),callback:(s,o)=>{this.selectedHour=o,this.updateValue()}});const n=Array.from({length:60/this.minuteStep},(s,o)=>(o*this.minuteStep).toString().padStart(2,"0"));this.minutesPicker=new Me(this.minutesElement,{data:n,lineHeight:this.lineHeight,selected:n.indexOf(this.selectedMinute),callback:(s,o)=>{this.selectedMinute=o,this.updateValue()}});const r=["24h","AM","PM"];this.periodPicker=new Me(this.periodElement,{data:r,lineHeight:this.lineHeight,selected:r.indexOf(this.selectedPeriod),callback:(s,o)=>{this.selectedPeriod=o,this.updateHoursPicker(),this.updateValue()}}),this.updateValue()}updateHoursPicker(){let i;if(this.selectedPeriod==="24h"){i=Array.from({length:24},(r,s)=>s.toString().padStart(2,"0"));const n=parseInt(this.selectedHour);this.selectedPeriod==="AM"?this.selectedHour=n===12?"00":this.selectedHour:this.selectedPeriod==="PM"&&(this.selectedHour=n===12?"12":(n+12).toString().padStart(2,"0"))}else{i=Array.from({length:12},(r,s)=>(s+1).toString().padStart(2,"0"));const n=parseInt(this.selectedHour);n===0?this.selectedHour="12":n>12?this.selectedHour=(n-12).toString().padStart(2,"0"):n===12&&(this.selectedHour="12")}i.includes(this.selectedHour)||(this.selectedHour=i[0]),this.hoursPicker=new Me(this.hoursElement,{data:i,lineHeight:this.lineHeight,selected:i.indexOf(this.selectedHour),callback:(n,r)=>{this.selectedHour=r,this.updateValue()}})}updateValue(){let i=parseInt(this.selectedHour);this.selectedPeriod==="AM"?i===12&&(i=0):this.selectedPeriod==="PM"&&i!==12&&(i+=12);const n=i.toString().padStart(2,"0"),r=`${n}:${this.selectedMinute}`;this.callback(n,this.selectedMinute,r)}getValue(){let i=parseInt(this.selectedHour);this.selectedPeriod==="AM"?i===12&&(i=0):this.selectedPeriod==="PM"&&i!==12&&(i+=12);const n=i.toString().padStart(2,"0");return{hour:n,minute:this.selectedMinute,formatted:`${n}:${this.selectedMinute}`}}}class vd{constructor(i,n,r,s={}){this.dayElement=i,this.monthElement=n,this.yearElement=r,this.callback=s.callback||function(){},this.lineHeight=s.lineHeight||30,this.lang=s.lang||"de";const o=new Date;this.selectedDay=s.initialDay||o.getDate(),this.selectedMonth=s.initialMonth||o.getMonth()+1,this.selectedYear=s.initialYear||o.getFullYear(),this.init()}init(){const i=new Date().getFullYear(),n=Array.from({length:6},(s,o)=>(i+o).toString());this.yearPicker=new Me(this.yearElement,{data:n,lineHeight:this.lineHeight,selected:n.indexOf(this.selectedYear.toString()),callback:(s,o)=>{this.selectedYear=parseInt(o),this.updateDayPicker(),this.updateValue()}});const r=this.getMonthNames();this.monthPicker=new Me(this.monthElement,{data:r,lineHeight:this.lineHeight,selected:this.selectedMonth-1,callback:(s,o)=>{this.selectedMonth=s+1,this.updateDayPicker(),this.updateValue()}}),this.updateDayPicker(),this.updateValue()}getMonthNames(){return this.lang==="de"?["Jan","Feb","M√§r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}getDaysInMonth(i,n){return new Date(n,i,0).getDate()}updateDayPicker(){const i=this.getDaysInMonth(this.selectedMonth,this.selectedYear),n=Array.from({length:i},(r,s)=>(s+1).toString().padStart(2,"0"));this.selectedDay>i&&(this.selectedDay=i),this.dayPicker=new Me(this.dayElement,{data:n,lineHeight:this.lineHeight,selected:this.selectedDay-1,callback:(r,s)=>{this.selectedDay=parseInt(s),this.updateValue()}})}updateValue(){const i=`${this.selectedYear}-${this.selectedMonth.toString().padStart(2,"0")}-${this.selectedDay.toString().padStart(2,"0")}`,n=`${this.selectedDay.toString().padStart(2,"0")}.${this.selectedMonth.toString().padStart(2,"0")}.${this.selectedYear}`;this.callback(i,n)}setDate(i,n,r){this.selectedYear=i,this.selectedMonth=n,this.selectedDay=r,this.init()}getValue(){return{year:this.selectedYear,month:this.selectedMonth,day:this.selectedDay,formatted:`${this.selectedYear}-${this.selectedMonth.toString().padStart(2,"0")}-${this.selectedDay.toString().padStart(2,"0")}`}}}class Ko{constructor(i,n){this.element=i,this.data=n.data||[],this.lineHeight=n.lineHeight||30,this.selectedDays=n.selectedDays||[],this.callback=n.callback||function(){},this.scrollTimer=null,this.lastVisibleRange={start:-1,end:-1},this.currentIndex=0,this.lastCenterIndex=-1,this.init()}init(){this.element.innerHTML="",this.element.className="picker-wrapper";const i=document.createElement("div");i.className="clone-scroller";const n=document.createElement("div");n.className="picker-up";const r=document.createElement("div");r.className="picker-down";const s=document.createElement("div");s.className="picker-scroller";const o=document.createElement("button");o.className="multi-select-button is-hidden",this.selectButton=o,this.data.forEach((l,a)=>{const c=document.createElement("div");c.className="option",c.textContent=l,c.style.height=`${this.lineHeight}px`,c.style.lineHeight=`${this.lineHeight}px`,i.appendChild(c);const u=document.createElement("div");u.className="option is-hidden",u.dataset.index=a,u.style.transform=`rotateX(-${22.5*a}deg) translateZ(90px)`;const d=document.createElement("div");d.className="multi-select-option",this.selectedDays.includes(l)&&d.classList.add("active"),d.textContent=l,u.appendChild(d),s.appendChild(u)}),this.element.appendChild(i),this.element.appendChild(n),this.element.appendChild(r),this.element.appendChild(s),this.element.appendChild(o),this.element.style.height=`${this.lineHeight*7}px`,this.element.style.lineHeight=`${this.lineHeight}px`,i.style.paddingTop=`${this.lineHeight*3}px`,i.style.paddingBottom=`${this.lineHeight*3}px`,s.style.paddingTop=`${this.lineHeight*3}px`,s.style.paddingBottom=`${this.lineHeight*3}px`,n.style.height=`${this.lineHeight*3}px`,r.style.height=`${this.lineHeight*3}px`,r.style.top=`${this.lineHeight*4}px`,this.cloneScroller=i,this.pickerScroller=s,this.options=Array.from(s.querySelectorAll(".option")),this.cloneScroller.scrollTop=0,this.bindEvents(),this.updateRotation()}bindEvents(){let i=null;this.cloneScroller.addEventListener("scroll",()=>{this.selectButton.classList.add("is-hidden"),i&&cancelAnimationFrame(i),i=requestAnimationFrame(()=>this.updateRotation()),this.scrollTimer&&clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(()=>this.onScrollStop(),200)},{passive:!0}),this.selectButton.addEventListener("click",n=>{n.stopPropagation(),this.toggleCurrentDay()})}toggleCurrentDay(){const i=this.data[this.currentIndex],n=this.options[this.currentIndex].querySelector(".multi-select-option");this.selectedDays.includes(i)?(this.selectedDays=this.selectedDays.filter(r=>r!==i),n.classList.remove("active")):(this.selectedDays.push(i),n.classList.add("active")),this.updateButtonState(),this.updateValueDisplay()}updateValueDisplay(){const i=["Mo","Di","Mi","Do","Fr"],n=["Sa","So"],r=[...i,...n];let s="Keine";this.selectedDays.length===7?s="T√§glich":i.every(l=>this.selectedDays.includes(l))&&!n.some(l=>this.selectedDays.includes(l))?s="Mo-Fr":n.every(l=>this.selectedDays.includes(l))&&!i.some(l=>this.selectedDays.includes(l))?s="Sa, So":this.selectedDays.length>0&&(s=this.selectedDays.sort((l,a)=>r.indexOf(l)-r.indexOf(a)).join(", "));const o=document.querySelector(".value-line-4");o&&(o.textContent=s),this.callback(this.selectedDays,s)}updateButtonState(){const i=this.data[this.currentIndex];this.selectedDays.includes(i)?(this.selectButton.textContent="Abw√§hlen",this.selectButton.classList.add("deselect")):(this.selectButton.textContent="Ausw√§hlen",this.selectButton.classList.remove("deselect")),this.selectButton.classList.remove("is-hidden")}updateRotation(){const i=this.cloneScroller.scrollTop,n=22.5/this.lineHeight*i;this.pickerScroller.style.transform=`translate3d(0, 0, -90px) rotateX(${n}deg)`;const r=Math.round(n/22.5);this.currentIndex=r;const s=7,o=Math.max(0,r-s),l=Math.min(this.options.length-1,r+s);if(!(this.lastVisibleRange.start===o&&this.lastVisibleRange.end===l)){for(let a=this.lastVisibleRange.start;a<=this.lastVisibleRange.end;a++)(a<o||a>l)&&a>=0&&(this.options[a].classList.add("is-hidden"),this.options[a].classList.remove("is-center"));for(let a=o;a<=l;a++)(a<this.lastVisibleRange.start||a>this.lastVisibleRange.end)&&this.options[a].classList.remove("is-hidden"),a===r?this.options[a].classList.add("is-center"):this.options[a].classList.remove("is-center");this.lastVisibleRange={start:o,end:l}}}onScrollStop(){const i=this.cloneScroller.scrollTop,n=Math.round(i/this.lineHeight)*this.lineHeight;this.smoothScrollTo(n,()=>{this.updateButtonState()})}smoothScrollTo(i,n=()=>{}){const r=this.cloneScroller.scrollTop,s=i-r;if(Math.abs(s)<1){this.cloneScroller.scrollTop=i,n();return}const o=250,l=performance.now(),a=c=>{const u=c-l,d=Math.min(u/o,1),h=this.easeOutQuint(d);this.cloneScroller.scrollTop=r+s*h,d<1?requestAnimationFrame(a):(this.cloneScroller.scrollTop=i,n())};requestAnimationFrame(a)}easeOutQuint(i){return 1+--i*i*i*i*i}}const Yo=({item:t,lang:i="de"})=>{const[n,r]=w("Auto"),[s,o]=w("Auto"),[l,a]=w("Auto"),[c,u]=w(!1);O(()=>{const y=setTimeout(()=>u(!0),50);return()=>clearTimeout(y)},[]);const d={fanSpeed:Q(null),horizontal:Q(null),vertical:Q(null)},h=Q({});O(()=>{const y=setTimeout(()=>{if(console.log("üîß Initializing Climate Pickers..."),d.fanSpeed.current&&!h.current.fanSpeed)try{new Me(d.fanSpeed.current,{data:["Auto","1","2","3","4","5"],lineHeight:30,selected:0,callback:(m,p)=>{console.log("Fan Speed changed:",p),r(p);const x=document.querySelector(".value-line-1");x&&(x.textContent=p)}}),h.current.fanSpeed=!0,console.log("‚úÖ Fan Speed Picker initialized")}catch(m){console.error("‚ùå Error initializing Fan Speed Picker:",m)}if(d.horizontal.current&&!h.current.horizontal)try{new Me(d.horizontal.current,{data:["Auto","Links","2","3","4","Rechts","Split","Swing"],lineHeight:30,selected:0,callback:(m,p)=>{console.log("Horizontal changed:",p),o(p);const x=document.querySelector(".value-line-2");x&&(x.textContent=p)}}),h.current.horizontal=!0,console.log("‚úÖ Horizontal Picker initialized")}catch(m){console.error("‚ùå Error initializing Horizontal Picker:",m)}if(d.vertical.current&&!h.current.vertical)try{new Me(d.vertical.current,{data:["Auto","Oben","2","3","4","Unten","Swing"],lineHeight:30,selected:0,callback:(m,p)=>{console.log("Vertical changed:",p),a(p);const x=document.querySelector(".value-line-3");x&&(x.textContent=p)}}),h.current.vertical=!0,console.log("‚úÖ Vertical Picker initialized")}catch(m){console.error("‚ùå Error initializing Vertical Picker:",m)}},300);return()=>clearTimeout(y)},[i]);const v=y=>{console.log("üñ±Ô∏è Row clicked:",y);const m=document.getElementById(`picker-container-line-${y}`);if(!m){console.warn("‚ö†Ô∏è Picker container not found for line:",y);return}const p=getComputedStyle(m).display==="none";console.log("üì¶ Picker state:",p?"Opening":"Closing"),document.querySelectorAll("div.picker").forEach(x=>{getComputedStyle(x).display!=="none"&&x!==m&&b(x,!1)}),b(m,p)},b=(y,m)=>{m?(y.style.display="block",y.animate([{height:"0px",opacity:0,transform:"translateY(-3px)"},{height:"210px",opacity:1,transform:"translateY(0px)"}],{duration:150,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fill:"forwards"}).onfinish=()=>{y.style.height="210px",y.style.opacity="1"}):y.animate([{height:"210px",opacity:1,transform:"translateY(0px)"},{height:"0px",opacity:0,transform:"translateY(-3px)"}],{duration:120,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fill:"forwards"}).onfinish=()=>{y.style.display="none"}};return e("div",{className:`climate-picker-tab ${c?"visible":""}`,children:[e("style",{children:`
        .climate-picker-tab {
          padding: 0px;
          opacity: 0;
          transform: translateY(10px);
          transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .climate-picker-tab.visible {
          opacity: 1;
          transform: translateY(0);
        }

        /* Picker Table Container */
        .picker-table-container {
          margin-top: 0;
          margin-bottom: 20px;
          background: rgba(0, 0, 0, 0.25);
          backdrop-filter: blur(20px);
          -webkit-backdrop-filter: blur(20px);
          border: 0px solid rgba(255, 255, 255, 0.1);
          border-radius: 12px;
          overflow: hidden;
          animation: slideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(40px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        /* UPDATED: Konsistente Table Styles mit ScheduleTab */
        table { 
          width: 100%; 
          font-size: 15px;
          border-collapse: collapse;
          font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
          letter-spacing: normal;
        }
        
        table th { 
          text-align: left; 
          font-weight: 500; /* Medium weight wie im Screenshot */
          height: 45px; 
          border-bottom: 1px solid rgba(255, 255, 255, 0.1); 
          padding: 0 16px; 
          cursor: pointer; 
          color: rgba(255, 255, 255, 0.95); /* Heller wie im Screenshot */
          letter-spacing: normal;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }
        
        table td { 
          text-align: right; 
          font-weight: 500; /* Medium weight f√ºr value-line auch */
          color: rgba(255, 255, 255, 0.7); /* Heller wie im Screenshot */
          border-bottom: 1px solid rgba(255, 255, 255, 0.1); 
          padding: 0 16px; 
          cursor: pointer;
          letter-spacing: normal;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }
        
        /* Timer-Zeile (data-line="3") ohne Border */
        tr[data-line="3"] th,
        tr[data-line="3"] td {
          border-bottom: none !important;
        }
        table td.picker { border: none; cursor: default; padding: 0; }
        /* Picker ohne Border wenn versteckt */
        div.picker { 
          display: none; 
          overflow: hidden; 
          border-bottom: 0px solid rgba(255, 255, 255, 0.1);
        }
        /* Border nur bei sichtbaren/ge√∂ffneten Pickern, aber nie beim letzten */
        div.picker[style*="block"] {
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        /* Der letzte Picker (Timer/Zeitplan) hat NIE einen Border */
        #picker-container-line-6,
        #picker-container-line-6[style*="block"] { 
          border-bottom: none !important; 
        }
        .picker-wrapper, .picker-wrapper * { box-sizing: border-box; -webkit-user-select: none; user-select: none; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }
        .picker-wrapper { text-align: center; position: relative; height: 210px; display: inline-block; line-height: 30px; width: 100%; font-size: 18px; perspective: 1000px; perspective-origin: center center; }
        .picker-scroller { transform: translateZ(-90px) rotateX(0deg); transform-style: preserve-3d; height: 100%; will-change: transform; }
        .picker-scroller .option { position: absolute; backface-visibility: hidden; width: 100%; color: rgba(255, 255, 255, 0.4); transform-origin: 50% 50%; transform-style: preserve-3d; opacity: 1; transition: opacity 0.2s, color 0.2s; pointer-events: auto; }
        .picker-scroller .option.is-hidden { opacity: 0; pointer-events: none; }
        .picker-scroller .option.is-center { color: rgba(255, 255, 255, 0.9); }
        .picker-up { position: absolute; top: 0; z-index: 2; background: linear-gradient(to bottom, rgba(0, 0, 0, 0.25) 0%, rgba(0, 0, 0, 0) 100%); width: 100%; height: 90px; border-bottom: 1px solid rgba(255, 255, 255, 0.3); pointer-events: none; }
        .picker-down { position: absolute; top: 120px; z-index: 2; background: linear-gradient(to top, rgba(0, 0, 0, 0.25) 0%, rgba(0, 0, 0, 0) 100%); width: 100%; height: 90px; border-top: 1px solid rgba(255, 255, 255, 0.3); pointer-events: none; }
        .clone-scroller { z-index: 5; overflow: auto; height: 100%; position: absolute; top: 0; width: 100%; padding-top: 90px; padding-bottom: 90px; scrollbar-width: none; -ms-overflow-style: none; }
        .clone-scroller::-webkit-scrollbar { display: none; }
        .clone-scroller .option { visibility: hidden; }
        .clickable-row { cursor: pointer; }
        .time-picker-container { 
          display: flex; 
          justify-content: center; 
          align-items: center; 
          width: 100%; 
          gap: 0; 
          margin: 0;
          padding: 0;
        }
        .time-picker-container > div:first-child { 
          flex: 1; 
          max-width: 50%; 
        }
        .time-picker-container > div:last-child { 
          flex: 1; 
          max-width: 50%; 
        }
        .time-picker-separator { 
          flex: 0 0 20px; 
          display: flex; 
          justify-content: center; 
          align-items: center; 
          width: 20px; 
          height: 210px;
          position: relative;
          background: linear-gradient(to bottom, 
            rgba(0, 0, 0, 0.25) 0%, 
            rgba(0, 0, 0, 0) 42.86%,
            rgba(0, 0, 0, 0) 57.14%,
            rgba(0, 0, 0, 0.25) 100%);
        }
        
        .time-picker-separator::before {
          content: '';
          position: absolute;
          top: 89px;
          left: 0;
          right: 0;
          height: 1px;
          background: rgba(255, 255, 255, 0.2);
          z-index: 2;
        }
        
        .time-picker-separator::after {
          content: '';
          position: absolute;
          top: 120px;
          left: 0;
          right: 0;
          height: 1px;
          background: rgba(255, 255, 255, 0.2);
          z-index: 2;
        }
        
        .time-picker-separator svg { 
          width: 8px; 
          height: 16px; 
          fill: rgba(255, 255, 255, 0.6); 
          transform: translateY(0px); 
          position: relative;
          z-index: 3;
        }
        
        .multi-select-option { display: flex; align-items: center; justify-content: center; width: 100%; height: 100%; font-size: 20px; font-weight: 500; transition: color 0.3s ease, transform 0.15s ease; }
        .multi-select-option.active { color: #34c759; font-weight: 600; }
        .picker-scroller .option.is-center { z-index: 10; }
        .picker-scroller .option.is-center .multi-select-option { transform: scale(1.05); }
        .multi-select-button { position: absolute; bottom: 15px; left: 50%; transform: translateX(-50%); z-index: 15; padding: 8px 20px; font-size: 14px; font-weight: 600; border: none; border-radius: 20px; cursor: pointer; background-color: #007aff; color: white; box-shadow: 0 2px 10px rgba(0,0,0,0.1); transition: opacity 0.2s, background-color 0.2s; }
        .multi-select-button.deselect { background-color: #ff3b30; }
        .multi-select-button.is-hidden { opacity: 0; pointer-events: none; }

        /* Picker Action Buttons */
        .picker-actions {
          display: flex;
          gap: 12px;
          margin-top: 20px;
          animation: slideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .picker-btn {
          flex: 1;
          padding: 14px;
          border-radius: 12px;
          border: none;
          font-size: 16px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .picker-btn.cancel {
          background: rgba(255, 255, 255, 0.1);
          color: white;
        }

        .picker-btn.confirm {
          background: linear-gradient(135deg, rgb(0, 145, 255), rgb(0, 145, 255));
          color: white;
        }

        .picker-btn.confirm.disabled {
          background: rgba(128, 128, 128, 0.3);
          color: rgba(255, 255, 255, 0.5);
          cursor: not-allowed;
          pointer-events: none;
        }

        .picker-btn:hover {
          transform: translateY(-1px);
        }

        .picker-btn:active {
          transform: scale(0.98);
        }
      `}),e("div",{className:"picker-table-container",children:e("table",{children:[e("tr",{className:"clickable-row","data-line":"1",onClick:()=>v("1"),children:[e("th",{children:W("controls.fanSpeed",i)}),e("td",{className:"value-line-1",children:n})]}),e("tr",{children:e("td",{className:"picker",colspan:"2",children:e("div",{className:"picker",id:"picker-container-line-1",children:e("div",{id:"picker-line-1",ref:d.fanSpeed})})})}),e("tr",{className:"clickable-row","data-line":"2",onClick:()=>v("2"),children:[e("th",{children:W("controls.horizontalOscillation",i)}),e("td",{className:"value-line-2",children:s})]}),e("tr",{children:e("td",{className:"picker",colspan:"2",children:e("div",{className:"picker",id:"picker-container-line-2",children:e("div",{id:"picker-line-2",ref:d.horizontal})})})}),e("tr",{className:"clickable-row","data-line":"3",onClick:()=>v("3"),children:[e("th",{children:W("controls.verticalOscillation",i)}),e("td",{className:"value-line-3",children:l})]}),e("tr",{children:e("td",{className:"picker",colspan:"2",children:e("div",{className:"picker",id:"picker-container-line-3",children:e("div",{id:"picker-line-3",ref:d.vertical})})})})]})}),e("div",{className:"picker-actions",children:e("button",{className:"picker-btn confirm",onClick:()=>{console.log("Climate settings:",{fanSpeed:n,horizontal:s,vertical:l})},children:W("controls.apply",i)})})]})},Jo=({entity:t,hass:i,lang:n="de"})=>{const[r,s]=w({}),o=Q(null),[l,a]=w(!1);O(()=>{const d=async()=>{if(!t||!i)return;const v=await t.executeAction("getPrinterData",{hass:i});v&&s(v)};d();const h=setInterval(d,5e3);return()=>clearInterval(h)},[t,i]);const c=(d,h)=>{if(!h||h==="unavailable")return n==="de"?"Nicht verf√ºgbar":"Not available";const v=String(h).toLowerCase();return v==="idle"?n==="de"?"Leerlauf":"Idle":v==="on"?n==="de"?"An":"On":v==="off"?n==="de"?"Aus":"Off":d==="nozzleType"?{hardened_steel:n==="de"?"Geh√§rteter Stahl":"Hardened Steel",stainless_steel:n==="de"?"Edelstahl":"Stainless Steel",brass:n==="de"?"Messing":"Brass"}[v]||h:d==="speedProfile"&&{silent:n==="de"?"Leise":"Silent",standard:"Standard",sport:"Sport",ludicrous:"Ludicrous"}[v]||h},u=[{key:"currentLayer",label:n==="de"?"Aktuelle Schicht":"Current layer",value:r.currentLayer},{key:"currentStep",label:n==="de"?"Aktueller Arbeitsschritt":"Current step",value:r.currentStep},{key:"progress",label:n==="de"?"Druckfortschritt":"Print progress",value:r.progress?`${r.progress}%`:null},{key:"speedProfile",label:n==="de"?"Geschwindigkeitsprofil":"Speed profile",value:r.speedProfile},{key:"printStatus",label:n==="de"?"Druckstatus":"Print status",value:r.printStatus},{key:"printType",label:n==="de"?"Drucktyp":"Print type",value:r.printType},{key:"nozzleSize",label:n==="de"?"D√ºsengr√∂√üe":"Nozzle size",value:r.nozzleSize},{key:"nozzleType",label:n==="de"?"D√ºsentyp":"Nozzle type",value:r.nozzleType},{key:"bedTemp",label:n==="de"?"Druckbetttemperatur":"Bed temperature",value:r.bedTemp?`${r.bedTemp}¬∞C`:null},{key:"nozzleTemp",label:n==="de"?"Temperatur der D√ºse":"Nozzle temperature",value:r.nozzleTemp?`${r.nozzleTemp}¬∞C`:null},{key:"targetBed",label:n==="de"?"Zieltemperatur Druckbett":"Target bed temperature",value:r.targetBed?`${r.targetBed}¬∞C`:null},{key:"targetNozzle",label:n==="de"?"Zieltemperatur D√ºse":"Target nozzle temperature",value:r.targetNozzle?`${r.targetNozzle}¬∞C`:null},{key:"remainingTime",label:n==="de"?"Verbleibende Zeit":"Remaining time",value:r.remainingTime},{key:"startTime",label:n==="de"?"Startzeit":"Start time",value:r.startTime},{key:"endTime",label:n==="de"?"Voraussichtliche Fertigstellung":"Estimated completion",value:r.endTime},{key:"totalLayers",label:n==="de"?"Gesamtschichten":"Total layers",value:r.totalLayers},{key:"fanSpeed",label:n==="de"?"Druckkopfl√ºfter":"Cooling fan speed",value:r.fanSpeed?`${r.fanSpeed}%`:null},{key:"heatbreakFanSpeed",label:n==="de"?"Hotend-L√ºfter":"Heatbreak fan speed",value:r.heatbreakFanSpeed?`${r.heatbreakFanSpeed}%`:null}];return e("div",{className:"printer-sensors-wrapper",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),style:{position:"relative"},children:[e("div",{ref:o,className:"ios-settings-view printer-sensors-scroll",style:{paddingTop:"0"},children:e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:n==="de"?"SENSOREN":"SENSORS"}),e("div",{className:"ios-card",children:u.map((d,h)=>{const v=c(d.key,d.value),b=!d.value||d.value==="unavailable";return e("div",{children:[h>0&&e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:e("div",{className:"ios-item-label",children:d.label})})}),e("div",{className:"ios-item-right",children:e("div",{className:"ios-item-value",style:{color:b?"rgba(255,255,255,0.4)":"rgba(255,255,255,0.6)"},children:v})})]})]},d.key)})})]})}),e(_e,{scrollContainerRef:o,isHovered:l})]})},Xo=({entity:t,hass:i,lang:n="de"})=>{const[r,s]=w({}),o=Q(null),[l,a]=w(!1);O(()=>{const d=async()=>{if(!t||!i)return;const v=await t.executeAction("getPrinterData",{hass:i});v&&s(v)};d();const h=setInterval(d,5e3);return()=>clearInterval(h)},[t,i]);const c=d=>{if(!d||d==="unavailable")return n==="de"?"Nicht verf√ºgbar":"Not available";const h=String(d).toLowerCase();return h==="on"?n==="de"?"An":"On":h==="off"?n==="de"?"Aus":"Off":d},u=[{key:"online",label:"Online",value:r.online},{key:"printError",label:n==="de"?"Druckfehler":"Print error",value:r.printError},{key:"hmsError",label:n==="de"?"HMS-Fehler":"HMS error",value:r.hmsError},{key:"firmwareStatus",label:n==="de"?"Firmware Status":"Firmware status",value:r.firmwareStatus},{key:"lanMode",label:n==="de"?"Entwickler LAN-Modus":"Developer LAN mode",value:r.lanMode},{key:"mqttMode",label:n==="de"?"MQTT-Verbindungsmodus":"MQTT connection mode",value:r.mqttMode},{key:"mqttEncryption",label:n==="de"?"MQTT-Verschl√ºsselung":"MQTT encryption",value:r.mqttEncryption},{key:"ipAddress",label:n==="de"?"IP-Adresse":"IP address",value:r.ipAddress},{key:"wifiSignal",label:n==="de"?"Wi-Fi-Signalqualit√§t":"Wi-Fi signal quality",value:r.wifiSignal?`${r.wifiSignal} dBm`:null},{key:"sdCard",label:n==="de"?"SD-Kartenstatus":"SD card status",value:r.sdCard},{key:"totalUsage",label:n==="de"?"Gesamtnutzung":"Total usage",value:r.totalUsage?`${r.totalUsage} h`:null},{key:"timelapse",label:n==="de"?"Zeitraffer-Aufnahme":"Timelapse recording",value:r.timelapse},{key:"extruderFilament",label:n==="de"?"Extruder Filament Status":"Extruder filament status",value:r.extruderFilament},{key:"serialNumber",label:n==="de"?"Seriennummer":"Serial number",value:t?.attributes?.serial}];return e("div",{className:"printer-sensors-wrapper",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),style:{position:"relative"},children:[e("div",{ref:o,className:"ios-settings-view printer-sensors-scroll",style:{paddingTop:"0"},children:e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:n==="de"?"DIAGNOSE":"DIAGNOSTICS"}),e("div",{className:"ios-card",children:u.map((d,h)=>{const v=c(d.value),b=!d.value||d.value==="unavailable";return e("div",{children:[h>0&&e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:e("div",{className:"ios-item-label",children:d.label})})}),e("div",{className:"ios-item-right",children:e("div",{className:"ios-item-value",style:{color:b?"rgba(255,255,255,0.4)":"rgba(255,255,255,0.6)"},children:v})})]})]},d.key)})})]})}),e(_e,{scrollContainerRef:o,isHovered:l})]})},Qo=({entity:t,hass:i,lang:n="de"})=>{const[r,s]=w({}),o=Q(null),[l,a]=w(!1);O(()=>{const y=async()=>{if(!t||!i)return;const p=await t.executeAction("getPrinterData",{hass:i});p&&s(p)};y();const m=setInterval(y,5e3);return()=>clearInterval(m)},[t,i]);const c=async(y,m,p,x={})=>{if(!(!i||!p))try{await i.callService(y,m,{entity_id:p,...x}),setTimeout(async()=>{const f=await t.executeAction("getPrinterData",{hass:i});f&&s(f)},500)}catch(f){Z.error("Service call failed:",f)}},u=(y,m,p)=>{if(!p)return;const x=p.entity_id.split(".")[0];c(x,m==="on"||m===!0?"turn_off":"turn_on",p.entity_id)},d=y=>{y&&c("button","press",y.entity_id)},h=(y,m)=>{y&&c("number","set_value",y.entity_id,{value:parseFloat(m)})},v=[{key:"cameraEnabled",type:"switch",label:n==="de"?"Kamera aktivieren":"Enable camera"},{key:"imageCamera",type:"switch",label:n==="de"?"Bildsensorkamera verwenden":"Use image sensor camera"},{key:"alertTone",type:"switch",label:n==="de"?"Aufforderungston zulassen":"Allow prompt sound"},{key:"chamberLight",type:"switch",label:n==="de"?"Druckraumbeleuchtung":"Chamber light"},{key:"targetNozzle",type:"range",label:n==="de"?"Zieltemperatur D√ºse":"Target nozzle temp",unit:"¬∞C",min:0,max:320},{key:"targetBed",type:"range",label:n==="de"?"Zieltemperatur Druckbett":"Target bed temp",unit:"¬∞C",min:0,max:120}],b=y=>{const m=r[y.key],p=r[y.key+"_entity"];if(y.type==="switch"){const x=m==="on"||m===!0,f=m&&m!=="unavailable";return e("div",{className:`ios-toggle ${x?"active":""} ${f?"":"disabled"}`,onClick:()=>f&&u(y.key,m,p),style:{width:"51px",height:"31px",borderRadius:"15.5px",background:x?"rgb(48, 209, 88)":"rgba(120, 120, 128, 0.32)",position:"relative",cursor:f?"pointer":"not-allowed",transition:"background 0.2s"},children:e("div",{style:{width:"27px",height:"27px",borderRadius:"50%",background:"white",position:"absolute",top:"2px",left:x?"22px":"2px",transition:"left 0.2s",boxShadow:"0 3px 8px rgba(0,0,0,0.15), 0 3px 1px rgba(0,0,0,0.06)"}})})}if(y.type==="range"){const x=parseFloat(m)||y.min,f=m!=null&&m!=="unavailable";return{value:e("span",{className:"range-value-display",style:{color:"rgba(255,255,255,0.9)",fontSize:"17px",fontWeight:"500",textAlign:"right"},children:[f?x:"--",y.unit]}),slider:e("input",{type:"range",value:f?x:y.min,min:y.min,max:y.max,disabled:!f,onChange:L=>h(p,L.target.value),className:"range-slider-input",style:{width:"100%",height:"4px",borderRadius:"2px",background:`linear-gradient(to right, rgb(48, 209, 88) 0%, rgb(48, 209, 88) ${(x-y.min)/(y.max-y.min)*100}%, rgba(255,255,255,0.2) ${(x-y.min)/(y.max-y.min)*100}%, rgba(255,255,255,0.2) 100%)`,outline:"none",cursor:f?"pointer":"not-allowed",WebkitAppearance:"none",appearance:"none"}})}}if(y.type==="number"){const x=parseFloat(m)||0,f=m!=null&&m!=="unavailable";return e("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e("input",{type:"number",value:f?x:"",min:y.min,max:y.max,disabled:!f,onChange:L=>h(p,L.target.value),placeholder:f?"0":n==="de"?"Nicht verf√ºgbar":"Not available",style:{width:"70px",padding:"6px 10px",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",color:f?"white":"rgba(255,255,255,0.4)",fontSize:"15px",textAlign:"center"}}),f&&e("span",{style:{color:"rgba(255,255,255,0.6)",fontSize:"15px"},children:y.unit})]})}if(y.type==="button"){const x=p!=null;return e("button",{onClick:()=>d(p),disabled:!x,style:{padding:"6px 16px",background:x?"rgba(255,255,255,0.15)":"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",color:x?"rgb(48, 209, 88)":"rgba(255,255,255,0.3)",fontSize:"14px",fontWeight:"500",cursor:x?"pointer":"not-allowed",transition:"all 0.2s"},onMouseEnter:f=>{x&&(f.target.style.background="rgba(255,255,255,0.25)")},onMouseLeave:f=>{x&&(f.target.style.background="rgba(255,255,255,0.15)")},children:y.buttonLabel||y.label})}return null};return e("div",{className:"printer-sensors-wrapper",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),style:{position:"relative"},children:[e("div",{ref:o,className:"ios-settings-view printer-sensors-scroll",style:{paddingTop:"0"},children:e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:n==="de"?"STEUERUNG":"CONTROLS"}),e("div",{className:"ios-card",children:v.map((y,m)=>e("div",{children:[m>0&&e("div",{className:"ios-divider"}),e("div",{className:"ios-item",style:y.type==="range"?{flexDirection:"column",alignItems:"stretch",gap:"6px"}:{},children:y.type==="range"?e(fe,{children:[e("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e("div",{className:"ios-item-label range-label",children:y.label}),b(y).value]}),b(y).slider]}):e(fe,{children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:e("div",{className:"ios-item-label",children:y.label})})}),e("div",{className:"ios-item-right",children:b(y)})]})})]},y.key))})]})}),e(_e,{scrollContainerRef:o,isHovered:l})]})},bt={HOUR_24:{key:"24h",label:"24 Stunden",hours:24,labelEn:"24 Hours",labelDe:"24 Stunden"},DAYS_7:{key:"7d",label:"7 Tage",hours:168,labelEn:"7 Days",labelDe:"7 Tage"},DAYS_30:{key:"30d",label:"30 Tage",hours:720,labelEn:"30 Days",labelDe:"30 Tage"}},ea=bt.DAYS_7.key,ir={HOUR_IN_MS:36e5},ta={DEFAULT_DATA_POINTS:50},_i=t=>{const i=Object.values(bt).find(n=>n.key===t);return i?i.hours:bt.DAYS_7.hours},ia=async(t,i,n="7d")=>{if(!t||!i)return console.warn("fetchEntityHistory: hass oder entityId fehlt"),[];try{const r=_i(n),s=new Date,l=new Date(s.getTime()-r*ir.HOUR_IN_MS).toISOString(),a=s.toISOString();console.log(`üì° Lade History f√ºr ${i} (${n}):`,{startTime:l,endTime:a,hours:r});let c=[];try{if(t.callWS&&typeof t.callWS=="function"){console.log("üîå Verwende WebSocket API");const u=await t.callWS({type:"history/history_during_period",start_time:l,end_time:a,entity_ids:[i],minimal_response:!1,no_attributes:!1});c=u&&u[0]?u[0]:[],console.log(`‚úÖ WebSocket: ${c.length} Events empfangen`)}}catch(u){console.warn("‚ö†Ô∏è WebSocket API fehlgeschlagen:",u.message)}if(c.length===0&&t.callApi){console.log("üåê Fallback auf REST API");try{const u=`history/period/${l}?filter_entity_id=${i}&end_time=${a}`,d=await t.callApi("GET",u);c=d&&d[0]?d[0]:[],console.log(`‚úÖ REST API: ${c.length} Events empfangen`)}catch(u){console.warn("‚ö†Ô∏è REST API fehlgeschlagen:",u.message)}}return c.length===0&&console.warn(`‚ö†Ô∏è Keine History-Daten f√ºr ${i} gefunden`),c}catch(r){return console.error("‚ùå Fehler beim Laden der History:",r),[]}},na=(t,i="7d")=>{if(!t||!t.entity_id)return console.warn("generateMockHistory: item oder entity_id fehlt"),[];const n=_i(i),r=new Date,s=Math.min(n,ta.DEFAULT_DATA_POINTS),o=n*ir.HOUR_IN_MS/s,l=[];for(let a=0;a<s;a++){const c=new Date(r.getTime()-(s-a)*o),u=c.getHours();let d="off",h={friendly_name:t.name||t.entity_id};switch(t.domain){case"light":case"switch":d=(u>=18||u<=7)&&Math.random()>.3?"on":"off",d==="on"&&t.domain==="light"&&(h.brightness=Math.floor(Math.random()*255));break;case"climate":const v=20+Math.sin(u/24*Math.PI*2)*3;d=Math.random()>.5?"heating":"idle",h.current_temperature=Math.round(v*10)/10,h.temperature=21;break;case"sensor":d=String(Math.round(Math.random()*100)),h.unit_of_measurement="%";break;case"binary_sensor":d=Math.random()>.7?"on":"off";break;case"cover":const b=Math.random();d=b>.7?"open":b>.3?"closed":"opening",(d==="open"||d==="closed")&&(h.current_position=d==="open"?100:0);break;default:d=Math.random()>.5?"on":"off"}l.push({entity_id:t.entity_id,state:d,attributes:h,last_changed:c.toISOString(),last_updated:c.toISOString()})}return console.log(`üé≠ Mock-History generiert f√ºr ${t.entity_id}: ${l.length} Events`),l},ra=(t,i,n,r)=>{if(!t||t.length===0)return console.warn("transformToHistoryObject: Keine Events vorhanden"),null;console.log(`üîÑ Transformiere ${t.length} Events f√ºr ${i}`);const s=aa(t,n),o=la(t),l=sa(t,n),a=[];return console.log("‚úÖ Transformation abgeschlossen:",{chartPoints:s.length,events:l.length,stats:o}),{chartData:s,stats:o,events:l,patterns:a}},sa=(t,i)=>{const n=[],r=t.slice(-50).reverse();for(let s=0;s<r.length;s++){const o=r[s],l=s<r.length-1?r[s+1]:null;let a=null;if(l){const u=new Date(l.last_changed)-new Date(o.last_changed);a=Math.abs(Math.round(u/6e4))}const c=oa(o,i);n.push({timestamp:o.last_changed,newState:o.state,oldState:l?l.state:null,description:c,duration:a,attributes:o.attributes})}return n},oa=(t,i)=>{switch(i){case"light":return t.state==="on"?t.attributes?.brightness?`Licht eingeschaltet (${Math.round(t.attributes.brightness/255*100)}%)`:"Licht eingeschaltet":"Licht ausgeschaltet";case"switch":return t.state==="on"?"Schalter aktiviert":"Schalter deaktiviert";case"climate":return t.attributes?.current_temperature?`${t.state} (${t.attributes.current_temperature}¬∞C)`:t.state==="heating"?"Heizung aktiv":"Heizung inaktiv";case"binary_sensor":return t.state==="on"?"Sensor ausgel√∂st":"Sensor zur√ºckgesetzt";case"cover":return t.state==="open"?"Ge√∂ffnet":t.state==="closed"?"Geschlossen":t.state==="opening"?"Wird ge√∂ffnet":t.state==="closing"?"Wird geschlossen":t.state;case"sensor":const n=t.attributes?.unit_of_measurement||"";return`Wert: ${t.state}${n}`;default:return t.state==="on"?"Eingeschaltet":"Ausgeschaltet"}},aa=(t,i)=>{const n=[],r=t.length>100?Math.floor(t.length/100):1;for(let s=0;s<t.length;s+=r){const o=t[s],l=new Date(o.last_changed),a=ca(o,i);n.push({time:l.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}),usage:Math.round(a),timestamp:o.last_changed})}return n},la=(t,i,n)=>{if(t.length===0)return{totalChanges:0,avgDuration:0,onPercentage:0,offPercentage:0};let r=0,s=0,o=0;for(let u=1;u<t.length;u++){const d=t[u-1],h=t[u];d.state!==h.state&&r++;const v=new Date(h.last_changed)-new Date(d.last_changed);o+=v,(d.state==="on"||d.state==="heating"||d.state==="open")&&(s+=v)}const l=r>0?Math.round(o/r/6e4):0,a=o>0?Math.round(s/o*100):0,c=100-a;return{totalChanges:r,avgDuration:l,onPercentage:a,offPercentage:c}},ca=(t,i)=>{switch(i){case"light":case"switch":return t.state==="on"?t.attributes?.brightness?t.attributes.brightness/255*100:100:0;case"sensor":const n=parseFloat(t.state);return isNaN(n)?0:Math.min(100,Math.abs(n));case"climate":return t.state==="heating"?75:t.state==="cooling"?50:0;case"binary_sensor":return t.state==="on"?100:0;case"cover":return t.attributes&&typeof t.attributes.current_position=="number"?t.attributes.current_position:t.state==="open"?100:0;default:return t.state==="on"?100:0}},on={DAY:{key:"day",label:"D",labelDe:"T",hours:24},WEEK:{key:"week",label:"W",labelDe:"W",hours:168},MONTH:{key:"month",label:"M",labelDe:"M",hours:720},YEAR:{key:"year",label:"Y",labelDe:"J",hours:8760}},Qt=({item:t,hass:i,lang:n="de",viewType:r="consumption"})=>{const[s,o]=w(on.DAY.key),[l,a]=w(!1),[c,u]=w(null),[d,h]=w(null),[v,b]=w(null),y=r==="solar",m=r==="netusage",p=Q(null),x=Q(null),f=di(0,{stiffness:100,damping:30,restDelta:.01}),L=vt(f,T=>T.toFixed(2)),M=(T,E)=>!T||!E?{value:"0.00",unit:E||""}:E==="Wh"?{value:(T/1e3).toFixed(2),unit:"kWh"}:E==="kWh"&&T>1e3?{value:(T/1e3).toFixed(2),unit:"kWh"}:E==="W"&&T>=1e3?{value:(T/1e3).toFixed(2),unit:"kW"}:{value:T.toFixed(2),unit:E},_=Q(i);O(()=>{_.current=i},[i]);const R=Le(()=>{const T=new Date;if(d?.periodLabel&&s!=="day"){if(s==="week"&&d.periodLabel.includes("KW")){const E=T.getFullYear();return`${d.periodLabel} ${E}`}return s==="month"?`${d.periodLabel} ${T.getFullYear()}`:d.periodLabel}return n==="de"?T.toLocaleDateString("de-DE",{day:"numeric",month:"long",year:"numeric"}):T.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})},[n,s,d?.periodLabel]),N=Le(()=>({consumption:t?.attributes?.consumption_sensor,gridImport:t?.attributes?.grid_import_sensor,gridExport:t?.attributes?.grid_export_total_sensor,solar:t?.attributes?.solar_sensor,pvTotal:t?.attributes?.pv_total_sensor,batteryDischarged:t?.attributes?.battery_discharged_sensor,batteryCharged:t?.attributes?.battery_charged_sensor,kwh:t?.attributes?.kwh_sensor}),[t?.attributes?.consumption_sensor,t?.attributes?.grid_import_sensor,t?.attributes?.grid_export_total_sensor,t?.attributes?.solar_sensor,t?.attributes?.pv_total_sensor,t?.attributes?.battery_discharged_sensor,t?.attributes?.battery_charged_sensor,t?.attributes?.kwh_sensor]);return O(()=>{if(!t||!s||!t.actions)return;(async()=>{const E=_.current;if(E)try{const H=await t.actions.getCurrentPeriodConsumption({hass:E,periodType:s}),I=async(B,V=!1)=>{if(!B)return{value:0,unit:"kWh"};try{const j=new Date;let oe=new Date;switch(s){case"day":oe.setHours(0,0,0,0);break;case"week":const he=oe.getDay(),pe=oe.getDate()-he+(he===0?-6:1);oe=new Date(oe.setDate(pe)),oe.setHours(0,0,0,0);break;case"month":oe=new Date(oe.getFullYear(),oe.getMonth(),1),oe.setHours(0,0,0,0);break;case"year":oe=new Date(oe.getFullYear(),0,1),oe.setHours(0,0,0,0);break}const Ne=await E.callWS({type:"recorder/statistics_during_period",start_time:oe.toISOString(),end_time:j.toISOString(),statistic_ids:[B],period:"hour"});if(Ne?.[B]?.length>0){const he=Ne[B],pe=he[0],J=he[he.length-1],ne=(await E.callWS({type:"recorder/get_statistics_metadata",statistic_ids:[B]}))?.[B]?.unit_of_measurement||"kWh";if(J.state!==void 0&&pe.state!==void 0){const K=J.state-pe.state;return{value:Math.max(0,K),unit:ne}}}return{value:0,unit:"kWh"}}catch(j){return Z.error(`Failed to get period energy for ${B}:`,j),{value:0,unit:"kWh"}}},[X,D,F,z,g]=await Promise.all([I(N.kwh),I(N.pvTotal),I(N.gridExport),I(N.batteryDischarged),I(N.batteryCharged)]),C=(B,V)=>V==="Wh"||V==="kWh"&&B>1e3?B/1e3:B,A=(B,V)=>V==="Wh"||V==="kWh"&&B>1e3||V==="kWh"&&B>=10?B/1e3:B,k=C(H.consumption||0,H.unit||"kWh"),$=A(D.value,D.unit),P=A(F.value,F.unit),q=A(z.value,z.unit),U=A(g.value,g.unit),Y=Math.max(0,$-P),se=Math.max(0,q-U);if(m){const B=t?.attributes?.feed_in_tariff_sensor,V=t?.attributes?.purchase_tariff_sensor;let j=.08,oe=.3;if(B&&i?.states?.[B]){const le=parseFloat(i.states[B].state);isNaN(le)||(j=le)}if(V&&i?.states?.[V]){const le=parseFloat(i.states[V].state);isNaN(le)||(oe=le)}const Ne=P*j,he=k*oe,pe=$,J=Y,G=U,ne=P,K=k+Y+se;b({grid:{value:P,percentage:0,unit:"kWh"},solar:{value:Ne,percentage:0,unit:"‚Ç¨"},battery:{value:he,percentage:0,unit:"‚Ç¨"},totalToday:{value:k,unit:"kWh"},totalProduction:pe,productionToHouse:J,productionToBattery:G,productionToGrid:ne,totalConsumption:K,consumptionFromSolar:Y,consumptionFromBattery:se,consumptionFromGrid:k})}else if(y){const B=$,V=B>0?P/B*100:0,j=B>0?Y/B*100:0,oe=B>0?U/B*100:0;b({grid:{value:P,percentage:Math.round(V),unit:"kWh"},solar:{value:Y,percentage:Math.round(j),unit:"kWh"},battery:{value:U,percentage:Math.round(oe),unit:"kWh"},totalToday:{value:B,unit:"kWh"}})}else{const B=k+Y+se,V=B>0?k/B*100:0,j=B>0?Y/B*100:0,oe=B>0?se/B*100:0;b({grid:{value:k,percentage:Math.round(V),unit:"kWh"},solar:{value:Y,percentage:Math.round(j),unit:"kWh"},battery:{value:se,percentage:Math.round(oe),unit:"kWh"},totalToday:{value:B,unit:"kWh"}})}}catch(H){Z.error("Failed to fetch period consumption:",H),b({totalToday:{value:0,unit:"kWh"}})}})()},[s,y,m]),O(()=>{v?.totalToday?.value!==void 0&&f.set(v.totalToday.value)},[v?.totalToday?.value]),O(()=>{if(!t||!s||!t.actions)return;(async()=>{const E=_.current;if(!E){a(!1),u(null),h(null);return}a(!0);try{const H=y?t.attributes?.pv_total_sensor:t.attributes?.kwh_sensor,I=await t.actions.getChartData({hass:E,periodType:s,sensorId:H});if(!I||!I.dataPoints||I.dataPoints.length===0){u(null),h(null),a(!1);return}u(I.dataPoints),h({periodType:I.periodType,periodLabel:I.periodLabel,chartType:I.chartType,unit:I.unit})}catch(H){Z.error("‚ùå Failed to load chart data:",H),u(null),h(null)}finally{a(!1)}})()},[s,y,t?.attributes?.pv_total_sensor,t?.attributes?.kwh_sensor]),O(()=>{if(x.current&&!(!m&&(!c||c.length===0))){p.current&&p.current.destroy();try{const T=x.current.getContext("2d"),E=d?.unit||"kWh";if(m){if(!v)return;const D=v?.totalProduction||0,F=v?.productionToHouse||0,z=v?.productionToBattery||0,g=v?.productionToGrid||0,C=v?.totalConsumption||0,A=v?.consumptionFromSolar||0,k=v?.consumptionFromBattery||0,$=v?.consumptionFromGrid||0;Z.debug("üé® Creating Production/Consumption Chart:",{production:{totalProduction:D,productionToHouse:F,productionToBattery:z,productionToGrid:g},consumption:{totalConsumption:C,consumptionFromSolar:A,consumptionFromBattery:k,consumptionFromGrid:$}}),p.current=new ci(T,{type:"doughnut",data:{datasets:[{label:n==="de"?"Erzeugung":"Production",data:[F,z,g],backgroundColor:["rgba(48, 209, 88, 0.8)","rgba(255, 159, 10, 0.8)","rgba(255, 204, 0, 0.8)"],borderColor:["rgb(48, 209, 88)","rgb(255, 159, 10)","rgb(255, 204, 0)"],borderWidth:2,weight:1},{label:n==="de"?"Verbrauch":"Consumption",data:[A,k,$],backgroundColor:["rgba(64, 200, 224, 0.8)","rgba(255, 55, 95, 0.8)","rgba(175, 82, 222, 0.8)"],borderColor:["rgb(64, 200, 224)","rgb(255, 55, 95)","rgb(175, 82, 222)"],borderWidth:2,weight:1}]},options:{responsive:!0,maintainAspectRatio:!1,animation:{delay:200,duration:400,easing:"easeInOutQuart"},plugins:{legend:{display:!1},tooltip:{enabled:!0,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"rgba(255, 255, 255, 0.9)",bodyColor:"rgba(255, 255, 255, 0.9)",borderColor:"rgba(255, 255, 255, 0.2)",borderWidth:1,padding:12,cornerRadius:8,callbacks:{label:function(P){const q=P.datasetIndex,U=P.parsed||0,Y=P.dataset.data.reduce((j,oe)=>j+oe,0),se=Y>0?(U/Y*100).toFixed(1):0;let B="",V="";return q===0?(B=n==="de"?"Erzeugung":"Production",V=(n==="de"?["Hausnetz","Batterie (Laden)","Netz (Einspeisung)"]:["House","Battery (Charge)","Grid (Export)"])[P.dataIndex]):(B=n==="de"?"Verbrauch":"Consumption",V=(n==="de"?["Solar","Batterie (Entladen)","Netz (Bezug)"]:["Solar","Battery (Discharge)","Grid (Import)"])[P.dataIndex]),`${B} - ${V}: ${U.toFixed(2)} kWh (${se}%)`}}}},cutout:"50%"}});return}const H={id:"verticalLineOnHover",afterDraw:D=>{if(D.tooltip?._active?.length){const F=D.tooltip._active[0],z=D.ctx,g=F.element.x,C=D.scales.y.top,A=D.scales.y.bottom;z.save(),z.beginPath(),z.moveTo(g,C),z.lineTo(g,A),z.lineWidth=1,z.strokeStyle="rgba(255, 255, 255, 0.3)",z.stroke(),z.restore()}}},I=d?.chartType||(s==="day"?"line":"bar"),X=()=>{if(s!=="week")return s==="day"?"rgba(0, 145, 255, 0.15)":"rgba(0, 145, 255, 0.7)";const D=new Date,F=D.getDay(),z=F===0?-6:1-F,g=new Date(D);return g.setDate(D.getDate()+z),g.setHours(0,0,0,0),c.map(C=>{const A=new Date(C.timestamp);return A.setHours(0,0,0,0),A>=g?"rgba(0, 145, 255, 0.7)":"rgba(0, 145, 255, 0.35)"})};p.current=new ci(T,{type:I,data:{labels:c.map(D=>D.time),datasets:[{label:"Consumption",data:c.map(D=>D.value),borderColor:"rgb(0, 145, 255)",backgroundColor:X(),borderWidth:s==="day"?2:1,fill:s==="day",tension:.4,pointRadius:s==="day"?0:void 0,pointHoverRadius:s==="day"?6:void 0,pointHoverBackgroundColor:"rgb(0, 145, 255)",barPercentage:.7,categoryPercentage:.8}]},options:{responsive:!0,maintainAspectRatio:!1,animation:{delay:200,duration:400,easing:"easeInOutQuart"},interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!1},tooltip:{enabled:!0,mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",padding:12,displayColors:!1,callbacks:{title:function(D){const F=D[0].label;if(s==="day"){const z=F.split(":")[0],g=(parseInt(z)+1).toString().padStart(2,"0");return`${z}:00-${g}:00`}if(s==="month"){const z=parseInt(F),g=R.split(" "),C=g[0],A=g[1],$={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"}[C]||"01";return`${z.toString().padStart(2,"0")}.${$}.${A}`}return F},label:function(D){return`${D.parsed.y.toFixed(2)} ${E}`}}}},scales:{x:{display:!0,grid:{display:!1,drawBorder:!1},ticks:{color:"rgba(255, 255, 255, 0.5)",maxRotation:0,autoSkipPadding:20,font:{size:11}}},y:{display:!0,grid:{color:"rgba(255, 255, 255, 0.05)",borderDash:[3,3],drawBorder:!1},ticks:{color:"rgba(255, 255, 255, 0.5)",font:{size:11},callback:function(D){return D.toFixed(2)+" "+E}}}}},plugins:[H]})}catch(T){Z.error("‚ùå Chart.js creation error:",T)}return()=>{p.current&&p.current.destroy()}}},[c,s,m,v]),e("div",{className:"energy-charts-view",children:[e("div",{className:"energy-header",children:[e("div",{className:"energy-date-container",children:[e(xe,{mode:"wait",children:e(S.div,{className:"energy-date",initial:{opacity:0,filter:"blur(8px)"},animate:{opacity:1,filter:"blur(0px)"},exit:{opacity:0,filter:"blur(8px)"},transition:{duration:.3,ease:"easeInOut"},children:R},R)}),e("div",{className:"energy-total-value",children:[e(S.span,{style:{display:"inline-block"},children:L}),e("sup",{children:v?.totalToday?.unit||"kWh"})]})]}),e("div",{className:"energy-time-tabs",children:Object.values(on).map(T=>e("button",{className:`time-tab ${s===T.key?"active":""}`,onClick:()=>o(T.key),children:n==="de"?T.labelDe:T.label},T.key))})]}),e("div",{className:"energy-summary",children:e("div",{className:"energy-stats-inline",children:[e("div",{className:"energy-stat-item","data-source":"grid",children:[e("div",{className:"stat-value",children:(()=>{const T=M(v?.grid?.value,v?.grid?.unit);return e(fe,{children:[T.value,e("sup",{children:T.unit})]})})()}),e("div",{className:"stat-label",children:[e("svg",{width:"14px",height:"14px",viewBox:"0 0 463 463",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"4px"},title:n==="de"?"Netz":"Grid",children:e("path",{d:"M367.5,159c4.142,0,7.5-3.357,7.5-7.5v-32c0-0.278-0.018-0.552-0.047-0.822c-0.004-0.037-0.012-0.074-0.017-0.111 c-0.039-0.313-0.1-0.619-0.176-0.919c-0.015-0.061-0.03-0.121-0.046-0.181c-0.093-0.332-0.206-0.656-0.342-0.967 c-0.013-0.03-0.029-0.058-0.042-0.087c-0.132-0.291-0.282-0.57-0.448-0.839c-0.031-0.051-0.06-0.103-0.093-0.153 c-0.183-0.281-0.384-0.549-0.602-0.802c-0.044-0.052-0.092-0.101-0.138-0.152c-0.225-0.248-0.462-0.483-0.718-0.699 c-0.011-0.009-0.019-0.02-0.03-0.029l-0.026-0.022c-0.003-0.002-0.006-0.005-0.008-0.007l-95.292-79.41L253.5,3 c-1.417-1.889-3.639-3-6-3h-32c-2.361,0-4.583,1.111-6,3l-23.474,31.299l-95.292,79.41c-0.003,0.002-0.006,0.005-0.008,0.007 l-0.026,0.022c-0.011,0.009-0.019,0.02-0.03,0.029c-0.256,0.216-0.493,0.452-0.718,0.699c-0.046,0.051-0.093,0.1-0.138,0.152 c-0.218,0.253-0.419,0.521-0.602,0.802c-0.033,0.05-0.062,0.102-0.093,0.153c-0.166,0.269-0.317,0.548-0.448,0.839 c-0.013,0.029-0.029,0.057-0.042,0.087c-0.136,0.312-0.248,0.635-0.342,0.967c-0.017,0.06-0.031,0.12-0.046,0.181 c-0.076,0.3-0.137,0.606-0.176,0.919c-0.005,0.037-0.013,0.074-0.017,0.111C88.018,118.948,88,119.222,88,119.5v32 c0,4.143,3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5V127h81v68.987l-93.267,77.722c-0.003,0.002-0.006,0.005-0.008,0.007l-0.026,0.022 c-0.011,0.009-0.019,0.02-0.03,0.029c-0.256,0.216-0.493,0.452-0.718,0.699c-0.046,0.051-0.093,0.1-0.138,0.152 c-0.218,0.253-0.419,0.521-0.602,0.802c-0.033,0.05-0.062,0.102-0.093,0.153c-0.166,0.269-0.317,0.548-0.448,0.839 c-0.013,0.029-0.029,0.057-0.042,0.087c-0.136,0.312-0.248,0.635-0.342,0.967c-0.017,0.06-0.031,0.12-0.046,0.181 c-0.076,0.3-0.137,0.606-0.176,0.919c-0.005,0.037-0.013,0.074-0.017,0.111C88.018,278.948,88,279.222,88,279.5v32 c0,4.143,3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5V287h77.792l-58.545,161H111.5c-4.142,0-7.5,3.357-7.5,7.5s3.358,7.5,7.5,7.5h40 c4.142,0,7.5-3.357,7.5-7.5s-3.358-7.5-7.5-7.5h-8.173L231.5,340.233L319.673,448H319.5c-4.142,0-7.5,3.357-7.5,7.5 s3.358,7.5,7.5,7.5h40c4.142,0,7.5-3.357,7.5-7.5s-3.358-7.5-7.5-7.5h-18.747l-58.545-161H360v24.5c0,4.143,3.358,7.5,7.5,7.5 s7.5-3.357,7.5-7.5v-32c0-0.278-0.018-0.552-0.047-0.822c-0.004-0.037-0.012-0.074-0.017-0.111c-0.039-0.313-0.1-0.619-0.176-0.919 c-0.015-0.061-0.03-0.121-0.046-0.181c-0.093-0.332-0.206-0.656-0.342-0.967c-0.013-0.03-0.029-0.058-0.042-0.087 c-0.132-0.291-0.282-0.57-0.448-0.839c-0.031-0.051-0.06-0.103-0.093-0.153c-0.183-0.281-0.384-0.549-0.602-0.802 c-0.044-0.052-0.092-0.101-0.138-0.152c-0.225-0.248-0.462-0.483-0.718-0.699c-0.011-0.009-0.019-0.02-0.03-0.029l-0.026-0.022 c-0.003-0.002-0.006-0.005-0.008-0.007L279,195.987V127h81v24.5C360,155.643,363.358,159,367.5,159z M220.893,79.5L199,101.393 V57.607L220.893,79.5z M209.607,47h43.786L231.5,68.893L209.607,47z M209.607,112L231.5,90.107L253.393,112H209.607z M253.393,127 L231.5,148.893L209.607,127H253.393z M220.893,159.5L199,181.393v-43.786L220.893,159.5z M209.607,192l21.893-21.893L253.393,192 H209.607z M253.393,207L231.5,228.893L209.607,207H253.393z M220.893,239.5L199,261.393v-43.786L220.893,239.5z M231.5,250.107 L253.393,272h-43.786L231.5,250.107z M255.673,287L231.5,316.545L207.327,287H255.673z M242.107,239.5L264,217.607v43.786 L242.107,239.5z M242.107,159.5L264,137.607v43.786L242.107,159.5z M242.107,79.5L264,57.607v43.786L242.107,79.5z M219.25,15h24.5 l12.75,17h-50L219.25,15z M184,55.513V112h-67.785L184,55.513z M184,215.513V272h-67.785L184,215.513z M149.617,416.624 l44.426-122.172l27.766,33.937L149.617,416.624z M241.19,328.389l27.766-33.937l44.426,122.172L241.19,328.389z M279,272v-56.487 L346.785,272H279z M279,112V55.513L346.785,112H279z"})}),e("span",{children:n==="de"?"Netz":"Grid"}),e("span",{className:"stat-percent",children:[" ",v?.grid?.percentage||0,"%"]})]})]}),e("div",{className:"stat-divider"}),e("div",{className:"energy-stat-item","data-source":"solar",children:[e("div",{className:"stat-value",children:(()=>{const T=M(v?.solar?.value,v?.solar?.unit);return e(fe,{children:[T.value,e("sup",{children:T.unit})]})})()}),e("div",{className:"stat-label",children:[m?e("svg",{width:"14px",height:"14px","stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",style:{marginRight:"4px"},title:n==="de"?"Ertrag":"Revenue",children:[e("path",{d:"M16.5 21H18.6688C19.8945 21 20.8319 19.9074 20.6455 18.6959L19.2609 9.69589C19.1108 8.72022 18.2713 8 17.2842 8H6.71584C5.7287 8 4.8892 8.72022 4.73909 9.69589L3.35448 18.6959C3.16809 19.9074 4.10545 21 5.33122 21H7.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M12 12V19M12 19L15 16M12 19L9 16",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M14 5C14 3.89543 13.1046 3 12 3C10.8954 3 10 3.89543 10 5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}):y?e("svg",{width:"14px",height:"14px",viewBox:"0 0 24 24","stroke-width":"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",style:{marginRight:"4px"},title:n==="de"?"Haus":"Home",children:[e("path",{d:"M2 8L11.7317 3.13416C11.9006 3.04971 12.0994 3.0497 12.2683 3.13416L22 8",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M20 11V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19V11",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}):e("svg",{width:"14px",height:"14px",viewBox:"0 0 512 512",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"4px"},title:"Solar",children:e("path",{d:"M48 32h96v96H48zm128 0h96v96h-96zm128 0h96v96h-96zM48 160h96v96H48zm128 0h96v96h-96zm128 0h96v96h-96zM48 288h96v96H48zm128 0h96v96h-96zm128 0h96v96h-96zM80 416h288v32H80z"})}),e("span",{children:m?n==="de"?"Ertrag":"Revenue":y?n==="de"?"Haus":"Home":"Solar"}),!m&&e("span",{className:"stat-percent",children:[" ",v?.solar?.percentage||0,"%"]})]})]}),e("div",{className:"stat-divider"}),e("div",{className:"energy-stat-item","data-source":"battery",children:[e("div",{className:"stat-value",children:(()=>{const T=M(v?.battery?.value,v?.battery?.unit);return e(fe,{children:[T.value,e("sup",{children:T.unit})]})})()}),e("div",{className:"stat-label",children:[m?e("svg",{width:"14px",height:"14px","stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",style:{marginRight:"4px"},title:n==="de"?"Kosten":"Costs",children:[e("path",{d:"M16.5 21H18.6688C19.8945 21 20.8319 19.9074 20.6455 18.6959L19.2609 9.69589C19.1108 8.72022 18.2713 8 17.2842 8H6.71584C5.7287 8 4.8892 8.72022 4.73909 9.69589L3.35448 18.6959C3.16809 19.9074 4.10545 21 5.33122 21H7.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M12 19V12M12 12L15 15M12 12L9 15",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M14 5C14 3.89543 13.1046 3 12 3C10.8954 3 10 3.89543 10 5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}):e("svg",{width:"14px",height:"14px","stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"4px"},title:n==="de"?"Batterie":"Battery",children:[e("path",{d:"M14 13H16L18 13",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M6 13H8M10 13H8M8 13V11M8 13V15",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M6 7H2.6C2.26863 7 2 7.26863 2 7.6V18.4C2 18.7314 2.26863 19 2.6 19H21.4C21.7314 19 22 18.7314 22 18.4V7.6C22 7.26863 21.7314 7 21.4 7H18M6 7V5H8V7M6 7H8M8 7H16M16 7V5H18V7M16 7H18",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),e("span",{children:m?n==="de"?"Kosten":"Costs":n==="de"?"Batterie":"Battery"}),!m&&e("span",{className:"stat-percent",children:[" ",v?.battery?.percentage||0,"%"]})]})]})]})}),e("div",{className:"energy-sources-bar",style:{padding:"0 16px"},children:e("div",{className:"energy-progress-bar",children:[e("div",{className:"progress-segment solar",style:{width:`${v?.solar?.percentage||0}%`}}),e("div",{className:"progress-segment battery",style:{width:`${v?.battery?.percentage||0}%`}}),e("div",{className:"progress-segment grid",style:{width:`${v?.grid?.percentage||0}%`}})]})}),e("div",{className:"energy-chart-container",children:[l&&e("div",{className:"loading-container",children:e("div",{className:"loading-spinner"})}),!l&&(!c||c.length===0)&&e("div",{className:"no-data-message",children:e("p",{children:n==="de"?"Keine Daten verf√ºgbar":"No data available"})}),e("canvas",{ref:x,style:{display:c&&c.length>0&&!l?"block":"none",width:"100%",height:"100%"}})]})]})},an=({group:t,expandedControl:i,activePreset:n,onPresetSelect:r,onServiceCall:s,item:o,lang:l,hass:a})=>{if(i!==t.id)return null;const c=Q(null),[u,d]=w(!1);return e(xe,{mode:"wait",children:e(S.div,{className:`control-presets visible ${t.grouped?"grouped":""}`,variants:_s,initial:"hidden",animate:"visible",exit:"hidden",children:t.renderCustom&&t.id==="settings"&&o?.domain==="climate"?e(Yo,{item:o,lang:l}):t.renderCustom&&t.id==="controls"&&o?.domain==="energy_dashboard_device"?e(Qt,{item:o,hass:a,lang:l,viewType:"consumption"}):t.renderCustom&&t.id==="sensors"&&o?.domain==="energy_dashboard_device"?e(Qt,{item:o,hass:a,lang:l,viewType:"solar"}):t.renderCustom&&t.id==="diagnostics"&&o?.domain==="energy_dashboard_device"?e(Qt,{item:o,hass:a,lang:l,viewType:"netusage"}):t.renderCustom&&t.id==="sensors"&&o?.domain==="printer3d_device"?e(Jo,{entity:o,hass:a,lang:l}):t.renderCustom&&t.id==="diagnostics"&&o?.domain==="printer3d_device"?e(Xo,{entity:o,hass:a,lang:l}):t.renderCustom&&t.id==="misc"&&o?.domain==="printer3d_device"?e(Qo,{entity:o,hass:a,lang:l}):e("div",{className:"presets-scroll-container",ref:t.grouped?c:null,onMouseEnter:()=>t.grouped&&d(!0),onMouseLeave:()=>t.grouped&&d(!1),style:t.grouped?{position:"relative"}:{},children:[t.grouped?e(fe,{children:t.items.map((h,v)=>h.type==="header"?e("div",{className:"preset-header",children:h.label},`header-${v}`):e(S.button,{className:`preset-button ${n===`${t.id}-${v}`?"active":""}`,variants:Vi,initial:"initial",whileHover:"hover",whileTap:"tap","data-tooltip":h.label,onClick:()=>{r(`${t.id}-${v}`),s(h.service,h.data)},style:{...h.style,animationDelay:`${v*30}ms`},title:h.label,children:h.icon?e("span",{style:{fontSize:"32px"},children:h.icon}):e("span",{className:"preset-text",children:h.label})},v))}):t.items.map((h,v)=>e(S.button,{className:`preset-button ${n===`${t.id}-${v}`?"active":""}`,"data-tooltip":h.label,variants:Vi,initial:"initial",whileHover:"hover",whileTap:"tap",onClick:()=>{r(`${t.id}-${v}`),s(t.service,h.data)},style:{...h.style,animationDelay:`${v*30}ms`},title:h.label,children:h.icon?e("span",{style:{fontSize:"32px"},children:h.icon}):h.customIcon?e("span",{className:"preset-icon",dangerouslySetInnerHTML:{__html:h.customIcon}}):e(fe,{children:e("span",{className:"preset-text",children:h.label})})},v)),t.grouped&&e(_e,{scrollContainerRef:c,isHovered:u})]})})})},ln=({item:t,onServiceCall:i,lang:n="de",hass:r,slideShowKey:s,expandedControl:o,setExpandedControl:l})=>{const[a,c]=w(null),u=o!==void 0?o:a,d=l||c,[h,v]=w(null),[b,y]=w(!1),[m,p]=w(!1),[x,f]=w(!1),[L,M]=w(!1),{localPowerState:_,setLocalPowerState:R,lastBrightness:N,setLastBrightness:T,lockState:E,setLockState:H}=Zo(t,r,t?.domain);O(()=>{u===null&&(f(!1),M(!1))},[u]);const I=Q(null),X=Q(null),D=Q(null),[F,z]=w(!1),g=G=>W(`controls.${G}`,n);O(()=>{const G=requestAnimationFrame(()=>{const ne=setTimeout(()=>{y(!0)},50);return()=>clearTimeout(ne)});return()=>cancelAnimationFrame(G)},[]),O(()=>{const G=window.matchMedia("(max-width: 768px)");p(G.matches);const ne=K=>p(K.matches);return G.addEventListener("change",ne),()=>G.removeEventListener("change",ne)},[]);const C=Le(()=>{if(t?.domain==="lock"&&E){const G={...t,state:E,entity:t.entity?{...t.entity,state:E}:void 0};return fi(G,n)}return fi(t,n)},[t,n,E]),[A,k]=w(null),[$,P]=w(null),[q,U]=w(null),[Y,se]=w(null);O(()=>{if(t?.domain!=="energy_dashboard_device"||!r?.connection)return;const G=t?.attributes?.kwh_sensor;if(!G)return;(async()=>{try{const K=new Date,ee=new Date(K.setHours(0,0,0,0)),ce=new Date(ee.getTime()+36e5),le=(await r.connection.sendMessagePromise({type:"recorder/statistics_during_period",start_time:ee.toISOString(),end_time:ce.toISOString(),statistic_ids:[G],period:"hour",types:["state","sum"]}))[G];if(le&&le.length>0){const Se=le[0],Te=Se?.state??Se?.sum??0;se(Te),console.log("üåÖ Midnight Statistics:",{state:Se?.state,sum:Se?.sum,used:Te,timestamp:Se?.start})}}catch(K){console.error("Failed to get midnight value:",K)}})()},[t?.domain,t?.attributes?.kwh_sensor,r?.connection]),O(()=>{if(t?.domain!=="energy_dashboard_device"||!r?.states)return;const G=t?.attributes?._display_primary||t?.attributes?.grid_import_sensor;if(G){const K=r.states[G];if(K&&K.state!=="unavailable"&&K.state!=="unknown"){const ee=parseFloat(K.state);isNaN(ee)||(k(ee),P(K.attributes?.unit_of_measurement||"W"))}}const ne=t?.attributes?._display_secondary||t?.attributes?.kwh_sensor;if(ne){const K=r.states[ne];if(K&&K.state!=="unavailable"&&K.state!=="unknown"){const ee=parseFloat(K.state);isNaN(ee)||U(ee)}}},[r?.states,t?.domain,t?.attributes?.grid_import_sensor,t?.attributes?.kwh_sensor,t?.attributes?._display_primary,t?.attributes?._display_secondary]);const B=Le(()=>{if(t?.domain==="lock"&&E){const ne={...t,state:E,entity:t.entity?{...t.entity,state:E}:void 0};return en(ne,n)}const G=en(t,n);if(_!==null&&G.showPower&&(G.powerState=_),t?.domain==="light"&&!_&&N!==null?G.value=0:t?.domain==="light"&&_&&N!==null&&(G.value=N),t?.domain==="energy_dashboard_device"){A!==null&&(G.value=A,G.unit=$||"W");const ne=t?.attributes?._display_primary_type;if(ne==="nettonutzung"&&q!==null&&Y!==null){const K=q-Y,ee=t?.attributes?._display_secondary||t?.attributes?.kwh_sensor,ie=(r?.states?.[ee]?.attributes?.unit_of_measurement||"Wh")==="Wh"?K/1e3:K,le=n==="de"?"Heute":"Today";G.subValue=`${le}: ${ie.toFixed(2)} kWh`}if(ne==="solarerzeugung"){const K=t?.attributes?._display_secondary||t?.attributes?.pv_daily_sensor;if(K){const ee=r?.states?.[K];if(ee&&ee.state!=="unavailable"&&ee.state!=="unknown"){const ce=parseFloat(ee.state);if(!isNaN(ce)){const le=(ee.attributes?.unit_of_measurement||"kWh")==="Wh"?(ce/1e3).toFixed(2):ce.toFixed(2),Se=n==="de"?"Heute":"Today";G.subValue=`${Se}: ${le} kWh`}}}}if(ne==="verbrauch"){const K=t?.attributes?._display_secondary||t?.attributes?.grid_return_sensor;if(K){const ee=r?.states?.[K];if(ee&&ee.state!=="unavailable"&&ee.state!=="unknown"){const ce=parseFloat(ee.state);if(!isNaN(ce)){const ie=ee.attributes?.unit_of_measurement||"W",le=n==="de"?"Einspeisung":"Grid Return";G.subValue=`${le}: ${ce.toFixed(1)} ${ie}`}}}}if(ne==="batterie"){const K=t?.attributes?._display_secondary||t?.attributes?.battery_charged_sensor;if(K){const ee=r?.states?.[K];if(ee&&ee.state!=="unavailable"&&ee.state!=="unknown"){const ce=parseFloat(ee.state);if(!isNaN(ce)){const le=(ee.attributes?.unit_of_measurement||"kWh")==="Wh"?(ce/1e3).toFixed(2):ce.toFixed(2),Se=n==="de"?"Geladen":"Charged";G.subValue=`${Se}: ${le} kWh`}}}}}return G},[t,n,_,N,E,A,$,q,Y,r?.states]),V=(G,ne={})=>{const K=t?.domain||"light",ce={entity_id:t?.entity_id||t?.id,...ne},ie=xi(K,G,ce);if(K==="light"&&G==="turn_on"&&Object.keys(ne).length===0&&(ie.brightness=255),K==="lock"){const le=G==="lock"?"locked":"unlocked";t.state!==void 0&&(t.state=le),t.entity?.state!==void 0&&(t.entity.state=le),H(le)}i&&i(K,G,ie)},j=G=>{Go(t?.domain,t,G,T,R,V)},oe=G=>{R(G),jo(t?.domain,t,G,N,V)},Ne=G=>{u===G?(d(null),M(!1),f(!1)):(d(G),M(!0),f(!0))},pe=t?.entity_id?.includes("solar")?[{value:5.2,min:0,max:10,unit:"kW",label:g("production"),color:"#FFC107"},{value:2.8,min:0,max:10,unit:"kW",label:g("consumption"),color:"#4CAF50"},{value:85,min:0,max:100,unit:"%",label:g("battery"),color:"#2196F3"}]:null;return t?.domain==="energy_dashboard_device"?e("div",{className:`controls-tab ${b?"visible":""} ${m?"compact-mode":""}`,onMouseEnter:()=>z(!0),onMouseLeave:()=>z(!1),style:{position:"relative"},children:[e(xe,{mode:"wait",children:!x&&e(S.div,{ref:I,className:"slider-wrapper",variants:m?Ui:ji,initial:"visible",animate:"visible",exit:"hidden",children:Ii(nn,{...B,onValueChange:B.interactive?j:void 0,onPowerToggle:B.showPower?oe:void 0,domain:t?.domain,key:t?.entity_id})},"slider-wrapper")}),C.primary&&C.primary.length>0&&e(S.div,{ref:X,className:"device-control-buttons energy-dashboard-buttons",variants:Gi,initial:"normal",animate:L?"movedUp":"normal",children:e("div",{className:"control-row primary",children:C.primary.map((G,ne)=>e(sn,{control:G,index:ne,expandedControl:u,onToggleExpandable:Ne,onServiceCall:V},ne))})}),e("div",{className:"energy-expandable-container",ref:D,children:C.expandable&&C.expandable.length>0&&C.expandable.map(G=>e(an,{group:G,expandedControl:u,activePreset:h,onPresetSelect:v,onServiceCall:V,item:t,lang:n,hass:r},G.id))}),e(_e,{scrollContainerRef:D,isHovered:F})]}):e("div",{className:`controls-tab ${b?"visible":""} ${m?"compact-mode":""}`,children:e("div",{className:"device-control-design",children:[e(xe,{mode:"wait",children:!x&&e(S.div,{ref:I,className:"slider-wrapper",variants:m?Ui:ji,initial:"visible",animate:"visible",exit:"hidden",children:pe?e(Oo,{data:pe,lang:n}):e(xe,{mode:"wait",initial:!1,children:e(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.4,ease:[.4,0,.2,1]},style:{width:"100%",height:"100%"},children:Ii(nn,{...B,onValueChange:B.interactive?j:void 0,onPowerToggle:B.showPower?oe:void 0,domain:t?.domain,key:t?.entity_id})},s!==void 0?s:t?.entity_id)})},"slider-wrapper")}),C.primary&&C.primary.length>0&&e(S.div,{ref:X,className:"device-control-buttons",variants:Gi,initial:"normal",animate:L?"movedUp":"normal",children:[e("div",{className:"control-row primary",children:C.primary.map((G,ne)=>e(sn,{control:G,index:ne,expandedControl:u,onToggleExpandable:Ne,onServiceCall:V},ne))}),C.expandable&&C.expandable.length>0&&C.expandable.map(G=>e(an,{group:G,expandedControl:u,activePreset:h,onPresetSelect:v,onServiceCall:V,item:t,lang:n,hass:r},G.id))]})]})})},Tt={yellow:"rgb(255, 214, 0)"};function da({data:t,height:i="200px"}){const n=Q(null),r=Q(null);return O(()=>{if(!n.current||!t||t.length===0){console.log("üìä UsageTimelineChart: Canvas or data not ready");return}console.log("üìä UsageTimelineChart: Creating chart with",t.length,"points"),r.current&&r.current.destroy();try{const s=n.current.getContext("2d");r.current=new ci(s,{type:"line",data:{labels:t.map(o=>o.time),datasets:[{label:"Usage",data:t.map(o=>o.usage),borderColor:Tt.yellow,backgroundColor:"transparent",borderWidth:3,tension:.4,pointRadius:2,pointBackgroundColor:Tt.yellow,pointBorderColor:Tt.yellow,pointHoverRadius:6,pointHoverBackgroundColor:Tt.yellow}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",padding:12,displayColors:!1}},scales:{x:{display:!0,grid:{display:!1},ticks:{color:"rgba(255, 255, 255, 0.5)",maxRotation:0,autoSkipPadding:20}},y:{display:!0,grid:{color:"rgba(255, 255, 255, 0.05)",borderDash:[3,3]},ticks:{color:"rgba(255, 255, 255, 0.5)"}}}}}),console.log("‚úÖ UsageTimelineChart created successfully")}catch(s){console.error("‚ùå UsageTimelineChart error:",s)}return()=>{r.current&&r.current.destroy()}},[t]),e("div",{style:{width:"100%",height:i,position:"relative"},children:e("canvas",{ref:n})})}const cn={collapsed:{height:0,opacity:0,transition:{height:{duration:.4,ease:[.16,1,.3,1]},opacity:{duration:.3,ease:"easeOut"}}},expanded:{height:"auto",opacity:1,transition:{height:{duration:.4,ease:[.16,1,.3,1]},opacity:{duration:.3,delay:.1,ease:"easeIn"}}}},dn={collapsed:{rotate:0,transition:{duration:.3,ease:[.34,1.56,.64,1]}},expanded:{rotate:45,transition:{duration:.3,ease:[.34,1.56,.64,1]}}},un={idle:{backgroundColor:"rgba(255, 255, 255, 0)",transition:{duration:.2}},hover:{backgroundColor:"rgba(255, 255, 255, 0)",transition:{duration:.2}},tap:{scale:1,transition:{duration:.1}}},ua=(t,i)=>{const n=new Date(t);return _i(i)<=24?n.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}):n.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})},hn=t=>{if(t<60)return`${Math.round(t)} Min`;const i=Math.floor(t/60),n=Math.round(t%60);return n>0?`${i}h ${n}m`:`${i}h`},pn=({item:t,onDataRequest:i,lang:n="de"})=>{console.log("üéØ HistoryTab Component Rendered!",{item:t});const{hass:r}=Re(),s=!r,o=Q(r);O(()=>{o.current=r},[r]);const[l,a]=w(ea),[c,u]=w(!0),[d,h]=w(!1),[v,b]=w(!1),[y,m]=w(!1),[p,x]=w(null),[f,L]=w({x:0,width:0}),M=Q(null),_=Object.values(bt).map(N=>N.key);if(O(()=>{const N=()=>{if(M.current){const T=_.indexOf(l),E=M.current.querySelectorAll(".time-range-button");if(E[T]){const H=E[T],I=M.current.getBoundingClientRect(),X=H.getBoundingClientRect(),D=X.left-I.left,F=X.width;L({x:Math.round(D),width:Math.round(F)})}}};return setTimeout(N,50),window.addEventListener("resize",N),()=>{window.removeEventListener("resize",N)}},[l,_]),O(()=>{const N=setTimeout(()=>b(!0),100);return()=>clearTimeout(N)},[]),O(()=>{if(console.log("üîç HistoryTab useEffect l√§uft!",{item:t,timeRange:l,hass:r,isDevelopment:s}),!t||!t.entity_id){console.warn("HistoryTab: No item or entity_id provided");return}(async()=>{m(!0);try{let T;if(s?(console.log("üé≠ Development-Modus: Generiere Mock-Daten f√ºr",t.entity_id),T=na(t,l)):(console.log("üì° Production-Modus: Lade echte HA-Daten f√ºr",t.entity_id),T=await ia(o.current,t.entity_id,l)),T&&T.length>0){const E=ra(T,t.entity_id,t.domain);console.log("‚úÖ History-Daten geladen:",{events:E.events.length,stats:E.stats,patterns:E.patterns.length,chartPoints:E.chartData.length}),console.log("üìä Chart-Daten:",{chartData:E.chartData,dataLength:E.chartData.length,firstPoint:E.chartData[0],lastPoint:E.chartData[E.chartData.length-1]}),console.log("üìä CHART DEBUG:",{chartDataExists:!!E.chartData,chartLength:E.chartData?.length,firstPoint:E.chartData?.[0],lastPoint:E.chartData?.[E.chartData.length-1],allPoints:E.chartData}),x(E)}else console.warn("‚ö†Ô∏è Keine History-Daten gefunden"),x(null)}catch(T){console.error("‚ùå Fehler beim Laden der History:",T),x(null)}finally{m(!1)}})()},[t?.entity_id,l,s]),!t)return e("div",{className:"history-tab-container",children:e("div",{className:"no-data-message",children:[e("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e("path",{d:"M3 12h18m-9-9v18"})}),e("p",{children:n==="de"?"Kein Ger√§t ausgew√§hlt":"No device selected"})]})});const R=p?.stats||{totalChanges:0,avgDuration:0,onPercentage:0};return e("div",{className:`history-tab ${v?"visible":""}`,children:[e("div",{ref:M,className:"time-range-selector",children:[e(S.div,{className:"time-range-slider",animate:{x:f.x,width:f.width,scaleX:[1,1.12,.96,1.03,1],scaleY:[1,.94,1.06,.99,1]},transition:{x:{type:"spring",stiffness:280,damping:22,mass:1.5},width:{type:"spring",stiffness:280,damping:22,mass:1.5},scaleX:{duration:.6,times:[0,.2,.5,.8,1],ease:[.34,1.56,.64,1]},scaleY:{duration:.6,times:[0,.2,.5,.8,1],ease:[.34,1.56,.64,1]}}}),Object.values(bt).map(N=>{const T=l===N.key;return e(S.button,{className:`time-range-button ${T?"active":""}`,onClick:()=>a(N.key),whileHover:T?{}:{scale:1.04},whileTap:T?{}:{scale:.96},transition:{duration:.2},children:N.label},N.key)})]}),e("div",{className:"accordion-section",children:[e(S.div,{className:"accordion-header",onClick:()=>u(!c),variants:un,initial:"idle",whileHover:"hover",whileTap:"tap",children:[e("div",{className:"accordion-title",children:[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e("path",{d:"M3 12h18M3 6h18M3 18h18M7 12v6M12 6v12M17 8v8"})}),e("span",{children:n==="de"?"Nutzungsdiagramme":"Usage Charts"})]}),e(S.svg,{className:"accordion-icon",width:"24",height:"24",strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",variants:dn,animate:c?"expanded":"collapsed",children:e("path",{d:"M6 12H12M18 12H12M12 12V6M12 12V18",strokeLinecap:"round",strokeLinejoin:"round"})})]}),e(xe,{initial:!1,children:c&&e(S.div,{className:"accordion-content",variants:cn,initial:"collapsed",animate:"expanded",exit:"collapsed",children:y?e("div",{className:"loading-container",children:e("div",{className:"loading-spinner"})}):p?e(fe,{children:e("div",{className:"chart-wrapper",children:e("div",{className:"chart-container",children:e(da,{data:p.chartData,height:"220px"},`usage-${l}`)})})}):e("div",{className:"no-data-message",children:[e("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e("path",{d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("p",{children:n==="de"?"Keine Daten verf√ºgbar":"No data available"})]})})})]}),e("div",{className:"accordion-section",children:[e(S.div,{className:"accordion-header",onClick:()=>h(!d),variants:un,initial:"idle",whileHover:"hover",whileTap:"tap",children:[e("div",{className:"accordion-title",children:[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("span",{children:[n==="de"?"Letzte Ereignisse":"Recent Events"," (",p?.events?.length||0,")"]})]}),e(S.svg,{className:"accordion-icon",width:"24",height:"24",strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",variants:dn,animate:d?"expanded":"collapsed",children:e("path",{d:"M6 12H12M18 12H12M12 12V6M12 12V18",strokeLinecap:"round",strokeLinejoin:"round"})})]}),e(xe,{initial:!1,children:d&&e(S.div,{className:"accordion-content",variants:cn,initial:"collapsed",animate:"expanded",exit:"collapsed",children:e("div",{className:"text-events-list",children:p?.events&&p.events.length>0?p.events.map((N,T)=>e(S.div,{className:"event-item",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:T*.03},whileHover:{scale:1.02,backgroundColor:"rgba(0, 0, 0, 0.4)"},children:[e("span",{className:"event-time",children:ua(N.timestamp,l)}),e("span",{className:"event-description",children:N.description}),e("span",{className:`event-value ${N.newState==="on"?"event-state-on":"event-state-off"}`,children:[N.newState==="on"?n==="de"?"‚óè AN":"‚óè ON":n==="de"?"‚óã AUS":"‚óã OFF",N.duration&&e("span",{style:{marginLeft:"8px",fontSize:"12px",opacity:.7},children:["(",hn(N.duration),")"]})]})]},T)):e("div",{className:"no-data-message",style:{height:"200px"},children:e("p",{children:n==="de"?"Keine Ereignisse aufgezeichnet":"No events recorded"})})})})})]}),e("div",{className:"stats-grid",children:[e("div",{className:"stat-card",children:[e("span",{className:"stat-label",children:n==="de"?"√Ñnderungen":"Changes"}),e("span",{className:"stat-value",children:[R.totalChanges,e("span",{className:"stat-unit",children:"x"})]})]}),e("div",{className:"stat-card",children:[e("span",{className:"stat-label",children:n==="de"?"√ò Dauer":"Avg Duration"}),e("span",{className:"stat-value",children:hn(R.avgDuration)})]}),e("div",{className:"stat-card",children:[e("span",{className:"stat-label",children:n==="de"?"Aktiv":"Active Time"}),e("span",{className:"stat-value",children:[Math.round(R.onPercentage),e("span",{className:"stat-unit",children:"%"})]})]})]})]})},ha=({item:t,lang:i="de",onSettingsChange:n,initialSettings:r={}})=>{const[s,o]=w(r.temperature||null),[l,a]=w(r.hvac_mode||null),[c,u]=w(r.fan_mode||null),[d,h]=w(r.swing_mode||null),[v,b]=w(r.preset_mode||"none"),[y,m]=w(!1),x=(t?.entity||t)?.attributes||{},f={temperature:Q(null),hvacMode:Q(null),fanMode:Q(null),swingMode:Q(null),presetMode:Q(null)},L=Q({}),M=Q(null);O(()=>{const k=setTimeout(()=>m(!0),50);return()=>clearTimeout(k)},[]),O(()=>()=>{M.current&&(M.current.querySelectorAll("div.climate-picker").forEach($=>{$.style.display="none",$.style.height="0px",$.style.opacity="0"}),console.log("üßπ Climate Picker beim Unmount geschlossen"))},[]),O(()=>{console.log("üìù ClimateScheduleSettings: initialSettings updated",r),r&&Object.keys(r).length>0?(r.temperature!==void 0&&o(r.temperature),r.hvac_mode!==void 0&&a(r.hvac_mode),r.fan_mode!==void 0&&u(r.fan_mode),r.swing_mode!==void 0&&h(r.swing_mode),r.preset_mode!==void 0&&b(r.preset_mode)):(o(null),a(null),u(null),h(null),b("none"))},[r]);const _=x.hvac_modes||["heat","cool","off"],R=x.fan_modes||null,N=x.swing_modes||null,T=x.preset_modes||null,E=x.min_temp||16,H=x.max_temp||30,I=x.temperature_unit||"¬∞C",X=k=>({off:W("climate.off",i),heat:W("climate.heat",i),cool:W("climate.cool",i),auto:W("climate.auto",i),dry:W("climate.dry",i),fan_only:W("climate.fanOnly",i),heat_cool:W("climate.heatCool",i)})[k]||k,D=k=>({auto:W("climate.auto",i),low:W("climate.low",i),medium:W("climate.medium",i),high:W("climate.high",i),quiet:W("climate.quiet",i),turbo:W("climate.turbo",i)})[k]||k,F=k=>({off:W("climate.off",i),vertical:W("climate.vertical",i),horizontal:W("climate.horizontal",i),both:W("climate.both",i)})[k]||k,z=k=>({none:W("climate.none",i),away:W("climate.away",i),home:W("climate.home",i),eco:W("climate.eco",i),boost:W("climate.boost",i),comfort:W("climate.comfort",i),sleep:W("climate.sleep",i)})[k]||k,g=()=>{const k=[];for(let $=E;$<=H;$++)k.push(`${$}${I}`);return k};O(()=>{setTimeout(()=>{if(f.temperature.current&&!L.current.temperature){const k=g(),$=Math.max(0,s-E);new Me(f.temperature.current,{data:k,lineHeight:30,selected:$,callback:(P,q)=>{const U=parseInt(q);o(U),n&&n({temperature:U})}}),L.current.temperature=!0}if(f.hvacMode.current&&!L.current.hvacMode){const k=_.map(X),$=_.indexOf(l);new Me(f.hvacMode.current,{data:k,lineHeight:30,selected:Math.max(0,$),callback:(P,q)=>{const U=_[P];a(U),n&&n({hvac_mode:U})}}),L.current.hvacMode=!0}if(R&&f.fanMode.current&&!L.current.fanMode){const k=R.map(D),$=R.indexOf(c);new Me(f.fanMode.current,{data:k,lineHeight:30,selected:Math.max(0,$),callback:(P,q)=>{const U=R[P];u(U),n&&n({fan_mode:U})}}),L.current.fanMode=!0}if(N&&f.swingMode.current&&!L.current.swingMode){const k=N.map(F),$=N.indexOf(d);new Me(f.swingMode.current,{data:k,lineHeight:30,selected:Math.max(0,$),callback:(P,q)=>{const U=N[P];h(U),n&&n({swing_mode:U})}}),L.current.swingMode=!0}if(T&&f.presetMode.current&&!L.current.presetMode){const k=T.map(z),$=T.indexOf(v);new Me(f.presetMode.current,{data:k,lineHeight:30,selected:Math.max(0,$),callback:(P,q)=>{const U=T[P];b(U),n&&n({preset_mode:U})}}),L.current.presetMode=!0}},100)},[i]);const C=k=>{if(!M.current){console.error("‚ùå containerRef nicht verf√ºgbar");return}const $=M.current.querySelector(`#climate-picker-container-line-${k}`);if(!$){console.error("‚ùå Climate Picker nicht gefunden:",k);return}const P=getComputedStyle($).display==="none";console.log("üéØ Climate Picker Toggle:",k,P?"√ñFFNEN":"SCHLIESSEN"),M.current.querySelectorAll("div.climate-picker").forEach(U=>{getComputedStyle(U).display!=="none"&&U!==$&&(console.log("üîí Schlie√üe anderen Climate Picker"),A(U,!1))}),A($,P)},A=(k,$)=>{$?(k.style.display="block",k.animate([{height:"0px",opacity:0,transform:"translateY(-3px)"},{height:"210px",opacity:1,transform:"translateY(0px)"}],{duration:150,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fill:"forwards"}).onfinish=()=>{k.style.height="210px",k.style.opacity="1"}):k.animate([{height:"210px",opacity:1,transform:"translateY(0px)"},{height:"0px",opacity:0,transform:"translateY(-3px)"}],{duration:120,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fill:"forwards"}).onfinish=()=>{k.style.display="none",k.style.height="0px",k.style.opacity="0"}};return O(()=>{if(!M.current)return;let k=0;const $=10,P=()=>{const U=M.current?.querySelectorAll(".climate-settings-table .clickable-row");U&&U.length>0?(console.log("‚úÖ Climate rows gefunden, registriere Listener:",U.length),U.forEach(Y=>{const se=Y.getAttribute("data-line");if(se){Y._clickHandler&&Y.removeEventListener("click",Y._clickHandler);const B=()=>{console.log(`üéØ Row ${se} geklickt`),C(se)};Y.addEventListener("click",B),Y._clickHandler=B}})):(k++,k<$?(console.log(`‚è≥ Versuch ${k}/${$}: Rows noch nicht da, warte...`),setTimeout(P,200)):console.error("‚ùå Climate rows nicht gefunden nach 10 Versuchen!"))},q=setTimeout(P,100);return()=>{clearTimeout(q),M.current&&M.current.querySelectorAll(".climate-settings-table .clickable-row").forEach(Y=>{Y._clickHandler&&(Y.removeEventListener("click",Y._clickHandler),delete Y._clickHandler,console.log("üßπ Event-Listener entfernt von Row:",Y.getAttribute("data-line")))})}},[y]),e("div",{ref:M,className:`climate-schedule-settings ${y?"visible":""}`,children:[e("style",{children:`
        .climate-schedule-settings {
          opacity: 0;
          transform: translateY(10px);
          transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
          position: relative;
          z-index: 10;
        }

        .climate-schedule-settings.visible {
          opacity: 1;
          transform: translateY(0);
        }

        /* Reuse existing picker styles from ScheduleTab */
        .climate-settings-table {
          margin-top: 0;
          margin-bottom: 0;
          background: transparent;
          border-radius: 0;
          overflow: visible;
          position: relative;
          z-index: 10;
        }

        .climate-settings-table table { 
          width: 100%; 
          font-size: 15px;
          border-collapse: collapse;
          font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
          letter-spacing: normal;
        }
        
        .climate-settings-table table th { 
          text-align: left; 
          font-weight: 500;
          height: 45px; 
          border-bottom: 1px solid rgba(255, 255, 255, 0.1); 
          padding: 0 16px; 
          cursor: pointer; 
          color: rgba(255, 255, 255, 0.95);
          letter-spacing: normal;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }
        
        .climate-settings-table table td { 
          text-align: right; 
          font-weight: 500;
          color: rgba(255, 255, 255, 0.7);
          border-bottom: 1px solid rgba(255, 255, 255, 0.1); 
          padding: 0 16px; 
          cursor: pointer;
          letter-spacing: normal;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }

        /* Last row without border */
        .climate-settings-table tr[data-line]:last-of-type th,
        .climate-settings-table tr[data-line]:last-of-type td {
          border-bottom: none !important;
        }

        .climate-settings-table table td.picker { 
          border: none; 
          cursor: default; 
          padding: 0; 
        }

        div.climate-picker { 
          display: none; 
          overflow: hidden; 
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Last picker without border */
        .climate-settings-table tr:last-child td.picker div.climate-picker {
          border-bottom: none !important;
        }

        .clickable-row { 
          cursor: pointer;
          position: relative;
          z-index: 10;
        }

        .picker-wrapper, .picker-wrapper * { 
          box-sizing: border-box; 
          -webkit-user-select: none; 
          user-select: none; 
          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
        }

        .picker-wrapper { 
          text-align: center; 
          position: relative; 
          height: 210px; 
          display: inline-block; 
          line-height: 30px; 
          width: 100%; 
          font-size: 18px; 
          perspective: 1000px; 
          perspective-origin: center center; 
        }

        .picker-scroller { 
          transform: translateZ(-90px) rotateX(0deg); 
          transform-style: preserve-3d; 
          height: 100%; 
          will-change: transform; 
        }

        .picker-scroller .option { 
          position: absolute; 
          backface-visibility: hidden; 
          width: 100%; 
          color: rgba(255, 255, 255, 0.4); 
          transform-origin: 50% 50%; 
          transform-style: preserve-3d; 
          opacity: 1; 
          transition: opacity 0.2s, color 0.2s; 
          pointer-events: auto; 
        }

        .picker-scroller .option.is-hidden { 
          opacity: 0; 
          pointer-events: none; 
        }

        .picker-scroller .option.is-center { 
          color: rgba(255, 255, 255, 0.9); 
        }

        .picker-up { 
          position: absolute; 
          top: 0; 
          z-index: 2; 
          background: linear-gradient(to bottom, rgba(0, 0, 0, 0.25) 0%, rgba(0, 0, 0, 0) 100%); 
          width: 100%; 
          height: 90px; 
          border-bottom: 1px solid rgba(255, 255, 255, 0.3); 
          pointer-events: none; 
        }

        .picker-down { 
          position: absolute; 
          top: 120px; 
          z-index: 2; 
          background: linear-gradient(to top, rgba(0, 0, 0, 0.25) 0%, rgba(0, 0, 0, 0) 100%); 
          width: 100%; 
          height: 90px; 
          border-top: 1px solid rgba(255, 255, 255, 0.3); 
          pointer-events: none; 
        }

        .clone-scroller { 
          z-index: 5; 
          overflow: auto; 
          height: 100%; 
          position: absolute; 
          top: 0; 
          width: 100%; 
          padding-top: 90px; 
          padding-bottom: 90px; 
          scrollbar-width: none; 
          -ms-overflow-style: none; 
        }

        .clone-scroller::-webkit-scrollbar { 
          display: none; 
        }

        .clone-scroller .option { 
          visibility: hidden; 
        }
      `}),e("div",{className:"climate-settings-table",children:e("table",{children:e("tbody",{children:[e("tr",{className:"clickable-row","data-line":"1",children:[e("th",{children:W("climate.temperature",i)}),e("td",{className:"value-line-1",children:s!==null?`${s}${I}`:W("common.pleaseSelect",i)})]}),e("tr",{children:e("td",{className:"picker",colspan:"2",children:e("div",{className:"climate-picker",id:"climate-picker-container-line-1",children:e("div",{id:"climate-picker-line-1",ref:f.temperature})})})}),e("tr",{className:"clickable-row","data-line":"2",children:[e("th",{children:W("climate.hvacMode",i)}),e("td",{className:"value-line-2",children:l!==null?X(l):W("common.pleaseSelect",i)})]}),e("tr",{children:e("td",{className:"picker",colspan:"2",children:e("div",{className:"climate-picker",id:"climate-picker-container-line-2",children:e("div",{id:"climate-picker-line-2",ref:f.hvacMode})})})}),R&&e(fe,{children:[e("tr",{className:"clickable-row","data-line":"3",children:[e("th",{children:W("climate.fanMode",i)}),e("td",{className:"value-line-3",children:c!==null?D(c):W("common.pleaseSelect",i)})]}),e("tr",{children:e("td",{className:"picker",colspan:"2",children:e("div",{className:"climate-picker",id:"climate-picker-container-line-3",children:e("div",{id:"climate-picker-line-3",ref:f.fanMode})})})})]}),N&&e(fe,{children:[e("tr",{className:"clickable-row","data-line":"4",children:[e("th",{children:W("climate.swingMode",i)}),e("td",{className:"value-line-4",children:d!==null?F(d):W("common.pleaseSelect",i)})]}),e("tr",{children:e("td",{className:"picker",colspan:"2",children:e("div",{className:"climate-picker",id:"climate-picker-container-line-4",children:e("div",{id:"climate-picker-line-4",ref:f.swingMode})})})})]}),T&&e(fe,{children:[e("tr",{className:"clickable-row","data-line":"5",children:[e("th",{children:W("climate.presetMode",i)}),e("td",{className:"value-line-5",children:z(v)})]}),e("tr",{children:e("td",{className:"picker",colspan:"2",children:e("div",{className:"climate-picker",id:"climate-picker-container-line-5",children:e("div",{id:"climate-picker-line-5",ref:f.presetMode})})})})]})]})})})]})},pa=({activeTab:t,onTabChange:i,showPicker:n=!1,t:r})=>{const[s,o]=w({x:0,width:0}),l=Q(null);return O(()=>{const a=()=>{if(l.current){const u=["all","timer","schedule"].indexOf(t),d=l.current.querySelectorAll(".filter-tab");if(d[u]){const h=d[u],v=l.current.getBoundingClientRect(),b=h.getBoundingClientRect(),y=b.left-v.left,m=b.width;o({x:Math.round(y),width:Math.round(m)})}}};return setTimeout(a,50),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[t]),e("div",{ref:l,className:`scheduler-filter ${n?"hidden":""}`,children:[e(S.div,{className:"scheduler-filter-slider",animate:{x:s.x,width:s.width,scaleX:[1,1.12,.96,1.03,1],scaleY:[1,.94,1.06,.99,1]},transition:{x:{type:"spring",stiffness:280,damping:22,mass:1.5},width:{type:"spring",stiffness:280,damping:22,mass:1.5},scaleX:{duration:.6,times:[0,.2,.5,.8,1],ease:[.34,1.56,.64,1]},scaleY:{duration:.6,times:[0,.2,.5,.8,1],ease:[.34,1.56,.64,1]}}}),["all","timer","schedule"].map(a=>{const c=t===a;return e(S.button,{className:`filter-tab ${c?"active":""}`,onClick:()=>i(a),whileHover:c?{}:{scale:1.04},whileTap:c?{}:{scale:.96},transition:{duration:.2},children:r(a==="all"?"all":a==="timer"?"timer":"schedules")},a)})]})},ma=({item:t,index:i,onItemClick:n,onDelete:r,t:s})=>{const o=c=>c?.type==="timer"||c==="timer"?e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e("path",{d:"M12 12C15.866 12 19 8.86599 19 5H5C5 8.86599 8.13401 12 12 12ZM12 12C15.866 12 19 15.134 19 19H5C5 15.134 8.13401 12 12 12Z",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M5 2L12 2L19 2",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M5 22H12L19 22",strokeLinecap:"round",strokeLinejoin:"round"})]}):e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e("path",{d:"M9 2L15 2",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 10L12 14",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 22C16.4183 22 20 18.4183 20 14C20 9.58172 16.4183 6 12 6C7.58172 6 4 9.58172 4 14C4 18.4183 7.58172 22 12 22Z",strokeLinecap:"round",strokeLinejoin:"round"})]}),l=c=>{if(c.type==="timer")return`${s("atTime")} ${c.time} - ${s("remaining")} ${c.remaining} ${s("minutes")}`;if(c.days){const d=Array.isArray(c.days)?c.days.join(", "):c.days;return`${s("atTime")} ${c.time} - ${d}`}return`${s("atTime")} ${c.time}`},a=c=>{c.stopPropagation(),r(t)};return e(S.div,{className:"scheduler-item",onClick:()=>n(t),whileHover:{scale:1.02},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:i*.05},children:[e("div",{className:"item-icon",children:o(t)}),e("div",{className:"item-content",children:[e("div",{className:"item-name",children:[e("span",{children:t.action}),e("span",{className:`item-type ${t.type}`,children:t.type==="timer"?s("timer"):s("scheduleMode")})]}),e("div",{className:"item-time",children:l(t)})]}),e("div",{className:"item-actions",children:e("button",{className:"item-delete",onClick:a,children:e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"1.5",fill:"none",children:[e("path",{d:"M20 9L18.005 20.3463C17.8369 21.3026 17.0062 22 16.0353 22H7.96474C6.99379 22 6.1631 21.3026 5.99496 20.3463L4 9",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M21 6L15.375 6M3 6L8.625 6M8.625 6V4C8.625 2.89543 9.52043 2 10.625 2H13.375C14.4796 2 15.375 2.89543 15.375 4V6M8.625 6L15.375 6",strokeLinecap:"round",strokeLinejoin:"round"})]})})})]},t.id)},ga=({items:t,isLoading:i,activeTab:n,showPicker:r,onItemClick:s,onDelete:o,t:l})=>e("div",{className:`scheduler-items ${r?"hidden":""}`,children:i?e("div",{className:"scheduler-loading",children:e("div",{className:"loading-text",children:"Lade Scheduler..."})}):t.length===0?e("div",{className:"empty-state",children:[e("div",{className:"empty-icon",children:n==="timer"?"‚è±Ô∏è":n==="schedule"?"üìÖ":"‚è∞"}),e("div",{children:l(n==="timer"?"noTimers":n==="schedule"?"noSchedules":"noEntries")})]}):t.map((a,c)=>e(ma,{item:a,index:c,onItemClick:s,onDelete:o,t:l},a.id))}),fa=({onClick:t,t:i})=>e("div",{className:"add-button-container",children:e(S.button,{className:"control-button",onClick:t,whileHover:{scale:1.04},whileTap:{scale:.96},transition:{duration:.2},children:[e("div",{className:"button-icon",children:e("svg",{width:"24",height:"24",strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",children:e("path",{d:"M6 12H12M18 12H12M12 12V6M12 12V18",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),e("span",{className:"button-text",children:i("add")})]})}),va=({showPicker:t,schedulerValue:i,daysValue:n,editingItem:r,onCancel:s,onConfirm:o,t:l})=>{if(!t)return null;const a=i===l("timerMode")&&n===l("noDays"),c=!a&&n===l("noDays");return e("div",{className:"picker-actions",children:[e("button",{className:"picker-btn cancel",onClick:s,children:l("cancel")}),e("button",{className:`picker-btn confirm ${c?"disabled":""}`,onClick:async()=>{if(!c)try{await o(a,r)}catch(u){console.error("‚ùå Fehler:",u),alert(r?`Fehler beim Aktualisieren: ${u.message}`:`Fehler beim Erstellen: ${u.message}`)}},children:l(r?"save":"confirm")})]})},ya=({showPicker:t,editingItem:i,actionValue:n,showCoverSettings:r,coverPosition:s,schedulerValue:o,timeFormatValue:l,daysValue:a,repeatValue:c,timeValue:u,showClimateSettings:d,climateSettings:h,pickerKey:v,item:b,lang:y,pickerRefs:m,onRowClick:p,onClimateSettingsChange:x,t:f})=>t?e("div",{className:`picker-table-container ${i?"editing":""}`,children:e("table",{children:e("tbody",{children:[e("tr",{className:"clickable-row","data-line":"1",onClick:()=>p("1"),children:[e("th",{children:f("action")}),e("td",{className:"value-line-1",children:n})]}),e("tr",{children:e("td",{className:"picker",colspan:"2",children:e("div",{className:"picker",id:"picker-container-line-1",children:e("div",{id:"picker-line-1",ref:m.action})})})}),r&&e(fe,{children:[e("tr",{className:"clickable-row","data-line":"2",onClick:()=>p("2"),children:[e("th",{children:f("position")}),e("td",{className:"value-line-2",children:[s,"%"]})]}),e("tr",{children:e("td",{className:"picker",colspan:"2",children:e("div",{className:"picker",id:"picker-container-line-2",children:e("div",{id:"picker-line-2",ref:m.position})})})})]}),e("tr",{className:"clickable-row","data-line":"3",onClick:()=>p("3"),children:[e("th",{children:f("scheduler")}),e("td",{className:"value-line-3",children:o})]}),e("tr",{children:e("td",{className:"picker",colspan:"2",children:e("div",{className:"picker",id:"picker-container-line-3",children:e("div",{id:"picker-line-3",ref:m.scheduler})})})}),e("tr",{className:"clickable-row schedule-option","data-line":"4",style:{display:o===f("timerMode")?"none":"table-row"},onClick:()=>p("4"),children:[e("th",{children:f("timeFormat")}),e("td",{className:"value-line-4",children:l})]}),e("tr",{className:"schedule-option",style:{display:o===f("timerMode")?"none":"table-row"},children:e("td",{className:"picker",colspan:"2",children:e("div",{className:"picker",id:"picker-container-line-4",children:e("div",{id:"picker-line-4",ref:m.timeFormat})})})}),e("tr",{className:"clickable-row schedule-option","data-line":"5",style:{display:o===f("timerMode")?"none":"table-row"},onClick:()=>p("5"),children:[e("th",{children:f("days")}),e("td",{className:"value-line-5",children:a})]}),e("tr",{className:"schedule-option",style:{display:o===f("timerMode")?"none":"table-row"},children:e("td",{className:"picker",colspan:"2",children:e("div",{className:"picker",id:"picker-container-line-5",children:e("div",{id:"picker-line-5",ref:m.days})})})}),e("tr",{className:"clickable-row schedule-option","data-line":"6",style:{display:o===f("timerMode")?"none":"table-row"},onClick:()=>p("6"),children:[e("th",{children:f("repeat")}),e("td",{className:"value-line-6",children:c})]}),e("tr",{className:"schedule-option",style:{display:o===f("timerMode")?"none":"table-row"},children:e("td",{className:"picker",colspan:"2",children:e("div",{className:"picker",id:"picker-container-line-6",children:e("div",{id:"picker-line-6",ref:m.repeat})})})}),e("tr",{className:"clickable-row","data-line":"7",onClick:()=>p("7"),children:[e("th",{id:"time-label",children:o===f("timerMode")?f("timerMode"):f("scheduleMode")}),e("td",{className:"value-line-7",children:u})]}),e("tr",{children:e("td",{className:"picker",colspan:"2",children:e("div",{className:"picker",id:"picker-container-line-7",children:e("div",{className:"time-picker-container",children:[e("div",{id:"picker-line-6-hours",ref:m.hoursRef}),e("div",{className:"time-picker-separator",children:e("svg",{viewBox:"0 0 10 20",xmlns:"http://www.w3.org/2000/svg",children:[e("circle",{cx:"5",cy:"5",r:"2.5"}),e("circle",{cx:"5",cy:"15",r:"2.5"})]})}),e("div",{id:"picker-line-6-minutes",ref:m.minutesRef})]})})})}),d&&e("tr",{children:e("td",{colspan:"2",style:{padding:0,border:"none"},children:e(ha,{item:b,lang:y,initialSettings:h,onSettingsChange:x},v)})})]})})}):null,ba=t=>{const{hass:i}=Re(),n=!i,r=Q(i);O(()=>{r.current=i},[i]);const[s,o]=w([]),[l,a]=w([]),[c,u]=w(!0),[d,h]=w(0),v=be(async()=>{if(!t||!t.entity_id){console.warn("useScheduleData: No item or entity_id provided");return}u(!0);try{let m;if(n?(console.log("üé≠ Development-Modus: Generiere Mock-Schedules f√ºr",t.entity_id),m=xo(t)):(console.log("üì° Production-Modus: Lade echte HA-Schedules f√ºr",t.entity_id),m=await wo(r.current,t.entity_id)),m&&m.length>0){const p=So(m,t.entity_id,t.domain);console.log("‚úÖ Schedule-Daten geladen:",{schedules:p.activeSchedules.length,timers:p.activeTimers.length,stats:p.stats}),a(p.activeSchedules),o(p.activeTimers)}else console.warn("‚ö†Ô∏è Keine Schedules gefunden f√ºr",t.entity_id),a([]),o([]);u(!1)}catch(m){console.error("‚ùå Fehler beim Laden der Schedules:",m),a([]),o([]),u(!1)}},[t?.entity_id,n]);O(()=>{console.log("üîç useScheduleData: Loading data...",{item:t,hass:i,isDevelopment:n}),v()},[v,d]),O(()=>{if(s.length===0)return;const m=setInterval(()=>{console.log("üîÑ Auto-Update: Lade Timer neu"),v()},6e4);return()=>clearInterval(m)},[s.length,v]);const b=be(async m=>{if(m.type==="timer"?o(p=>p.filter(x=>x.id!==m.id)):a(p=>p.filter(x=>x.id!==m.id)),!n&&r.current)try{await _o(r.current,m.id),setTimeout(()=>v(),500)}catch(p){console.error("‚ùå Fehler beim L√∂schen:",p)}},[n,v]),y=be(()=>{h(m=>m+1)},[]);return{timers:s,schedules:l,isLoading:c,refresh:y,deleteItem:b,setTimers:o,setSchedules:a}},ka=(t,i)=>{switch(i.type){case"SET_ACTION":return{...t,actionValue:i.payload};case"SET_SCHEDULER":return{...t,schedulerValue:i.payload};case"SET_TIME_FORMAT":return{...t,timeFormatValue:i.payload};case"SET_DAYS":return{...t,daysValue:i.payload};case"SET_REPEAT":return{...t,repeatValue:i.payload};case"SET_TIME":return{...t,timeValue:i.payload};case"SET_EDITING_ITEM":return{...t,editingItem:i.payload};case"SET_CLIMATE_SETTINGS":return{...t,climateSettings:i.payload,showClimateSettings:Object.keys(i.payload).length>0};case"SET_COVER_POSITION":return{...t,coverPosition:i.payload};case"SET_SHOW_CLIMATE_SETTINGS":return{...t,showClimateSettings:i.payload};case"SET_SHOW_COVER_SETTINGS":return{...t,showCoverSettings:i.payload};case"INCREMENT_PICKER_KEY":return{...t,pickerKey:t.pickerKey+1};case"RESET_FORM":const n=i.payload?.isCover,r=i.payload?.isClimate,s=i.payload?.t;return{...t,actionValue:s(n?"open":"turnOn"),schedulerValue:s("timerMode"),timeFormatValue:s("format24h"),daysValue:s("noDays"),repeatValue:s("once"),timeValue:"00:00",editingItem:null,climateSettings:{},coverPosition:50,showClimateSettings:r,showCoverSettings:!1,pickerKey:t.pickerKey+1};case"LOAD_EDIT_DATA":return{...t,editingItem:i.payload.item,actionValue:i.payload.actionValue,schedulerValue:i.payload.schedulerValue,timeValue:i.payload.timeValue,daysValue:i.payload.daysValue,climateSettings:i.payload.climateSettings||{},showClimateSettings:i.payload.showClimateSettings||!1,coverPosition:i.payload.coverPosition||50,showCoverSettings:i.payload.showCoverSettings||!1};default:return t}},wa=(t="de",i)=>{const n=be(a=>W(`schedule.${a}`,t),[t]),r={actionValue:i?.domain==="cover"?n("open"):n("turnOn"),schedulerValue:n("timerMode"),timeFormatValue:n("format24h"),daysValue:n("noDays"),repeatValue:n("once"),timeValue:"00:00",editingItem:null,showClimateSettings:i?.domain==="climate",climateSettings:{},showCoverSettings:!1,coverPosition:50,pickerKey:0},[s,o]=Jr(ka,r),l={setAction:be(a=>{o({type:"SET_ACTION",payload:a})},[]),setScheduler:be(a=>{o({type:"SET_SCHEDULER",payload:a})},[]),setTimeFormat:be(a=>{o({type:"SET_TIME_FORMAT",payload:a})},[]),setDays:be(a=>{o({type:"SET_DAYS",payload:a})},[]),setRepeat:be(a=>{o({type:"SET_REPEAT",payload:a})},[]),setTime:be(a=>{o({type:"SET_TIME",payload:a})},[]),setEditingItem:be(a=>{o({type:"SET_EDITING_ITEM",payload:a})},[]),setClimateSettings:be(a=>{o({type:"SET_CLIMATE_SETTINGS",payload:a})},[]),setCoverPosition:be(a=>{o({type:"SET_COVER_POSITION",payload:a})},[]),setShowClimateSettings:be(a=>{o({type:"SET_SHOW_CLIMATE_SETTINGS",payload:a})},[]),setShowCoverSettings:be(a=>{o({type:"SET_SHOW_COVER_SETTINGS",payload:a})},[]),incrementPickerKey:be(()=>{o({type:"INCREMENT_PICKER_KEY"})},[]),resetForm:be(()=>{o({type:"RESET_FORM",payload:{isCover:i?.domain==="cover",isClimate:i?.domain==="climate",t:n}})},[i?.domain,n]),loadEditData:be(a=>{o({type:"LOAD_EDIT_DATA",payload:a})},[])};return{...s,...l}},mn=t=>{const[i,n]=t.split(":").map(h=>parseInt(h)),r=i*60+n,s=new Date,o=new Date(s.getTime()+r*6e4),l=o.getHours().toString().padStart(2,"0"),a=o.getMinutes().toString().padStart(2,"0"),c=`${l}:${a}`,d=["sun","mon","tue","wed","thu","fri","sat"][o.getDay()];return{timeString:c,weekday:d,debug:{now:`${s.getHours()}:${s.getMinutes()}`,countdown:`${i}h ${n}min`,target:c,weekday:d}}},gn=(t,i,n)=>t===i("noDays")?[]:t===i("daily")?["daily"]:t===i("weekdays")?["mon","tue","wed","thu","fri"]:t===i("weekend")?["sat","sun"]:t.split(", ").map(r=>({[i("monday")]:"mon",[i("tuesday")]:"tue",[i("wednesday")]:"wed",[i("thursday")]:"thu",[i("friday")]:"fri",[i("saturday")]:"sat",[i("sunday")]:"sun"})[r]||r.toLowerCase().slice(0,3)),Ca=(t,i,n,r,s)=>{if(!t.current)return null;let o,l;return n?(o=[r("open"),r("close"),r("setPosition")],l=i===r("open")?0:i===r("close")?1:i===r("setPosition")?2:0):(o=[r("turnOn"),r("turnOff")],l=i===r("turnOn")?0:1),new Me(t.current,{data:o,lineHeight:30,selected:l,callback:(a,c)=>s(c)})},xa=(t,i,n)=>{if(!t.current)return null;const r=["0%","10%","20%","30%","40%","50%","60%","70%","80%","90%","100%"],s=r.indexOf(`${i}%`);return new Me(t.current,{data:r,lineHeight:30,selected:s>=0?s:5,callback:(o,l)=>{const a=parseInt(l);n(a)}})},Sa=(t,i,n,r,s)=>{if(!t.current)return null;const o=i===n("timerMode")?0:1;return new Me(t.current,{data:[n("timerMode"),n("scheduleMode")],lineHeight:30,selected:o,callback:(l,a)=>{r(a),s(a===n("timerMode")?"Timer":"Schedule")}})},_a=(t,i,n,r)=>t.current?new Me(t.current,{data:[i("formatAM"),i("formatPM"),i("format24h")],lineHeight:30,selected:2,callback:(s,o)=>{if(n(o),r.current){const l=o===i("format24h")?"24h":o===i("formatAM")?"AM":"PM";r.current.setHourMode(l)}}}):null,Na=(t,i,n,r)=>{if(!t.current)return null;const s=new Ko(t.current,{data:i,lineHeight:30,selectedDays:[],callback:(o,l)=>{let a=n("noDays");o.length===7?a=n("daily"):o.length===5&&o.every(c=>i.slice(0,5).includes(c))?a=n("weekdays"):o.length===2&&o.every(c=>i.slice(5,7).includes(c))?a=n("weekend"):o.length>0&&(a=o.join(", ")),r(a)}});return s.updateButtonState=function(){const o=this.data[this.currentIndex];this.selectedDays.includes(o)?(this.selectButton.textContent=n("deselectDay"),this.selectButton.classList.add("deselect")):(this.selectButton.textContent=n("selectDay"),this.selectButton.classList.remove("deselect")),this.selectButton.classList.remove("is-hidden")},s},La=(t,i,n)=>t.current?new Me(t.current,{data:[i("regular"),i("once")],lineHeight:30,selected:1,callback:(r,s)=>n(s)}):null,Ma=(t,i,n,r)=>{if(!t.current||!i.current)return null;const[s,o]=n?n.split(":"):["00","00"];return new qo(t.current,i.current,{minuteStep:5,initialHour:s||"00",initialMinute:o||"00",lineHeight:30,hourMode:"24h",callback:(l,a,c)=>r(c)})},At=(t,i,n,r,s)=>{if(t?.domain==="climate"&&i===s("turnOn")&&Object.keys(n).length>0)return{service:"climate.set_temperature",entity_id:t.entity_id,service_data:n};if(t?.domain==="cover"){if(i===s("open"))return{service:"cover.open_cover",entity_id:t.entity_id};if(i===s("close"))return{service:"cover.close_cover",entity_id:t.entity_id};if(i===s("setPosition"))return{service:"cover.set_cover_position",entity_id:t.entity_id,service_data:{position:r}}}return{service:i===s("turnOn")?`${t.domain}.turn_on`:`${t.domain}.turn_off`,entity_id:t.entity_id}},Ea=(t,i,n,r,s,o)=>{i==="open_cover"?n(o("open")):i==="close_cover"?n(o("close")):i==="set_cover_position"&&(n(o("setPosition")),t.serviceData?.position!==void 0?(console.log("üîΩ Lade Cover-Position:",t.serviceData.position),r(t.serviceData.position)):r(50),s(!0))},Ta=(t,i,n,r,s,o)=>{n(o(i==="set_temperature"?"turnOn":"turnOff")),t.serviceData&&Object.keys(t.serviceData).length>0?(console.log("üå°Ô∏è Lade Climate-Settings:",t.serviceData),r(t.serviceData),s(!0)):(r({}),s(!1))},Aa=(t,i,n)=>{i(n(t==="turn_on"?"turnOn":"turnOff"))},Da=(t,i,n,r,s)=>{i(s("timerMode"));const o=Math.floor(t.remaining/60),l=t.remaining%60,a=`${o.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`;n(a),r(s("noDays"))},Fa=(t,i,n,r,s,o)=>{if(i(o("scheduleMode")),n(t.time),t.days)r(t.days);else if(t.daysRaw){const l=s();t.daysRaw.length===7?r(o("daily")):t.daysRaw.length===5&&t.daysRaw.every(a=>l.slice(0,5).includes(a))?r(o("weekdays")):t.daysRaw.length===2&&t.daysRaw.every(a=>l.slice(5,7).includes(a))?r(o("weekend")):t.daysRaw.length>0?r(t.daysRaw.join(", ")):r(o("noDays"))}else r(o("noDays"))},Ia=(t,i)=>({heat:W("ui.climate.heat",i),cool:W("ui.climate.cool",i),auto:W("ui.climate.auto",i),dry:W("ui.climate.dry",i),fan_only:W("ui.climate.fanOnly",i),off:W("ui.climate.off",i)})[t]||t,za=(t,i,n,r,s,o)=>{const l=t?.area||t?.name||t?.friendly_name||t?.attributes?.friendly_name||t?.entity_id?.split(".")[1]?.replace(/_/g," ")||"Ger√§t";if(t?.domain==="climate"&&Object.keys(n).length>0){const a=Ia(n.hvac_mode,s),c=n.temperature;return`${l} / ${a} / ${c}¬∞C`}else return t?.domain==="cover"&&i===o("setPosition")?`${l} / ${o("position")} ${r}%`:`${l} / ${i}`},Ba=({item:t,onTimerCreate:i,onScheduleCreate:n,lang:r="de"})=>{const{hass:s}=Re(),o=!s,{timers:l,schedules:a,isLoading:c,refresh:u,deleteItem:d}=ba(t),{actionValue:h,schedulerValue:v,timeFormatValue:b,daysValue:y,repeatValue:m,timeValue:p,editingItem:x,showClimateSettings:f,climateSettings:L,showCoverSettings:M,coverPosition:_,pickerKey:R,setAction:N,setScheduler:T,setTimeFormat:E,setDays:H,setRepeat:I,setTime:X,setEditingItem:D,setClimateSettings:F,setCoverPosition:z,setShowClimateSettings:g,setShowCoverSettings:C,resetForm:A}=wa(r,t);console.log("üö®üö®üö® SCHEDULETAB RENDERED üö®üö®üö®",{item:t,hass:s,isDevelopment:o});const k=Q(s);O(()=>{k.current=s},[s]);const[$,P]=w("all"),[q,U]=w(null),[Y,se]=w(!1),[B,V]=w(!1),j=ae=>W(`schedule.${ae}`,r),oe=()=>[j("monday"),j("tuesday"),j("wednesday"),j("thursday"),j("friday"),j("saturday"),j("sunday")];O(()=>{const ae=setTimeout(()=>V(!0),50);return()=>clearTimeout(ae)},[]),O(()=>{const ae=t?.domain==="climate",ue=h===j("turnOn");g(ae&&ue),ue||F({})},[h,t?.domain]),O(()=>{const ae=t?.domain==="cover",ue=h===j("setPosition");C(ae&&ue),ue||z(50)},[h,t?.domain]);const Ne=()=>{A(),U(null),se(!1),console.log("üßΩ Alle Picker-States zur√ºckgesetzt + Picker neu gemountet")},he={action:Q(null),position:Q(null),scheduler:Q(null),timeFormat:Q(null),days:Q(null),repeat:Q(null),hoursRef:Q(null),minutesRef:Q(null)},pe=Q({}),J=Q(null),G=Q(null),ne=()=>$==="all"?[...l,...a]:$==="timer"?l:a;O(()=>{if(!Y){pe.current={};return}const ae=()=>{Object.keys(he).forEach(ke=>{he[ke].current?._pickerInstance&&(he[ke].current._pickerInstance=null)}),J.current&&(J.current=null)},ue=setTimeout(()=>{const ke=oe(),ve=t?.domain==="cover";if(!pe.current.action){const ge=Ca(he.action,h,ve,j,N);ge&&(he.action.current._pickerInstance=ge,pe.current.action=!0)}if(!pe.current.position&&M){const ge=xa(he.position,_,z);ge&&(he.position.current._pickerInstance=ge,pe.current.position=!0)}if(!pe.current.scheduler){const ge=Sa(he.scheduler,v,j,T,K);ge&&(he.scheduler.current._pickerInstance=ge,pe.current.scheduler=!0)}if(!pe.current.timeFormat){const ge=_a(he.timeFormat,j,E,J);ge&&(he.timeFormat.current._pickerInstance=ge,pe.current.timeFormat=!0)}if(!pe.current.days){const ge=Na(he.days,ke,j,H);ge&&(he.days.current._pickerInstance=ge,pe.current.days=!0)}if(!pe.current.repeat){const ge=La(he.repeat,j,I);ge&&(he.repeat.current._pickerInstance=ge,pe.current.repeat=!0)}if(!pe.current.time){const ge=Ma(he.hoursRef,he.minutesRef,p,X);ge&&(J.current=ge,pe.current.time=!0)}},100);return()=>{clearTimeout(ue),ae()}},[Y,r,h,v,p]);const K=ae=>{if(!G.current)return;const ue=ae==="Timer";G.current.querySelectorAll(".schedule-option").forEach(ge=>{ge.style.display=ue?"none":"table-row"});const ve=G.current.querySelector("#time-label");ve&&(ve.textContent=j(ue?"timerMode":"scheduleMode")),ue&&J.current&&(J.current.selectedHour="00",J.current.selectedMinute="00",J.current.hourMode="24h",J.current.reinitHours(),J.current.updateValue())},ee=ae=>{if(!G.current)return;const ue=G.current.querySelector(`#picker-container-line-${ae}`);if(!ue)return;const ke=getComputedStyle(ue).display==="none";G.current.querySelectorAll("div.picker").forEach(ge=>{getComputedStyle(ge).display!=="none"&&ge!==ue&&ce(ge,!1)}),ce(ue,ke)},ce=(ae,ue)=>{ue?(ae.style.display="block",ae.animate([{height:"0px",opacity:0,transform:"translateY(-3px)"},{height:"210px",opacity:1,transform:"translateY(0px)"}],{duration:150,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fill:"forwards"}).onfinish=()=>{ae.style.height="210px",ae.style.opacity="1"}):ae.animate([{height:"210px",opacity:1,transform:"translateY(0px)"},{height:"0px",opacity:0,transform:"translateY(-3px)"}],{duration:120,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fill:"forwards"}).onfinish=()=>{ae.style.display="none"}},ie=ae=>{console.log("üîç Edit Item:",ae.id),D(ae);const ue=ae.actionRaw?.includes(".")?ae.actionRaw.split(".")[1]:ae.action;ae.domain==="cover"?Ea(ae,ue,N,z,C,j):ae.domain==="climate"?Ta(ae,ue,N,F,g,j):Aa(ue,N,j),ae.type==="timer"?Da(ae,T,X,H,j):Fa(ae,T,X,H,oe,j),setTimeout(()=>{pe.current.time=!1,se(!0),setTimeout(()=>{if(J.current&&ae.time){const[ke,ve]=ae.time.split(":");console.log("üéØ Setze Zeit:",{hour:ke,minute:ve}),J.current.setTime(ke,ve)}},250)},100)},le=ae=>{d(ae)},Se=async(ae,ue)=>{ue?(console.log("üìù UPDATE Item:",ue.id),ae?await Je():await Qe()):(D(null),ae?await Te():await Xe()),Ne(),setTimeout(()=>u(),1e3)},Te=async()=>{console.log("‚è±Ô∏è Erstelle Timer...");const{timeString:ae,weekday:ue,debug:ke}=mn(p);console.log("üïê Timer-Berechnung:",ke);const ve=At(t,h,L,_,j),st=`Timer - ${t?.name||t?.friendly_name||t?.entity_id?.split(".")[1]?.replace(/_/g," ")||"Ger√§t"} - ${ae}`;await k.current.callService("scheduler","add",{weekdays:[ue],timeslots:[{start:ae,actions:[ve]}],name:st,repeat_type:"single"}),console.log("‚úÖ Timer erfolgreich erstellt!")},Je=async()=>{console.log("‚è±Ô∏è Update Timer...");const{timeString:ae,weekday:ue,debug:ke}=mn(p);console.log("üïê Timer-Berechnung:",ke);const ve=At(t,h,L,_,j);await k.current.callService("scheduler","edit",{entity_id:x.id,weekdays:[ue],timeslots:[{start:ae,actions:[ve]}],name:za(t,h,L,_,r,j),repeat_type:"single"}),console.log("‚úÖ Timer aktualisiert!")},Xe=async()=>{console.log("üìÖ Erstelle Schedule..."),oe();const ae=gn(y,j),ue=At(t,h,L,_,j),ke=t?.name||t?.friendly_name||t?.entity_id?.split(".")[1]?.replace(/_/g," ")||"Ger√§t",ve=ae.map(st=>st.toUpperCase()).join(","),ge=`Zeitplan - ${ke} - ${ve} - ${p}`;console.log("üîç Schedule-Daten:",{weekdays:ae,time:p,name:ge,action:ue}),await k.current.callService("scheduler","add",{weekdays:ae,timeslots:[{start:p,actions:[ue]}],name:ge,repeat_type:m===j("once")?"single":"repeat"}),console.log("‚úÖ Schedule erfolgreich erstellt!")},Qe=async()=>{console.log("üìÖ Update Schedule..."),oe();const ae=gn(y,j),ue=At(t,h,L,_,j),ve=`${t?.name||t?.friendly_name||t?.entity_id?.split(".")[1]?.replace(/_/g," ")||"Ger√§t"} - ${p}`;await k.current.callService("scheduler","edit",{entity_id:x.id,weekdays:ae,timeslots:[{start:p,actions:[ue]}],name:ve,repeat_type:"repeat"}),console.log("‚úÖ Schedule aktualisiert!")};return e("div",{ref:G,className:`scheduler-tab ${B?"visible":""}`,children:[e(pa,{activeTab:$,onTabChange:P,showPicker:Y,t:j}),e(ga,{items:ne(),isLoading:c,activeTab:$,showPicker:Y,onItemClick:ie,onDelete:le,t:j}),!x&&!Y&&e(fa,{onClick:()=>se(!0),t:j}),e(ya,{showPicker:Y,editingItem:x,actionValue:h,showCoverSettings:M,coverPosition:_,schedulerValue:v,timeFormatValue:b,daysValue:y,repeatValue:m,timeValue:p,showClimateSettings:f,climateSettings:L,pickerKey:R,item:t,lang:r,pickerRefs:he,onRowClick:ee,onClimateSettingsChange:ae=>{F({...L,...ae})},t:j}),e(va,{showPicker:Y,schedulerValue:v,daysValue:y,editingItem:x,onCancel:Ne,onConfirm:Se,t:j})]})},Ra={wohnzimmer:["wohnzimmer","living room","salon","living"],schlafzimmer:["schlafzimmer","bedroom","chambre","schlaf"],k√ºche:["k√ºche","kitchen","cuisine","kueche"],bad:["bad","bathroom","bain","badezimmer","bath"],b√ºro:["b√ºro","office","bureau","arbeitszimmer","buero"],flur:["flur","hallway","corridor","gang","hall"],garage:["garage"],garten:["garten","garden","jardin"],terrasse:["terrasse","terrace","patio"],keller:["keller","basement","cave","cellar"],kinderzimmer:["kinderzimmer","kids room","children","nursery"],esszimmer:["esszimmer","dining room","dining","essen"]},Pa={"üé¨":["film","movie","kino","cinema","video"],"üéâ":["party","feier","celebration","fest"],"üåô":["nacht","night","schlaf","sleep","evening"],"‚òÄÔ∏è":["morgen","morning","aufwach","wake","sunrise"],"üíï":["romantik","romantic","romance","love"],"üíª":["arbeit","work","office","b√ºro","buero"],"üõãÔ∏è":["entspan","relax","chill","ruhe","cozy"],"üçΩÔ∏è":["essen","dinner","lunch","mahlzeit","meal"],"üí°":["licht","light","lampe","lamp","beleuchtung"],"ü™ü":["rollo","blind","shade","jalousie","curtain"],"üå°Ô∏è":["heizung","heating","klima","climate","temperatur"],"üì∫":["media","tv","fernseh","television","entertainment"],"üåÖ":["sonnenaufgang","sunrise","dawn","morgen"],"üåÜ":["sonnenuntergang","sunset","dusk","abend"],"üè†":["haus","home","zuhause","house"],"üîí":["sicher","security","lock","alarm","secure"],"üöó":["auto","car","vehicle","garage","fahrzeug"],"üåø":["pflanze","plant","garten","garden","green"],"üîî":["benachrichtigung","notification","alert","reminder"],"‚ö°":["energie","energy","power","strom"],"üéµ":["musik","music","audio","sound"],"üåà":["farbe","color","rgb","ambiance"],"üî•":["feuer","fire","warm","heat"],"‚ùÑÔ∏è":["kalt","cold","cool","k√ºhlen"]},Wa={scene:"üé¨",script:"üìú",automation:"ü§ñ"},ct={SAME_AREA:50,ENTITY_INVOLVED:30,SAME_DOMAIN:20,GLOBAL_ACTION_PENALTY:-20,BASE_SCORE:50},Ke={SUCCESS:"success",ERROR:"error",WARNING:"warning",INFO:"info"},nr="Kein Raum",Ha="‚ö°",$a=(t,i,n)=>({id:t.entity_id,name:t.attributes.friendly_name||t.entity_id.split(".")[1],type:t.domain,area:rr(t,n),state:t.state,icon:Oa(t),entities:t.attributes.entity_id||[],last_triggered:t.attributes.last_triggered,relevance:Va(t,i,n)}),Va=(t,i,n)=>{let r=ct.BASE_SCORE;const s=rr(t,n),o=i.attributes?.area_id||i.area;return s&&o&&s===o&&(r+=ct.SAME_AREA),t.attributes.entity_id?.includes(i.entity_id)&&(r+=ct.ENTITY_INVOLVED),(t.attributes.entity_id?.map(a=>a.split(".")[0])||[]).includes(i.domain)&&(r+=ct.SAME_DOMAIN),(s==="Haus"||!s||s===nr)&&(r+=ct.GLOBAL_ACTION_PENALTY),Math.min(100,Math.max(0,r))},rr=(t,i=[])=>{if(t.attributes?.area_id)return t.attributes.area_id;if(t.area)return t.area;const n=(t.attributes?.friendly_name||"").toLowerCase();for(const[r,s]of Object.entries(Ra))if(s.some(o=>n.includes(o)))return r.charAt(0).toUpperCase()+r.slice(1);if(t.attributes?.entity_id?.length>0){const r=t.attributes.entity_id[0],s=i.find(o=>o.entity_id===r);if(s?.attributes?.area_id)return s.attributes.area_id;if(s?.area)return s.area}return nr},Oa=t=>{if(t.attributes?.icon)return t.attributes.icon;const i=(t.attributes?.friendly_name||"").toLowerCase();for(const[n,r]of Object.entries(Pa))if(r.some(s=>i.includes(s)))return n;return Wa[t.domain]||Ha},ja=(t,i=[])=>i.some(n=>{try{return new RegExp("^"+n.replace(/\*/g,".*")+"$").test(t)}catch(r){return console.warn(`Invalid exclusion pattern: ${n}`,r),!1}}),Ua=(t,i,n=0)=>t.filter(r=>r.relevance>=n).sort((r,s)=>{if(s.relevance!==r.relevance)return s.relevance-r.relevance;const o={scene:0,script:1,automation:2};return o[r.type]!==o[s.type]?o[r.type]-o[s.type]:r.name.localeCompare(s.name)}),sr=(t,i=Ke.INFO,n=3e3,r={})=>{console.log("üçû showToast called:",{message:t,type:i,duration:n,options:r});const s=document.createElement("div");s.className=`toast toast-${i}`,s.setAttribute("role","alert"),s.setAttribute("aria-live","polite");const o=Ga(i);console.log("üçû Toast element created:",s),s.innerHTML=`
    <div class="toast-icon">${o}</div>
    <div class="toast-message">${Za(t)}</div>
    <button class="toast-close" aria-label="Schlie√üen">√ó</button>
  `;const l=r.position||"top-center";s.classList.add(`toast-${l}`);const a=window.__fastSearchToastContainer||document.getElementById("toast-container")||document.body;console.log("üçû Toast container found:",a,"via:",window.__fastSearchToastContainer?"window ref":document.getElementById("toast-container")?"getElementById":"body fallback"),a.appendChild(s),console.log("üçû Toast appended to DOM, total toasts:",a.querySelectorAll(".toast").length),s.querySelector(".toast-close").addEventListener("click",()=>ei(s)),requestAnimationFrame(()=>{s.classList.add("toast-visible")});const u=setTimeout(()=>{ei(s)},n);return r.onClick&&(s.style.cursor="pointer",s.addEventListener("click",d=>{d.target.classList.contains("toast-close")||(r.onClick(),ei(s))})),s._timeoutId=u,s},ei=t=>{!t||!t.parentNode||(t._timeoutId&&clearTimeout(t._timeoutId),t.classList.remove("toast-visible"),t.classList.add("toast-hiding"),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},300))},Ga=t=>({[Ke.SUCCESS]:"‚úÖ",[Ke.ERROR]:"‚ùå",[Ke.WARNING]:"‚ö†Ô∏è",[Ke.INFO]:"‚ÑπÔ∏è"})[t]||"‚ÑπÔ∏è",Za=t=>{const i=document.createElement("div");return i.textContent=t,i.innerHTML},ti=(t,i=3e3,n={})=>sr(t,Ke.SUCCESS,i,n),fn=(t,i=3e3,n={})=>sr(t,Ke.ERROR,i,n),qa=t=>{const i=t.area||"Wohnzimmer",n=t.entity_id,r=[{id:"scene.filmabend",name:"Filmabend",area:"Wohnzimmer",icon:"üé¨",entities:["light.wohnzimmer","media_player.tv","cover.wohnzimmer"]},{id:"scene.romantik",name:"Romantik",area:"Schlafzimmer",icon:"üíï",entities:["light.schlafzimmer","light.nachttisch"]},{id:"scene.party",name:"Party",area:"Alle R√§ume",icon:"üéâ",entities:["light.*","media_player.*"]},{id:"scene.gute_nacht",name:"Gute Nacht",area:"Haus",icon:"üåô",entities:["light.*","cover.*","lock.*"]},{id:"scene.aufwachen",name:"Aufwachen",area:"Schlafzimmer",icon:"‚òÄÔ∏è",entities:["light.schlafzimmer","cover.schlafzimmer","climate.schlafzimmer"]},{id:"scene.arbeiten",name:"Arbeiten",area:"B√ºro",icon:"üíª",entities:["light.buero","climate.buero"]},{id:"scene.entspannen",name:"Entspannen",area:"Wohnzimmer",icon:"üõãÔ∏è",entities:["light.wohnzimmer","media_player.tv"]}],s=[{id:"script.alle_lichter_aus",name:"Alle Lichter aus",area:"Haus",icon:"üí°",entities:["light.*"]},{id:"script.rollos_schliessen",name:"Rolll√§den schlie√üen",area:"Haus",icon:"ü™ü",entities:["cover.*"]},{id:"script.heizung_nachtmodus",name:"Heizung Nachtmodus",area:"Haus",icon:"üå°Ô∏è",entities:["climate.*"]},{id:"script.multimedia_aus",name:"Multimedia aus",area:"Haus",icon:"üì∫",entities:["media_player.*"]},{id:"script.morgenroutine",name:"Morgenroutine",area:"Haus",icon:"üåÖ",entities:["light.*","cover.*","climate.*"]}],o=[{id:"automation.motion_lights",name:"Bewegungslicht",area:i,icon:"üö∂",entities:[`light.${i.toLowerCase()}`,"binary_sensor.motion_*"]},{id:"automation.sunrise",name:"Sonnenaufgang Simulation",area:"Haus",icon:"üåÑ",entities:["light.*","cover.*"]},{id:"automation.vacation",name:"Urlaubsmodus",area:"Haus",icon:"‚úàÔ∏è",entities:["light.*","cover.*","climate.*"]},{id:"automation.energy_saving",name:"Energiesparmodus",area:"Haus",icon:"üîã",entities:["light.*","climate.*","media_player.*"]}],l=c=>c.area===i||c.area==="Haus"||c.area==="Alle R√§ume"?!0:c.entities.some(u=>{if(u===n)return!0;if(u.endsWith("*")){const d=u.slice(0,-1);return n.startsWith(d)}return!1});return[...r.filter(l).map(c=>({...c,type:"scene",relevance:c.area===i?100:50})),...s.filter(l).map(c=>({...c,type:"script",relevance:c.entities.includes(n)?90:40})),...o.filter(l).map(c=>({...c,type:"automation",relevance:c.area===i?80:30}))].sort((c,u)=>u.relevance!==c.relevance?u.relevance-c.relevance:c.name.localeCompare(u.name))},Ka=(t,i)=>{const n=(t.attributes?.friendly_name||t.name||"").toLowerCase(),r=(i.attributes?.friendly_name||i.name||"").toLowerCase(),s=t.domain,o=i.domain;return!!(o==="climate"&&(s==="sensor"||s==="binary_sensor")&&(n.includes("temperatur")||n.includes("temperature")||n.includes("luftfeuchtigkeit")||n.includes("humidity")||n.includes("fenster")||n.includes("window"))||o==="media_player"&&s==="media_player"&&(r.includes("tv")&&n.includes("soundbar")||r.includes("soundbar")&&n.includes("tv"))||o==="light"&&s==="binary_sensor"&&(n.includes("bewegung")||n.includes("motion"))||o==="cover"&&s==="binary_sensor"&&(n.includes("fenster")||n.includes("window")))},Ya=(t,i)=>Le(()=>{if(!t||t.length===0)return[];const n=i.area||"Wohnzimmer",r=i.entity_id;return t.filter(a=>!(a.entity_id===r||["scene","script","automation"].includes(a.domain)||a.domain==="settings")).map(a=>{let c=0;return a.area===n&&(c+=100),Ka(a,i)&&(c+=80),a.floor_id&&a.floor_id===i.floor_id&&(c+=30),a.entity_id.includes(r.split(".")[1])&&(c+=60),{...a,relevance:c}}).filter(a=>a.relevance>=30).sort((a,c)=>c.relevance!==a.relevance?c.relevance-a.relevance:(a.attributes?.friendly_name||a.name||"").localeCompare(c.attributes?.friendly_name||c.name||"")).slice(0,10)},[t,i.entity_id,i.area,i.floor_id]),Ja=({type:t})=>{switch(t){case"scene":return e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e("rect",{width:"7",height:"5",rx:"0.6",transform:"matrix(0 -1 -1 0 22 21)",stroke:"currentColor",strokeWidth:"1.5"}),e("rect",{width:"7",height:"5",rx:"0.6",transform:"matrix(0 -1 -1 0 7 15.5)",stroke:"currentColor",strokeWidth:"1.5"}),e("rect",{width:"7",height:"5",rx:"0.6",transform:"matrix(0 -1 -1 0 22 10)",stroke:"currentColor",strokeWidth:"1.5"}),e("path",{d:"M17 17.5H13.5C12.3954 17.5 11.5 16.6046 11.5 15.5V8.5C11.5 7.39543 12.3954 6.5 13.5 6.5H17",stroke:"currentColor",strokeWidth:"1.5"}),e("path",{d:"M11.5 12H7",stroke:"currentColor",strokeWidth:"1.5"})]});case"script":return e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e("path",{d:"M3.5 6.00398C3.5 7.80795 6.35714 9 11.5 9C18.5 9 19.5 6.00398 19.5 6.00398C19.5 6.00398 18.5 3 11.5 3C6.35714 3 3.5 4.2 3.5 6.00398Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M3.5 12.004C3.5 13.808 6.35714 15 11.5 15C18.5 15 19.5 12.004 19.5 12.004C19.5 12.004 18.5 9 11.5 9C6.35714 9 3.5 10.2 3.5 12.004Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M3.5 18.004C3.5 19.808 6.35714 21 11.5 21C18.5 21 19.5 18.004 19.5 18.004C19.5 18.004 18.5 15 11.5 15C6.35714 15 3.5 16.2 3.5 18.004Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M19.5 12C19.5 12 20.5 11.025 20.5 9C20.5 6.975 19.5 6 19.5 6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M20.5 4C20.5 5.35 19.5 6 19.5 6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M19.5 18C19.5 18 20.5 17.025 20.5 15C20.5 12.975 19.5 12 19.5 12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M20.5 20C20.5 18.65 19.5 18 19.5 18",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]});case"automation":return e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e("path",{d:"M6 20.5C7 11 11.5 8 20 6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M15.9086 3.80941L20.3946 5.90126L18.3028 10.3873",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M5 7C6.10457 7 7 6.10457 7 5C7 3.89543 6.10457 3 5 3C3.89543 3 3 3.89543 3 5C3 6.10457 3.89543 7 5 7Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M16 20.2426L18.1213 18.1213M18.1213 18.1213L20.2426 16M18.1213 18.1213L16 16M18.1213 18.1213L20.2426 20.2426",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]});default:return null}},Xa=({item:t,index:i,favorites:n,onToggleFavorite:r,onActionExecute:s,onActionNavigate:o})=>{const l=t.type&&["scene","script","automation"].includes(t.type);return e(S.div,{className:"action-item",style:{cursor:"pointer"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},whileTap:{scale:.98},transition:{opacity:{duration:.3,delay:i*.05},y:{duration:.3,delay:i*.05},scale:{duration:.2}},onClick:()=>{o&&o(t)},children:[e("div",{className:"action-type-icon",children:l?e(Ja,{type:t.type}):"üì±"}),e("div",{className:"action-content",children:[e("div",{className:"action-name",children:t.attributes?.friendly_name||t.name}),e("div",{className:"action-meta",children:l?e(fe,{children:[e("span",{className:`action-type ${t.type}`,children:t.type}),e("span",{className:"action-area",children:t.area})]}):e(fe,{children:[e("span",{className:"action-type",style:{background:"rgb(94, 92, 230)",border:"1px solid rgba(94, 92, 230, 0.5)"},children:t.domain}),t.state&&e("span",{className:"action-area",children:t.state})]})})]}),e("div",{className:"action-buttons",children:[l&&t.type!=="automation"&&e(S.button,{className:"action-execute-btn",onClick:a=>{a.stopPropagation(),s?.(t);const c=a.currentTarget;c.style.boxShadow="0 0 25px rgba(48, 209, 88, 0.8), 0 0 50px rgba(48, 209, 88, 0.5)",setTimeout(()=>{c.style.boxShadow=""},300)},whileHover:{scale:1.1},whileTap:{scale:.9},transition:{duration:.15},children:e("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e("path",{d:"M12 2V6",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 18V22",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M22 12H18",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M6 12H2",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M4.92896 4.92896L7.75738 7.75738",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M16.2427 16.2427L19.0711 19.0711",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M19.071 4.92896L16.2426 7.75738",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M7.75732 16.2427L4.9289 19.0711",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e(S.button,{className:`action-favorite-btn ${n.has(t.id||t.entity_id)?"active":""}`,onClick:a=>{a.stopPropagation(),r(t.id||t.entity_id)},whileHover:{scale:1.05},whileTap:{scale:.95},transition:{duration:.2},children:e("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinejoin:"round",children:e("path",{d:"M22 8.86222C22 10.4087 21.4062 11.8941 20.3458 12.9929C17.9049 15.523 15.5374 18.1613 13.0053 20.5997C12.4249 21.1505 11.5042 21.1304 10.9488 20.5547L3.65376 12.9929C1.44875 10.7072 1.44875 7.01723 3.65376 4.73157C5.88044 2.42345 9.50794 2.42345 11.7346 4.73157L11.9998 5.00642L12.2648 4.73173C13.3324 3.6245 14.7864 3 16.3053 3C17.8242 3 19.2781 3.62444 20.3458 4.73157C21.4063 5.83045 22 7.31577 22 8.86222Z"})})})]})]},t.id||t.entity_id)},Qa=({selectedFilter:t,onFilterChange:i,filterSelectorRef:n,sliderPosition:r,t:s})=>{const o=["actions","favorites","environment"];return e("div",{ref:n,className:"context-filter",children:[e(S.div,{className:"context-filter-slider",animate:{x:r.x,width:r.width,scaleX:[1,1.12,.96,1.03,1],scaleY:[1,.94,1.06,.99,1]},transition:{x:{type:"spring",stiffness:280,damping:22,mass:1.5},width:{type:"spring",stiffness:280,damping:22,mass:1.5},scaleX:{duration:.6,times:[0,.2,.5,.8,1],ease:[.34,1.56,.64,1]},scaleY:{duration:.6,times:[0,.2,.5,.8,1],ease:[.34,1.56,.64,1]}}}),o.map(l=>{const a=t===l;return e(S.button,{className:`filter-tab ${a?"active":""}`,onClick:()=>i(l),whileHover:a?{}:{scale:1.04},whileTap:a?{}:{scale:.96},transition:{duration:.2},children:s(l==="actions"?"tabActions":l==="favorites"?"tabFavorites":"tabEnvironment")},l)})]})},vn=({item:t,onActionExecute:i,onActionNavigate:n,lang:r="de"})=>{const{favorites:s,toggleFavorite:o}=Re(),[l]=Si(),[a]=Qn(),c=I=>W(`context.${I}`,r),[u,d]=w("actions"),[h,v]=w(!1),[b,y]=w([]),[m,p]=w(!1);Q(null);const[x,f]=w({x:0,width:0}),L=Q(null),M=window.location.hostname==="localhost";O(()=>{console.log(M?"[ContextTab] Running in DEVELOPMENT mode - using Mock Data":"[ContextTab] Running in PRODUCTION mode - using Home Assistant Data")},[M]);const R={...{entity_id:"light.wohnzimmer",domain:"light",area:"Wohnzimmer",attributes:{friendly_name:"Wohnzimmer Licht"}},...t};O(()=>{const I=()=>{if(L.current){const D=["actions","favorites","environment"].indexOf(u),F=L.current.querySelectorAll(".filter-tab");if(F[D]){const z=F[D],g=L.current.getBoundingClientRect(),C=z.getBoundingClientRect(),A=C.left-g.left,k=C.width;f({x:Math.round(A),width:Math.round(k)})}}};return setTimeout(I,50),window.addEventListener("resize",I),()=>{window.removeEventListener("resize",I)}},[u]),O(()=>{const I=setTimeout(()=>v(!0),50);return()=>clearTimeout(I)},[]);const N=Ya(l,R);O(()=>{p(!0),M?setTimeout(()=>{const I=qa();y(I),p(!1)},300):T()},[R.entity_id,M,l]);const T=()=>{if(!l||l.length===0){console.warn("ContextTab: No entities available"),y([]),p(!1);return}try{const I=l.filter(g=>["script","automation","scene"].includes(g.domain)),X=a?.excludedPatterns||[],F=I.filter(g=>!ja(g.entity_id,X)).map(g=>$a(g,R,l)),z=Ua(F);y(z),p(!1)}catch(I){console.error("ContextTab: Error loading actions",I),fn(r==="de"?"Fehler beim Laden der Aktionen":"Error loading actions",3e3,{position:"bottom-center"}),y([]),p(!1)}},E=async I=>{if(!i){console.warn("ContextTab: onActionExecute callback not provided");return}try{const X=document.querySelector(`[data-action-id="${I.id}"] .action-execute-btn`);if(X&&(X.style.boxShadow="0 0 25px rgba(48, 209, 88, 0.8), 0 0 50px rgba(48, 209, 88, 0.5)"),I.type==="scene")await i("scene","turn_on",{entity_id:I.id}),console.log("üé¨ About to show scene toast"),ti(r==="de"?"Szene aktiviert":"Scene activated",3e3,{position:"bottom-center"}),console.log("‚úÖ Scene toast called");else if(I.type==="script")await i("script","turn_on",{entity_id:I.id}),console.log("üìú About to show script toast"),ti(r==="de"?"Skript ausgef√ºhrt":"Script executed",3e3,{position:"bottom-center"}),console.log("‚úÖ Script toast called");else if(I.type==="automation"){const D=I.state==="on"?"turn_off":"turn_on";await i("automation",D,{entity_id:I.id}),console.log("ü§ñ About to show automation toast"),ti(D==="turn_on"?r==="de"?"Automation aktiviert":"Automation activated":r==="de"?"Automation deaktiviert":"Automation deactivated",3e3,{position:"bottom-center"}),console.log("‚úÖ Automation toast called")}setTimeout(()=>{X&&(X.style.boxShadow="")},300)}catch(X){console.error("ContextTab: Execute failed",X),fn(r==="de"?"Fehler beim Ausf√ºhren":"Execution failed",3e3,{position:"bottom-center"})}},H=Le(()=>u==="actions"?b.filter(I=>I.type==="scene"||I.type==="script"||I.type==="automation"):u==="favorites"?b.filter(I=>s.has(I.id)):u==="environment"?N:[],[u,b,s,N]);return Le(()=>({actions:b.length,favorites:b.filter(I=>s.has(I.id)).length,environment:u==="environment"?H.length:0}),[b,s,u,H]),e("div",{className:`context-tab ${h?"visible":""}`,children:[e(Qa,{selectedFilter:u,onFilterChange:d,filterSelectorRef:L,sliderPosition:x,t:c}),e("div",{className:"context-container",children:m?e("div",{className:"context-loading",children:c("loading")}):H.length===0?e("div",{className:"context-empty",children:[e("div",{className:"empty-icon",children:u==="favorites"?"‚≠ê":u==="environment"?"üè†":"üì≠"}),e("div",{className:"empty-text",children:c(u==="favorites"?"noFavorites":u==="environment"?"noEnvironment":"noActions")})]}):e("div",{className:"context-list",children:H.map((I,X)=>e(Xa,{item:I,index:X,favorites:s,onToggleFavorite:o,onActionExecute:E,onActionNavigate:n},I.id||I.entity_id))})})]})},or=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e("path",{d:"M2.6 4H8.77805C8.92127 4 9.05977 4.05124 9.16852 4.14445L12.3315 6.85555C12.4402 6.94876 12.5787 7 12.722 7H21.4C21.7314 7 22 7.26863 22 7.6V10.4C22 10.7314 21.7314 11 21.4 11H2.6C2.26863 11 2 10.7314 2 10.4V4.6C2 4.26863 2.26863 4 2.6 4Z",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M22 10L22 14",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M2 10V19.4C2 19.7314 2.26863 20 2.6 20H13",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M19 21C20.1046 21 21 20.1046 21 19C21 17.8954 20.1046 17 19 17C18.6357 17 18.2942 17.0974 18 17.2676C17.4022 17.6134 17 18.2597 17 19C17 19.7403 17.4022 20.3866 18 20.7324C18.2942 20.9026 18.6357 21 19 21Z",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M19 22C20.6569 22 22 20.6569 22 19C22 17.3431 20.6569 16 19 16C17.3431 16 16 17.3431 16 19C16 20.6569 17.3431 22 19 22Z",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"0.3 2"})]}),e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e("path",{d:"M12 21H4C2.89543 21 2 20.1046 2 19V5C2.89543 3 2.89543 3 4 3H20C21.1046 3 22 3.89543 22 5V12",strokeLinecap:"round"}),e("path",{d:"M2 7L22 7",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M5 5.01L5.01 4.99889",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M8 5.01L8.01 4.99889",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M11 5.01L11.01 4.99889",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M18 14L19.2246 15.0436L20.8284 15.1716L20.9564 16.7754L22 18L20.9564 19.2246L20.8284 20.8284L19.2246 20.9564L18 22L16.7754 20.9564L15.1716 20.8284L15.0436 19.2246L14 18L15.0436 16.7754L15.1716 15.1716L16.7754 15.0436L18 14Z"}),e("path",{d:"M16.7754 20.9564L18 22V14L16.7754 15.0436L15.1716 15.1716L15.0436 16.7754L14 18L15.0436 19.2246L15.1716 20.8284L16.7754 20.9564Z",fill:"currentColor"})]}),e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e("path",{d:"M18 3L18 7",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M18 11.01L18.01 10.9989",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M22 7V11V19.4C22 19.7314 21.7314 20 21.4 20H2.6C2.26863 20 2 19.7314 2 19.4V11",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M14 7H12.722C12.5787 7 12.4402 6.94876 12.3315 6.85555L9.16852 4.14445C9.05977 4.05124 8.92127 4 8.77805 4H2.6C2.26863 4 2 4.26863 2 4.6V11H14",strokeLinecap:"round",strokeLinejoin:"round"})]}),e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e("path",{d:"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2Z",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M4.271 18.3457C4.271 18.3457 6.50002 15.5 12 15.5C17.5 15.5 19.7291 18.3457 19.7291 18.3457",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 12C13.6569 12 15 10.6569 15 9C15 7.34315 13.6569 6 12 6C10.3431 6 9 7.34315 9 9C9 10.6569 10.3431 12 12 12Z",strokeLinecap:"round",strokeLinejoin:"round"})]})],el=["de","en"],tl={de:"üá©üá™",en:"üá¨üáß",fr:"üá´üá∑",es:"üá™üá∏",it:"üáÆüáπ",nl:"üá≥üá±",pt:"üáµüáπ",ru:"üá∑üá∫",zh:"üá®üá≥",tr:"üáπüá∑"},il={de:"Deutsch",en:"English",fr:"Fran√ßais",es:"Espa√±ol",it:"Italiano",nl:"Nederlands",pt:"Portugu√™s",ru:"–†—É—Å—Å–∫–∏–π",zh:"‰∏≠Êñá",tr:"T√ºrk√ße"},yn=t=>`${tl[t]||""} ${il[t]||"Deutsch"}`,nl=["EUR","USD","GBP","CHF","JPY"],rl={EUR:"‚Ç¨",USD:"$",GBP:"¬£",CHF:"CHF",JPY:"¬•"},sl={EUR:"Euro",USD:"US Dollar",GBP:"British Pound",CHF:"Swiss Franc",JPY:"Japanese Yen"},bn=t=>`${rl[t]||""} ${sl[t]||"Euro"}`;class Dt extends Error{constructor(i,n,r){super(i),this.name="StorageError",this.key=n,this.operation=r}}class ol{constructor(i=localStorage,n=""){this.storage=i,this.namespace=n}_getKey(i){return this.namespace?`${this.namespace}:${i}`:i}set(i,n,r={}){try{const s=this._getKey(i),o={value:n,timestamp:Date.now(),ttl:r.ttl||null};return this.storage.setItem(s,JSON.stringify(o)),Z.debug(`StorageService: Set '${i}'`),!0}catch(s){throw s.name==="QuotaExceededError"?new Dt(`Storage quota exceeded for key '${i}'`,i,"set"):new Dt(`Failed to set '${i}': ${s.message}`,i,"set")}}get(i,n=null){try{const r=this._getKey(i),s=this.storage.getItem(r);if(s===null)return Z.debug(`StorageService: Key '${i}' not found, returning default`),n;const o=JSON.parse(s);if(o.ttl!==null){const l=o.timestamp+o.ttl;if(Date.now()>l)return Z.debug(`StorageService: Key '${i}' expired, removing`),this.remove(i),n}return Z.debug(`StorageService: Get '${i}'`),o.value}catch(r){return Z.warn(`StorageService: Failed to parse '${i}', returning default:`,r),n}}has(i){const n=this._getKey(i);return this.storage.getItem(n)!==null}remove(i){try{const n=this._getKey(i);return this.storage.removeItem(n),Z.debug(`StorageService: Removed '${i}'`),!0}catch(n){throw new Dt(`Failed to remove '${i}': ${n.message}`,i,"remove")}}clear(){try{const i=[];for(let n=0;n<this.storage.length;n++){const r=this.storage.key(n);(!this.namespace||r.startsWith(`${this.namespace}:`))&&i.push(r)}return i.forEach(n=>this.storage.removeItem(n)),Z.info(`StorageService: Cleared ${i.length} items`),i.length}catch(i){throw new Dt(`Failed to clear storage: ${i.message}`,null,"clear")}}keys(){const i=[],n=this.namespace?`${this.namespace}:`:"";for(let r=0;r<this.storage.length;r++){const s=this.storage.key(r);(!this.namespace||s.startsWith(n))&&i.push(this.namespace?s.substring(n.length):s)}return i}getBatch(i){const n={};return i.forEach(r=>{n[r]=this.get(r)}),n}setBatch(i,n={}){Object.entries(i).forEach(([r,s])=>{this.set(r,s,n)})}removeBatch(i){i.forEach(n=>this.remove(n))}async getQuota(){if(navigator.storage&&navigator.storage.estimate){const n=await navigator.storage.estimate();return{used:n.usage,quota:n.quota,available:n.quota-n.usage,percentage:(n.usage/n.quota*100).toFixed(2)}}return{used:this._estimateSize(),quota:null,available:null,percentage:null}}_estimateSize(){let i=0;for(let n=0;n<this.storage.length;n++){const r=this.storage.key(n),s=this.storage.getItem(r);i+=r.length+s.length}return i*2}debug(){Z.group("StorageService Debug"),Z.info("Namespace:",this.namespace||"(none)"),Z.info("Backend:",this.storage===localStorage?"localStorage":"sessionStorage"),Z.info("Keys:",this.keys().length),Z.table(this.keys().map(i=>({key:i,value:JSON.stringify(this.get(i)).substring(0,50)+"...",size:JSON.stringify(this.get(i)).length}))),Z.groupEnd()}}const jt=new ol(localStorage,"fast-search-card"),Ut={SYSTEM_SETTINGS:"systemSettings"},yd={SENSOR_CONFIG:(t,i)=>`energy_${t}_${i}`,CIRCULAR_CONFIG:t=>`energy_${t}_circularConfig`,CAMERA_REFRESH:t=>`energy_${t}_cameraRefreshInterval`,LANGUAGE:t=>`energy_${t}_language`},ar=async t=>{try{if(!t||!t.callWS)return console.warn("Energy Dashboard: No hass connection available"),null;const i=await t.callWS({type:"energy/get_prefs"});return console.log("üîç Energy Dashboard Config (FULL):",JSON.stringify(i,null,2)),i}catch(i){return console.error("Failed to get energy config:",i),null}},lr=t=>{if(!t||!t.energy_sources)return{gridConsumption:null,gridReturn:null,solar:null,battery:null,energyGridConsumption:null,energyGridReturn:null,energySolar:null};const i={gridConsumption:null,gridReturn:null,solar:null,battery:null,energyGridConsumption:null,energyGridReturn:null,energySolar:null};return t.energy_sources.forEach(n=>{if(n.type==="grid"){if(n.flow_from&&n.flow_from.length>0){const r=n.flow_from[0];i.gridConsumption=r.stat_cost_from||r.stat_energy_from,i.energyGridConsumption=r.stat_energy_from}if(n.flow_to&&n.flow_to.length>0){const r=n.flow_to[0];i.gridReturn=r.stat_compensation_from||r.stat_energy_to,i.energyGridReturn=r.stat_energy_to}}n.type==="solar"&&(i.solar=n.stat_cost_from||n.stat_energy_from,i.energySolar=n.stat_energy_from),n.type==="battery"&&(i.battery=n.stat_energy_from)}),console.log("Extracted sensors from Energy Dashboard:",i),i},De=(t,i)=>!t||!t.states||!i?!1:!!t.states[i],gt=(t,i,n="--")=>De(t,i)&&t.states[i].state||n,al=async t=>{try{console.log("üîç Starting power sensor detection...");const i=ll(t);if(i.success){console.log("‚úÖ Found power sensors via direct search:",i.sensors);const n=await ar(t),r=n?lr(n):{};return{success:!0,source:"auto_detect",sensors:i.sensors,energySensors:r,allPowerSensors:i.allPowerSensors}}return console.warn("‚ö†Ô∏è No power sensors found in system"),{success:!1,source:"none",sensors:{gridConsumption:null,gridReturn:null,solar:null,battery:null}}}catch(i){return console.error("Failed to initialize energy sensors:",i),{success:!1,source:"error",sensors:{gridConsumption:null,gridReturn:null,solar:null,battery:null}}}},ll=t=>{if(!t||!t.states)return{success:!1,source:"none",sensors:{}};const i={gridConsumption:null,gridReturn:null,solar:null,battery:null},n={gridConsumption:[/sensor\..*leistung.*netzbezug/i,/sensor\..*netzbezug.*leistung/i,/sensor\..*bezogene.*leistung/i,/sensor\.(grid|power)_consumption/i,/sensor\..*grid.*import/i,/sensor\..*power.*consumption/i,/sensor\..*import.*power/i,/sensor\..*grid.*power/i],gridReturn:[/sensor\..*leistung.*einspeisung/i,/sensor\..*einspeisung.*leistung/i,/sensor\..*netzeinspeisung/i,/sensor\..*eingespeiste.*leistung/i,/sensor\.(grid|power)_return/i,/sensor\..*export.*power/i,/sensor\..*return.*power/i,/sensor\..*grid.*export/i],solar:[/sensor\..*pv.*leistung/i,/sensor\..*solar.*leistung/i,/sensor\..*leistung.*pv/i,/sensor\.solar.*power/i,/sensor\.pv.*power/i,/sensor\..*solar.*production/i,/sensor\.inverter.*power/i],battery:[/sensor\..*batterie.*leistung/i,/sensor\..*battery.*power/i,/sensor\..*battery.*discharge/i]},r={};return Object.keys(t.states).forEach(s=>{const o=t.states[s];if(o.entity_id.startsWith("sensor.")){const l=o.attributes?.device_class,a=o.attributes?.unit_of_measurement;(l==="power"||a==="W"||a==="kW")&&(r[s]={unit:a,deviceClass:l,friendlyName:o.attributes?.friendly_name||s})}}),console.log("Found all power sensors:",Object.keys(r)),Object.keys(n).forEach(s=>{for(const o of Object.keys(r)){for(const l of n[s])if(l.test(o)&&!i[s]){i[s]=o,console.log(`‚úì Matched ${s}: ${o}`);break}if(i[s])break}}),console.log("Auto-detected sensors by patterns:",i),{success:Object.values(i).some(s=>s!==null),source:"auto_detect",sensors:i,allPowerSensors:r}},kn=t=>{try{const i=jt.get(Ut.SYSTEM_SETTINGS,{});i.statsBar=i.statsBar||{},i.statsBar.energySensors=t,jt.set(Ut.SYSTEM_SETTINGS,i),console.log("Energy sensor config saved:",t),window.dispatchEvent(new CustomEvent("energySensorConfigChanged",{detail:{sensors:t}}))}catch(i){console.error("Failed to save energy sensor config:",i)}},vi=()=>{try{return jt.get(Ut.SYSTEM_SETTINGS,{}).statsBar?.energySensors||null}catch(t){return console.error("Failed to load energy sensor config:",t),null}},ii=async(t,i)=>{if(!t||!t.callWS||!i)return null;try{const n=new Date,s=new Date(n.getFullYear(),n.getMonth(),n.getDate()).toISOString(),o=await t.callWS({type:"recorder/statistics_during_period",start_time:s,statistic_ids:[i],period:"hour"});if(!o||!o[i]||o[i].length===0)return console.log(`No statistics found for ${i} today`),null;const l=o[i],a=l[l.length-1];return a.state!==void 0?parseFloat(a.state):a.sum!==void 0?parseFloat(a.sum):null}catch(n){return console.error(`Failed to get today's statistics for ${i}:`,n),null}},Ni=()=>{try{return jt.get(Ut.SYSTEM_SETTINGS,{}).statsBar?.energyPrice||.3}catch{return .3}},cl=(t,i=null)=>{const n=i!==null?i:Ni();return t*n},wn=async(t,i)=>{if(!t||!i)return null;try{const n={currentGridConsumption:null,currentGridReturn:null,currentSolarProduction:null,currentBatteryPower:null,todayGridConsumption:null,todayGridReturn:null,todaySolarProduction:null,todayCost:null,todayRevenue:null};if(i.gridConsumption){const s=gt(t,i.gridConsumption);s!=="--"&&(n.currentGridConsumption=parseFloat(s))}if(i.gridReturn){const s=gt(t,i.gridReturn);s!=="--"&&(n.currentGridReturn=parseFloat(s))}if(i.solar){const s=gt(t,i.solar);s!=="--"&&(n.currentSolarProduction=parseFloat(s))}if(i.battery){const s=gt(t,i.battery);s!=="--"&&(n.currentBatteryPower=parseFloat(s))}const r=await ar(t);if(r){const s=lr(r);if(s.gridConsumption&&(n.todayGridConsumption=await ii(t,s.gridConsumption)),s.gridReturn&&(n.todayGridReturn=await ii(t,s.gridReturn)),s.solar&&(n.todaySolarProduction=await ii(t,s.solar)),n.todayGridConsumption!==null&&(n.todayCost=cl(n.todayGridConsumption)),n.todayGridReturn!==null){const o=Ni()*.08;n.todayRevenue=n.todayGridReturn*o}}return console.log("Energy Dashboard Data:",n),n}catch(n){return console.error("Failed to get energy dashboard data:",n),null}},Gt=({size:t=14,color:i="currentColor",style:n={}})=>e("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 463 463",fill:i,xmlns:"http://www.w3.org/2000/svg",style:n,children:e("path",{d:"M367.5,159c4.142,0,7.5-3.357,7.5-7.5v-32c0-0.278-0.018-0.552-0.047-0.822c-0.004-0.037-0.012-0.074-0.017-0.111 c-0.039-0.313-0.1-0.619-0.176-0.919c-0.015-0.061-0.03-0.121-0.046-0.181c-0.093-0.332-0.206-0.656-0.342-0.967 c-0.013-0.03-0.029-0.058-0.042-0.087c-0.132-0.291-0.282-0.57-0.448-0.839c-0.031-0.051-0.06-0.103-0.093-0.153 c-0.183-0.281-0.384-0.549-0.602-0.802c-0.044-0.052-0.092-0.101-0.138-0.152c-0.225-0.248-0.462-0.483-0.718-0.699 c-0.011-0.009-0.019-0.02-0.03-0.029l-0.026-0.022c-0.003-0.002-0.006-0.005-0.008-0.007l-95.292-79.41L253.5,3 c-1.417-1.889-3.639-3-6-3h-32c-2.361,0-4.583,1.111-6,3l-23.474,31.299l-95.292,79.41c-0.003,0.002-0.006,0.005-0.008,0.007 l-0.026,0.022c-0.011,0.009-0.019,0.02-0.03,0.029c-0.256,0.216-0.493,0.452-0.718,0.699c-0.046,0.051-0.093,0.1-0.138,0.152 c-0.218,0.253-0.419,0.521-0.602,0.802c-0.033,0.05-0.062,0.102-0.093,0.153c-0.166,0.269-0.317,0.548-0.448,0.839 c-0.013,0.029-0.029,0.057-0.042,0.087c-0.136,0.312-0.248,0.635-0.342,0.967c-0.017,0.06-0.031,0.12-0.046,0.181 c-0.076,0.3-0.137,0.606-0.176,0.919c-0.005,0.037-0.013,0.074-0.017,0.111C88.018,118.948,88,119.222,88,119.5v32 c0,4.143,3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5V127h81v68.987l-93.267,77.722c-0.003,0.002-0.006,0.005-0.008,0.007l-0.026,0.022 c-0.011,0.009-0.019,0.02-0.03,0.029c-0.256,0.216-0.493,0.452-0.718,0.699c-0.046,0.051-0.093,0.1-0.138,0.152 c-0.218,0.253-0.419,0.521-0.602,0.802c-0.033,0.05-0.062,0.102-0.093,0.153c-0.166,0.269-0.317,0.548-0.448,0.839 c-0.013,0.029-0.029,0.057-0.042,0.087c-0.136,0.312-0.248,0.635-0.342,0.967c-0.017,0.06-0.031,0.12-0.046,0.181 c-0.076,0.3-0.137,0.606-0.176,0.919c-0.005,0.037-0.013,0.074-0.017,0.111C88.018,278.948,88,279.222,88,279.5v32 c0,4.143,3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5V287h77.792l-58.545,161H111.5c-4.142,0-7.5,3.357-7.5,7.5s3.358,7.5,7.5,7.5h40 c4.142,0,7.5-3.357,7.5-7.5s-3.358-7.5-7.5-7.5h-8.173L231.5,340.233L319.673,448H319.5c-4.142,0-7.5,3.357-7.5,7.5 s3.358,7.5,7.5,7.5h40c4.142,0,7.5-3.357,7.5-7.5s-3.358-7.5-7.5-7.5h-18.747l-58.545-161H360v24.5c0,4.143,3.358,7.5,7.5,7.5 s7.5-3.357,7.5-7.5v-32c0-0.278-0.018-0.552-0.047-0.822c-0.004-0.037-0.012-0.074-0.017-0.111c-0.039-0.313-0.1-0.619-0.176-0.919 c-0.015-0.061-0.03-0.121-0.046-0.181c-0.093-0.332-0.206-0.656-0.342-0.967c-0.013-0.03-0.029-0.058-0.042-0.087 c-0.132-0.291-0.282-0.57-0.448-0.839c-0.031-0.051-0.06-0.103-0.093-0.153c-0.183-0.281-0.384-0.549-0.602-0.802 c-0.044-0.052-0.092-0.101-0.138-0.152c-0.225-0.248-0.462-0.483-0.718-0.699c-0.011-0.009-0.019-0.02-0.03-0.029l-0.026-0.022 c-0.003-0.002-0.006-0.005-0.008-0.007L279,195.987V127h81v24.5C360,155.643,363.358,159,367.5,159z M220.893,79.5L199,101.393 V57.607L220.893,79.5z M209.607,47h43.786L231.5,68.893L209.607,47z M209.607,112L231.5,90.107L253.393,112H209.607z M253.393,127 L231.5,148.893L209.607,127H253.393z M220.893,159.5L199,181.393v-43.786L220.893,159.5z M209.607,192l21.893-21.893L253.393,192 H209.607z M253.393,207L231.5,228.893L209.607,207H253.393z M220.893,239.5L199,261.393v-43.786L220.893,239.5z M231.5,250.107 L253.393,272h-43.786L231.5,250.107z M255.673,287L231.5,316.545L207.327,287H255.673z M242.107,239.5L264,217.607v43.786 L242.107,239.5z M242.107,159.5L264,137.607v43.786L242.107,159.5z M242.107,79.5L264,57.607v43.786L242.107,79.5z M219.25,15h24.5 l12.75,17h-50L219.25,15z M184,55.513V112h-67.785L184,55.513z M184,215.513V272h-67.785L184,215.513z M149.617,416.624 l44.426-122.172l27.766,33.937L149.617,416.624z M241.19,328.389l27.766-33.937l44.426,122.172L241.19,328.389z M279,272v-56.487 L346.785,272H279z M279,112V55.513L346.785,112H279z"})}),cr=({size:t=14,color:i="currentColor",style:n={}})=>e("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 512 512",fill:i,xmlns:"http://www.w3.org/2000/svg",style:n,children:e("path",{d:"M48 32h96v96H48zm128 0h96v96h-96zm128 0h96v96h-96zM48 160h96v96H48zm128 0h96v96h-96zm128 0h96v96h-96zM48 288h96v96H48zm128 0h96v96h-96zm128 0h96v96h-96zM80 416h288v32H80z"})}),dl=({size:t=14,color:i="currentColor",style:n={}})=>e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,children:[e("path",{d:"M14 13H16L18 13",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M6 13H8M10 13H8M8 13V11M8 13V15",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M6 7H2.6C2.26863 7 2 7.26863 2 7.6V18.4C2 18.7314 2.26863 19 2.6 19H21.4C21.7314 19 22 18.7314 22 18.4V7.6C22 7.26863 21.7314 7 21.4 7H18M6 7V5H8V7M6 7H8M8 7H16M16 7V5H18V7M16 7H18",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),dr=({size:t=14,color:i="currentColor",style:n={}})=>e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,children:[e("path",{d:"M16.5 21H18.6688C19.8945 21 20.8319 19.9074 20.6455 18.6959L19.2609 9.69589C19.1108 8.72022 18.2713 8 17.2842 8H6.71584C5.7287 8 4.8892 8.72022 4.73909 9.69589L3.35448 18.6959C3.16809 19.9074 4.10545 21 5.33122 21H7.5",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 19V12M12 12L15 15M12 12L9 15",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M14 5C14 3.89543 13.1046 3 12 3C10.8954 3 10 3.89543 10 5",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),ur=({size:t=14,color:i="currentColor",style:n={}})=>e("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",strokeWidth:"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,children:[e("path",{d:"M2 8L11.7317 3.13416C11.9006 3.04971 12.0994 3.0497 12.2683 3.13416L22 8",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M20 11V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19V11",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),hr=({size:t=14,color:i="currentColor",style:n={}})=>e("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",style:n,children:e("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})}),ul=({size:t=14,color:i="currentColor",style:n={}})=>e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,children:[e("path",{d:"M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M22 12L23 12",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 2V1",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 23V22",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M20 20L19 19",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M20 4L19 5",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M4 20L5 19",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M4 4L5 5",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M1 12L2 12",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),pr=({size:t=14,color:i="currentColor",style:n={}})=>e("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",style:n,children:[e("path",{d:"M12 6L12 12L18 12"}),e("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"})]}),mr=({size:t=14,color:i="currentColor",style:n={}})=>e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,children:[e("path",{d:"M18 8.4C18 6.70261 17.3679 5.07475 16.2426 3.87452C15.1174 2.67428 13.5913 2 12 2C10.4087 2 8.88258 2.67428 7.75736 3.87452C6.63214 5.07475 6 6.70261 6 8.4C6 15.8667 3 18 3 18H21C21 18 18 15.8667 18 8.4Z",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M13.73 21C13.5542 21.3031 13.3019 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),hl=({size:t=14,color:i="currentColor",style:n={}})=>e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,children:[e("path",{d:"M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M22 12L23 12",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 2V1",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 23V22",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M20 20L19 19",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M20 4L19 5",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M4 20L5 19",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M4 4L5 5",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M1 12L2 12",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),pl=({size:t=14,color:i="currentColor",style:n={}})=>e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,children:e("path",{d:"M12 4C9.79086 4 8 5.79086 8 8V8.5C5.23858 8.5 3 10.7386 3 13.5C3 16.2614 5.23858 18.5 8 18.5H17C19.2091 18.5 21 16.7091 21 14.5C21 12.2909 19.2091 10.5 17 10.5C16.6565 10.5 16.3257 10.5485 16.0127 10.6391C15.5088 7.21102 12.5031 4 12 4Z",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),ml=({size:t=14,color:i="currentColor",style:n={}})=>e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,children:[e("path",{d:"M12 4C9.79086 4 8 5.79086 8 8V8.5C5.23858 8.5 3 10.7386 3 13.5C3 16.2614 5.23858 18.5 8 18.5H17C19.2091 18.5 21 16.7091 21 14.5C21 12.2909 19.2091 10.5 17 10.5C16.6565 10.5 16.3257 10.5485 16.0127 10.6391C15.5088 7.21102 12.5031 4 12 4Z",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M8 19L8 21",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 19L12 23",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M16 19L16 21",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),gl=({size:t=14,color:i="currentColor",style:n={}})=>e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,children:[e("path",{d:"M12 4C9.79086 4 8 5.79086 8 8V8.5C5.23858 8.5 3 10.7386 3 13.5C3 16.2614 5.23858 18.5 8 18.5H17C19.2091 18.5 21 16.7091 21 14.5C21 12.2909 19.2091 10.5 17 10.5C16.6565 10.5 16.3257 10.5485 16.0127 10.6391C15.5088 7.21102 12.5031 4 12 4Z",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M8 21L8 19M12 23L12 19M16 21L16 19",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("circle",{cx:"8",cy:"21",r:"0.5",fill:i}),e("circle",{cx:"12",cy:"23",r:"0.5",fill:i}),e("circle",{cx:"16",cy:"21",r:"0.5",fill:i})]}),Cn=({size:t=14,color:i="currentColor",style:n={}})=>e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,children:[e("path",{d:"M6 13C6 10.2386 8.23858 8 11 8C11.3506 8 11.6918 8.03807 12.0194 8.11048M17 14C19.2091 14 21 15.7909 21 18C21 20.2091 19.2091 22 17 22H9C6.23858 22 4 19.7614 4 17C4 14.4003 5.98398 12.2466 8.52042 12.0247",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M14 6C14 7.65685 15.3431 9 17 9C18.6569 9 20 7.65685 20 6C20 4.34315 18.6569 3 17 3C15.3431 3 14 4.34315 14 6Z",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M17 1V2M21 6H22M13 6H12M19.5 3.5L18.8 4.2M15.2 4.2L14.5 3.5M19.5 8.5L18.8 7.8",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),xn=(t,i=14,n="rgba(255, 255, 255, 0.9)")=>{const r=t?.toLowerCase()||"";return r.includes("sunny")||r.includes("clear")?e(hl,{size:i,color:n}):r.includes("rain")||r.includes("pouring")?e(ml,{size:i,color:n}):r.includes("snow")||r.includes("snowy")?e(gl,{size:i,color:n}):r.includes("partlycloudy")||r.includes("partly")?e(Cn,{size:i,color:n}):r.includes("cloud")||r.includes("overcast")?e(pl,{size:i,color:n}):e(Cn,{size:i,color:n})},fl=async t=>{if(!t?.callWS)return null;try{const i=await t.callWS({type:"auth/current_user"});if(i?.picture){const o=i.picture;return o.startsWith("/")?`${window.location.origin}${o}`:o}if(i?.avatar){const o=i.avatar;return o.startsWith("/")?`${window.location.origin}${o}`:o}const n=t.user?.id;if(!n)return null;const s=Object.keys(t.states).filter(o=>o.startsWith("person.")).map(o=>t.states[o]).find(o=>o.attributes?.user_id===n);if(s?.attributes?.entity_picture){const o=s.attributes.entity_picture;return o.startsWith("/")?`${window.location.origin}${o}`:o}return null}catch{return null}};let ni=null,Sn=0;const vl=300*1e3,gr=async t=>{const i=Date.now();if(ni&&i-Sn<vl)return ni;const n=await fl(t);return n&&(ni=n,Sn=i),n},yl={enter:t=>({x:t>0?300:-300,opacity:0}),center:{x:0,opacity:1},exit:t=>({x:t>0?-300:300,opacity:0})},bl=()=>{try{const t=localStorage.getItem("systemSettings");if(!t)return{weather:!0,gridConsumption:!0,gridReturn:!0,solar:!1,notifications:!0,time:!0,consumption:!1,todayConsumption:!1,todayCost:!1};const r=(JSON.parse(t).statsBar||{}).widgets||{};return{weather:r.weather!==!1,gridConsumption:r.gridConsumption!==!1,gridReturn:r.gridReturn!==!1,solar:r.solar===!0,notifications:r.notifications!==!1,time:r.time!==!1,consumption:r.consumption===!0,todayConsumption:r.todayConsumption===!0,todayCost:r.todayCost===!0}}catch(t){return console.error("Failed to load widget settings:",t),{weather:!0,gridConsumption:!0,gridReturn:!0,solar:!1,notifications:!0,time:!0,todayConsumption:!1,todayCost:!1}}},kl=t=>{try{const i=localStorage.getItem("systemSettings"),n=i?JSON.parse(i):{};n.statsBar=n.statsBar||{},n.statsBar.widgets=t,localStorage.setItem("systemSettings",JSON.stringify(n))}catch(i){console.error("Failed to save widget settings:",i)}},wl=({t,hass:i,lang:n="de",onBack:r})=>{const[s,o]=w("main"),l=Q(null),[a,c]=w(!1),[u,d]=w(()=>bl()),[h,v]=w(1),[b,y]=w("auto"),[m,p]=w(null),[x,f]=w(()=>vi()||{gridConsumption:null,gridReturn:null,solar:null,battery:null}),[L,M]=w(!1);w(()=>Ni());const[_,R]=w(null),[N,T]=w(()=>{const k=localStorage.getItem("statsBarEnabled");return k!==null?k==="true":!0});O(()=>{i&&b==="auto"&&!m&&E()},[i,b]),O(()=>{s==="dataSources"&&i&&b==="auto"&&!m&&E()},[s,i,b]),O(()=>{const k=()=>{const U=me.getAllEntities().find(Y=>Y.domain==="energy_dashboard_device");U?.attributes?R({gridImport:U.attributes.grid_import_sensor,gridReturn:U.attributes.grid_return_sensor,solar:U.attributes.solar_sensor,consumption:U.attributes.consumption_sensor,estimatedPower:U.attributes.estimated_power_sensor,kwh:U.attributes.kwh_sensor,pvTotal:U.attributes.pv_total_sensor,estimatedEnergyToday:U.attributes.estimated_energy_today_sensor,gridExportTotal:U.attributes.grid_export_total_sensor,battery:U.attributes.battery_sensor,batteryCharged:U.attributes.battery_charged_sensor,batteryDischarged:U.attributes.battery_discharged_sensor,feedInTariff:U.attributes.feed_in_tariff_sensor,purchaseTariff:U.attributes.purchase_tariff_sensor}):R(null)};k();const $=q=>{q.domain==="energy_dashboard_device"&&k()},P=q=>{q.domain==="energy_dashboard_device"&&k()};return me.on("entity-updated",$),me.on("entity-registered",P),()=>{me.off("entity-updated",$),me.off("entity-registered",P)}},[]);const E=async()=>{if(!i){console.warn("No hass connection for energy sensor detection");return}M(!0);try{const k=await al(i);p(k),k.success&&k.sensors&&(f(k.sensors),kn(k.sensors))}catch(k){console.error("Failed to detect energy sensors:",k),p({success:!1,source:"error",sensors:x})}finally{M(!1)}},H=()=>{v(-1),o("main")},I=(k,$)=>{const P={...u,[k]:$};d(P),kl(P),window.dispatchEvent(new CustomEvent("statsBarWidgetsChanged",{detail:P}))},X=k=>{y(k),k==="auto"&&E()},D=(k,$)=>{const P={...x,[k]:$};f(P),kn(P)},F=()=>{v(1),o("widgets")},z=()=>{v(1),o("dataSources")},g=k=>{T(k),localStorage.setItem("statsBarEnabled",k),window.dispatchEvent(new CustomEvent("statsBarEnabledChanged",{detail:k}))},[C,A]=w(null);return O(()=>{(async()=>{if(i)try{const $=await gr(i);A($)}catch{A(null)}})()},[i]),e(S.div,{custom:h,variants:yl,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),style:{position:"relative"},children:[s==="main"?e(fe,{children:[e("div",{className:"ios-navbar",children:[r&&e("button",{className:"ios-navbar-back",onClick:r,children:[e("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:e("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),e("span",{children:t("back")})]}),e("div",{className:"ios-navbar-title",children:t("statsBar")})]}),e("div",{ref:l,className:"ios-settings-view",children:[e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:n==="de"?"EINSTELLUNGEN":"SETTINGS"}),e("div",{className:"ios-card",children:[e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:n==="de"?"StatsBar aktivieren":"Enable StatsBar"}),e("div",{className:"ios-item-subtitle",children:n==="de"?"Statusleiste mit Widgets anzeigen":"Show status bar with widgets"})]})}),e("div",{className:"ios-item-right",children:e("label",{className:"ios-toggle",children:[e("input",{type:"checkbox",checked:N,onChange:k=>g(k.target.checked)}),e("span",{className:"ios-toggle-slider"})]})})]}),e("div",{className:"ios-divider"}),e("div",{className:"ios-item",style:{opacity:N?1:.5},children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:n==="de"?"Benutzername":"Username"}),e("div",{className:"ios-item-subtitle",children:n==="de"?"Automatisch aus Home Assistant":"Automatically from Home Assistant"})]})}),e("div",{className:"ios-item-right",style:{display:"flex",alignItems:"center",gap:"8px"},children:[C&&e("img",{src:C,alt:i.user.name,onError:k=>{console.error("Failed to load profile picture:",C),k.target.style.display="none"},style:{width:"28px",height:"28px",borderRadius:"50%",objectFit:"cover",border:"2px solid rgba(255, 255, 255, 0.2)"}}),e("span",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"14px"},children:i?.user?.name||"User"})]})]})]})]}),e("div",{className:"ios-section",children:e("div",{className:"ios-card",children:[e(S.div,{className:"ios-item ios-item-clickable",onClick:N?F:void 0,style:{opacity:N?1:.5,pointerEvents:N?"auto":"none"},children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("widgets")}),e("div",{className:"ios-item-subtitle",children:t("widgetsDescription")})]})}),e("div",{className:"ios-item-right",children:[e("span",{className:"ios-item-value",children:[Object.values(u).filter(k=>k===!0).length," ",t("active")]}),e("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:e("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),e("div",{className:"ios-divider"}),e(S.div,{className:"ios-item ios-item-clickable",onClick:N?z:void 0,style:{opacity:N?1:.5,pointerEvents:N?"auto":"none"},children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("dataSources")}),e("div",{className:"ios-item-subtitle",children:t("dataSourcesDescription")})]})}),e("div",{className:"ios-item-right",children:[e("span",{className:"ios-item-value",children:m?.source==="energy_dashboard"?"üîç Auto":m?.source==="auto_detect"?"üîç Muster":b==="manual"?"‚úèÔ∏è Manuell":"--"}),e("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:e("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})}),e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:t("aboutStatsBar")}),e("div",{className:"ios-card",style:{padding:"16px"},children:e("div",{className:"ios-text",style:{fontSize:"14px",lineHeight:"1.6"},children:[t("statsBarDescription"),e("br",{}),e("br",{}),e("strong",{children:t("features")}),e("br",{}),"‚Ä¢ ",t("liveUpdates"),e("br",{}),"‚Ä¢ ",t("energyDashboardIntegration"),e("br",{}),"‚Ä¢ ",t("customizableWidgets")]})})]})]})]}):s==="widgets"?e(fe,{children:[e("div",{className:"ios-navbar",children:[e("button",{className:"ios-navbar-back",onClick:H,children:[e("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:e("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),e("span",{children:t("back")})]}),e("div",{className:"ios-navbar-title",children:t("widgets")})]}),e("div",{ref:l,className:"ios-settings-view",children:e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:t("availableWidgets")}),e("div",{className:"ios-card",children:[e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e(ul,{size:20,color:"rgba(255, 255, 255, 0.9)"}),e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("weatherWidget")}),e("div",{className:"ios-item-subtitle",children:t("weatherWidgetDescription")})]})]})}),e("div",{className:"ios-item-right",children:e("label",{className:"ios-toggle",children:[e("input",{type:"checkbox",checked:u.weather,onChange:k=>I("weather",k.target.checked)}),e("span",{className:"ios-toggle-slider"})]})})]}),e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e(Gt,{size:20,color:"rgba(255, 255, 255, 0.9)"}),e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("energyGridConsumptionWidget")}),e("div",{className:"ios-item-subtitle",children:t("energyGridConsumptionDescription")})]})]})}),e("div",{className:"ios-item-right",children:e("label",{className:"ios-toggle",children:[e("input",{type:"checkbox",checked:u.gridConsumption,onChange:k=>I("gridConsumption",k.target.checked)}),e("span",{className:"ios-toggle-slider"})]})})]}),e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e(Gt,{size:20,color:"rgba(255, 255, 255, 0.9)"}),e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("energyGridReturnWidget")}),e("div",{className:"ios-item-subtitle",children:t("energyGridReturnDescription")})]})]})}),e("div",{className:"ios-item-right",children:e("label",{className:"ios-toggle",children:[e("input",{type:"checkbox",checked:u.gridReturn,onChange:k=>I("gridReturn",k.target.checked)}),e("span",{className:"ios-toggle-slider"})]})})]}),e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e(cr,{size:20,color:"rgba(255, 255, 255, 0.9)"}),e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("solarProductionWidget")}),e("div",{className:"ios-item-subtitle",children:t("solarProductionDescription")})]})]})}),e("div",{className:"ios-item-right",children:e("label",{className:"ios-toggle",children:[e("input",{type:"checkbox",checked:u.solar,onChange:k=>I("solar",k.target.checked)}),e("span",{className:"ios-toggle-slider"})]})})]}),e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e(mr,{size:20,color:"rgba(255, 255, 255, 0.9)"}),e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("notificationsWidget")}),e("div",{className:"ios-item-subtitle",children:t("notificationsWidgetDescription")})]})]})}),e("div",{className:"ios-item-right",children:e("label",{className:"ios-toggle",children:[e("input",{type:"checkbox",checked:u.notifications,onChange:k=>I("notifications",k.target.checked)}),e("span",{className:"ios-toggle-slider"})]})})]}),e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e(pr,{size:20,color:"rgba(255, 255, 255, 0.9)"}),e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("timeWidget")}),e("div",{className:"ios-item-subtitle",children:t("timeWidgetDescription")})]})]})}),e("div",{className:"ios-item-right",children:e("label",{className:"ios-toggle",children:[e("input",{type:"checkbox",checked:u.time,onChange:k=>I("time",k.target.checked)}),e("span",{className:"ios-toggle-slider"})]})})]}),e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e(ur,{size:20,color:"rgba(255, 255, 255, 0.9)"}),e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("consumptionWidget")}),e("div",{className:"ios-item-subtitle",children:t("consumptionDescription")})]})]})}),e("div",{className:"ios-item-right",children:e("label",{className:"ios-toggle",children:[e("input",{type:"checkbox",checked:u.consumption,onChange:k=>I("consumption",k.target.checked)}),e("span",{className:"ios-toggle-slider"})]})})]}),e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e(hr,{size:20,color:"rgba(255, 255, 255, 0.9)"}),e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("todayConsumptionWidget")}),e("div",{className:"ios-item-subtitle",children:t("todayConsumptionDescription")})]})]})}),e("div",{className:"ios-item-right",children:e("label",{className:"ios-toggle",children:[e("input",{type:"checkbox",checked:u.todayConsumption,onChange:k=>I("todayConsumption",k.target.checked)}),e("span",{className:"ios-toggle-slider"})]})})]}),e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e(dr,{size:20,color:"rgba(255, 255, 255, 0.9)"}),e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("todayCostWidget")}),e("div",{className:"ios-item-subtitle",children:t("todayCostDescription")})]})]})}),e("div",{className:"ios-item-right",children:e("label",{className:"ios-toggle",children:[e("input",{type:"checkbox",checked:u.todayCost,onChange:k=>I("todayCost",k.target.checked)}),e("span",{className:"ios-toggle-slider"})]})})]})]}),e("div",{className:"ios-section-footer",children:t("widgetsFooter")})]})})]}):s==="dataSources"?e(fe,{children:[e("div",{className:"ios-navbar",children:[e("button",{className:"ios-navbar-back",onClick:H,children:[e("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:e("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),e("span",{children:t("back")})]}),e("div",{className:"ios-navbar-title",children:t("dataSources")})]}),e("div",{ref:l,className:"ios-settings-view",children:[e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:t("detectionMode")}),e("div",{className:"ios-card",children:[e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("autoDetection")}),e("div",{className:"ios-item-subtitle",children:[L&&t("detectionRunning"),!L&&m?.source==="energy_dashboard"&&t("energyDashboardFound"),!L&&m?.source==="auto_detect"&&t("patternBasedDetection"),!L&&m?.source==="none"&&t("noSensorsDetected"),!L&&m?.source==="error"&&t("detectionError"),!L&&!m&&t("notChecked")]})]})}),e("div",{className:"ios-item-right",children:e("label",{className:"ios-toggle",children:[e("input",{type:"checkbox",checked:b==="auto",onChange:k=>X(k.target.checked?"auto":"manual")}),e("span",{className:"ios-toggle-slider"})]})})]}),b==="auto"&&e(fe,{children:[e("div",{className:"ios-divider"}),e(S.div,{className:"ios-item ios-item-clickable",onClick:()=>{L||E()},style:{cursor:L?"wait":"pointer",opacity:L?.6:1},children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("startDetection")}),e("div",{className:"ios-item-subtitle",children:t(L?"searchRunning":"redetectSensors")})]})}),e("div",{className:"ios-item-right",children:e(S.svg,{className:"ios-chevron",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",animate:L?{rotate:360}:{rotate:0},transition:L?{duration:1,repeat:1/0,ease:"linear"}:{},children:e("path",{d:"M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0118.8-4.3M22 12.5a10 10 0 01-18.8 4.2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})]}),e("div",{className:"ios-section-footer",children:t(b==="auto"?"autoDetectionInfo":"manualConfigInfo")})]}),_?e(fe,{children:[e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:n==="de"?"LEISTUNG (W/KW)":"POWER (W/KW)"}),e("div",{className:"ios-card",children:[e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:n==="de"?"Netzbezug":"Grid Import"}),e("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:_.gridImport||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),e("div",{className:"ios-item-right",children:_.gridImport&&i&&De(i,_.gridImport)?e("span",{style:{color:"#34C759",fontSize:"18px"},children:"‚úì"}):_.gridImport?e("span",{style:{color:"#FF9500",fontSize:"18px"},children:"‚ö†Ô∏è"}):e("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]}),e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:n==="de"?"Netzeinspeisung":"Grid Export"}),e("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:_.gridReturn||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),e("div",{className:"ios-item-right",children:_.gridReturn&&i&&De(i,_.gridReturn)?e("span",{style:{color:"#34C759",fontSize:"18px"},children:"‚úì"}):_.gridReturn?e("span",{style:{color:"#FF9500",fontSize:"18px"},children:"‚ö†Ô∏è"}):e("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]}),e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:n==="de"?"PV Leistung":"PV Power"}),e("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:_.solar||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),e("div",{className:"ios-item-right",children:_.solar&&i&&De(i,_.solar)?e("span",{style:{color:"#34C759",fontSize:"18px"},children:"‚úì"}):_.solar?e("span",{style:{color:"#FF9500",fontSize:"18px"},children:"‚ö†Ô∏è"}):e("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]}),e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:n==="de"?"Verbrauch":"Consumption"}),e("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:_.consumption||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),e("div",{className:"ios-item-right",children:_.consumption&&i&&De(i,_.consumption)?e("span",{style:{color:"#34C759",fontSize:"18px"},children:"‚úì"}):_.consumption?e("span",{style:{color:"#FF9500",fontSize:"18px"},children:"‚ö†Ô∏è"}):e("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]}),e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:n==="de"?"Gesch√§tzte Leistung":"Estimated Power"}),e("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:_.estimatedPower||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),e("div",{className:"ios-item-right",children:_.estimatedPower&&i&&De(i,_.estimatedPower)?e("span",{style:{color:"#34C759",fontSize:"18px"},children:"‚úì"}):_.estimatedPower?e("span",{style:{color:"#FF9500",fontSize:"18px"},children:"‚ö†Ô∏è"}):e("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]})]}),e("div",{className:"ios-section-footer",children:n==="de"?"Quelle: system.energy_dashboard":"Source: system.energy_dashboard"})]}),e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:n==="de"?"ENERGIE (WH/KWH)":"ENERGY (WH/KWH)"}),e("div",{className:"ios-card",children:[e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:n==="de"?"Bezogene Wirkenergie gesamt":"Grid Import Total"}),e("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:_.kwh||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),e("div",{className:"ios-item-right",children:_.kwh&&i&&De(i,_.kwh)?e("span",{style:{color:"#34C759",fontSize:"18px"},children:"‚úì"}):_.kwh?e("span",{style:{color:"#FF9500",fontSize:"18px"},children:"‚ö†Ô∏è"}):e("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]}),e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:n==="de"?"PV kumulativ gesamt":"PV Total"}),e("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:_.pvTotal||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),e("div",{className:"ios-item-right",children:_.pvTotal&&i&&De(i,_.pvTotal)?e("span",{style:{color:"#34C759",fontSize:"18px"},children:"‚úì"}):_.pvTotal?e("span",{style:{color:"#FF9500",fontSize:"18px"},children:"‚ö†Ô∏è"}):e("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]}),e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:n==="de"?"Gesch√§tzte Erzeugung heute":"Estimated Production Today"}),e("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:_.estimatedEnergyToday||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),e("div",{className:"ios-item-right",children:_.estimatedEnergyToday&&i&&De(i,_.estimatedEnergyToday)?e("span",{style:{color:"#34C759",fontSize:"18px"},children:"‚úì"}):_.estimatedEnergyToday?e("span",{style:{color:"#FF9500",fontSize:"18px"},children:"‚ö†Ô∏è"}):e("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]}),e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:n==="de"?"Einspeisung gesamt":"Grid Export Total"}),e("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:_.gridExportTotal||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),e("div",{className:"ios-item-right",children:_.gridExportTotal&&i&&De(i,_.gridExportTotal)?e("span",{style:{color:"#34C759",fontSize:"18px"},children:"‚úì"}):_.gridExportTotal?e("span",{style:{color:"#FF9500",fontSize:"18px"},children:"‚ö†Ô∏è"}):e("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]})]}),e("div",{className:"ios-section-footer",children:n==="de"?"Quelle: system.energy_dashboard":"Source: system.energy_dashboard"})]}),e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:n==="de"?"BATTERIE":"BATTERY"}),e("div",{className:"ios-card",children:[e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:n==="de"?"Entladen (kWh)":"Discharged (kWh)"}),e("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:_.batteryDischarged||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),e("div",{className:"ios-item-right",children:_.batteryDischarged&&i&&De(i,_.batteryDischarged)?e("span",{style:{color:"#34C759",fontSize:"18px"},children:"‚úì"}):_.batteryDischarged?e("span",{style:{color:"#FF9500",fontSize:"18px"},children:"‚ö†Ô∏è"}):e("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]}),e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:n==="de"?"Geladen (kWh)":"Charged (kWh)"}),e("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:_.batteryCharged||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),e("div",{className:"ios-item-right",children:_.batteryCharged&&i&&De(i,_.batteryCharged)?e("span",{style:{color:"#34C759",fontSize:"18px"},children:"‚úì"}):_.batteryCharged?e("span",{style:{color:"#FF9500",fontSize:"18px"},children:"‚ö†Ô∏è"}):e("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]})]}),e("div",{className:"ios-section-footer",children:n==="de"?"Quelle: system.energy_dashboard":"Source: system.energy_dashboard"})]}),e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:n==="de"?"TARIFE":"TARIFFS"}),e("div",{className:"ios-card",children:[e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:n==="de"?"Einspesetarif":"Feed-in Tariff"}),e("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:_.feedInTariff||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),e("div",{className:"ios-item-right",children:_.feedInTariff&&i&&De(i,_.feedInTariff)?e("span",{style:{color:"#34C759",fontSize:"18px"},children:"‚úì"}):_.feedInTariff?e("span",{style:{color:"#FF9500",fontSize:"18px"},children:"‚ö†Ô∏è"}):e("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]}),e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:n==="de"?"Bezugstarif":"Purchase Tariff"}),e("div",{className:"ios-item-subtitle",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:_.purchaseTariff||(n==="de"?"Nicht konfiguriert":"Not configured")})]})}),e("div",{className:"ios-item-right",children:_.purchaseTariff&&i&&De(i,_.purchaseTariff)?e("span",{style:{color:"#34C759",fontSize:"18px"},children:"‚úì"}):_.purchaseTariff?e("span",{style:{color:"#FF9500",fontSize:"18px"},children:"‚ö†Ô∏è"}):e("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]})]}),e("div",{className:"ios-section-footer",children:n==="de"?"Quelle: system.energy_dashboard":"Source: system.energy_dashboard"})]})]}):e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:"ENERGIE"}),e("div",{className:"ios-card",style:{padding:"20px",textAlign:"center"},children:e("div",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"14px"},children:n==="de"?"Keine Energy Dashboard Entity gefunden. Bitte konfiguriere system.energy_dashboard in Integration.":"No Energy Dashboard entity found. Please configure system.energy_dashboard in Integration."})})]}),e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:"WETTER"}),e("div",{className:"ios-card",children:e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("weatherWidget")}),e("div",{className:"ios-item-subtitle",style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)"},children:n==="de"?"Automatisch aus weather.* Entity":"Automatically from weather.* entity"})]})}),e("div",{className:"ios-item-right",children:i&&Object.keys(i.states).some(k=>k.startsWith("weather."))?e("span",{style:{color:"#34C759",fontSize:"18px"},children:"‚úì"}):e("span",{style:{color:"#8E8E93",fontSize:"18px"},children:"--"})})]})}),e("div",{className:"ios-section-footer",children:n==="de"?"Wetter-Daten werden automatisch von der ersten weather.* Entity in Home Assistant erkannt.":"Weather data is automatically detected from the first weather.* entity in Home Assistant."})]}),e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:"UHR"}),e("div",{className:"ios-card",children:e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("timeWidget")}),e("div",{className:"ios-item-subtitle",style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)"},children:n==="de"?"Systemzeit":"System time"})]})}),e("div",{className:"ios-item-right",children:e("span",{style:{color:"#34C759",fontSize:"18px"},children:"‚úì"})})]})}),e("div",{className:"ios-section-footer",children:n==="de"?"Die Uhrzeit wird aus der Systemzeit des Browsers abgeleitet. Kein Sensor erforderlich.":"Time is derived from browser system time. No sensor required."})]}),b==="manual"&&e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:t("manualConfiguration")}),e("div",{className:"ios-card",style:{padding:"16px"},children:[e("div",{className:"ios-text",style:{fontSize:"14px",lineHeight:"1.6",marginBottom:"16px"},children:t("manualConfigDescription")}),e("div",{style:{marginBottom:"12px"},children:[e("label",{style:{display:"block",fontSize:"13px",marginBottom:"4px",color:"rgba(255,255,255,0.6)"},children:t("gridConsumptionEntityLabel")}),e("input",{type:"text",value:x.gridConsumption||"",onChange:k=>D("gridConsumption",k.target.value),placeholder:"z.B. sensor.grid_consumption_power",style:{width:"100%",padding:"8px 12px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"white",fontSize:"14px"}})]}),e("div",{style:{marginBottom:"12px"},children:[e("label",{style:{display:"block",fontSize:"13px",marginBottom:"4px",color:"rgba(255,255,255,0.6)"},children:t("gridReturnEntityLabel")}),e("input",{type:"text",value:x.gridReturn||"",onChange:k=>D("gridReturn",k.target.value),placeholder:"z.B. sensor.grid_return_power",style:{width:"100%",padding:"8px 12px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"white",fontSize:"14px"}})]}),e("div",{children:[e("label",{style:{display:"block",fontSize:"13px",marginBottom:"4px",color:"rgba(255,255,255,0.6)"},children:t("solarEntityLabel")}),e("input",{type:"text",value:x.solar||"",onChange:k=>D("solar",k.target.value),placeholder:"z.B. sensor.solar_power",style:{width:"100%",padding:"8px 12px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"white",fontSize:"14px"}})]})]})]}),e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:t("aboutDataSources")}),e("div",{className:"ios-card",style:{padding:"16px"},children:e("div",{className:"ios-text",style:{fontSize:"14px",lineHeight:"1.6",whiteSpace:"pre-line"},children:t("autoDetectionDescription")})})]})]})]}):null,e(_e,{scrollContainerRef:l,isHovered:a})]},s)},dt={enter:t=>({x:t>0?"100%":"-100%",opacity:0}),center:{x:0,opacity:1},exit:t=>({x:t<0?"100%":"-100%",opacity:0})},_n=(t,i)=>({slow:i("slow"),normal:i("normal"),fast:i("fast")})[t]||i("normal"),Cl=()=>{try{const t=localStorage.getItem("systemSettings");if(!t)return{enabled:!0,username:"User"};const n=JSON.parse(t).appearance||{};return{enabled:n.statsBarEnabled!==!1,username:n.statsBarUsername||"User"}}catch{return{enabled:!0,username:"User"}}},xl=()=>{try{const t=localStorage.getItem("systemSettings");return t?{enabled:(JSON.parse(t).appearance||{}).greetingsBarEnabled!==!1}:{enabled:!0}}catch{return{enabled:!0}}},Sl=t=>{try{const i=localStorage.getItem("systemSettings"),n=i?JSON.parse(i):{};n.appearance=n.appearance||{},n.appearance.greetingsBarEnabled=t.enabled,localStorage.setItem("systemSettings",JSON.stringify(n))}catch(i){console.error("Failed to save GreetingsBar settings:",i)}},_l=({t,aiModeEnabled:i,setAiModeEnabled:n,animations:r,setAnimations:s,soundEffects:o,setSoundEffects:l,language:a,setLanguage:c,currency:u,setCurrency:d,notifications:h,setNotifications:v,showNotifications:b=!0,hass:y,lang:m,predictiveSuggestions:p,confidenceThreshold:x,timeWindow:f,maxSuggestions:L,learningRate:M})=>{const[_,R]=w("main"),N=Q(null),[T,E]=w(!1),[H,I]=w(()=>Cl()),[X,D]=w(()=>xl()),[F,z]=w(p),[g,C]=w(x),[A,k]=w(f),[$,P]=w(L),[q,U]=w(M);O(()=>{const B=V=>{I(j=>({...j,enabled:V.detail}))};return window.addEventListener("statsBarEnabledChanged",B),()=>window.removeEventListener("statsBarEnabledChanged",B)},[]);const Y=()=>{R("main")},se=B=>{const V={...X,enabled:B};D(V),Sl(V),window.dispatchEvent(new CustomEvent("greetingsBarEnabledChanged",{detail:B}))};return e("div",{className:"ios-settings-container",children:e(xe,{mode:"wait",initial:!1,custom:_==="main"?-1:1,children:_==="main"?e(S.div,{custom:-1,variants:dt,initial:!1,animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),style:{position:"relative"},children:[e("div",{ref:N,className:"ios-settings-view",style:{padding:"20px"},children:[e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:t("general")}),e("div",{className:"ios-card",children:[e("div",{className:"ios-item",style:{display:"none"},children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("aiMode")}),e("div",{className:"ios-item-subtitle",children:t("aiModeDescription")})]})}),e("div",{className:"ios-item-right",children:e("label",{className:"ios-toggle",children:[e("input",{type:"checkbox",checked:i,onChange:B=>{const V=B.target.checked;n(V),localStorage.setItem("aiModeEnabled",V),window.dispatchEvent(new CustomEvent("aiModeSettingChanged",{detail:{enabled:V}}))}}),e("span",{className:"ios-toggle-slider"})]})})]}),e("div",{className:"ios-item",style:{display:"none"},children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("animations")}),e("div",{className:"ios-item-subtitle",children:t("animationsDescription")})]})}),e("div",{className:"ios-item-right",children:e("label",{className:"ios-toggle",children:[e("input",{type:"checkbox",checked:r,onChange:B=>s(B.target.checked)}),e("span",{className:"ios-toggle-slider"})]})})]}),e("div",{className:"ios-item",style:{display:"none"},children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("soundEffects")}),e("div",{className:"ios-item-subtitle",children:t("soundEffectsDescription")})]})}),e("div",{className:"ios-item-right",children:e("label",{className:"ios-toggle",children:[e("input",{type:"checkbox",checked:o,onChange:B=>l(B.target.checked)}),e("span",{className:"ios-toggle-slider"})]})})]}),e(S.div,{className:"ios-item ios-item-clickable",onClick:()=>R("language"),children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("appLanguage")}),e("div",{className:"ios-item-subtitle",children:t("appLanguageDescription")})]})}),e("div",{className:"ios-item-right",children:[e("span",{className:"ios-item-value",children:yn(a)}),e("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:e("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),e("div",{className:"ios-divider"}),e(S.div,{className:"ios-item ios-item-clickable",onClick:()=>R("currency"),children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("appCurrency")}),e("div",{className:"ios-item-subtitle",children:t("appCurrencyDescription")})]})}),e("div",{className:"ios-item-right",children:[e("span",{className:"ios-item-value",children:bn(u)}),e("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:e("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})]}),e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:t("statusAndGreetings")}),e("div",{className:"ios-card",children:[e(S.div,{className:"ios-item ios-item-clickable",onClick:()=>R("statsBar"),children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("statsBarLabel")}),e("div",{className:"ios-item-subtitle",children:t("statsBarDescription")})]})}),e("div",{className:"ios-item-right",children:[e("span",{className:"ios-item-value",children:H.enabled?t("active"):t("inactive")}),e("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:e("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("greetingsBarLabel")}),e("div",{className:"ios-item-subtitle",children:t("greetingsBarDescription")})]})}),e("div",{className:"ios-item-right",children:e("label",{className:"ios-toggle",children:[e("input",{type:"checkbox",checked:X.enabled,onChange:B=>se(B.target.checked)}),e("span",{className:"ios-toggle-slider"})]})})]})]})]}),e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:t("suggestions")}),e("div",{className:"ios-card",children:e(S.div,{className:"ios-item ios-item-clickable",onClick:()=>R("suggestions"),children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("enableSuggestions")}),e("div",{className:"ios-item-subtitle",children:t("enableSuggestionsDescription")})]})}),e("div",{className:"ios-item-right",children:[e("span",{className:"ios-item-value",children:t(F?"active":"inactive")}),e("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:e("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})})]}),e("div",{className:"ios-section",style:{display:"none"},children:[e("div",{className:"ios-section-header",children:t("notifications")}),e("div",{className:"ios-card",children:e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("pushNotifications")}),e("div",{className:"ios-item-subtitle",children:t("pushNotificationsDescription")})]})}),e("div",{className:"ios-item-right",children:e("label",{className:"ios-toggle",children:[e("input",{type:"checkbox",checked:h,onChange:B=>v(B.target.checked)}),e("span",{className:"ios-toggle-slider"})]})})]})})]})]}),e(_e,{scrollContainerRef:N,isHovered:T})]},"main"):_==="statsBar"?e(wl,{t,hass:y,lang:m,onBack:Y}):_==="suggestions"?e(S.div,{custom:1,variants:dt,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),style:{position:"relative"},children:[e("div",{className:"ios-navbar",children:[e("button",{className:"ios-navbar-back",onClick:Y,children:[e("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:e("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),e("span",{children:t("back")})]}),e("div",{className:"ios-navbar-title",children:t("enableSuggestions")})]}),e("div",{ref:N,className:"ios-settings-view",children:[e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:t("settings")}),e("div",{className:"ios-card",children:e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("enableSuggestions")}),e("div",{className:"ios-item-subtitle",children:t("enableSuggestionsDescription")})]})}),e("div",{className:"ios-item-right",children:e("label",{className:"ios-toggle",children:[e("input",{type:"checkbox",checked:F,onChange:B=>{const V=B.target.checked;z(V),localStorage.setItem("predictiveSuggestions",V),window.dispatchEvent(new CustomEvent("predictiveSettingChanged",{detail:{enabled:V}}))}}),e("span",{className:"ios-toggle-slider"})]})})]})})]}),e("div",{className:"ios-section",style:{opacity:F?1:.5,pointerEvents:F?"auto":"none",transition:"opacity 0.3s ease"},children:e("div",{className:"ios-card",children:e("div",{className:"ios-item",style:{flexDirection:"column",alignItems:"stretch",padding:"16px"},children:[e("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[e("div",{className:"ios-item-label",style:{fontSize:"14px",fontWeight:"600"},children:t("confidenceThresholdLabel")}),e("div",{className:"slider-value",style:{fontSize:"14px",fontWeight:"600"},children:[g,"%"]})]}),e("div",{className:"ios-item-subtitle",style:{marginBottom:"12px",fontSize:"14px"},children:t("confidenceThresholdDescription")}),e("input",{type:"range",className:"bambu-slider",min:"40",max:"90",value:g,disabled:!F,onChange:B=>{const V=parseInt(B.target.value);C(V),localStorage.setItem("confidenceThreshold",V),window.dispatchEvent(new CustomEvent("predictiveSettingChanged",{detail:{confidenceThreshold:V}}))},style:{"--value":g,"--min":40,"--max":90}})]})})}),e("div",{className:"ios-section",style:{opacity:F?1:.5,pointerEvents:F?"auto":"none",transition:"opacity 0.3s ease"},children:e("div",{className:"ios-card",children:e("div",{className:"ios-item",style:{flexDirection:"column",alignItems:"stretch",padding:"16px"},children:[e("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[e("div",{className:"ios-item-label",style:{fontSize:"14px",fontWeight:"600"},children:t("timeWindowLabel")}),e("div",{className:"slider-value",style:{fontSize:"14px",fontWeight:"600"},children:[A," min"]})]}),e("div",{className:"ios-item-subtitle",style:{marginBottom:"12px",fontSize:"14px"},children:t("timeWindowDescription")}),e("input",{type:"range",className:"bambu-slider",min:"15",max:"120",step:"15",value:A,disabled:!F,onChange:B=>{const V=parseInt(B.target.value);k(V),localStorage.setItem("suggestionTimeWindow",V),window.dispatchEvent(new CustomEvent("predictiveSettingChanged",{detail:{timeWindow:V}}))},style:{"--value":A,"--min":15,"--max":120}})]})})}),e("div",{className:"ios-section",style:{opacity:F?1:.5,pointerEvents:F?"auto":"none",transition:"opacity 0.3s ease"},children:e("div",{className:"ios-card",children:e("div",{className:"ios-item",style:{flexDirection:"column",alignItems:"stretch",padding:"16px"},children:[e("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[e("div",{className:"ios-item-label",style:{fontSize:"14px",fontWeight:"600"},children:t("maxSuggestionsLabel")}),e("div",{className:"slider-value",style:{fontSize:"14px",fontWeight:"600"},children:$})]}),e("div",{className:"ios-item-subtitle",style:{marginBottom:"12px",fontSize:"14px"},children:t("maxSuggestionsDescription")}),e("input",{type:"range",className:"bambu-slider",min:"5",max:"20",value:$,disabled:!F,onChange:B=>{const V=parseInt(B.target.value);P(V),localStorage.setItem("maxSuggestions",V),window.dispatchEvent(new CustomEvent("predictiveSettingChanged",{detail:{maxSuggestions:V}}))},style:{"--value":$,"--min":5,"--max":20}})]})})}),e("div",{className:"ios-section",style:{opacity:F?1:.5,pointerEvents:F?"auto":"none",transition:"opacity 0.3s ease"},children:[e("div",{className:"ios-section-header",children:t("learningSpeed")}),e("div",{className:"ios-card",children:e(S.div,{className:"ios-item ios-item-clickable",onClick:()=>R("learningRate"),children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("learningSpeed")}),e("div",{className:"ios-item-subtitle",children:t("learningSpeedDescription")})]})}),e("div",{className:"ios-item-right",children:[e("span",{className:"ios-item-value",children:_n(q,t)}),e("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:e("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})})]})]}),e(_e,{scrollContainerRef:N,isHovered:T})]},"suggestions"):_==="learningRate"?e(S.div,{custom:1,variants:dt,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),style:{position:"relative"},children:[e("div",{className:"ios-navbar",children:[e("button",{className:"ios-navbar-back",onClick:()=>R("suggestions"),children:[e("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:e("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),e("span",{children:t("back")})]}),e("div",{className:"ios-navbar-title",children:t("learningSpeed")})]}),e("div",{ref:N,className:"ios-settings-view",children:e("div",{className:"ios-section",children:e("div",{className:"ios-card",children:["slow","normal","fast"].map((B,V)=>e("div",{children:[V>0&&e("div",{className:"ios-divider"}),e(S.div,{className:"ios-item ios-item-clickable",onClick:()=>{U(B),localStorage.setItem("learningRate",B),window.dispatchEvent(new CustomEvent("predictiveSettingChanged",{detail:{learningRate:B}}))},children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:e("div",{className:"ios-item-label",children:_n(B,t)})})}),e("div",{className:"ios-item-right",children:q===B&&e("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",style:{color:"rgb(0, 122, 255)"},children:e("path",{d:"M7 10L9 12L13 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]},B))})})}),e(_e,{scrollContainerRef:N,isHovered:T})]},"learningRate"):_==="language"?e(S.div,{custom:1,variants:dt,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),style:{position:"relative"},children:[e("div",{className:"ios-navbar",children:[e("button",{className:"ios-navbar-back",onClick:Y,children:[e("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:e("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),e("span",{children:t("back")||"Zur√ºck"})]}),e("div",{className:"ios-navbar-title",children:t("appLanguage")})]}),e("div",{ref:N,className:"ios-settings-view",children:e("div",{className:"ios-section",children:e("div",{className:"ios-card",children:el.map((B,V)=>e("div",{children:[V>0&&e("div",{className:"ios-divider"}),e(S.div,{className:"ios-item ios-item-clickable",onClick:()=>{c(B),localStorage.setItem("userLanguage",B),window.dispatchEvent(new CustomEvent("languageChanged",{detail:{language:B}})),setTimeout(Y,150)},children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:e("div",{className:"ios-item-label",children:yn(B)})})}),e("div",{className:"ios-item-right",children:a===B&&e(S.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[e(S.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),e(S.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]})]},B))})})}),e(_e,{scrollContainerRef:N,isHovered:T})]},"language"):_==="currency"?e(S.div,{custom:1,variants:dt,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),style:{position:"relative"},children:[e("div",{className:"ios-navbar",children:[e("button",{className:"ios-navbar-back",onClick:Y,children:[e("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:e("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),e("span",{children:t("back")||"Zur√ºck"})]}),e("div",{className:"ios-navbar-title",children:t("appCurrency")})]}),e("div",{ref:N,className:"ios-settings-view",children:e("div",{className:"ios-section",children:e("div",{className:"ios-card",children:nl.map((B,V)=>e("div",{children:[V>0&&e("div",{className:"ios-divider"}),e(S.div,{className:"ios-item ios-item-clickable",onClick:()=>{d(B),localStorage.setItem("userCurrency",B),window.dispatchEvent(new CustomEvent("currencyChanged",{detail:{currency:B}})),setTimeout(Y,150)},children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:e("div",{className:"ios-item-label",children:bn(B)})})}),e("div",{className:"ios-item-right",children:u===B&&e(S.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[e(S.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),e(S.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]})]},B))})})}),e(_e,{scrollContainerRef:N,isHovered:T})]},"currency"):null})})},fr={none:null,subtle:"polygon(100% 50%, 100% 58%, 100% 60.5%, 100% 62.5%, 99.95% 64.2%, 99.95% 65.6%, 99.9% 66.9%, 99.85% 68.1%, 99.8% 69.2%, 99.75% 70.2%, 99.7% 71.2%, 99.6% 72.1%, 99.5% 73%, 99.4% 73.9%, 99.3% 74.7%, 99.15% 75.5%, 99% 76.3%, 98.85% 77%, 98.7% 77.7%, 98.5% 78.4%, 98.3% 79.1%, 98.1% 79.7%, 97.9% 80.4%, 97.65% 81%, 97.4% 81.6%, 97.15% 82.2%, 96.9% 82.8%, 96.6% 83.4%, 96.3% 84%, 96% 84.5%, 95.7% 85%, 95.4% 85.6%, 95.05% 86.1%, 94.7% 86.6%, 94.35% 87.1%, 94% 87.6%, 93.6% 88.1%, 93.2% 88.5%, 92.8% 89%, 92.4% 89.4%, 92% 89.9%, 91.55% 90.3%, 91.1% 90.7%, 90.65% 91.1%, 90.2% 91.5%, 89.7% 91.9%, 89.25% 92.2%, 88.75% 92.6%, 88.3% 93%, 87.8% 93.3%, 87.3% 93.7%, 86.8% 94%, 86.25% 94.35%, 85.7% 94.7%, 85.2% 95%, 84.65% 95.3%, 84.1% 95.6%, 83.5% 95.9%, 82.95% 96.15%, 82.4% 96.4%, 81.8% 96.65%, 81.2% 96.9%, 80.6% 97.1%, 80% 97.35%, 79.4% 97.6%, 78.75% 97.8%, 78.1% 98%, 77.45% 98.2%, 76.8% 98.35%, 76.1% 98.5%, 75.4% 98.65%, 74.7% 98.8%, 74% 98.9%, 73.25% 99%, 72.5% 99.1%, 71.75% 99.2%, 71% 99.3%, 70.2% 99.35%, 69.4% 99.4%, 68.6% 99.45%, 67.8% 99.5%, 67% 99.55%, 66.2% 99.6%, 65.35% 99.65%, 64.5% 99.7%, 63.65% 99.75%, 62.8% 99.8%, 61.9% 99.85%, 61% 99.9%, 60.1% 99.95%, 59.2% 100%, 58.25% 100%, 57.3% 100%, 56.3% 100%, 55.3% 100%, 54.3% 100%, 53.25% 100%, 52.2% 100%, 51.1% 100%, 50% 100%, 48.9% 100%, 47.8% 100%, 46.75% 100%, 45.7% 100%, 44.7% 100%, 43.7% 100%, 42.7% 100%, 41.75% 100%, 40.8% 100%, 39.9% 99.95%, 39% 99.9%, 38.1% 99.85%, 37.2% 99.8%, 36.35% 99.75%, 35.5% 99.7%, 34.65% 99.65%, 33.8% 99.6%, 33% 99.55%, 32.2% 99.5%, 31.4% 99.45%, 30.6% 99.4%, 29.8% 99.35%, 29% 99.3%, 28.25% 99.2%, 27.5% 99.1%, 26.75% 99%, 26% 98.9%, 25.3% 98.8%, 24.6% 98.65%, 23.9% 98.5%, 23.2% 98.35%, 22.55% 98.2%, 21.9% 98%, 21.25% 97.8%, 20.6% 97.6%, 20% 97.35%, 19.4% 97.1%, 18.8% 96.9%, 18.2% 96.65%, 17.6% 96.4%, 17.05% 96.15%, 16.5% 95.9%, 15.9% 95.6%, 15.35% 95.3%, 14.8% 95%, 14.3% 94.7%, 13.75% 94.35%, 13.2% 94%, 12.7% 93.7%, 12.2% 93.3%, 11.7% 93%, 11.25% 92.6%, 10.75% 92.2%, 10.3% 91.9%, 9.8% 91.5%, 9.35% 91.1%, 8.9% 90.7%, 8.45% 90.3%, 8% 89.9%, 7.6% 89.4%, 7.2% 89%, 6.8% 88.5%, 6.4% 88.1%, 6% 87.6%, 5.65% 87.1%, 5.3% 86.6%, 4.95% 86.1%, 4.6% 85.6%, 4.3% 85%, 4% 84.5%, 3.7% 84%, 3.4% 83.4%, 3.1% 82.8%, 2.85% 82.2%, 2.6% 81.6%, 2.35% 81%, 2.1% 80.4%, 1.9% 79.7%, 1.7% 79.1%, 1.5% 78.4%, 1.3% 77.7%, 1.15% 77%, 1% 76.3%, 0.85% 75.5%, 0.7% 74.7%, 0.6% 73.9%, 0.5% 73%, 0.4% 72.1%, 0.3% 71.2%, 0.25% 70.2%, 0.2% 69.2%, 0.15% 68.1%, 0.1% 66.9%, 0.05% 65.6%, 0.05% 64.2%, 0% 62.5%, 0% 60.5%, 0% 58%, 0% 50%, 0% 42%, 0% 39.5%, 0% 37.5%, 0.05% 35.8%, 0.05% 34.4%, 0.1% 33.1%, 0.15% 31.9%, 0.2% 30.8%, 0.25% 29.8%, 0.3% 28.8%, 0.4% 27.9%, 0.5% 27%, 0.6% 26.1%, 0.7% 25.3%, 0.85% 24.5%, 1% 23.7%, 1.15% 23%, 1.3% 22.3%, 1.5% 21.6%, 1.7% 20.9%, 1.9% 20.3%, 2.1% 19.6%, 2.35% 19%, 2.6% 18.4%, 2.85% 17.8%, 3.1% 17.2%, 3.4% 16.6%, 3.7% 16%, 4% 15.5%, 4.3% 15%, 4.6% 14.4%, 4.95% 13.9%, 5.3% 13.4%, 5.65% 12.9%, 6% 12.4%, 6.4% 11.9%, 6.8% 11.5%, 7.2% 11%, 7.6% 10.6%, 8% 10.1%, 8.45% 9.7%, 8.9% 9.3%, 9.35% 8.9%, 9.8% 8.5%, 10.3% 8.1%, 10.75% 7.8%, 11.25% 7.4%, 11.7% 7%, 12.2% 6.7%, 12.7% 6.3%, 13.2% 6%, 13.75% 5.65%, 14.3% 5.3%, 14.8% 5%, 15.35% 4.7%, 15.9% 4.4%, 16.5% 4.1%, 17.05% 3.85%, 17.6% 3.6%, 18.2% 3.35%, 18.8% 3.1%, 19.4% 2.9%, 20% 2.65%, 20.6% 2.4%, 21.25% 2.2%, 21.9% 2%, 22.55% 1.8%, 23.2% 1.65%, 23.9% 1.5%, 24.6% 1.35%, 25.3% 1.2%, 26% 1.1%, 26.75% 1%, 27.5% 0.9%, 28.25% 0.8%, 29% 0.7%, 29.8% 0.65%, 30.6% 0.6%, 31.4% 0.55%, 32.2% 0.5%, 33% 0.45%, 33.8% 0.4%, 34.65% 0.35%, 35.5% 0.3%, 36.35% 0.25%, 37.2% 0.2%, 38.1% 0.15%, 39% 0.1%, 39.9% 0.05%, 40.8% 0%, 41.75% 0%, 42.7% 0%, 43.7% 0%, 44.7% 0%, 45.7% 0%, 46.75% 0%, 47.8% 0%, 48.9% 0%, 50% 0%, 51.1% 0%, 52.2% 0%, 53.25% 0%, 54.3% 0%, 55.3% 0%, 56.3% 0%, 57.3% 0%, 58.25% 0%, 59.2% 0%, 60.1% 0.05%, 61% 0.1%, 61.9% 0.15%, 62.8% 0.2%, 63.65% 0.25%, 64.5% 0.3%, 65.35% 0.35%, 66.2% 0.4%, 67% 0.45%, 67.8% 0.5%, 68.6% 0.55%, 69.4% 0.6%, 70.2% 0.65%, 71% 0.7%, 71.75% 0.8%, 72.5% 0.9%, 73.25% 1%, 74% 1.1%, 74.7% 1.2%, 75.4% 1.35%, 76.1% 1.5%, 76.8% 1.65%, 77.45% 1.8%, 78.1% 2%, 78.75% 2.2%, 79.4% 2.4%, 80% 2.65%, 80.6% 2.9%, 81.2% 3.1%, 81.8% 3.35%, 82.4% 3.6%, 82.95% 3.85%, 83.5% 4.1%, 84.1% 4.4%, 84.65% 4.7%, 85.2% 5%, 85.7% 5.3%, 86.25% 5.65%, 86.8% 6%, 87.3% 6.3%, 87.8% 6.7%, 88.3% 7%, 88.75% 7.4%, 89.25% 7.8%, 89.7% 8.1%, 90.2% 8.5%, 90.65% 8.9%, 91.1% 9.3%, 91.55% 9.7%, 92% 10.1%, 92.4% 10.6%, 92.8% 11%, 93.2% 11.5%, 93.6% 11.9%, 94% 12.4%, 94.35% 12.9%, 94.7% 13.4%, 95.05% 13.9%, 95.4% 14.4%, 95.7% 15%, 96% 15.5%, 96.3% 16%, 96.6% 16.6%, 96.9% 17.2%, 97.15% 17.8%, 97.4% 18.4%, 97.65% 19%, 97.9% 19.6%, 98.1% 20.3%, 98.3% 20.9%, 98.5% 21.6%, 98.7% 22.3%, 98.85% 23%, 99% 23.7%, 99.15% 24.5%, 99.3% 25.3%, 99.4% 26.1%, 99.5% 27%, 99.6% 27.9%, 99.7% 28.8%, 99.75% 29.8%, 99.8% 30.8%, 99.85% 31.9%, 99.9% 33.1%, 99.95% 34.4%, 99.95% 35.8%, 100% 37.5%, 100% 39.5%, 100% 42%, 100% 0)",balanced:"polygon(100% 50%, 100% 56.6%, 100% 59.3%, 100% 61.4%, 99.9% 63.2%, 99.9% 64.8%, 99.9% 66.2%, 99.8% 67.5%, 99.8% 68.7%, 99.7% 69.8%, 99.6% 70.8%, 99.5% 71.8%, 99.5% 72.8%, 99.4% 73.7%, 99.3% 74.6%, 99.1% 75.4%, 99% 76.3%, 98.9% 77%, 98.8% 77.8%, 98.6% 78.5%, 98.5% 79.2%, 98.3% 79.9%, 98.1% 80.6%, 98% 81.3%, 97.8% 81.9%, 97.6% 82.5%, 97.4% 83.1%, 97.2% 83.7%, 97% 84.3%, 96.8% 84.8%, 96.5% 85.4%, 96.3% 85.9%, 96% 86.4%, 95.8% 86.9%, 95.5% 87.4%, 95.3% 87.9%, 95% 88.3%, 94.7% 88.8%, 94.4% 89.2%, 94.1% 89.7%, 93.8% 90.1%, 93.4% 90.5%, 93.1% 90.9%, 92.8% 91.3%, 92.4% 91.7%, 92% 92%, 91.7% 92.4%, 91.3% 92.8%, 90.9% 93.1%, 90.5% 93.4%, 90.1% 93.8%, 89.7% 94.1%, 89.2% 94.4%, 88.8% 94.7%, 88.3% 95%, 87.9% 95.3%, 87.4% 95.5%, 86.9% 95.8%, 86.4% 96%, 85.9% 96.3%, 85.4% 96.5%, 84.8% 96.8%, 84.3% 97%, 83.7% 97.2%, 83.1% 97.4%, 82.5% 97.6%, 81.9% 97.8%, 81.3% 98%, 80.6% 98.1%, 79.9% 98.3%, 79.2% 98.5%, 78.5% 98.6%, 77.8% 98.8%, 77% 98.9%, 76.3% 99%, 75.4% 99.1%, 74.6% 99.3%, 73.7% 99.4%, 72.8% 99.5%, 71.8% 99.5%, 70.8% 99.6%, 69.8% 99.7%, 68.7% 99.8%, 67.5% 99.8%, 66.2% 99.9%, 64.8% 99.9%, 63.2% 99.9%, 61.4% 100%, 59.3% 100%, 56.6% 100%, 50% 100%, 43.4% 100%, 40.7% 100%, 38.6% 100%, 36.8% 99.9%, 35.2% 99.9%, 33.8% 99.9%, 32.5% 99.8%, 31.3% 99.8%, 30.2% 99.7%, 29.2% 99.6%, 28.2% 99.5%, 27.2% 99.5%, 26.3% 99.4%, 25.4% 99.3%, 24.6% 99.1%, 23.7% 99%, 23% 98.9%, 22.2% 98.8%, 21.5% 98.6%, 20.8% 98.5%, 20.1% 98.3%, 19.4% 98.1%, 18.7% 98%, 18.1% 97.8%, 17.5% 97.6%, 16.9% 97.4%, 16.3% 97.2%, 15.7% 97%, 15.2% 96.8%, 14.6% 96.5%, 14.1% 96.3%, 13.6% 96%, 13.1% 95.8%, 12.6% 95.5%, 12.1% 95.3%, 11.7% 95%, 11.2% 94.7%, 10.8% 94.4%, 10.3% 94.1%, 9.9% 93.8%, 9.5% 93.4%, 9.1% 93.1%, 8.7% 92.8%, 8.3% 92.4%, 8% 92%, 7.6% 91.7%, 7.2% 91.3%, 6.9% 90.9%, 6.6% 90.5%, 6.2% 90.1%, 5.9% 89.7%, 5.6% 89.2%, 5.3% 88.8%, 5% 88.3%, 4.7% 87.9%, 4.5% 87.4%, 4.2% 86.9%, 4% 86.4%, 3.7% 85.9%, 3.5% 85.4%, 3.2% 84.8%, 3% 84.3%, 2.8% 83.7%, 2.6% 83.1%, 2.4% 82.5%, 2.2% 81.9%, 2% 81.3%, 1.9% 80.6%, 1.7% 79.9%, 1.5% 79.2%, 1.4% 78.5%, 1.2% 77.8%, 1.1% 77%, 1% 76.3%, 0.9% 75.4%, 0.7% 74.6%, 0.6% 73.7%, 0.5% 72.8%, 0.5% 71.8%, 0.4% 70.8%, 0.3% 69.8%, 0.2% 68.7%, 0.2% 67.5%, 0.1% 66.2%, 0.1% 64.8%, 0.1% 63.2%, 0% 61.4%, 0% 59.3%, 0% 56.6%, 0% 50%, 0% 43.4%, 0% 40.7%, 0% 38.6%, 0.1% 36.8%, 0.1% 35.2%, 0.1% 33.8%, 0.2% 32.5%, 0.2% 31.3%, 0.3% 30.2%, 0.4% 29.2%, 0.5% 28.2%, 0.5% 27.2%, 0.6% 26.3%, 0.7% 25.4%, 0.9% 24.6%, 1% 23.7%, 1.1% 23%, 1.2% 22.2%, 1.4% 21.5%, 1.5% 20.8%, 1.7% 20.1%, 1.9% 19.4%, 2% 18.7%, 2.2% 18.1%, 2.4% 17.5%, 2.6% 16.9%, 2.8% 16.3%, 3% 15.7%, 3.2% 15.2%, 3.5% 14.6%, 3.7% 14.1%, 4% 13.6%, 4.2% 13.1%, 4.5% 12.6%, 4.7% 12.1%, 5% 11.7%, 5.3% 11.2%, 5.6% 10.8%, 5.9% 10.3%, 6.2% 9.9%, 6.6% 9.5%, 6.9% 9.1%, 7.2% 8.7%, 7.6% 8.3%, 8% 8%, 8.3% 7.6%, 8.7% 7.2%, 9.1% 6.9%, 9.5% 6.6%, 9.9% 6.2%, 10.3% 5.9%, 10.8% 5.6%, 11.2% 5.3%, 11.7% 5%, 12.1% 4.7%, 12.6% 4.5%, 13.1% 4.2%, 13.6% 4%, 14.1% 3.7%, 14.6% 3.5%, 15.2% 3.2%, 15.7% 3%, 16.3% 2.8%, 16.9% 2.6%, 17.5% 2.4%, 18.1% 2.2%, 18.7% 2%, 19.4% 1.9%, 20.1% 1.7%, 20.8% 1.5%, 21.5% 1.4%, 22.2% 1.2%, 23% 1.1%, 23.7% 1%, 24.6% 0.9%, 25.4% 0.7%, 26.3% 0.6%, 27.2% 0.5%, 28.2% 0.5%, 29.2% 0.4%, 30.2% 0.3%, 31.3% 0.2%, 32.5% 0.2%, 33.8% 0.1%, 35.2% 0.1%, 36.8% 0.1%, 38.6% 0%, 40.7% 0%, 43.4% 0%, 50% 0%, 56.6% 0%, 59.3% 0%, 61.4% 0%, 63.2% 0.1%, 64.8% 0.1%, 66.2% 0.1%, 67.5% 0.2%, 68.7% 0.2%, 69.8% 0.3%, 70.8% 0.4%, 71.8% 0.5%, 72.8% 0.5%, 73.7% 0.6%, 74.6% 0.7%, 75.4% 0.9%, 76.3% 1%, 77% 1.1%, 77.8% 1.2%, 78.5% 1.4%, 79.2% 1.5%, 79.9% 1.7%, 80.6% 1.9%, 81.3% 2%, 81.9% 2.2%, 82.5% 2.4%, 83.1% 2.6%, 83.7% 2.8%, 84.3% 3%, 84.8% 3.2%, 85.4% 3.5%, 85.9% 3.7%, 86.4% 4%, 86.9% 4.2%, 87.4% 4.5%, 87.9% 4.7%, 88.3% 5%, 88.8% 5.3%, 89.2% 5.6%, 89.7% 5.9%, 90.1% 6.2%, 90.5% 6.6%, 90.9% 6.9%, 91.3% 7.2%, 91.7% 7.6%, 92% 8%, 92.4% 8.3%, 92.8% 8.7%, 93.1% 9.1%, 93.4% 9.5%, 93.8% 9.9%, 94.1% 10.3%, 94.4% 10.8%, 94.7% 11.2%, 95% 11.7%, 95.3% 12.1%, 95.5% 12.6%, 95.8% 13.1%, 96% 13.6%, 96.3% 14.1%, 96.5% 14.6%, 96.8% 15.2%, 97% 15.7%, 97.2% 16.3%, 97.4% 16.9%, 97.6% 17.5%, 97.8% 18.1%, 98% 18.7%, 98.1% 19.4%, 98.3% 20.1%, 98.5% 20.8%, 98.6% 21.5%, 98.8% 22.2%, 98.9% 23%, 99% 23.7%, 99.1% 24.6%, 99.3% 25.4%, 99.4% 26.3%, 99.5% 27.2%, 99.5% 28.2%, 99.6% 29.2%, 99.7% 30.2%, 99.8% 31.3%, 99.8% 32.5%, 99.9% 33.8%, 99.9% 35.2%, 99.9% 36.8%, 100% 38.6%, 100% 40.7%, 100% 43.4%, 100% 0)",prominent:"polygon(100% 50%, 100% 55.4%, 100% 58.2%, 100% 60.5%, 99.95% 62.5%, 99.9% 64.2%, 99.9% 65.8%, 99.85% 67.2%, 99.8% 68.5%, 99.75% 69.7%, 99.7% 70.8%, 99.65% 71.9%, 99.6% 72.9%, 99.55% 73.9%, 99.5% 74.8%, 99.4% 75.7%, 99.3% 76.6%, 99.2% 77.4%, 99.1% 78.2%, 99% 79%, 98.9% 79.7%, 98.75% 80.5%, 98.6% 81.2%, 98.45% 81.9%, 98.3% 82.6%, 98.15% 83.2%, 97.95% 83.9%, 97.75% 84.5%, 97.55% 85.1%, 97.35% 85.7%, 97.15% 86.3%, 96.9% 86.9%, 96.7% 87.4%, 96.45% 88%, 96.2% 88.5%, 95.95% 89%, 95.7% 89.5%, 95.4% 90%, 95.1% 90.5%, 94.8% 91%, 94.5% 91.4%, 94.2% 91.9%, 93.85% 92.3%, 93.5% 92.7%, 93.15% 93.1%, 92.8% 93.5%, 92.4% 93.9%, 92% 94.3%, 91.6% 94.6%, 91.2% 95%, 90.75% 95.3%, 90.35% 95.7%, 89.9% 96%, 89.5% 96.3%, 89.05% 96.6%, 88.6% 96.9%, 88.15% 97.2%, 87.7% 97.5%, 87.2% 97.75%, 86.7% 98%, 86.2% 98.25%, 85.7% 98.5%, 85.2% 98.7%, 84.65% 98.95%, 84.1% 99.15%, 83.55% 99.35%, 83% 99.5%, 82.4% 99.7%, 81.8% 99.85%, 81.2% 100%, 80.6% 100%, 79.95% 100%, 79.3% 100%, 78.65% 100%, 78% 100%, 77.3% 100%, 76.6% 100%, 75.9% 100%, 75.2% 100%, 74.5% 100%, 73.75% 100%, 73% 100%, 72.25% 100%, 71.5% 100%, 70.75% 100%, 70% 100%, 69.2% 100%, 68.4% 100%, 67.6% 100%, 66.8% 100%, 66% 100%, 65.2% 100%, 64.35% 100%, 63.5% 100%, 62.65% 100%, 61.8% 100%, 60.95% 100%, 60.05% 100%, 59.2% 100%, 58.3% 100%, 57.4% 100%, 56.5% 100%, 55.6% 100%, 54.7% 100%, 53.75% 100%, 52.8% 100%, 51.85% 100%, 50.9% 100%, 50% 100%, 49.1% 100%, 48.15% 100%, 47.2% 100%, 46.25% 100%, 45.3% 100%, 44.4% 100%, 43.5% 100%, 42.6% 100%, 41.7% 100%, 40.8% 100%, 39.95% 100%, 39.05% 100%, 38.2% 100%, 37.35% 100%, 36.5% 100%, 35.65% 100%, 34.8% 100%, 34% 100%, 33.2% 100%, 32.4% 100%, 31.6% 100%, 30.8% 100%, 30% 100%, 29.25% 100%, 28.5% 100%, 27.75% 100%, 27% 100%, 26.25% 100%, 25.5% 100%, 24.8% 100%, 24.1% 100%, 23.4% 100%, 22.7% 100%, 22% 100%, 21.35% 100%, 20.7% 100%, 20.05% 100%, 19.4% 100%, 18.8% 99.85%, 18.2% 99.7%, 17.6% 99.5%, 17% 99.35%, 16.45% 99.15%, 15.9% 98.95%, 15.35% 98.7%, 14.8% 98.5%, 14.3% 98.25%, 13.8% 98%, 13.3% 97.75%, 12.8% 97.5%, 12.35% 97.2%, 11.85% 96.9%, 11.4% 96.6%, 10.95% 96.3%, 10.5% 96%, 10.1% 95.7%, 9.65% 95.3%, 9.25% 95%, 8.8% 94.6%, 8.4% 94.3%, 8% 93.9%, 7.6% 93.5%, 7.2% 93.1%, 6.85% 92.7%, 6.5% 92.3%, 6.15% 91.9%, 5.8% 91.4%, 5.5% 91%, 5.2% 90.5%, 4.9% 90%, 4.6% 89.5%, 4.3% 89%, 4.05% 88.5%, 3.8% 88%, 3.55% 87.4%, 3.3% 86.9%, 3.1% 86.3%, 2.85% 85.7%, 2.65% 85.1%, 2.45% 84.5%, 2.25% 83.9%, 2.05% 83.2%, 1.85% 82.6%, 1.7% 81.9%, 1.55% 81.2%, 1.4% 80.5%, 1.25% 79.7%, 1.1% 79%, 1% 78.2%, 0.9% 77.4%, 0.8% 76.6%, 0.7% 75.7%, 0.6% 74.8%, 0.5% 73.9%, 0.45% 72.9%, 0.4% 71.9%, 0.35% 70.8%, 0.3% 69.7%, 0.25% 68.5%, 0.2% 67.2%, 0.15% 65.8%, 0.1% 64.2%, 0.1% 62.5%, 0.05% 60.5%, 0% 58.2%, 0% 55.4%, 0% 50%, 0% 44.6%, 0% 41.8%, 0.05% 39.5%, 0.1% 37.5%, 0.1% 35.8%, 0.15% 34.2%, 0.2% 32.8%, 0.25% 31.5%, 0.3% 30.3%, 0.35% 29.2%, 0.4% 28.1%, 0.45% 27.1%, 0.5% 26.1%, 0.6% 25.2%, 0.7% 24.3%, 0.8% 23.4%, 0.9% 22.6%, 1% 21.8%, 1.1% 21%, 1.25% 20.3%, 1.4% 19.5%, 1.55% 18.8%, 1.7% 18.1%, 1.85% 17.4%, 2.05% 16.8%, 2.25% 16.1%, 2.45% 15.5%, 2.65% 14.9%, 2.85% 14.3%, 3.1% 13.7%, 3.3% 13.1%, 3.55% 12.6%, 3.8% 12%, 4.05% 11.5%, 4.3% 11%, 4.6% 10.5%, 4.9% 10%, 5.2% 9.5%, 5.5% 9%, 5.8% 8.6%, 6.15% 8.1%, 6.5% 7.7%, 6.85% 7.3%, 7.2% 6.9%, 7.6% 6.5%, 8% 6.1%, 8.4% 5.7%, 8.8% 5.4%, 9.25% 5%, 9.65% 4.7%, 10.1% 4.3%, 10.5% 4%, 10.95% 3.7%, 11.4% 3.4%, 11.85% 3.1%, 12.35% 2.8%, 12.8% 2.5%, 13.3% 2.25%, 13.8% 2%, 14.3% 1.75%, 14.8% 1.5%, 15.35% 1.3%, 15.9% 1.05%, 16.45% 0.85%, 17% 0.65%, 17.6% 0.5%, 18.2% 0.3%, 18.8% 0.15%, 19.4% 0%, 20.05% 0%, 20.7% 0%, 21.35% 0%, 22% 0%, 22.7% 0%, 23.4% 0%, 24.1% 0%, 24.8% 0%, 25.5% 0%, 26.25% 0%, 27% 0%, 27.75% 0%, 28.5% 0%, 29.25% 0%, 30% 0%, 30.8% 0%, 31.6% 0%, 32.4% 0%, 33.2% 0%, 34% 0%, 34.8% 0%, 35.65% 0%, 36.5% 0%, 37.35% 0%, 38.2% 0%, 39.05% 0%, 39.95% 0%, 40.8% 0%, 41.7% 0%, 42.6% 0%, 43.5% 0%, 44.4% 0%, 45.3% 0%, 46.25% 0%, 47.2% 0%, 48.15% 0%, 49.1% 0%, 50% 0%, 50.9% 0%, 51.85% 0%, 52.8% 0%, 53.75% 0%, 54.7% 0%, 55.6% 0%, 56.5% 0%, 57.4% 0%, 58.3% 0%, 59.2% 0%, 60.05% 0%, 60.95% 0%, 61.8% 0%, 62.65% 0%, 63.5% 0%, 64.35% 0%, 65.2% 0%, 66% 0%, 66.8% 0%, 67.6% 0%, 68.4% 0%, 69.2% 0%, 70% 0%, 70.75% 0%, 71.5% 0%, 72.25% 0%, 73% 0%, 73.75% 0%, 74.5% 0%, 75.2% 0%, 75.9% 0%, 76.6% 0%, 77.3% 0%, 78% 0%, 78.65% 0%, 79.3% 0%, 79.95% 0%, 80.6% 0%, 81.2% 0%, 81.8% 0.15%, 82.4% 0.3%, 83% 0.5%, 83.55% 0.65%, 84.1% 0.85%, 84.65% 1.05%, 85.2% 1.3%, 85.7% 1.5%, 86.2% 1.75%, 86.7% 2%, 87.2% 2.25%, 87.7% 2.5%, 88.15% 2.8%, 88.6% 3.1%, 89.05% 3.4%, 89.5% 3.7%, 89.9% 4%, 90.35% 4.3%, 90.75% 4.7%, 91.2% 5%, 91.6% 5.4%, 92% 5.7%, 92.4% 6.1%, 92.8% 6.5%, 93.15% 6.9%, 93.5% 7.3%, 93.85% 7.7%, 94.2% 8.1%, 94.5% 8.6%, 94.8% 9%, 95.1% 9.5%, 95.4% 10%, 95.7% 10.5%, 95.95% 11%, 96.2% 11.5%, 96.45% 12%, 96.7% 12.6%, 96.9% 13.1%, 97.15% 13.7%, 97.35% 14.3%, 97.55% 14.9%, 97.75% 15.5%, 97.95% 16.1%, 98.15% 16.8%, 98.3% 17.4%, 98.45% 18.1%, 98.6% 18.8%, 98.75% 19.5%, 98.9% 20.3%, 99% 21%, 99.1% 21.8%, 99.2% 22.6%, 99.3% 23.4%, 99.4% 24.3%, 99.5% 25.2%, 99.55% 26.1%, 99.6% 27.1%, 99.65% 28.1%, 99.7% 29.2%, 99.75% 30.3%, 99.8% 31.5%, 99.85% 32.8%, 99.9% 34.2%, 99.9% 35.8%, 99.95% 37.5%, 100% 39.5%, 100% 41.8%, 100% 44.6%, 100% 0)"},Li=(t="none")=>fr[t]||null,Nl=Object.freeze(Object.defineProperty({__proto__:null,SQUIRCLE_STYLES:fr,getSquircleClipPath:Li},Symbol.toStringTag,{value:"Module"})),it={enter:t=>({x:t>0?"100%":"-100%",opacity:0}),center:{x:0,opacity:1},exit:t=>({x:t<0?"100%":"-100%",opacity:0})},Ll=(t,i)=>i(t==="dark"?"dark":t==="light"?"light":"automatic"),Ml=(t,i)=>({none:i("squircleStandard"),prominent:i("squircleProminent"),balanced:i("squircleBalanced"),subtle:i("squircleSubtle")})[t]||i("squircleStandard"),El=()=>{try{const t=localStorage.getItem("systemSettings");if(!t)return{brightness:100,blur:0,contrast:100,saturation:100,grayscale:0};const n=JSON.parse(t).appearance||{};return{brightness:n.backgroundBrightness||100,blur:n.backgroundBlur||0,contrast:n.backgroundContrast||100,saturation:n.backgroundSaturation||100,grayscale:n.backgroundGrayscale||0}}catch{return{brightness:100,blur:0,contrast:100,saturation:100,grayscale:0}}},ut=t=>{try{const i=localStorage.getItem("systemSettings"),n=i?JSON.parse(i):{};n.appearance=n.appearance||{},n.appearance.backgroundBrightness=t.brightness,n.appearance.backgroundBlur=t.blur,n.appearance.backgroundContrast=t.contrast,n.appearance.backgroundSaturation=t.saturation,n.appearance.backgroundGrayscale=t.grayscale,localStorage.setItem("systemSettings",JSON.stringify(n)),document.documentElement.style.setProperty("--background-brightness",`${t.brightness}%`),document.documentElement.style.setProperty("--background-blur",`${t.blur}px`),document.documentElement.style.setProperty("--background-contrast",`${t.contrast}%`),document.documentElement.style.setProperty("--background-saturation",`${t.saturation}%`),document.documentElement.style.setProperty("--background-grayscale",`${t.grayscale}%`)}catch(i){console.error("Failed to save background settings:",i)}},Tl=()=>{try{const t=localStorage.getItem("systemSettings");if(!t)return{enabled:!1,mobileEnabled:!1,path:"/local/fast-search-videos"};const n=JSON.parse(t).appearance||{};return{enabled:n.detailViewVideosEnabled===!0,mobileEnabled:n.detailViewVideosMobileEnabled===!0,path:n.detailViewVideosPath||"/local/fast-search-videos"}}catch{return{enabled:!1,mobileEnabled:!1,path:"/local/fast-search-videos"}}},Nn=t=>{try{const i=localStorage.getItem("systemSettings"),n=i?JSON.parse(i):{};n.appearance=n.appearance||{},n.appearance.detailViewVideosEnabled=t.enabled,n.appearance.detailViewVideosMobileEnabled=t.mobileEnabled,n.appearance.detailViewVideosPath=t.path,localStorage.setItem("systemSettings",JSON.stringify(n))}catch(i){console.error("Failed to save video settings:",i)}},Al=()=>{try{const t=localStorage.getItem("systemSettings");return t&&(JSON.parse(t).appearance||{}).gridColumns||4}catch{return 4}},Dl=t=>{try{const i=localStorage.getItem("systemSettings"),n=i?JSON.parse(i):{};n.appearance=n.appearance||{},n.appearance.gridColumns=t,localStorage.setItem("systemSettings",JSON.stringify(n)),document.documentElement.style.setProperty("--device-grid-columns",t)}catch(i){console.error("Failed to save grid columns setting:",i)}},Fl=()=>{try{const t=localStorage.getItem("systemSettings");return t&&(JSON.parse(t).appearance||{}).squircleStyle||"none"}catch{return"none"}},Il=t=>{try{const i=localStorage.getItem("systemSettings"),n=i?JSON.parse(i):{};n.appearance=n.appearance||{},n.appearance.squircleStyle=t,localStorage.setItem("systemSettings",JSON.stringify(n));const r=Li(t);r?document.documentElement.style.setProperty("--card-clip-path",r):document.documentElement.style.removeProperty("--card-clip-path")}catch(i){console.error("Failed to save squircle style setting:",i)}},zl=({t,darkMode:i,applyDarkMode:n,isDropdownOpen:r,setIsDropdownOpen:s,hass:o,lang:l})=>{const[a,c]=w("main"),u=Q(null),[d,h]=w(!1),[v,b]=w(()=>Tl()),[y,m]=w(()=>Al()),[p,x]=w(()=>Fl()),[f,L]=w(()=>El());O(()=>{document.documentElement.style.setProperty("--device-grid-columns",y);const F=Li(p);F&&document.documentElement.style.setProperty("--card-clip-path",F),document.documentElement.style.setProperty("--background-brightness",`${f.brightness}%`),document.documentElement.style.setProperty("--background-blur",`${f.blur}px`)},[]);const M=()=>{c("main")},_=F=>{const z={...v,enabled:F};b(z),Nn(z)},R=F=>{const z={...v,mobileEnabled:F};b(z),Nn(z)},N=F=>{m(F),Dl(F)},T=F=>{x(F),Il(F)},E=F=>{const z={...f,brightness:F};L(z),ut(z)},H=F=>{const z={...f,blur:F};L(z),ut(z)},I=F=>{const z={...f,contrast:F};L(z),ut(z)},X=F=>{const z={...f,saturation:F};L(z),ut(z)},D=F=>{const z={...f,grayscale:F};L(z),ut(z)};return e("div",{className:"ios-settings-container",children:e(xe,{mode:"wait",initial:!1,custom:a==="main"?-1:1,children:a==="main"?e(S.div,{custom:-1,variants:it,initial:!1,animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),style:{position:"relative"},children:[e("div",{ref:u,className:"ios-settings-view",style:{padding:"20px"},children:[e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:t("design")}),e("div",{className:"ios-card",children:[e(S.div,{className:"ios-item ios-item-clickable",onClick:()=>c("darkMode"),children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("backgroundMode")}),e("div",{className:"ios-item-subtitle",children:t("backgroundModeDescription")})]})}),e("div",{className:"ios-item-right",children:[e("span",{className:"ios-item-value",children:Ll(i,t)}),e("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:e("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),e("div",{className:"ios-divider"}),e(S.div,{className:"ios-item ios-item-clickable",onClick:()=>c("gridColumns"),children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("gridColumns")}),e("div",{className:"ios-item-subtitle",children:t("gridColumnsDescription")})]})}),e("div",{className:"ios-item-right",children:[e("span",{className:"ios-item-value",children:t("columnsCount").replace("{count}",y)}),e("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:e("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),e("div",{className:"ios-divider"}),e(S.div,{className:"ios-item ios-item-clickable",onClick:()=>c("squircleStyle"),children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("cardShape")}),e("div",{className:"ios-item-subtitle",children:t("cardShapeDescription")})]})}),e("div",{className:"ios-item-right",children:[e("span",{className:"ios-item-value",children:Ml(p,t)}),e("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:e("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),e("div",{className:"ios-divider"}),e(S.div,{className:"ios-item ios-item-clickable",onClick:()=>c("backgroundSettings"),children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("background")}),e("div",{className:"ios-item-subtitle",children:t("backgroundDescription")})]})}),e("div",{className:"ios-item-right",children:[e("span",{className:"ios-item-value",children:f.brightness!==100||f.blur!==0||f.contrast!==100||f.saturation!==100||f.grayscale!==0?t("customized"):t("standard")}),e("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:e("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})]}),e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:t("animations")}),e("div",{className:"ios-card",children:e(S.div,{className:"ios-item ios-item-clickable",onClick:()=>c("animations"),children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("detailViewVideos")}),e("div",{className:"ios-item-subtitle",children:t("detailViewVideosDescription")})]})}),e("div",{className:"ios-item-right",children:[e("span",{className:"ios-item-value",children:v.enabled?t("active"):t("inactive")}),e("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:e("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})})]})]}),e(_e,{scrollContainerRef:u,isHovered:d})]},"main"):a==="darkMode"?e(S.div,{custom:1,variants:it,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),style:{position:"relative"},children:[e("div",{className:"ios-navbar",children:[e("button",{className:"ios-navbar-back",onClick:M,children:[e("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:e("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),e("span",{children:t("back")})]}),e("div",{className:"ios-navbar-title",children:t("backgroundMode")})]}),e("div",{ref:u,className:"ios-settings-view",children:e("div",{className:"ios-section",children:e("div",{className:"ios-card",children:[e(S.div,{className:"ios-item ios-item-clickable",onClick:()=>{n("auto"),setTimeout(M,150)},children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:e("div",{className:"ios-item-label",children:t("automatic")})})}),e("div",{className:"ios-item-right",children:i==="auto"&&e(S.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[e(S.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),e(S.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]}),e("div",{className:"ios-divider"}),e(S.div,{className:"ios-item ios-item-clickable",onClick:()=>{n("light"),setTimeout(M,150)},children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:e("div",{className:"ios-item-label",children:t("light")})})}),e("div",{className:"ios-item-right",children:i==="light"&&e(S.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[e(S.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),e(S.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]}),e("div",{className:"ios-divider"}),e(S.div,{className:"ios-item ios-item-clickable",onClick:()=>{n("dark"),setTimeout(M,150)},children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:e("div",{className:"ios-item-label",children:t("dark")})})}),e("div",{className:"ios-item-right",children:i==="dark"&&e(S.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[e(S.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),e(S.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]})]})})}),e(_e,{scrollContainerRef:u,isHovered:d})]},"darkMode"):a==="animations"?e(S.div,{custom:1,variants:it,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),style:{position:"relative"},children:[e("div",{className:"ios-navbar",children:[e("button",{className:"ios-navbar-back",onClick:M,children:[e("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:e("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),e("span",{children:t("back")})]}),e("div",{className:"ios-navbar-title",children:t("detailViewVideos")})]}),e("div",{ref:u,className:"ios-settings-view",children:[e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:t("settings")}),e("div",{className:"ios-card",children:[e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("enableVideos")}),e("div",{className:"ios-item-subtitle",children:t("enableVideosDescription")})]})}),e("div",{className:"ios-item-right",children:e("label",{className:"ios-toggle",children:[e("input",{type:"checkbox",checked:v.enabled,onChange:F=>_(F.target.checked)}),e("span",{className:"ios-toggle-slider"})]})})]}),e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("onMobile")}),e("div",{className:"ios-item-subtitle",children:t("onMobileDescription")})]})}),e("div",{className:"ios-item-right",children:e("label",{className:"ios-toggle",children:[e("input",{type:"checkbox",checked:v.mobileEnabled,onChange:F=>R(F.target.checked),disabled:!v.enabled}),e("span",{className:"ios-toggle-slider"})]})})]})]})]}),e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:t("videoFolder")}),e("div",{className:"ios-card",children:e("div",{className:"ios-item",children:e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("path")}),e("div",{className:"ios-item-subtitle",children:v.path})]})})})}),e("div",{className:"ios-section-footer",children:t("videoFooter")})]}),e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:t("videoFiles")}),e("div",{className:"ios-card",style:{padding:"16px"},children:e("div",{className:"ios-text",style:{fontSize:"14px",lineHeight:"1.6"},children:[e("strong",{className:"ios-text-strong",children:t("namingScheme")}),e("br",{}),e("code",{style:{background:"rgba(0,0,0,0.3)",padding:"2px 6px",borderRadius:"4px",fontSize:"13px"},children:"{domain}_{state}.mp4"}),e("br",{}),e("br",{}),e("strong",{className:"ios-text-strong",children:t("examples")}),e("br",{}),"‚Ä¢ light_on.mp4 / light_off.mp4",e("br",{}),"‚Ä¢ switch_on.mp4 / switch_off.mp4",e("br",{}),"‚Ä¢ cover_open.mp4 / cover_closed.mp4",e("br",{}),"‚Ä¢ fan_on.mp4 / fan_off.mp4",e("br",{}),e("br",{}),e("strong",{className:"ios-text-strong",children:[t("note"),":"]}),e("br",{}),t("namingSchemeNote")]})})]})]}),e(_e,{scrollContainerRef:u,isHovered:d})]},"animations"):a==="gridColumns"?e(S.div,{custom:1,variants:it,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),style:{position:"relative"},children:[e("div",{className:"ios-navbar",children:[e("button",{className:"ios-navbar-back",onClick:M,children:[e("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:e("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),e("span",{children:t("back")})]}),e("div",{className:"ios-navbar-title",children:t("gridColumns")})]}),e("div",{ref:u,className:"ios-settings-view",children:[e("div",{className:"ios-section",children:e("div",{className:"ios-card",children:[e(S.div,{className:"ios-item ios-item-clickable",onClick:()=>{N(4),setTimeout(M,150)},children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("fourColumns")}),e("div",{className:"ios-item-subtitle",children:t("fourColumnsDescription")})]})}),e("div",{className:"ios-item-right",children:y===4&&e(S.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[e(S.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),e(S.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]}),e("div",{className:"ios-divider"}),e(S.div,{className:"ios-item ios-item-clickable",onClick:()=>{N(5),setTimeout(M,150)},children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("fiveColumns")}),e("div",{className:"ios-item-subtitle",children:t("fiveColumnsDescription")})]})}),e("div",{className:"ios-item-right",children:y===5&&e(S.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[e(S.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),e(S.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]})]})}),e("div",{className:"ios-section",children:e("div",{className:"ios-section-footer",children:t("gridColumnsFooter")})})]}),e(_e,{scrollContainerRef:u,isHovered:d})]},"gridColumns"):a==="squircleStyle"?e(S.div,{custom:1,variants:it,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),style:{position:"relative"},children:[e("div",{className:"ios-navbar",children:[e("button",{className:"ios-navbar-back",onClick:M,children:[e("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:e("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),e("span",{children:t("back")})]}),e("div",{className:"ios-navbar-title",children:t("cardShape")})]}),e("div",{ref:u,className:"ios-settings-view",children:[e("div",{className:"ios-section",children:e("div",{className:"ios-card",children:[e(S.div,{className:"ios-item ios-item-clickable",onClick:()=>{T("none"),setTimeout(M,150)},children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("squircleStandard")}),e("div",{className:"ios-item-subtitle",children:t("squircleStandardDescription")})]})}),e("div",{className:"ios-item-right",children:p==="none"&&e(S.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[e(S.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),e(S.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]}),e("div",{className:"ios-divider"}),e(S.div,{className:"ios-item ios-item-clickable",onClick:()=>{T("prominent"),setTimeout(M,150)},children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("squircleProminent")}),e("div",{className:"ios-item-subtitle",children:t("squircleProminentDescription")})]})}),e("div",{className:"ios-item-right",children:p==="prominent"&&e(S.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[e(S.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),e(S.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]}),e("div",{className:"ios-divider"}),e(S.div,{className:"ios-item ios-item-clickable",onClick:()=>{T("balanced"),setTimeout(M,150)},children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("squircleBalanced")}),e("div",{className:"ios-item-subtitle",children:t("squircleBalancedDescription")})]})}),e("div",{className:"ios-item-right",children:p==="balanced"&&e(S.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[e(S.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),e(S.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]}),e("div",{className:"ios-divider"}),e(S.div,{className:"ios-item ios-item-clickable",onClick:()=>{T("subtle"),setTimeout(M,150)},children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("squircleSubtle")}),e("div",{className:"ios-item-subtitle",children:t("squircleSubtleDescription")})]})}),e("div",{className:"ios-item-right",children:p==="subtle"&&e(S.svg,{className:"ios-checkmark",width:"24",height:"24",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:[e(S.circle,{cx:"12",cy:"12",r:"11",fill:"white",stroke:"rgba(0,0,0,0.1)",strokeWidth:"0.5"}),e(S.path,{d:"M7 12L10.5 15.5L17 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]})]})}),e("div",{className:"ios-section",children:e("div",{className:"ios-section-footer",children:t("squircleFooter")})})]}),e(_e,{scrollContainerRef:u,isHovered:d})]},"squircleStyle"):a==="backgroundSettings"?e(S.div,{custom:1,variants:it,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"ios-view-wrapper",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),style:{position:"relative"},children:[e("div",{className:"ios-navbar",children:[e("button",{className:"ios-navbar-back",onClick:M,children:[e("svg",{width:"11",height:"18",viewBox:"0 0 11 18",fill:"none",children:e("path",{d:"M9 2L2 9L9 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),e("span",{children:t("back")})]}),e("div",{className:"ios-navbar-title",children:t("background")})]}),e("div",{ref:u,className:"ios-settings-view",children:[e("div",{className:"ios-section",children:[e("div",{className:"ios-card",children:e("div",{className:"ios-item",style:{paddingTop:"16px",paddingBottom:"16px"},children:e("div",{className:"ios-item-left",style:{flexDirection:"column",alignItems:"flex-start",gap:"12px",width:"100%"},children:[e("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[e("div",{className:"ios-item-label",children:t("brightnessLabel")}),e("div",{className:"slider-value",style:{fontSize:"14px",fontWeight:"600"},children:[f.brightness,"%"]})]}),e("input",{type:"range",min:"0",max:"100",value:f.brightness,onChange:F=>E(parseInt(F.target.value)),style:{width:"100%",height:"4px",borderRadius:"2px",background:`linear-gradient(to right, rgb(0, 122, 255) 0%, rgb(0, 122, 255) ${f.brightness}%, rgba(255,255,255,0.2) ${f.brightness}%, rgba(255,255,255,0.2) 100%)`,outline:"none",WebkitAppearance:"none",appearance:"none"}})]})})}),e("div",{className:"ios-section-footer",children:t("brightnessFooter")})]}),e("div",{className:"ios-section",children:[e("div",{className:"ios-card",children:e("div",{className:"ios-item",style:{paddingTop:"16px",paddingBottom:"16px"},children:e("div",{className:"ios-item-left",style:{flexDirection:"column",alignItems:"flex-start",gap:"12px",width:"100%"},children:[e("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[e("div",{className:"ios-item-label",children:t("blurLabel")}),e("div",{className:"slider-value",style:{fontSize:"14px",fontWeight:"600"},children:[f.blur,"px"]})]}),e("input",{type:"range",min:"0",max:"50",value:f.blur,onChange:F=>H(parseInt(F.target.value)),style:{width:"100%",height:"4px",borderRadius:"2px",background:`linear-gradient(to right, rgb(0, 122, 255) 0%, rgb(0, 122, 255) ${f.blur*2}%, rgba(255,255,255,0.2) ${f.blur*2}%, rgba(255,255,255,0.2) 100%)`,outline:"none",WebkitAppearance:"none",appearance:"none"}})]})})}),e("div",{className:"ios-section-footer",children:t("blurFooter")})]}),e("div",{className:"ios-section",children:[e("div",{className:"ios-card",children:e("div",{className:"ios-item",style:{paddingTop:"16px",paddingBottom:"16px"},children:e("div",{className:"ios-item-left",style:{flexDirection:"column",alignItems:"flex-start",gap:"12px",width:"100%"},children:[e("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[e("div",{className:"ios-item-label",children:t("contrastLabel")}),e("div",{className:"slider-value",style:{fontSize:"14px",fontWeight:"600"},children:[f.contrast,"%"]})]}),e("input",{type:"range",min:"0",max:"200",value:f.contrast,onChange:F=>I(parseInt(F.target.value)),style:{width:"100%",height:"4px",borderRadius:"2px",background:`linear-gradient(to right, rgb(0, 122, 255) 0%, rgb(0, 122, 255) ${f.contrast/2}%, rgba(255,255,255,0.2) ${f.contrast/2}%, rgba(255,255,255,0.2) 100%)`,outline:"none",WebkitAppearance:"none",appearance:"none"}})]})})}),e("div",{className:"ios-section-footer",children:t("contrastFooter")})]}),e("div",{className:"ios-section",children:[e("div",{className:"ios-card",children:e("div",{className:"ios-item",style:{paddingTop:"16px",paddingBottom:"16px"},children:e("div",{className:"ios-item-left",style:{flexDirection:"column",alignItems:"flex-start",gap:"12px",width:"100%"},children:[e("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[e("div",{className:"ios-item-label",children:t("saturationLabel")}),e("div",{className:"slider-value",style:{fontSize:"14px",fontWeight:"600"},children:[f.saturation,"%"]})]}),e("input",{type:"range",min:"0",max:"200",value:f.saturation,onChange:F=>X(parseInt(F.target.value)),style:{width:"100%",height:"4px",borderRadius:"2px",background:`linear-gradient(to right, rgb(0, 122, 255) 0%, rgb(0, 122, 255) ${f.saturation/2}%, rgba(255,255,255,0.2) ${f.saturation/2}%, rgba(255,255,255,0.2) 100%)`,outline:"none",WebkitAppearance:"none",appearance:"none"}})]})})}),e("div",{className:"ios-section-footer",children:t("saturationFooter")})]}),e("div",{className:"ios-section",children:[e("div",{className:"ios-card",children:e("div",{className:"ios-item",style:{paddingTop:"16px",paddingBottom:"16px"},children:e("div",{className:"ios-item-left",style:{flexDirection:"column",alignItems:"flex-start",gap:"12px",width:"100%"},children:[e("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[e("div",{className:"ios-item-label",children:t("grayscaleLabel")}),e("div",{className:"slider-value",style:{fontSize:"14px",fontWeight:"600"},children:[f.grayscale,"%"]})]}),e("input",{type:"range",min:"0",max:"100",value:f.grayscale,onChange:F=>D(parseInt(F.target.value)),style:{width:"100%",height:"4px",borderRadius:"2px",background:`linear-gradient(to right, rgb(0, 122, 255) 0%, rgb(0, 122, 255) ${f.grayscale}%, rgba(255,255,255,0.2) ${f.grayscale}%, rgba(255,255,255,0.2) 100%)`,outline:"none",WebkitAppearance:"none",appearance:"none"}})]})})}),e("div",{className:"ios-section-footer",children:t("grayscaleFooter")})]})]}),e(_e,{scrollContainerRef:u,isHovered:d})]},"backgroundSettings"):null})})},Bl=({t,maxEntitiesLimit:i,newPattern:n,setNewPattern:r,patternError:s,setPatternError:o,excludedPatterns:l,addPattern:a,removePattern:c})=>{const u=Q(null),[d,h]=w(!1),[v,b]=w(i);return e("div",{className:"ios-settings-container",children:e("div",{className:"ios-view-wrapper",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),style:{position:"relative"},children:[e("div",{ref:u,className:"ios-settings-view",style:{padding:"20px"},children:[e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:t("systemSettings")}),e("div",{className:"ios-card",children:[e("div",{className:"ios-item",style:{flexDirection:"column",alignItems:"stretch"},children:[e("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("maxEntities")}),e("div",{className:"ios-item-subtitle",children:v===0?t("maxEntitiesUnlimited"):t("maxEntitiesDescription").replace("{count}",v)})]})}),e("input",{type:"number",className:"ios-number-input",min:"0",max:"1000",step:"50",value:v,placeholder:"0",onChange:y=>{const m=parseInt(y.target.value)||0;b(m),localStorage.setItem("maxEntitiesLimit",m),window.dispatchEvent(new CustomEvent("entityLimitChanged",{detail:{limit:m}}))},style:{width:"100%",padding:"8px 12px",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.1)",background:"rgba(255, 255, 255, 0.05)",color:"#ffffff",fontSize:"15px"}})]}),e("div",{className:"ios-divider"}),e("div",{className:"ios-item",style:{opacity:.7},children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:[e("div",{className:"ios-item-label",children:t("onlyEntitiesWithArea")}),e("div",{className:"ios-item-subtitle",children:t("onlyEntitiesWithAreaDescription")})]})}),e("div",{className:"ios-item-right",children:e("label",{className:"ios-toggle",style:{pointerEvents:"none"},children:[e("input",{type:"checkbox",checked:!0,disabled:!0}),e("span",{className:"ios-toggle-slider"})]})})]})]})]}),e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:t("excludedPatterns")}),e("div",{className:"ios-card",style:{padding:"16px",marginBottom:"12px",backgroundColor:"rgba(0, 122, 255, 0.1)"},children:e("div",{className:"ios-text",style:{fontSize:"13px",lineHeight:"1.5"},children:[e("p",{style:{margin:"0 0 8px 0"},children:t("excludedPatternsDescription")}),e("ul",{style:{margin:"8px 0",paddingLeft:"20px"},children:[e("li",{children:[e("code",{style:{background:"rgba(0,0,0,0.2)",padding:"2px 4px",borderRadius:"3px"},children:"*"})," = ",t("wildcardAny")," ",e("code",{style:{background:"rgba(0,0,0,0.2)",padding:"2px 4px",borderRadius:"3px"},children:"sensor.*"})," ",t("wildcardAnySuffix")]}),e("li",{children:[e("code",{style:{background:"rgba(0,0,0,0.2)",padding:"2px 4px",borderRadius:"3px"},children:"?"})," = ",t("wildcardSingle")]})]}),e("div",{style:{marginTop:"12px"},children:[e("strong",{className:"ios-text-strong",children:t("examples")}),e("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap",marginTop:"6px"},children:[e("span",{className:"ios-text-medium",style:{background:"rgba(0,0,0,0.3)",padding:"4px 8px",borderRadius:"12px",fontSize:"12px"},children:"sensor.temp_*"}),e("span",{className:"ios-text-medium",style:{background:"rgba(0,0,0,0.3)",padding:"4px 8px",borderRadius:"12px",fontSize:"12px"},children:"binary_sensor.motion_*"}),e("span",{className:"ios-text-medium",style:{background:"rgba(0,0,0,0.3)",padding:"4px 8px",borderRadius:"12px",fontSize:"12px"},children:"*_unavailable"})]})]})]})}),e("div",{className:"ios-card",style:{padding:"12px",marginBottom:"12px"},children:[e("div",{style:{display:"flex",gap:"8px"},children:[e("input",{type:"text",placeholder:t("patternPlaceholder"),value:n,onChange:y=>{r(y.target.value),o("")},onKeyPress:y=>{y.key==="Enter"&&a()},style:{flex:1,padding:"8px 12px",borderRadius:"8px",border:s?"1px solid rgb(255, 69, 58)":"1px solid rgba(255, 255, 255, 0.1)",background:"rgba(255, 255, 255, 0.05)",color:"#ffffff",fontSize:"15px"}}),e("button",{onClick:a,style:{padding:"8px 16px",borderRadius:"8px",border:"none",background:"rgb(0, 122, 255)",color:"white",fontSize:"15px",fontWeight:600,cursor:"pointer",whiteSpace:"nowrap"},children:t("addPattern")})]}),s&&e("div",{style:{marginTop:"8px",color:"rgb(255, 69, 58)",fontSize:"13px"},children:["‚ö†Ô∏è ",s]})]}),l.length>0?e("div",{className:"ios-card",children:[e("div",{className:"ios-text-strong",style:{padding:"12px 16px",borderBottom:"1px solid rgba(255, 255, 255, 0.05)",fontWeight:600},children:t("activePatterns").replace("{count}",l.length)}),l.map((y,m)=>e("div",{children:[m>0&&e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("code",{className:"ios-text-strong",style:{background:"rgba(0, 122, 255, 0.15)",padding:"4px 8px",borderRadius:"6px",fontSize:"13px",fontFamily:"monospace"},children:y})}),e("div",{className:"ios-item-right",children:e("button",{onClick:()=>c(y),style:{background:"rgb(255, 69, 58)",color:"white",border:"none",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"18px",fontWeight:600,lineHeight:1},title:t("removePattern"),children:"√ó"})})]})]},m))]}):e("div",{className:"ios-card",style:{padding:"32px 16px",textAlign:"center"},children:[e("div",{style:{fontSize:"32px",marginBottom:"8px"},children:"üìù"}),e("div",{className:"ios-text",style:{fontSize:"13px"},children:t("noPatternsYet")})]})]})]}),e(_e,{scrollContainerRef:u,isHovered:d})]})})},Rl=({t})=>{const i=Q(null),[n,r]=w(!1);return e("div",{className:"ios-settings-container",children:e(S.div,{className:"ios-view-wrapper",initial:!1,animate:"center",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{position:"relative"},children:[e("div",{ref:i,className:"ios-settings-view",style:{padding:"20px"},children:[e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:t("aboutCard")}),e("div",{className:"ios-card",children:[e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-label",children:t("version")})}),e("div",{className:"ios-item-right",children:e("span",{className:"ios-item-value",children:"1.1.1051"})})]}),e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-label",children:t("build")})}),e("div",{className:"ios-item-right",children:e("span",{className:"ios-item-value",children:"2026.01.11"})})]}),e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-label",children:t("developer")})}),e("div",{className:"ios-item-right",children:e("span",{className:"ios-item-value",children:"fastender"})})]}),e("div",{className:"ios-divider"}),e("div",{className:"ios-item",children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-label",children:t("license")})}),e("div",{className:"ios-item-right",children:e("span",{className:"ios-item-value",children:"MIT"})})]})]})]}),e("div",{className:"ios-section",children:[e("div",{className:"ios-section-header",children:t("privacySecurity")}),e("div",{className:"ios-card",children:[e(S.div,{className:"ios-item ios-item-clickable",onClick:s=>{confirm(t("clearCacheConfirm"))&&(localStorage.removeItem("searchCache"),localStorage.removeItem("suggestionCache"),window.dispatchEvent(new CustomEvent("cacheCleared")),alert(t("clearCacheSuccess")))},children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:e("div",{className:"ios-item-label",children:t("clearCache")})})}),e("div",{className:"ios-item-right",children:e("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:e("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),e("div",{className:"ios-divider"}),e(S.div,{className:"ios-item ios-item-clickable",onClick:()=>{confirm(t("resetDataWarning"))&&confirm(t("resetDataConfirm"))&&(localStorage.clear(),window.location.reload())},children:[e("div",{className:"ios-item-left",children:e("div",{className:"ios-item-content",children:e("div",{className:"ios-item-label",style:{color:"rgb(255, 69, 58)"},children:t("resetData")})})}),e("div",{className:"ios-item-right",children:e("svg",{className:"ios-chevron",width:"7",height:"12",viewBox:"0 0 7 12",children:e("path",{d:"M1 1L6 6L1 11",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})]}),e("div",{className:"ios-section",children:e("div",{className:"ios-card",style:{padding:"16px",backgroundColor:"rgba(0, 122, 255, 0.1)"},children:e("div",{style:{display:"flex",gap:"12px",alignItems:"flex-start"},children:[e("div",{style:{fontSize:"24px"},children:"üîí"}),e("div",{children:[e("div",{className:"ios-text-strong",style:{fontWeight:600,marginBottom:"4px"},children:t("privacySecure")}),e("div",{className:"ios-text",style:{fontSize:"13px"},children:t("privacyLocalOnly")})]})]})})})]}),e(_e,{scrollContainerRef:i,isHovered:n})]})})},yi=({lang:t="de",onTabChange:i,settingsRef:n,hass:r})=>{const[s,o]=w(0),[l,a]=w(localStorage.getItem("darkMode")||"auto"),[c,u]=w(localStorage.getItem("userLanguage")||t||"de"),[d,h]=w(localStorage.getItem("userCurrency")||"EUR"),[v,b]=w(!0),[y,m]=w(!0),[p,x]=w(!0),[f,L]=w(localStorage.getItem("aiModeEnabled")!=="false"),[M,_]=w(!1),[R,N]=w(!1),[T,E]=w(()=>{try{const V=localStorage.getItem("excludedPatterns");return V?JSON.parse(V):[]}catch{return[]}}),[H,I]=w(""),[X,D]=w(""),[F]=w(localStorage.getItem("predictiveSuggestions")!=="false"),[z]=w(parseInt(localStorage.getItem("confidenceThreshold")||"60")),[g]=w(parseInt(localStorage.getItem("suggestionTimeWindow")||"45")),[C]=w(parseInt(localStorage.getItem("maxSuggestions")||"10")),[A]=w(localStorage.getItem("learningRate")||"normal"),[k]=w(parseInt(localStorage.getItem("maxEntitiesLimit")||"0")),$=c||t||"de",P=V=>W(`settings.${V}`,$);O(()=>{const V=j=>{const oe=j.detail.language;u(oe)};return window.addEventListener("languageChanged",V),()=>{window.removeEventListener("languageChanged",V)}},[]),O(()=>{n&&(n.current={setActiveTab:V=>{o(V)},getActiveTab:()=>s,getTabIcons:()=>or})}),O(()=>{i&&i(s)},[s,i]);const q=V=>{a(V),localStorage.setItem("darkMode",V),window.dispatchEvent(new CustomEvent("darkModeChanged",{detail:{mode:V}}))},U=V=>!V||V.trim()===""?"Pattern darf nicht leer sein":/^[a-z0-9_.*?]+$/i.test(V)?null:"Pattern darf nur Buchstaben, Zahlen, Unterstrich, * und ? enthalten",Y=()=>{const V=H.trim(),j=U(V);if(j){D(j);return}if(T.includes(V)){D("Pattern existiert bereits");return}const oe=[...T,V];E(oe),localStorage.setItem("excludedPatterns",JSON.stringify(oe)),window.dispatchEvent(new CustomEvent("excludedPatternsChanged",{detail:{patterns:oe}})),I(""),D("")},se=V=>{const j=T.filter(oe=>oe!==V);E(j),localStorage.setItem("excludedPatterns",JSON.stringify(j)),window.dispatchEvent(new CustomEvent("excludedPatternsChanged",{detail:{patterns:j}}))};return e("div",{className:"settings-container",children:e("div",{className:"settings-content",children:(()=>{switch(s){case 0:return e(_l,{t:P,aiModeEnabled:f,setAiModeEnabled:L,animations:p,setAnimations:x,soundEffects:y,setSoundEffects:m,language:c,setLanguage:u,currency:d,setCurrency:h,isLangDropdownOpen:R,setIsLangDropdownOpen:N,notifications:v,setNotifications:b,hass:r,lang:$,predictiveSuggestions:F,confidenceThreshold:z,timeWindow:g,maxSuggestions:C,learningRate:A});case 1:return e(zl,{t:P,darkMode:l,applyDarkMode:q,isDropdownOpen:M,setIsDropdownOpen:_,hass:r,lang:$});case 2:return e(Bl,{t:P,maxEntitiesLimit:k,newPattern:H,setNewPattern:I,patternError:X,setPatternError:D,excludedPatterns:T,addPattern:Y,removePattern:se});case 3:return e(Rl,{t:P});default:return null}})()})})};yi.getTabIcons=()=>or;const Pl=({viewLoader:t,entity:i,hass:n,lang:r,onBack:s,onNavigate:o,onServiceCall:l,fallbackComponent:a})=>{const[c,u]=w(null),[d,h]=w(!0),[v,b]=w(null),y=me.getEntityByDomain(i.domain);if(O(()=>{let m=!0;return t().then(p=>{m&&(u(()=>p.default||p),h(!1))}).catch(p=>{m&&(b(p.message),h(!1))}),()=>{m=!1}},[i.domain]),d)return e("div",{className:"system-view-loading",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px",color:"rgba(255,255,255,0.7)"},children:[e("div",{className:"loading-spinner",style:{width:"40px",height:"40px",border:"3px solid rgba(255,255,255,0.1)",borderTop:"3px solid rgba(255,255,255,0.5)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),e("p",{style:{marginTop:"16px"},children:["Loading ",i.name,"..."]})]});if(v)return e("div",{className:"system-view-error",style:{padding:"20px",textAlign:"center",color:"rgba(255,100,100,0.9)"},children:[e("h3",{children:"Error Loading View"}),e("p",{children:v}),a&&a()]});if(!c&&a){const m=a();if(m)return m}return c?e(c,{entity:y||i,hass:n,lang:r,onBack:s,onNavigate:o,onServiceCall:l}):e("div",{className:"system-view-error",style:{padding:"20px",textAlign:"center",color:"rgba(255,255,255,0.7)"},children:[e("h3",{children:"View Not Available"}),e("p",{children:["The view for ",i.name," could not be loaded."]})]})},Wl=Pn(Pl),Hl=t=>({light:"üí°",switch:"üîå",climate:"üå°Ô∏è",cover:"ü™ü",media_player:"üì∫",vacuum:"ü§ñ",fan:"üí®",lock:"üîí",sensor:"üìä",binary_sensor:"üì°",camera:"üì∑",settings:"‚öôÔ∏è",news:"üì∞",todos:"‚úÖ"})[t]||"üì¶",$l=t=>{const i={light:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",climate:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",media_player:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",cover:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",vacuum:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",default:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"};return{background:i[t.domain]||i.default}},Vl=(t,i="de")=>{const n=r=>W(`controls.${r}`,i);if(!t)return n("unknown");if(t.domain==="settings")return W("controls.systemSettings",i);if(t.domain==="sensor"){const r=t.state,s=t.attributes?.unit_of_measurement||"",o=t.name?.toLowerCase()||"";return o.includes("batterie")||o.includes("battery")?`${r}${s==="%"?"%":""} ${i==="de"?"Batterie":"Battery"}`:o.includes("luftfeuchtigkeit")||o.includes("humidity")?`${r}${s==="%"?"%":""} ${i==="de"?"Luftfeuchtigkeit":"Humidity"}`:o.includes("temperatur")||o.includes("temperature")||s==="¬∞C"||s==="¬∞F"?`${r}${s||"¬∞C"}`:o.includes("energie")||o.includes("energy")||o.includes("power")||o.includes("strom")?`${r} ${s||"W"}`:o.includes("co2")?`${r} ${s||"ppm"} CO‚ÇÇ`:o.includes("druck")||o.includes("pressure")?`${r} ${s||"hPa"}`:s?`${r} ${s}`:r}if(t.domain==="binary_sensor")return t.state==="on"?i==="de"?"Aktiv":"Active":i==="de"?"Inaktiv":"Inactive";if(t.domain==="switch"){const r=t.state==="on"?n("on"):n("off");return r.charAt(0).toUpperCase()+r.slice(1)}if(t.domain==="light"){if(t.state==="on"){const s=t.attributes?.brightness;if(s){const l=Math.round(s/255*100),a=n("on");return`${a.charAt(0).toUpperCase()+a.slice(1)} - ${l}%`}const o=n("on");return o.charAt(0).toUpperCase()+o.slice(1)}const r=n("off");return r.charAt(0).toUpperCase()+r.slice(1)}if(t.domain==="climate"){const r=t.attributes?.temperature,s=t.attributes?.current_temperature;return r?`${s||"--"}¬∞ ‚Üí ${r}¬∞C`:t.state}if(t.domain==="printer3d_device"){const r=t.attributes?.current_step||"Bereit",s=String(r).toLowerCase();return{idle:i==="de"?"Leerlauf":"Idle",offline:"Offline",unavailable:i==="de"?"Nicht verf√ºgbar":"Unavailable",unknown:i==="de"?"Unbekannt":"Unknown",bereit:i==="de"?"Bereit":"Ready",ready:i==="de"?"Bereit":"Ready",printing:i==="de"?"Druckt":"Printing",paused:i==="de"?"Pausiert":"Paused",error:i==="de"?"Fehler":"Error",complete:i==="de"?"Abgeschlossen":"Complete",finished:i==="de"?"Fertig":"Finished"}[s]||r}if(t.domain==="cover"){const r=t.attributes?.current_position;return r!==void 0?`${r}% ${i==="de"?"offen":"open"}`:t.state==="closed"?i==="de"?"Geschlossen":"Closed":i==="de"?"Offen":"Open"}return t.state||n("unknown")},Ol=(t,i="de")=>{const n=W("controls.justNow",i),r=W("controls.since",i);if(t?.domain==="printer3d_device"){const o=t.attributes?.nozzle_size,l=t.attributes?.nozzle_type,a=[];return o&&o!=="unavailable"&&a.push(o),l&&l!=="unavailable"&&a.push(l),a.length>0?a.join(", "):i==="de"?"Nicht verf√ºgbar":"Not available"}return{on:`${r} 2 ${i==="de"?"Stunden":"hours"}`,off:`${r} 30 ${i==="de"?"Minuten":"minutes"}`,playing:`${r} 15 ${i==="de"?"Minuten":"minutes"}`,idle:`${r} 1 ${i==="de"?"Stunde":"hour"}`}[t?.state]||n},jl=(t,i="de")=>{const n=[];if(t.domain==="light"){if(t.attributes?.brightness){const r=Math.round(t.attributes.brightness/255*100);n.push(`${r}% ${i==="de"?"Helligkeit":"Brightness"}`)}t.attributes?.color_temp&&n.push(`${t.attributes.color_temp} mired`),t.state==="on"?n.push(i==="de"?"Eingeschaltet":"On"):n.push(i==="de"?"Ausgeschaltet":"Off")}if(t.domain==="climate"&&(t.attributes?.current_temperature&&n.push(`${t.attributes.current_temperature}¬∞C ${i==="de"?"aktuell":"current"}`),t.attributes?.temperature&&n.push(`${t.attributes.temperature}¬∞C ${i==="de"?"Ziel":"target"}`),t.attributes?.hvac_mode&&n.push(t.attributes.hvac_mode)),t.domain==="printer3d_device"){const r=JSON.parse(localStorage.getItem("bambulab_quickstats_config")||'{"progress":true,"status":true,"remainingTime":true,"nozzleTemp":false,"bedTemp":false,"layerProgress":false}');if(r.progress&&t.attributes?.progress&&n.push(`${Math.round(t.attributes.progress)}%`),r.status&&t.attributes?.current_step){const s=t.attributes.current_step,o=String(s).toLowerCase(),l={idle:i==="de"?"Leerlauf":"Idle",offline:"Offline",unavailable:i==="de"?"Nicht verf√ºgbar":"Unavailable",unknown:i==="de"?"Unbekannt":"Unknown",bereit:i==="de"?"Bereit":"Ready",ready:i==="de"?"Bereit":"Ready",printing:i==="de"?"Druckt":"Printing",paused:i==="de"?"Pausiert":"Paused",error:i==="de"?"Fehler":"Error",complete:i==="de"?"Abgeschlossen":"Complete",finished:i==="de"?"Fertig":"Finished"};n.push(l[o]||s)}r.remainingTime&&t.attributes?.remaining_time&&n.push(t.attributes.remaining_time),r.nozzleTemp&&t.attributes?.nozzle_temp&&n.push(`${i==="de"?"D√ºse":"Nozzle"}: ${t.attributes.nozzle_temp}¬∞C`),r.bedTemp&&t.attributes?.bed_temp&&n.push(`${i==="de"?"Bett":"Bed"}: ${t.attributes.bed_temp}¬∞C`),r.layerProgress&&t.attributes?.current_layer&&t.attributes?.total_layers&&n.push(`${i==="de"?"Schicht":"Layer"} ${t.attributes.current_layer}/${t.attributes.total_layers}`)}return n},Ul=({item:t,isFavorite:i,onBack:n,onToggleFavorite:r,lang:s})=>e("div",{className:"detail-left-header",children:[e(S.button,{className:"back-button",onClick:n,whileHover:{scale:1.05},whileTap:{scale:.95},children:e("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M15 6L9 12L15 18",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),e("div",{className:"detail-left-title-info",children:[e(S.h3,{className:"detail-left-title-name",style:{fontWeight:600},initial:{opacity:0,filter:"blur(10px)"},animate:{opacity:1,filter:"blur(0px)"},transition:{duration:.6,delay:.25,ease:"easeOut"},children:(()=>{if(["settings","weather","news","todos","all_schedules","pluginstore"].includes(t.domain)){const l=t.domain==="all_schedules"?"all-schedules":t.domain;return W(`deviceNames.${l}`,s)||t.name}return t.attributes?.friendly_name||t.name})()}),e(S.p,{className:"detail-left-title-area",style:{fontWeight:400},initial:{opacity:0,filter:"blur(10px)"},animate:{opacity:1,filter:"blur(0px)"},transition:{duration:.6,delay:.35,ease:"easeOut"},children:["settings","weather","news","todos","all_schedules","pluginstore"].includes(t.domain)?W("subcategories.system",s):t.area||t.attributes?.area_id||W("general.noRoom",s)})]}),e(S.button,{className:`favorite-button ${i?"active":""}`,onClick:r,whileHover:{scale:1.05},whileTap:{scale:.95},children:e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinejoin:"round",children:e("path",{d:"M22 8.86222C22 10.4087 21.4062 11.8941 20.3458 12.9929C17.9049 15.523 15.5374 18.1613 13.0053 20.5997C12.4249 21.1505 11.5042 21.1304 10.9488 20.5547L3.65376 12.9929C1.44875 10.7072 1.44875 7.01723 3.65376 4.73157C5.88044 2.42345 9.50794 2.42345 11.7346 4.73157L11.9998 5.00642L12.2648 4.73173C13.3324 3.6245 14.7864 3 16.3053 3C17.8242 3 19.2781 3.62444 20.3458 4.73157C21.4063 5.83045 22 7.31577 22 8.86222Z"})})})]}),Gl=({item:t,lang:i,videoUrl:n,showVideo:r,isCheckingVideo:s})=>e("div",{className:"icon-content",children:[!n&&!s&&e("div",{className:"icon-background-wrapper",children:e("div",{className:"icon-background",style:$l(t),children:Hl(t.domain)})}),e("div",{className:"detail-info-row",children:e("div",{className:"quick-stats",children:e(xe,{mode:"popLayout",children:jl(t,i).map((o,l)=>e(S.div,{className:"stat-item",initial:{scale:0,opacity:0,filter:"blur(10px)"},animate:{scale:1,opacity:1,filter:"blur(0px)"},exit:{scale:0,opacity:0,filter:"blur(10px)"},transition:{delay:.5+l*.05,duration:.6,ease:"easeOut"},layout:!0,children:o},o))})})}),e(S.div,{className:"entity-id-display",initial:{opacity:0,filter:"blur(10px)"},animate:{opacity:1,filter:"blur(0px)"},transition:{duration:.6,delay:.7,ease:"easeOut"},children:t.entity_id})]}),Zl=({filteredTabIcons:t,activeTab:i,onTabChange:n,sliderPosition:r,isMobile:s,stateText:o,stateDuration:l,item:a,settingsTabRef:c,actionButtons:u=null,onBack:d,currentLanguage:h="de"})=>{const[v,b]=w(null),y=R=>a.domain==="settings"?W(["tooltips.generalTab","tooltips.appearanceTab","tooltips.privacyTab","tooltips.aboutTab"][R],h)||"":W(["tooltips.controlsTab","tooltips.scheduleTab","tooltips.historyTab","tooltips.contextTab"][R],h)||"";O(()=>{if(!u)return;const R=()=>{const H=(window._printerViewRef||window._newsViewRef||window._todosViewRef||window._weatherViewRef)?.getActiveButton?.();H!==v&&b(H)};R();let N;const T=()=>{R(),N=requestAnimationFrame(T)};return N=requestAnimationFrame(T),()=>{N&&cancelAnimationFrame(N)}},[u,v]);const m=R=>{n(R),a.domain==="settings"&&c.current&&c.current.setActiveTab&&c.current.setActiveTab(R)},p=R=>{const N=window._newsViewRef,T=window._todosViewRef,E=window._weatherViewRef,H=window._printerViewRef;switch(R){case"back":N&&window._newsViewRef.handleBackNavigation?window._newsViewRef.handleBackNavigation():T&&window._todosViewRef.handleBackNavigation?window._todosViewRef.handleBackNavigation():E&&window._weatherViewRef.handleBackNavigation?window._weatherViewRef.handleBackNavigation():H&&window._printerViewRef.handleBackNavigation?window._printerViewRef.handleBackNavigation():d?.();break;case"overview":N&&window._newsViewRef.handleOverview?window._newsViewRef.handleOverview():T&&window._todosViewRef.handleOverview?window._todosViewRef.handleOverview():H&&window._printerViewRef.handleOverview&&window._printerViewRef.handleOverview();break;case"settings":N&&window._newsViewRef.handleOpenSettings?window._newsViewRef.handleOpenSettings():T&&window._todosViewRef.handleOpenSettings?window._todosViewRef.handleOpenSettings():E&&window._weatherViewRef.handleOpenSettings?window._weatherViewRef.handleOpenSettings():H&&window._printerViewRef.handleOpenSettings&&window._printerViewRef.handleOpenSettings();break;case"camera":H&&window._printerViewRef.handleOpenCamera&&window._printerViewRef.handleOpenCamera();break;case"image":H&&window._printerViewRef.handleOpenImage&&window._printerViewRef.handleOpenImage();break;case"refresh":N&&window._newsViewRef.handleRefresh?window._newsViewRef.handleRefresh():T&&window._todosViewRef.handleRefresh?window._todosViewRef.handleRefresh():E&&window._weatherViewRef.handleRefresh&&window._weatherViewRef.handleRefresh();break;case"add":T&&window._todosViewRef.handleAdd&&window._todosViewRef.handleAdd();break;case"read":N&&window._newsViewRef.handleToggleRead&&window._newsViewRef.handleToggleRead();break;case"favorite":N&&window._newsViewRef.handleToggleFavorite&&window._newsViewRef.handleToggleFavorite();break;default:console.warn("Unknown action:",R)}},x=R=>{const N=R.isRead||!1,T=R.isFavorite||!1;switch(R.id){case"overview":return e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12C16 14.2091 14.2091 16 12 16Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 2V8",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 16V22",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M2 12H8",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M16 12H22",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M4.92896 4.92871L9.1716 9.17135",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M14.8284 14.8286L19.071 19.0713",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M4.92896 19.0713L9.1716 14.8286",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M14.8284 9.17139L19.071 4.92875",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]});case"back":return a.domain==="todos"?e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e("path",{d:"M9 6L20 6",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M3.80002 5.79999L4.60002 6.59998L6.60001 4.59999",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M3.80002 11.8L4.60002 12.6L6.60001 10.6",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M3.80002 17.8L4.60002 18.6L6.60001 16.6",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M9 12L20 12",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M9 18L20 18",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}):a.domain==="news"?e("svg",{width:"20",height:"20",strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e("path",{d:"M12 19C12 14.8 9.2 12 5 12",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M19 19C19 10.6 13.4 5 5 5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M5 19.01L5.01 18.9989",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}):e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e("path",{d:"M15 6L9 12L15 18",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})});case"settings":return e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M19.622 10.395l-1.097-2.65L20 6l-2-2-1.735 1.483-2.707-1.113L12.935 2h-1.954l-.632 2.401-2.645 1.115L6 4 4 6l1.453 1.789-1.08 2.657L2 11v2l2.401.655L5.516 16.3 4 18l2 2 1.791-1.46 2.606 1.072L11 22h2l.604-2.387 2.651-1.098C16.697 18.831 18 20 18 20l2-2-1.484-1.75 1.098-2.652 2.386-.62V11l-2.378-.605Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]});case"refresh":return e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e("path",{d:"M21.5 2V8M21.5 8H15.5M21.5 8L18.5 5C17.1 3.6 15.2 2.7 13 2.7C8.5 2.7 4.9 6.3 4.9 10.8C4.9 15.3 8.5 18.9 13 18.9C16.9 18.9 20.1 16.1 20.8 12.4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});case"read":return e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:N?"currentColor":"none",stroke:"currentColor",children:[e("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z",strokeWidth:"2"}),e("circle",{cx:"12",cy:"12",r:"3",strokeWidth:"2"})]});case"favorite":return e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:T?"currentColor":"none",stroke:"currentColor",children:e("path",{d:"M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5C2 5.42 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.09C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.42 22 8.5C22 12.28 18.6 15.36 13.45 20.04L12 21.35Z",strokeWidth:"2"})});case"add":return e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e("path",{d:"M12 5V19M5 12H19",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});case"camera":return e("svg",{width:"20",height:"20",strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e("path",{d:"M15 12V16.4C15 16.7314 14.7314 17 14.4 17H3.6C3.26863 17 3 16.7314 3 16.4V7.6C3 7.26863 3.26863 7 3.6 7H14.4C14.7314 7 15 7.26863 15 7.6V12ZM15 12L20.0159 7.82009C20.4067 7.49443 21 7.77232 21 8.28103V15.719C21 16.2277 20.4067 16.5056 20.0159 16.1799L15 12Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})});case"image":return e("svg",{width:"20",height:"20","stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",children:[e("path",{d:"M21 3.6V20.4C21 20.7314 20.7314 21 20.4 21H3.6C3.26863 21 3 20.7314 3 20.4V3.6C3 3.26863 3.26863 3 3.6 3H20.4C20.7314 3 21 3.26863 21 3.6Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M3 16L10 13L21 18",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M16 10C14.8954 10 14 9.10457 14 8C14 6.89543 14.8954 6 16 6C17.1046 6 18 6.89543 18 8C18 9.10457 17.1046 10 16 10Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]});default:return null}},f={x:r.x,width:r.width,height:r.height,scaleX:[1,1.12,.96,1.03,1],scaleY:[1,.94,1.06,.99,1]},L={x:{type:"spring",stiffness:280,damping:22,mass:1.5},width:{type:"spring",stiffness:280,damping:22,mass:1.5},height:{type:"spring",stiffness:280,damping:22,mass:1.5},scaleX:{duration:.6,times:[0,.2,.5,.8,1],ease:[.34,1.56,.64,1]},scaleY:{duration:.6,times:[0,.2,.5,.8,1],ease:[.34,1.56,.64,1]}},M=Le(()=>{if(!v||!u)return{x:0,width:40,height:40};const R=u.findIndex(I=>I.id===v);if(R===-1)return{x:0,width:40,height:40};const N=s?36:40;return{x:(s?3:5)+R*(N+(s?4:6)),width:N,height:N}},[u,s,v]),_={x:M.x,width:M.width,height:M.height,scaleX:[1,1.12,.96,1.03,1],scaleY:[1,.94,1.06,.99,1]};return s?e("div",{className:"mobile-tabs",children:[e("div",{className:"detail-header-info",children:[e("h3",{className:"detail-header-name",style:{fontWeight:600},children:o}),e("p",{className:"detail-header-area",style:{fontWeight:400},children:l})]}),e("div",{className:"detail-tabs",children:u?e(fe,{children:[e(S.div,{className:"tab-slider",animate:_,transition:L}),u.map((R,N)=>{const H=(window._printerViewRef||window._newsViewRef||window._todosViewRef||window._weatherViewRef)?.getActiveButton?.()===R.id;return e(S.button,{className:`detail-tab ${H?"active":""}`,onClick:()=>p(R.action),whileHover:{scale:1.04},whileTap:{scale:.96},transition:{duration:.2},title:W(`actionButtons.${R.id}`,h)||R.title,children:x(R)},R.id)})]}):e(fe,{children:[e(S.div,{className:"tab-slider",animate:f,transition:L}),t.map((R,N)=>e(S.button,{className:`detail-tab ${i===N?"active":""}`,onClick:()=>m(N),whileHover:{scale:1.04},whileTap:{scale:.96},transition:{duration:.2},title:y(N),children:R},N))]})})]}):e("div",{className:"desktop-tabs",children:e("div",{className:"detail-header",children:[e("div",{className:"detail-header-info",children:[e("h3",{className:"detail-header-name",style:{fontWeight:600},children:o}),e("p",{className:"detail-header-area",style:{fontWeight:400},children:l})]}),e("div",{className:"detail-tabs",children:u?e(fe,{children:[e(S.div,{className:"tab-slider",animate:_,transition:L}),u.map((R,N)=>{const H=(window._printerViewRef||window._newsViewRef||window._todosViewRef||window._weatherViewRef)?.getActiveButton?.()===R.id;return e(S.button,{className:`detail-tab ${H?"active":""}`,onClick:()=>p(R.action),whileHover:{scale:1.04},whileTap:{scale:.96},transition:{duration:.2},title:W(`actionButtons.${R.id}`,h)||R.title,children:x(R)},R.id)})]}):e(fe,{children:[e(S.div,{className:"tab-slider",animate:f,transition:L}),t.map((R,N)=>e(S.button,{className:`detail-tab ${i===N?"active":""}`,onClick:()=>m(N),whileHover:{scale:1.04},whileTap:{scale:.96},transition:{duration:.2},title:y(N),children:R},N))]})})]})})},ql=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",children:[e("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22Z",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12C16 14.2091 14.2091 16 12 16Z",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 2V8",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 16V22",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M2 12H8",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M16 12H22",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M4.92896 4.92871L9.1716 9.17135",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M14.8284 14.8286L19.071 19.0713",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M4.92896 19.0713L9.1716 14.8286",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M14.8284 9.17139L19.071 4.92875",strokeLinecap:"round",strokeLinejoin:"round"})]}),e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",children:[e("path",{d:"M12 6L12 12L18 12",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",strokeLinecap:"round",strokeLinejoin:"round"})]}),e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e("path",{d:"M3 7.4V3.6C3 3.26863 3.26863 3 3.6 3H9.4C9.73137 3 10 3.26863 10 3.6V7.4C10 7.73137 9.73137 8 9.4 8H3.6C3.26863 8 3 7.73137 3 7.4Z"}),e("path",{d:"M14 20.4V16.6C14 16.2686 14.2686 16 14.6 16H20.4C20.7314 16 21 16.2686 21 16.6V20.4C21 20.7314 20.7314 21 20.4 21H14.6C14.2686 21 14 20.7314 14 20.4Z"}),e("path",{d:"M14 12.4V3.6C14 3.26863 14.2686 3 14.6 3H20.4C20.7314 3 21 3.26863 21 3.6V12.4C21 12.7314 20.7314 13 20.4 13H14.6C14.2686 13 14 12.7314 14 12.4Z"}),e("path",{d:"M3 20.4V11.6C3 11.2686 3.26863 11 3.6 11H9.4C9.73137 11 10 11.2686 10 11.6V20.4C10 20.7314 9.73137 21 9.4 21H3.6C3.26863 21 3 20.7314 3 20.4Z"})]}),e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e("path",{d:"M21 9.6V20.4C21 20.7314 20.7314 21 20.4 21H9.6C9.26863 21 9 20.7314 9 20.4V9.6C9 9.26863 9.26863 9 9.6 9H20.4C20.7314 9 21 9.26863 21 9.6Z",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M15 3.6V14.4C15 14.7314 14.7314 15 14.4 15H3.6C3.26863 15 3 14.7314 3 14.4V3.6C3 3.26863 3.26863 3 3.6 3H14.4C14.7314 3 15 3.26863 15 3.6Z",strokeLinecap:"round",strokeLinejoin:"round"})]})];function Kl(t,i){if(!t)return"off";const n=t.toLowerCase(),r=["on","playing","heat","cool","auto","locked","home","active","armed","cleaning","docked"],s=["off","idle","paused","unlocked","away","inactive","disarmed","standby"],o=["open","opening"],l=["closed","closing"];if(i==="cover"||i==="door"||i==="window"){if(o.includes(n))return"open";if(l.includes(n))return"closed"}return r.includes(n)?"on":s.includes(n)?"off":o.includes(n)?"open":l.includes(n)?"closed":"off"}function Yl(t,i,n="/local/fast-search-videos"){if(!t||!i)return null;const r=Kl(i,t);return`${n}/${t}_${r}.mp4`}async function bi(t){if(!t)return!1;try{const i=await fetch(t,{method:"HEAD",cache:"no-cache"});return i.ok&&i.status===200}catch{return console.debug(`Video not found: ${t}`),!1}}function vr(){try{const t=localStorage.getItem("systemSettings");if(!t)return{enabled:!1,mobileEnabled:!1,basePath:"/local/fast-search-videos"};const n=JSON.parse(t).appearance||{};return{enabled:n.detailViewVideosEnabled===!0,mobileEnabled:n.detailViewVideosMobileEnabled===!0,basePath:n.detailViewVideosPath||"/local/fast-search-videos"}}catch(t){return console.error("Failed to read video settings:",t),{enabled:!1,mobileEnabled:!1,basePath:"/local/fast-search-videos"}}}function Jl(){const t=vr();return!(!t.enabled||window.innerWidth<=768&&!t.mobileEnabled)}async function Xl(t="/local/fast-search-videos"){const i="videoDefaultsCache",n="videoDefaultsCacheTime";try{const l=localStorage.getItem(n),a=localStorage.getItem(i);if(a&&l){const c=Date.now()-parseInt(l),u=1440*60*1e3;if(c<u)return JSON.parse(a)}}catch{console.debug("Cache read failed, will discover defaults")}const s=[],o=10;for(let l=1;l<=o;l++){const a=`${t}/default_${l}.mp4`;await bi(a)&&s.push(a)}try{localStorage.setItem(i,JSON.stringify(s)),localStorage.setItem(n,Date.now().toString())}catch{console.debug("Failed to cache default videos")}return s}async function Ql(t="/local/fast-search-videos"){const i=await Xl(t);if(i.length===0)return null;const n=Math.floor(Math.random()*i.length);return i[n]}async function ec(t){if(!t||!t.domain||!Jl())return null;const i=vr(),n=Yl(t.domain,t.state,i.basePath);if(n&&await bi(n))return n;const r=`${i.basePath}/${t.domain}.mp4`;if(await bi(r))return r;const o=await Ql(i.basePath);return o||null}const tc=({item:t={entity_id:"light.wohnzimmer",domain:"light",name:"Wohnzimmer Licht",area:"Wohnzimmer",state:"on",attributes:{brightness:180,color_temp:350,friendly_name:"Wohnzimmer Deckenlampe"}},isVisible:i=!1,onBack:n,onToggleFavorite:r,onServiceCall:s,onActionNavigate:o,hass:l,lang:a="de",isFavorite:c=!1})=>{const[u]=Si(),d=Le(()=>!t?.entity_id||!u?t:u.find(G=>G.entity_id===t.entity_id)||t,[u,t?.entity_id]),[h,v]=w(0),[b,y]=w(!1),[m,p]=w(c),[x,f]=w(null),[L,M]=w({x:0,width:0,height:0}),[_,R]=w(null),N=Q(null),T=Q(null),[E,H]=w(null),[I,X]=w(!1),[D,F]=w(!1),z=Q(null),[g,C]=w(!1);O(()=>{p(c)},[c,t?.entity_id,t?.id]),O(()=>{const J=t?.entity_id||t?.id;x&&x!==J&&v(0),f(J)},[t?.entity_id,t?.id]),O(()=>{const J=()=>{y(window.innerWidth<=768)};return J(),window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)},[]),O(()=>{H(null),X(!1),F(!0),(async()=>{if(!t){F(!1);return}const G=await ec(t);G&&H(G),F(!1)})()},[t?.entity_id,t?.state]);const A=()=>{setTimeout(()=>X(!0),50)},k=()=>{console.warn("Failed to load video, falling back to icon"),H(null),X(!1)},$=t?.domain==="settings"?yi.getTabIcons():[],P=t?.domain==="settings"?$:ql,U=(()=>{if(t.domain==="settings")return $;if(t.domain==="printer3d_device"||t.domain==="energy_dashboard_device"){const J=fi(t,a);return J&&J.primary&&J.primary.length>0?J.primary.map(G=>G.icon):[]}return me.isSystemEntity(t.domain)&&!me.hasTabs(t.domain)?[]:t.domain==="sensor"||t.domain==="binary_sensor"?[P[0],P[2],P[3]]:P})(),Y=()=>{if(me.isSystemEntity(t.domain)){if(t.domain==="news"&&window._newsViewRef){const{selectedArticle:G}=window._newsViewRef;return G?[{id:"back",action:"back",title:"Zur√ºck"},{id:"read",action:"read",title:G.read?"Als ungelesen markieren":"Als gelesen markieren",isRead:G.read||!1},{id:"favorite",action:"favorite",title:"Favorit",isFavorite:G.favorite||!1}]:me.getActionButtons(t.domain)}if(t.domain==="todos"&&window._todosViewRef){const{selectedTodo:G}=window._todosViewRef;return G?[{id:"back",action:"back",title:"Zur√ºck"}]:me.getActionButtons(t.domain)}return me.getActionButtons(t.domain)}return null};O(()=>{const J=()=>{const G=Y();R(G)};if(J(),t.domain==="news")return window.addEventListener("news-view-state-changed",J),()=>{window.removeEventListener("news-view-state-changed",J)};if(t.domain==="todos")return window.addEventListener("todos-view-state-changed",J),()=>{window.removeEventListener("todos-view-state-changed",J)}},[t.domain,t.entity_id]),O(()=>{const J=()=>{if(_)return;const ne=U.length;if(ne===0||h>=ne){console.warn("‚ùå [SLIDER] Invalid tab configuration:",{tabCount:ne,activeTab:h});return}const K=b?36:40,ie=(b?3:5)+h*(K+(b?4:6));M({x:Math.round(ie),width:K,height:K})};J();const G=()=>{J()};return window.addEventListener("resize",G),()=>{window.removeEventListener("resize",G)}},[h,b,U]);const se=()=>{const J=t.entity_id||t.id;J&&(p(!m),r?.(J))},B=be(()=>{n?.()},[n]),V=(J,G)=>{if(!J)return"";const ne=new Date(J),ee=new Date-ne,ce=Math.floor(ee/6e4),ie=Math.floor(ee/36e5),le=Math.floor(ee/864e5);return G==="de"?ce<1?"Gerade eben":ce<60?`vor ${ce} Minute${ce!==1?"n":""}`:ie<24?`vor ${ie} Stunde${ie!==1?"n":""}`:le<7?`vor ${le} Tag${le!==1?"en":""}`:ne.toLocaleDateString("de-DE"):ce<1?"Just now":ce<60?`${ce} minute${ce!==1?"s":""} ago`:ie<24?`${ie} hour${ie!==1?"s":""} ago`:le<7?`${le} day${le!==1?"s":""} ago`:ne.toLocaleDateString("en-US")},j=()=>{if(t.domain!=="news"||!window._newsViewRef)return null;const{selectedArticle:J,unreadCount:G,feedCount:ne}=window._newsViewRef;if(J){const ee=J.source||"Unbekannt",ce=V(J.published,a);return{stateText:ee,stateDuration:ce}}else{const K=a==="de"?`${G||0} Neue Nachrichten`:`${G||0} New Articles`,ee=a==="de"?`${ne||0} Feeds`:`${ne||0} Feeds`;return{stateText:K,stateDuration:ee}}},oe=()=>{if(t.domain!=="todos"||!window._todosViewRef)return null;const{selectedTodo:J,showSettings:G,incompleteCount:ne,overdueCount:K,todayCount:ee}=window._todosViewRef;if(J){const ce=J.listName||"Todo",ie=J.due?V(J.due,a):a==="de"?"Kein Datum":"No date";return{stateText:ce,stateDuration:ie}}else{if(G)return{stateText:a==="de"?"Einstellungen":"Settings",stateDuration:a==="de"?"Anpassen":"Customize"};{const ce=a==="de"?`${ne||0} Unerledigt`:`${ne||0} Incomplete`;let ie=[];ee>0&&ie.push(a==="de"?`${ee} Heute`:`${ee} Today`),K>0&&ie.push(a==="de"?`${K} √úberf√§llig`:`${K} Overdue`);const le=ie.length>0?ie.join(", "):a==="de"?"Alles erledigt":"All done";return{stateText:ce,stateDuration:le}}}},Ne=()=>{if(t.domain!=="printer3d_device")return null;const J=t.attributes||{},G=J.nozzle_temp||0,ne=J.bed_temp||0,K=J.current_step||(a==="de"?"Bereit":"Ready"),ee=String(K).toLowerCase(),ie={idle:a==="de"?"Leerlauf":"Idle",offline:"Offline",unavailable:a==="de"?"Nicht verf√ºgbar":"Unavailable",unknown:a==="de"?"Unbekannt":"Unknown",bereit:a==="de"?"Bereit":"Ready",ready:a==="de"?"Bereit":"Ready",printing:a==="de"?"Druckt":"Printing",paused:a==="de"?"Pausiert":"Paused",error:a==="de"?"Fehler":"Error",complete:a==="de"?"Abgeschlossen":"Complete",finished:a==="de"?"Fertig":"Finished"}[ee]||K,Se=G||ne?`${a==="de"?"Druckbett":"Bed"}: ${ne}¬∞C | ${a==="de"?"D√ºse":"Nozzle"}: ${G}¬∞C`:a==="de"?"Nicht verf√ºgbar":"Not available";return{stateText:ie,stateDuration:Se}},he=async J=>{if(!l)return null;try{const{loadEntityHistory:G}=await Oe(async()=>{const{loadEntityHistory:K}=await Promise.resolve().then(()=>eo);return{loadEntityHistory:K}},void 0),ne=await G(l,J.entity_id,J.timeRange);return ne?{history:ne.data,events:ne.events}:null}catch{return null}},pe=()=>{if(t.domain==="settings")return e(yi,{settingsRef:T,lang:a,hass:l,onTabChange:K=>{}});if(t.is_system||t.is_plugin||me.isSystemEntity(t.domain)){const K=me.getViewComponent(t.domain);if(K)return typeof K=="function"?e(Wl,{viewLoader:K,entity:t,hass:l,lang:a,onBack:B,onNavigate:o,onServiceCall:s}):e(K,{entity:t,hass:l,lang:a,onBack:B,onNavigate:o,onServiceCall:s})}const G=async(K,ee,ce)=>{if(!s){console.warn("DetailView: onServiceCall not provided");return}return await s(K,ee,ce)};if(t.domain==="sensor"||t.domain==="binary_sensor"){const K=[e(ln,{item:d,onServiceCall:s,lang:a,hass:l}),e(pn,{item:d,onDataRequest:he}),e(vn,{item:d,onActionExecute:G,onActionNavigate:ee=>{o&&o(ee)},favoriteActions:[]})];return K[h]||K[0]}const ne=[e(ln,{item:d,onServiceCall:s,lang:a,hass:l}),e(Ba,{item:d,lang:a,onTimerCreate:K=>Mo(l,d,K),onScheduleCreate:K=>Eo(l,d,K)}),e(pn,{item:d,onDataRequest:he}),e(vn,{item:t,onActionExecute:G,onActionNavigate:K=>{o&&o(K)},favoriteActions:[]})];return ne[h]||ne[0]};return t?e(xe,{mode:"wait",children:i&&e(S.div,{className:"detail-panel visible","data-entity-id":t.entity_id,variants:Fs,initial:"hidden",animate:"visible",exit:"exit",children:e(S.div,{className:"detail-content",variants:Is,initial:"hidden",animate:"visible",exit:"exit",children:[e("div",{className:`detail-left ${E?"has-video":""}`,children:[E&&e("video",{ref:z,className:`detail-left-video-background ${I?"visible":""}`,src:E,autoPlay:!0,muted:!0,playsInline:!0,preload:"auto",onLoadedData:A,onError:k}),e(Ul,{item:t,isFavorite:m,onBack:B,onToggleFavorite:se,lang:a}),e(Gl,{item:t,lang:a,videoUrl:E,showVideo:I,isCheckingVideo:D})]}),!(b&&E)&&e("div",{className:"detail-divider"}),e("div",{className:"detail-right",children:[e(Zl,{filteredTabIcons:U,activeTab:h,onTabChange:v,sliderPosition:L,isMobile:b,stateText:oe()?.stateText||j()?.stateText||Ne()?.stateText||Vl(t,a),stateDuration:oe()?.stateDuration||j()?.stateDuration||Ne()?.stateDuration||Ol(t,a),item:t,settingsTabRef:T,actionButtons:_,onBack:B,currentLanguage:a}),e("div",{id:"tab-content-container",ref:N,onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),children:pe()}),e(_e,{scrollContainerRef:N,isHovered:g})]})]},t.entity_id||t.id)})}):null},ic=({username:t="User",weatherEntity:i,powerEntity:n,hass:r,notificationCount:s=0,show:o=!0,isMobile:l=!1,position:a="centered",hasAppeared:c=!0})=>{const[u,d]=w(new Date),[h,v]=w(()=>{const z=localStorage.getItem("statsBarEnabled");return z!==null?z==="true":!0}),b=r?.user?.name||t,[y,m]=w(null);O(()=>{(async()=>{if(r)try{const g=await gr(r);m(g)}catch{m(null)}})()},[r]);const[p,x]=w(()=>vi()||{gridConsumption:null,gridReturn:null,solar:null,battery:null}),[f,L]=w(()=>{try{const z=localStorage.getItem("systemSettings");if(!z)return{weather:!0,gridConsumption:!0,gridReturn:!0,solar:!1,notifications:!0,time:!0,consumption:!1,todayConsumption:!0,todayCost:!0};const A=(JSON.parse(z).statsBar||{}).widgets||{};return{weather:A.weather!==!1,gridConsumption:A.gridConsumption!==!1,gridReturn:A.gridReturn!==!1,solar:A.solar===!0,notifications:A.notifications!==!1,time:A.time!==!1,consumption:A.consumption===!0,todayConsumption:A.todayConsumption===!0,todayCost:A.todayCost===!0}}catch{return{weather:!0,gridConsumption:!0,gridReturn:!0,solar:!1,notifications:!0,time:!0,consumption:!1,todayConsumption:!1,todayCost:!1}}}),[M,_]=w(null);O(()=>{const z=async()=>{if(!r||!p.gridConsumption){_(null);return}try{const C=await wn(r,p);_(C)}catch(C){console.error("Failed to load energy dashboard data:",C),_(null)}};z();const g=setInterval(z,3e5);return()=>clearInterval(g)},[r,p]),O(()=>{const z=setInterval(()=>{d(new Date)},6e4);return()=>clearInterval(z)},[]),O(()=>{const z=g=>{L(g.detail)};return window.addEventListener("statsBarWidgetsChanged",z),()=>window.removeEventListener("statsBarWidgetsChanged",z)},[]),O(()=>{const z=()=>{const g=vi();g&&x(g)};return window.addEventListener("energySensorConfigChanged",z),window.addEventListener("storage",z),()=>{window.removeEventListener("energySensorConfigChanged",z),window.removeEventListener("storage",z)}},[]),O(()=>{const z=async()=>{if(r&&p.gridConsumption)try{const g=await wn(r,p);_(g)}catch(g){console.error("Failed to reload energy data after price change:",g)}};return window.addEventListener("energyPriceChanged",z),()=>{window.removeEventListener("energyPriceChanged",z)}},[r,p]),O(()=>{const z=g=>{v(g.detail)};return window.addEventListener("statsBarEnabledChanged",z),()=>{window.removeEventListener("statsBarEnabledChanged",z)}},[]);const R=z=>{const g=z.getHours().toString().padStart(2,"0"),C=z.getMinutes().toString().padStart(2,"0");return`${g}:${C}`},N=i?.attributes?.temperature||i?.attributes?.current_temperature,T=N?`${Math.round(N)}¬∞C`:"--¬∞C",E=i?.state?xn(i.state,14,"rgba(255, 255, 255, 0.9)"):xn("partlycloudy",14,"rgba(255, 255, 255, 0.9)"),H=z=>{if(!r||!z)return"--";const g=gt(r,z,"--");if(g==="--")return g;try{const C=parseFloat(g),k=r.states[z]?.attributes?.unit_of_measurement;return k==="W"?`${(C/1e3).toFixed(1)}kW`:k==="kW"?`${C.toFixed(1)}kW`:k==="kWh"||k==="Wh"?k==="Wh"?`${(C/1e3).toFixed(1)}kWh`:`${C.toFixed(1)}kWh`:`${C.toFixed(1)}${k||"kW"}`}catch(C){return console.warn("Failed to parse energy value:",C),"--"}},I=H(p.gridConsumption),X=H(p.gridReturn),D=H(p.solar),F=H(p.battery);return n?.state&&`${parseFloat(n.state).toFixed(1)}`,!o||!h?null:e("div",{style:{width:"100%",marginBottom:"12px",position:"relative"},children:e(S.div,{initial:{opacity:0},animate:{opacity:c?1:0},transition:{duration:.4,ease:[.16,1,.3,1]},style:{borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:l?"13px":"14px",fontWeight:"500",color:"rgba(255, 255, 255, 0.9)",position:"relative",overflow:"hidden",minHeight:"35px"},className:"stats-bar",children:[e("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:l?"0 0 auto":"1",minWidth:0},children:[y?e("img",{src:y,alt:b,onError:z=>{z.target.style.display="none"},style:{width:l?"24px":"28px",height:l?"24px":"28px",borderRadius:"50%",objectFit:"cover",flexShrink:0,border:"2px solid rgba(255, 255, 255, 0.2)"}}):null,!y&&e("span",{style:{fontSize:l?"16px":"18px",flexShrink:0},children:"üë§"}),e("span",{style:{fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:b})]}),e("div",{style:{display:"flex",alignItems:"center",gap:l?"12px":"16px",flex:"0 0 auto"},children:[f.weather&&!l&&e("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"12px"},children:[E,e("span",{children:T})]}),f.gridConsumption&&p.gridConsumption&&e("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"12px"},children:[e(Gt,{size:14,color:"rgba(255, 255, 255, 0.9)"}),e("span",{children:M?.currentGridConsumption!==void 0&&M?.currentGridConsumption!==null?`${(M.currentGridConsumption/1e3).toFixed(1)}kW`:I})]}),f.gridReturn&&p.gridReturn&&e("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"12px"},children:[e(Gt,{size:14,color:"rgba(255, 255, 255, 0.9)"}),e("span",{children:X})]}),f.solar&&p.solar&&e("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"12px"},children:[e(cr,{size:14,color:"rgba(255, 255, 255, 0.9)"}),e("span",{children:M?.currentSolarProduction!==void 0&&M?.currentSolarProduction!==null?`${(M.currentSolarProduction/1e3).toFixed(1)}kW`:D})]}),f.battery&&p.battery&&e("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"12px"},children:[e(dl,{size:14,color:"rgba(255, 255, 255, 0.9)"}),e("span",{children:F})]}),f.todayConsumption&&M?.todayGridConsumption!==void 0&&M?.todayGridConsumption!==null&&e("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"12px"},children:[e(hr,{size:14,color:"rgba(255, 255, 255, 0.9)"}),e("span",{children:[M.todayGridConsumption.toFixed(1),"kWh"]})]}),f.todayCost&&M?.todayCost!==void 0&&M?.todayCost!==null&&e("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"12px"},children:[e(dr,{size:14,color:"rgba(255, 255, 255, 0.9)"}),e("span",{children:[M.todayCost.toFixed(2),"‚Ç¨"]})]}),f.notifications&&s>0&&e("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"rgba(255, 100, 100, 0.2)",borderRadius:"12px",position:"relative"},children:[e(mr,{size:14,color:"rgba(255, 255, 255, 0.9)"}),e("span",{style:{background:"rgba(255, 60, 60, 0.9)",color:"white",padding:"2px 6px",borderRadius:"8px",fontSize:l?"11px":"12px",fontWeight:"700",minWidth:"20px",textAlign:"center"},children:s})]}),f.time&&e("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"12px",fontVariantNumeric:"tabular-nums"},children:[e(pr,{size:14,color:"rgba(255, 255, 255, 0.9)"}),e("span",{children:R(u)})]}),f.consumption&&(()=>{let z=0,g=!1;if(M){const C=M.currentGridConsumption||0,A=M.currentGridReturn||0,k=M.currentSolarProduction||0;z=C-A+k,g=!0}return g?e("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"12px"},children:[e(ur,{size:14,color:"rgba(255, 255, 255, 0.9)"}),e("span",{children:[(z/1e3).toFixed(1),"kW"]})]}):null})()]})]})})},Ln=(t="de")=>{const i=new Date().getHours(),n={de:{morning:["Guten Morgen","Einen wundersch√∂nen Morgen","Frohes Erwachen","Zeit f√ºr einen guten Start","Bereit f√ºr einen gro√üartigen Tag","Ein neuer Tag wartet"],afternoon:["Guten Tag","Sch√∂nen Nachmittag","Auf geht's","Weiter so","Produktiver Tag heute","Toll, dich zu sehen"],evening:["Guten Abend","Sch√∂nen Abend","Zeit zum Entspannen","Fast geschafft","Feierabend in Sicht","Zeit f√ºr dich"]},en:{morning:["Good Morning","Rise and shine","Great to see you","Ready for a great day","Fresh start ahead","Let's make today count"],afternoon:["Good Afternoon","Keep it going","You're doing great","Productive day","Nice to see you","Halfway there"],evening:["Good Evening","Almost done","Time to relax","You earned this","Wrapping up nicely","Evening vibes"]}};let r;i<12?r="morning":i<18?r="afternoon":r="evening";const s=n[t]?.[r]||n.de.afternoon,o=Math.floor(Math.random()*s.length);return s[o]},nc=({username:t="User",show:i=!0,isExpanded:n=!1,currentLanguage:r="de",isMobile:s=!1,position:o="centered",hasAppeared:l=!0})=>{const[a,c]=w(()=>Ln(r)),[u,d]=w(0);return O(()=>{!n&&i&&(c(Ln(r)),d(h=>h+1))},[n,i,r]),e(xe,{mode:"wait",children:i&&!n&&e(S.div,{initial:{opacity:0,y:-20,filter:"blur(8px)"},animate:{opacity:l?1:0,y:l&&o==="centered"?s?60:120:0,filter:"blur(0px)"},exit:{opacity:0,y:-20,filter:"blur(8px)",transition:{duration:.2,ease:[.4,0,.2,1]}},transition:{duration:.3,ease:[.16,1,.3,1],filter:{duration:.15}},style:{width:"100%",marginTop:s?"32px":"48px",marginBottom:s?"12px":"16px",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},className:"greetings-bar",children:e("div",{style:{padding:s?"10px 28px":"16px 48px",borderRadius:"20px",fontSize:s?"35px":"63px",fontWeight:"600",color:"rgba(255, 255, 255, 0.95)",position:"relative",backdropFilter:"blur(12px) saturate(150%)",WebkitBackdropFilter:"blur(12px) saturate(150%)",textShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",lineHeight:"1.1em"},children:[a,", ",t,"!"]})},`greetings-bar-${u}`)})},rc=(t=[],i={})=>{const[n,r]=w(""),[s,o]=w(!1),l=Q(null),a=Le(()=>new Xr(t,{keys:[{name:"name",weight:.4},{name:"attributes.friendly_name",weight:.35},{name:"area",weight:.15},{name:"id",weight:.05},{name:"entity_id",weight:.05}],threshold:.5,includeScore:!0,includeMatches:!0,minMatchCharLength:1,shouldSort:!0,findAllMatches:!0,ignoreLocation:!0,useExtendedSearch:!1,tokenize:!0,matchAllTokens:!1,distance:1e3,...i}),[t]),c=be(v=>{if(clearTimeout(l.current),r(v),!v)return o(!1),t;o(!0),l.current=setTimeout(()=>{o(!1)},150);const b=v.toLowerCase().trim().split(/\s+/);if(b.length>1){const m=t.filter(p=>{const x=[p.name||"",p.attributes?.friendly_name||"",p.entity_id||"",p.id||"",p.area||""].join(" ").toLowerCase();return b.every(f=>x.includes(f))});return m.sort((p,x)=>{const f=(p.attributes?.friendly_name||p.name||"").toLowerCase(),L=(x.attributes?.friendly_name||x.name||"").toLowerCase(),M=f===v.toLowerCase(),_=L===v.toLowerCase();if(M&&!_)return-1;if(!M&&_)return 1;const R=u(f,b),N=u(L,b);return R-N}),m.map(p=>({...p,score:0,matches:[]}))}return a.search(v).map(m=>({...m.item,score:m.score,matches:m.matches}))},[a,t]),u=(v,b)=>{if(b.length<2)return 0;const y=b.map(p=>{const x=v.indexOf(p);return x>=0?x:v.length});y.sort((p,x)=>p-x);let m=0;for(let p=1;p<y.length;p++)m+=y[p]-y[p-1];return m},d=be((v,b=5)=>v?a.search(v).slice(0,b).map(m=>({...m.item,highlight:sc(m.item.name,m.matches)})):[],[a]),h=Le(()=>c(n),[n,c]);return{searchTerm:n,setSearchTerm:r,results:h,isSearching:s,getSuggestions:d,search:c}},sc=(t,i)=>{if(!i)return t;const n=i.find(o=>o.key==="name");if(!n)return t;let r="",s=0;return n.indices.forEach(([o,l])=>{r+=t.slice(s,o),r+=`<mark>${t.slice(o,l+1)}</mark>`,s=l+1}),r+=t.slice(s),r},oc=({size:t=39})=>{const i=`lightbulb_on_${Math.random().toString(36).substr(2,9)}`;return e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("g",{id:`${i}_segment1`,children:e("path",{d:"M9.00082 15C9.00098 13 8.50098 12.5 7.50082 11.5C6.50067 10.5 6.02422 9.48689 6.00082 8C5.95284 4.95029 8.00067 3 12.0008 3C16.001 3 18.0488 4.95029 18.0008 8C17.9774 9.48689 17.5007 10.5 16.5008 11.5C15.501 12.5 15.001 13 15.0008 15",stroke:"#FFD54F",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",opacity:"0",children:[e("animate",{attributeName:"opacity",values:"0;1",dur:"1s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,-2;0,0",dur:"1s",fill:"freeze"})]})}),e("g",{id:`${i}_segment2`,children:e("path",{d:"M9 18H15",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[e("animate",{attributeName:"opacity",values:"0;1",dur:"1s",begin:"0.3s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,2;0,0",dur:"1s",begin:"0.3s",fill:"freeze"})]})}),e("g",{id:`${i}_segment3`,children:e("path",{d:"M10 21H14",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[e("animate",{attributeName:"opacity",values:"0;1",dur:"1s",begin:"0.6s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,2;0,0",dur:"1s",begin:"0.6s",fill:"freeze"})]})})]})},ac=({size:t=39})=>{const i=`lightbulb_off_${Math.random().toString(36).substr(2,9)}`;return e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("g",{id:`${i}_segment1`,children:e("path",{d:"M9.00082 15C9.00098 13 8.50098 12.5 7.50082 11.5C6.50067 10.5 6.02422 9.48689 6.00082 8C5.95284 4.95029 8.00067 3 12.0008 3C16.001 3 18.0488 4.95029 18.0008 8C17.9774 9.48689 17.5007 10.5 16.5008 11.5C15.501 12.5 15.001 13 15.0008 15",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",stroke:"#FFD54F",children:[e("animate",{attributeName:"stroke",values:"#FFD54F;#F0F4F8;#F0F4F8",dur:"1s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"scale",values:"1;0.95;1",dur:"1s",fill:"freeze"})]})}),e("g",{id:`${i}_segment2`,children:e("path",{d:"M9 18H15",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",stroke:"#42A5F5",children:[e("animate",{attributeName:"opacity",values:"1;0.3;1",dur:"1s",fill:"freeze"}),e("animate",{attributeName:"stroke",values:"#42A5F5;#42A5F5;#B0BEC5",dur:"1s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,1;0,0",dur:"1s",fill:"freeze"})]})}),e("g",{id:`${i}_segment3`,children:e("path",{d:"M10 21H14",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",stroke:"#42A5F5",children:[e("animate",{attributeName:"opacity",values:"1;0.3;1",dur:"1s",begin:"0.3s",fill:"freeze"}),e("animate",{attributeName:"stroke",values:"#42A5F5;#42A5F5;#B0BEC5",dur:"1s",begin:"0.3s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,1;0,0",dur:"1s",begin:"0.3s",fill:"freeze"})]})})]})},lc=({size:t=39})=>{const i=`desk_lamp_on_${Math.random().toString(36).substr(2,9)}`;return e("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",strokeWidth:"1",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{id:`${i}_sockel`,d:"M8 21H16",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[e("animate",{attributeName:"opacity",values:"0;1",dur:"1s",begin:"0.6s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,2;0,0",dur:"1s",begin:"0.6s",fill:"freeze"})]}),e("path",{id:`${i}_stiel`,d:"M12 15L12 21",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[e("animate",{attributeName:"opacity",values:"0;1",dur:"1s",begin:"0.3s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,2;0,0",dur:"1s",begin:"0.3s",fill:"freeze"})]}),e("path",{id:`${i}_gelenk`,d:"M8 15L8 13",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[e("animate",{attributeName:"opacity",values:"0;1",dur:"1s",begin:"0.2s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"1,0;0,0",dur:"1s",begin:"0.2s",fill:"freeze"})]}),e("path",{id:`${i}_lampenschirm`,d:"M6.87172 3.42759L4.23172 12.2276C4.11623 12.6126 4.4045 13 4.80642 13L19.1936 13C19.5955 13 19.8838 12.6126 19.7683 12.2276L17.1283 3.42759C17.0521 3.1738 16.8185 3 16.5536 3L7.44642 3C7.18145 3 6.94786 3.1738 6.87172 3.42759Z",stroke:"#FFD54F",fill:"#FFD54F",fillOpacity:"0.3",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[e("animate",{attributeName:"opacity",values:"0;1",dur:"1s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,-2;0,0",dur:"1s",fill:"freeze"}),e("animate",{attributeName:"stroke",values:"#B0BEC5;#FFD54F;#FF8F00",dur:"1.5s",fill:"freeze"}),e("animate",{attributeName:"fill-opacity",values:"0.1;0.3;0.4",dur:"1.5s",fill:"freeze"})]})]})},cc=({size:t=39})=>{const i=`desk_lamp_off_${Math.random().toString(36).substr(2,9)}`;return e("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",strokeWidth:"1",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{id:`${i}_sockel`,d:"M8 21H16",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"stroke",values:"#42A5F5;#B0BEC5",dur:"1.5s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,1;0,0",dur:"1.5s",begin:"0.4s",fill:"freeze"})]}),e("path",{id:`${i}_stiel`,d:"M12 15L12 21",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"stroke",values:"#42A5F5;#B0BEC5",dur:"1.5s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,1;0,0",dur:"1.5s",begin:"0.2s",fill:"freeze"})]}),e("path",{id:`${i}_gelenk`,d:"M8 15L8 13",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"stroke",values:"#42A5F5;#B0BEC5",dur:"1.5s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;1,0;0,0",dur:"1.5s",begin:"0.1s",fill:"freeze"})]}),e("path",{id:`${i}_lampenschirm`,d:"M6.87172 3.42759L4.23172 12.2276C4.11623 12.6126 4.4045 13 4.80642 13L19.1936 13C19.5955 13 19.8838 12.6126 19.7683 12.2276L17.1283 3.42759C17.0521 3.1738 16.8185 3 16.5536 3L7.44642 3C7.18145 3 6.94786 3.1738 6.87172 3.42759Z",stroke:"#FF8F00",fill:"#FFD54F",fillOpacity:"0.3",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"stroke",values:"#FF8F00;#FFD54F;#B0BEC5",dur:"1.5s",fill:"freeze"}),e("animate",{attributeName:"fill",values:"#FFD54F;#F0F4F8",dur:"1.5s",fill:"freeze"}),e("animate",{attributeName:"fill-opacity",values:"0.3;0.1",dur:"1.5s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"scale",values:"1;0.98;1",dur:"1.5s",fill:"freeze"})]})]})},dc=({size:t=39})=>e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M6 20H3V6L12 4L21 6V20H18M6 20H18M6 20V16M18 20V16M6 12V8L18 8V12M6 12L18 12M6 12V16M18 12V16M6 16H18",stroke:"#388E3C",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("rect",{x:"6",y:"16",width:"12",height:"4",fill:"rgba(56, 142, 60, 0.3)",stroke:"none",opacity:"1",children:e("animate",{attributeName:"opacity",values:"1;0",dur:"0.5s",begin:"0.5s",fill:"freeze"})}),e("rect",{x:"6",y:"12",width:"12",height:"4",fill:"rgba(56, 142, 60, 0.3)",stroke:"none",opacity:"1",children:e("animate",{attributeName:"opacity",values:"1;0",dur:"0.5s",begin:"1s",fill:"freeze"})}),e("rect",{x:"6",y:"8",width:"12",height:"4",fill:"rgba(56, 142, 60, 0.3)",stroke:"none",opacity:"1",children:e("animate",{attributeName:"opacity",values:"1;0",dur:"0.5s",begin:"1.5s",fill:"freeze"})})]}),uc=({size:t=39})=>e("svg",{id:"garage_door_system",width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("style",{children:`
    /* Garagentor schlie√üt sich - von oben nach unten */
    #top_slat_fill {
      animation: fade_in_top 2000ms ease-in-out forwards;
      animation-delay: 500ms;
      opacity: 0;
    }
    
    #middle_slat_fill {
      animation: fade_in_middle 2000ms ease-in-out forwards;
      animation-delay: 1000ms;
      opacity: 0;
    }
    
    #bottom_slat_fill {
      animation: fade_in_bottom 2000ms ease-in-out forwards;
      animation-delay: 1500ms;
      opacity: 0;
    }
    
    @keyframes fade_in_top {
      0% { opacity: 0; }
      25% { opacity: 1; }
      100% { opacity: 1; }
    }
    
    @keyframes fade_in_middle {
      0% { opacity: 0; }
      25% { opacity: 1; }
      100% { opacity: 1; }
    }
    
    @keyframes fade_in_bottom {
      0% { opacity: 0; }
      25% { opacity: 1; }
      100% { opacity: 1; }
    }
    
    /* Kein Glow-Effekt im geschlossenen Zustand */
    #garage_door_system {
      filter: none;
    }
    `}),e("path",{d:"M6 20H3V6L12 4L21 6V20H18M6 20H18M6 20V16M18 20V16M6 12V8L18 8V12M6 12L18 12M6 12V16M18 12V16M6 16H18",stroke:"#B0BEC5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("rect",{id:"top_slat_fill",x:"6",y:"8",width:"12",height:"4",fill:"rgba(176, 190, 197, 0.3)",stroke:"none"}),e("rect",{id:"middle_slat_fill",x:"6",y:"12",width:"12",height:"4",fill:"rgba(176, 190, 197, 0.3)",stroke:"none"}),e("rect",{id:"bottom_slat_fill",x:"6",y:"16",width:"12",height:"4",fill:"rgba(176, 190, 197, 0.3)",stroke:"none"})]}),hc=({size:t=39})=>{const i=`roller_on_${Math.random().toString(36).substr(2,9)}`;return e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("g",{id:`${i}_frame`,children:e("path",{d:"M3 7.5V3.6C3 3.26863 3.26863 3 3.6 3H20.4C20.7314 3 21 3.26863 21 3.6V7.5M21 16.5V20.4C21 20.7314 20.7314 21 20.4 21H3.6C3.26863 21 3 20.7314 3 20.4V16.5M3 7.5V16.5M21 7.5V16.5",stroke:"#388E3C",strokeWidth:"1.5"})}),e("rect",{id:`${i}_first_slat_fill`,x:"3",y:"3",width:"18",height:"4.5",fill:"rgba(56, 142, 60, 0.3)",stroke:"none",children:e("animate",{attributeName:"opacity",values:"1;0;0",dur:"2s",begin:"2s",fill:"freeze"})}),e("rect",{id:`${i}_second_slat_fill`,x:"3",y:"7.5",width:"18",height:"4.5",fill:"rgba(56, 142, 60, 0.3)",stroke:"none",children:e("animate",{attributeName:"opacity",values:"1;0;0",dur:"2s",begin:"1.5s",fill:"freeze"})}),e("rect",{id:`${i}_third_slat_fill`,x:"3",y:"12",width:"18",height:"4.5",fill:"rgba(56, 142, 60, 0.3)",stroke:"none",children:e("animate",{attributeName:"opacity",values:"1;0;0",dur:"2s",begin:"1s",fill:"freeze"})}),e("rect",{id:`${i}_fourth_slat_fill`,x:"3",y:"16.5",width:"18",height:"4.5",fill:"rgba(56, 142, 60, 0.3)",stroke:"none",children:e("animate",{attributeName:"opacity",values:"1;0;0",dur:"2s",begin:"0.5s",fill:"freeze"})}),e("path",{d:"M3 7.5H21",stroke:"#388E3C",strokeWidth:"1.5"}),e("path",{d:"M3 12H21",stroke:"#388E3C",strokeWidth:"1.5"}),e("path",{d:"M3 16.5H21",stroke:"#388E3C",strokeWidth:"1.5"})]})},pc=({size:t=39})=>e("svg",{id:"rollershutter_system",width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("style",{children:`
    /* Erste Lamelle Fade-In */
    #first_slat_fill {
      animation: fade_in_first 2000ms ease-in-out forwards;
      animation-delay: 500ms;
      opacity: 0;
    }
    
    /* Zweite Lamelle Fade-In mit 1.0s Delay */
    #second_slat_fill {
      animation: fade_in_second 2000ms ease-in-out forwards;
      animation-delay: 1000ms;
      opacity: 0;
    }
    
    /* Dritte Lamelle Fade-In mit 1.5s Delay */
    #third_slat_fill {
      animation: fade_in_third 2000ms ease-in-out forwards;
      animation-delay: 1500ms;
      opacity: 0;
    }
    
    /* Vierte Lamelle Fade-In mit 2.0s Delay */
    #fourth_slat_fill {
      animation: fade_in_fourth 2000ms ease-in-out forwards;
      animation-delay: 2000ms;
      opacity: 0;
    }
    
    @keyframes fade_in_first {
      0% { opacity: 0; }
      25% { opacity: 1; }
      100% { opacity: 1; }
    }
    
    @keyframes fade_in_second {
      0% { opacity: 0; }
      25% { opacity: 1; }
      100% { opacity: 1; }
    }
    
    @keyframes fade_in_third {
      0% { opacity: 0; }
      25% { opacity: 1; }
      100% { opacity: 1; }
    }
    
    @keyframes fade_in_fourth {
      0% { opacity: 0; }
      25% { opacity: 1; }
      100% { opacity: 1; }
    }
    `}),e("g",{id:"frame",children:e("path",{d:"M3 7.5V3.6C3 3.26863 3.26863 3 3.6 3H20.4C20.7314 3 21 3.26863 21 3.6V7.5M21 16.5V20.4C21 20.7314 20.7314 21 20.4 21H3.6C3.26863 21 3 20.7314 3 20.4V16.5M3 7.5V16.5M21 7.5V16.5",stroke:"#B0BEC5",strokeWidth:"1.5"})}),e("rect",{id:"first_slat_fill",x:"3",y:"3",width:"18",height:"4.5",fill:"rgba(176, 190, 197, 0.4)",stroke:"none"}),e("rect",{id:"second_slat_fill",x:"3",y:"7.5",width:"18",height:"4.5",fill:"rgba(176, 190, 197, 0.4)",stroke:"none"}),e("rect",{id:"third_slat_fill",x:"3",y:"12",width:"18",height:"4.5",fill:"rgba(176, 190, 197, 0.4)",stroke:"none"}),e("rect",{id:"fourth_slat_fill",x:"3",y:"16.5",width:"18",height:"4.5",fill:"rgba(176, 190, 197, 0.4)",stroke:"none"}),e("path",{d:"M3 7.5H21",stroke:"#B0BEC5",strokeWidth:"1.5"}),e("path",{d:"M3 12H21",stroke:"#B0BEC5",strokeWidth:"1.5"}),e("path",{d:"M3 16.5H21",stroke:"#B0BEC5",strokeWidth:"1.5"})]}),Ft=({size:t=39})=>{const i=`door_on_${Math.random().toString(36).substr(2,9)}`;return e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[e("path",{id:`${i}_door_frame`,d:"M2 18V6C2 4.34315 3.34315 3 5 3H7C8.65685 3 10 4.34315 10 6V18C10 19.6569 8.65685 21 7 21H5C3.34315 21 2 19.6569 2 18Z",stroke:"#42A5F5",fill:"rgba(66, 165, 245, 0.2)",strokeWidth:"1.5",children:[e("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;-1.5,0",dur:"1.5s",fill:"freeze"}),e("animate",{attributeName:"opacity",values:"0.4;0.8",dur:"1.5s",fill:"freeze"})]}),e("path",{id:`${i}_door_opening_side`,d:"M16 3H18C20.2091 3 22 4.79086 22 7V17C22 19.2091 20.2091 21 18 21H16",stroke:"#42A5F5",fill:"rgba(66, 165, 245, 0.1)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[e("animateTransform",{attributeName:"transform",type:"translate",values:"-5,0;-10,0",dur:"1.5s",fill:"freeze"}),e("animate",{attributeName:"opacity",values:"0;1",dur:"1.5s",fill:"freeze"})]})]})},It=({size:t=39})=>{const i=`door_off_${Math.random().toString(36).substr(2,9)}`;return e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[e("path",{id:`${i}_door_frame`,d:"M2 18V6C2 4.34315 3.34315 3 5 3H7C8.65685 3 10 4.34315 10 6V18C10 19.6569 8.65685 21 7 21H5C3.34315 21 2 19.6569 2 18Z",stroke:"#B0BEC5",fill:"rgba(176, 190, 197, 0.1)",strokeWidth:"1.5",opacity:"0.8",children:[e("animateTransform",{attributeName:"transform",type:"translate",values:"-1.5,0;0,0",dur:"1.5s",fill:"freeze"}),e("animate",{attributeName:"opacity",values:"0.8;0.4",dur:"1.5s",fill:"freeze"})]}),e("path",{id:`${i}_door_opening_side`,d:"M16 3H18C20.2091 3 22 4.79086 22 7V17C22 19.2091 20.2091 21 18 21H16",stroke:"#B0BEC5",fill:"rgba(176, 190, 197, 0.05)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"1",children:[e("animateTransform",{attributeName:"transform",type:"translate",values:"-10,0;-5,0",dur:"1.5s",fill:"freeze"}),e("animate",{attributeName:"opacity",values:"1;0",dur:"1.5s",fill:"freeze"})]})]})},mc=({size:t=39})=>{const i=`motion_on_${Math.random().toString(36).substr(2,9)}`;return e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[e("g",{id:`${i}_movement_icon`,children:[e("path",{id:`${i}_activity_glow`,d:"M3 12H6L9 3L15 21L18 12H21",stroke:"#FFB300",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.3",children:e("animate",{attributeName:"opacity",values:"0.3;0.8;0.5;0.3",dur:"3s",repeatCount:"indefinite"})}),e("path",{id:`${i}_activity_line`,d:"M3 12H6L9 3L15 21L18 12H21",stroke:"#F44336",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"50",strokeDashoffset:"50",children:[e("animate",{attributeName:"stroke-dashoffset",values:"50;0;-50",dur:"2s",repeatCount:"indefinite"}),e("animate",{attributeName:"stroke",values:"#FF8F00;#F44336;#FF8F00",dur:"2s",repeatCount:"indefinite"})]})]}),e("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.1;1",dur:"1.5s",repeatCount:"indefinite"})]})},gc=({size:t=39})=>{const i=`motion_off_${Math.random().toString(36).substr(2,9)}`;return e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[e("g",{id:`${i}_movement_icon`,children:e("path",{d:"M3 12H6L9 3L15 21L18 12H21",stroke:"#B0BEC5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e("animate",{attributeName:"opacity",values:"1;0.4",dur:"1s",fill:"freeze"})]})},zt=({size:t=39})=>{const i=`presence_on_${Math.random().toString(36).substr(2,9)}`;return e("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",strokeWidth:"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{filter:"drop-shadow(0 0 3px rgba(66, 165, 245, 0.4))"},children:[e("path",{id:`${i}_outer_ring`,d:"M6 19.0007C3.57111 17.1763 2 14.2716 2 11C2 5.47715 6.47715 1 12 1C17.5228 1 22 5.47715 22 11C22 14.2716 20.4289 17.1763 18 19.0007",stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"opacity",values:"0.3;0.8;0.3",dur:"3s",repeatCount:"indefinite"}),e("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.05;1",dur:"3s",repeatCount:"indefinite"})]}),e("path",{id:`${i}_middle_ring`,d:"M7.52779 15C6.57771 13.9385 6 12.5367 6 11C6 7.68629 8.68629 5 12 5C15.3137 5 18 7.68629 18 11C18 12.5367 17.4223 13.9385 16.4722 15",stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"opacity",values:"0.4;0.9;0.4",dur:"3s",begin:"0.4s",repeatCount:"indefinite"}),e("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.08;1",dur:"3s",begin:"0.4s",repeatCount:"indefinite"})]}),e("g",{id:`${i}_person_figure`,children:[e("path",{d:"M12 13C13.1046 13 14 12.1046 14 11C14 9.89543 13.1046 9 12 9C10.8954 9 10 9.89543 10 11C10 12.1046 10.8954 13 12 13Z",stroke:"#42A5F5",fill:"rgba(66, 165, 245, 0.2)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M10.076 16.2827L10.8906 15.7396C11.5624 15.2917 12.4376 15.2917 13.1094 15.7396L13.924 16.2827C14.5789 16.7192 14.9168 17.4993 14.7874 18.2756L14.2785 21.3288C14.1178 22.2932 13.2834 23 12.3057 23H11.6943C10.7166 23 9.8822 22.2932 9.72147 21.3288L9.2126 18.2756C9.08321 17.4993 9.42114 16.7192 10.076 16.2827Z",stroke:"#42A5F5",fill:"rgba(66, 165, 245, 0.15)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("animate",{attributeName:"opacity",values:"0.8;1;0.8",dur:"3s",begin:"0.8s",repeatCount:"indefinite"}),e("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.03;1",dur:"3s",begin:"0.8s",repeatCount:"indefinite"})]})]})},Ge=({size:t=39})=>{const i=`presence_off_${Math.random().toString(36).substr(2,9)}`;return e("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",strokeWidth:"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{id:`${i}_outer_ring`,d:"M6 19.0007C3.57111 17.1763 2 14.2716 2 11C2 5.47715 6.47715 1 12 1C17.5228 1 22 5.47715 22 11C22 14.2716 20.4289 17.1763 18 19.0007",stroke:"#F0F4F8",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"opacity",values:"1;0",dur:"1.5s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"scale",values:"1;0.95",dur:"1.5s",fill:"freeze"})]}),e("path",{id:`${i}_middle_ring`,d:"M7.52779 15C6.57771 13.9385 6 12.5367 6 11C6 7.68629 8.68629 5 12 5C15.3137 5 18 7.68629 18 11C18 12.5367 17.4223 13.9385 16.4722 15",stroke:"#F0F4F8",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"opacity",values:"1;0",dur:"1.5s",begin:"0.2s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"scale",values:"1;0.95",dur:"1.5s",begin:"0.2s",fill:"freeze"})]}),e("g",{id:`${i}_person_figure`,children:[e("path",{d:"M12 13C13.1046 13 14 12.1046 14 11C14 9.89543 13.1046 9 12 9C10.8954 9 10 9.89543 10 11C10 12.1046 10.8954 13 12 13Z",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.1)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M10.076 16.2827L10.8906 15.7396C11.5624 15.2917 12.4376 15.2917 13.1094 15.7396L13.924 16.2827C14.5789 16.7192 14.9168 17.4993 14.7874 18.2756L14.2785 21.3288C14.1178 22.2932 13.2834 23 12.3057 23H11.6943C10.7166 23 9.8822 22.2932 9.72147 21.3288L9.2126 18.2756C9.08321 17.4993 9.42114 16.7192 10.076 16.2827Z",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.05)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("animate",{attributeName:"opacity",values:"1;0.4",dur:"1.5s",begin:"0.4s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"scale",values:"1;0.98",dur:"1.5s",begin:"0.4s",fill:"freeze"})]})]})},je=({size:t=39})=>{const i=`lock_on_${Math.random().toString(36).substr(2,9)}`;return e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[e("path",{d:"M16 12H17.4C17.7314 12 18 12.2686 18 12.6V19.4C18 19.7314 17.7314 20 17.4 20H6.6C6.26863 20 6 19.7314 6 19.4V12.6C6 12.2686 6.26863 12 6.6 12H8M16 12H8",stroke:"#FFD54F",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:e("animate",{attributeName:"stroke",values:"#FFD54F;#B0BEC5",dur:"1.5s",fill:"freeze"})}),e("path",{id:`${i}_shackle`,d:"M16 12V8C16 6.66667 15.2 4 12 4C8.8 4 8 6.66667 8 8V12",stroke:"#1976D2",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"stroke",values:"#1976D2;#B0BEC5",dur:"1.5s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"rotate",values:"45 16 12;0 16 12",dur:"1.5s",fill:"freeze"})]})]})},ft=({size:t=39})=>{const i=`lock_off_${Math.random().toString(36).substr(2,9)}`;return e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[e("path",{d:"M16 12H17.4C17.7314 12 18 12.2686 18 12.6V19.4C18 19.7314 17.7314 20 17.4 20H6.6C6.26863 20 6 19.7314 6 19.4V12.6C6 12.2686 6.26863 12 6.6 12H8M16 12H8",stroke:"#B0BEC5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:e("animate",{attributeName:"stroke",values:"#B0BEC5;#FFD54F",dur:"1.5s",fill:"freeze"})}),e("path",{id:`${i}_shackle`,d:"M16 12V8C16 6.66667 15.2 4 12 4C8.8 4 8 6.66667 8 8V12",stroke:"#B0BEC5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"stroke",values:"#B0BEC5;#1976D2",dur:"1.5s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"rotate",values:"0 16 12;45 16 12",dur:"1.5s",fill:"freeze"})]})]})},$e=({size:t=39})=>{const i=`siren_on_${Math.random().toString(36).substr(2,9)}`;return e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:e("g",{id:`${i}_alert_icon`,children:[e("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.1;1",dur:"2s",repeatCount:"indefinite"}),e("path",{id:`${i}_bell`,d:"M18 8.4C18 6.70261 17.3679 5.07475 16.2426 3.87452C15.1174 2.67428 13.5913 2 12 2C10.4087 2 8.88258 2.67428 7.75736 3.87452C6.63214 5.07475 6 6.70261 6 8.4C6 15.8667 3 18 3 18H21C21 18 18 15.8667 18 8.4Z",stroke:"#F44336",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:e("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 6;-8 12 6;8 12 6;-5 12 6;5 12 6;-2 12 6;0 12 6",dur:"1.5s",repeatCount:"indefinite"})}),e("path",{id:`${i}_clapper`,d:"M13.73 21C13.5542 21.3031 13.3019 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21",stroke:"#FF8F00",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:e("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 19;6 12 19;-6 12 19;4 12 19;-4 12 19;2 12 19;0 12 19",dur:"1.5s",repeatCount:"indefinite"})})]})})},Ve=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[e("path",{d:"M18 8.4C18 6.70261 17.3679 5.07475 16.2426 3.87452C15.1174 2.67428 13.5913 2 12 2C10.4087 2 8.88258 2.67428 7.75736 3.87452C6.63214 5.07475 6 6.70261 6 8.4C6 15.8667 3 18 3 18H21C21 18 18 15.8667 18 8.4Z",stroke:"#F44336",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:e("animate",{attributeName:"stroke",values:"#F44336;#F0F4F8",dur:"1.5s",fill:"freeze"})}),e("path",{d:"M13.73 21C13.5542 21.3031 13.3019 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21",stroke:"#FF8F00",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:e("animate",{attributeName:"stroke",values:"#FF8F00;#F0F4F8",dur:"1.5s",fill:"freeze"})}),e("animate",{attributeName:"opacity",values:"1;0.4",dur:"1.5s",fill:"freeze"})]})),ri=({size:t=39})=>{const i=`music_on_${Math.random().toString(36).substr(2,9)}`;return e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{id:`${i}_notenlinie`,d:"M20 14V3L9 5V16",stroke:"#E91E63",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[e("animate",{attributeName:"opacity",values:"0;1",dur:"1s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,-2;0,0",dur:"1s",fill:"freeze"}),e("animate",{attributeName:"stroke-width",values:"1;1.2;1",dur:"2s",begin:"1s",repeatCount:"indefinite"})]}),e("path",{id:`${i}_obere_note`,d:"M17 19H18C19.1046 19 20 18.1046 20 17V14H17C15.8954 14 15 14.8954 15 16V17C15 18.1046 15.8954 19 17 19Z",stroke:"#E91E63",fill:"#E91E63",fillOpacity:"0.2",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[e("animate",{attributeName:"opacity",values:"0;1",dur:"1s",begin:"0.3s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"2,0;0,0",dur:"1s",begin:"0.3s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.05;1",dur:"2s",begin:"1.3s",repeatCount:"indefinite"}),e("animate",{attributeName:"fill-opacity",values:"0.2;0.3;0.2",dur:"2s",begin:"1.3s",repeatCount:"indefinite"})]}),e("path",{id:`${i}_untere_note`,d:"M6 21H7C8.10457 21 9 20.1046 9 19V16H6C4.89543 16 4 16.8954 4 18V19C4 20.1046 4.89543 21 6 21Z",stroke:"#E91E63",fill:"#E91E63",fillOpacity:"0.2",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[e("animate",{attributeName:"opacity",values:"0;1",dur:"1s",begin:"0.6s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"-2,0;0,0",dur:"1s",begin:"0.6s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.05;1",dur:"2s",begin:"1.8s",repeatCount:"indefinite"}),e("animate",{attributeName:"fill-opacity",values:"0.2;0.3;0.2",dur:"2s",begin:"1.8s",repeatCount:"indefinite"})]})]})},si=({size:t=39})=>{const i=`music_off_${Math.random().toString(36).substr(2,9)}`;return e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{id:`${i}_notenlinie`,d:"M20 14V3L9 5V16",stroke:"#E91E63",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"stroke",values:"#E91E63;#B0BEC5",dur:"1.5s",fill:"freeze"}),e("animate",{attributeName:"stroke-width",values:"1.2;1",dur:"1.5s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,0.5;0,0",dur:"1.5s",fill:"freeze"})]}),e("path",{id:`${i}_obere_note`,d:"M17 19H18C19.1046 19 20 18.1046 20 17V14H17C15.8954 14 15 14.8954 15 16V17C15 18.1046 15.8954 19 17 19Z",stroke:"#E91E63",fill:"#E91E63",fillOpacity:"0.3",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"stroke",values:"#E91E63;#B0BEC5",dur:"1.5s",fill:"freeze"}),e("animate",{attributeName:"fill",values:"#E91E63;#F0F4F8",dur:"1.5s",fill:"freeze"}),e("animate",{attributeName:"fill-opacity",values:"0.3;0.1",dur:"1.5s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"scale",values:"1.05;1;0.98;1",dur:"1.5s",begin:"0.2s",fill:"freeze"})]}),e("path",{id:`${i}_untere_note`,d:"M6 21H7C8.10457 21 9 20.1046 9 19V16H6C4.89543 16 4 16.8954 4 18V19C4 20.1046 4.89543 21 6 21Z",stroke:"#E91E63",fill:"#E91E63",fillOpacity:"0.3",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"stroke",values:"#E91E63;#B0BEC5",dur:"1.5s",fill:"freeze"}),e("animate",{attributeName:"fill",values:"#E91E63;#F0F4F8",dur:"1.5s",fill:"freeze"}),e("animate",{attributeName:"fill-opacity",values:"0.3;0.1",dur:"1.5s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"scale",values:"1.05;1;0.98;1",dur:"1.5s",begin:"0.4s",fill:"freeze"})]})]})},ht=({size:t=39})=>{const i=`tv_on_${Math.random().toString(36).substr(2,9)}`;return e("svg",{id:`${i}_system`,width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M7 21L17 21",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M2 16.4V3.6C2 3.26863 2.26863 3 2.6 3H21.4C21.7314 3 22 3.26863 22 3.6V16.4C22 16.7314 21.7314 17 21.4 17H2.6C2.26863 17 2 16.7314 2 16.4Z",stroke:"#1976D2",fill:"rgba(25, 118, 210, 0.1)",strokeWidth:"1.5"}),e("rect",{x:"3.5",y:"4.5",width:"17",height:"11",fill:"rgba(66, 165, 245, 0.2)",stroke:"none",children:e("animate",{attributeName:"opacity",values:"0.2;0.6;0.2",dur:"3s",repeatCount:"indefinite"})}),e("g",{id:`${i}_content`,stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{d:"M13.5 7L13.5 11M13.5 13L13.5 11M13.5 11L14.8706 9.43363M17 7L14.8706 9.43363M14.8706 9.43363L17 13",children:[e("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"4s",begin:"0s",repeatCount:"indefinite"}),e("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.05;1",dur:"4s",begin:"0s",repeatCount:"indefinite"})]}),e("path",{d:"M9.5 7L6.5 11.5L10 11.5L10 13",children:[e("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"4s",begin:"1s",repeatCount:"indefinite"}),e("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.05;1",dur:"4s",begin:"1s",repeatCount:"indefinite"})]})]})]})},nt=({size:t=39})=>{const i=`tv_off_${Math.random().toString(36).substr(2,9)}`;return e("svg",{id:`${i}_system_off`,width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M7 21L17 21",stroke:"#B0BEC5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M2 16.4V3.6C2 3.26863 2.26863 3 2.6 3H21.4C21.7314 3 22 3.26863 22 3.6V16.4C22 16.7314 21.7314 17 21.4 17H2.6C2.26863 17 2 16.7314 2 16.4Z",stroke:"#B0BEC5",fill:"rgba(176, 190, 197, 0.05)",strokeWidth:"1.5"}),e("rect",{x:"3.5",y:"4.5",width:"17",height:"11",fill:"rgba(66, 66, 66, 0.9)",stroke:"none",children:e("animate",{attributeName:"opacity",values:"0.9;0",dur:"3s",fill:"freeze"})}),e("circle",{cx:"20",cy:"5",r:"0.5",fill:"#F44336",stroke:"none",children:e("animate",{attributeName:"opacity",values:"0.3;1;0.3",dur:"2s",repeatCount:"indefinite"})})]})},Bt=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"#FF9246",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,146,48,.1)"}),e("path",{d:"M8 8V16",stroke:"#FF9246",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"2s",repeatCount:"indefinite"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,-2;0,0",dur:"2s",repeatCount:"indefinite"})]}),e("path",{d:"M12 6V18",stroke:"#FF9246",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"2s",begin:"0.3s",repeatCount:"indefinite"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,-2;0,0",dur:"2s",begin:"0.3s",repeatCount:"indefinite"})]}),e("path",{d:"M16 8V16",stroke:"#FF9246",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"2s",begin:"0.6s",repeatCount:"indefinite"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,-2;0,0",dur:"2s",begin:"0.6s",repeatCount:"indefinite"})]})]})),Ze=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"#3CD3FE",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(60,211,254,.1)"}),e("path",{d:"M12 6L12 18M6 12L18 12M8 8L16 16M16 8L8 16",stroke:"#3CD3FE",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.3"}),e("circle",{cx:"8",cy:"10",r:"1",fill:"#3CD3FE",opacity:"0.8",children:[e("animate",{attributeName:"opacity",values:"0;1;0",dur:"2.5s",repeatCount:"indefinite"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,-3;0,3",dur:"2.5s",repeatCount:"indefinite"})]}),e("circle",{cx:"12",cy:"12",r:"1",fill:"#3CD3FE",opacity:"0.8",children:[e("animate",{attributeName:"opacity",values:"0;1;0",dur:"2.5s",begin:"0.5s",repeatCount:"indefinite"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,-3;0,3",dur:"2.5s",begin:"0.5s",repeatCount:"indefinite"})]}),e("circle",{cx:"16",cy:"14",r:"1",fill:"#3CD3FE",opacity:"0.8",children:[e("animate",{attributeName:"opacity",values:"0;1;0",dur:"2.5s",begin:"1s",repeatCount:"indefinite"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,-3;0,3",dur:"2.5s",begin:"1s",repeatCount:"indefinite"})]})]})),pt=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"#FFD600",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,214,0,.1)"}),e("path",{d:"M7 20L17 20",stroke:"#FFD600",strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.5"}),e("path",{d:"M8 14C8 14 8 10 10 8C10 10 10 14 8 14Z",fill:"#FFD600",opacity:"0.6",children:[e("animate",{attributeName:"opacity",values:"1;0",dur:"3s",repeatCount:"indefinite"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,-5",dur:"3s",repeatCount:"indefinite"})]}),e("path",{d:"M12 16C12 16 12 12 14 10C14 12 14 16 12 16Z",fill:"#FFD600",opacity:"0.6",children:[e("animate",{attributeName:"opacity",values:"1;0",dur:"3s",begin:"1s",repeatCount:"indefinite"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,-5",dur:"3s",begin:"1s",repeatCount:"indefinite"})]}),e("path",{d:"M16 14C16 14 16 10 18 8C18 10 18 14 16 14Z",fill:"#FFD600",opacity:"0.6",children:[e("animate",{attributeName:"opacity",values:"1;0",dur:"3s",begin:"2s",repeatCount:"indefinite"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,-5",dur:"3s",begin:"2s",repeatCount:"indefinite"})]})]})),Rt=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"#30D158",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(48,209,88,.1)"}),e("circle",{cx:"12",cy:"12",r:"2",fill:"#30D158",opacity:"0.8"}),e("g",{children:[e("path",{d:"M12 7V12L15 9",stroke:"#30D158",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M17 12H12L15 15",stroke:"#30D158",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 17V12L9 15",stroke:"#30D158",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M7 12H12L9 9",stroke:"#30D158",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 12;360 12 12",dur:"4s",repeatCount:"indefinite"})]})]})),oi=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[e("g",{children:[e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 9C12 9 10.012 7.025 10 5C10.001 3.007 9.95 0.999 12 1C13.948 1.001 13.997 2.976 14 5C14.003 6.985 12 9 12 9Z",stroke:"#42A5F5",strokeWidth:"1",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 12C15 12 16.975 10.012 19 10C20.993 10.001 23.001 9.95 23 12C22.999 13.948 21.024 13.997 19 14C17.015 14.003 15 12 15 12Z",stroke:"#42A5F5",strokeWidth:"1",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 12C9 12 7.025 13.988 5 14C3.007 13.999 0.999 14.05 1 12C1.001 10.052 2.976 10.003 5 10C6.985 9.997 9 12 9 12Z",stroke:"#42A5F5",strokeWidth:"1",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 15C12 15 13.988 16.975 14 19C13.999 20.993 14.05 23.001 12 23C10.052 22.999 10.003 21.024 10 19C9.997 17.015 12 15 12 15Z",stroke:"#42A5F5",strokeWidth:"1",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 12;360 12 12",dur:"1s",repeatCount:"indefinite"})]}),e("path",{d:"M11.9996 14.9995C13.6565 14.9995 14.9996 13.6564 14.9996 11.9995C14.9996 10.3427 13.6565 8.99951 11.9996 8.99951C10.3428 8.99951 8.99963 10.3427 8.99963 11.9995C8.99963 13.6564 10.3428 14.9995 11.9996 14.9995Z",stroke:"#1976D2",strokeWidth:"2",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:e("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.1;1",dur:"2s",repeatCount:"indefinite"})})]})),Pt=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[e("g",{children:[e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 9C12 9 10.012 7.025 10 5C10.001 3.007 9.95 0.999 12 1C13.948 1.001 13.997 2.976 14 5C14.003 6.985 12 9 12 9Z",stroke:"#42A5F5",strokeWidth:"1",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:e("animate",{attributeName:"stroke",values:"#42A5F5;#F0F4F8",dur:"1.5s",fill:"freeze"})}),e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 12C15 12 16.975 10.012 19 10C20.993 10.001 23.001 9.95 23 12C22.999 13.948 21.024 13.997 19 14C17.015 14.003 15 12 15 12Z",stroke:"#42A5F5",strokeWidth:"1",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:e("animate",{attributeName:"stroke",values:"#42A5F5;#F0F4F8",dur:"1.5s",begin:"0.1s",fill:"freeze"})}),e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 12C9 12 7.025 13.988 5 14C3.007 13.999 0.999 14.05 1 12C1.001 10.052 2.976 10.003 5 10C6.985 9.997 9 12 9 12Z",stroke:"#42A5F5",strokeWidth:"1",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:e("animate",{attributeName:"stroke",values:"#42A5F5;#F0F4F8",dur:"1.5s",begin:"0.2s",fill:"freeze"})}),e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 15C12 15 13.988 16.975 14 19C13.999 20.993 14.05 23.001 12 23C10.052 22.999 10.003 21.024 10 19C9.997 17.015 12 15 12 15Z",stroke:"#42A5F5",strokeWidth:"1",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:e("animate",{attributeName:"stroke",values:"#42A5F5;#F0F4F8",dur:"1.5s",begin:"0.3s",fill:"freeze"})}),e("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 12;180 12 12;360 12 12",dur:"2s",fill:"freeze"}),e("animate",{attributeName:"opacity",values:"1;0.4",dur:"1.5s",fill:"freeze"})]}),e("path",{d:"M11.9996 14.9995C13.6565 14.9995 14.9996 13.6564 14.9996 11.9995C14.9996 10.3427 13.6565 8.99951 11.9996 8.99951C10.3428 8.99951 8.99963 10.3427 8.99963 11.9995C8.99963 13.6564 10.3428 14.9995 11.9996 14.9995Z",stroke:"#1976D2",strokeWidth:"2",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"stroke",values:"#1976D2;#F0F4F8",dur:"1.5s",begin:"0.4s",fill:"freeze"}),e("animate",{attributeName:"opacity",values:"1;0.4",dur:"1.5s",begin:"0.4s",fill:"freeze"})]})]})),yr=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[e("path",{d:"M7.5 21H5C3.89543 21 3 20.1046 3 19V5C3 3.89543 3.89543 3 5 3H18.9999C20.1045 3 20.9999 3.89543 20.9999 4.99999L21 19C21 20.1046 20.1046 21 19 21H16.5",stroke:"#B0BEC5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M21 7H3.00006",stroke:"#1976D2",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),e("g",{children:[e("path",{d:"M12 16C13.6569 16 15 14.5076 15 12.6667V10H9V12.6667C9 14.5076 10.3431 16 12 16Z",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 16V21M12 21H10M12 21H14",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),e("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 18.5;-30 12 18.5;0 12 18.5;30 12 18.5;0 12 18.5",dur:"3s",repeatCount:"indefinite"})]}),e("path",{d:"M18 5.01L18.01 4.99889",stroke:"#388E3C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e("animate",{attributeName:"opacity",values:"1;0.3;1",dur:"2s",repeatCount:"indefinite"})}),e("path",{d:"M15 5.01L15.01 4.99889",stroke:"#FF8F00",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e("animate",{attributeName:"opacity",values:"0.3;1;0.3",dur:"2s",repeatCount:"indefinite"})}),e("g",{children:[e("circle",{cx:"10",cy:"14",r:"0.5",fill:"#42A5F5",opacity:"0.6"}),e("circle",{cx:"14",cy:"13",r:"0.4",fill:"#42A5F5",opacity:"0.5"}),e("circle",{cx:"11",cy:"11",r:"0.3",fill:"#42A5F5",opacity:"0.7"}),e("circle",{cx:"13",cy:"15",r:"0.4",fill:"#42A5F5",opacity:"0.4"}),e("animate",{attributeName:"opacity",values:"0.4;0.8;0.6;0.4",dur:"3s",repeatCount:"indefinite"})]})]})),br=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[e("path",{d:"M7.5 21H5C3.89543 21 3 20.1046 3 19V5C3 3.89543 3.89543 3 5 3H18.9999C20.1045 3 20.9999 3.89543 20.9999 4.99999L21 19C21 20.1046 20.1046 21 19 21H16.5",stroke:"#F0F4F8",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M21 7H3.00006",stroke:"#1976D2",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:e("animate",{attributeName:"stroke",values:"#1976D2;#F0F4F8",dur:"1.5s",fill:"freeze"})}),e("g",{children:[e("path",{d:"M12 16C13.6569 16 15 14.5076 15 12.6667V10H9V12.6667C9 14.5076 10.3431 16 12 16Z",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:e("animate",{attributeName:"stroke",values:"#42A5F5;#F0F4F8",dur:"1.5s",fill:"freeze"})}),e("path",{d:"M12 16V21M12 21H10M12 21H14",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:e("animate",{attributeName:"stroke",values:"#42A5F5;#F0F4F8",dur:"1.5s",fill:"freeze"})}),e("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 18.5;-5 12 18.5;0 12 18.5",dur:"1.5s",fill:"freeze"})]}),e("path",{d:"M18 5.01L18.01 4.99889",stroke:"#388E3C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"stroke",values:"#388E3C;#F0F4F8",dur:"1.5s",fill:"freeze"}),e("animate",{attributeName:"opacity",values:"1;0.3",dur:"1.5s",fill:"freeze"})]}),e("path",{d:"M15 5.01L15.01 4.99889",stroke:"#FF8F00",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"stroke",values:"#FF8F00;#F0F4F8",dur:"1.5s",begin:"0.2s",fill:"freeze"}),e("animate",{attributeName:"opacity",values:"1;0.3",dur:"1.5s",begin:"0.2s",fill:"freeze"})]}),e("g",{children:[e("circle",{cx:"10",cy:"14",r:"0.5",fill:"#42A5F5",opacity:"0.6"}),e("circle",{cx:"14",cy:"13",r:"0.4",fill:"#42A5F5",opacity:"0.5"}),e("circle",{cx:"11",cy:"11",r:"0.3",fill:"#42A5F5",opacity:"0.7"}),e("circle",{cx:"13",cy:"15",r:"0.4",fill:"#42A5F5",opacity:"0.4"}),e("animate",{attributeName:"fill",values:"#42A5F5;#F0F4F8",dur:"1.5s",begin:"0.4s",fill:"freeze"}),e("animate",{attributeName:"opacity",values:"0.6;0",dur:"1.5s",begin:"0.4s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"scale",values:"1;0.8",dur:"1.5s",begin:"0.4s",fill:"freeze"})]})]})),kr=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,e("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:e("g",{children:[e("g",{transform:"matrix(0.33023402094841 0 0 0.33023402094841 -12.17848396301270 -1.60764098167419)",children:e("path",{d:"M50.582000,41.719000C51.347000,23.263000,71.804000,12.557000,87.405000,22.447000C94.048000,26.659000,98.205000,33.860000,98.531000,41.719000L102.531000,41.719000C102.355000,36.658000,100.801000,31.742000,98.037000,27.499000L101.343000,25.184000C101.973000,24.743000,101.890000,23.784000,101.193000,23.458000C100.869000,23.307000,100.489000,23.340000,100.196000,23.545000L96.886000,25.862000C96.307000,25.095000,95.690000,24.358000,95.036000,23.653000L100.013000,18.677000C100.550000,18.126000,100.289000,17.199000,99.543000,17.010000C99.206000,16.924000,98.848000,17.020000,98.598000,17.263000L93.619000,22.242000C92.916000,21.586000,92.180000,20.967000,91.414000,20.387000L93.730000,17.079000C94.179000,16.453000,93.782000,15.577000,93.016000,15.501000C92.652000,15.465000,92.298000,15.630000,92.092000,15.932000L89.780000,19.234000C80.524000,13.214000,68.589000,13.214000,59.333000,19.234000L57.021000,15.933000C56.592000,15.294000,55.632000,15.359000,55.293000,16.050000C55.130000,16.383000,55.164000,16.779000,55.383000,17.079000L57.699000,20.387000C56.933000,20.967000,56.197000,21.586000,55.494000,22.241000L50.515000,17.263000C49.978000,16.711000,49.045000,16.949000,48.836000,17.690000C48.737000,18.042000,48.839000,18.421000,49.101000,18.677000L54.077000,23.653000C53.423000,24.358000,52.805000,25.095000,52.226000,25.862000L48.917000,23.545000C48.287000,23.103000,47.414000,23.510000,47.347000,24.277000C47.316000,24.633000,47.477000,24.979000,47.770000,25.184000L51.075000,27.499000C48.312000,31.742000,46.758000,36.658000,46.582000,41.719000L50.582000,41.719000ZM74.556000,66.719000C61.698000,66.703000,51.131000,56.566000,50.582000,43.719000L46.582000,43.719000C47.346000,65.254000,71.136000,77.886000,89.403000,66.457000C97.283000,61.527000,102.201000,53.008000,102.531000,43.719000L98.531000,43.719000C97.982000,56.566000,87.415000,66.703000,74.556000,66.719000Z",transform:"matrix(1 0 0 1 -1.34028837709955 -1.53274161016582)",fill:"#424242",stroke:"none",strokeWidth:"1"})}),e("g",{transform:"matrix(0.33023402094841 0 0 0.33023402094841 17.25779151916504 0.55571800470352)",children:e("g",{transform:"translate(-15.921411,34.655067) rotate(0)",children:e("path",{d:"M-13.277000,25.125000C-13.277000,25.895000,-14.110000,26.376000,-14.777000,25.991000C-15.444000,25.606000,-15.444000,24.644000,-14.777000,24.259000C-14.625000,24.171000,-14.453000,24.125000,-14.277000,24.125000C-13.725000,24.125000,-13.277000,24.573000,-13.277000,25.125000ZM-9.277000,37.125000C-9.277000,40.974000,-13.444000,43.380000,-16.777000,41.455000C-18.324000,40.562000,-19.277000,38.911000,-19.277000,37.125000L-19.277000,25.125000C-19.277000,21.276000,-15.110000,18.870000,-11.777000,20.795000C-10.230000,21.688000,-9.277000,23.339000,-9.277000,25.125000L-9.277000,37.125000ZM-11.277000,25.125000C-11.277000,22.816000,-13.777000,21.372000,-15.777000,22.527000C-17.777000,23.682000,-17.777000,26.568000,-15.777000,27.723000C-15.321000,27.986000,-14.804000,28.125000,-14.277000,28.125000C-12.621000,28.123000,-11.279000,26.781000,-11.277000,25.125000ZM7.723000,36.125000C7.723000,53.061000,-10.610000,63.645000,-25.277000,55.178000C-39.944000,46.710000,-39.944000,25.540000,-25.277000,17.072000C-21.933000,15.142000,-18.139000,14.125000,-14.277000,14.125000C-2.132000,14.139000,7.709000,23.980000,7.723000,36.125000ZM-19.277000,48.125000C-19.277000,47.355000,-20.110000,46.874000,-20.777000,47.259000C-21.444000,47.644000,-21.444000,48.606000,-20.777000,48.991000C-20.625000,49.079000,-20.453000,49.125000,-20.277000,49.125000C-19.725000,49.125000,-19.277000,48.677000,-19.277000,48.125000ZM-10.277000,53.125000C-10.277000,52.573000,-10.725000,52.125000,-11.277000,52.125000L-17.277000,52.125000C-18.047000,52.125000,-18.528000,52.958000,-18.143000,53.625000C-17.964000,53.934000,-17.634000,54.125000,-17.277000,54.125000L-11.277000,54.125000C-10.725000,54.125000,-10.277000,53.677000,-10.277000,53.125000ZM-16.277000,49.125000C-15.507000,49.125000,-15.026000,48.292000,-15.411000,47.625000C-15.796000,46.958000,-16.758000,46.958000,-17.143000,47.625000C-17.231000,47.777000,-17.277000,47.949000,-17.277000,48.125000C-17.277000,48.677000,-16.829000,49.125000,-16.277000,49.125000ZM-12.277000,49.125000C-11.507000,49.125000,-11.026000,48.292000,-11.411000,47.625000C-11.796000,46.958000,-12.758000,46.958000,-13.143000,47.625000C-13.231000,47.777000,-13.277000,47.949000,-13.277000,48.125000C-13.277000,48.677000,-12.829000,49.125000,-12.277000,49.125000ZM-7.277000,48.125000C-7.277000,47.355000,-8.110000,46.874000,-8.777000,47.259000C-9.444000,47.644000,-9.444000,48.606000,-8.777000,48.991000C-8.625000,49.079000,-8.453000,49.125000,-8.277000,49.125000C-7.725000,49.125000,-7.277000,48.677000,-7.277000,48.125000ZM-7.277000,25.125000C-7.277000,19.736000,-13.110000,16.369000,-17.777000,19.063000C-19.943000,20.313000,-21.277000,22.624000,-21.277000,25.125000L-21.277000,37.125000C-21.277000,42.514000,-15.444000,45.881000,-10.777000,43.187000C-8.611000,41.937000,-7.277000,39.626000,-7.277000,37.125000L-7.277000,25.125000Z",transform:"translate(14.277125,-36.141457)",fill:"#9C27B0",stroke:"none",strokeWidth:"1"})})}),e("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 12;-45 12 12;0 12 12;45 12 12;0 12 12",dur:"8s",repeatCount:"indefinite"})]})})),wr=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,e("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[e("g",{transform:"matrix(0.33023402094841 0 0 0.33023402094841 -12.17848396301270 -1.60764098167419)",children:e("path",{d:"M50.582000,41.719000C51.347000,23.263000,71.804000,12.557000,87.405000,22.447000C94.048000,26.659000,98.205000,33.860000,98.531000,41.719000L102.531000,41.719000C102.355000,36.658000,100.801000,31.742000,98.037000,27.499000L101.343000,25.184000C101.973000,24.743000,101.890000,23.784000,101.193000,23.458000C100.869000,23.307000,100.489000,23.340000,100.196000,23.545000L96.886000,25.862000C96.307000,25.095000,95.690000,24.358000,95.036000,23.653000L100.013000,18.677000C100.550000,18.126000,100.289000,17.199000,99.543000,17.010000C99.206000,16.924000,98.848000,17.020000,98.598000,17.263000L93.619000,22.242000C92.916000,21.586000,92.180000,20.967000,91.414000,20.387000L93.730000,17.079000C94.179000,16.453000,93.782000,15.577000,93.016000,15.501000C92.652000,15.465000,92.298000,15.630000,92.092000,15.932000L89.780000,19.234000C80.524000,13.214000,68.589000,13.214000,59.333000,19.234000L57.021000,15.933000C56.592000,15.294000,55.632000,15.359000,55.293000,16.050000C55.130000,16.383000,55.164000,16.779000,55.383000,17.079000L57.699000,20.387000C56.933000,20.967000,56.197000,21.586000,55.494000,22.241000L50.515000,17.263000C49.978000,16.711000,49.045000,16.949000,48.836000,17.690000C48.737000,18.042000,48.839000,18.421000,49.101000,18.677000L54.077000,23.653000C53.423000,24.358000,52.805000,25.095000,52.226000,25.862000L48.917000,23.545000C48.287000,23.103000,47.414000,23.510000,47.347000,24.277000C47.316000,24.633000,47.477000,24.979000,47.770000,25.184000L51.075000,27.499000C48.312000,31.742000,46.758000,36.658000,46.582000,41.719000L50.582000,41.719000ZM74.556000,66.719000C61.698000,66.703000,51.131000,56.566000,50.582000,43.719000L46.582000,43.719000C47.346000,65.254000,71.136000,77.886000,89.403000,66.457000C97.283000,61.527000,102.201000,53.008000,102.531000,43.719000L98.531000,43.719000C97.982000,56.566000,87.415000,66.703000,74.556000,66.719000Z",transform:"matrix(1 0 0 1 -1.34028837709955 -1.53274161016582)",fill:"#5F6267",stroke:"none",strokeWidth:"1"})}),e("g",{transform:"matrix(0.33023402094841 0 0 0.33023402094841 17.25779151916504 0.55571800470352)",children:e("path",{d:"M-13.277000,25.125000C-13.277000,25.895000,-14.110000,26.376000,-14.777000,25.991000C-15.444000,25.606000,-15.444000,24.644000,-14.777000,24.259000C-14.625000,24.171000,-14.453000,24.125000,-14.277000,24.125000C-13.725000,24.125000,-13.277000,24.573000,-13.277000,25.125000ZM-9.277000,37.125000C-9.277000,40.974000,-13.444000,43.380000,-16.777000,41.455000C-18.324000,40.562000,-19.277000,38.911000,-19.277000,37.125000L-19.277000,25.125000C-19.277000,21.276000,-15.110000,18.870000,-11.777000,20.795000C-10.230000,21.688000,-9.277000,23.339000,-9.277000,25.125000L-9.277000,37.125000ZM-11.277000,25.125000C-11.277000,22.816000,-13.777000,21.372000,-15.777000,22.527000C-17.777000,23.682000,-17.777000,26.568000,-15.777000,27.723000C-15.321000,27.986000,-14.804000,28.125000,-14.277000,28.125000C-12.621000,28.123000,-11.279000,26.781000,-11.277000,25.125000ZM7.723000,36.125000C7.723000,53.061000,-10.610000,63.645000,-25.277000,55.178000C-39.944000,46.710000,-39.944000,25.540000,-25.277000,17.072000C-21.933000,15.142000,-18.139000,14.125000,-14.277000,14.125000C-2.132000,14.139000,7.709000,23.980000,7.723000,36.125000ZM-19.277000,48.125000C-19.277000,47.355000,-20.110000,46.874000,-20.777000,47.259000C-21.444000,47.644000,-21.444000,48.606000,-20.777000,48.991000C-20.625000,49.079000,-20.453000,49.125000,-20.277000,49.125000C-19.725000,49.125000,-19.277000,48.677000,-19.277000,48.125000ZM-10.277000,53.125000C-10.277000,52.573000,-10.725000,52.125000,-11.277000,52.125000L-17.277000,52.125000C-18.047000,52.125000,-18.528000,52.958000,-18.143000,53.625000C-17.964000,53.934000,-17.634000,54.125000,-17.277000,54.125000L-11.277000,54.125000C-10.725000,54.125000,-10.277000,53.677000,-10.277000,53.125000ZM-16.277000,49.125000C-15.507000,49.125000,-15.026000,48.292000,-15.411000,47.625000C-15.796000,46.958000,-16.758000,46.958000,-17.143000,47.625000C-17.231000,47.777000,-17.277000,47.949000,-17.277000,48.125000C-17.277000,48.677000,-16.829000,49.125000,-16.277000,49.125000ZM-12.277000,49.125000C-11.507000,49.125000,-11.026000,48.292000,-11.411000,47.625000C-11.796000,46.958000,-12.758000,46.958000,-13.143000,47.625000C-13.231000,47.777000,-13.277000,47.949000,-13.277000,48.125000C-13.277000,48.677000,-12.829000,49.125000,-12.277000,49.125000ZM-7.277000,48.125000C-7.277000,47.355000,-8.110000,46.874000,-8.777000,47.259000C-9.444000,47.644000,-9.444000,48.606000,-8.777000,48.991000C-8.625000,49.079000,-8.453000,49.125000,-8.277000,49.125000C-7.725000,49.125000,-7.277000,48.677000,-7.277000,48.125000ZM-7.277000,25.125000C-7.277000,19.736000,-13.110000,16.369000,-17.777000,19.063000C-19.943000,20.313000,-21.277000,22.624000,-21.277000,25.125000L-21.277000,37.125000C-21.277000,42.514000,-15.444000,45.881000,-10.777000,43.187000C-8.611000,41.937000,-7.277000,39.626000,-7.277000,37.125000L-7.277000,25.125000Z",transform:"matrix(1 0 0 1 -1.64428582627723 -1.48639076794777)",fill:"#9EA0A2",stroke:"none",strokeWidth:"1",children:e("animate",{attributeName:"opacity",values:"1;0.5",dur:"1s",fill:"freeze"})})})]})),Cr=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[e("g",{children:[e("path",{d:"M20.9999 3.99999L21 20C21 21.1046 20.1046 22 19 22H5C3.89543 22 3 21.1046 3 20V4C3 2.89543 3.89543 2 5 2H18.9999C20.1045 2 20.9999 2.89543 20.9999 3.99999Z",stroke:"#B0BEC5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M18 5.01L18.01 4.99889",stroke:"#388E3C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e("animate",{attributeName:"opacity",values:"1;0.3;1",dur:"1.5s",repeatCount:"indefinite"})}),e("path",{d:"M18 13C18 16.3137 15.3137 19 12 19C8.68629 19 6 16.3137 6 13C6 9.68629 8.68629 7 12 7C15.3137 7 18 9.68629 18 13Z",stroke:"#1976D2",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0.5,0;0,0.5;-0.5,0;0,0",dur:"3s",repeatCount:"indefinite"})]}),e("g",{children:[e("path",{d:"M12 16C10.3431 16 9 14.6569 9 13",stroke:"#FF8F00",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("circle",{cx:"10",cy:"11",r:"0.5",fill:"#FF8F00",opacity:"0.6"}),e("circle",{cx:"14",cy:"11",r:"0.5",fill:"#FF8F00",opacity:"0.6"}),e("circle",{cx:"12",cy:"15",r:"0.5",fill:"#FF8F00",opacity:"0.6"}),e("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 13;360 12 13",dur:"2s",repeatCount:"indefinite"})]})]})),xr=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[e("path",{d:"M20.9999 3.99999L21 20C21 21.1046 20.1046 22 19 22H5C3.89543 22 3 21.1046 3 20V4C3 2.89543 3.89543 2 5 2H18.9999C20.1045 2 20.9999 2.89543 20.9999 3.99999Z",stroke:"#B0BEC5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M18 5.01L18.01 4.99889",stroke:"#388E3C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"stroke",values:"#388E3C;#F0F4F8",dur:"1.5s",fill:"freeze"}),e("animate",{attributeName:"opacity",values:"1;0.3",dur:"1.5s",fill:"freeze"})]}),e("path",{d:"M18 13C18 16.3137 15.3137 19 12 19C8.68629 19 6 16.3137 6 13C6 9.68629 8.68629 7 12 7C15.3137 7 18 9.68629 18 13Z",stroke:"#1976D2",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:e("animate",{attributeName:"stroke",values:"#1976D2;#F0F4F8",dur:"1.5s",begin:"0.2s",fill:"freeze"})}),e("g",{children:[e("path",{d:"M12 16C10.3431 16 9 14.6569 9 13",stroke:"#FF8F00",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:e("animate",{attributeName:"stroke",values:"#FF8F00;#F0F4F8",dur:"1.5s",begin:"0.4s",fill:"freeze"})}),e("circle",{cx:"10",cy:"11",r:"0.5",fill:"#FF8F00",opacity:"0.6"}),e("circle",{cx:"14",cy:"11",r:"0.5",fill:"#FF8F00",opacity:"0.6"}),e("circle",{cx:"12",cy:"15",r:"0.5",fill:"#FF8F00",opacity:"0.6"}),e("animate",{attributeName:"fill",values:"#FF8F00;#F0F4F8",dur:"1.5s",begin:"0.4s",fill:"freeze"}),e("animate",{attributeName:"opacity",values:"0.6;0.2",dur:"1.5s",begin:"0.4s",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 13;180 12 13;360 12 13",dur:"2s",fill:"freeze"})]})]})),Sr=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,e("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",strokeWidth:"1",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[e("path",{d:"M2 4L22 4",stroke:"#388E3C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e("animate",{attributeName:"opacity",values:"1;0.7;1",dur:"2s",repeatCount:"indefinite"})}),e("g",{children:[e("path",{d:"M3 8.01L3.01 7.99889",stroke:"#26A69A",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M9 8.01L9.01 7.99889",stroke:"#26A69A",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M15 8.01L15.01 7.99889",stroke:"#26A69A",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M21 8.01L21.01 7.99889",stroke:"#26A69A",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("animate",{attributeName:"opacity",values:"0.6;1;0.4;0.6",dur:"3s",repeatCount:"indefinite"})]}),e("g",{children:[e("path",{d:"M6 12.01L6.01 11.9989",stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 12.01L12.01 11.9989",stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M18 12.01L18.01 11.9989",stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("animate",{attributeName:"opacity",values:"0.4;0.6;1;0.4",dur:"3s",repeatCount:"indefinite"})]}),e("g",{children:[e("path",{d:"M3 16.01L3.01 15.9989",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M9 16.01L9.01 15.9989",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M15 16.01L15.01 15.9989",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M21 16.01L21.01 15.9989",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("animate",{attributeName:"opacity",values:"1;0.4;0.6;1",dur:"3s",repeatCount:"indefinite"})]}),e("g",{children:[e("path",{d:"M6 20.01L6.01 19.9989",stroke:"#9C27B0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 20.01L12.01 19.9989",stroke:"#9C27B0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M18 20.01L18.01 19.9989",stroke:"#9C27B0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("animate",{attributeName:"opacity",values:"0.6;1;0.4;0.6",dur:"3s",repeatCount:"indefinite"})]})]})),_r=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,e("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",strokeWidth:"1",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[e("path",{d:"M2 4L22 4",stroke:"#388E3C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e("animate",{attributeName:"stroke",values:"#388E3C;#F0F4F8",dur:"1.5s",fill:"freeze"})}),e("g",{children:[e("path",{d:"M3 8.01L3.01 7.99889",stroke:"#26A69A",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M9 8.01L9.01 7.99889",stroke:"#26A69A",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M15 8.01L15.01 7.99889",stroke:"#26A69A",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M21 8.01L21.01 7.99889",stroke:"#26A69A",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("animate",{attributeName:"stroke",values:"#26A69A;#F0F4F8",dur:"1.5s",fill:"freeze"}),e("animate",{attributeName:"opacity",values:"1;0.3",dur:"1.5s",fill:"freeze"})]}),e("g",{children:[e("path",{d:"M6 12.01L6.01 11.9989",stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 12.01L12.01 11.9989",stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M18 12.01L18.01 11.9989",stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("animate",{attributeName:"stroke",values:"#42A5F5;#F0F4F8",dur:"1.5s",begin:"0.2s",fill:"freeze"}),e("animate",{attributeName:"opacity",values:"1;0.3",dur:"1.5s",begin:"0.2s",fill:"freeze"})]}),e("g",{children:[e("path",{d:"M3 16.01L3.01 15.9989",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M9 16.01L9.01 15.9989",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M15 16.01L15.01 15.9989",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M21 16.01L21.01 15.9989",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("animate",{attributeName:"stroke",values:"#1976D2;#F0F4F8",dur:"1.5s",begin:"0.4s",fill:"freeze"}),e("animate",{attributeName:"opacity",values:"1;0.3",dur:"1.5s",begin:"0.4s",fill:"freeze"})]}),e("g",{children:[e("path",{d:"M6 20.01L6.01 19.9989",stroke:"#9C27B0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 20.01L12.01 19.9989",stroke:"#9C27B0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M18 20.01L18.01 19.9989",stroke:"#9C27B0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("animate",{attributeName:"stroke",values:"#9C27B0;#F0F4F8",dur:"1.5s",begin:"0.6s",fill:"freeze"}),e("animate",{attributeName:"opacity",values:"1;0.3",dur:"1.5s",begin:"0.6s",fill:"freeze"})]})]})),Mn=({size:t=39})=>e("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M6 20.5C7 11 11.5 8 20 6",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M15.9086 3.80941L20.3946 5.90126L18.3028 10.3873",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M5 7C6.10457 7 7 6.10457 7 5C7 3.89543 6.10457 3 5 3C3.89543 3 3 3.89543 3 5C3 6.10457 3.89543 7 5 7Z",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M16 20.2426L18.1213 18.1213M18.1213 18.1213L20.2426 16M18.1213 18.1213L16 16M18.1213 18.1213L20.2426 20.2426",strokeLinecap:"round",strokeLinejoin:"round"})]}),fc=({size:t=39})=>e("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",fill:"none",strokeWidth:"1.5",xmlns:"http://www.w3.org/2000/svg",children:[e("rect",{width:"7",height:"5",rx:"0.6",transform:"matrix(0 -1 -1 0 22 21)",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.1)",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.4"}),e("rect",{width:"7",height:"5",rx:"0.6",transform:"matrix(0 -1 -1 0 7 15.5)",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.1)",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.4"}),e("rect",{width:"7",height:"5",rx:"0.6",transform:"matrix(0 -1 -1 0 22 10)",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.1)",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.4"}),e("path",{d:"M17 17.5H13.5C12.3954 17.5 11.5 16.6046 11.5 15.5V8.5C11.5 7.39543 12.3954 6.5 13.5 6.5H17",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.05)",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.3"}),e("path",{d:"M11.5 12H7",stroke:"#F0F4F8",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.3"})]}),vc=({size:t=39})=>e("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",fill:"none",strokeWidth:"1.5",xmlns:"http://www.w3.org/2000/svg",children:[e("rect",{x:"4",y:"18",width:"16",height:"3",rx:"0.5",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.1)",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.4"}),e("rect",{x:"4",y:"14",width:"16",height:"3",rx:"0.5",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.1)",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.4"}),e("rect",{x:"4",y:"10",width:"16",height:"3",rx:"0.5",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.1)",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.4"}),e("path",{d:"M7 3C6.44772 3 6 3.44772 6 4V8C6 8.55228 6.44772 9 7 9",stroke:"#F0F4F8",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.3"}),e("path",{d:"M17 3C17.5523 3 18 3.44772 18 4V8C18 8.55228 17.5523 9 17 9",stroke:"#F0F4F8",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.3"}),e("circle",{cx:"8",cy:"6",r:"0.5",fill:"#F0F4F8",opacity:"0.2"}),e("circle",{cx:"12",cy:"6",r:"0.6",fill:"#F0F4F8",opacity:"0.3"}),e("circle",{cx:"16",cy:"6",r:"0.4",fill:"#F0F4F8",opacity:"0.2"}),e("path",{d:"M12 9V10",stroke:"#F0F4F8",strokeWidth:"1",strokeLinecap:"round",opacity:"0.3"})]}),En=({size:t=39})=>e("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M5 12C5 12 7 4 12 4C17 4 19 12 19 12C19 12 17 20 12 20C7 20 5 12 5 12Z",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(0, 0, 0, 0.05)"}),e("path",{d:"M8 12L11 15L16 10",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e("circle",{cx:"6",cy:"12",r:"2",stroke:"#000000",strokeWidth:"1.5",fill:"rgba(0, 0, 0, 0.1)"}),e("circle",{cx:"18",cy:"12",r:"2",stroke:"#000000",strokeWidth:"1.5",fill:"rgba(0, 0, 0, 0.1)"})]}),ai=({size:t=39})=>e("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("rect",{x:"3",y:"7",width:"18",height:"3",rx:"0.5",stroke:"#000000",strokeWidth:"1.5",fill:"rgba(0, 0, 0, 0.05)"}),e("rect",{x:"3",y:"11",width:"18",height:"3",rx:"0.5",stroke:"#000000",strokeWidth:"1.5",fill:"rgba(0, 0, 0, 0.05)"}),e("rect",{x:"3",y:"15",width:"18",height:"3",rx:"0.5",stroke:"#000000",strokeWidth:"1.5",fill:"rgba(0, 0, 0, 0.05)"}),e("circle",{cx:"12",cy:"12",r:"2",stroke:"#000000",strokeWidth:"2",fill:"rgba(0, 0, 0, 0.2)"})]}),Wt=({size:t=39})=>e("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M5 3H19C20.1046 3 21 3.89543 21 5V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V5C3 3.89543 3.89543 3 5 3Z",stroke:"#000000",strokeWidth:"1.5",fill:"rgba(0, 0, 0, 0.02)"}),e("path",{d:"M8 9L5 12L8 15",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M16 9L19 12L16 15",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M13 7L11 17",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round"})]}),yc=({size:t=39})=>{const i=`switch_on_${Math.random().toString(36).substr(2,9)}`;return e("svg",{id:i,width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{id:`${i}_background`,d:"M17 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17Z",stroke:"#B0BEC5",fill:"rgba(176, 190, 197, 0.1)",strokeWidth:"1.5",children:[e("animate",{attributeName:"stroke",values:"#B0BEC5;#42A5F5",dur:"1500ms",begin:"300ms",fill:"freeze"}),e("animate",{attributeName:"fill",values:"rgba(176, 190, 197, 0.1);rgba(66, 165, 245, 0.2)",dur:"1500ms",begin:"300ms",fill:"freeze"})]}),e("circle",{id:`${i}_button`,cx:"7",cy:"12",r:"1.5",fill:"#B0BEC5",stroke:"#B0BEC5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"fill",values:"#B0BEC5;#388E3C",dur:"1500ms",begin:"300ms",fill:"freeze"}),e("animate",{attributeName:"stroke",values:"#B0BEC5;#388E3C",dur:"1500ms",begin:"300ms",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;10,0",dur:"1500ms",begin:"300ms",fill:"freeze"})]}),e("ellipse",{cx:"17",cy:"12",rx:"3",ry:"3",fill:"rgba(66, 165, 245, 0)",opacity:"0",children:[e("animate",{attributeName:"opacity",values:"0;0.3",dur:"1500ms",begin:"300ms",fill:"freeze"}),e("animate",{attributeName:"rx",values:"3;5",dur:"1500ms",begin:"300ms",fill:"freeze"}),e("animate",{attributeName:"ry",values:"3;5",dur:"1500ms",begin:"300ms",fill:"freeze"})]})]})},bc=({size:t=39})=>{const i=`switch_off_${Math.random().toString(36).substr(2,9)}`;return e("svg",{id:i,width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{id:`${i}_background`,d:"M17 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17Z",stroke:"#42A5F5",fill:"rgba(66, 165, 245, 0.2)",strokeWidth:"1.5",children:[e("animate",{attributeName:"stroke",values:"#42A5F5;#F0F4F8",dur:"1500ms",begin:"300ms",fill:"freeze"}),e("animate",{attributeName:"fill",values:"rgba(66, 165, 245, 0.2);rgba(240, 244, 248, 0.1)",dur:"1500ms",begin:"300ms",fill:"freeze"})]}),e("circle",{id:`${i}_button`,cx:"17",cy:"12",r:"1.5",fill:"#388E3C",stroke:"#388E3C",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"fill",values:"#388E3C;#F0F4F8",dur:"1500ms",begin:"300ms",fill:"freeze"}),e("animate",{attributeName:"stroke",values:"#388E3C;#F0F4F8",dur:"1500ms",begin:"300ms",fill:"freeze"}),e("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;-10,0",dur:"1500ms",begin:"300ms",fill:"freeze"})]}),e("ellipse",{cx:"17",cy:"12",rx:"5",ry:"5",fill:"rgba(66, 165, 245, 0.3)",opacity:"0.3",children:[e("animate",{attributeName:"opacity",values:"0.3;0",dur:"1500ms",begin:"300ms",fill:"freeze"}),e("animate",{attributeName:"rx",values:"5;3",dur:"1500ms",begin:"300ms",fill:"freeze"}),e("animate",{attributeName:"ry",values:"5;3",dur:"1500ms",begin:"300ms",fill:"freeze"})]})]})},Ht=({size:t=39})=>{const i=`power_on_${Math.random().toString(36).substr(2,9)}`;return e("svg",{id:`${i}_rotary_switch`,width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",strokeWidth:"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M21 3.6V20.4C21 20.7314 20.7314 21 20.4 21H3.6C3.26863 21 3 20.7314 3 20.4V3.6C3 3.26863 3.26863 3 3.6 3H20.4C20.7314 3 21 3.26863 21 3.6Z",stroke:"#B0BEC5",fill:"rgba(176, 190, 197, 0.1)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"stroke",values:"#B0BEC5;#388E3C",dur:"2s",fill:"freeze"}),e("animate",{attributeName:"fill",values:"rgba(176, 190, 197, 0.1);rgba(56, 142, 60, 0.1)",dur:"2s",fill:"freeze"})]}),e("path",{d:"M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z",stroke:"#B0BEC5",fill:"rgba(176, 190, 197, 0.05)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"stroke",values:"#B0BEC5;#388E3C",dur:"2s",fill:"freeze"}),e("animate",{attributeName:"fill",values:"rgba(176, 190, 197, 0.05);rgba(56, 142, 60, 0.2)",dur:"2s",fill:"freeze"})]}),e("path",{d:"M8.5 7.5L12 12",stroke:"#B0BEC5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"stroke",values:"#B0BEC5;#388E3C",dur:"2s",fill:"freeze"}),e("animate",{attributeName:"d",values:"M8.5 7.5L12 12;M15.5 7.5L12 12",dur:"1s",fill:"freeze"})]}),e("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"rgba(56, 142, 60, 0.3)",strokeWidth:"0.5",opacity:"0",children:[e("animate",{attributeName:"opacity",values:"0;0.4",dur:"2s",fill:"freeze"}),e("animate",{attributeName:"r",values:"10;12",dur:"2s",fill:"freeze"})]})]})},He=({size:t=39})=>{const i=`power_off_${Math.random().toString(36).substr(2,9)}`;return e("svg",{id:`${i}_rotary_switch`,width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",strokeWidth:"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M21 3.6V20.4C21 20.7314 20.7314 21 20.4 21H3.6C3.26863 21 3 20.7314 3 20.4V3.6C3 3.26863 3.26863 3 3.6 3H20.4C20.7314 3 21 3.26863 21 3.6Z",stroke:"#388E3C",fill:"rgba(56, 142, 60, 0.1)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"stroke",values:"#388E3C;#F0F4F8",dur:"2s",fill:"freeze"}),e("animate",{attributeName:"fill",values:"rgba(56, 142, 60, 0.1);rgba(240, 244, 248, 0.1)",dur:"2s",fill:"freeze"})]}),e("path",{d:"M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z",stroke:"#388E3C",fill:"rgba(56, 142, 60, 0.2)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"stroke",values:"#388E3C;#F0F4F8",dur:"2s",fill:"freeze"}),e("animate",{attributeName:"fill",values:"rgba(56, 142, 60, 0.2);rgba(240, 244, 248, 0.05)",dur:"2s",fill:"freeze"})]}),e("path",{d:"M15.5 7.5L12 12",stroke:"#388E3C",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e("animate",{attributeName:"stroke",values:"#388E3C;#F0F4F8",dur:"2s",fill:"freeze"}),e("animate",{attributeName:"d",values:"M15.5 7.5L12 12;M8.5 7.5L12 12",dur:"1s",fill:"freeze"})]}),e("circle",{cx:"12",cy:"12",r:"12",fill:"none",stroke:"rgba(56, 142, 60, 0.3)",strokeWidth:"0.5",opacity:"0.4",children:[e("animate",{attributeName:"opacity",values:"0.4;0",dur:"2s",fill:"freeze"}),e("animate",{attributeName:"r",values:"12;10",dur:"2s",fill:"freeze"})]})]})},Zt=({size:t=39})=>e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255, 255, 255, 0.1)"}),e("path",{d:"M19.6224 10.3954L18.5247 7.7448L20 6L18 4L16.2647 5.48295L13.5578 4.36974L12.9353 2H10.981L10.3491 4.40113L7.70441 5.51596L6 4L4 6L5.45337 7.78885L4.3725 10.4463L2 11V13L4.40111 13.6555L5.51575 16.2997L4 18L6 20L7.79116 18.5403L10.397 19.6123L11 22H13L13.6045 19.6132L16.2551 18.5155C16.6969 18.8313 18 20 18 20L20 18L18.5159 16.2494L19.6139 13.598L21.9999 12.9772L22 11L19.6224 10.3954Z",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),Mi=({size:t=39})=>e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("rect",{x:"3",y:"3",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.1)"}),e("rect",{x:"10.25",y:"3",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.1)"}),e("rect",{x:"17.5",y:"3",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.1)"}),e("rect",{x:"3",y:"10.25",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.1)"}),e("rect",{x:"10.25",y:"10.25",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.15)"}),e("rect",{x:"17.5",y:"10.25",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.1)"}),e("rect",{x:"3",y:"17.5",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.1)"}),e("rect",{x:"10.25",y:"17.5",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.1)"}),e("rect",{x:"17.5",y:"17.5",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.1)"})]}),kc=({size:t=39})=>e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M2 11V4.6C2 4.26863 2.26863 4 2.6 4H8.77805C8.92127 4 9.05977 4.05124 9.16852 4.14445L12.3315 6.85555C12.4402 6.94876 12.5787 7 12.722 7H21.4C21.7314 7 22 7.26863 22 7.6V11M2 11V19.4C2 19.7314 2.26863 20 2.6 20H21.4C21.7314 20 22 19.7314 22 19.4V11M2 11H22",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("rect",{x:"2",y:"7",width:"20",height:"4",fill:"rgba(255, 255, 255, 0.1)"}),e("rect",{x:"2",y:"11",width:"20",height:"9",rx:"0.4",fill:"rgba(255, 255, 255, 0.05)"})]}),wc=({size:t=39})=>e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M13 2L3 14H12L11 22L21 10H12L13 2Z",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255, 255, 255, 0.1)"})}),Cc=({size:t=39})=>e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M7 17H4C2.89543 17 2 16.1046 2 15V10C2 8.89543 2.89543 8 4 8H20C21.1046 8 22 8.89543 22 10V15C22 16.1046 21.1046 17 20 17H17",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M7 8V4C7 3.44772 7.44772 3 8 3H16C16.5523 3 17 3.44772 17 4V8",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M7 13H17V20C17 20.5523 16.5523 21 16 21H8C7.44772 21 7 20.5523 7 20V13Z",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255, 255, 255, 0.1)"})]}),Ee={light:{on:{default:oc,desk_lamp:lc},off:{default:ac,desk_lamp:cc}},cover:{on:{default:hc,garage:dc},off:{default:pc,garage:uc}},binary_sensor:{on:{door:Ft,window:Ft,motion:mc,presence:zt,occupancy:zt,lock:je,smoke:$e,gas:$e,carbon_monoxide:$e,safety:$e},off:{door:It,window:It,motion:gc,presence:Ge,occupancy:Ge,lock:ft,smoke:Ve,gas:Ve,carbon_monoxide:Ve,safety:Ve}},sensor:{on:{door:Ft,window:Ft},off:{door:It,window:It}},lock:{on:{default:ft},off:{default:je}},media_player:{on:{default:ri,tv:ht,television:ht,speaker:ri,receiver:ri},off:{default:si,tv:nt,television:nt,speaker:si,receiver:si}},climate:{heat:{default:Bt},cool:{default:Ze},dry:{default:pt},fan_only:{default:oi},auto:{default:Rt},off:{default:Pt}},fan:{on:{default:oi},off:{default:Pt}},vacuum:{on:{default:kr},off:{default:wr}},dishwasher:{on:{default:yr},off:{default:br}},washing_machine:{on:{default:Cr},off:{default:xr}},scene:{on:{default:ai},off:{default:ai},scening:{default:ai}},script:{on:{default:Wt},off:{default:Wt},running:{default:Wt},default:{default:Wt}},automation:{on:{default:En},off:{default:En}},switch:{on:{default:yc},off:{default:bc}},input_boolean:{on:{default:Ht},off:{default:He}},alert:{on:{default:$e},off:{default:Ve},idle:{default:Ve}},timer:{active:{default:Ht},idle:{default:He},paused:{default:He}},person:{home:{default:zt},not_home:{default:Ge},unknown:{default:Ge}},device_tracker:{home:{default:zt},not_home:{default:Ge},unknown:{default:Ge}},air_purifier:{on:{default:Sr},off:{default:_r}},input_number:{default:{default:null}},input_text:{default:{default:He}},input_select:{default:{default:He}},input_datetime:{default:{default:He}},weather:{sunny:{default:Bt},clear_night:{default:Ze},cloudy:{default:Ze},partlycloudy:{default:Rt},rainy:{default:pt},pouring:{default:pt},snowy:{default:Ze},snowy_rainy:{default:Ze},windy:{default:oi},fog:{default:Rt},hail:{default:Ze},lightning:{default:$e},lightning_rainy:{default:$e},default:{default:Rt}},group:{on:{default:Ht},off:{default:He}},zone:{default:{default:Ge}},sun:{above_horizon:{default:Bt},below_horizon:{default:Ze}},remote:{on:{default:ht},off:{default:nt}},water_heater:{on:{default:Bt},off:{default:Pt}},humidifier:{on:{default:pt},off:{default:Pt}},plant:{default:{default:pt}},number:{default:{default:null}},select:{default:{default:He}},text:{default:{default:He}},button:{default:{default:Ht}},update:{on:{default:Mn},off:{default:Mn}},camera:{recording:{default:ht},streaming:{default:ht},idle:{default:nt},default:{default:nt}},siren:{on:{default:$e},off:{default:Ve}},settings:{default:{default:Zt}},energy_dashboard_device:{default:{default:wc}},printer3d_device:{default:{default:Cc}},alarm_control_panel:{armed_home:{default:je},armed_away:{default:je},armed_night:{default:je},armed_vacation:{default:je},armed_custom_bypass:{default:je},disarmed:{default:ft},triggered:{default:$e},pending:{default:Ve},arming:{default:ft},disarming:{default:je}}},xc=(t="",i={})=>{const n=t||i?.friendly_name||"";return n.toLowerCase().includes("desk")||n.toLowerCase().includes("schreibtisch")||n.toLowerCase().includes("arbeits")||n.toLowerCase().includes("b√ºro")||i?.device_class==="desk_lamp"},Sc=(t={})=>t?.device_class==="garage"||t?.friendly_name?.toLowerCase().includes("garage"),_c=(t={})=>{const i=t?.friendly_name||"";return t?.device_class==="tv"||i.toLowerCase().includes("tv")||i.toLowerCase().includes("fernseh")||i.toLowerCase().includes("television")},Nc=(t,i,n={},r="")=>{if(t==="air_purifier")return i==="on"?Sr:_r;if(t==="washing_machine")return i==="on"?Cr:xr;if(t==="dishwasher")return i==="on"?yr:br;if(t==="vacuum")return i==="cleaning"?kr:wr;if(t==="climate"){const d=n?.hvac_action||i;return(Ee.climate[d]||Ee.climate.off)?.default||null}if(t==="script"){const d=Ee.script;return(d[i==="running"||i==="on"?"running":"off"]||d.default)?.default||vc}if(t==="button")return Ee[t]?.default?.default||null;if(t==="scene"){const d=Ee.scene;return(d[i==="scening"||i==="on"?"scening":"off"]||d.off)?.default||fc}if(t==="camera"){const d=Ee.camera;return(d[i]||d.default)?.default||nt}if(t==="alarm_control_panel"){const d=Ee.alarm_control_panel;return(d[i]||d.disarmed)?.default||ft}if(t==="siren"){const d=i==="on"?"on":"off";return Ee.siren[d]?.default||Ve}if(t==="person"||t==="device_tracker"){const d=Ee[t];if(d)return(d[i]||d.unknown||d.not_home)?.default||null}if(t==="weather"){const d=Ee.weather;return(d[i]||d.default)?.default||null}if(t==="alert"){const d=Ee.alert;return(d[i]||d.idle)?.default||null}if(t==="timer"){const d=Ee.timer;return(d[i]||d.idle)?.default||null}if(t==="settings")return Ee.settings?.default?.default||Zt;if(t==="pluginstore")return Ee.pluginstore?.default?.default||Mi;if(t==="input_number"||t==="number")return null;if(t==="input_text"||t==="input_select"||t==="input_datetime"||t==="select"||t==="text"||t==="plant"){const d=Ee[t];return d?.default?d.default.default:He}if(t==="zone")return Ee.zone?.default?.default||null;if(t==="sun"){const d=i==="above_horizon"?"above_horizon":"below_horizon";return Ee.sun[d]?.default||null}const s=Ee[t];if(!s)return null;const o=i==="on"||i==="open"||i==="playing"||i==="home"||i==="unlocked"||i==="cleaning"||i==="active"||i==="running"||i==="above_horizon"||i==="recording"||i==="streaming";if(t==="lock")return s[i==="unlocked"?"on":"off"]?.default||null;const a=s[o?"on":"off"];if(!a)return s.default?s.default.default:null;let c="default";t==="light"&&xc(r,n)?c="desk_lamp":t==="cover"&&Sc(n)?c="garage":t==="media_player"&&_c(n)?c="tv":(t==="binary_sensor"||t==="sensor")&&n?.device_class&&(c=n.device_class);const u=a[c]||a.default||null;return u===null&&t!=="input_number"&&t!=="number"?kc:u},Lc=["input_number","number"],Mc=({domain:t,state:i,attributes:n={},size:r=39,name:s=""})=>{const o=Nc(t,i,n,s);return o?e(o,{size:r}):(Lc.includes(t),null)},Nr=(t,i=39)=>t?e(Mc,{domain:t.domain,state:t.state,attributes:t.attributes,size:i,name:t.name||t.attributes?.friendly_name}):null,Ec={settings:{color:"rgb(0, 145, 255)",hoverColor:"rgb(0, 145, 255)",activeColor:"rgb(0, 145, 255)",iconComponent:Zt,iconMdi:"mdi:cog",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"tabs",tabs:["general","appearance","privacy","about"],defaultTab:"general",showHeader:!0,showCloseButton:!0}},pluginstore:{color:"rgb(219, 52, 242)",hoverColor:"rgb(219, 52, 242)",activeColor:"rgb(219, 52, 242)",iconComponent:Mi,iconMdi:"mdi:puzzle-plus",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"fullscreen",sections:["discover","installed","develop","upload"],defaultSection:"discover",showHeader:!0,showBackButton:!0,showInstallButton:!0}},all_schedules:{color:"rgb(255, 146, 48)",hoverColor:"rgb(255, 146, 48)",activeColor:"rgb(255, 146, 48)",iconComponent:null,iconMdi:"mdi:calendar-clock",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"fullscreen",showHeader:!0,showBackButton:!0,showFilterTabs:!0}},weather:{color:"rgb(60, 211, 254)",hoverColor:"rgb(60, 211, 254)",activeColor:"rgb(60, 211, 254)",iconComponent:null,iconMdi:"mdi:weather-partly-cloudy",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"fullscreen",showHeader:!0,showBackButton:!0,showRefreshButton:!0}},news:{color:"rgb(255, 149, 0)",hoverColor:"rgb(255, 149, 0)",activeColor:"rgb(255, 149, 0)",iconComponent:null,iconMdi:"mdi:newspaper",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"fullscreen",showHeader:!0,showBackButton:!0,showRefreshButton:!0,showFilterBar:!0}},todos:{color:"rgb(0, 122, 255)",hoverColor:"rgb(0, 122, 255)",activeColor:"rgb(0, 122, 255)",iconComponent:null,iconMdi:"mdi:check-circle",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"fullscreen",showHeader:!0,showBackButton:!0,showRefreshButton:!0,showFilterBar:!0,showAddButton:!0}},integration:{color:"rgb(175, 82, 222)",hoverColor:"rgb(175, 82, 222)",activeColor:"rgb(175, 82, 222)",iconComponent:null,iconMdi:"mdi:devices",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"fullscreen",showHeader:!0,showBackButton:!0,showManagementButton:!0}},printer3d_device:{color:"rgb(48, 209, 88)",hoverColor:"rgb(48, 209, 88)",activeColor:"rgb(48, 209, 88)",iconComponent:null,iconMdi:"mdi:printer-3d",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"tabs",showHeader:!0,showBackButton:!0,showRefreshButton:!0}}};function Tc(t,i="grid"){if(!t)return null;const n=i==="list"?1.02:1.05,r=i==="list"?.3:.25;return{hidden:t.animation?.hidden||{opacity:0,scale:.9},inactive:{backgroundColor:t.color,...t.animation?.inactive||{}},active:{backgroundColor:t.activeColor||t.color,...t.animation?.active||{}},hover:{backgroundColor:t.hoverColor||t.color,scale:n,transition:{duration:r,ease:[.4,0,.2,1]}}}}const Ac=({size:t=39})=>e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M2 6C2 4.89543 2.89543 4 4 4H16C17.1046 4 18 4.89543 18 6V18C18 19.1046 17.1046 20 16 20H4C2.89543 20 2 19.1046 2 18V6Z",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.08)"}),e("path",{d:"M18 6V18C18 19.1046 18.8954 20 20 20C21.1046 20 22 19.1046 22 18V8C22 6.89543 21.1046 6 20 6H18Z",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.05)"}),e("rect",{x:"5",y:"7",width:"8",height:"2",rx:"0.5",fill:"rgba(255, 255, 255, 0.6)"}),e("line",{x1:"5",y1:"11",x2:"13",y2:"11",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1"}),e("line",{x1:"5",y1:"13",x2:"11",y2:"13",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1"}),e("line",{x1:"5",y1:"15",x2:"13",y2:"15",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1"}),e("line",{x1:"5",y1:"17",x2:"10",y2:"17",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1"})]}),Dc=({size:t=39})=>e("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M9 6L20 6",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.9"}),e("path",{d:"M3.80002 5.79999L4.60002 6.59998L6.60001 4.59999",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.9"}),e("path",{d:"M3.80002 11.8L4.60002 12.6L6.60001 10.6",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.9"}),e("path",{d:"M9 12L20 12",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.9"}),e("path",{d:"M3.80002 17.8L4.60002 18.6L6.60001 16.6",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.9"}),e("path",{d:"M9 18L20 18",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.9"})]}),qe=({size:t=24,color:i="#FFFFFF",animated:n=!1,...r})=>e(S.svg,{width:t,height:t,"stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:i,animate:n?{x:[-2,2,-2]}:{},transition:n?{duration:6,repeat:1/0,ease:"easeInOut"}:{},children:e("path",{d:"M12 4C6 4 6 8 6 10C4.33333 10 1 11 1 15C1 19 4.33333 20 6 20H18C19.6667 20 23 19 23 15C23 11 19.6667 10 18 10C18 8 18 4 12 4Z",stroke:i,"stroke-width":"1.5","stroke-linejoin":"round"})}),Fc=({size:t=24,color:i="#FFFFFF",animated:n=!1,...r})=>e(S.svg,{width:t,height:t,"stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:i,children:[e("path",{d:"M3.5 17.3818C2.1879 16.7066 1 15.3879 1 13C1 9 4.33333 8 6 8C6 6 6 2 12 2C18 2 18 6 18 8C19.6667 8 23 9 23 13C23 15.3879 21.8121 16.7066 20.5 17.3818",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e(S.path,{d:"M9 14H15",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",animate:n?{opacity:[.4,.8,.4],x:[-1,1,-1]}:{},transition:n?{duration:4,repeat:1/0,ease:"easeInOut"}:{}}),e(S.path,{d:"M9 22H15",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",animate:n?{opacity:[.6,.9,.6],x:[1,-1,1]}:{},transition:n?{duration:4,repeat:1/0,ease:"easeInOut",delay:1}:{}}),e(S.path,{d:"M7 18H17",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",animate:n?{opacity:[.5,1,.5],x:[-1,1,-1]}:{},transition:n?{duration:4,repeat:1/0,ease:"easeInOut",delay:2}:{}})]}),Tn=({size:t=24,color:i="#FFFFFF",animated:n=!1,...r})=>e(S.svg,{width:t,height:t,"stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:i,children:[e("path",{d:"M20 17.6073C21.4937 17.0221 23 15.6889 23 13C23 9 19.6667 8 18 8C18 6 18 2 12 2C6 2 6 6 6 8C4.33333 8 1 9 1 13C1 15.6889 2.50628 17.0221 4 17.6073",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e(S.path,{d:"M12 14V16",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",animate:n?{opacity:[.3,1,.3],y:[0,2,0]}:{},transition:n?{duration:1.5,repeat:1/0,ease:"easeInOut"}:{}}),e(S.path,{d:"M12 20V22",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",animate:n?{opacity:[1,.3,1],y:[0,2,0]}:{},transition:n?{duration:1.5,repeat:1/0,ease:"easeInOut",delay:.3}:{}}),e(S.path,{d:"M8 18V20",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",animate:n?{opacity:[.5,1,.5],y:[0,2,0]}:{},transition:n?{duration:1.5,repeat:1/0,ease:"easeInOut",delay:.6}:{}}),e(S.path,{d:"M16 18V20",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",animate:n?{opacity:[.8,.3,.8],y:[0,2,0]}:{},transition:n?{duration:1.5,repeat:1/0,ease:"easeInOut",delay:.9}:{}})]}),li=({size:t=24,color:i="#FFFFFF",...n})=>e("svg",{width:t,height:t,"stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:i,children:[e("path",{d:"M12 12L12 17M12 22L12 17M12 17L7.5 14.5M12 17L16.5 19.5M12 17L16.5 14.5M12 17L7.5 19.5",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M20 17.6073C21.4937 17.0221 23 15.6889 23 13C23 9 19.6667 8 18 8C18 6 18 2 12 2C6 2 6 6 6 8C4.33333 8 1 9 1 13C1 15.6889 2.50628 17.0221 4 17.6073",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),An=({size:t=24,color:i="#FFFFFF",animated:n=!1,...r})=>e(S.svg,{width:t,height:t,"stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:i,animate:n?{rotate:360}:{},transition:n?{duration:60,repeat:1/0,ease:"linear"}:{},children:[e("path",{d:"M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M22 12L23 12",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M12 2V1",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M12 23V22",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M20 20L19 19",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M20 4L19 5",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M4 20L5 19",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M4 4L5 5",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M1 12L2 12",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),Dn=({size:t=24,color:i="#FFFFFF",...n})=>e("svg",{width:t,height:t,"stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:i,children:[e("path",{d:"M11.5 12L9 17H15L12.5 22",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M20 17.6073C21.4937 17.0221 23 15.6889 23 13C23 9 19.6667 8 18 8C18 6 18 2 12 2C6 2 6 6 6 8C4.33333 8 1 9 1 13C1 15.6889 2.50628 17.0221 4 17.6073",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),bd=({size:t=24,color:i="#FFFFFF",...n})=>e("svg",{width:t,height:t,viewBox:"0 0 24 24","stroke-width":"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:i,children:e("path",{d:"M20 14C20 9.58172 12 2 12 2C12 2 4 9.58172 4 14C4 18.4183 7.58172 22 12 22C16.4183 22 20 18.4183 20 14Z",stroke:i,"stroke-width":"1.5"})}),kd=({size:t=24,color:i="#FFFFFF",...n})=>e("svg",{width:t,height:t,"stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:i,children:[e("path",{d:"M18.2785 7C19.7816 7 21 8.11929 21 9.5C21 10.8807 19.7816 12 18.2785 12H3",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M17.9375 20C19.0766 20 20.5 19.5 20.5 17.5C20.5 15.5 19.0766 15 17.9375 15H3",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M10.4118 4C11.8412 4 13 5.11929 13 6.5C13 7.88071 11.8412 9 10.4118 9H3",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),wd=({size:t=24,color:i="#FFFFFF",...n})=>e("svg",{width:t,height:t,viewBox:"0 0 24 24","stroke-width":"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:i,children:[e("path",{d:"M10.5857 10.5857L16.9496 7.0502L13.4141 13.4142L7.05012 16.9497L10.5857 10.5857Z",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:i,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),Lr=(t,i=120,n="#FFFFFF",r=!1)=>{const s={size:i,color:n,animated:r};return{"clear-night":e(An,{...s}),sunny:e(An,{...s}),cloudy:e(qe,{...s}),partlycloudy:e(qe,{...s}),"partly-cloudy":e(qe,{...s}),fog:e(Fc,{...s}),rainy:e(Tn,{...s}),pouring:e(Tn,{...s}),snowy:e(li,{...s}),"snowy-rainy":e(li,{...s}),hail:e(li,{...s}),lightning:e(Dn,{...s}),"lightning-rainy":e(Dn,{...s}),windy:e(qe,{...s}),"windy-variant":e(qe,{...s}),exceptional:e(qe,{...s})}[t]||e(qe,{...s})},Cd=({condition:t,size:i=120,color:n="#FFFFFF",animated:r=!0})=>{const s=Lr(t,i,n);return r?e("div",{className:"weather-icon-wrapper",style:{display:"inline-block",animation:"float 3s ease-in-out infinite"},children:s}):s};function Ic(t,i="grid"){if(t.is_system||kt(t.domain)){const n=Ec[t.domain];if(n)return Tc(n,i)}return null}function kt(t){return["settings","pluginstore","all_schedules","weather","news","todos","printer3d_device","energy_dashboard_device","integration","notifications","statistics","help"].includes(t)}function ki(t,i=48){if(!t.is_system&&!kt(t.domain))return null;const r={settings:Zt,pluginstore:Mi,news:Ac,todos:Dc,all_schedules:()=>e("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"white",children:[e("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zm0-12H5V6h14v2z"}),e("circle",{cx:"12",cy:"15",r:"1"})]}),energy_dashboard_device:()=>e("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"white",stroke:"white","stroke-width":"1.5",children:e("path",{d:"M13 2L3 14H12L11 22L21 10H12L13 2Z","stroke-linecap":"round","stroke-linejoin":"round"})}),weather:()=>{const s=me.getEntityByDomain("weather");let o="partly-cloudy";return s&&s.attributes&&(o=s.attributes.current_condition||"partly-cloudy"),Lr(o,i,"#FFFFFF",!1)},integration:()=>e("svg",{width:i,height:i,viewBox:"0 0 24 24","stroke-width":"1.5",fill:"none",stroke:"white",children:[e("path",{d:"M2 19V5C2 3.89543 2.89543 3 4 3H20C21.1046 3 22 3.89543 22 5V19C22 20.1046 21.1046 21 20 21H4C2.89543 21 2 20.1046 2 19Z","stroke-width":"1.5"}),e("path",{d:"M2 7L22 7","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M5 5.01L5.01 4.99889","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M8 5.01L8.01 4.99889","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M11 5.01L11.01 4.99889","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),printer3d_device:()=>e("svg",{width:i,height:i,"stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",stroke:"white",children:[e("path",{d:"M17.5714 18H20.4C20.7314 18 21 17.7314 21 17.4V11C21 8.79086 19.2091 7 17 7H7C4.79086 7 3 8.79086 3 11V17.4C3 17.7314 3.26863 18 3.6 18H6.42857","stroke-width":"1.5"}),e("path",{d:"M8 7V3.6C8 3.26863 8.26863 3 8.6 3H15.4C15.7314 3 16 3.26863 16 3.6V7","stroke-width":"1.5"}),e("path",{d:"M6.09782 20.3151L6.42855 18L6.92639 14.5151C6.96862 14.2196 7.22177 14 7.52036 14H16.4796C16.7782 14 17.0313 14.2196 17.0736 14.5151L17.5714 18L17.9021 20.3151C17.9538 20.6766 17.6733 21 17.3082 21H6.69179C6.32666 21 6.04618 20.6766 6.09782 20.3151Z","stroke-width":"1.5"}),e("path",{d:"M17 10.01L17.01 9.99889","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})}[t.domain];return r?typeof r=="function"?e(r,{size:i}):e(r,{size:i}):null}const zc=({device:t,isActive:i,cardRef:n,handleClick:r,getItemVariants:s,animateState:o,animationDelay:l,getDisplayState:a,getWeatherArea:c,getWeatherName:u,getNewsArea:d,getNewsName:h,getTodosArea:v,getTodosName:b,getPrinterArea:y,getPrinterName:m,lang:p})=>e(fe,{children:[e("style",{children:`
        .device-list-item {
          border-radius: 16px;
          padding: 16px 20px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 16px;
          position: relative;
          overflow: hidden;
          clip-path: var(--card-clip-path, none);
        }

        /* Actions-Items - wei√üer Hintergrund mit dunklem Text */
        .device-list-item.actions-item {
          backdrop-filter: none;
          -webkit-backdrop-filter: none;
          border: 1px solid rgba(0, 0, 0, 0.1);
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .device-list-item.actions-item .device-list-icon {
          background: rgba(0, 0, 0, 0.08);
          color: rgba(0, 0, 0, 0.85);
        }

        .device-list-item.actions-item .device-list-area,
        .device-list-item.actions-item .device-list-name,
        .device-list-item.actions-item .device-list-status {
          color: rgba(0, 0, 0, 0.9);
          opacity: 1;
        }

        .device-list-item.actions-item .device-list-name {
          background: linear-gradient(to right, rgba(0, 0, 0, 0.9) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        /* Settings-Card - blau mit wei√üem Text */
        .device-list-item.settings-item {
          backdrop-filter: none;
          -webkit-backdrop-filter: none;
          border: 1px solid rgba(0, 145, 255, 0.5);
          box-shadow: 0 8px 32px rgba(0, 145, 255, 0.3);
        }

        .device-list-item.settings-item .device-list-icon {
          background: rgba(255, 255, 255, 0.1);
          color: rgba(255, 255, 255, 0.95);
        }

        .device-list-item.settings-item .device-list-area,
        .device-list-item.settings-item .device-list-name,
        .device-list-item.settings-item .device-list-status {
          color: rgba(255, 255, 255, 0.95);
          opacity: 1;
        }

        .device-list-item.settings-item .device-list-name {
          background: linear-gradient(to right, rgba(255, 255, 255, 0.95) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        /* Marketplace-Card - gr√ºn mit wei√üem Text */
        .device-list-item.marketplace-item {
          backdrop-filter: none;
          -webkit-backdrop-filter: none;
          border: 1px solid rgba(48, 209, 88, 0.5);
          box-shadow: 0 8px 32px rgba(48, 209, 88, 0.3);
        }

        .device-list-item.marketplace-item .device-list-icon {
          background: rgba(255, 255, 255, 0.1);
          color: rgba(255, 255, 255, 0.95);
        }

        .device-list-item.marketplace-item .device-list-area,
        .device-list-item.marketplace-item .device-list-name,
        .device-list-item.marketplace-item .device-list-status {
          color: rgba(255, 255, 255, 0.95);
          opacity: 1;
        }

        .device-list-item.marketplace-item .device-list-name {
          background: linear-gradient(to right, rgba(255, 255, 255, 0.95) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

          .device-list-icon {
            width: 68px;
            height: 68px;
            min-width: 68px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.15);
            color: var(--text-primary, rgba(255, 255, 255, 0.95));
            transition: all 0.3s ease;
          }

          .device-list-item.active .device-list-icon {
            background: rgba(0, 0, 0, 0.08);
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.05);
            color: rgba(0, 0, 0, 0.85);
          }

          .device-list-content {
            flex: 1;
            min-width: 0;
            display: flex;
            flex-direction: column;
            gap: 0px;
          }

          .device-list-area {
            font-size: 11px;
            font-weight: 500;
            color: var(--text-secondary, rgba(255, 255, 255, 0.6));
            text-transform: uppercase;
            letter-spacing: 0.5px;
            line-height: 1.2;
            margin: 0;
            padding: 0;
          }

          .device-list-item.active .device-list-area {
            color: rgba(0, 0, 0, 0.6);
            opacity: 1;
          }

          .device-list-name {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary, rgba(255, 255, 255, 0.95));
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            line-height: 1.3;
            margin: 0;
            padding: 0;
          }

          .device-list-item.active .device-list-name {
            color: rgba(0, 0, 0, 0.9);
            opacity: 1;
            background: linear-gradient(to right, rgba(0, 0, 0, 0.9) 80%, transparent 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
          }

          .device-list-status {
            font-size: 13px;
            color: var(--text-secondary, rgba(255, 255, 255, 0.7));
            line-height: 1.2;
            margin: 0;
            padding: 0;
          }

          .device-list-item.active .device-list-status {
            color: rgba(0, 0, 0, 0.7);
            opacity: 1;
          }

          .device-list-quick-action {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.15);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
          }

          @media (hover: hover) {
            .device-list-quick-action:hover {
              background: rgba(255, 255, 255, 0.2);
              transform: scale(1.05);
            }
          }

          .device-list-quick-action.active {
            background: rgba(0, 122, 255, 0.8);
            border-color: rgba(0, 122, 255, 1);
          }

          .sensor-list-value {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2px;
          }

          .sensor-list-value .value {
            font-size: 18px;
            font-weight: 700;
            line-height: 1;
          }

          .sensor-list-value .unit {
            font-size: 10px;
            opacity: 0.7;
            font-weight: 500;
          }

          /* Responsive */
          @media (max-width: 768px) {
            .device-list-item {
              padding: 12px 16px;
              gap: 12px;
            }

            .device-list-icon {
              width: 56px;
              height: 56px;
              min-width: 56px;
            }

            .device-list-area,
            .device-list-name,
            .device-list-status {
              font-size: 14px;
            }
          }
      `}),e(S.div,{ref:n,className:`device-list-item ${i?"active":""} ${t.domain==="settings"?"settings-item":""} ${t.domain==="marketplace"?"marketplace-item":""} ${t.domain==="automation"||t.domain==="scene"||t.domain==="script"?"actions-item":""}`,onClick:r,"data-entity":t.id,variants:s(),initial:"hidden",animate:o,whileHover:window.matchMedia("(hover: hover)").matches?"hover":void 0,transition:{delay:l},children:[e("div",{className:`device-list-icon ${i?"icon-active":""}`,children:t.domain==="sensor"&&!isNaN(parseFloat(t.state))?e("div",{className:"sensor-list-value",children:[e("span",{className:"value",children:hi(t.state,t.attributes,p).value}),e("span",{className:"unit",children:hi(t.state,t.attributes,p).unit||""})]}):(t.is_system||kt(t.domain))&&ki(t,32)?ki(t,32):Nr(t,32)}),e("div",{className:"device-list-content",children:[e("div",{className:"device-list-area",children:c&&c()||d&&d()||v&&v()||y&&y()||(t.domain==="settings"?W("subcategories.system",p):t.domain==="marketplace"?W("subcategories.apps",p):t.area||W("general.noRoom",p))}),e("div",{className:"device-list-name",children:u&&u()||h&&h()||b&&b()||m&&m()||(t.domain==="settings"?W("deviceNames.settings",p):t.domain==="marketplace"?W("deviceNames.marketplace",p):t.attributes?.friendly_name||t.name)}),e("div",{className:"device-list-status",children:a()})]}),["light","climate","media_player","cover","fan","switch"].includes(t.domain)&&e("button",{className:`device-list-quick-action ${i?"active":""}`,onClick:x=>{x.stopPropagation()},children:e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e("path",{d:"M7 6a7.75 7.75 0 1 0 10 0"}),e("path",{d:"M12 4l0 8"})]})})]})]}),Bc=({device:t,isActive:i,cardRef:n,handleClick:r,getItemVariants:s,animateState:o,animationDelay:l,renderSensorValue:a,getDisplayState:c,getWeatherArea:u,getWeatherName:d,getNewsArea:h,getNewsName:v,getTodosArea:b,getTodosName:y,getPrinterArea:m,getPrinterName:p,getPrinterState:x,lang:f})=>e(fe,{children:[e("style",{children:`
        .device-card {
          aspect-ratio: 1;
          width: 100%;
          min-width: 130px;
          min-height: 130px;
          background: rgba(255, 255, 255, 0.1);
          border-radius: 24px;
          padding: 20px;
          cursor: pointer;
          display: flex;
          flex-direction: column;
          justify-content: space-between;
          position: relative;
          overflow: hidden;
          box-sizing: border-box;
          container-type: inline-size;
          clip-path: var(--card-clip-path, none);
        }

        .device-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(135deg,
            rgba(255, 255, 255, 0.1) 0%,
            rgba(255, 255, 255, 0.05) 100%);
          opacity: 0;
          pointer-events: none;
        }

        @media (hover: hover) {
          .device-card:hover::before {
            opacity: 1;
          }

          .device-card:hover {
            background: rgba(255, 255, 255, 0.18);
          }
        }

        /* Aktive Cards werden durch Framer Motion Variants gesteuert */

        /* Actions-Card - wei√üer Hintergrund f√ºr Automation, Scene, Script */
        .device-card.actions-card {
          backdrop-filter: none;
          -webkit-backdrop-filter: none;
          border: 1px solid rgba(0, 0, 0, 0.1);
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .device-card.actions-card .device-icon {
          color: rgba(0, 0, 0, 0.85);
          opacity: 1;
        }

        .device-card.actions-card .device-area,
        .device-card.actions-card .device-name,
        .device-card.actions-card .device-state {
          color: rgba(0, 0, 0, 0.9);
          opacity: 1;
        }

        .device-card.actions-card .device-area {
          background: linear-gradient(to right, rgba(0, 0, 0, 0.6) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.actions-card .device-name {
          background: linear-gradient(to right, rgba(0, 0, 0, 0.9) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.actions-card .device-state {
          background: linear-gradient(to right, rgba(0, 0, 0, 0.7) 85%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        /* Settings-Card - blau mit wei√üem Text */
        .device-card.settings-card {
          backdrop-filter: none;
          -webkit-backdrop-filter: none;
          border: 1px solid rgba(0, 145, 255, 0.5);
          box-shadow: 0 8px 32px rgba(0, 145, 255, 0.3);
        }

        .device-card.settings-card .device-icon {
          color: rgba(255, 255, 255, 0.95);
          opacity: 1;
        }

        .device-card.settings-card .device-area,
        .device-card.settings-card .device-name,
        .device-card.settings-card .device-state {
          color: rgba(255, 255, 255, 0.95);
          opacity: 1;
        }

        .device-card.settings-card .device-area {
          background: linear-gradient(to right, rgba(255, 255, 255, 0.7) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.settings-card .device-name {
          background: linear-gradient(to right, rgba(255, 255, 255, 0.95) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.settings-card .device-state {
          background: linear-gradient(to right, rgba(255, 255, 255, 0.7) 85%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        /* Marketplace-Card - gr√ºn mit wei√üem Text */
        .device-card.marketplace-card {
          backdrop-filter: none;
          -webkit-backdrop-filter: none;
          border: 1px solid rgba(48, 209, 88, 0.5);
          box-shadow: 0 8px 32px rgba(48, 209, 88, 0.3);
        }

        .device-card.marketplace-card .device-icon {
          color: rgba(255, 255, 255, 0.95);
          opacity: 1;
        }

        .device-card.marketplace-card .device-area,
        .device-card.marketplace-card .device-name,
        .device-card.marketplace-card .device-state {
          color: rgba(255, 255, 255, 0.95);
          opacity: 1;
        }

        .device-card.marketplace-card .device-area {
          background: linear-gradient(to right, rgba(255, 255, 255, 0.7) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.marketplace-card .device-name {
          background: linear-gradient(to right, rgba(255, 255, 255, 0.95) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.marketplace-card .device-state {
          background: linear-gradient(to right, rgba(255, 255, 255, 0.7) 85%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        /* Pluginstore-Card - lila mit wei√üem Text */
        .device-card.pluginstore-card {
          backdrop-filter: none;
          -webkit-backdrop-filter: none;
          border: 1px solid rgba(175, 82, 222, 0.5);
          box-shadow: 0 8px 32px rgba(175, 82, 222, 0.3);
        }

        .device-card.pluginstore-card .device-icon {
          color: rgba(255, 255, 255, 0.95);
          opacity: 1;
        }

        .sensor-card .device-icon {
          color: rgba(0, 0, 0, 0.85);
          opacity: 1;
        }

        .sensor-value-display {
          display: flex;
          align-items: flex-start;
          gap: 3px;
          margin-bottom: auto;
        }

        .sensor-value {
          font-size: 48px;
          font-weight: 600;
          color: rgba(255, 255, 255, 0.95);
          line-height: 1;
          opacity: 0.6;
        }

        .sensor-unit {
          font-size: 21px;
          font-weight: 500;
          color: rgba(255, 255, 255, 0.7);
          opacity: 0.5;
          margin-top: 2px;
        }

        /* 5-Spalten Layout: Kleinere Sensor-Werte bei schmaleren Karten */
        @container (max-width: 180px) {
          .sensor-value {
            font-size: 42px;
          }

          .sensor-unit {
            font-size: 18px;
          }
        }

        .device-card.active .sensor-value {
          color: rgba(0, 0, 0, 0.9);
          opacity: 1;
        }

        .device-card.active .sensor-unit {
          color: rgba(0, 0, 0, 0.6);
          opacity: 1;
        }

        .device-info {
          display: flex;
          flex-direction: column;
          gap: 0;
          text-align: left;
          width: 100%;
        }

        .device-area,
        .device-name,
        .device-state {
          font-size: 18px;
          line-height: 1.15;
          margin: 0;
          overflow: hidden;
          white-space: nowrap;
          position: relative;
        }

        /* 5-Spalten Layout: Kleinere Schrift bei schmaleren Karten */
        @container (max-width: 180px) {
          .device-area,
          .device-name,
          .device-state {
            font-size: 16px;
          }
        }

        .device-area {
          color: rgba(255, 255, 255, 0.7);
          opacity: 0.5;
          background: linear-gradient(to right, rgba(255, 255, 255, 0.7) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-name {
          font-weight: 600;
          color: rgba(255, 255, 255, 0.95);
          opacity: 0.6;
          background: linear-gradient(to right, rgba(255, 255, 255, 0.95) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-state {
          color: rgba(255, 255, 255, 0.7);
          opacity: 0.5;
          background: linear-gradient(to right, rgba(255, 255, 255, 0.7) 85%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.active .device-area {
          color: rgba(0, 0, 0, 0.6);
          opacity: 1;
          background: linear-gradient(to right, rgba(0, 0, 0, 0.6) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.active .device-name {
          color: rgba(0, 0, 0, 0.9);
          opacity: 1;
          background: linear-gradient(to right, rgba(0, 0, 0, 0.9) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.active .device-state {
          color: rgba(0, 0, 0, 0.7);
          opacity: 1;
          background: linear-gradient(to right, rgba(0, 0, 0, 0.7) 85%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        @media (max-width: 768px) {
          .device-card {
            padding: 16px;
          }

          .device-area,
          .device-name,
          .device-state {
            font-size: 16px;
          }

          .sensor-value {
            font-size: 38px;
          }

          .sensor-unit {
            font-size: 16px;
          }
        }

        @media (max-width: 480px) {
          .device-card {
            padding: 14px;
            min-width: 120px;
            min-height: 120px;
          }

          .device-area,
          .device-name,
          .device-state {
            font-size: 14px;
          }

          .sensor-value {
            font-size: 38px;
          }

          .sensor-unit {
            font-size: 16px;
          }
        }

        @media (max-width: 360px) {
          .device-card {
            padding: 12px;
            min-width: 110px;
            min-height: 110px;
          }

          .device-area,
          .device-name,
          .device-state {
            font-size: 13px;
          }

          .sensor-value {
            font-size: 38px;
          }

          .sensor-unit {
            font-size: 16px;
          }
        }
      `}),e(S.div,{ref:n,className:`device-card ${i?"active":""} ${t.domain==="sensor"?"sensor-card":""} ${t.domain==="settings"?"settings-card":""} ${t.domain==="marketplace"?"marketplace-card":""} ${t.domain==="automation"||t.domain==="scene"||t.domain==="script"?"actions-card":""}`,onClick:r,"data-entity":t.id,variants:s(),initial:"hidden",animate:o,whileHover:window.matchMedia("(hover: hover)").matches?"hover":void 0,transition:{delay:l},children:[a(),e("div",{className:"device-info",children:[e("div",{className:"device-area",children:u&&u()||h&&h()||b&&b()||m&&m()||(t.domain==="settings"?W("subcategories.system",f):t.domain==="marketplace"?W("subcategories.apps",f):t.area||W("general.noRoom",f))}),e("div",{className:"device-name",children:d&&d()||v&&v()||y&&y()||p&&p()||(t.domain==="settings"?W("deviceNames.settings",f):t.domain==="marketplace"?W("deviceNames.marketplace",f):t.attributes?.friendly_name||t.name)}),e("div",{className:"device-state",children:x&&x()||c()})]})]})]}),Mr=Pn(({device:t,viewMode:i="grid",onClick:n,index:r=0,lang:s="de",animationKey:o="",roomIndex:l=0,itemsPerRoom:a=[],isPanelAnimationComplete:c=!1})=>{const u=Q(null),[d,h]=w(48);O(()=>{const g=()=>{const A=window.innerWidth;if(A>768){const k=getComputedStyle(document.documentElement).getPropertyValue("--device-grid-columns").trim();h(k==="5"?48:56)}else A>480?h(48):A>360?h(36):h(32)};g(),window.addEventListener("resize",g);const C=new MutationObserver(()=>{g()});return C.observe(document.documentElement,{attributes:!0,attributeFilter:["style"]}),()=>{window.removeEventListener("resize",g),C.disconnect()}},[]);const b=(()=>{let g=0;for(let C=0;C<l;C++)g+=a[C]||0;return g+r})(),y=o&&o.startsWith("expand-"),m=t.state==="Ein"||t.state==="ein"||t.state==="on"?!0:t.domain==="climate"?t.state!=="off"&&t.state!=="unavailable"&&t.state!=="unknown":t.domain==="cover"?t.state==="open"||t.state==="opening"||t.attributes?.current_position!==void 0&&t.attributes.current_position>0:(t.domain==="sensor"||t.domain==="binary_sensor")&&t.state&&t.state!=="unavailable"&&t.state!=="unknown"&&(!isNaN(parseFloat(t.state))||t.state==="on")?!0:t.isActive!==void 0?t.isActive:ps(t),p=m?"active":"inactive",f=(y?.4:0)+(b<30?b*.08:0),L=()=>{if(t.domain==="weather"){const g=me.getEntityByDomain("weather");if(g&&g.attributes&&g.attributes.current_temperature!==void 0)return`${Math.round(g.attributes.current_temperature)}¬∞`}return null},M=()=>{if(t.domain==="weather"){const g=me.getEntityByDomain("weather");if(g&&g.attributes&&g.attributes.current_condition){const C={de:{"clear-night":"Klare Nacht",cloudy:"Bew√∂lkt",fog:"Nebel",hail:"Hagel",lightning:"Gewitter","lightning-rainy":"Gewitter",partlycloudy:"Teilweise bew√∂lkt","partly-cloudy":"Teilweise bew√∂lkt",pouring:"Starkregen",rainy:"Regnerisch",snowy:"Schneefall","snowy-rainy":"Schneeregen",sunny:"Sonnig",windy:"Windig","windy-variant":"St√ºrmisch",exceptional:"Au√üergew√∂hnlich"},en:{"clear-night":"Clear",cloudy:"Cloudy",fog:"Fog",hail:"Hail",lightning:"Lightning","lightning-rainy":"Thunderstorm",partlycloudy:"Partly cloudy","partly-cloudy":"Partly cloudy",pouring:"Pouring",rainy:"Rainy",snowy:"Snowy","snowy-rainy":"Sleet",sunny:"Sunny",windy:"Windy","windy-variant":"Stormy",exceptional:"Exceptional"}};return(C[s]||C.de)[g.attributes.current_condition]||g.attributes.current_condition}}return null},_=()=>{if(t.domain==="news"){const g=me.getEntityByDomain("news");if(g&&g.attributes&&g.attributes.unread_count!==void 0){const C=g.attributes.unread_count;return s==="de"?C===1?"1 Neue Nachricht":`${C} Neue Nachrichten`:C===1?"1 New Article":`${C} New Articles`}}return null},R=()=>{if(t.domain==="news"){const g=me.getEntityByDomain("news");if(g&&g.attributes&&g.attributes.feed_count!==void 0){const C=g.attributes.feed_count;return s==="de"?C===1?"1 Feed":`${C} Feeds`:C===1?"1 Feed":`${C} Feeds`}return s==="de"?"Nachrichten":"News"}return null},N=()=>{if(t.domain==="todos"){const g=me.getEntityByDomain("todos");if(g&&g.attributes&&g.attributes.incomplete_count!==void 0){const C=g.attributes.incomplete_count;return s==="de"?C===1?"1 Unerledigt":`${C} Unerledigt`:C===1?"1 Incomplete":`${C} Incomplete`}}return null},T=()=>{if(t.domain==="todos"){const g=me.getEntityByDomain("todos");if(g&&g.attributes&&g.attributes.overdue_count!==void 0){const C=g.attributes.overdue_count;return s==="de"?C===1?"1 √úberf√§llig":`${C} √úberf√§llig`:C===1?"1 Overdue":`${C} Overdue`}return s==="de"?"Aufgaben":"Tasks"}return null},E=()=>null,H=()=>null,I=()=>{if(t.domain==="printer3d_device"){const g=t.attributes?.current_step;if(!g||g==="unavailable"||g==="unknown")return"Offline";const C={de:{idle:"Bereit",offline:"Offline",printing:"Druckt",paused:"Pausiert",preparing:"Vorbereitung",finishing:"Abschluss",error:"Fehler"},en:{idle:"Ready",offline:"Offline",printing:"Printing",paused:"Paused",preparing:"Preparing",finishing:"Finishing",error:"Error"}},A=C[s]||C.de,k=g.toLowerCase();for(const[$,P]of Object.entries(A))if(k.includes($))return P;return g.charAt(0).toUpperCase()+g.slice(1)}return null},X=()=>t.is_system||me.isSystemEntity(t.domain)?"":t.domain==="sensor"&&!isNaN(parseFloat(t.state))?hs(t.state,t.attributes?.device_class,t.attributes?.unit_of_measurement,s)||"":(t.domain==="binary_sensor"||t.domain==="sensor",Ri(t.state,t.domain,t.attributes?.device_class,s)),D=()=>{if(t.domain==="sensor"&&!isNaN(parseFloat(t.state))){const g=hi(t.state,t.attributes,s);return e("div",{className:"sensor-value-display",children:[e("span",{className:"sensor-value",children:g.value}),g.unit&&e("span",{className:"sensor-unit",children:g.unit})]})}if(t.is_system||kt(t.domain)){const g=ki(t,d);if(g)return g}return Nr(t,d)},F=()=>{n&&n(t)},z=()=>{if(t.is_system||kt(t.domain)){const k=Ic(t,i);if(k)return k}if(t.domain==="automation"||t.domain==="scene"||t.domain==="script")return Ds;const g=i==="list"?Ts:As,C=i==="list"?1.02:1.05,A=i==="list"?.3:.25;return m?{...g,hover:{scale:C,backgroundColor:"#FFFFFF",transition:{duration:A,ease:[.4,0,.2,1]}}}:{...g,hover:{scale:C,backgroundColor:"rgba(255, 255, 255, 0.18)",transition:{duration:A,ease:[.4,0,.2,1]}}}};return i==="list"?e(zc,{device:t,isActive:m,cardRef:u,handleClick:F,getItemVariants:z,animateState:p,animationDelay:f,getDisplayState:X,getWeatherArea:L,getWeatherName:M,getNewsArea:_,getNewsName:R,getTodosArea:N,getTodosName:T,getPrinterArea:E,getPrinterName:H,getPrinterState:I,lang:s}):e(Bc,{device:t,isActive:m,cardRef:u,handleClick:F,getItemVariants:z,animateState:p,animationDelay:f,renderSensorValue:D,getDisplayState:X,getWeatherArea:L,getWeatherName:M,getNewsArea:_,getNewsName:R,getTodosArea:N,getTodosName:T,getPrinterArea:E,getPrinterName:H,getPrinterState:I,lang:s})});Mr.displayName="DeviceCard";const Rc=({searchValue:t,onSend:i,isLoading:n,onSuggestionClick:r,onSubmit:s,lang:o="de"})=>{const[l,a]=w([]),[c,u]=w(!1),d=Q(null);Q("");const h=Q(!1);O(()=>{d.current&&!h.current&&d.current.scrollTo({top:0,behavior:"smooth"})},[l]),O(()=>{s&&s>0&&t&&t.trim()&&v(t)},[s]);const v=f=>{if(!f||!f.trim()||c)return;const L={id:Date.now(),type:"user",content:f.trim(),timestamp:new Date().toISOString()};a(M=>[L,...M]),u(!0),setTimeout(()=>{const M={id:Date.now()+1,type:"assistant",content:b(f),badge:y(f),model:"GPT-4o mini",sources:f.toLowerCase().includes("wetter")?m():null,timestamp:new Date().toISOString()};a(_=>{const R=[..._];return R.splice(1,0,M),R}),u(!1)},1500)},b=f=>{const L=f.toLowerCase();return L.includes("licht")&&L.includes("aus")?"Ich habe alle Lichter im Wohnzimmer ausgeschaltet. Es waren 3 Lichter aktiv.":L.includes("wetter")?`Das aktuelle Wetter in M√ºnchen:
‚Ä¢ Temperatur: 22¬∞C mit teilweise bew√∂lkt
‚Ä¢ Luftfeuchtigkeit: 65%
‚Ä¢ Wind: 15 km/h aus Westen
‚Ä¢ Regenwahrscheinlichkeit: 20%`:L.includes("heizung")?"Die Heizung wurde auf 22¬∞C eingestellt. Die √Ñnderung wird in den n√§chsten 5 Minuten wirksam.":L.includes("zeit")||L.includes("uhr")?`Es ist aktuell ${new Date().toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})} Uhr.`:`Ich habe deine Anfrage "${f}" verstanden und werde dir mit deinem Smart Home helfen.`},y=f=>{const L=f.toLowerCase();return L.includes("wetter")||L.includes("weather")?{type:"web",text:W("aiMode.badges.webSearch",o),icon:"üåê"}:L.includes("zeit")||L.includes("uhr")||L.includes("time")?{type:"location",text:W("aiMode.badges.location",o),icon:"üìç"}:L.includes("licht")||L.includes("heizung")||L.includes("light")||L.includes("temperature")?{type:"device",text:W("aiMode.badges.deviceControl",o),icon:"üè†"}:{type:"assistant",text:W("aiMode.badges.assistant",o),icon:"ü§ñ"}},m=()=>[{name:"weather.com",url:"#"},{name:"wetter.de",url:"#"},{name:"dwd.de",url:"#"}],p=(f,L)=>{console.log(`Feedback f√ºr Nachricht ${f}: ${L?"Positiv":"Negativ"}`)},x=[W("aiMode.suggestions.lightsOff",o),W("aiMode.suggestions.weather",o),W("aiMode.suggestions.temperature",o)];return e("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"0 0 35px 35px",display:"flex",flexDirection:"column",overflow:"hidden"},children:[e("style",{children:`
        .ai-chat-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .ai-chat-scrollbar::-webkit-scrollbar-track {
          background: rgba(255, 255, 255, 0.05);
          border-radius: 3px;
        }
        .ai-chat-scrollbar::-webkit-scrollbar-thumb {
          background: rgba(255, 255, 255, 0.2);
          border-radius: 3px;
        }
        .ai-chat-scrollbar::-webkit-scrollbar-thumb:hover {
          background: rgba(255, 255, 255, 0.3);
        }
        
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes pulse {
          0%, 60%, 100% {
            opacity: 0.5;
            transform: scale(0.8);
          }
          30% {
            opacity: 1;
            transform: scale(1.2);
          }
        }
      `}),l.length===0?e("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px 20px",animation:"fadeIn 0.3s ease"},children:[e("h2",{style:{fontSize:"48px",fontWeight:"600",color:"rgba(255, 255, 255, 0.95)",marginBottom:"16px",letterSpacing:"-1px"},children:W("aiMode.askAnything",o)}),e("p",{style:{fontSize:"18px",color:"rgba(255, 255, 255, 0.5)",marginBottom:"48px"},children:W("aiMode.subtitle",o)}),e("div",{style:{display:"flex",gap:"20px",marginBottom:"48px"},children:[{bg:"linear-gradient(135deg, #03A9F4, #00BCD4)",icon:"üè†"},{bg:"linear-gradient(135deg, #10a37f, #1a9870)",icon:"ü§ñ"},{bg:"linear-gradient(135deg, #FF6B6B, #FF8E53)",icon:"üé¨"}].map((f,L)=>e("div",{style:{width:"72px",height:"72px",borderRadius:"18px",background:f.bg,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"32px",cursor:"pointer",transition:"transform 0.2s ease",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},onMouseEnter:M=>M.currentTarget.style.transform="scale(1.1)",onMouseLeave:M=>M.currentTarget.style.transform="scale(1)",children:f.icon},L))}),e("div",{style:{display:"flex",flexDirection:"column",gap:"12px",width:"100%",maxWidth:"450px"},children:x.map((f,L)=>e("button",{onClick:()=>r&&r(f),style:{padding:"16px 24px",background:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.15)",borderRadius:"12px",color:"rgba(255, 255, 255, 0.85)",fontSize:"15px",cursor:"pointer",transition:"all 0.2s ease",textAlign:"left"},onMouseEnter:M=>{M.currentTarget.style.background="rgba(255, 255, 255, 0.12)",M.currentTarget.style.borderColor="rgba(255, 255, 255, 0.25)",M.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:M=>{M.currentTarget.style.background="rgba(255, 255, 255, 0.08)",M.currentTarget.style.borderColor="rgba(255, 255, 255, 0.15)",M.currentTarget.style.transform="translateY(0)"},children:f},L))})]}):e("div",{ref:d,className:"ai-chat-scrollbar",style:{flex:1,overflowY:"auto",padding:"24px",display:"flex",flexDirection:"column",gap:"24px"},children:[c&&e("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"16px",animation:"fadeIn 0.3s ease"},children:[e("div",{style:{display:"flex",gap:"4px"},children:[0,1,2].map(f=>e("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"rgba(0, 122, 255, 0.6)",animation:"pulse 1.4s ease-in-out infinite",animationDelay:`${f*.2}s`}},f))}),e("span",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"14px"},children:W("aiMode.thinking",o)})]}),l.map(f=>{if(f.type==="user")return e("div",{style:{background:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"14px 18px",color:"rgba(255, 255, 255, 0.7)",fontSize:"15px",lineHeight:"1.5",animation:"fadeIn 0.3s ease"},children:f.content},f.id);if(f.type==="assistant"){const L={web:{bg:"rgba(255, 59, 48, 0.15)",color:"#FF3B30"},location:{bg:"rgba(255, 59, 48, 0.15)",color:"#FF3B30"},device:{bg:"rgba(52, 199, 89, 0.15)",color:"#34C759"},assistant:{bg:"rgba(0, 122, 255, 0.15)",color:"#007AFF"}},M=L[f.badge.type]||L.assistant;return e("div",{style:{display:"flex",flexDirection:"column",gap:"12px",animation:"fadeIn 0.3s ease"},children:[e("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 12px",borderRadius:"8px",fontSize:"13px",fontWeight:"500",background:M.bg,color:M.color},children:[e("span",{children:f.badge.icon}),e("span",{children:f.badge.text})]}),e("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"rgba(52, 199, 89, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",color:"#34C759",fontSize:"14px"},children:"‚úì"})]}),e("div",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"15px",lineHeight:"1.6",whiteSpace:"pre-wrap"},children:f.content}),f.sources&&e("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",paddingTop:"12px",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:f.sources.map((_,R)=>e("a",{href:_.url,style:{display:"flex",alignItems:"center",gap:"6px",padding:"4px 10px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"6px",fontSize:"13px",color:"rgba(255, 255, 255, 0.6)",textDecoration:"none"},children:[e("span",{style:{fontSize:"12px"},children:"üîó"}),e("span",{children:_.name}),e("span",{style:{fontSize:"10px",color:"rgba(255, 255, 255, 0.4)"},children:R+1})]},R))}),e("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:"12px",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[e("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px",color:"rgba(255, 255, 255, 0.4)"},children:[e("span",{style:{opacity:.7},children:"‚ö°"}),e("span",{children:f.model})]}),e("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e("span",{style:{fontSize:"13px",color:"rgba(255, 255, 255, 0.5)"},children:W("aiMode.wasHelpful",o)}),e("button",{onClick:()=>p(f.id,!1),style:{padding:"4px 10px",background:"transparent",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",color:"rgba(255, 255, 255, 0.6)",fontSize:"13px",cursor:"pointer"},onMouseEnter:_=>{_.currentTarget.style.borderColor="rgba(255, 59, 48, 0.5)",_.currentTarget.style.color="#FF3B30"},onMouseLeave:_=>{_.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)",_.currentTarget.style.color="rgba(255, 255, 255, 0.6)"},children:W("aiMode.no",o)}),e("button",{onClick:()=>p(f.id,!0),style:{padding:"4px 10px",background:"transparent",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",color:"rgba(255, 255, 255, 0.6)",fontSize:"13px",cursor:"pointer"},onMouseEnter:_=>{_.currentTarget.style.borderColor="rgba(52, 199, 89, 0.5)",_.currentTarget.style.color="#34C759"},onMouseLeave:_=>{_.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)",_.currentTarget.style.color="rgba(255, 255, 255, 0.6)"},children:W("aiMode.yes",o)})]})]})]},f.id)}return null})]})]})},Fn={devices:()=>e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e("rect",{x:"3",y:"3",width:"7",height:"7"}),e("rect",{x:"14",y:"3",width:"7",height:"7"}),e("rect",{x:"14",y:"14",width:"7",height:"7"}),e("rect",{x:"3",y:"14",width:"7",height:"7"})]}),sensors:()=>e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e("path",{d:"M12 22L12 2",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M20.5715 17.5498L3.42819 7.24904",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M3.42822 17.5498L20.5716 7.24904",strokeLinecap:"round",strokeLinejoin:"round"})]}),actions:()=>e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e("path",{d:"M4.40434 13.6099C3.51517 13.1448 3 12.5924 3 12C3 10.3431 7.02944 9 12 9C16.9706 9 21 10.3431 21 12C21 12.7144 20.2508 13.3705 19 13.8858"}),e("path",{d:"M12 11.01L12.01 10.9989"}),e("path",{d:"M16.8827 6C16.878 4.97702 16.6199 4.25309 16.0856 3.98084C14.6093 3.22864 11.5832 6.20912 9.32664 10.6379C7.07005 15.0667 6.43747 19.2668 7.91374 20.019C8.44117 20.2877 9.16642 20.08 9.98372 19.5"}),e("path",{d:"M9.60092 4.25164C8.94056 3.86579 8.35719 3.75489 7.91369 3.98086C6.43742 4.73306 7.06999 8.93309 9.32658 13.3619C11.5832 17.7907 14.6092 20.7712 16.0855 20.019C17.3977 19.3504 17.0438 15.9577 15.3641 12.1016"})]}),custom:()=>e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e("path",{d:"M21 7.35304L21 16.647C21 16.8649 20.8819 17.0656 20.6914 17.1715L12.2914 21.8381C12.1102 21.9388 11.8898 21.9388 11.7086 21.8381L3.30861 17.1715C3.11814 17.0656 3 16.8649 3 16.647L2.99998 7.35304C2.99998 7.13514 3.11812 6.93437 3.3086 6.82855L11.7086 2.16188C11.8898 2.06121 12.1102 2.06121 12.2914 2.16188L20.6914 6.82855C20.8818 6.93437 21 7.13514 21 7.35304Z"}),e("path",{d:"M20.5 16.7222L12.2914 12.1619C12.1102 12.0612 11.8898 12.0612 11.7086 12.1619L3.5 16.7222"}),e("path",{d:"M3.52844 7.29357L11.7086 11.8381C11.8898 11.9388 12.1102 11.9388 12.2914 11.8381L20.5 7.27777"}),e("path",{d:"M12 21L12 3"})]})},Pc=({searchValue:t,fuzzyResults:i,devices:n,activeCategory:r,selectedSubcategory:s,activeSubFilter:o,favorites:l,predictiveSuggestions:a})=>{if(t&&t.trim()!=="")return i||[];if(s==="favorites"){const c=new Set(l);return n.filter(u=>c.has(u.entity_id))}return s==="suggestions"?a?.slice(0,12)||[]:n.filter(c=>{const u=r==="all";if(r==="devices"){if((c.is_system||["settings","pluginstore"].includes(c.domain))&&c.category!=="devices"||["script","automation","scene"].includes(c.domain))return!1;const d=c.domain==="binary_sensor"&&["door","window","opening","lock"].some(m=>c.attributes?.device_class?.includes(m)||c.entity_id?.includes(m)),h=c.domain==="binary_sensor"&&["motion","presence","occupancy"].some(m=>c.attributes?.device_class?.includes(m)||c.entity_id?.includes(m));if(["sensor","binary_sensor"].includes(c.domain)&&!(s==="security"&&(d||h)))return!1;if(s==="all"||!s)return!0;const v={light:"lights",switch:"switches",climate:"climate",fan:"climate",cover:"covers",media_player:"media",vacuum:"cleaning",washing_machine:"cleaning",dishwasher:"cleaning",air_purifier:"cleaning",camera:"security",lock:"security",siren:"security",alert:"security",alarm_control_panel:"security",valve:"utilities",printer3d_device:"utilities"};if(!["lights","switches","climate","covers","media","cleaning","security","utilities"].includes(s))return c.area===s;if(s==="security")return v[c.domain]==="security"||d||h;const y=v[c.domain];return s===y}else if(r==="sensors"){if(!["sensor","binary_sensor"].includes(c.domain))return!1;if(s==="all"||!s)return!0;const d=ui(c);return["temperature","humidity","motion","door_window","presence","light","energy","battery","pressure","security","water","other_sensors"].includes(s)?d===s:c.area===s}else if(r==="actions"){if(!["script","automation","scene"].includes(c.domain))return!1;if(s==="all"||!s)return!0;const d={script:"scripts",automation:"automations",scene:"scenes"};if(!["scripts","automations","scenes"].includes(s))return c.area===s;const v=d[c.domain];return s===v}else if(r==="custom")return c.is_system||["settings","pluginstore"].includes(c.domain)?s==="all"||!s?!0:s==="system"?c.attributes?.category==="system"||c.category==="system":s==="apps"?c.domain==="pluginstore"||c.entity_id?.includes("pluginstore")||c.entity_id?.includes("plugin_")||c.attributes?.category==="apps"||c.category==="apps":!1:!1;return u})},Wc=({searchValue:t,fuzzyResults:i,currentLanguage:n})=>{if(!t||!i||i.length===0)return null;const r={},s=W("general.noRoom",n);return i.forEach(l=>{const a=l.area||s;r[a]||(r[a]=[]),r[a].push(l)}),{rooms:Object.keys(r).sort((l,a)=>l===s?1:a===s?-1:l.localeCompare(a,"de")),devicesByRoom:r}},Hc=({searchValue:t,filteredDevices:i,selectedSubcategory:n,currentLanguage:r,favorites:s,predictiveSuggestions:o})=>{if(t&&t.trim()!=="")return null;if(n==="suggestions"){const u={},d={frequentlyUsed:W("suggestions.frequentlyUsed",r),contextBased:W("suggestions.contextBased",r),timeBased:W("suggestions.timeBased",r),areaBased:W("suggestions.areaBased",r)};return o?.forEach(b=>{const y=b.suggestionType||"frequentlyUsed",m=d[y]||d.frequentlyUsed;u[m]||(u[m]=[]),u[m].push(b)}),{rooms:[d.timeBased,d.contextBased,d.areaBased,d.frequentlyUsed].filter(b=>u[b]),devicesByRoom:u}}if(n==="favorites"){const u={[W("categories.devices",r)||"Ger√§te"]:[],[W("categories.sensors",r)||"Sensoren"]:[],[W("categories.actions",r)||"Aktionen"]:[],[W("categories.custom",r)||"Benutzerdefiniert"]:[]};return i.forEach(h=>{h.is_system||["settings","pluginstore"].includes(h.domain)?u[W("categories.custom",r)||"Benutzerdefiniert"].push(h):["script","automation","scene"].includes(h.domain)?u[W("categories.actions",r)||"Aktionen"].push(h):["sensor","binary_sensor"].includes(h.domain)?u[W("categories.sensors",r)||"Sensoren"].push(h):u[W("categories.devices",r)||"Ger√§te"].push(h)}),{rooms:Object.keys(u).filter(h=>u[h].length>0),devicesByRoom:u}}const l={},a=W("general.noRoom",r);return i.forEach(u=>{const d=u.area||a;l[d]||(l[d]=[]),l[d].push(u)}),{rooms:Object.keys(l).sort((u,d)=>u===a?1:d===a?-1:u.localeCompare(d,"de")),devicesByRoom:l}},$c=({aiMode:t,showCategories:i,hoveredCategory:n,activeCategory:r,currentLanguage:s})=>t?s==="en"?"Ask a follow-up question...":s==="fr"?"Posez une question de suivi...":s==="es"?"Haz una pregunta de seguimiento...":"Stelle eine Folgefrage...":i&&n?W(`placeholders.search${n.charAt(0).toUpperCase()+n.slice(1)}`,s).replace("...",""):W(`placeholders.search${r.charAt(0).toUpperCase()+r.slice(1)}`,s).replace("...",""),Vc=t=>{const{setSearchValue:i,setFuzzySearchTerm:n,aiMode:r,devices:s,setSuggestionText:o,isExpanded:l,setIsExpanded:a,setAnimationKey:c}=t;return u=>{const d=u.target.value;if(i(d),n(d),d.length>=1&&!r){const h=d.toLowerCase(),v=s.filter(b=>(b.name||b.attributes?.friendly_name||b.entity_id||b.id||"").toLowerCase().includes(h));if(v.sort((b,y)=>{const m=(b.name||b.attributes?.friendly_name||"").toLowerCase(),p=(y.name||y.attributes?.friendly_name||"").toLowerCase(),x=m.startsWith(h),f=p.startsWith(h);if(x&&!f)return-1;if(!x&&f)return 1;const L=m.indexOf(h),M=p.indexOf(h);return L!==M?L-M:m.length-p.length}),v.length>0){const b=v[0],y=b.name||b.attributes?.friendly_name||b.entity_id||b.id||"",m=y.toLowerCase(),p=m.indexOf(h);p!==-1?(p===0||m[p-1]===" "||m[p-1]==="_"||m[p-1],o(y)):o("")}else o("");l||(a(!0),c(`expand-${Date.now()}`))}else o("")}},Oc=t=>{const{searchValue:i,setAiMode:n,setSuggestionText:r,setIsExpanded:s,setAnimationKey:o,suggestionText:l,setSearchValue:a,setFuzzySearchTerm:c,aiMode:u,setAiSubmitTrigger:d,setAiResponse:h,setIsAiLoading:v}=t;return b=>{if((b.key==="a"||b.key==="A")&&b.altKey&&i){b.preventDefault(),n(!0),r(""),s(!0),o(`back-${Date.now()}`);return}if(b.key==="Tab"&&i){b.preventDefault(),b.stopPropagation(),l&&l.toLowerCase().startsWith(i.toLowerCase())?(a(l),c(l),r("")):u||(n(!0),r(""),s(!0),o(`back-${Date.now()}`));return}else b.key==="ArrowRight"&&l&&i&&!u?l.toLowerCase().startsWith(i.toLowerCase())&&(b.preventDefault(),a(l),c(l),r("")):b.key==="Enter"&&u?(b.preventDefault(),i.trim()&&(d(y=>y+1),setTimeout(()=>{a(""),r(""),c("")},100))):b.key==="Enter"&&!u?(b.preventDefault(),i.trim()&&(n(!0),r(""),s(!0),o(`back-${Date.now()}`),setTimeout(()=>{d(y=>y+1)},100),setTimeout(()=>{a(""),c("")},150))):b.key==="Escape"&&(u?(n(!1),h(""),v(!1)):(a(""),r("")))}},jc=t=>{const{aiMode:i,isExpanded:n,setIsExpanded:r,setAnimationKey:s,setShowCategories:o,searchPanelRef:l}=t;return a=>{i||(a&&(a.stopPropagation(),a.preventDefault()),n||(r(!0),s(`expand-${Date.now()}`),l.current&&(l.current.dataset.animating="true",l.current.dataset.openTime=Date.now().toString())),o(!1))}},Uc=t=>{const{setSearchValue:i,setSuggestionText:n,setFuzzySearchTerm:r,aiMode:s,setAiMode:o,setAiResponse:l,setIsAiLoading:a}=t;return()=>{i(""),n(""),r(""),s||(o(!1),l(""),a(!1))}},Gc=t=>{const{setIsExpanded:i,setShowCategories:n,showCategories:r,setIsCategoryHovered:s}=t;return()=>{i(!1),n(!r),s(!1)}},Zc=t=>{const{activeCategory:i,setShowCategories:n,subcategoryPerCategory:r,setSelectedSubcategory:s,setActiveCategory:o,setIsExpanded:l,setAnimationKey:a}=t;return c=>{if(c===i){n(!1);return}const u=r[c]||"all";s(u),o(c),n(!1),l(!0),a(`category-${c}-${Date.now()}`)}},qc=t=>{const{setIsFilterOpen:i,isFilterOpen:n}=t;return()=>{i(!n)}},Kc=t=>{const{setSelectedSubcategory:i,setSubcategoryPerCategory:n,activeCategory:r,setAnimationKey:s}=t;return o=>{i(o),n(l=>({...l,[r]:o})),s(`${r}-${o}-${Date.now()}`)}},Yc=(t={})=>{const[i,n]=w(!1),[r,s]=w(!1),[o,l]=w(""),[a,c]=w(!1),[u,d]=w("devices"),[h,v]=w(!1),[b,y]=w("grid"),[m,p]=w("categories"),[x,f]=w("all"),[L,M]=w({devices:"all",sensors:"all",actions:"all"}),[_,R]=w(!1),[N,T]=w(!1),[E,H]=w(null);w(null);const I=Q(null),X=Q(null),D=Q(null),F=Q(!1),z=Q(!1),g=Q(!1),C=Q(!1),[A,k]=w(""),[$,P]=w(null),[q,U]=w(!1),[Y,se]=w(!1),[B,V]=w(""),[j,oe]=w(!1),[Ne,he]=w(0),[pe,J]=w("entity"),[G,ne]=w(!1),[K,ee]=w(t.aiModeEnabled!==!1),[ce,ie]=w(""),[le,Se]=w(t.language||localStorage.getItem("userLanguage")||"de");return{isExpanded:i,setIsExpanded:n,isPanelAnimationComplete:r,setIsPanelAnimationComplete:s,searchValue:o,setSearchValue:l,isFilterOpen:a,setIsFilterOpen:c,activeCategory:u,setActiveCategory:d,showCategories:h,setShowCategories:v,activeFilter:b,setActiveFilter:y,activeSubFilter:m,setActiveSubFilter:p,selectedSubcategory:x,setSelectedSubcategory:f,subcategoryPerCategory:L,setSubcategoryPerCategory:M,isMobile:_,setIsMobile:R,showDetail:N,setShowDetail:T,selectedDevice:E,setSelectedDevice:H,containerRef:I,searchPanelRef:X,resultsRef:D,detailViewClosingRef:F,backButtonClickedRef:z,isExpandedRef:g,showDetailRef:C,suggestionText:A,setSuggestionText:k,hoveredCategory:$,setHoveredCategory:P,isCategoryHovered:q,setIsCategoryHovered:U,aiMode:Y,setAiMode:se,aiResponse:B,setAiResponse:V,isAiLoading:j,setIsAiLoading:oe,aiSubmitTrigger:Ne,setAiSubmitTrigger:he,searchMode:pe,setSearchMode:J,showAIInterface:G,setShowAIInterface:ne,aiModeEnabled:K,setAiModeEnabled:ee,animationKey:ce,setAnimationKey:ie,currentLanguage:le,setCurrentLanguage:Se}},In=()=>e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e("path",{d:"M7 14C5.34315 14 4 15.3431 4 17C4 18.6569 5.34315 20 7 20C7.35064 20 7.68722 19.9398 8 19.8293"}),e("path",{d:"M4.26392 15.6046C2.9243 14.9582 2.00004 13.587 2.00004 12C2.00004 10.7883 2.53877 9.70251 3.38978 8.96898"}),e("path",{d:"M3.42053 8.8882C3.1549 8.49109 3 8.01363 3 7.5C3 6.11929 4.11929 5 5.5 5C6.06291 5 6.58237 5.18604 7.00024 5.5"}),e("path",{d:"M7.23769 5.56533C7.08524 5.24215 7 4.88103 7 4.5C7 3.11929 8.11929 2 9.5 2C10.8807 2 12 3.11929 12 4.5V20"}),e("path",{d:"M8 20C8 21.1046 8.89543 22 10 22C11.1046 22 12 21.1046 12 20"}),e("path",{d:"M12 7C12 8.65685 13.3431 10 15 10"}),e("path",{d:"M17 14C18.6569 14 20 15.3431 20 17C20 18.6569 18.6569 20 17 20C16.6494 20 16.3128 19.9398 16 19.8293"}),e("path",{d:"M19.7361 15.6046C21.0757 14.9582 22 13.587 22 12C22 10.7883 21.4612 9.70251 20.6102 8.96898"}),e("path",{d:"M20.5795 8.8882C20.8451 8.49109 21 8.01363 21 7.5C21 6.11929 19.8807 5 18.5 5C17.9371 5 17.4176 5.18604 16.9998 5.5"}),e("path",{d:"M12 4.5C12 3.11929 13.1193 2 14.5 2C15.8807 2 17 3.11929 17 4.5C17 4.88103 16.9148 5.24215 16.7623 5.56533"}),e("path",{d:"M16 20C16 21.1046 15.1046 22 14 22C12.8954 22 12 21.1046 12 20"})]}),zn=({className:t})=>e("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e("path",{d:"M15 6L9 12L15 18",strokeLinecap:"round",strokeLinejoin:"round"})}),Jc=()=>e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"rgba(255, 255, 255, 0.7)",strokeWidth:"2",children:[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),Xc=()=>e("svg",{viewBox:"0 0 24 24",children:[e("rect",{x:"5",y:"5",width:"5",height:"5"}),e("rect",{x:"14",y:"5",width:"5",height:"5"}),e("rect",{x:"5",y:"14",width:"5",height:"5"}),e("rect",{x:"14",y:"14",width:"5",height:"5"})]}),Qc=()=>e("svg",{viewBox:"0 0 24 24",children:[e("path",{d:"M8 6L20 6",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M4 6.01L4.01 5.99889",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M4 12.01L4.01 11.9989",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M4 18.01L4.01 17.9989",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M8 12L20 12",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M8 18L20 18",strokeLinecap:"round",strokeLinejoin:"round"})]}),ed=()=>e("svg",{viewBox:"0 0 24 24",children:e("path",{d:"M20.777 13.3453L13.4799 21.3721C12.6864 22.245 11.3136 22.245 10.5201 21.3721L3.22304 13.3453C2.52955 12.5825 2.52955 11.4175 3.22304 10.6547L10.5201 2.62787C11.3136 1.755 12.6864 1.755 13.4799 2.62787L20.777 10.6547C21.4705 11.4175 21.4705 12.5825 20.777 13.3453Z",strokeLinecap:"round",strokeLinejoin:"round"})}),td=()=>e("svg",{viewBox:"0 0 24 24",children:[e("path",{d:"M10 18V15C10 13.8954 10.8954 13 12 13V13C13.1046 13 14 13.8954 14 15V18","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M2 8L11.7317 3.13416C11.9006 3.04971 12.0994 3.0497 12.2683 3.13416L22 8","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M20 11V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19V11","stroke-linecap":"round","stroke-linejoin":"round"})]}),id=()=>e("svg",{viewBox:"0 0 24 24",children:[e("path",{d:"M3 13C6.6 5 17.4 5 21 13","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M12 17C10.3431 17 9 15.6569 9 14C9 12.3431 10.3431 11 12 11C13.6569 11 15 12.3431 15 14C15 15.6569 13.6569 17 12 17Z","stroke-linecap":"round","stroke-linejoin":"round"})]}),nd=()=>e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"rgba(255, 255, 255, 0.8)",strokeWidth:"1.5",children:[e("path",{d:"M3 6H21",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M7 12L17 12",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M11 18L13 18",strokeLinecap:"round",strokeLinejoin:"round"})]}),rd=({isFilterOpen:t,activeFilter:i,activeSubFilter:n,setActiveFilter:r,setActiveSubFilter:s,handleFilterToggle:o,currentLanguage:l="de"})=>e("div",{className:"filter-container",children:[e(xe,{children:t&&e(S.div,{className:"filter-groups",variants:Cs,initial:"initial",animate:"animate",exit:"exit",children:[e(S.div,{className:"filter-group",variants:St,initial:"initial",animate:St.animate(.1),exit:"exit",children:[e(S.button,{className:`filter-button ${i==="grid"?"active":""}`,onClick:()=>r("grid"),title:W("tooltips.gridView",l)||"Kachelansicht",whileHover:We.hover,whileTap:We.tap,animate:i==="grid"?"active":"inactive",variants:at,children:e(Xc,{})}),e(S.button,{className:`filter-button ${i==="list"?"active":""}`,onClick:()=>r("list"),title:W("tooltips.listView",l)||"Listenansicht",whileHover:We.hover,whileTap:We.tap,animate:i==="list"?"active":"inactive",variants:at,children:e(Qc,{})})]}),e(S.div,{className:"filter-group",variants:St,initial:"initial",animate:St.animate(.2),exit:"exit",children:[e(S.button,{className:`filter-button ${n==="categories"?"active":""}`,onClick:()=>s("categories"),title:W("tooltips.filterCategories",l)||"Nach Kategorien filtern",whileHover:We.hover,whileTap:We.tap,animate:n==="categories"?"active":"inactive",variants:at,children:e(ed,{})}),e(S.button,{className:`filter-button ${n==="areas"?"active":""}`,onClick:()=>s("areas"),title:W("tooltips.filterAreas",l)||"Nach R√§umen filtern",whileHover:We.hover,whileTap:We.tap,animate:n==="areas"?"active":"inactive",variants:at,children:e(td,{})}),e(S.button,{className:`filter-button ${n==="types"?"active":""}`,onClick:()=>s("types"),title:W("tooltips.filterTypes",l)||"Nach Typen filtern",whileHover:We.hover,whileTap:We.tap,animate:n==="types"?"active":"inactive",variants:at,children:e(id,{})})]})]})}),e(S.button,{className:`filter-main-button${t?" active":""}`,variants:vs,initial:"inactive",animate:t?"active":"inactive",onClick:o,whileHover:"hover",whileTap:"tap",title:W("tooltips.toggleFilter",l)||"Filter √∂ffnen/schlie√üen",children:e(nd,{})})]}),Bn=({groupedData:t,isEmpty:i=!1,searchValue:n="",activeFilter:r,setSelectedDevice:s,setShowDetail:o,isExpanded:l,setIsExpanded:a,setAnimationKey:c,recordUserAction:u,currentLanguage:d,animationKey:h,isPanelAnimationComplete:v})=>{if(i)return e("div",{className:"grouped-search-results",children:e("div",{className:"empty-state",children:[e("div",{style:{fontSize:"32px",opacity:.5},children:"üîç"}),e("h3",{style:{fontSize:"16px",fontWeight:600,color:"var(--text-primary)",margin:0},children:W("search.noResults",d,{term:n})}),e("p",{style:{fontSize:"13px",opacity:.7,margin:0},children:W("search.tryDifferent",d)})]})});if(!t||!t.rooms)return null;const b=(y,m)=>{console.log("üéØ GroupedDeviceList onClick:",{entity_id:y.entity_id,domain:y.domain,is_system:y.is_system,is_plugin:y.is_plugin,fullDevice:y});let p=null;if(m&&m.currentTarget){const x=m.currentTarget.getBoundingClientRect();p={top:x.top,left:x.left,width:x.width,height:x.height,centerX:x.left+x.width/2,centerY:x.top+x.height/2},console.log("üìç Card position captured:",p)}s({...y,_cardPosition:p}),o(!0),l||(a(!0),c(`back-${Date.now()}`)),u&&typeof u=="function"&&u("device_click",y.entity_id||y.id)};return e("div",{className:"grouped-search-results",children:t.rooms.map((y,m)=>{const p=t.devicesByRoom[y],x=t.rooms.map(f=>t.devicesByRoom[f].length);return e("div",{className:"search-group",children:[e("h3",{className:"search-group-title",children:y}),e("div",{className:`${r==="list"?"device-list-container":"device-grid-container"}`,children:p.map((f,L)=>e(Mr,{device:f,viewMode:r,onClick:M=>b(f,M),index:L,lang:d,animationKey:h,roomIndex:m,itemsPerRoom:x,isPanelAnimationComplete:v},f.id))})]},y)})})},sd=({aiMode:t,searchValue:i,suggestionText:n,showCategories:r,hoveredCategory:s,activeCategory:o,currentLanguage:l,isExpanded:a,isFilterOpen:c,aiModeEnabled:u,categoryIcons:d,setAiMode:h,setAiResponse:v,setIsAiLoading:b,setIsExpanded:y,setIsCategoryHovered:m,setSuggestionText:p,setAnimationKey:x,handleSearchInput:f,handleKeyDown:L,handleSearchFocus:M,handleClear:_,handleCategoryClick:R})=>{const N=I=>{h(!1),v(""),b(!1),y(!1),m(!1),setTimeout(()=>{m(!1)},10)},T=I=>{R(),m(!1),setTimeout(()=>{m(!1)},10)},E=I=>{I.stopPropagation(),console.log("üü¢ AI-Mode Button clicked"),y(!0),h(!0),p(""),x(`ai-mode-${Date.now()}`)},H=I=>{I.stopPropagation(),I.preventDefault(),!a&&!t&&(y(!0),x(`expand-${Date.now()}`))};return e(fe,{children:[e("div",{className:`category-icon ${t?"ai-active":""}`,onClick:t?N:T,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),title:t?"AI-Modus beenden":"",children:t?e(fe,{children:[e("div",{className:"default-icon",children:e(In,{})}),e(zn,{className:"chevron-icon"})]}):e(fe,{children:[e("div",{className:"default-icon",children:r&&s?d[s]():d[o]()}),e(zn,{className:"chevron-icon"})]})}),e("div",{className:"search-input-container",children:[e("input",{type:"text",className:"search-suggestion",value:n,readOnly:!0,tabIndex:"-1","aria-hidden":"true"}),e("input",{type:"text",className:"search-input",placeholder:$c({aiMode:t,showCategories:r,hoveredCategory:s,activeCategory:o,currentLanguage:l}),value:i,onChange:f,onKeyDown:L,onFocus:M,onClick:H})]}),e(xe,{children:i&&e(S.button,{className:"clear-button",onClick:_,variants:xt,initial:"initial",animate:{...xt.animate,x:c?-260:0},exit:"exit",whileHover:$i.hover,whileTap:$i.tap,children:e(Jc,{})})}),e(xe,{children:i&&!t&&u&&e(S.button,{className:"ai-mode-button",onClick:E,title:"AI-Modus aktivieren",variants:xt,initial:"initial",animate:{...xt.animate,x:c?-260:0},exit:"exit",whileHover:Wi.hover,whileTap:Wi.tap,children:e(In,{})})})]})},od=({handleGenerateTestData:t,predictiveSuggestions:i})=>window.location.hostname!=="localhost"?null:e("div",{style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9999,display:"flex",gap:"10px",flexDirection:"column",alignItems:"flex-end"},children:[e("button",{onClick:t,style:{padding:"10px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"20px",cursor:"pointer",fontSize:"14px",fontWeight:"600",boxShadow:"0 4px 15px rgba(0,0,0,0.2)"},children:"üß™ Generate Test Patterns"}),e("div",{style:{padding:"10px",background:"rgba(0,0,0,0.8)",color:"white",borderRadius:"10px",fontSize:"12px"},children:[e("div",{children:["Predictive Suggestions: ",i.length]}),e("div",{style:{fontSize:"10px",opacity:.7},children:"Refresh in 5min or click button"})]})]}),ad=({showCategories:t,categoryIcons:i,activeCategory:n,handleCategorySelect:r,setHoveredCategory:s})=>e(xe,{children:t&&e(S.div,{className:"category-buttons-container",variants:xs,initial:"hidden",animate:"visible",exit:"hidden",children:e("div",{className:"category-buttons",children:Object.entries(i).map(([o,l])=>{const a=n===o;return e(S.button,{className:`category-button glass-panel ${a?"active":""}`,onClick:()=>r(o),onMouseEnter:()=>s(o),onMouseLeave:()=>s(null),title:o.charAt(0).toUpperCase()+o.slice(1),variants:ys,whileHover:a?{}:Hi.hover,whileTap:Hi.tap,animate:bs(a),style:{color:a?"rgba(0, 0, 0, 0.85)":"rgba(255, 255, 255, 0.9)"},children:l()},o)})})})}),ld=({aiMode:t,isExpanded:i,centralPanelVariants:n,searchValue:r,sendToAI:s,aiResponse:o,isAiLoading:l,handleAISuggestionClick:a,searchPanelRef:c,aiSubmitTrigger:u,currentLanguage:d})=>{const h={collapsed:{height:0,opacity:0,transition:{duration:.4,ease:[.16,1,.3,1]}},expanded:{height:600,opacity:1,transition:{duration:.4,ease:[.16,1,.3,1]}}};return e(xe,{children:t&&e(S.div,{initial:"collapsed",animate:"expanded",exit:"collapsed",variants:h,style:{position:"absolute",top:"72px",left:0,right:0,zIndex:1e3,pointerEvents:"auto",overflow:"hidden"},children:e(Rc,{searchValue:r,onSend:s,response:o,isLoading:l,onSuggestionClick:a,containerBounds:c.current?c.current.getBoundingClientRect():null,onSubmit:u,lang:d})})})},cd=({showDetail:t,selectedDevice:i,setShowDetail:n,setAnimationKey:r,toggleFavorite:s,recordUserAction:o,favorites:l,currentLanguage:a,initialTab:c,devices:u,setSelectedDevice:d,setInitialTab:h,hass:v,isMobile:b,position:y,hasAppeared:m,statsBarEnabled:p})=>{const[x,f]=w(!1);O(()=>{t&&f(!0)},[t]);const L=()=>{f(!1),setTimeout(()=>{n(!1),r(`back-${Date.now()}`)},400)},M=E=>{s(E),o("toggle_favorite",E)},_=async(E,H,I)=>{if(!v)return console.warn("Home Assistant not available"),Promise.reject("Home Assistant not available");try{const X=await Un(v,E,H,I);return console.log(`Service call successful: ${E}.${H}`,I),X}catch(X){throw console.error(`Service call failed: ${E}.${H}`,X),X}},R=(E,H)=>{console.log("[SearchField] onActionNavigate received:",E,"Params:",H);let I=null;if(typeof E=="string"){if(console.log(`[SearchField] Finding device by ID: ${E}`),I=u.find(D=>D.entity_id===E||D.id===E),!I){console.error(`[SearchField] Could not find device with ID: ${E}`);return}}else typeof E=="object"&&E!==null&&(console.log("[SearchField] Received device/action object:",E),E.type&&["scene","script","automation"].includes(E.type)?I={id:E.id,entity_id:E.id,domain:E.type,name:E.name,area:E.area,state:"ready",attributes:{friendly_name:E.name,icon:E.icon}}:I={id:E.entity_id||E.id,entity_id:E.entity_id,domain:E.domain,name:E.attributes?.friendly_name||E.name,area:E.area,state:E.state,attributes:E.attributes});if(!I){console.error("[SearchField] Could not determine target device from:",E);return}const X=H?.openTab||null;console.log(`[SearchField] Setting device: ${I.name}, initial tab: ${X}`),d(I),h(X),t||n(!0),o("navigation",{target:I.entity_id||I.id,initialTab:X})},N=p?b?45:47:0,T=y==="centered"?b?60:120:0;return e(fe,{children:t&&e(S.div,{className:"detail-panel-wrapper",style:{top:`${N}px`},initial:{y:0,opacity:0},animate:{y:m?T:0,opacity:m?1:0},transition:{y:{type:"spring",stiffness:260,damping:20,mass:.8},opacity:{duration:.3,ease:[.16,1,.3,1]}},children:e(tc,{item:{entity_id:i?.id||i?.entity_id,id:i?.id,domain:i?.domain,name:i?.name,area:i?.area,state:i?.state,attributes:i?.attributes||{friendly_name:i?.name}},isVisible:x,onBack:L,onToggleFavorite:M,onServiceCall:_,isFavorite:l.has(i?.entity_id)||l.has(i?.id),lang:a,initialTabName:c,onActionNavigate:R,hass:v})})})},dd=()=>{const{isInitialized:t,isLoading:i,recordUserAction:n,generateTestPatterns:r}=Re(),[s]=Si(),[o,l]=go(),[a,c]=Qn(),[u,d,h]=vo(),[v]=fo(),b=s||[],y=Yc(a),{isExpanded:m,setIsExpanded:p,isPanelAnimationComplete:x,setIsPanelAnimationComplete:f,searchValue:L,setSearchValue:M,isFilterOpen:_,setIsFilterOpen:R,activeCategory:N,setActiveCategory:T,showCategories:E,setShowCategories:H,activeFilter:I,setActiveFilter:X,activeSubFilter:D,setActiveSubFilter:F,selectedSubcategory:z,setSelectedSubcategory:g,subcategoryPerCategory:C,setSubcategoryPerCategory:A,isMobile:k,setIsMobile:$,showDetail:P,setShowDetail:q,initialTab:U,setInitialTab:Y,selectedDevice:se,setSelectedDevice:B,containerRef:V,searchPanelRef:j,resultsRef:oe,isExpandedRef:Ne,showDetailRef:he,suggestionText:pe,setSuggestionText:J,hoveredCategory:G,setHoveredCategory:ne,setIsCategoryHovered:K,aiMode:ee,setAiMode:ce,aiResponse:ie,setAiResponse:le,isAiLoading:Se,setIsAiLoading:Te,aiSubmitTrigger:Je,setAiSubmitTrigger:Xe,aiModeEnabled:Qe,setAiModeEnabled:ae,animationKey:ue,setAnimationKey:ke,currentLanguage:ve,setCurrentLanguage:ge}=y,[st,Ei]=w(!1),[Pe,Ti]=w("centered"),[et,Er]=w(!1),[wt,Tr]=w(()=>{try{const ye=JSON.parse(localStorage.getItem("systemSettings")||"{}").appearance||{};return{enabled:ye.statsBarEnabled!==!1,username:ye.statsBarUsername||"User"}}catch{return{enabled:!0,username:"User"}}}),[Ar,Dr]=w(()=>{try{return{enabled:(JSON.parse(localStorage.getItem("systemSettings")||"{}").appearance||{}).greetingsBarEnabled!==!1}}catch{return{enabled:!0}}});O(()=>{const re=ye=>{Tr(Ue=>({...Ue,enabled:ye.detail}))};return window.addEventListener("statsBarEnabledChanged",re),()=>window.removeEventListener("statsBarEnabledChanged",re)},[]),O(()=>{const re=ye=>{Dr(Ue=>({...Ue,enabled:ye.detail}))};return window.addEventListener("greetingsBarEnabledChanged",re),()=>window.removeEventListener("greetingsBarEnabledChanged",re)},[]),O(()=>{const re=setTimeout(()=>{Er(!0)},100);return()=>clearTimeout(re)},[]);const Ai=Q(m);O(()=>{const re=Ai.current;Ai.current=m,re&&!m&&!E&&Pe==="top"&&setTimeout(()=>{Ti("centered")},400)},[m,E,Pe]);const Fr=re=>{re&&(window.__fastSearchToastContainer=re)},{setSearchTerm:qt,results:ot,getSuggestions:Ir}=rc(b);Ir(L,5);const zr=Vc({setSearchValue:M,setFuzzySearchTerm:qt,aiMode:ee,devices:b,setSuggestionText:J,isExpanded:m,setIsExpanded:p,setAnimationKey:ke}),Br=Oc({searchValue:L,setAiMode:ce,setSuggestionText:J,setIsExpanded:p,setAnimationKey:ke,suggestionText:pe,setSearchValue:M,setFuzzySearchTerm:qt,aiMode:ee,setAiSubmitTrigger:Xe,setAiResponse:le,setIsAiLoading:Te}),Di=jc({aiMode:ee,isExpanded:m,setIsExpanded:p,setAnimationKey:ke,setShowCategories:H,searchPanelRef:j}),Rr=(...re)=>{Pe==="centered"?(Ti("top"),Di(...re)):Di(...re)},Pr=Uc({setSearchValue:M,setSuggestionText:J,setFuzzySearchTerm:qt,aiMode:ee,setAiMode:ce,setAiResponse:le,setIsAiLoading:Te}),Wr=Gc({setIsExpanded:p,setShowCategories:H,showCategories:E,setIsCategoryHovered:K}),Hr=Zc({activeCategory:N,setShowCategories:H,subcategoryPerCategory:C,setSelectedSubcategory:g,setActiveCategory:T,setIsExpanded:p,setAnimationKey:ke}),$r=qc({setIsFilterOpen:R,isFilterOpen:_}),Vr=Kc({setSelectedSubcategory:g,setSubcategoryPerCategory:A,activeCategory:N,setAnimationKey:ke});O(()=>{const re=C[N]||"all";g(re)},[N]),O(()=>{const re=()=>{$(window.innerWidth<=768)};return re(),window.addEventListener("resize",re),()=>window.removeEventListener("resize",re)},[]),O(()=>{if(ue){const re=setTimeout(()=>{ke("")},3e3);return()=>clearTimeout(re)}},[ue]);const Or=async()=>{window.location.hostname==="localhost"&&(await r(),await h())};O(()=>{const re=ye=>{ae(ye.detail.enabled),c("aiModeEnabled",ye.detail.enabled)};return window.addEventListener("aiModeSettingChanged",re),()=>{window.removeEventListener("aiModeSettingChanged",re)}},[c]),O(()=>{Ne.current=m,he.current=P},[m,P]),O(()=>{ee&&(console.log("üîß AI-Mode aktiviert - Panel wird expanded"),p(!0))},[ee]),O(()=>{const re=ye=>{ge(ye.detail.language),c("language",ye.detail.language)};return window.addEventListener("languageChanged",re),()=>{window.removeEventListener("languageChanged",re)}},[c]),O(()=>{const re=ye=>{if(he.current||!Ne.current)return;const Ue=ye.composedPath();V.current&&!Ue.includes(V.current)&&p(!1)};return document.addEventListener("click",re,!0),()=>{document.removeEventListener("click",re,!0)}},[]);const jr=async re=>{Te(!0),setTimeout(()=>{const ye=["Ich habe alle Lichter im Wohnzimmer ausgeschaltet. Es waren 3 Lichter aktiv.","Die Temperatur im Schlafzimmer betr√§gt aktuell 21¬∞C. Die Heizung ist auf 22¬∞C eingestellt.",`Ich habe eine neue Szene "${re}" erstellt mit gedimmtem Licht und entspannter Atmosph√§re.`,"Folgende Ger√§te verbrauchen aktuell Strom: K√ºhlschrank (85W), TV Wohnzimmer (120W), Router (15W).","Die Haust√ºr ist seit 15:30 Uhr verschlossen. Alle Fenster sind ebenfalls geschlossen."],Ue=ye[Math.floor(Math.random()*ye.length)];le(Ue),Te(!1)},1500)},Ur=re=>{M(re),setTimeout(()=>{Xe(ye=>ye+1)},50)},Ct=Le(()=>Pc({searchValue:L,fuzzyResults:ot,devices:b,activeCategory:N,selectedSubcategory:z,activeSubFilter:D,favorites:o,predictiveSuggestions:u}),[L,ot,b,N,z,D,o,u]),Fi=Le(()=>Wc({searchValue:L,fuzzyResults:ot,currentLanguage:ve}),[L,ot,ve]),Kt=Le(()=>Hc({searchValue:L,filteredDevices:Ct,selectedSubcategory:z,currentLanguage:ve,favorites:o,predictiveSuggestions:u}),[L,Ct,z,ve,o,u]);O(()=>{window.DEBUG_groupedFilteredDevices=Kt,window.DEBUG_filteredDevices=Ct,window.DEBUG_activeCategory=N,window.DEBUG_selectedSubcategory=z,window.DEBUG_isExpanded=m,window.DEBUG_showDetail=P},[Kt,Ct,N,z,m,P,L]),Le(()=>!o||o.size===0?[]:b.filter(re=>o.has(re.entity_id)||o.has(re.id)),[o,b]);const Gr=Le(()=>{if(!b||b.length===0)return null;const re=b.filter(ye=>ye.domain==="weather"&&ye.entity_id!=="weather.system"&&ye.attributes&&(ye.attributes.temperature!==void 0||ye.attributes.current_temperature!==void 0));return console.log("üå§Ô∏è Found weather entities:",re.map(ye=>({id:ye.entity_id,temp:ye.attributes?.temperature||ye.attributes?.current_temperature,state:ye.state}))),re[0]||null},[b]),Zr=Le(()=>b.find(re=>re.entity_id?.includes("power")||re.entity_id?.includes("energy")||re.domain==="sensor"&&(re.name?.toLowerCase().includes("power")||re.name?.toLowerCase().includes("energy")))||null,[b]),qr=0;return!t&&b.length===0?e("div",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:e("div",{className:"glass-panel",style:{padding:"20px 40px",borderRadius:"35px",background:"radial-gradient(circle at 50% 0%, rgba(255, 255, 255, 0.25), rgba(255, 255, 255, 0.15) 70%), rgba(40, 40, 40, 0.85)",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.15)",color:"rgba(255, 255, 255, 0.7)",fontSize:"16px"},children:i?e("span",{children:["‚è≥ ",W("general.loading",ve)||"Lade Ger√§te..."]}):e("span",{children:["üîÑ ",W("general.initializing",ve)||"Initialisiere..."]})})}):e("div",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',background:window.location.hostname==="localhost"?"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)":"transparent",minHeight:window.location.hostname==="localhost"?"100vh":"auto",padding:window.location.hostname==="localhost"?"40px 20px":"0",position:"relative"},children:[e("div",{id:"toast-container",ref:Fr}),e("div",{className:"main-container",ref:V,children:[e(od,{handleGenerateTestData:Or,predictiveSuggestions:u}),e(ic,{username:wt.username,weatherEntity:Gr,powerEntity:Zr,hass:v,notificationCount:qr,show:wt.enabled,isMobile:k,position:Pe,hasAppeared:et}),e(nc,{username:v?.user?.name||wt.username,show:Ar.enabled,isExpanded:m||Pe==="top",currentLanguage:ve,isMobile:k,position:Pe,hasAppeared:et}),e("div",{className:"search-row",children:[e(S.div,{className:`search-panel glass-panel ${P?"hidden":""} ${ee?"ai-mode":""}`,ref:j,initial:{height:k?57:72,y:0,opacity:0},animate:{height:m||ee?672:k?57:72,y:et&&Pe==="centered"?k?60:120:0,opacity:et?1:0,boxShadow:Pe==="centered"?"0 8px 32px rgba(0, 0, 0, 0.12)":"0 20px 60px rgba(0, 0, 0, 0.25)"},transition:{height:{duration:.4,ease:[.16,1,.3,1]},y:{type:"spring",stiffness:260,damping:20,mass:.8},opacity:{duration:.6,ease:[.16,1,.3,1]},boxShadow:{duration:.4,ease:[.16,1,.3,1]}},children:[e("div",{className:"search-wrapper",children:[e(sd,{aiMode:ee,searchValue:L,suggestionText:pe,showCategories:E,hoveredCategory:G,activeCategory:N,currentLanguage:ve,isExpanded:m,isFilterOpen:_,aiModeEnabled:Qe,categoryIcons:Fn,setAiMode:ce,setAiResponse:le,setIsAiLoading:Te,setIsExpanded:p,setIsCategoryHovered:K,setSuggestionText:J,setAnimationKey:ke,handleSearchInput:zr,handleKeyDown:Br,handleSearchFocus:Rr,handleClear:Pr,handleCategoryClick:Wr}),!ee&&e(rd,{isFilterOpen:_,activeFilter:I,activeSubFilter:D,setActiveFilter:X,setActiveSubFilter:F,handleFilterToggle:$r,currentLanguage:ve})]}),e(ld,{aiMode:ee,isExpanded:m,centralPanelVariants:Pi,searchValue:L,sendToAI:jr,aiResponse:ie,isAiLoading:Se,handleAISuggestionClick:Ur,searchPanelRef:j,aiSubmitTrigger:Je,currentLanguage:ve}),e(S.div,{ref:oe,className:"results-container",initial:"collapsed",animate:m?"expanded":"collapsed",variants:Pi,onAnimationComplete:()=>{f(!!m)},onMouseEnter:()=>Ei(!0),onMouseLeave:()=>Ei(!1),style:{display:ee?"none":m?"block":"none"},children:e(fe,{children:[m&&!L&&e("div",{style:{marginBottom:"16px"},children:[" ",e(zs,{activeCategory:N,items:b.filter(re=>N==="devices"?!["script","automation","scene","sensor","binary_sensor","settings","marketplace"].includes(re.domain):N==="sensors"?["sensor","binary_sensor"].includes(re.domain):N==="actions"?["script","automation","scene"].includes(re.domain):N==="custom"?["settings","marketplace"].includes(re.domain):!1).map(re=>({...re,isFavorite:o.has(re.entity_id)||o.has(re.id)})),mode:D==="areas"?"areas":"categories",onSubcategoryChange:Vr,lang:ve,activeSubcategory:z,suggestions:u,hasSuggestions:u.length>0})]}),L&&Fi?e(Bn,{groupedData:Fi,isEmpty:ot.length===0,searchValue:L,activeFilter:I,setSelectedDevice:B,setShowDetail:q,isExpanded:m,setIsExpanded:p,setAnimationKey:ke,recordUserAction:n,currentLanguage:ve,animationKey:ue,isPanelAnimationComplete:x}):L?null:e(Bn,{groupedData:Kt,activeFilter:I,setSelectedDevice:B,setShowDetail:q,isExpanded:m,setIsExpanded:p,setAnimationKey:ke,recordUserAction:n,currentLanguage:ve,animationKey:ue,isPanelAnimationComplete:x})]})}),e(_e,{scrollContainerRef:oe,isHovered:st})]}),e(S.div,{animate:{y:et&&Pe==="centered"?k?60:120:0},transition:{y:{duration:.3,ease:[.16,1,.3,1]}},children:e(ad,{showCategories:E,categoryIcons:Fn,activeCategory:N,handleCategorySelect:Hr,setHoveredCategory:ne})})]}),e(cd,{showDetail:P,selectedDevice:se,setShowDetail:q,setAnimationKey:ke,toggleFavorite:l,recordUserAction:n,favorites:o,currentLanguage:ve,initialTab:U,devices:b,setSelectedDevice:B,setInitialTab:Y,hass:v,isMobile:k,position:Pe,hasAppeared:et,statsBarEnabled:wt.enabled})]})]})},ud=typeof window<"u"&&window.location?.hostname==="localhost";let Ot=[];ud?(Ot=[{entity_id:"light.test_device",domain:"light",name:"Test Light",area:"Test Room",state:"on",attributes:{brightness:180,friendly_name:"Test Light",supported_features:1},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()}],console.log("[MockDevices] Development mode - loaded mock data")):console.log("[MockDevices] Production mode - no mock data");const hd=()=>{const{db:t,isInitialized:i}=Re();O(()=>{i&&n()},[i]);const n=async()=>{try{const s=(await t.getAll("entities")).some(o=>o.entity_id==="light.test_device");if(!s&&Ot.length>0){console.log(`[MockDataMigration] Adding ${Ot.length} mock devices...`);for(const o of Ot)await t.put("entities",{...o,entity_id:o.entity_id||o.id});console.log("[MockDataMigration] Mock devices added successfully!"),window.location.reload()}else console.log(s?"[MockDataMigration] Mock device already exists":"[MockDataMigration] No mock devices to add")}catch(r){console.error("[MockDataMigration] Error migrating mock data:",r)}};return null},Rn=["¬∑","‚ú¢","‚ú≥","‚ú∂","‚úª","‚úΩ"],$t=[{step:"Initializing...",progress:0},{step:"Loading Settings...",progress:25},{step:"DataProvider...",progress:50},{step:"FramerMotion...",progress:75},{step:"Ready...",progress:100}],pd=({progress:t,isComplete:i})=>{const[n,r]=w(0),[s,o]=w(!0),l=()=>{for(let a=$t.length-1;a>=0;a--)if(t>=$t[a].progress)return $t[a].step;return $t[0].step};return O(()=>{const a=setInterval(()=>{r(c=>{let u=c,d=s;return c>=Rn.length-1?(d=!1,u=c-1):c<=0?(d=!0,u=c+1):u=d?c+1:c-1,o(d),u})},250);return()=>clearInterval(a)},[s]),e(xe,{children:!i&&e(S.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4,ease:[.4,0,.2,1]},style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"rgba(0, 0, 0, 0.4)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",zIndex:999999},children:[e("style",{children:`
            .loading-container {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 40px;
              width: 100%;
              max-width: 400px;
              padding: 0 20px;
            }

            .thinking-text-container {
              display: flex;
              align-items: center;
              gap: 8px;
              font-family: "SF Mono", "Monaco", "Courier New", Courier, monospace;
            }

            .thinking-symbol {
              color: rgba(255, 255, 255, 0.8);
              font-size: 24px;
              line-height: 1.5em;
              height: 1.5em;
              text-align: center;
              min-width: 24px;
            }

            .thinking-step {
              color: rgba(255, 255, 255, 0.8);
              font-size: 16px;
              line-height: 1.5em;
              height: 1.5em;
              white-space: nowrap;
            }

            .progress-bar-container {
              width: 100%;
              max-width: 400px;
              height: 4px;
              border-radius: 4px;
              background: rgba(255, 255, 255, 0.2);
              overflow: hidden;
            }

            .progress-bar-fill {
              height: 100%;
              background: rgba(255, 255, 255, 0.9);
              border-radius: 4px;
              transition: width 0.4s cubic-bezier(0.4, 0.0, 0.2, 1.0);
            }
          `}),e("div",{className:"loading-container",children:[e("div",{className:"thinking-text-container",children:[e("span",{className:"thinking-symbol",children:Rn[n]}),e("span",{className:"thinking-step",children:l()})]}),e("div",{className:"progress-bar-container",children:e("div",{className:"progress-bar-fill",style:{width:`${t}%`}})})]})]})})},md=()=>{const[t,i]=w("auto"),[n,r]=w(0),[s,o]=w("black");O(()=>{const a=localStorage.getItem("darkMode")||"auto";i(a),l(a);const c=u=>{const d=u.detail.mode;i(d),l(d)};return window.addEventListener("darkModeChanged",c),()=>window.removeEventListener("darkModeChanged",c)},[]);const l=a=>{let c=0,u="black";if(a==="dark")c=.4,u="black";else if(a==="light")c=.2,u="white";else if(a==="auto"){const d=new Date().getHours();d>=20||d<6?(c=.4,u="black"):(c=0,u="black")}r(c),o(u)};return e("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:s,opacity:n,pointerEvents:"none",zIndex:0,backdropFilter:t!=="auto"||n>0?"blur(8px)":"none",WebkitBackdropFilter:t!=="auto"||n>0?"blur(8px)":"none",transition:"opacity 0.5s ease, background 0.5s ease, backdrop-filter 0.5s ease"}})};function wi({hass:t,config:i}){const n=!t&&window.location.hostname==="localhost",[r,s]=w(0),[o,l]=w(!1);return O(()=>{(async()=>{try{s(0),await new Promise(u=>setTimeout(u,500)),s(25);const c=localStorage.getItem("systemSettings");if(c){const d=JSON.parse(c).appearance||{},h=d.gridColumns||4;document.documentElement.style.setProperty("--device-grid-columns",h);const v=d.squircleStyle||"none";if(v!=="none"){const{getSquircleClipPath:f}=await Oe(async()=>{const{getSquircleClipPath:M}=await Promise.resolve().then(()=>Nl);return{getSquircleClipPath:M}},void 0),L=f(v);L&&document.documentElement.style.setProperty("--card-clip-path",L)}const b=d.backgroundBrightness||100,y=d.backgroundBlur||0,m=d.backgroundContrast||100,p=d.backgroundSaturation||100,x=d.backgroundGrayscale||0;document.documentElement.style.setProperty("--background-brightness",`${b}%`),document.documentElement.style.setProperty("--background-blur",`${y}px`),document.documentElement.style.setProperty("--background-contrast",`${m}%`),document.documentElement.style.setProperty("--background-saturation",`${p}%`),document.documentElement.style.setProperty("--background-grayscale",`${x}%`)}await new Promise(u=>setTimeout(u,1e3)),s(50),await new Promise(u=>setTimeout(u,1e3)),s(75),await new Promise(u=>setTimeout(u,1e3)),s(100),await new Promise(u=>setTimeout(u,1500)),l(!0)}catch(c){console.error("Failed to load app:",c),s(100),l(!0)}})()},[]),e(fe,{children:[e(pd,{progress:r,isComplete:o}),e(md,{}),e(mo,{hass:t,config:i,children:[n&&e(hd,{}),e("div",{style:{position:"relative",width:"100%",background:"transparent",opacity:o?1:0,transition:"opacity 0.4s cubic-bezier(0.4, 0.0, 0.2, 1.0)"},children:e(dd,{})})]})]})}document.getElementById("app")&&Vt(e(wi,{}),document.getElementById("app"));typeof window<"u"&&(window.FastSearchCardApp={mount:function(t,i,n){console.log("[FastSearchCardApp] Mounting Preact app..."),t.innerHTML="";const r=document.createElement("div");r.id="fast-search-card-root",r.style.width="100%",r.style.height="672px",r.style.minHeight="672px",t.appendChild(r),t.__fastSearchCardRoot=r,Vt(e(wi,{hass:i,config:n}),r),console.log("[FastSearchCardApp] Preact app mounted")},updateHass:function(t,i){const n=t.__fastSearchCardRoot;n?Vt(e(wi,{hass:i,config:t.__config}),n):console.warn("[FastSearchCardApp] No root element found for update")},unmount:function(t){console.log("[FastSearchCardApp] Unmounting...");const i=t.__fastSearchCardRoot;i&&(Vt(null,i),t.removeChild(i),delete t.__fastSearchCardRoot,delete t.__config),console.log("[FastSearchCardApp] Unmounted")}},console.log("[FastSearchCardApp] Interface registered globally"));export{_e as C,vd as D,Qt as E,bd as H,wd as P,gi as S,qo as T,ln as U,Cd as W,Oe as _,yi as a,kd as b,nn as c,ol as d,jt as e,yd as f,Lr as g,Z as l,me as s,W as t};

// Final checks
if (!window.FastSearchCardApp) {
  console.error('[FastSearchCard] App interface not found after bundle load!');
}
