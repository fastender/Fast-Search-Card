// Fast Search Card - Custom Element Wrapper
// Auto-generated by build.sh

// Custom Element Definition
class FastSearchCardElement extends HTMLElement {
  constructor() {
    super();
    this.attachShadow({ mode: 'open' });
    this._config = {};
    this._hass = null;
    this._initialized = false;
    this._appMounted = false;
  }

  setConfig(config) {
    this._config = config;
    if (!this._initialized) {
      this._render();
    }
  }

  set hass(hass) {
    this._hass = hass;
    if (this._appMounted && window.FastSearchCardApp) {
      window.FastSearchCardApp.updateHass(this._root, hass);
    }
  }

  connectedCallback() {
    if (!this._initialized) {
      this._render();
    }
  }

  disconnectedCallback() {
    if (this._appMounted && window.FastSearchCardApp) {
      window.FastSearchCardApp.unmount(this._root);
      this._appMounted = false;
    }
  }

  _render() {
    if (this._initialized) return;
    this._initialized = true;

    // Shadow DOM Content mit Blur-Wrapper
    this.shadowRoot.innerHTML = '<style>' +
      ':host { display: block; position: relative; border-radius: 35px; overflow: visible; }' +
      '.card-blur-container { position: relative; border-radius: 35px; overflow: hidden; isolation: isolate; max-width: 1000px; margin: 0 auto; }' +
      '.card-blur-background { position: absolute; top: 1px; left: 1px; right: 1px; bottom: 1px; backdrop-filter: blur(20px) saturate(180%); -webkit-backdrop-filter: blur(20px) saturate(180%); background: radial-gradient(circle at 50% 0%, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.03) 70%), rgba(30, 30, 30, 0.4); border-radius: 34px; z-index: -1; pointer-events: none; }' +
      '.card-content { position: relative; z-index: 1; }' +
      '.glass-panel { background: transparent !important; border: 1px solid rgba(255, 255, 255, 0.12) !important; box-shadow: none !important; }' +
      '.glass-panel:before { content: none !important; display: none !important; }' +
      '.glass-panel:after { content: none !important; display: none !important; }' +
      '</style>' +
      '<div class="card-blur-container">' +
        '<div class="card-blur-background"></div>' +
        '<div class="card-content">' +
          '<div id="root"></div>' +
        '</div>' +
      '</div>';

    console.log('[FastSearchCard] Shadow DOM with blur wrapper initialized');

    // CSS ins Shadow DOM (wird durch inject-css.js eingefÃ¼gt)
    const style = document.createElement('style');
    style.textContent = '.carousel-dots{position:absolute;bottom:35px;left:50%;transform:translate(-50%);display:flex;gap:8px;z-index:10}.carousel-dots .dot{width:8px;height:8px;border-radius:50%;background:#ffffff4d;cursor:pointer;transition:all .3s ease}.carousel-dots .dot.active{background:#fffc;transform:scale(1.2)}.carousel-dots .dot:hover{background:#ffffff80}.label-container{position:absolute;bottom:60px;left:50%;transform:translate(-50%);width:100%;text-align:center}.solar-carousel{touch-action:pan-y pinch-zoom}.solar-carousel .circular-value,.solar-carousel .circular-label{transition:all .5s ease}@media (max-width: 768px){.carousel-dots{bottom:25px;gap:6px}.carousel-dots .dot{width:6px;height:6px}.label-container{bottom:45px}}.controls-tab{opacity:0;transition:opacity .5s ease;will-change:opacity}.controls-tab.visible{opacity:1;animation:fadeInUp .6s cubic-bezier(.16,1,.3,1) forwards}@keyframes fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.device-control-design{position:relative;display:flex;flex-direction:column;align-items:center;gap:0;min-height:400px;width:100%;padding-top:0}@media (max-width: 768px){.device-control-design{min-height:200px}}.slider-wrapper{position:relative;z-index:1;opacity:1;visibility:visible;height:280px;padding-top:20px;display:flex;align-items:flex-start;justify-content:center;will-change:transform,opacity,height;transform-origin:center top}@media (max-width: 768px){.slider-wrapper{height:160px;padding-top:0}}.device-control-buttons{display:flex;flex-direction:column;gap:12px;position:relative;z-index:2;will-change:transform;transform-origin:center top;width:100%;max-width:500px;margin:20px auto 0}.control-row{display:flex;gap:8px;justify-content:center;align-items:center;flex-wrap:wrap;max-width:100%;padding:0 10px}.control-button-wrapper{display:flex;flex-direction:column;align-items:center;gap:8px}.button-label{font-size:11px;color:#fffc;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:72px;line-height:1.2;font-weight:400}@media (max-width: 768px){.button-label{font-size:10px;max-width:52px}}.control-button{width:72px;height:72px;min-width:72px;min-height:72px;aspect-ratio:1;flex-shrink:0;padding:0;background:#ffffff1a;border:0px solid rgba(255,255,255,.2);border-radius:50%;box-sizing:border-box;color:#fff;cursor:pointer;transition:all .2s ease;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2px;position:relative;will-change:transform,background-color;backface-visibility:hidden}.control-button svg{stroke:#fff!important;fill:#fff!important;opacity:1!important;visibility:visible!important}.control-button svg[fill=none]{fill:none!important}.control-button:hover:not(.disabled):not(.expanded){background:#ffffff26;transform:scale(1.05)}.control-button.active{background:#fff3;border-color:#fff6}.control-button.expanded{background:#0091ff!important;border:1px solid rgba(0,145,255,.5);color:#fff!important;opacity:1!important}.control-button.expanded:hover{transform:scale(1) translateZ(0);background:#0091ff!important}.control-button.expanded .button-icon svg{stroke:#fff!important;opacity:1!important}@keyframes pulse{0%,to{box-shadow:0 0 #4a90e266;opacity:1}50%{box-shadow:0 0 0 10px #4a90e200;opacity:1}}.control-button.disabled{opacity:.3;cursor:not-allowed;background:#ffffff0d;border-color:#ffffff1a}.control-button.disabled:hover{transform:none;background:#ffffff0d}.button-icon{display:flex;align-items:center;justify-content:center;width:24px;height:24px;flex-shrink:0;color:inherit}.button-icon svg{width:24px;height:24px;display:block;stroke:currentColor;opacity:1}.control-presets{width:100%;will-change:opacity}.control-row.primary{margin-bottom:0!important}.control-presets.visible{margin-top:20px!important;margin-bottom:0!important;min-height:72px;position:relative!important;top:0!important;transform:none!important}@media (max-width: 768px){.control-presets.visible{min-height:68px}}.control-presets.visible{opacity:1;overflow:visible}.control-presets.grouped .presets-scroll-container{background:#0000004d;border:1px solid rgba(255,255,255,.1);border-radius:20px;padding:16px;max-height:400px;overflow-y:auto}.presets-scroll-container{display:flex!important;flex-wrap:wrap;gap:8px;overflow-x:hidden;overflow-y:auto;padding:4px 10px;scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.2) transparent;min-height:72px;max-height:160px;justify-content:center;width:100%;-webkit-overflow-scrolling:touch;scroll-behavior:smooth;will-change:scroll-position}.presets-scroll-container::-webkit-scrollbar{height:6px}.presets-scroll-container::-webkit-scrollbar-track{background:transparent}.presets-scroll-container::-webkit-scrollbar-thumb{background:#fff3;border-radius:3px}.preset-button{width:72px;height:72px;min-width:72px;min-height:72px;aspect-ratio:1;flex:0 0 72px;max-width:72px;padding:0;background:#ffffff1a;border:0px solid rgba(255,255,255,.2);border-radius:50%;box-sizing:border-box;color:#fff;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);font-size:11px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2px;text-align:center;position:relative;will-change:transform,background-color;transform:translateZ(0);backface-visibility:hidden}.preset-button:hover{transform:scale(1.1) translateZ(0);transition:all .15s cubic-bezier(.4,0,.2,1)}.preset-button.active{background:#4a90e24d;border-color:#4a90e299}.preset-icon{display:flex;align-items:center;justify-content:center;width:32px;height:32px}.preset-icon svg{width:32px;height:32px;stroke:currentColor;fill:none}.preset-header{width:100%;font-size:12px;font-weight:600;color:#ffffffb3;text-transform:uppercase;letter-spacing:.5px;margin-bottom:10px;margin-top:10px;padding-bottom:6px;border-bottom:1px solid rgba(255,255,255,.1)}.preset-header:first-child{margin-top:0}.control-presets.grouped .preset-button{width:52px;height:52px;min-width:52px;min-height:52px;font-size:10px;margin:4px}@media (max-width: 768px){.climate-settings-group .filter-item{min-width:50px;padding:6px 10px;font-size:11px}}@media (max-width: 768px){.control-button{width:52px;height:52px;min-width:52px;min-height:52px}.button-icon svg{width:20px;height:20px}.preset-button{width:52px;height:52px;min-width:52px;min-height:52px;flex:0 0 52px;max-width:52px;font-size:10px}.presets-scroll-container{max-height:120px;gap:6px}}@keyframes slideInUp{0%{opacity:0;transform:translateY(20px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}*{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}@media (prefers-reduced-motion: reduce){*{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;animation-delay:.01ms!important}}.circular-slider-svg,.control-button,.preset-button,.slider-wrapper,.device-control-buttons{transform:translateZ(0);backface-visibility:hidden;perspective:1000px}.climate-settings-wrapper{background:#0003;border:1px solid rgba(255,255,255,.1);border-radius:24px;padding:20px 0;box-sizing:border-box;box-shadow:none;width:100%}@media (min-width: 1085px){.climate-settings-wrapper{max-width:450px;margin:0 auto}}@media (min-width: 769px) and (max-width: 1084px){.climate-settings-wrapper{max-width:calc(50vw - 80px);margin:0 auto}}@media (max-width: 768px){.climate-settings-wrapper{max-width:calc(100vw - 115px);margin:0 auto}}.history-tab{padding:0;color:#ffffffe6;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;opacity:0;transform:translateY(10px);transition:all .5s cubic-bezier(.16,1,.3,1)}.history-tab.visible{opacity:1;transform:translateY(0)}.time-range-selector{display:flex;gap:8px;background:#ffffff0d;border-radius:12px;padding:4px;position:relative;margin-bottom:20px}.time-range-slider{position:absolute;top:4px;left:0;height:calc(100% - 8px);background:linear-gradient(135deg,#3b82f666,#8b5cf666);border-radius:8px;z-index:1;pointer-events:none;box-shadow:0 8px 32px #3b82f626,inset 0 1px #fff3,inset 0 -1px #0000001a;transform-origin:left center}.time-range-button{flex:1;padding:8px 16px;background:transparent;border:none;color:#fff9;font-size:14px;font-weight:500;border-radius:8px;cursor:pointer;transition:all .2s;z-index:2;position:relative}.time-range-button:hover{color:#fffc}.time-range-button.active{color:#fff}.accordion-section{background:#ffffff08;border-radius:16px;margin-bottom:12px;overflow:hidden}.accordion-section:hover{background:#ffffff0d}.accordion-header{display:flex;align-items:center;justify-content:space-between;padding:16px;cursor:pointer;user-select:none}.accordion-title{display:flex;align-items:center;gap:12px;font-size:15px;font-weight:600;color:#ffffffe6}.accordion-icon{width:20px;height:20px;color:#ffffff80}.accordion-content{overflow:hidden}.chart-wrapper{padding:0 16px 16px}.chart-container{height:250px;min-height:250px;position:relative;background:#0003;border-radius:12px;padding:16px;overflow:visible}.loading-container{display:flex;align-items:center;justify-content:center;height:200px;color:#fff6}.loading-spinner{width:40px;height:40px;border:3px solid rgba(255,255,255,.1);border-top-color:#ffffff80;border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.text-events-list{padding:0 16px 16px;max-height:400px;overflow-y:auto}.event-item{display:flex;align-items:center;justify-content:space-between;padding:12px;background:#0003;border-radius:8px;margin-bottom:8px}.event-time{font-size:13px;color:#ffffff80;min-width:100px}.event-description{flex:1;font-size:14px;color:#fffc;margin:0 12px}.event-value{font-size:14px;font-weight:600;color:#6b5dff}.event-state-on{color:#30d158}.event-state-off{color:#ff4545}.stats-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;padding:16px;background:#ffffff08;border:1px solid rgba(255,255,255,.08);border-radius:16px;margin-top:12px}.stat-card{text-align:center;padding:12px;background:#0003;border-radius:12px;transition:all .2s}.stat-card:hover{background:#0000004d;transform:translateY(-2px)}.stat-label{display:block;font-size:12px;color:#ffffff80;margin-bottom:4px;text-transform:uppercase;letter-spacing:.5px}.stat-value{display:block;font-size:24px;font-weight:700;color:#ffffffe6}.stat-unit{font-size:14px;color:#ffffff80;margin-left:4px}.no-data-message{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;color:#fff6}.no-data-message svg{margin-bottom:16px;opacity:.3}.no-data-message p{font-size:14px}.scheduler-tab{padding:0;opacity:0;transform:translateY(10px);transition:all .5s cubic-bezier(.16,1,.3,1)}.scheduler-tab.visible{opacity:1;transform:translateY(0)}.scheduler-filter{display:flex;gap:8px;margin-bottom:16px;background:#ffffff0d;padding:4px;border-radius:12px;position:relative}.scheduler-items{display:flex;flex-direction:column;gap:8px;margin-bottom:20px;transform:translateZ(0);will-change:contents}.scheduler-item{display:flex;align-items:center;padding:12px;background:#ffffff08;border-radius:12px;transition:background-color .3s ease,box-shadow .3s ease;position:relative;overflow:hidden;cursor:pointer;will-change:transform,opacity;transform:translateZ(0);-webkit-transform:translateZ(0);backface-visibility:hidden;-webkit-backface-visibility:hidden;perspective:1000px}@keyframes fadeInUp{0%{opacity:0;transform:translateY(10px) translateZ(0)}to{opacity:1;transform:translateY(0) translateZ(0)}}.item-icon{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:#ffffff0d;border-radius:10px;margin-right:12px;transition:all .3s ease}.item-content{flex:1}.item-name{font-size:14px;font-weight:500;color:#fff;margin-bottom:2px;display:flex;align-items:center;gap:8px}.item-time{font-size:12px;color:#ffffff80}.item-type{padding:2px 8px;border-radius:4px;font-size:10px;text-transform:uppercase;letter-spacing:.5px;color:#fffffff2;font-weight:500}.item-type.timer{background:#ff9230;border:1px solid rgba(255,146,48,.5)}.item-type.schedule{background:#00d2e0;border:1px solid rgba(0,210,224,.5)}.item-actions{display:flex;align-items:center;gap:8px}.item-delete{width:40px;height:40px;border-radius:10px;background:#ffffff0d;border:none;color:#ffffff80;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.scheduler-loading{text-align:center;padding:40px;color:#ffffff80}.loading-text{font-size:14px;animation:pulse 1.5s ease-in-out infinite}.picker-table-container{margin-top:0;margin-bottom:20px;background:#00000040;border:0px solid rgba(255,255,255,.1);border-radius:12px;overflow:hidden;animation:slideUp .3s cubic-bezier(.4,0,.2,1)}.picker-table-container.editing{margin-top:0}@keyframes slideUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}.scheduler-filter.hidden,.scheduler-items.hidden{display:none}table{width:100%;font-size:15px;border-collapse:collapse;font-family:-apple-system,BlinkMacSystemFont,SF Pro Display,Segoe UI,Roboto,sans-serif;letter-spacing:normal}table th{text-align:left;font-weight:500;height:45px;border-bottom:1px solid rgba(255,255,255,.1);padding:0 16px;cursor:pointer;color:#fffffff2;letter-spacing:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}table td{text-align:right;font-weight:500;color:#ffffffb3;border-bottom:1px solid rgba(255,255,255,.1);padding:0 16px;cursor:pointer;letter-spacing:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}tr[data-line="6"] th,tr[data-line="6"] td{border-bottom:none!important}table td.picker{border:none;cursor:default;padding:0}div.picker{display:none;overflow:hidden;border-bottom:0px solid rgba(255,255,255,.1)}div.picker[style*=block]{border-bottom:1px solid rgba(255,255,255,.1)}#picker-container-line-6,#picker-container-line-6[style*=block]{border-bottom:none!important}.picker-wrapper,.picker-wrapper *{box-sizing:border-box;-webkit-user-select:none;user-select:none;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif}.picker-wrapper{text-align:center;position:relative;height:210px;display:inline-block;line-height:30px;width:100%;font-size:18px;perspective:1000px;perspective-origin:center center}.picker-scroller{transform:translateZ(-90px) rotateX(0);transform-style:preserve-3d;height:100%;will-change:transform}.picker-scroller .option{position:absolute;backface-visibility:hidden;width:100%;color:#fff6;transform-origin:50% 50%;transform-style:preserve-3d;opacity:1;transition:opacity .2s,color .2s;pointer-events:auto}.picker-scroller .option.is-hidden{opacity:0;pointer-events:none}.picker-scroller .option.is-center{color:#ffffffe6}.picker-up{position:absolute;top:0;z-index:2;background:linear-gradient(to bottom,#00000040,#0000);width:100%;height:90px;border-bottom:1px solid rgba(255,255,255,.3);pointer-events:none}.picker-down{position:absolute;top:120px;z-index:2;background:linear-gradient(to top,#00000040,#0000);width:100%;height:90px;border-top:1px solid rgba(255,255,255,.3);pointer-events:none}.clone-scroller{z-index:5;overflow:auto;height:100%;position:absolute;top:0;width:100%;padding-top:90px;padding-bottom:90px;scrollbar-width:none;-ms-overflow-style:none}.clone-scroller::-webkit-scrollbar{display:none}.clone-scroller .option{visibility:hidden}.clickable-row{cursor:pointer}.time-picker-container{display:flex;justify-content:center;align-items:center;width:100%;gap:0;margin:0;padding:0}.time-picker-container>div:first-child{flex:1;max-width:50%}.time-picker-container>div:last-child{flex:1;max-width:50%}.time-picker-separator{flex:0 0 20px;display:flex;justify-content:center;align-items:center;width:20px;height:210px;position:relative;background:linear-gradient(to bottom,#00000040,#0000 42.86% 57.14%,#00000040)}.time-picker-separator:before{content:"";position:absolute;top:89px;left:0;right:0;height:1px;background:#fff3;z-index:2}.time-picker-separator:after{content:"";position:absolute;top:120px;left:0;right:0;height:1px;background:#fff3;z-index:2}.time-picker-separator svg{width:8px;height:16px;fill:#fff9;transform:translateY(0);position:relative;z-index:3}.multi-select-option{display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:20px;font-weight:500;transition:color .3s ease,transform .15s ease}.multi-select-option.active{color:#34c759;font-weight:600}.picker-scroller .option.is-center{z-index:10}.picker-scroller .option.is-center .multi-select-option{transform:scale(1.05)}.multi-select-button{position:absolute;bottom:15px;left:50%;transform:translate(-50%);z-index:15;padding:8px 20px;font-size:14px;font-weight:600;border:none;border-radius:20px;cursor:pointer;background-color:#007aff;color:#fff;box-shadow:0 2px 10px #0000001a;transition:opacity .2s,background-color .2s}.multi-select-button.deselect{background-color:#ff3b30}.multi-select-button.is-hidden{opacity:0;pointer-events:none}.scheduler-tab .add-button-container{display:flex;justify-content:center;margin:20px 0}.scheduler-tab .add-button-container .control-button{display:flex;align-items:center;justify-content:center;gap:12px;padding:16px 32px;background:#ffffff14;border:0px solid rgba(255,255,255,.2);border-radius:16px;color:#fff;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);min-width:180px}.scheduler-tab .add-button-container .control-button:hover:not(.disabled){background:#ffffff26;transform:scale(1.05)}.scheduler-tab .add-button-container .control-button:active:not(.disabled){transform:scale(.98)}.scheduler-tab .add-button-container .control-button.expanded{background:#0091ff;border:1px solid rgba(0,145,255,.5);box-shadow:0 4px 16px #0091ff40,0 0 24px #0091ff26,inset 0 1px #ffffff26}.scheduler-tab .add-button-container .control-button.expanded:hover{transform:scale(1) translateZ(0);background:#0091ff}.scheduler-tab .button-icon{width:24px;height:24px;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.scheduler-tab .add-button-container .control-button.expanded .button-icon{transform:rotate(45deg)}.scheduler-tab .button-icon svg{width:100%;height:100%;stroke:currentColor}.scheduler-tab .button-text{font-size:16px;font-weight:500}.picker-actions{display:flex;gap:12px;margin-top:20px;animation:slideUp .3s cubic-bezier(.4,0,.2,1)}.picker-btn{flex:1;padding:14px;border-radius:12px;border:none;font-size:16px;font-weight:500;cursor:pointer;transition:all .2s ease}.picker-btn.cancel{background:#ffffff1a;color:#fff}.picker-btn.confirm{background:linear-gradient(135deg,#0091ff,#0091ff);color:#fff}.picker-btn.confirm.disabled{background:#8080804d;color:#ffffff80;cursor:not-allowed;pointer-events:none}.picker-btn:hover{transform:translateY(-1px)}.picker-btn:active{transform:scale(.98)}.context-tab{opacity:0;transform:translateY(10px);transition:all .5s cubic-bezier(.16,1,.3,1)}.context-tab.visible{opacity:1;transform:translateY(0)}.context-filter{display:flex;gap:8px;margin-bottom:16px;background:#ffffff0d;padding:4px;border-radius:12px;position:relative}.context-filter-slider{position:absolute;top:4px;left:0;height:calc(100% - 8px);background:linear-gradient(135deg,#3b82f666,#8b5cf666);border-radius:8px;z-index:1;pointer-events:none;box-shadow:0 8px 32px #3b82f626,inset 0 1px #fff3,inset 0 -1px #0000001a;transform-origin:left center}.context-container{padding:0 0 20px}.context-list{display:flex;flex-direction:column;gap:8px}.action-item{display:flex;align-items:center;padding:12px;background:#ffffff08;border-radius:12px;transition:all .3s ease;position:relative;overflow:hidden}.action-item:hover{background:#ffffff14}.action-type-icon{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:#ffffff0d;border-radius:10px;margin-right:12px;transition:all .3s ease}.action-item:hover .action-type-icon{background:#ffffff14;box-shadow:0 0 10px #ffffff1a}.action-type-icon svg{width:24px;height:24px;opacity:.9;color:#ffffffe6;stroke:#ffffffe6}.action-content{flex:1}.action-name{font-size:14px;font-weight:500;color:#fff;margin-bottom:2px}.action-meta{display:flex;align-items:center;gap:8px;font-size:12px;color:#ffffff80}.action-type{padding:2px 8px;border-radius:4px;font-size:10px;text-transform:uppercase;letter-spacing:.5px;color:#fffffff2;font-weight:500}.action-type.scene{background:#db34f2;border:1px solid rgba(219,52,242,.5)}.action-type.script{background:#0091ff;border:1px solid rgba(0,145,255,.5)}.action-type.automation{background:#ff375f;border:1px solid rgba(255,55,95,.5)}.action-area{padding:2px 8px;background:transparent;border:1px solid rgba(255,255,255,.3);border-radius:4px;font-size:10px;text-transform:uppercase;letter-spacing:.5px;color:#ffffffe6;font-weight:400}.action-buttons{display:flex;gap:8px;align-items:center}.action-favorite-btn{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:12px;color:#fff9;cursor:pointer;transition:all .3s ease}.action-favorite-btn svg{stroke:#fff9!important;fill:none!important}.action-favorite-btn.active{background:#ffd600;border:1px solid rgba(255,214,0,.5)}.action-favorite-btn.active svg{stroke:#fffffff2!important;fill:#fffffff2!important}.action-favorite-btn:hover:not(.active){transform:none;background:#ffffff26;box-shadow:0 0 10px #fff3,inset 0 0 10px #ffffff0d}.action-favorite-btn:hover:not(.active) svg{stroke:#fffc!important;fill:none!important}.action-favorite-btn.active:hover{box-shadow:0 0 15px #ffd60080,0 0 30px #ffd6004d,inset 0 0 10px #fff3}.action-execute-btn{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:#30d158;border:1px solid rgba(48,209,88,.5);border-radius:12px;color:#fffffff2;cursor:pointer;transition:all .3s ease;position:relative}.action-execute-btn svg{stroke:#fffffff2!important}.action-execute-btn:hover{background:#30d158;border:1px solid rgba(48,209,88,.7);box-shadow:0 0 15px #30d15880,0 0 30px #30d1584d,inset 0 0 10px #fff3;transform:none}.context-loading,.context-empty{text-align:center;padding:40px;color:#ffffff80}.empty-icon{font-size:48px;margin-bottom:12px;opacity:.5}.empty-text{font-size:14px}@media (max-width: 768px){.context-tab{padding:0}.context-filter{margin-bottom:12px}.context-list{gap:6px}.action-item{padding:10px 12px;flex-wrap:nowrap}.action-type-icon{width:36px;height:36px;margin-right:10px}.action-type-icon svg{width:20px;height:20px}.action-content{flex:1;min-width:0}.action-name{font-size:13px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%}.action-meta{flex-wrap:wrap;gap:6px;margin-top:4px}.action-type,.action-area{font-size:9px;padding:2px 6px}.action-buttons{gap:6px;margin-left:8px;flex-shrink:0}.action-execute-btn,.action-favorite-btn{width:36px;height:36px}.action-execute-btn svg,.action-favorite-btn svg{width:16px;height:16px}}@media (max-width: 400px){.action-item{padding:8px 10px}.action-type-icon{width:32px;height:32px;margin-right:8px}.action-type-icon svg{width:18px;height:18px}.action-name{font-size:12px}.action-execute-btn,.action-favorite-btn{width:32px;height:32px}.action-execute-btn svg,.action-favorite-btn svg{width:14px;height:14px}.action-buttons{gap:4px}}.settings-container{display:flex;flex-direction:column;height:100%;overflow:hidden}.settings-content{flex:1;display:flex;flex-direction:column;gap:16px;padding:0;overflow-y:auto;scrollbar-width:none}.settings-content::-webkit-scrollbar{display:none}.setting-group{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:16px}.setting-group-title{font-size:16px;font-weight:600;color:#fffffff2;margin-bottom:12px}.setting-item{display:flex;align-items:center;justify-content:space-between;padding:12px 0;border-bottom:1px solid rgba(255,255,255,.05)}.setting-item:last-child{border-bottom:none}.setting-label{display:flex;flex-direction:column;gap:4px;flex:1}.setting-name{font-size:15px;color:#ffffffe6}.setting-description{font-size:12px;color:#ffffff80}.setting-control{display:flex;align-items:center}.toggle-switch{position:relative;width:48px;height:28px;background:#fff3;border-radius:14px;cursor:pointer;transition:background .3s ease}.toggle-switch.active{background:#30d158cc}.toggle-switch-handle{position:absolute;top:2px;left:2px;width:24px;height:24px;background:#fff;border-radius:12px;transition:transform .3s ease;box-shadow:0 2px 4px #0003}.toggle-switch.active .toggle-switch-handle{transform:translate(20px)}.slider{width:120px;height:28px;-webkit-appearance:none;appearance:none;background:transparent;cursor:pointer}.slider::-webkit-slider-track{width:100%;height:6px;background:#fff3;border-radius:3px}.slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:20px;height:20px;background:#fff;border-radius:50%;cursor:pointer;margin-top:-7px;box-shadow:0 2px 6px #0000004d}.slider::-moz-range-track{width:100%;height:6px;background:#fff3;border-radius:3px}.slider::-moz-range-thumb{border:none;width:20px;height:20px;background:#fff;border-radius:50%;cursor:pointer;box-shadow:0 2px 6px #0000004d}.select-native{padding:8px 12px;background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:8px;color:#ffffffe6;font-size:14px;cursor:pointer;min-width:120px;transition:all .2s ease}.select-native:hover{background:#ffffff1f}.select-native:focus{outline:none;border-color:#0091ff80}.select-native option{background:#1e1e1efa;color:#fff}.privacy-info{margin-top:16px}.info-card{display:flex;align-items:center;gap:12px;padding:16px;background:#0091ff1a;border:1px solid rgba(0,145,255,.2);border-radius:12px}.info-icon{font-size:24px}.info-text{flex:1}.info-text strong{display:block;color:#fffffff2;font-size:14px;margin-bottom:4px}.info-text p{color:#ffffffb3;font-size:12px;margin:0}.select-dropdown{position:relative;min-width:120px}.select-button{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:8px 12px;background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:8px;color:#ffffffe6;font-size:14px;cursor:pointer;transition:all .2s ease;width:100%}.select-button:hover{background:#ffffff1f}.select-options{position:absolute;top:100%;left:0;right:0;margin-top:4px;background:#1e1e1efa;border:1px solid rgba(255,255,255,.2);border-radius:8px;overflow:hidden;z-index:10;display:none}.select-dropdown.open .select-options{display:block}.select-option{padding:10px 12px;color:#fffc;cursor:pointer;transition:background .2s ease}.select-option:hover{background:#ffffff1a}.select-option.selected{background:#0091ff4d;color:#fff}.about-info{display:flex;flex-direction:column;gap:12px;padding:16px;background:#ffffff08;border-radius:12px}.about-item{display:flex;justify-content:space-between;font-size:14px}.about-label{color:#fff9}.about-value{color:#ffffffe6;font-weight:500}.button-group{display:flex;gap:12px;margin-top:20px}.button{flex:1;padding:12px 20px;background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:12px;color:#ffffffe6;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease;text-align:center}.button:hover{background:#ffffff1f;transform:translateY(-2px)}.button.danger{background:#ff3b3033;border-color:#ff3b3066}.button.danger:hover{background:#ff3b304d}.number-input{width:100px;padding:8px 12px;background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:8px;color:#ffffffe6;font-size:14px;text-align:center;cursor:text;transition:all .2s ease}.number-input:hover{background:#ffffff1f}.number-input:focus{outline:none;border-color:#0091ff80;background:#ffffff26}.number-input::placeholder{color:#fff6}.number-input::-webkit-outer-spin-button,.number-input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.number-input[type=number]{-moz-appearance:textfield}.pattern-description{font-size:13px;color:#ffffffb3;margin-bottom:16px;line-height:1.6}.pattern-description p{margin:0 0 12px}.pattern-description ul{margin:0 0 12px;padding-left:20px}.pattern-description li{margin:4px 0}.pattern-description code{background:#ffffff1a;padding:2px 6px;border-radius:4px;font-family:Courier New,monospace;font-size:12px;color:#0091ffe6}.pattern-examples{display:flex;flex-wrap:wrap;gap:8px;align-items:center;margin-top:12px;padding:12px;background:#ffffff08;border-radius:8px}.pattern-examples strong{color:#fffc;font-size:12px}.example-tag{background:#0091ff26;color:#0091ffe6;padding:4px 10px;border-radius:6px;font-family:Courier New,monospace;font-size:11px;border:1px solid rgba(0,145,255,.3)}.pattern-input-group{display:flex;gap:8px;margin-bottom:12px}.pattern-input{flex:1;padding:10px 14px;background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:8px;color:#ffffffe6;font-size:14px;font-family:Courier New,monospace;transition:all .2s ease}.pattern-input:focus{outline:none;border-color:#0091ff80;background:#ffffff1f}.pattern-input::placeholder{color:#fff6;font-family:Courier New,monospace}.add-pattern-btn{padding:10px 20px;background:#30d15833;border:1px solid rgba(48,209,88,.4);white-space:nowrap}.add-pattern-btn:hover{background:#30d1584d;border-color:#30d15899}.pattern-error{padding:10px 12px;background:#ff3b3026;border:1px solid rgba(255,59,48,.3);border-radius:8px;color:#ff6464f2;font-size:13px;margin-bottom:12px}.patterns-list{margin-top:16px}.patterns-list-header{font-size:13px;font-weight:600;color:#fffc;margin-bottom:10px;padding-bottom:8px;border-bottom:1px solid rgba(255,255,255,.1)}.pattern-item{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:8px;margin-bottom:8px;transition:all .2s ease}.pattern-item:hover{background:#ffffff14;border-color:#fff3}.pattern-code{font-family:Courier New,monospace;font-size:13px;color:#0091ffe6;background:#0091ff1a;padding:4px 8px;border-radius:4px;flex:1}.pattern-remove-btn{width:28px;height:28px;background:#ff3b3026;border:1px solid rgba(255,59,48,.3);border-radius:6px;color:#ff3b30e6;font-size:20px;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;margin-left:12px}.pattern-remove-btn:hover{background:#ff3b304d;border-color:#ff3b3080;transform:scale(1.1)}.patterns-empty{text-align:center;padding:32px 16px;color:#ffffff80}.patterns-empty span{font-size:48px;display:block;margin-bottom:12px;opacity:.5}.patterns-empty p{margin:0;font-size:14px}@media (max-width: 768px){.settings-content{padding:0}.pattern-input-group{flex-direction:column}.add-pattern-btn{width:100%}}:root{--glass-blur-amount: 20px;--glass-border-color: rgba(255, 255, 255, .2);--glass-shadow: 0 8px 32px rgba(0, 0, 0, .15)}.detail-panel{position:relative;width:100%;height:672px;min-height:672px;border-radius:35px;border:1px solid var(--glass-border-color);box-shadow:var(--glass-shadow);overflow:hidden;isolation:isolate;display:flex;flex-direction:column;margin:0;padding:0;background:#1e1e1e4d}.detail-panel:before{content:"";position:absolute;inset:0;z-index:0;border-radius:inherit;background:radial-gradient(circle at 50% 0%,#ffffff1a,#ffffff0d 70%);pointer-events:none}.detail-panel:after{content:"";position:absolute;inset:0;z-index:2;border-radius:inherit;pointer-events:none;box-shadow:inset 0 1px 1px #ffffff4d,inset 0 -1px 1px #0000001a}.detail-content{display:flex;flex:1;overflow:hidden;height:100%;position:relative;z-index:1;border-radius:35px;-webkit-mask-image:-webkit-radial-gradient(white,black);mask-image:radial-gradient(#fff,#000)}.detail-left{width:50%;padding:25px;display:flex;flex-direction:column;border-radius:35px 0 0 35px;box-sizing:border-box}.detail-left-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px}.back-button{width:40px;height:40px;border-radius:50%;background:#ffffff1a;border:0px solid rgba(255,255,255,.15);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;position:relative;z-index:10;pointer-events:auto}.back-button:hover{background:#ffffff26;transform:scale(1.05)}.back-button svg{width:20px;height:20px;stroke:#fff}.detail-left-title-info{flex:1;text-align:center;max-width:80%}.detail-panel .detail-left .detail-left-header .detail-left-title-info .detail-left-title-name,.detail-panel .detail-left-title-name,.detail-left-title-name{font-size:15px;font-weight:600!important;-webkit-font-smoothing:antialiased!important;-moz-osx-font-smoothing:grayscale!important;margin:0;white-space:nowrap;overflow:hidden;line-height:1.1;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif!important;background:linear-gradient(to right,rgba(255,255,255,1) 55%,transparent 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.detail-panel .detail-left .detail-left-header .detail-left-title-info .detail-left-title-area,.detail-panel .detail-left-title-area,.detail-left-title-area{font-size:15px;margin:2px 0 0;line-height:1.1;font-weight:400!important;text-transform:capitalize;-webkit-font-smoothing:antialiased!important;-moz-osx-font-smoothing:grayscale!important;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif!important;white-space:nowrap;overflow:hidden;background:linear-gradient(to right,rgba(255,255,255,.5) 55%,transparent 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.favorite-button{width:40px;height:40px;border-radius:50%;background:#ffffff1a;border:0px solid rgba(255,255,255,.15);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}.favorite-button:hover{background:#ffffff26;transform:scale(1.05)}.favorite-button.active{background:#ffd70033;border-color:gold}.favorite-button svg{width:20px;height:20px;stroke:#fff;fill:none}.favorite-button.active svg{fill:gold;stroke:gold}.icon-content{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center}.icon-background-wrapper{width:260px;height:260px;position:relative;margin-bottom:25px}.icon-background{width:100%;height:100%;border-radius:28px;display:flex;align-items:center;justify-content:center;font-size:70px;box-shadow:0 10px 40px #0000004d;background-size:cover;background-position:center}.detail-info-row{width:100%;display:flex;justify-content:center}.quick-stats{display:flex;gap:8px;flex-wrap:nowrap;overflow-x:auto;scrollbar-width:none;padding:4px 0}.quick-stats::-webkit-scrollbar{display:none}.stat-item{background:#0000004d;border:0px solid rgba(255,255,255,.1);border-radius:18px;padding:8px 14px;font-size:12px;color:#ffffffe6;font-weight:500;white-space:nowrap;flex-shrink:0}.entity-id-display{margin-top:15px;font-size:13px;color:#ffffff80;font-weight:400!important;-webkit-font-smoothing:antialiased!important;-moz-osx-font-smoothing:grayscale!important;text-align:center;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,monospace!important;letter-spacing:.02em}.detail-divider{width:1px;background:linear-gradient(to bottom,transparent,rgba(255,255,255,.15),transparent);margin:40px 0}.detail-right{width:50%;display:flex;flex-direction:column;border-radius:0 35px 35px 0;box-sizing:border-box;overflow:hidden}.desktop-tabs{display:block;padding:25px 20px 20px}.mobile-tabs{display:none}.detail-header{display:flex;justify-content:space-between;align-items:flex-start}.detail-header-info{text-align:left}.detail-panel .detail-right .detail-header .detail-header-info .detail-header-name,.detail-panel .detail-header-name,.detail-header-name{margin:0;font-size:15px;font-weight:600!important;-webkit-font-smoothing:antialiased!important;-moz-osx-font-smoothing:grayscale!important;color:#fff;line-height:1.1em;max-width:280px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-transform:capitalize;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif!important}.detail-panel .detail-right .detail-header .detail-header-info .detail-header-area,.detail-panel .detail-header-area,.detail-header-area{margin:2px 0 0;font-size:15px;font-weight:400!important;text-transform:capitalize;-webkit-font-smoothing:antialiased!important;-moz-osx-font-smoothing:grayscale!important;color:#fff9;line-height:1.1em;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif!important}.detail-tabs{position:relative;background:#00000040;border-radius:24px;display:flex;justify-content:space-evenly;gap:6px;padding:5px}.tab-slider{position:absolute;top:5px;left:0;height:calc(100% - 10px);background:linear-gradient(135deg,#3b82f666,#8b5cf666);border-radius:50%;box-shadow:0 8px 32px #3b82f626,inset 0 1px #fff3,inset 0 -1px 1px #0000001a;z-index:1;pointer-events:none;transform-origin:left center}.detail-tab{width:40px;height:40px;padding:10px;border-radius:50%;cursor:pointer;color:#ffffff80;transition:color .25s ease;z-index:2;border:none;background:transparent;display:flex;align-items:center;justify-content:center;line-height:0}.detail-tab.active{color:#fff}.detail-tab:hover:not(.active){color:#ffffffbf}.detail-tab svg{width:20px;height:20px;stroke-width:1.5}#tab-content-container{flex-grow:1;overflow-y:auto;padding:0 20px;box-sizing:border-box;scrollbar-width:none}#tab-content-container::-webkit-scrollbar{display:none}@media (max-width: 768px){.detail-panel{height:672px!important;min-height:672px!important}.desktop-tabs{display:none}.mobile-tabs{display:flex;justify-content:space-between;align-items:center;padding:18px}.mobile-tabs .detail-tabs{position:relative;background:#0000004d;backdrop-filter:blur(10px);border-radius:24px;display:inline-flex;gap:4px;padding:3px}.mobile-tabs .tab-slider{position:absolute;top:3px;left:0;height:calc(100% - 6px);background:linear-gradient(135deg,#3b82f666,#8b5cf666);border-radius:50%;box-shadow:0 8px 32px #3b82f626,inset 0 1px #fff3,inset 0 -1px 1px #0000001a;z-index:1;width:36px;pointer-events:none;transform-origin:left center}.mobile-tabs .detail-tab{width:36px;height:36px;padding:0;border-radius:50%;cursor:pointer;color:#ffffff80;transition:all .25s ease;z-index:2;border:none;background:transparent;display:flex;align-items:center;justify-content:center;line-height:0;position:relative}.mobile-tabs .detail-tab.active{color:#fff}.mobile-tabs .detail-tab svg{width:18px;height:18px;stroke-width:1.5;transition:transform .2s ease;flex-shrink:0;min-width:18px;min-height:18px;max-width:18px;max-height:18px}.mobile-tabs .detail-tab:active svg{transform:scale(.9)}.detail-content{flex-direction:column;height:100%}.detail-divider{width:calc(100% - 40px);height:1px;background:linear-gradient(to right,transparent,rgba(255,255,255,.15),transparent);margin:10px auto;align-self:center}.detail-left{width:100%;padding:20px;flex:none;min-height:200px;border-radius:35px 35px 0 0}.detail-left-header{margin-bottom:20px}.icon-background-wrapper{width:80px;height:80px;margin-bottom:15px}.icon-background{font-size:50px;border-radius:20px}.detail-right{width:100%;border-radius:0 0 35px 35px;padding:0;flex:1;min-height:200px}#tab-content-container{padding:15px}.detail-header-name{font-size:15px;max-width:180px;font-weight:600!important}.detail-header-area{font-size:13px;font-weight:400!important}.detail-left-title-name{font-size:15px;font-weight:600!important}.detail-left-title-area{font-size:15px;font-weight:400!important}.back-button,.favorite-button{width:36px;height:36px}.back-button svg,.favorite-button svg{width:18px;height:18px}.stat-item{font-size:11px;padding:6px 12px}.entity-id-display{margin-top:10px;font-size:11px}}:root{--radius: 35px;--mask-stroke: 1px;--mask-inner-distance: calc(var(--radius) - var(--mask-stroke));--mask-outer-distance: var(--radius);--diameter: calc(var(--radius) * 2);--glass-border-color: rgba(255, 255, 255, .2);--glass-shadow: 0 8px 32px rgba(0, 0, 0, .15);--accent: #007AFF;--accent-rgb: 0, 122, 255;--accent-light: rgba(255, 255, 255, .35);--text-primary: rgba(255, 255, 255, .95);--text-secondary: rgba(255, 255, 255, .7)}*{box-sizing:border-box}.glass-panel{position:relative;border-radius:35px;border:1px solid var(--glass-border-color);overflow:hidden;background:transparent!important}.glass-panel:before{display:none!important}.search-panel.glass-panel{transition:border-color .3s ease,box-shadow .3s ease;border-radius:35px!important}.glass-panel:after{display:none!important}.main-container{width:100%;max-width:1000px;margin:0 auto;position:relative}.search-row{display:flex;gap:16px;width:100%;position:relative;align-items:flex-start}.search-panel{transition:all .4s cubic-bezier(.16,1,.3,1);background-color:#0000;display:flex;flex-direction:column;flex:1;overflow:hidden;border-radius:35px!important}.search-panel.hidden{opacity:0;pointer-events:none;transition:opacity .2s ease-in-out}.detail-panel-wrapper{position:absolute;top:0;left:0;right:0;width:100%;height:672px;z-index:10;pointer-events:auto}.search-wrapper{display:flex;align-items:center;gap:12px;padding:16px 20px;height:72px;position:sticky;top:0;z-index:3;background-color:#ffffff03}.search-wrapper:after{content:"";position:absolute;bottom:0;left:20px;right:20px;height:1px;background-color:#ffffff1a;transform-origin:left center;transition:transform .4s cubic-bezier(.16,1,.3,1)}.category-icon{width:24px;height:24px;cursor:pointer;display:flex;align-items:center;justify-content:center;border-radius:6px;background:#fff0;flex-shrink:0;transition:all .2s ease;position:relative}.category-icon:hover{transform:scale(1.05)}.category-icon svg,.category-icon .default-icon svg{width:24px;height:24px;stroke:#fffc;stroke-linecap:round;stroke-linejoin:round;position:absolute;transition:opacity .2s ease,stroke .3s ease}.category-icon.ai-active{background:transparent}.category-icon .default-icon{position:absolute;display:flex;align-items:center;justify-content:center;opacity:1;transition:opacity .25s cubic-bezier(.4,0,.2,1)}.category-icon:hover .default-icon{opacity:0}.category-icon .chevron-icon{position:absolute;opacity:0;transition:opacity .25s cubic-bezier(.4,0,.2,1)}.category-icon:hover .chevron-icon{opacity:1}.search-input-container{position:relative;flex:1;min-width:0;height:30px}.search-suggestion{position:absolute;top:0;left:0;right:0;width:100%;height:100%;border:none;background:transparent;outline:none;font-size:24px;font-family:inherit;font-weight:inherit;line-height:30px;color:#ffffff4d;pointer-events:none;z-index:1;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.search-input{position:absolute;top:0;left:0;right:0;width:100%;height:100%;border:none;background:transparent;outline:none;font-size:24px;font-family:inherit;font-weight:inherit;line-height:30px;color:#fff;z-index:2;padding:0;margin:0}.grouped-search-results{display:flex;flex-direction:column;gap:20px}.search-group{display:flex;flex-direction:column;gap:12px}.search-group-title{font-size:18px;font-weight:500;color:#ffffffe6;padding:8px 0;margin:0 0 12px;position:relative;display:flex;align-items:center}.search-group-title:after{content:"";position:absolute;bottom:0;left:0;right:0;height:1px;background:#ffffff1a}.device-name mark,.device-list-name mark{background:#ffdc004d;color:inherit;font-weight:700;padding:0 2px;border-radius:2px}.search-input::placeholder{color:var(--text-secondary)}.clear-button{width:44px;height:44px;border:none;background:#00000026;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0;touch-action:manipulation;-webkit-tap-highlight-color:transparent;user-select:none;z-index:10;position:relative}.ai-mode-button{width:44px;height:44px;border:none;background:#ffffff26;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0;touch-action:manipulation;-webkit-tap-highlight-color:transparent;user-select:none;z-index:10;position:relative}.ai-mode-button svg{stroke:#fffc;stroke-linecap:round;stroke-linejoin:round}.filter-container{position:relative;display:flex;align-items:center;gap:0}.filter-main-button{width:44px;height:44px;border:none;background-color:#ffffff14;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;position:relative;z-index:10;flex-shrink:0;transition:background-color .3s ease}.filter-main-button.active{background-color:#0091ff}.filter-groups{position:absolute;right:100%;top:50%;transform:translateY(-50%);display:flex;align-items:center;gap:12px;margin-right:12px;z-index:1000}.filter-group{display:flex;align-items:center;gap:3px;background:#ffffff14;border-radius:60px;padding:10px 0;border:0px solid rgba(255,255,255,0);height:45px;z-index:1001}.filter-button{width:45px;height:45px;border:none;background:transparent;border-radius:60px;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:0;box-sizing:border-box;position:relative}.filter-button svg{width:20px;height:20px;stroke:#fff;stroke-width:1;fill:none}.category-buttons-container{display:flex;flex:0 0 auto;padding:0;width:auto;justify-content:flex-end}.category-buttons{display:flex;flex-direction:row;gap:12px;flex-wrap:nowrap;justify-content:center}.category-button{width:72px;height:72px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer}.category-button svg{width:24px;height:24px;stroke:#fffc;stroke-width:2;fill:none}.category-button.active svg{stroke:#fff}.results-container{padding:10px 20px 40px;max-height:650px;overflow-y:auto;overflow-x:hidden;transition:none;flex-shrink:0;position:relative;display:flex;flex-direction:column;z-index:2}@media (prefers-reduced-motion: no-preference){.results-container{scroll-behavior:smooth}}.results-container::-webkit-scrollbar{width:6px}.results-container::-webkit-scrollbar-track{background:transparent}.results-container::-webkit-scrollbar-thumb{background-color:#ffffff4d;border-radius:10px;border:2px solid transparent;background-clip:content-box}.results-container::-webkit-scrollbar-thumb:hover{background-color:#ffffff80}.results-container>*{flex:1;min-height:0}.results-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(130px,1fr));gap:16px;min-height:200px;align-items:center;justify-content:center}.empty-state{grid-column:1 / -1;text-align:center;padding:40px 20px;color:var(--text-secondary);display:flex;flex-direction:column;align-items:center;gap:12px}.device-grid-container{display:grid;gap:16px}@media (min-width: 1024px){.device-grid-container{grid-template-columns:repeat(4,1fr)}}@media (min-width: 868px) and (max-width: 1023px){.device-grid-container{grid-template-columns:repeat(4,1fr)}}@media (min-width: 581px) and (max-width: 867px){.device-grid-container{grid-template-columns:repeat(3,1fr)}}@media (min-width: 361px) and (max-width: 580px){.device-grid-container{grid-template-columns:repeat(2,1fr)}}@media (max-width: 360px){.device-grid-container{grid-template-columns:1fr}}.device-list-container{display:flex;flex-direction:column;gap:12px;width:100%}.favorites-section{margin-bottom:30px}.favorites-title{font-size:14px;font-weight:600;color:#ffffffe6;text-transform:uppercase;letter-spacing:.05em;padding:0;margin:0 0 16px;display:flex;align-items:center;gap:8px}.star-icon{font-size:16px;filter:drop-shadow(0 0 4px rgba(255,215,0,.5))}@media (max-width: 768px){.search-wrapper{height:58px;padding:13px 16px;gap:10px}.category-icon{width:19px;height:19px}.category-icon svg,.category-icon .default-icon svg{width:19px;height:19px}.search-input-container{height:24px}.search-input,.search-suggestion{font-size:19px;line-height:24px}.clear-button{width:35px;height:35px}.clear-button svg{width:19px;height:19px}.ai-mode-button{width:35px;height:35px}.ai-mode-button svg{width:19px;height:19px}.filter-main-button{width:35px;height:35px}.filter-main-button svg{width:19px;height:19px}.filter-group{height:36px;gap:2px;padding:8px 0}.filter-button{width:36px;height:36px}.filter-button svg{width:16px;height:16px}.search-group-title{font-size:14px;padding:6px 0;margin:0 0 10px}.grouped-search-results{gap:16px}.search-group{gap:10px}.results-container{padding:8px 16px 32px}.device-grid-container{gap:13px}.device-list-container{gap:10px}.category-buttons-container{padding:20px;width:100%;justify-content:center}.category-buttons{gap:8px;flex-wrap:wrap}}.toast{position:fixed;display:flex;align-items:center;gap:12px;padding:12px 16px;background:#000000d9;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-radius:12px;color:#fff;font-size:14px;font-weight:500;box-shadow:0 8px 32px #0000004d,0 0 0 1px #ffffff1a;z-index:10000;opacity:0;transform:translateY(-10px);transition:all .3s cubic-bezier(.16,1,.3,1);pointer-events:all;min-width:280px;max-width:500px}.toast-visible{opacity:1;transform:translateY(0)}.toast-hiding{opacity:0;transform:translateY(-10px);transition:all .2s ease-out}.toast-top-center{top:20px;left:50%;transform:translate(-50%) translateY(-10px)}.toast-top-center.toast-visible{transform:translate(-50%) translateY(0)}.toast-top-center.toast-hiding{transform:translate(-50%) translateY(-10px)}.toast-top-right{top:20px;right:20px}.toast-top-left{top:20px;left:20px}.toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%) translateY(10px)}.toast-bottom-center.toast-visible{transform:translate(-50%) translateY(0)}.toast-bottom-center.toast-hiding{transform:translate(-50%) translateY(10px)}.toast-bottom-right{bottom:20px;right:20px;transform:translateY(10px)}.toast-bottom-right.toast-visible{transform:translateY(0)}.toast-bottom-right.toast-hiding{transform:translateY(10px)}.toast-bottom-left{bottom:20px;left:20px;transform:translateY(10px)}.toast-bottom-left.toast-visible{transform:translateY(0)}.toast-bottom-left.toast-hiding{transform:translateY(10px)}.toast-success{background:#30d15826;border:1px solid rgba(48,209,88,.3);box-shadow:0 8px 32px #30d15833,0 0 0 1px #30d1584d}.toast-error{background:#ff454526;border:1px solid rgba(255,69,69,.3);box-shadow:0 8px 32px #ff454533,0 0 0 1px #ff45454d}.toast-warning{background:#ffd60026;border:1px solid rgba(255,214,0,.3);box-shadow:0 8px 32px #ffd60033,0 0 0 1px #ffd6004d}.toast-info{background:#0091ff26;border:1px solid rgba(0,145,255,.3);box-shadow:0 8px 32px #0091ff33,0 0 0 1px #0091ff4d}.toast-icon{font-size:20px;line-height:1;flex-shrink:0}.toast-message{flex:1;line-height:1.4;word-break:break-word}.toast-close{width:24px;height:24px;display:flex;align-items:center;justify-content:center;background:#ffffff1a;border:none;border-radius:6px;color:#fff9;font-size:18px;cursor:pointer;transition:all .2s ease;flex-shrink:0;font-family:inherit}.toast-close:hover{background:#fff3;color:#ffffffe6}.toast-close:active{transform:scale(.95)}.toast-action{padding:4px 12px;background:#fff3;border:none;border-radius:6px;color:#fff;cursor:pointer;font-size:13px;font-weight:500;transition:all .2s ease;flex-shrink:0}.toast-action:hover{background:#ffffff4d}.toast-action:active{transform:scale(.95)}.toast-progress{position:absolute;bottom:0;left:0;height:3px;background:#ffffff4d;border-radius:0 0 12px 12px;transition:width .3s ease}.toast-success .toast-progress{background:#30d15899}.toast-error .toast-progress{background:#ff454599}.toast-warning .toast-progress{background:#ffd60099}.toast-info .toast-progress{background:#0091ff99}.toast+.toast{margin-top:12px}.toast-top-center+.toast-top-center,.toast-top-left+.toast-top-left,.toast-top-right+.toast-top-right{margin-top:12px}.toast-bottom-center+.toast-bottom-center,.toast-bottom-left+.toast-bottom-left,.toast-bottom-right+.toast-bottom-right{margin-bottom:12px}@media (max-width: 768px){.toast{min-width:240px;max-width:calc(100vw - 40px);font-size:13px;padding:10px 14px}.toast-icon{font-size:18px}.toast-close{width:20px;height:20px;font-size:16px}.toast-top-left,.toast-top-right,.toast-bottom-left,.toast-bottom-right,.toast-bottom-center{inset:20px auto auto 50%;transform:translate(-50%) translateY(-10px)}.toast-top-left.toast-visible,.toast-top-right.toast-visible,.toast-bottom-left.toast-visible,.toast-bottom-right.toast-visible,.toast-bottom-center.toast-visible{transform:translate(-50%) translateY(0)}.toast-top-left.toast-hiding,.toast-top-right.toast-hiding,.toast-bottom-left.toast-hiding,.toast-bottom-right.toast-hiding,.toast-bottom-center.toast-hiding{transform:translate(-50%) translateY(-10px)}}@media (max-width: 480px){.toast{min-width:200px;max-width:calc(100vw - 30px);font-size:12px;padding:8px 12px;gap:8px}.toast-icon{font-size:16px}}@keyframes toast-slide-in-right{0%{opacity:0;transform:translate(100px)}to{opacity:1;transform:translate(0)}}@keyframes toast-slide-in-left{0%{opacity:0;transform:translate(-100px)}to{opacity:1;transform:translate(0)}}@keyframes toast-pulse{0%,to{transform:scale(1)}50%{transform:scale(1.02)}}.toast-top-right.toast-slide,.toast-bottom-right.toast-slide{animation:toast-slide-in-right .3s cubic-bezier(.16,1,.3,1)}.toast-top-left.toast-slide,.toast-bottom-left.toast-slide{animation:toast-slide-in-left .3s cubic-bezier(.16,1,.3,1)}@media (prefers-color-scheme: dark){.toast{background:#000000e6}.toast-success{background:#30d15833}.toast-error{background:#ff454533}.toast-warning{background:#ffd60033}.toast-info{background:#0091ff33}}.toast:focus-within{outline:2px solid rgba(255,255,255,.5);outline-offset:2px}@media (prefers-reduced-motion: reduce){.toast,.toast-visible,.toast-hiding{transition:opacity .1s linear;animation:none}}.all-schedules-view{padding:0 16px;box-sizing:border-box}.filter-tabs-container{position:relative;background:#ffffff0d;padding:4px;border-radius:12px;margin-bottom:16px}.filter-tabs{display:flex;gap:8px;position:relative;z-index:2}.filter-tab{flex:1;padding:8px 16px;background:transparent;border:none;color:#fff9;font-size:14px;font-weight:500;cursor:pointer;border-radius:8px;transition:all .2s ease;position:relative;z-index:2}.filter-tab.active{color:#fff}.filter-tab:hover:not(.active){color:#fffc}.tab-slider{position:absolute;top:4px;left:0;height:calc(100% - 8px);background:linear-gradient(135deg,#3b82f666,#8b5cf666);border-radius:8px;z-index:1;box-shadow:0 8px 32px #3b82f626,inset 0 1px #fff3,inset 0 -1px #0000001a;transform-origin:left center}.schedules-list{display:flex;flex-direction:column;gap:8px;margin-bottom:20px}.scheduler-item{display:flex;align-items:center;padding:12px;background:#ffffff08;border-radius:12px;transition:background-color .3s ease,box-shadow .3s ease;position:relative;overflow:hidden;cursor:pointer;will-change:transform,opacity;transform:translateZ(0)}.scheduler-item:hover{background:#ffffff14}.item-icon{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:#ffffff0d;border-radius:10px;margin-right:12px;transition:all .3s ease;flex-shrink:0}.scheduler-item:hover .item-icon{background:#ffffff14;box-shadow:0 0 10px #ffffff1a}.item-icon svg{width:24px;height:24px;opacity:.9;color:#ffffffe6;stroke:#ffffffe6}.item-content{flex:1;min-width:0}.item-name{font-size:14px;font-weight:500;color:#fff;margin-bottom:2px;display:flex;align-items:center;justify-content:space-between;gap:8px}.item-time{font-size:12px;color:#ffffff80;display:flex;flex-wrap:wrap;gap:4px;align-items:center}.item-time .separator{color:#ffffff4d;margin:0 2px}.item-type{padding:2px 8px;border-radius:4px;font-size:10px;text-transform:uppercase;letter-spacing:.5px;color:#fffffff2;font-weight:500;flex-shrink:0;border:1px solid rgba(255,255,255,.1)}.item-type.climate{background:#0091ff;border-color:#0091ff80}.item-type.light{background:#ff9230;border-color:#ff923080}.item-type.cover{background:#34c759;border-color:#34c75980}.item-type.switch{background:#8e8e93;border-color:#8e8e9380}.item-type{background:#00d2e0;border-color:#00d2e080}.item-actions{display:flex;align-items:center;gap:8px;margin-left:8px}.item-delete{width:40px;height:40px;border-radius:10px;background:#ffffff0d;border:none;color:#ffffff80;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease;padding:0}.item-delete svg{width:20px;height:20px;stroke:currentColor}.item-delete:hover{background:#ff3b3033;color:#ff3b30}.schedule-entity-info{display:flex;flex-direction:column;line-height:1.2;min-width:0}.schedule-entity-info .entity-name{color:#fff;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.item-toggle{width:40px;height:22px;border-radius:11px;background:#ffffff1a;border:none;cursor:pointer;display:flex;align-items:center;padding:2px;box-sizing:border-box;transition:background-color .3s ease}.item-toggle .toggle-thumb{width:18px;height:18px;background:#fff;border-radius:50%;box-shadow:0 1px 3px #0003}.item-toggle.enabled{background:#34c759}.item-toggle.disabled{background:#7878805c}.item-toggle.disabled .toggle-thumb{background:#f0f0f0}.all-schedules-view.loading{display:flex;justify-content:center;align-items:center;min-height:200px;color:#ffffff80}.loading-spinner{font-size:14px;animation:pulse 1.5s ease-in-out infinite}@keyframes pulse{0%,to{opacity:.5}50%{opacity:.8}}.empty-state{text-align:center;padding:40px;color:#ffffff4d}.info-footer{text-align:center;padding:16px;font-size:13px;color:#fff6;background:#0000001a;border-radius:12px;margin-top:16px}.weather-view{height:100%;display:flex;flex-direction:column;overflow-y:auto;padding:0}.refresh-button:active{transform:rotate(180deg)}.weather-location-selector{padding:12px 20px;border-bottom:1px solid var(--divider-color, rgba(0, 0, 0, .1))}.location-dropdown{width:100%;padding:12px 16px;border:1px solid var(--divider-color, rgba(0, 0, 0, .2));border-radius:12px;font-size:15px;background:var(--card-background-color, #fff);color:var(--text-primary-color, #1f1f1f);cursor:pointer;transition:border-color .2s}.location-dropdown:hover{border-color:var(--primary-color, #007aff)}.location-dropdown:focus{outline:none;border-color:var(--primary-color, #007aff);box-shadow:0 0 0 3px #007aff1a}.weather-current{padding:32px 20px;text-align:center;background:transparent}.weather-location{font-size:18px;font-weight:400;color:#fff;margin-bottom:8px;opacity:.8}.weather-temperature-large{font-size:96px;font-weight:100;line-height:1;color:#fff;margin-bottom:4px;letter-spacing:-2px;display:flex;align-items:flex-start;justify-content:center}.weather-temperature-large .temp-number{margin-left:16px}.weather-temperature-large .temp-unit{font-size:48px;font-weight:200;opacity:.8;margin-left:4px;margin-top:8px}.weather-condition{font-size:20px;font-weight:600;color:#fff;margin-bottom:8px;text-transform:capitalize}.weather-high-low{font-size:18px;font-weight:400;color:#fff;margin-bottom:24px;opacity:.8}.weather-icon-large{font-size:96px;line-height:1;margin-bottom:0;animation:float 3s ease-in-out infinite}@keyframes float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.weather-temperature{font-size:72px;font-weight:200;line-height:1;color:var(--text-primary-color, #1f1f1f);margin-bottom:8px}.weather-temperature .unit{font-size:36px;font-weight:300;opacity:.7;margin-left:4px}.weather-metrics{display:flex;justify-content:center;gap:32px;padding:0}.metric{display:flex;align-items:center;gap:8px}.metric-icon{display:flex;align-items:center;justify-content:center;width:20px;height:20px}.metric-value{font-size:15px;font-weight:500;color:#fff}.metric-label{font-size:12px;color:var(--text-secondary-color, #666);opacity:.8}.hourly-forecast{padding:20px 0;margin:0 20px 20px;background:#ffffff08;border-radius:16px}.weather-summary-text{font-size:12px;line-height:1.5;color:#fffc;padding:0 0 16px;margin:0 20px 16px;font-weight:400;letter-spacing:.2px;border-bottom:1px solid rgba(255,255,255,.1)}.hourly-forecast-title{font-size:14px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:#fff9;margin:0 0 12px;padding:0 20px}.hourly-forecast-scroll{display:flex;gap:10px;padding:0 20px;overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;-ms-overflow-style:none}.hourly-forecast-scroll::-webkit-scrollbar{display:none}.hourly-forecast-item{display:flex;flex-direction:column;align-items:center;gap:8px;min-width:60px;max-width:60px;padding:0 25px 0 0;background:transparent;border-radius:12px;transition:background .2s}.hourly-time{font-size:14px;font-weight:500;color:#fff;white-space:nowrap}.hourly-icon{font-size:22px;line-height:1}.hourly-temp{font-size:18px;font-weight:600;color:#fff}.hourly-precipitation{display:flex;align-items:center;gap:4px;font-size:12px;color:#fff}.hourly-forecast .scroll-indicator{position:absolute;top:56%;transform:translateY(-50%);width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;cursor:pointer;z-index:10;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);box-shadow:0 2px 8px #00000026}.hourly-forecast .scroll-indicator svg{width:16px;height:16px}.hourly-forecast .scroll-indicator-left{left:5px}.hourly-forecast .scroll-indicator-right{right:5px}.weather-forecast{padding:20px;margin:0 20px 20px;background:#ffffff08;border-radius:16px}.forecast-title{font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:#fff9;margin:0 0 16px}.forecast-list{display:flex;flex-direction:column;gap:0}.forecast-day{display:grid;grid-template-columns:60px 40px 40px 1fr;align-items:center;gap:12px;padding:12px 0;background:transparent;border:none;border-bottom:1px solid rgba(255,255,255,.1);border-radius:0;transition:background .2s}.forecast-day:last-child{border-bottom:none}.forecast-weekday{font-size:15px;font-weight:500;color:#fff}.forecast-icon{font-size:22px;text-align:center;line-height:1}.forecast-precipitation{font-size:14px;color:var(--primary-color, #007aff);text-align:center;min-width:40px}.forecast-temp-container{display:flex;align-items:center;gap:12px;flex:1}.temp-low{font-size:15px;font-weight:400;color:#fff9;min-width:32px;text-align:right}.temp-high{font-size:15px;font-weight:600;color:#fff;min-width:32px;text-align:left}.temperature-bar-container{flex:1;display:flex;align-items:center;min-width:100px;height:28px}.temperature-bar-track{position:relative;width:100%;height:4px;background:var(--divider-color, rgba(0, 0, 0, .1));border-radius:2px}.temperature-bar-range{position:absolute;top:0;height:100%;background:linear-gradient(90deg,gold,#ff8c00);border-radius:2px;transition:all .3s ease}.temperature-bar-current{position:absolute;top:50%;transform:translate(-50%,-50%);width:8px;height:8px;background:#fff;border:2px solid var(--text-primary-color, #1f1f1f);border-radius:50%;box-shadow:0 1px 3px #0003;z-index:1}.weather-attribution{padding:16px 20px;text-align:center;font-size:12px;color:var(--text-secondary-color, #666);opacity:.7;border-top:1px solid var(--divider-color, rgba(0, 0, 0, .1))}.weather-loading{display:flex;align-items:center;justify-content:center;height:400px}.loading-spinner{font-size:16px;color:var(--text-secondary-color, #666);animation:pulse 1.5s ease-in-out infinite}@keyframes pulse{0%,to{opacity:.5}50%{opacity:1}}.weather-error{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;padding:20px;text-align:center}.weather-error p{font-size:16px;color:var(--text-secondary-color, #666);margin:16px 0 24px}.retry-button{padding:12px 24px;background:var(--primary-color, #007aff);color:#fff;border:none;border-radius:12px;font-size:15px;font-weight:600;cursor:pointer;transition:opacity .2s,transform .1s}.retry-button:hover{opacity:.9}.retry-button:active{transform:scale(.98)}@media (max-width: 768px){.weather-temperature-large{font-size:80px;letter-spacing:-1.5px}.weather-icon-large{font-size:80px}.weather-metrics{gap:24px}.metric{gap:6px}.hourly-forecast-scroll{gap:10px}.hourly-forecast-item{min-width:56px;padding:10px 6px}.forecast-day{grid-template-columns:50px 36px 36px 1fr;gap:10px;padding:10px 0}.forecast-icon{font-size:28px}.temperature-bar-container{min-width:80px}}@media (max-width: 480px){.weather-location{font-size:16px}.weather-temperature-large{font-size:64px;letter-spacing:-1px}.weather-condition{font-size:18px}.weather-high-low{font-size:16px}.weather-icon-large{font-size:64px}.weather-metrics{gap:16px}.metric-icon{width:18px;height:18px}.metric-value{font-size:14px}.hourly-forecast-scroll{gap:10px}.hourly-forecast-item{min-width:52px;padding:8px 4px;gap:6px}.hourly-time{font-size:12px}.hourly-icon{font-size:40px}.hourly-temp{font-size:16px}.forecast-day{grid-template-columns:45px 32px 32px 1fr;gap:8px;padding:8px 0}.forecast-weekday{font-size:13px}.forecast-icon{font-size:24px}.forecast-precipitation{font-size:12px;min-width:32px}.temp-high,.temp-low{font-size:14px;min-width:28px}.temperature-bar-container{min-width:60px;height:24px}.temperature-bar-track{height:3px}.temperature-bar-current{width:6px;height:6px;border-width:1.5px}}@media (prefers-color-scheme: dark){.weather-current{background:transparent}.forecast-day{background:transparent;border:none;border-bottom:1px solid rgba(255,255,255,.1)}.forecast-day:last-child{border-bottom:none}}:root{--news-orange: rgb(255, 149, 0);--news-blue: rgb(0, 122, 255);--news-red: rgb(255, 59, 48);--news-gold: rgb(255, 214, 10)}.news-view-container{width:100%;height:100%;background:#0003;border-radius:24px;overflow:hidden;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;padding:20px}.news-header{display:flex;align-items:center;padding:20px;gap:16px;background:#ffffff0d;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-bottom:1px solid rgba(255,255,255,.1)}.news-back-button,.news-refresh-button{background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:12px;width:44px;height:44px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#fffffff2;transition:all .2s ease}.news-back-button:hover,.news-refresh-button:hover{background:#fff3;transform:scale(1.05)}.news-refresh-button.refreshing{animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.news-title{flex:1;font-size:28px;font-weight:700;color:#fffffff2;margin:0;letter-spacing:-.5px}.news-filter-bar{overflow-x:auto;scrollbar-width:none;margin-bottom:20px;margin-left:-20px;margin-right:-20px;padding-left:20px;padding-right:20px;position:relative}.news-filter-bar::-webkit-scrollbar{display:none}.news-scroll-indicator{position:absolute;top:50%;transform:translateY(-50%);width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;cursor:pointer;z-index:10;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);background:#0000004d}.news-scroll-indicator-left{left:5px}.news-scroll-indicator-right{right:5px}.news-scroll-indicator svg{width:14px;height:14px}.filter-tabs{display:flex;gap:8px;min-width:min-content}.filter-tab{padding:8px 16px;border-radius:20px;color:#ffffffb3;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease;white-space:nowrap}.filter-tab:hover{background:#ffffff26}.filter-tab.active{background:#fffffff2;border-color:#fffffff2;color:#000000e6;font-weight:500}.filter-tab.category-tech.active,.filter-tab.category-news.active,.filter-tab.category-smarthome.active,.filter-tab.category-sport.active,.filter-tab.category-entertainment.active,.filter-tab.category-politics.active,.filter-tab.category-business.active{background:#fffffff2;border-color:#fffffff2;color:#000000e6}.news-feed{flex:1;overflow-y:auto;padding:0;scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.2) transparent}.news-feed::-webkit-scrollbar{width:8px}.news-feed::-webkit-scrollbar-track{background:transparent}.news-feed::-webkit-scrollbar-thumb{background:#fff3;border-radius:4px}.news-articles-list{display:flex;flex-direction:column;gap:16px}.news-article-card{background:#ffffff1a;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-radius:16px;padding:16px;cursor:pointer;transition:all .3s ease;position:relative;display:flex;gap:16px}.news-article-card.unread{border-left:4px solid var(--news-blue);background:#ffffff26;padding-left:14px}.news-article-card.unread:hover{border-left-color:var(--news-blue);box-shadow:0 8px 24px #007aff4d}.news-article-card:hover{background:#ffffff2e;transform:translateY(-2px);box-shadow:0 8px 24px #0003}.news-article-card.read{opacity:.65}.article-thumbnail{width:50px;height:50px;min-width:50px;border-radius:12px;overflow:hidden;background:#0000004d;position:relative}.article-thumbnail:after{content:"";position:absolute;inset:0;background:linear-gradient(to bottom,transparent 50%,rgba(0,0,0,.3));pointer-events:none}.article-thumbnail img{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.news-article-card:hover .article-thumbnail img{transform:scale(1.05)}.article-content{flex:1;min-width:0;display:flex;flex-direction:column;gap:0px}.article-footer{display:flex;align-items:center;gap:6px;font-size:12px;color:#fff9}.article-source{font-weight:500;color:#ffffffb3}.article-separator{color:#fff6}.article-reading-time,.article-date{color:#fff9}.article-category-badge{display:inline-block;padding:4px 10px;border-radius:8px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:#fff;background:#fff3;align-self:flex-start;margin-bottom:6px}.article-category-badge.category-tech{background:#007aff;box-shadow:0 2px 8px #007aff4d}.article-category-badge.category-news{background:#ff9500;box-shadow:0 2px 8px #ff95004d}.article-category-badge.category-smarthome{background:#30d158;box-shadow:0 2px 8px #30d1584d}.article-category-badge.category-sport{background:#ff3b30;box-shadow:0 2px 8px #ff3b304d}.article-category-badge.category-entertainment{background:#af52de;box-shadow:0 2px 8px #af52de4d}.article-category-badge.category-politics{background:#5ac8fa;box-shadow:0 2px 8px #5ac8fa4d}.article-category-badge.category-business{background:#fc0;box-shadow:0 2px 8px #ffcc004d;color:#000c}.article-title{font-size:14px;font-weight:600;color:#fffffff2;line-height:1;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;letter-spacing:-.3px;transition:all .2s ease;background:linear-gradient(to right,rgba(255,255,255,.95) 85%,transparent 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.news-article-card.unread .article-title{font-weight:700;color:#fff;background:linear-gradient(to right,rgba(255,255,255,1) 85%,transparent 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.article-favorite-button{position:absolute;top:16px;right:16px;width:36px;height:36px;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#ffffffb3;transition:all .2s ease}.article-favorite-button:hover{background:#fff3;transform:scale(1.1)}.article-favorite-button.active{background:var(--news-gold);border-color:var(--news-gold);color:#fff}.article-unread-indicator{position:absolute;top:12px;left:12px;width:8px;height:8px;background:var(--news-blue);border-radius:50%;box-shadow:0 0 8px #007aff80}.news-empty{text-align:center;padding:60px 20px;color:#fffc;display:flex;flex-direction:column;align-items:center;gap:16px}.empty-icon{font-size:64px;opacity:.8}.news-empty h3{font-size:24px;font-weight:700;color:#fffffff2;margin:0}.news-empty p{font-size:15px;color:#ffffffb3;margin:0;max-width:300px}.news-loading{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;gap:16px;color:#fffc}.loading-spinner{width:40px;height:40px;border:3px solid rgba(255,255,255,.2);border-top-color:var(--news-orange);border-radius:50%;animation:spin 1s linear infinite}.news-error{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;gap:16px;padding:20px;text-align:center;color:#fffc}.news-error h3{font-size:24px;margin:0}.news-error p{font-size:16px;color:#fff9}.retry-button{padding:12px 24px;background:var(--news-orange);border:none;border-radius:12px;color:#fff;font-size:16px;font-weight:600;cursor:pointer;transition:all .2s ease}.retry-button:hover{transform:scale(1.05);box-shadow:0 4px 12px #ff95004d}.news-settings-button{background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:12px;width:44px;height:44px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#fffffff2;transition:all .2s ease}.news-settings-button:hover{background:#fff3;transform:scale(1.05)}.news-settings-tabs{display:flex;gap:8px;padding:16px 20px;background:#ffffff08;border-bottom:1px solid rgba(255,255,255,.08)}.settings-tab{padding:10px 20px;background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:12px;color:#ffffffb3;font-size:15px;font-weight:500;cursor:pointer;transition:all .2s ease}.settings-tab:hover{background:#ffffff26}.settings-tab.active{background:var(--news-orange);border-color:var(--news-orange);color:#fff}.news-settings-content{flex:1;overflow-y:auto;padding:24px 20px;scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.2) transparent}.settings-feeds-list h2,.settings-options h2{font-size:24px;font-weight:700;color:#fffffff2;margin:0 0 8px}.settings-hint{font-size:14px;color:#ffffffb3;margin:0 0 24px}.no-feeds-message{text-align:center;padding:40px 20px;color:#fff9}.feed-item{background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:16px;padding:20px;margin-bottom:16px;transition:all .2s ease}.feed-item:hover{background:#ffffff1f}.feed-item-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.feed-info h3{font-size:18px;font-weight:600;color:#fffffff2;margin:0 0 4px}.feed-count{font-size:13px;color:#fff9}.feed-toggle{position:relative;display:inline-block;width:50px;height:28px}.feed-toggle input{opacity:0;width:0;height:0}.toggle-slider{position:absolute;cursor:pointer;inset:0;background:#fff3;border-radius:28px;transition:all .3s ease}.toggle-slider:before{position:absolute;content:"";height:20px;width:20px;left:4px;bottom:4px;background-color:#fff;border-radius:50%;transition:all .3s ease}.feed-toggle input:checked+.toggle-slider{background:var(--news-blue)}.feed-toggle input:checked+.toggle-slider:before{transform:translate(22px)}.feed-item-category{display:flex;align-items:center;gap:12px}.feed-item-category label{font-size:14px;font-weight:500;color:#fffc}.feed-item-category select{flex:1;padding:10px 14px;background:#0000004d;border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fffffff2;font-size:14px;cursor:pointer;transition:all .2s ease}.feed-item-category select:disabled{opacity:.5;cursor:not-allowed}.feed-item-category select:hover:not(:disabled){background:#0006;border-color:#ffffff4d}.setting-item{background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:12px;padding:20px;margin-bottom:16px}.setting-item label{display:block;font-size:16px;font-weight:600;color:#fffffff2;margin-bottom:8px}.setting-description{font-size:14px;color:#ffffffb3;margin:0 0 12px}.setting-item select,.setting-item input[type=number]{width:100%;padding:12px 16px;background:#0000004d;border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fffffff2;font-size:15px;cursor:pointer;transition:all .2s ease}.setting-item select:hover,.setting-item input[type=number]:hover{background:#0006;border-color:#ffffff4d}.checkbox-label{display:flex!important;align-items:center;gap:12px;cursor:pointer;font-weight:500!important}.checkbox-label input[type=checkbox]{width:20px;height:20px;cursor:pointer}.news-detail-header{display:flex;align-items:center;padding:20px;gap:16px;background:#ffffff0d;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-bottom:1px solid rgba(255,255,255,.1)}.news-detail-actions{display:flex;gap:8px}.news-action-button{background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:12px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#fffffff2;transition:all .2s ease}.news-action-button:hover{background:#fff3;transform:scale(1.05)}.news-action-button.active{background:var(--news-gold);border-color:var(--news-gold);color:#fff}.news-detail-content{flex:1;overflow-y:auto;padding:20px;scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.2) transparent}.news-detail-article{max-width:800px;margin:0 auto}.article-detail-thumbnail{width:100%;max-height:400px;border-radius:16px;overflow:hidden;margin-bottom:24px;background:#0003}.article-detail-thumbnail img{width:100%;height:100%;object-fit:cover}.article-detail-meta{display:flex;align-items:center;gap:8px;font-size:14px;color:#fff9;margin-bottom:16px}.article-detail-source{font-weight:600;color:var(--news-orange)}.article-detail-time,.article-detail-category{color:#fff9}.article-detail-title{font-size:32px;font-weight:700;color:#fffffff2;line-height:1.2;margin:0 0 24px;letter-spacing:-.5px}.article-detail-description{font-size:18px;line-height:1.6;color:#fffc;margin:0 0 24px;font-weight:500}.article-detail-body{font-size:16px;line-height:1.8;color:#ffffffd9;margin:0 0 32px;white-space:pre-wrap;word-wrap:break-word}.article-detail-link-button{display:inline-flex;align-items:center;gap:8px;padding:14px 24px;background:var(--news-orange);border:none;border-radius:12px;color:#fff;font-size:16px;font-weight:600;cursor:pointer;transition:all .2s ease}.article-detail-link-button:hover{transform:scale(1.05);box-shadow:0 8px 20px #ff950066}.article-detail-link-button svg{stroke:#fff}.news-feedparser-hint{padding:40px 20px;max-width:600px;margin:0 auto;color:#ffffffe6;text-align:center}.hint-icon{margin:0 auto 24px;color:var(--news-orange);opacity:.9}.news-feedparser-hint h2{font-size:28px;font-weight:700;margin:0 0 16px;color:#fffffff2}.hint-description{font-size:16px;line-height:1.6;color:#fffc;margin:0 0 32px}.hint-steps{background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:16px;padding:24px;margin-bottom:24px;text-align:left}.hint-steps h3{font-size:18px;font-weight:600;margin:0 0 16px;color:#fffffff2}.hint-steps ol{margin:0;padding-left:24px}.hint-steps li{font-size:15px;line-height:1.8;color:#fffc;margin-bottom:8px}.hint-example{background:#0000004d;border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:20px;margin-bottom:24px;text-align:left}.hint-example h3{font-size:16px;font-weight:600;margin:0 0 12px;color:#ffffffe6}.hint-example pre{margin:0;padding:16px;background:#0006;border-radius:8px;overflow-x:auto;font-size:13px;line-height:1.6;color:#ffffffd9;font-family:Monaco,Courier New,monospace}.hint-link-button{display:inline-flex;align-items:center;gap:8px;padding:14px 24px;background:var(--news-orange);border:none;border-radius:12px;color:#fff;font-size:16px;font-weight:600;text-decoration:none;cursor:pointer;transition:all .2s ease}.hint-link-button:hover{transform:scale(1.05);box-shadow:0 8px 20px #ff950066}.hint-link-button svg{stroke:#fff}@media (max-width: 768px){.news-header{padding:16px}.news-title{font-size:24px}.news-feed{padding:16px}.article-thumbnail{width:50px;height:50px;min-width:50px}.article-title,.article-description{font-size:13px}}@media (max-width: 480px){.news-article-card{flex-direction:column}.article-thumbnail{width:100%;height:180px}.article-favorite-button{top:auto;bottom:16px;right:16px}}\n';
    this.shadowRoot.appendChild(style);

    // Referenz zum existierenden #root DIV holen
    this._root = this.shadowRoot.querySelector('#root');
    
    if (!this._root) {
      console.error('[FastSearchCard] #root element not found in shadow DOM!');
      return;
    }

    // Optional: HÃ¶he setzen falls konfiguriert
    if (this._config.card_height) {
      this._root.style.height = this._config.card_height + 'px';
    }

    this._tryMountApp();
  }

  _tryMountApp(retries = 0) {
    if (window.FastSearchCardApp && window.FastSearchCardApp.mount) {
      try {
        window.FastSearchCardApp.mount(this._root, this._hass, this._config);
        this._appMounted = true;
        console.log('[FastSearchCard] Preact app mounted successfully (Blur-Wrapper Architecture)');
      } catch (error) {
        console.error('[FastSearchCard] Mount error:', error);
        this._root.innerHTML = '<div style="color: red; padding: 20px;">Error mounting Fast Search Card: ' + error.message + '</div>';
      }
    } else if (retries < 10) {
      setTimeout(() => this._tryMountApp(retries + 1), 100);
    } else {
      console.error('[FastSearchCard] App interface not available after retries');
      this._root.innerHTML = '<div style="color: red; padding: 20px;">Fast Search Card failed to load</div>';
    }
  }

  getCardSize() {
    return this._config.card_height ? Math.ceil(this._config.card_height / 50) : 10;
  }
}

// Register Custom Element
customElements.define('fast-search-card', FastSearchCardElement);

// Register with Home Assistant
window.customCards = window.customCards || [];
window.customCards.push({
  type: 'fast-search-card',
  name: 'Fast Search Card',
  description: 'Modern search interface with visionOS design (Blur-Wrapper Architecture)'
});

console.log('[FastSearchCard] Custom element registered (Blur-Wrapper)');

// === PREACT APP BUNDLE BELOW ===

var qg=Object.defineProperty;var Xg=(t,e,n)=>e in t?qg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Z=(t,e,n)=>Xg(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var us,le,Xh,Mn,Zl,Jh,Qh,ef,Ua,jo,Uo,tf,Gi={},nf=[],Jg=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,hs=Array.isArray;function Dt(t,e){for(var n in e)t[n]=e[n];return t}function Ga(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ei(t,e,n){var i,s,r,o={};for(r in e)r=="key"?i=e[r]:r=="ref"?s=e[r]:o[r]=e[r];if(arguments.length>2&&(o.children=arguments.length>3?us.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)o[r]===void 0&&(o[r]=t.defaultProps[r]);return Ni(t,o,i,s,null)}function Ni(t,e,n,i,s){var r={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++Xh,__i:-1,__u:0};return s==null&&le.vnode!=null&&le.vnode(r),r}function ae(t){return t.children}function xt(t,e){this.props=t,this.context=e}function ti(t,e){if(e==null)return t.__?ti(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?ti(t):null}function sf(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return sf(t)}}function Go(t){(!t.__d&&(t.__d=!0)&&Mn.push(t)&&!kr.__r++||Zl!=le.debounceRendering)&&((Zl=le.debounceRendering)||Jh)(kr)}function kr(){for(var t,e,n,i,s,r,o,a=1;Mn.length;)Mn.length>a&&Mn.sort(Qh),t=Mn.shift(),a=Mn.length,t.__d&&(n=void 0,s=(i=(e=t).__v).__e,r=[],o=[],e.__P&&((n=Dt({},i)).__v=i.__v+1,le.vnode&&le.vnode(n),Ka(e.__P,n,i,e.__n,e.__P.namespaceURI,32&i.__u?[s]:null,r,s??ti(i),!!(32&i.__u),o),n.__v=i.__v,n.__.__k[n.__i]=n,af(r,n,o),n.__e!=s&&sf(n)));kr.__r=0}function rf(t,e,n,i,s,r,o,a,c,d,u){var h,f,p,y,g,m,b,v=i&&i.__k||nf,_=e.length;for(c=Qg(n,e,v,c,_),h=0;h<_;h++)(p=n.__k[h])!=null&&(f=p.__i==-1?Gi:v[p.__i]||Gi,p.__i=h,m=Ka(t,p,f,s,r,o,a,c,d,u),y=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&Ya(f.ref,null,p),u.push(p.ref,p.__c||y,p)),g==null&&y!=null&&(g=y),(b=!!(4&p.__u))||f.__k===p.__k?c=of(p,c,t,b):typeof p.type=="function"&&m!==void 0?c=m:y&&(c=y.nextSibling),p.__u&=-7);return n.__e=g,c}function Qg(t,e,n,i,s){var r,o,a,c,d,u=n.length,h=u,f=0;for(t.__k=new Array(s),r=0;r<s;r++)(o=e[r])!=null&&typeof o!="boolean"&&typeof o!="function"?(c=r+f,(o=t.__k[r]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?Ni(null,o,null,null,null):hs(o)?Ni(ae,{children:o},null,null,null):o.constructor==null&&o.__b>0?Ni(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=t,o.__b=t.__b+1,a=null,(d=o.__i=em(o,n,c,h))!=-1&&(h--,(a=n[d])&&(a.__u|=2)),a==null||a.__v==null?(d==-1&&(s>u?f--:s<u&&f++),typeof o.type!="function"&&(o.__u|=4)):d!=c&&(d==c-1?f--:d==c+1?f++:(d>c?f--:f++,o.__u|=4))):t.__k[r]=null;if(h)for(r=0;r<u;r++)(a=n[r])!=null&&(2&a.__u)==0&&(a.__e==i&&(i=ti(a)),cf(a,a));return i}function of(t,e,n,i){var s,r;if(typeof t.type=="function"){for(s=t.__k,r=0;s&&r<s.length;r++)s[r]&&(s[r].__=t,e=of(s[r],e,n,i));return e}t.__e!=e&&(i&&(e&&t.type&&!e.parentNode&&(e=ti(t)),n.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Kt(t,e){return e=e||[],t==null||typeof t=="boolean"||(hs(t)?t.some(function(n){Kt(n,e)}):e.push(t)),e}function em(t,e,n,i){var s,r,o,a=t.key,c=t.type,d=e[n],u=d!=null&&(2&d.__u)==0;if(d===null&&t.key==null||u&&a==d.key&&c==d.type)return n;if(i>(u?1:0)){for(s=n-1,r=n+1;s>=0||r<e.length;)if((d=e[o=s>=0?s--:r++])!=null&&(2&d.__u)==0&&a==d.key&&c==d.type)return o}return-1}function ql(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Jg.test(e)?n:n+"px"}function xs(t,e,n,i,s){var r,o;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||ql(t.style,e,"");if(n)for(e in n)i&&n[e]==i[e]||ql(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")r=e!=(e=e.replace(ef,"$1")),o=e.toLowerCase(),e=o in t||e=="onFocusOut"||e=="onFocusIn"?o.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=n,n?i?n.u=i.u:(n.u=Ua,t.addEventListener(e,r?Uo:jo,r)):t.removeEventListener(e,r?Uo:jo,r);else{if(s=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function Xl(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=Ua++;else if(e.t<n.u)return;return n(le.event?le.event(e):e)}}}function Ka(t,e,n,i,s,r,o,a,c,d){var u,h,f,p,y,g,m,b,v,_,k,w,C,x,S,R,N,F=e.type;if(e.constructor!=null)return null;128&n.__u&&(c=!!(32&n.__u),r=[a=e.__e=n.__e]),(u=le.__b)&&u(e);e:if(typeof F=="function")try{if(b=e.props,v="prototype"in F&&F.prototype.render,_=(u=F.contextType)&&i[u.__c],k=u?_?_.props.value:u.__:i,n.__c?m=(h=e.__c=n.__c).__=h.__E:(v?e.__c=h=new F(b,k):(e.__c=h=new xt(b,k),h.constructor=F,h.render=nm),_&&_.sub(h),h.props=b,h.state||(h.state={}),h.context=k,h.__n=i,f=h.__d=!0,h.__h=[],h._sb=[]),v&&h.__s==null&&(h.__s=h.state),v&&F.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Dt({},h.__s)),Dt(h.__s,F.getDerivedStateFromProps(b,h.__s))),p=h.props,y=h.state,h.__v=e,f)v&&F.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),v&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(v&&F.getDerivedStateFromProps==null&&b!==p&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(b,k),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(b,h.__s,k)===!1||e.__v==n.__v){for(e.__v!=n.__v&&(h.props=b,h.state=h.__s,h.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(O){O&&(O.__=e)}),w=0;w<h._sb.length;w++)h.__h.push(h._sb[w]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(b,h.__s,k),v&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(p,y,g)})}if(h.context=k,h.props=b,h.__P=t,h.__e=!1,C=le.__r,x=0,v){for(h.state=h.__s,h.__d=!1,C&&C(e),u=h.render(h.props,h.state,h.context),S=0;S<h._sb.length;S++)h.__h.push(h._sb[S]);h._sb=[]}else do h.__d=!1,C&&C(e),u=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++x<25);h.state=h.__s,h.getChildContext!=null&&(i=Dt(Dt({},i),h.getChildContext())),v&&!f&&h.getSnapshotBeforeUpdate!=null&&(g=h.getSnapshotBeforeUpdate(p,y)),R=u,u!=null&&u.type===ae&&u.key==null&&(R=lf(u.props.children)),a=rf(t,hs(R)?R:[R],e,n,i,s,r,o,a,c,d),h.base=e.__e,e.__u&=-161,h.__h.length&&o.push(h),m&&(h.__E=h.__=null)}catch(O){if(e.__v=null,c||r!=null)if(O.then){for(e.__u|=c?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;r[r.indexOf(a)]=null,e.__e=a}else{for(N=r.length;N--;)Ga(r[N]);Ko(e)}else e.__e=n.__e,e.__k=n.__k,O.then||Ko(e);le.__e(O,e,n)}else r==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):a=e.__e=tm(n.__e,e,n,i,s,r,o,c,d);return(u=le.diffed)&&u(e),128&e.__u?void 0:a}function Ko(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(Ko)}function af(t,e,n){for(var i=0;i<n.length;i++)Ya(n[i],n[++i],n[++i]);le.__c&&le.__c(e,t),t.some(function(s){try{t=s.__h,s.__h=[],t.some(function(r){r.call(s)})}catch(r){le.__e(r,s.__v)}})}function lf(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:hs(t)?t.map(lf):Dt({},t)}function tm(t,e,n,i,s,r,o,a,c){var d,u,h,f,p,y,g,m=n.props,b=e.props,v=e.type;if(v=="svg"?s="http://www.w3.org/2000/svg":v=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),r!=null){for(d=0;d<r.length;d++)if((p=r[d])&&"setAttribute"in p==!!v&&(v?p.localName==v:p.nodeType==3)){t=p,r[d]=null;break}}if(t==null){if(v==null)return document.createTextNode(b);t=document.createElementNS(s,v,b.is&&b),a&&(le.__m&&le.__m(e,r),a=!1),r=null}if(v==null)m===b||a&&t.data==b||(t.data=b);else{if(r=r&&us.call(t.childNodes),m=n.props||Gi,!a&&r!=null)for(m={},d=0;d<t.attributes.length;d++)m[(p=t.attributes[d]).name]=p.value;for(d in m)if(p=m[d],d!="children"){if(d=="dangerouslySetInnerHTML")h=p;else if(!(d in b)){if(d=="value"&&"defaultValue"in b||d=="checked"&&"defaultChecked"in b)continue;xs(t,d,null,p,s)}}for(d in b)p=b[d],d=="children"?f=p:d=="dangerouslySetInnerHTML"?u=p:d=="value"?y=p:d=="checked"?g=p:a&&typeof p!="function"||m[d]===p||xs(t,d,p,m[d],s);if(u)a||h&&(u.__html==h.__html||u.__html==t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(h&&(t.innerHTML=""),rf(e.type=="template"?t.content:t,hs(f)?f:[f],e,n,i,v=="foreignObject"?"http://www.w3.org/1999/xhtml":s,r,o,r?r[0]:n.__k&&ti(n,0),a,c),r!=null)for(d=r.length;d--;)Ga(r[d]);a||(d="value",v=="progress"&&y==null?t.removeAttribute("value"):y!=null&&(y!==t[d]||v=="progress"&&!y||v=="option"&&y!=m[d])&&xs(t,d,y,m[d],s),d="checked",g!=null&&g!=t[d]&&xs(t,d,g,m[d],s))}return t}function Ya(t,e,n){try{if(typeof t=="function"){var i=typeof t.__u=="function";i&&t.__u(),i&&e==null||(t.__u=t(e))}else t.current=e}catch(s){le.__e(s,n)}}function cf(t,e,n){var i,s;if(le.unmount&&le.unmount(t),(i=t.ref)&&(i.current&&i.current!=t.__e||Ya(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(r){le.__e(r,e)}i.base=i.__P=null}if(i=t.__k)for(s=0;s<i.length;s++)i[s]&&cf(i[s],e,n||typeof t.type!="function");n||Ga(t.__e),t.__c=t.__=t.__e=void 0}function nm(t,e,n){return this.constructor(t,n)}function or(t,e,n){var i,s,r,o;e==document&&(e=document.documentElement),le.__&&le.__(t,e),s=(i=!1)?null:e.__k,r=[],o=[],Ka(e,t=e.__k=ei(ae,null,[t]),s||Gi,Gi,e.namespaceURI,s?null:e.firstChild?us.call(e.childNodes):null,r,s?s.__e:e.firstChild,i,o),af(r,t,o)}function im(t,e,n){var i,s,r,o,a=Dt({},t.props);for(r in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)r=="key"?i=e[r]:r=="ref"?s=e[r]:a[r]=e[r]===void 0&&o!=null?o[r]:e[r];return arguments.length>2&&(a.children=arguments.length>3?us.call(arguments,2):n),Ni(t.type,a,i||t.key,s||t.ref,null)}function Bn(t){function e(n){var i,s;return this.getChildContext||(i=new Set,(s={})[e.__c]=this,this.getChildContext=function(){return s},this.componentWillUnmount=function(){i=null},this.shouldComponentUpdate=function(r){this.props.value!=r.value&&i.forEach(function(o){o.__e=!0,Go(o)})},this.sub=function(r){i.add(r);var o=r.componentWillUnmount;r.componentWillUnmount=function(){i&&i.delete(r),o&&o.call(r)}}),n.children}return e.__c="__cC"+tf++,e.__=t,e.Provider=e.__l=(e.Consumer=function(n,i){return n.children(i)}).contextType=e,e}us=nf.slice,le={__e:function(t,e,n,i){for(var s,r,o;e=e.__;)if((s=e.__c)&&!s.__)try{if((r=s.constructor)&&r.getDerivedStateFromError!=null&&(s.setState(r.getDerivedStateFromError(t)),o=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,i||{}),o=s.__d),o)return s.__E=s}catch(a){t=a}throw t}},Xh=0,xt.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Dt({},this.state),typeof t=="function"&&(t=t(Dt({},n),this.props)),t&&Dt(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Go(this))},xt.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Go(this))},xt.prototype.render=ae,Mn=[],Jh=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Qh=function(t,e){return t.__v.__b-e.__v.__b},kr.__r=0,ef=/(PointerCapture)$|Capture$/i,Ua=0,jo=Xl(!1),Uo=Xl(!0),tf=0;var sm=0;function l(t,e,n,i,s,r){e||(e={});var o,a,c=e;if("ref"in c)for(a in c={},e)a=="ref"?o=e[a]:c[a]=e[a];var d={type:t,props:c,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--sm,__i:-1,__u:0,__source:s,__self:r};if(typeof t=="function"&&(o=t.defaultProps))for(a in o)c[a]===void 0&&(c[a]=o[a]);return le.vnode&&le.vnode(d),d}var an,Se,no,Jl,Ki=0,df=[],Re=le,Ql=Re.__b,ec=Re.__r,tc=Re.diffed,nc=Re.__c,ic=Re.unmount,sc=Re.__;function oi(t,e){Re.__h&&Re.__h(Se,t,Ki||e),Ki=0;var n=Se.__H||(Se.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function E(t){return Ki=1,uf(ff,t)}function uf(t,e,n){var i=oi(an++,2);if(i.t=t,!i.__c&&(i.__=[n?n(e):ff(void 0,e),function(a){var c=i.__N?i.__N[0]:i.__[0],d=i.t(c,a);c!==d&&(i.__N=[d,i.__[1]],i.__c.setState({}))}],i.__c=Se,!Se.__f)){var s=function(a,c,d){if(!i.__c.__H)return!0;var u=i.__c.__H.__.filter(function(f){return!!f.__c});if(u.every(function(f){return!f.__N}))return!r||r.call(this,a,c,d);var h=i.__c.props!==a;return u.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(h=!0)}}),r&&r.call(this,a,c,d)||h};Se.__f=!0;var r=Se.shouldComponentUpdate,o=Se.componentWillUpdate;Se.componentWillUpdate=function(a,c,d){if(this.__e){var u=r;r=void 0,s(a,c,d),r=u}o&&o.call(this,a,c,d)},Se.shouldComponentUpdate=s}return i.__N||i.__}function G(t,e){var n=oi(an++,3);!Re.__s&&qa(n.__H,e)&&(n.__=t,n.u=e,Se.__H.__h.push(n))}function hf(t,e){var n=oi(an++,4);!Re.__s&&qa(n.__H,e)&&(n.__=t,n.u=e,Se.__h.push(n))}function J(t){return Ki=5,Le(function(){return{current:t}},[])}function Le(t,e){var n=oi(an++,7);return qa(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function ge(t,e){return Ki=8,Le(function(){return t},e)}function We(t){var e=Se.context[t.__c],n=oi(an++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(Se)),e.props.value):t.__}function Za(){var t=oi(an++,11);if(!t.__){for(var e=Se.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var n=e.__m||(e.__m=[0,0]);t.__="P"+n[0]+"-"+n[1]++}return t.__}function rm(){for(var t;t=df.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ar),t.__H.__h.forEach(Yo),t.__H.__h=[]}catch(e){t.__H.__h=[],Re.__e(e,t.__v)}}Re.__b=function(t){Se=null,Ql&&Ql(t)},Re.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),sc&&sc(t,e)},Re.__r=function(t){ec&&ec(t),an=0;var e=(Se=t.__c).__H;e&&(no===Se?(e.__h=[],Se.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach(ar),e.__h.forEach(Yo),e.__h=[],an=0)),no=Se},Re.diffed=function(t){tc&&tc(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(df.push(e)!==1&&Jl===Re.requestAnimationFrame||((Jl=Re.requestAnimationFrame)||om)(rm)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),no=Se=null},Re.__c=function(t,e){e.some(function(n){try{n.__h.forEach(ar),n.__h=n.__h.filter(function(i){return!i.__||Yo(i)})}catch(i){e.some(function(s){s.__h&&(s.__h=[])}),e=[],Re.__e(i,n.__v)}}),nc&&nc(t,e)},Re.unmount=function(t){ic&&ic(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{ar(i)}catch(s){e=s}}),n.__H=void 0,e&&Re.__e(e,n.__v))};var rc=typeof requestAnimationFrame=="function";function om(t){var e,n=function(){clearTimeout(i),rc&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,35);rc&&(e=requestAnimationFrame(n))}function ar(t){var e=Se,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Se=e}function Yo(t){var e=Se;t.__c=t.__(),Se=e}function qa(t,e){return!t||t.length!==e.length||e.some(function(n,i){return n!==t[i]})}function ff(t,e){return typeof e=="function"?e(t):e}function pf(t,e){for(var n in e)t[n]=e[n];return t}function Zo(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var i in e)if(i!=="__source"&&t[i]!==e[i])return!0;return!1}var Xa=hf;function oc(t,e){this.props=t,this.context=e}function am(t,e){function n(s){var r=this.props.ref,o=r==s.ref;return!o&&r&&(r.call?r(null):r.current=null),e?!e(this.props,s)||!o:Zo(this.props,s)}function i(s){return this.shouldComponentUpdate=n,ei(t,s)}return i.displayName="Memo("+(t.displayName||t.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i.type=t,i}(oc.prototype=new xt).isPureReactComponent=!0,oc.prototype.shouldComponentUpdate=function(t,e){return Zo(this.props,t)||Zo(this.state,e)};var ac=le.__b;le.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),ac&&ac(t)};var lm=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function cm(t){function e(n){var i=pf({},n);return delete i.ref,t(i,n.ref||null)}return e.$$typeof=lm,e.render=t,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var lc=function(t,e){return t==null?null:Kt(Kt(t).map(e))},dm={map:lc,forEach:lc,count:function(t){return t?Kt(t).length:0},only:function(t){var e=Kt(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:Kt},um=le.__e;le.__e=function(t,e,n,i){if(t.then){for(var s,r=e;r=r.__;)if((s=r.__c)&&s.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),s.__c(t,e)}um(t,e,n,i)};var cc=le.unmount;function gf(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),t.__c.__H=null),(t=pf({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c.__e=!0,t.__c=null),t.__k=t.__k&&t.__k.map(function(i){return gf(i,e,n)})),t}function mf(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(i){return mf(i,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=n)),t}function io(){this.__u=0,this.o=null,this.__b=null}function yf(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Cs(){this.i=null,this.l=null}le.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),cc&&cc(t)},(io.prototype=new xt).__c=function(t,e){var n=e.__c,i=this;i.o==null&&(i.o=[]),i.o.push(n);var s=yf(i.__v),r=!1,o=function(){r||(r=!0,n.__R=null,s?s(a):a())};n.__R=o;var a=function(){if(!--i.__u){if(i.state.__a){var c=i.state.__a;i.__v.__k[0]=mf(c,c.__c.__P,c.__c.__O)}var d;for(i.setState({__a:i.__b=null});d=i.o.pop();)d.forceUpdate()}};i.__u++||32&e.__u||i.setState({__a:i.__b=i.__v.__k[0]}),t.then(o,o)},io.prototype.componentWillUnmount=function(){this.o=[]},io.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=gf(this.__b,n,i.__O=i.__P)}this.__b=null}var s=e.__a&&ei(ae,null,t.fallback);return s&&(s.__u&=-33),[ei(ae,null,e.__a?null:t.children),s]};var dc=function(t,e,n){if(++n[1]===n[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(n=t.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.i=n=n[2]}};(Cs.prototype=new xt).__a=function(t){var e=this,n=yf(e.__v),i=e.l.get(t);return i[0]++,function(s){var r=function(){e.props.revealOrder?(i.push(s),dc(e,t,i)):s()};n?n(r):r()}},Cs.prototype.render=function(t){this.i=null,this.l=new Map;var e=Kt(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.l.set(e[n],this.i=[1,0,this.i]);return t.children},Cs.prototype.componentDidUpdate=Cs.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(e,n){dc(t,n,e)})};var bf=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,hm=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,fm=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,pm=/[A-Z0-9]/g,gm=typeof document<"u",mm=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};xt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(xt.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var uc=le.event;function ym(){}function bm(){return this.cancelBubble}function vm(){return this.defaultPrevented}le.event=function(t){return uc&&(t=uc(t)),t.persist=ym,t.isPropagationStopped=bm,t.isDefaultPrevented=vm,t.nativeEvent=t};var _m={enumerable:!1,configurable:!0,get:function(){return this.class}},hc=le.vnode;le.vnode=function(t){typeof t.type=="string"&&(function(e){var n=e.props,i=e.type,s={},r=i.indexOf("-")===-1;for(var o in n){var a=n[o];if(!(o==="value"&&"defaultValue"in n&&a==null||gm&&o==="children"&&i==="noscript"||o==="class"||o==="className")){var c=o.toLowerCase();o==="defaultValue"&&"value"in n&&n.value==null?o="value":o==="download"&&a===!0?a="":c==="translate"&&a==="no"?a=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?o="ondblclick":c!=="onchange"||i!=="input"&&i!=="textarea"||mm(n.type)?c==="onfocus"?o="onfocusin":c==="onblur"?o="onfocusout":fm.test(o)&&(o=c):c=o="oninput":r&&hm.test(o)?o=o.replace(pm,"-$&").toLowerCase():a===null&&(a=void 0),c==="oninput"&&s[o=c]&&(o="oninputCapture"),s[o]=a}}i=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=Kt(n.children).forEach(function(d){d.props.selected=s.value.indexOf(d.props.value)!=-1})),i=="select"&&s.defaultValue!=null&&(s.value=Kt(n.children).forEach(function(d){d.props.selected=s.multiple?s.defaultValue.indexOf(d.props.value)!=-1:s.defaultValue==d.props.value})),n.class&&!n.className?(s.class=n.class,Object.defineProperty(s,"className",_m)):(n.className&&!n.class||n.class&&n.className)&&(s.class=s.className=n.className),e.props=s})(t),t.$$typeof=bf,hc&&hc(t)};var fc=le.__r;le.__r=function(t){fc&&fc(t)};var pc=le.diffed;le.diffed=function(t){pc&&pc(t);var e=t.props,n=t.__e;n!=null&&t.type==="textarea"&&"value"in e&&e.value!==n.value&&(n.value=e.value==null?"":e.value)};function vf(t){return!!t&&t.$$typeof===bf}function wm(t){return vf(t)?im.apply(null,arguments):t}const Ja=Bn({});function fs(t){const e=J(null);return e.current===null&&(e.current=t()),e.current}const Qa=typeof window<"u",el=Qa?hf:G,$r=Bn(null);function tl(t,e){t.indexOf(e)===-1&&t.push(e)}function nl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Yt=(t,e,n)=>n>e?e:n<t?t:n,Zt={},_f=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function wf(t){return typeof t=="object"&&t!==null}const kf=t=>/^0[^.\s]+$/u.test(t);function il(t){let e;return()=>(e===void 0&&(e=t()),e)}const bt=t=>t,km=(t,e)=>n=>e(t(n)),ps=(...t)=>t.reduce(km),Yi=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class sl{constructor(){this.subscriptions=[]}add(e){return tl(this.subscriptions,e),()=>nl(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let r=0;r<s;r++){const o=this.subscriptions[r];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Nt=t=>t*1e3,yt=t=>t/1e3;function xf(t,e){return e?t*(1e3/e):0}const Cf=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,xm=1e-7,Cm=12;function Sm(t,e,n,i,s){let r,o,a=0;do o=e+(n-e)/2,r=Cf(o,i,s)-t,r>0?n=o:e=o;while(Math.abs(r)>xm&&++a<Cm);return o}function gs(t,e,n,i){if(t===e&&n===i)return bt;const s=r=>Sm(r,0,1,t,n);return r=>r===0||r===1?r:Cf(s(r),e,i)}const Sf=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Mf=t=>e=>1-t(1-e),Af=gs(.33,1.53,.69,.99),rl=Mf(Af),Lf=Sf(rl),Tf=t=>(t*=2)<1?.5*rl(t):.5*(2-Math.pow(2,-10*(t-1))),ol=t=>1-Math.sin(Math.acos(t)),Ef=Mf(ol),Df=Sf(ol),Mm=gs(.42,0,1,1),Am=gs(0,0,.58,1),Ff=gs(.42,0,.58,1),Lm=t=>Array.isArray(t)&&typeof t[0]!="number",Nf=t=>Array.isArray(t)&&typeof t[0]=="number",Tm={linear:bt,easeIn:Mm,easeInOut:Ff,easeOut:Am,circIn:ol,circInOut:Df,circOut:Ef,backIn:rl,backInOut:Lf,backOut:Af,anticipate:Tf},Em=t=>typeof t=="string",gc=t=>{if(Nf(t)){const[e,n,i,s]=t;return gs(e,n,i,s)}else if(Em(t))return Tm[t];return t},Ss=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Dm(t,e){let n=new Set,i=new Set,s=!1,r=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),t()),u(a)}const d={schedule:(u,h=!1,f=!1)=>{const y=f&&s?n:i;return h&&o.add(u),y.has(u)||y.add(u),u},cancel:u=>{i.delete(u),o.delete(u)},process:u=>{if(a=u,s){r=!0;return}s=!0,[n,i]=[i,n],n.forEach(c),n.clear(),s=!1,r&&(r=!1,d.process(u))}};return d}const Fm=40;function Pf(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,o=Ss.reduce((_,k)=>(_[k]=Dm(r),_),{}),{setup:a,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:f,render:p,postRender:y}=o,g=()=>{const _=Zt.useManualTiming?s.timestamp:performance.now();n=!1,Zt.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(_-s.timestamp,Fm),1)),s.timestamp=_,s.isProcessing=!0,a.process(s),c.process(s),d.process(s),u.process(s),h.process(s),f.process(s),p.process(s),y.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(g))},m=()=>{n=!0,i=!0,s.isProcessing||t(g)};return{schedule:Ss.reduce((_,k)=>{const w=o[k];return _[k]=(C,x=!1,S=!1)=>(n||m(),w.schedule(C,x,S)),_},{}),cancel:_=>{for(let k=0;k<Ss.length;k++)o[Ss[k]].cancel(_)},state:s,steps:o}}const{schedule:xe,cancel:qt,state:Ze,steps:so}=Pf(typeof requestAnimationFrame<"u"?requestAnimationFrame:bt,!0);let lr;function Nm(){lr=void 0}const at={now:()=>(lr===void 0&&at.set(Ze.isProcessing||Zt.useManualTiming?Ze.timestamp:performance.now()),lr),set:t=>{lr=t,queueMicrotask(Nm)}},If=t=>e=>typeof e=="string"&&e.startsWith(t),al=If("--"),Pm=If("var(--"),ll=t=>Pm(t)?Im.test(t.split("/*")[0].trim()):!1,Im=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ai={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Zi={...ai,transform:t=>Yt(0,1,t)},Ms={...ai,default:1},Pi=t=>Math.round(t*1e5)/1e5,cl=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Rm(t){return t==null}const Om=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,dl=(t,e)=>n=>!!(typeof n=="string"&&Om.test(n)&&n.startsWith(t)||e&&!Rm(n)&&Object.prototype.hasOwnProperty.call(n,e)),Rf=(t,e,n)=>i=>{if(typeof i!="string")return i;const[s,r,o,a]=i.match(cl);return{[t]:parseFloat(s),[e]:parseFloat(r),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Vm=t=>Yt(0,255,t),ro={...ai,transform:t=>Math.round(Vm(t))},Ln={test:dl("rgb","red"),parse:Rf("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+ro.transform(t)+", "+ro.transform(e)+", "+ro.transform(n)+", "+Pi(Zi.transform(i))+")"};function Bm(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const qo={test:dl("#"),parse:Bm,transform:Ln.transform},ms=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),en=ms("deg"),Pt=ms("%"),ie=ms("px"),$m=ms("vh"),zm=ms("vw"),mc={...Pt,parse:t=>Pt.parse(t)/100,transform:t=>Pt.transform(t*100)},Un={test:dl("hsl","hue"),parse:Rf("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Pt.transform(Pi(e))+", "+Pt.transform(Pi(n))+", "+Pi(Zi.transform(i))+")"},Be={test:t=>Ln.test(t)||qo.test(t)||Un.test(t),parse:t=>Ln.test(t)?Ln.parse(t):Un.test(t)?Un.parse(t):qo.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ln.transform(t):Un.transform(t),getAnimatableNone:t=>{const e=Be.parse(t);return e.alpha=0,Be.transform(e)}},Hm=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Wm(t){return isNaN(t)&&typeof t=="string"&&(t.match(cl)?.length||0)+(t.match(Hm)?.length||0)>0}const Of="number",Vf="color",jm="var",Um="var(",yc="${}",Gm=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qi(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let r=0;const a=e.replace(Gm,c=>(Be.test(c)?(i.color.push(r),s.push(Vf),n.push(Be.parse(c))):c.startsWith(Um)?(i.var.push(r),s.push(jm),n.push(c)):(i.number.push(r),s.push(Of),n.push(parseFloat(c))),++r,yc)).split(yc);return{values:n,split:a,indexes:i,types:s}}function Bf(t){return qi(t).values}function $f(t){const{split:e,types:n}=qi(t),i=e.length;return s=>{let r="";for(let o=0;o<i;o++)if(r+=e[o],s[o]!==void 0){const a=n[o];a===Of?r+=Pi(s[o]):a===Vf?r+=Be.transform(s[o]):r+=s[o]}return r}}const Km=t=>typeof t=="number"?0:Be.test(t)?Be.getAnimatableNone(t):t;function Ym(t){const e=Bf(t);return $f(t)(e.map(Km))}const ln={test:Wm,parse:Bf,createTransformer:$f,getAnimatableNone:Ym};function oo(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Zm({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,r=0,o=0;if(!e)s=r=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;s=oo(c,a,t+1/3),r=oo(c,a,t),o=oo(c,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:i}}function xr(t,e){return n=>n>0?e:t}const De=(t,e,n)=>t+(e-t)*n,ao=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},qm=[qo,Ln,Un],Xm=t=>qm.find(e=>e.test(t));function bc(t){const e=Xm(t);if(!e)return!1;let n=e.parse(t);return e===Un&&(n=Zm(n)),n}const vc=(t,e)=>{const n=bc(t),i=bc(e);if(!n||!i)return xr(t,e);const s={...n};return r=>(s.red=ao(n.red,i.red,r),s.green=ao(n.green,i.green,r),s.blue=ao(n.blue,i.blue,r),s.alpha=De(n.alpha,i.alpha,r),Ln.transform(s))},Xo=new Set(["none","hidden"]);function Jm(t,e){return Xo.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Qm(t,e){return n=>De(t,e,n)}function ul(t){return typeof t=="number"?Qm:typeof t=="string"?ll(t)?xr:Be.test(t)?vc:n1:Array.isArray(t)?zf:typeof t=="object"?Be.test(t)?vc:e1:xr}function zf(t,e){const n=[...t],i=n.length,s=t.map((r,o)=>ul(r)(r,e[o]));return r=>{for(let o=0;o<i;o++)n[o]=s[o](r);return n}}function e1(t,e){const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=ul(t[s])(t[s],e[s]));return s=>{for(const r in i)n[r]=i[r](s);return n}}function t1(t,e){const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const r=e.types[s],o=t.indexes[r][i[r]],a=t.values[o]??0;n[s]=a,i[r]++}return n}const n1=(t,e)=>{const n=ln.createTransformer(e),i=qi(t),s=qi(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Xo.has(t)&&!s.values.length||Xo.has(e)&&!i.values.length?Jm(t,e):ps(zf(t1(i,s),s.values),n):xr(t,e)};function Hf(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?De(t,e,n):ul(t)(t,e)}const i1=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>xe.update(e,n),stop:()=>qt(e),now:()=>Ze.isProcessing?Ze.timestamp:at.now()}},Wf=(t,e,n=10)=>{let i="";const s=Math.max(Math.round(e/n),2);for(let r=0;r<s;r++)i+=Math.round(t(r/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Cr=2e4;function hl(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Cr;)e+=n,i=t.next(e);return e>=Cr?1/0:e}function s1(t,e=100,n){const i=n({...t,keyframes:[0,e]}),s=Math.min(hl(i),Cr);return{type:"keyframes",ease:r=>i.next(s*r).value/e,duration:yt(s)}}const r1=5;function jf(t,e,n){const i=Math.max(e-r1,0);return xf(n-t(i),e-i)}const Ne={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lo=.001;function o1({duration:t=Ne.duration,bounce:e=Ne.bounce,velocity:n=Ne.velocity,mass:i=Ne.mass}){let s,r,o=1-e;o=Yt(Ne.minDamping,Ne.maxDamping,o),t=Yt(Ne.minDuration,Ne.maxDuration,yt(t)),o<1?(s=d=>{const u=d*o,h=u*t,f=u-n,p=Jo(d,o),y=Math.exp(-h);return lo-f/p*y},r=d=>{const h=d*o*t,f=h*n+n,p=Math.pow(o,2)*Math.pow(d,2)*t,y=Math.exp(-h),g=Jo(Math.pow(d,2),o);return(-s(d)+lo>0?-1:1)*((f-p)*y)/g}):(s=d=>{const u=Math.exp(-d*t),h=(d-n)*t+1;return-lo+u*h},r=d=>{const u=Math.exp(-d*t),h=(n-d)*(t*t);return u*h});const a=5/t,c=l1(s,r,a);if(t=Nt(t),isNaN(c))return{stiffness:Ne.stiffness,damping:Ne.damping,duration:t};{const d=Math.pow(c,2)*i;return{stiffness:d,damping:o*2*Math.sqrt(i*d),duration:t}}}const a1=12;function l1(t,e,n){let i=n;for(let s=1;s<a1;s++)i=i-t(i)/e(i);return i}function Jo(t,e){return t*Math.sqrt(1-e*e)}const c1=["duration","bounce"],d1=["stiffness","damping","mass"];function _c(t,e){return e.some(n=>t[n]!==void 0)}function u1(t){let e={velocity:Ne.velocity,stiffness:Ne.stiffness,damping:Ne.damping,mass:Ne.mass,isResolvedFromDuration:!1,...t};if(!_c(t,d1)&&_c(t,c1))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,r=2*Yt(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ne.mass,stiffness:s,damping:r}}else{const n=o1(t);e={...e,...n,mass:Ne.mass},e.isResolvedFromDuration=!0}return e}function Sr(t=Ne.visualDuration,e=Ne.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const r=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:r},{stiffness:c,damping:d,mass:u,duration:h,velocity:f,isResolvedFromDuration:p}=u1({...n,velocity:-yt(n.velocity||0)}),y=f||0,g=d/(2*Math.sqrt(c*u)),m=o-r,b=yt(Math.sqrt(c/u)),v=Math.abs(m)<5;i||(i=v?Ne.restSpeed.granular:Ne.restSpeed.default),s||(s=v?Ne.restDelta.granular:Ne.restDelta.default);let _;if(g<1){const w=Jo(b,g);_=C=>{const x=Math.exp(-g*b*C);return o-x*((y+g*b*m)/w*Math.sin(w*C)+m*Math.cos(w*C))}}else if(g===1)_=w=>o-Math.exp(-b*w)*(m+(y+b*m)*w);else{const w=b*Math.sqrt(g*g-1);_=C=>{const x=Math.exp(-g*b*C),S=Math.min(w*C,300);return o-x*((y+g*b*m)*Math.sinh(S)+w*m*Math.cosh(S))/w}}const k={calculatedDuration:p&&h||null,next:w=>{const C=_(w);if(p)a.done=w>=h;else{let x=w===0?y:0;g<1&&(x=w===0?Nt(y):jf(_,w,C));const S=Math.abs(x)<=i,R=Math.abs(o-C)<=s;a.done=S&&R}return a.value=a.done?o:C,a},toString:()=>{const w=Math.min(hl(k),Cr),C=Wf(x=>k.next(w*x).value,w,30);return w+"ms "+C},toTransition:()=>{}};return k}Sr.applyToOptions=t=>{const e=s1(t,100,Sr);return t.ease=e.ease,t.duration=Nt(e.duration),t.type="keyframes",t};function Qo({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:o,min:a,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},p=S=>a!==void 0&&S<a||c!==void 0&&S>c,y=S=>a===void 0?c:c===void 0||Math.abs(a-S)<Math.abs(c-S)?a:c;let g=n*e;const m=h+g,b=o===void 0?m:o(m);b!==m&&(g=b-h);const v=S=>-g*Math.exp(-S/i),_=S=>b+v(S),k=S=>{const R=v(S),N=_(S);f.done=Math.abs(R)<=d,f.value=f.done?b:N};let w,C;const x=S=>{p(f.value)&&(w=S,C=Sr({keyframes:[f.value,y(f.value)],velocity:jf(_,S,f.value),damping:s,stiffness:r,restDelta:d,restSpeed:u}))};return x(0),{calculatedDuration:null,next:S=>{let R=!1;return!C&&w===void 0&&(R=!0,k(S),x(S)),w!==void 0&&S>=w?C.next(S-w):(!R&&k(S),f)}}}function h1(t,e,n){const i=[],s=n||Zt.mix||Hf,r=t.length-1;for(let o=0;o<r;o++){let a=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||bt:e;a=ps(c,a)}i.push(a)}return i}function Uf(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const r=t.length;if(r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[r-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=h1(e,i,s),c=a.length,d=u=>{if(o&&u<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=Yi(t[h],t[h+1],u);return a[h](f)};return n?u=>d(Yt(t[0],t[r-1],u)):d}function f1(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=Yi(0,e,i);t.push(De(n,1,s))}}function p1(t){const e=[0];return f1(e,t.length-1),e}function g1(t,e){return t.map(n=>n*e)}function m1(t,e){return t.map(()=>e||Ff).splice(0,t.length-1)}function Ii({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=Lm(i)?i.map(gc):gc(i),r={done:!1,value:e[0]},o=g1(n&&n.length===e.length?n:p1(e),t),a=Uf(o,e,{ease:Array.isArray(s)?s:m1(e,s)});return{calculatedDuration:t,next:c=>(r.value=a(c),r.done=c>=t,r)}}const y1=t=>t!==null;function fl(t,{repeat:e,repeatType:n="loop"},i,s=1){const r=t.filter(y1),a=s<0||e&&n!=="loop"&&e%2===1?0:r.length-1;return!a||i===void 0?r[a]:i}const b1={decay:Qo,inertia:Qo,tween:Ii,keyframes:Ii,spring:Sr};function Gf(t){typeof t.type=="string"&&(t.type=b1[t.type])}class pl{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const v1=t=>t/100;class zr extends pl{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==at.now()&&this.tick(at.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Gf(e);const{type:n=Ii,repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:o=0}=e;let{keyframes:a}=e;const c=n||Ii;c!==Ii&&typeof a[0]!="number"&&(this.mixKeyframes=ps(v1,Hf(a[0],a[1])),a=[0,100]);const d=c({...e,keyframes:a});r==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...a].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=hl(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:s,mixKeyframes:r,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:f,repeatDelay:p,type:y,onUpdate:g,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const b=this.currentTime-d*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?b<0:b>s;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let _=this.currentTime,k=i;if(h){const S=Math.min(this.currentTime,s)/a;let R=Math.floor(S),N=S%1;!N&&S>=1&&(N=1),N===1&&R--,R=Math.min(R,h+1),!!(R%2)&&(f==="reverse"?(N=1-N,p&&(N-=p/a)):f==="mirror"&&(k=o)),_=Yt(0,1,N)*a}const w=v?{done:!1,value:u[0]}:k.next(_);r&&(w.value=r(w.value));let{done:C}=w;!v&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return x&&y!==Qo&&(w.value=fl(u,this.options,m,this.speed)),g&&g(w.value),x&&this.finish(),w}then(e,n){return this.finished.then(e,n)}get duration(){return yt(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+yt(e)}get time(){return yt(this.currentTime)}set time(e){e=Nt(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(at.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=yt(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=i1,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(at.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function _1(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Tn=t=>t*180/Math.PI,ea=t=>{const e=Tn(Math.atan2(t[1],t[0]));return ta(e)},w1={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ea,rotateZ:ea,skewX:t=>Tn(Math.atan(t[1])),skewY:t=>Tn(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ta=t=>(t=t%360,t<0&&(t+=360),t),wc=ea,kc=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),xc=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),k1={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:kc,scaleY:xc,scale:t=>(kc(t)+xc(t))/2,rotateX:t=>ta(Tn(Math.atan2(t[6],t[5]))),rotateY:t=>ta(Tn(Math.atan2(-t[2],t[0]))),rotateZ:wc,rotate:wc,skewX:t=>Tn(Math.atan(t[4])),skewY:t=>Tn(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function na(t){return t.includes("scale")?1:0}function ia(t,e){if(!t||t==="none")return na(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=k1,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=w1,s=a}if(!s)return na(e);const r=i[e],o=s[1].split(",").map(C1);return typeof r=="function"?r(o):o[r]}const x1=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ia(n,e)};function C1(t){return parseFloat(t.trim())}const li=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ci=new Set(li),Cc=t=>t===ai||t===ie,S1=new Set(["x","y","z"]),M1=li.filter(t=>!S1.has(t));function A1(t){const e=[];return M1.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Dn={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ia(e,"x"),y:(t,{transform:e})=>ia(e,"y")};Dn.translateX=Dn.x;Dn.translateY=Dn.y;const Fn=new Set;let sa=!1,ra=!1,oa=!1;function Kf(){if(ra){const t=Array.from(Fn).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const s=A1(i);s.length&&(n.set(i,s),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([r,o])=>{i.getValue(r)?.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}ra=!1,sa=!1,Fn.forEach(t=>t.complete(oa)),Fn.clear()}function Yf(){Fn.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ra=!0)})}function L1(){oa=!0,Yf(),Kf(),oa=!1}class gl{constructor(e,n,i,s,r,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=s,this.element=r,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Fn.add(this),sa||(sa=!0,xe.read(Yf),xe.resolveKeyframes(Kf))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:s}=this;if(e[0]===null){const r=s?.get(),o=e[e.length-1];if(r!==void 0)e[0]=r;else if(i&&n){const a=i.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&r===void 0&&s.set(e[0])}_1(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Fn.delete(this)}cancel(){this.state==="scheduled"&&(Fn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const T1=t=>t.startsWith("--");function E1(t,e,n){T1(e)?t.style.setProperty(e,n):t.style[e]=n}const D1=il(()=>window.ScrollTimeline!==void 0),F1={};function N1(t,e){const n=il(t);return()=>F1[e]??n()}const Zf=N1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ci=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Sc={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ci([0,.65,.55,1]),circOut:Ci([.55,0,1,.45]),backIn:Ci([.31,.01,.66,-.59]),backOut:Ci([.33,1.53,.69,.99])};function qf(t,e){if(t)return typeof t=="function"?Zf()?Wf(t,e):"ease-out":Nf(t)?Ci(t):Array.isArray(t)?t.map(n=>qf(n,e)||Sc.easeOut):Sc[t]}function P1(t,e,n,{delay:i=0,duration:s=300,repeat:r=0,repeatType:o="loop",ease:a="easeOut",times:c}={},d=void 0){const u={[e]:n};c&&(u.offset=c);const h=qf(a,s);Array.isArray(h)&&(u.easing=h);const f={delay:i,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"};return d&&(f.pseudoElement=d),t.animate(u,f)}function Xf(t){return typeof t=="function"&&"applyToOptions"in t}function I1({type:t,...e}){return Xf(t)&&Zf()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class R1 extends pl{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:s,pseudoElement:r,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=e;this.isPseudoElement=!!r,this.allowFlatten=o,this.options=e;const d=I1(e);this.animation=P1(n,i,s,d,r),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const u=fl(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):E1(n,i,u),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return yt(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+yt(e)}get time(){return yt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Nt(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&D1()?(this.animation.timeline=e,bt):n(this)}}const Jf={anticipate:Tf,backInOut:Lf,circInOut:Df};function O1(t){return t in Jf}function V1(t){typeof t.ease=="string"&&O1(t.ease)&&(t.ease=Jf[t.ease])}const Mc=10;class B1 extends R1{constructor(e){V1(e),Gf(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:s,element:r,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new zr({...o,autoplay:!1}),c=Nt(this.finishedTime??this.time);n.setWithVelocity(a.sample(c-Mc).value,a.sample(c).value,Mc),a.stop()}}const Ac=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ln.test(t)||t==="0")&&!t.startsWith("url("));function $1(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function z1(t,e,n,i){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const r=t[t.length-1],o=Ac(s,e),a=Ac(r,e);return!o||!a?!1:$1(t)||(n==="spring"||Xf(n))&&i}function aa(t){t.duration=0,t.type="keyframes"}const H1=new Set(["opacity","clipPath","filter","transform"]),W1=il(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function j1(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:s,damping:r,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return W1()&&n&&H1.has(n)&&(n!=="transform"||!d)&&!c&&!i&&s!=="mirror"&&r!==0&&o!=="inertia"}const U1=40;class G1 extends pl{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:o="loop",keyframes:a,name:c,motionValue:d,element:u,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=at.now();const f={autoplay:e,delay:n,type:i,repeat:s,repeatDelay:r,repeatType:o,name:c,motionValue:d,element:u,...h},p=u?.KeyframeResolver||gl;this.keyframeResolver=new p(a,(y,g,m)=>this.onKeyframesResolved(y,g,f,!m),c,d,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,s){this.keyframeResolver=void 0;const{name:r,type:o,velocity:a,delay:c,isHandoff:d,onUpdate:u}=i;this.resolvedAt=at.now(),z1(e,r,o,a)||((Zt.instantAnimations||!c)&&u?.(fl(e,i,n)),e[0]=e[e.length-1],aa(i),i.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>U1?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},p=!d&&j1(f)?new B1({...f,element:f.motionValue.owner.current}):new zr(f);p.finished.then(()=>this.notifyFinished()).catch(bt),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),L1()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const K1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Y1(t){const e=K1.exec(t);if(!e)return[,];const[,n,i,s]=e;return[`--${n??i}`,s]}function Qf(t,e,n=1){const[i,s]=Y1(t);if(!i)return;const r=window.getComputedStyle(e).getPropertyValue(i);if(r){const o=r.trim();return _f(o)?parseFloat(o):o}return ll(s)?Qf(s,e,n+1):s}function ml(t,e){return t?.[e]??t?.default??t}const e0=new Set(["width","height","top","left","right","bottom",...li]),Z1={test:t=>t==="auto",parse:t=>t},t0=t=>e=>e.test(t),n0=[ai,ie,Pt,en,zm,$m,Z1],Lc=t=>n0.find(t0(t));function q1(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||kf(t):!0}const X1=new Set(["brightness","contrast","saturate","opacity"]);function J1(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(cl)||[];if(!i)return t;const s=n.replace(i,"");let r=X1.has(e)?1:0;return i!==n&&(r*=100),e+"("+r+s+")"}const Q1=/\b([a-z-]*)\(.*?\)/gu,la={...ln,getAnimatableNone:t=>{const e=t.match(Q1);return e?e.map(J1).join(" "):t}},Tc={...ai,transform:Math.round},e2={rotate:en,rotateX:en,rotateY:en,rotateZ:en,scale:Ms,scaleX:Ms,scaleY:Ms,scaleZ:Ms,skew:en,skewX:en,skewY:en,distance:ie,translateX:ie,translateY:ie,translateZ:ie,x:ie,y:ie,z:ie,perspective:ie,transformPerspective:ie,opacity:Zi,originX:mc,originY:mc,originZ:ie},yl={borderWidth:ie,borderTopWidth:ie,borderRightWidth:ie,borderBottomWidth:ie,borderLeftWidth:ie,borderRadius:ie,radius:ie,borderTopLeftRadius:ie,borderTopRightRadius:ie,borderBottomRightRadius:ie,borderBottomLeftRadius:ie,width:ie,maxWidth:ie,height:ie,maxHeight:ie,top:ie,right:ie,bottom:ie,left:ie,padding:ie,paddingTop:ie,paddingRight:ie,paddingBottom:ie,paddingLeft:ie,margin:ie,marginTop:ie,marginRight:ie,marginBottom:ie,marginLeft:ie,backgroundPositionX:ie,backgroundPositionY:ie,...e2,zIndex:Tc,fillOpacity:Zi,strokeOpacity:Zi,numOctaves:Tc},t2={...yl,color:Be,backgroundColor:Be,outlineColor:Be,fill:Be,stroke:Be,borderColor:Be,borderTopColor:Be,borderRightColor:Be,borderBottomColor:Be,borderLeftColor:Be,filter:la,WebkitFilter:la},i0=t=>t2[t];function s0(t,e){let n=i0(t);return n!==la&&(n=ln),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const n2=new Set(["auto","none","0"]);function i2(t,e,n){let i=0,s;for(;i<t.length&&!s;){const r=t[i];typeof r=="string"&&!n2.has(r)&&qi(r).values.length&&(s=t[i]),i++}if(s&&n)for(const r of e)t[r]=s0(n,s)}class s2 extends gl{constructor(e,n,i,s,r){super(e,n,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),ll(d))){const u=Qf(d,n.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!e0.has(i)||e.length!==2)return;const[s,r]=e,o=Lc(s),a=Lc(r);if(o!==a)if(Cc(o)&&Cc(a))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Dn[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||q1(e[s]))&&i.push(s);i.length&&i2(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Dn[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const r=i.length-1,o=i[r];i[r]=Dn[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,c])=>{e.getValue(a).set(c)}),this.resolveNoneKeyframes()}}function r2(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const s=n?.[t]??i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const r0=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function o0(t){return wf(t)&&"offsetHeight"in t}const Ec=30,o2=t=>!isNaN(parseFloat(t)),Ri={current:void 0};class a2{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=at.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=at.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=o2(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new sl);const i=this.events[e].add(n);return e==="change"?()=>{i(),xe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Ri.current&&Ri.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=at.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Ec)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Ec);return xf(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function In(t,e){return new a2(t,e)}const{schedule:bl}=Pf(queueMicrotask,!1),wt={x:!1,y:!1};function a0(){return wt.x||wt.y}function l2(t){return t==="x"||t==="y"?wt[t]?null:(wt[t]=!0,()=>{wt[t]=!1}):wt.x||wt.y?null:(wt.x=wt.y=!0,()=>{wt.x=wt.y=!1})}function l0(t,e){const n=r2(t),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[n,s,()=>i.abort()]}function Dc(t){return!(t.pointerType==="touch"||a0())}function c2(t,e,n={}){const[i,s,r]=l0(t,n),o=a=>{if(!Dc(a))return;const{target:c}=a,d=e(c,a);if(typeof d!="function"||!c)return;const u=h=>{Dc(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,s)};return i.forEach(a=>{a.addEventListener("pointerenter",o,s)}),r}const c0=(t,e)=>e?t===e?!0:c0(t,e.parentElement):!1,vl=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,d2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function u2(t){return d2.has(t.tagName)||t.tabIndex!==-1}const cr=new WeakSet;function Fc(t){return e=>{e.key==="Enter"&&t(e)}}function co(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const h2=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=Fc(()=>{if(cr.has(n))return;co(n,"down");const s=Fc(()=>{co(n,"up")}),r=()=>co(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",r,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function Nc(t){return vl(t)&&!a0()}function f2(t,e,n={}){const[i,s,r]=l0(t,n),o=a=>{const c=a.currentTarget;if(!Nc(a))return;cr.add(c);const d=e(c,a),u=(p,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),cr.has(c)&&cr.delete(c),Nc(p)&&typeof d=="function"&&d(p,{success:y})},h=p=>{u(p,c===window||c===document||n.useGlobalTarget||c0(c,p.target))},f=p=>{u(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return i.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),o0(a)&&(a.addEventListener("focus",d=>h2(d,s)),!u2(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),r}function d0(t){return wf(t)&&"ownerSVGElement"in t}function p2(t){return d0(t)&&t.tagName==="svg"}function g2(...t){const e=!Array.isArray(t[0]),n=e?0:-1,i=t[0+n],s=t[1+n],r=t[2+n],o=t[3+n],a=Uf(s,r,o);return e?a(i):a}const Ke=t=>!!(t&&t.getVelocity);function m2(t,e,n){const i=t.get();let s=null,r=i,o;const a=typeof i=="string"?i.replace(/[\d.-]/g,""):void 0,c=()=>{s&&(s.stop(),s=null)},d=()=>{c(),s=new zr({keyframes:[Ic(t.get()),Ic(r)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:o})};if(t.attach((u,h)=>(r=u,o=f=>h(Pc(f,a)),xe.postRender(d),t.get()),c),Ke(e)){const u=e.on("change",f=>t.set(Pc(f,a))),h=t.on("destroy",u);return()=>{u(),h()}}return c}function Pc(t,e){return e?t+e:t}function Ic(t){return typeof t=="number"?t:parseFloat(t)}const y2=[...n0,Be,ln],b2=t=>y2.find(t0(t)),ys=Bn({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Rc(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function v2(...t){return e=>{let n=!1;const i=t.map(s=>{const r=Rc(s,e);return!n&&typeof r=="function"&&(n=!0),r});if(n)return()=>{for(let s=0;s<i.length;s++){const r=i[s];typeof r=="function"?r():Rc(t[s],null)}}}}function _2(...t){return ge(v2(...t),t)}class w2 extends xt{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=o0(i)&&i.offsetWidth||0,r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function k2({children:t,isPresent:e,anchorX:n,root:i}){const s=Za(),r=J(null),o=J({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=We(ys),c=_2(r,t?.ref);return Xa(()=>{const{width:d,height:u,top:h,left:f,right:p}=o.current;if(e||!r.current||!d||!u)return;const y=n==="left"?`left: ${f}`:`right: ${p}`;r.current.dataset.motionPopId=s;const g=document.createElement("style");a&&(g.nonce=a);const m=i??document.head;return m.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${u}px !important;
            ${y}px !important;
            top: ${h}px !important;
          }
        `),()=>{m.contains(g)&&m.removeChild(g)}},[e]),l(w2,{isPresent:e,childRef:r,sizeRef:o,children:wm(t,{ref:c})})}const x2=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:r,mode:o,anchorX:a,root:c})=>{const d=fs(C2),u=Za();let h=!0,f=Le(()=>(h=!1,{id:u,initial:e,isPresent:n,custom:s,onExitComplete:p=>{d.set(p,!0);for(const y of d.values())if(!y)return;i&&i()},register:p=>(d.set(p,!1),()=>d.delete(p))}),[n,d,i]);return r&&h&&(f={...f}),Le(()=>{d.forEach((p,y)=>d.set(y,!1))},[n]),G(()=>{!n&&!d.size&&i&&i()},[n]),o==="popLayout"&&(t=l(k2,{isPresent:n,anchorX:a,root:c,children:t})),l($r.Provider,{value:f,children:t})};function C2(){return new Map}function u0(t=!0){const e=We($r);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=e,r=Za();G(()=>{if(t)return s(r)},[t]);const o=ge(()=>t&&i&&i(r),[r,i,t]);return!n&&i?[!1,o]:[!0]}const As=t=>t.key||"";function Oc(t){const e=[];return dm.forEach(t,n=>{vf(n)&&e.push(n)}),e}const $e=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:r="sync",propagate:o=!1,anchorX:a="left",root:c})=>{const[d,u]=u0(o),h=Le(()=>Oc(t),[t]),f=o&&!d?[]:h.map(As),p=J(!0),y=J(h),g=fs(()=>new Map),[m,b]=E(h),[v,_]=E(h);el(()=>{p.current=!1,y.current=h;for(let C=0;C<v.length;C++){const x=As(v[C]);f.includes(x)?g.delete(x):g.get(x)!==!0&&g.set(x,!1)}},[v,f.length,f.join("-")]);const k=[];if(h!==m){let C=[...h];for(let x=0;x<v.length;x++){const S=v[x],R=As(S);f.includes(R)||(C.splice(x,0,S),k.push(S))}return r==="wait"&&k.length&&(C=k),_(Oc(C)),b(h),null}const{forceRender:w}=We(Ja);return l(ae,{children:v.map(C=>{const x=As(C),S=o&&!d?!1:h===v||f.includes(x),R=()=>{if(g.has(x))g.set(x,!0);else return;let N=!0;g.forEach(F=>{F||(N=!1)}),N&&(w?.(),_(y.current),o&&u?.(),i&&i())};return l(x2,{isPresent:S,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:r,root:c,onExitComplete:S?void 0:R,anchorX:a,children:C},x)})})},h0=Bn({strict:!1}),Vc={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ni={};for(const t in Vc)ni[t]={isEnabled:e=>Vc[t].some(n=>!!e[n])};function S2(t){for(const e in t)ni[e]={...ni[e],...t[e]}}const M2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mr(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||M2.has(t)}let f0=t=>!Mr(t);function A2(t){typeof t=="function"&&(f0=e=>e.startsWith("on")?!Mr(e):t(e))}try{A2(require("@emotion/is-prop-valid").default)}catch{}function L2(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(f0(s)||n===!0&&Mr(s)||!e&&!Mr(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}const Hr=Bn({});function Wr(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Xi(t){return typeof t=="string"||Array.isArray(t)}const _l=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wl=["initial",..._l];function jr(t){return Wr(t.animate)||wl.some(e=>Xi(t[e]))}function p0(t){return!!(jr(t)||t.variants)}function T2(t,e){if(jr(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Xi(n)?n:void 0,animate:Xi(i)?i:void 0}}return t.inherit!==!1?e:{}}function E2(t){const{initial:e,animate:n}=T2(t,We(Hr));return Le(()=>({initial:e,animate:n}),[Bc(e),Bc(n)])}function Bc(t){return Array.isArray(t)?t.join(" "):t}const Ji={};function D2(t){for(const e in t)Ji[e]=t[e],al(e)&&(Ji[e].isCSSVariable=!0)}function g0(t,{layout:e,layoutId:n}){return ci.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ji[t]||t==="opacity")}const F2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},N2=li.length;function P2(t,e,n){let i="",s=!0;for(let r=0;r<N2;r++){const o=li[r],a=t[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const d=r0(a,yl[o]);if(!c){s=!1;const u=F2[o]||o;i+=`${u}(${d}) `}n&&(e[o]=d)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}function kl(t,e,n){const{style:i,vars:s,transformOrigin:r}=t;let o=!1,a=!1;for(const c in e){const d=e[c];if(ci.has(c)){o=!0;continue}else if(al(c)){s[c]=d;continue}else{const u=r0(d,yl[c]);c.startsWith("origin")?(a=!0,r[c]=u):i[c]=u}}if(e.transform||(o||n?i.transform=P2(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:c="50%",originY:d="50%",originZ:u=0}=r;i.transformOrigin=`${c} ${d} ${u}`}}const xl=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function m0(t,e,n){for(const i in e)!Ke(e[i])&&!g0(i,n)&&(t[i]=e[i])}function I2({transformTemplate:t},e){return Le(()=>{const n=xl();return kl(n,e,t),Object.assign({},n.vars,n.style)},[e])}function R2(t,e){const n=t.style||{},i={};return m0(i,n,t),Object.assign(i,I2(t,e)),i}function O2(t,e){const n={},i=R2(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const V2={offset:"stroke-dashoffset",array:"stroke-dasharray"},B2={offset:"strokeDashoffset",array:"strokeDasharray"};function $2(t,e,n=1,i=0,s=!0){t.pathLength=1;const r=s?V2:B2;t[r.offset]=ie.transform(-i);const o=ie.transform(e),a=ie.transform(n);t[r.array]=`${o} ${a}`}function y0(t,{attrX:e,attrY:n,attrScale:i,pathLength:s,pathSpacing:r=1,pathOffset:o=0,...a},c,d,u){if(kl(t,a,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=u?.transformBox??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),i!==void 0&&(h.scale=i),s!==void 0&&$2(h,s,r,o,!1)}const b0=()=>({...xl(),attrs:{}}),v0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function z2(t,e,n,i){const s=Le(()=>{const r=b0();return y0(r,e,v0(i),t.transformTemplate,t.style),{...r.attrs,style:{...r.style}}},[e]);if(t.style){const r={};m0(r,t.style,t),s.style={...r,...s.style}}return s}const H2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Cl(t){return typeof t!="string"||t.includes("-")?!1:!!(H2.indexOf(t)>-1||/[A-Z]/u.test(t))}function W2(t,e,n,{latestValues:i},s,r=!1){const a=(Cl(t)?z2:O2)(e,i,s,t),c=L2(e,typeof t=="string",r),d=t!==ae?{...c,...a,ref:n}:{},{children:u}=e,h=Le(()=>Ke(u)?u.get():u,[u]);return ei(t,{...d,children:h})}function $c(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Sl(t,e,n,i){if(typeof e=="function"){const[s,r]=$c(i);e=e(n!==void 0?n:t.custom,s,r)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,r]=$c(i);e=e(n!==void 0?n:t.custom,s,r)}return e}function dr(t){return Ke(t)?t.get():t}function j2({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,s){return{latestValues:U2(n,i,s,t),renderState:e()}}function U2(t,e,n,i){const s={},r=i(t,{});for(const f in r)s[f]=dr(r[f]);let{initial:o,animate:a}=t;const c=jr(t),d=p0(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?a:o;if(h&&typeof h!="boolean"&&!Wr(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const y=Sl(t,f[p]);if(y){const{transitionEnd:g,transition:m,...b}=y;for(const v in b){let _=b[v];if(Array.isArray(_)){const k=u?_.length-1:0;_=_[k]}_!==null&&(s[v]=_)}for(const v in g)s[v]=g[v]}}}return s}const _0=t=>(e,n)=>{const i=We(Hr),s=We($r),r=()=>j2(t,e,i,s);return n?r():fs(r)};function Ml(t,e,n){const{style:i}=t,s={};for(const r in i)(Ke(i[r])||e.style&&Ke(e.style[r])||g0(r,t)||n?.getValue(r)?.liveStyle!==void 0)&&(s[r]=i[r]);return s}const G2=_0({scrapeMotionValuesFromProps:Ml,createRenderState:xl});function w0(t,e,n){const i=Ml(t,e,n);for(const s in t)if(Ke(t[s])||Ke(e[s])){const r=li.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=t[s]}return i}const K2=_0({scrapeMotionValuesFromProps:w0,createRenderState:b0}),Y2=Symbol.for("motionComponentSymbol");function Gn(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Z2(t,e,n){return ge(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Gn(n)&&(n.current=i))},[e])}const Al=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),q2="framerAppearId",k0="data-"+Al(q2),x0=Bn({});function X2(t,e,n,i,s){const{visualElement:r}=We(Hr),o=We(h0),a=We($r),c=We(ys).reducedMotion,d=J(null);i=i||o.renderer,!d.current&&i&&(d.current=i(t,{visualState:e,parent:r,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=We(x0);u&&!u.projection&&s&&(u.type==="html"||u.type==="svg")&&J2(d.current,n,s,h);const f=J(!1);Xa(()=>{u&&f.current&&u.update(n,a)});const p=n[k0],y=J(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return el(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),y.current&&u.animationState&&u.animationState.animateChanges())}),G(()=>{u&&(!y.current&&u.animationState&&u.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),y.current=!1),u.enteringChildren=void 0)}),u}function J2(t,e,n,i){const{layoutId:s,layout:r,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:C0(t.parent)),t.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!o||a&&Gn(a),visualElement:t,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,crossfade:u,layoutScroll:c,layoutRoot:d})}function C0(t){if(t)return t.options.allowProjection!==!1?t.projection:C0(t.parent)}function uo(t,{forwardMotionProps:e=!1}={},n,i){n&&S2(n);const s=Cl(t)?K2:G2;function r(a,c){let d;const u={...We(ys),...a,layoutId:Q2(a)},{isStatic:h}=u,f=E2(a),p=s(a,h);if(!h&&Qa){ey();const y=ty(u);d=y.MeasureLayout,f.visualElement=X2(t,p,u,i,y.ProjectionNode)}return l(Hr.Provider,{value:f,children:[d&&f.visualElement?l(d,{visualElement:f.visualElement,...u}):null,W2(t,a,Z2(p,f.visualElement,c),p,h,e)]})}r.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=cm(r);return o[Y2]=t,o}function Q2({layoutId:t}){const e=We(Ja).id;return e&&t!==void 0?e+"-"+t:t}function ey(t,e){We(h0).strict}function ty(t){const{drag:e,layout:n}=ni;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function ny(t,e){if(typeof Proxy>"u")return uo;const n=new Map,i=(r,o)=>uo(r,o,t,e),s=(r,o)=>i(r,o);return new Proxy(s,{get:(r,o)=>o==="create"?i:(n.has(o)||n.set(o,uo(o,void 0,t,e)),n.get(o))})}function S0({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function iy({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function sy(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function ho(t){return t===void 0||t===1}function ca({scale:t,scaleX:e,scaleY:n}){return!ho(t)||!ho(e)||!ho(n)}function xn(t){return ca(t)||M0(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function M0(t){return zc(t.x)||zc(t.y)}function zc(t){return t&&t!=="0%"}function Ar(t,e,n){const i=t-n,s=e*i;return n+s}function Hc(t,e,n,i,s){return s!==void 0&&(t=Ar(t,s,i)),Ar(t,n,i)+e}function da(t,e=0,n=1,i,s){t.min=Hc(t.min,e,n,i,s),t.max=Hc(t.max,e,n,i,s)}function A0(t,{x:e,y:n}){da(t.x,e.translate,e.scale,e.originPoint),da(t.y,n.translate,n.scale,n.originPoint)}const Wc=.999999999999,jc=1.0000000000001;function ry(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let r,o;for(let a=0;a<s;a++){r=n[a],o=r.projectionDelta;const{visualElement:c}=r.options;c&&c.props.style&&c.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Yn(t,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,A0(t,o)),i&&xn(r.latestValues)&&Yn(t,r.latestValues))}e.x<jc&&e.x>Wc&&(e.x=1),e.y<jc&&e.y>Wc&&(e.y=1)}function Kn(t,e){t.min=t.min+e,t.max=t.max+e}function Uc(t,e,n,i,s=.5){const r=De(t.min,t.max,s);da(t,e,n,r,i)}function Yn(t,e){Uc(t.x,e.x,e.scaleX,e.scale,e.originX),Uc(t.y,e.y,e.scaleY,e.scale,e.originY)}function L0(t,e){return S0(sy(t.getBoundingClientRect(),e))}function oy(t,e,n){const i=L0(t,n),{scroll:s}=e;return s&&(Kn(i.x,s.offset.x),Kn(i.y,s.offset.y)),i}const Gc=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zn=()=>({x:Gc(),y:Gc()}),Kc=()=>({min:0,max:0}),Ie=()=>({x:Kc(),y:Kc()}),ua={current:null},T0={current:!1};function ay(){if(T0.current=!0,!!Qa)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ua.current=t.matches;t.addEventListener("change",e),e()}else ua.current=!1}const ly=new WeakMap;function cy(t,e,n){for(const i in e){const s=e[i],r=n[i];if(Ke(s))t.addValue(i,s);else if(Ke(r))t.addValue(i,In(s,{owner:t}));else if(r!==s)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(i);t.addValue(i,In(o!==void 0?o:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Yc=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class dy{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gl,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=at.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,xe.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!r,this.isControllingVariants=jr(n),this.isVariantNode=p0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const p=h[f];c[f]!==void 0&&Ke(p)&&p.set(c[f])}}mount(e){this.current=e,ly.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),T0.current||ay(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ua.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),qt(this.notifyUpdate),qt(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ci.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&xe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),r&&r(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ni){const n=ni[e];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ie()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Yc.length;i++){const s=Yc[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,o=e[r];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=cy(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=In(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(_f(i)||kf(i))?i=parseFloat(i):!b2(i)&&ln.test(n)&&(i=s0(e,n)),this.setBaseTarget(e,Ke(i)?i.get():i)),Ke(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const r=Sl(this.props,n,this.presenceContext?.custom);r&&(i=r[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ke(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new sl),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){bl.render(this.render)}}class E0 extends dy{constructor(){super(...arguments),this.KeyframeResolver=s2}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ke(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function D0(t,{style:e,vars:n},i,s){const r=t.style;let o;for(o in e)r[o]=e[o];s?.applyProjectionStyles(r,i);for(o in n)r.setProperty(o,n[o])}function uy(t){return window.getComputedStyle(t)}class hy extends E0{constructor(){super(...arguments),this.type="html",this.renderInstance=D0}readValueFromInstance(e,n){if(ci.has(n))return this.projection?.isProjecting?na(n):x1(e,n);{const i=uy(e),s=(al(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return L0(e,n)}build(e,n,i){kl(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Ml(e,n,i)}}const F0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fy(t,e,n,i){D0(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(F0.has(s)?s:Al(s),e.attrs[s])}class py extends E0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ie}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ci.has(n)){const i=i0(n);return i&&i.default||0}return n=F0.has(n)?n:Al(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return w0(e,n,i)}build(e,n,i){y0(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,s){fy(e,n,i,s)}mount(e){this.isSVGTag=v0(e.tagName),super.mount(e)}}const gy=(t,e)=>Cl(t)?new py(e):new hy(e,{allowProjection:t!==ae});function Xn(t,e,n){const i=t.getProps();return Sl(i,e,n!==void 0?n:i.custom,t)}const ha=t=>Array.isArray(t);function my(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,In(n))}function yy(t){return ha(t)?t[t.length-1]||0:t}function by(t,e){const n=Xn(t,e);let{transitionEnd:i={},transition:s={},...r}=n||{};r={...r,...i};for(const o in r){const a=yy(r[o]);my(t,o,a)}}function vy(t){return!!(Ke(t)&&t.add)}function fa(t,e){const n=t.getValue("willChange");if(vy(n))return n.add(e);if(!n&&Zt.WillChange){const i=new Zt.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function N0(t){return t.props[k0]}const _y=t=>t!==null;function wy(t,{repeat:e,repeatType:n="loop"},i){const s=t.filter(_y),r=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[r]}const ky={type:"spring",stiffness:500,damping:25,restSpeed:10},xy=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Cy={type:"keyframes",duration:.8},Sy={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},My=(t,{keyframes:e})=>e.length>2?Cy:ci.has(t)?t.startsWith("scale")?xy(e[1]):ky:Sy;function Ay({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:o,repeatDelay:a,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const Ll=(t,e,n,i={},s,r)=>o=>{const a=ml(i,t)||{},c=a.delay||i.delay||0;let{elapsed:d=0}=i;d=d-Nt(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-d,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:r?void 0:s};Ay(a)||Object.assign(u,My(t,u)),u.duration&&(u.duration=Nt(u.duration)),u.repeatDelay&&(u.repeatDelay=Nt(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(aa(u),u.delay===0&&(h=!0)),(Zt.instantAnimations||Zt.skipAnimations)&&(h=!0,aa(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,h&&!r&&e.get()!==void 0){const f=wy(u.keyframes,a);if(f!==void 0){xe.update(()=>{u.onUpdate(f),u.onComplete()});return}}return a.isSync?new zr(u):new G1(u)};function Ly({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function P0(t,e,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:r=t.getDefaultTransition(),transitionEnd:o,...a}=e;i&&(r=i);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const u in a){const h=t.getValue(u,t.latestValues[u]??null),f=a[u];if(f===void 0||d&&Ly(d,u))continue;const p={delay:n,...ml(r||{},u)},y=h.get();if(y!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===y&&!p.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const b=N0(t);if(b){const v=window.MotionHandoffAnimation(b,u,xe);v!==null&&(p.startTime=v,g=!0)}}fa(t,u),h.start(Ll(u,h,f,t.shouldReduceMotion&&e0.has(u)?{type:!1}:p,t,g));const m=h.animation;m&&c.push(m)}return o&&Promise.all(c).then(()=>{xe.update(()=>{o&&by(t,o)})}),c}function I0(t,e,n,i=0,s=1){const r=Array.from(t).sort((d,u)=>d.sortNodePosition(u)).indexOf(e),o=t.size,a=(o-1)*i;return typeof n=="function"?n(r,o):s===1?r*i:a-r*i}function pa(t,e,n={}){const i=Xn(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const r=i?()=>Promise.all(P0(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=s;return Ty(t,e,c,d,u,h,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[r,o]:[o,r];return c().then(()=>d())}else return Promise.all([r(),o(n.delay)])}function Ty(t,e,n=0,i=0,s=0,r=1,o){const a=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),a.push(pa(c,e,{...o,delay:n+(typeof i=="function"?0:i)+I0(t.variantChildren,c,i,s,r)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(a)}function Ey(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(r=>pa(t,r,n));i=Promise.all(s)}else if(typeof e=="string")i=pa(t,e,n);else{const s=typeof e=="function"?Xn(t,e,n.custom):e;i=Promise.all(P0(t,s,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function R0(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const Dy=wl.length;function O0(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?O0(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Dy;n++){const i=wl[n],s=t.props[i];(Xi(s)||s===!1)&&(e[i]=s)}return e}const Fy=[..._l].reverse(),Ny=_l.length;function Py(t){return e=>Promise.all(e.map(({animation:n,options:i})=>Ey(t,n,i)))}function Iy(t){let e=Py(t),n=Zc(),i=!0;const s=c=>(d,u)=>{const h=Xn(t,u,c==="exit"?t.presenceContext?.custom:void 0);if(h){const{transition:f,transitionEnd:p,...y}=h;d={...d,...y,...p}}return d};function r(c){e=c(t)}function o(c){const{props:d}=t,u=O0(t.parent)||{},h=[],f=new Set;let p={},y=1/0;for(let m=0;m<Ny;m++){const b=Fy[m],v=n[b],_=d[b]!==void 0?d[b]:u[b],k=Xi(_),w=b===c?v.isActive:null;w===!1&&(y=m);let C=_===u[b]&&_!==d[b]&&k;if(C&&i&&t.manuallyAnimateOnMount&&(C=!1),v.protectedKeys={...p},!v.isActive&&w===null||!_&&!v.prevProp||Wr(_)||typeof _=="boolean")continue;const x=Ry(v.prevProp,_);let S=x||b===c&&v.isActive&&!C&&k||m>y&&k,R=!1;const N=Array.isArray(_)?_:[_];let F=N.reduce(s(b),{});w===!1&&(F={});const{prevResolvedValues:O={}}=v,T={...O,...F},H=L=>{S=!0,f.has(L)&&(R=!0,f.delete(L)),v.needsAnimating[L]=!0;const P=t.getValue(L);P&&(P.liveStyle=!1)};for(const L in T){const P=F[L],I=O[L];if(p.hasOwnProperty(L))continue;let V=!1;ha(P)&&ha(I)?V=!R0(P,I):V=P!==I,V?P!=null?H(L):f.add(L):P!==void 0&&f.has(L)?H(L):v.protectedKeys[L]=!0}v.prevProp=_,v.prevResolvedValues=F,v.isActive&&(p={...p,...F}),i&&t.blockInitialAnimation&&(S=!1);const M=C&&x;S&&(!M||R)&&h.push(...N.map(L=>{const P={type:b};if(typeof L=="string"&&i&&!M&&t.manuallyAnimateOnMount&&t.parent){const{parent:I}=t,V=Xn(I,L);if(I.enteringChildren&&V){const{delayChildren:W}=V.transition||{};P.delay=I0(I.enteringChildren,t,W)}}return{animation:L,options:P}}))}if(f.size){const m={};if(typeof d.initial!="boolean"){const b=Xn(t,Array.isArray(d.initial)?d.initial[0]:d.initial);b&&b.transition&&(m.transition=b.transition)}f.forEach(b=>{const v=t.getBaseTarget(b),_=t.getValue(b);_&&(_.liveStyle=!0),m[b]=v??null}),h.push({animation:m})}let g=!!h.length;return i&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(g=!1),i=!1,g?e(h):Promise.resolve()}function a(c,d){if(n[c].isActive===d)return Promise.resolve();t.variantChildren?.forEach(h=>h.animationState?.setActive(c,d)),n[c].isActive=d;const u=o(c);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:r,getState:()=>n,reset:()=>{n=Zc(),i=!0}}}function Ry(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!R0(e,t):!1}function gn(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Zc(){return{animate:gn(!0),whileInView:gn(),whileHover:gn(),whileTap:gn(),whileDrag:gn(),whileFocus:gn(),exit:gn()}}class un{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Oy extends un{constructor(e){super(e),e.animationState||(e.animationState=Iy(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wr(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Vy=0;class By extends un{constructor(){super(...arguments),this.id=Vy++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const $y={animation:{Feature:Oy},exit:{Feature:By}};function Qi(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function bs(t){return{point:{x:t.pageX,y:t.pageY}}}const zy=t=>e=>vl(e)&&t(e,bs(e));function Oi(t,e,n,i){return Qi(t,e,zy(n),i)}const V0=1e-4,Hy=1-V0,Wy=1+V0,B0=.01,jy=0-B0,Uy=0+B0;function nt(t){return t.max-t.min}function Gy(t,e,n){return Math.abs(t-e)<=n}function qc(t,e,n,i=.5){t.origin=i,t.originPoint=De(e.min,e.max,t.origin),t.scale=nt(n)/nt(e),t.translate=De(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Hy&&t.scale<=Wy||isNaN(t.scale))&&(t.scale=1),(t.translate>=jy&&t.translate<=Uy||isNaN(t.translate))&&(t.translate=0)}function Vi(t,e,n,i){qc(t.x,e.x,n.x,i?i.originX:void 0),qc(t.y,e.y,n.y,i?i.originY:void 0)}function Xc(t,e,n){t.min=n.min+e.min,t.max=t.min+nt(e)}function Ky(t,e,n){Xc(t.x,e.x,n.x),Xc(t.y,e.y,n.y)}function Jc(t,e,n){t.min=e.min-n.min,t.max=t.min+nt(e)}function Bi(t,e,n){Jc(t.x,e.x,n.x),Jc(t.y,e.y,n.y)}function mt(t){return[t("x"),t("y")]}const $0=({current:t})=>t?t.ownerDocument.defaultView:null,Qc=(t,e)=>Math.abs(t-e);function Yy(t,e){const n=Qc(t.x,e.x),i=Qc(t.y,e.y);return Math.sqrt(n**2+i**2)}class z0{constructor(e,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:r=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=po(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=Yy(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!y)return;const{point:g}=f,{timestamp:m}=Ze;this.history.push({...g,timestamp:m});const{onStart:b,onMove:v}=this.handlers;p||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=fo(p,this.transformPagePoint),xe.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:y,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=po(f.type==="pointercancel"?this.lastMoveEventInfo:fo(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,b),g&&g(f,b)},!vl(e))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=o,this.contextWindow=s||window;const a=bs(e),c=fo(a,this.transformPagePoint),{point:d}=c,{timestamp:u}=Ze;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=n;h&&h(e,po(c,this.history)),this.removeListeners=ps(Oi(this.contextWindow,"pointermove",this.handlePointerMove),Oi(this.contextWindow,"pointerup",this.handlePointerUp),Oi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),qt(this.updatePoint)}}function fo(t,e){return e?{point:e(t.point)}:t}function ed(t,e){return{x:t.x-e.x,y:t.y-e.y}}function po({point:t},e){return{point:t,delta:ed(t,H0(e)),offset:ed(t,Zy(e)),velocity:qy(e,.1)}}function Zy(t){return t[0]}function H0(t){return t[t.length-1]}function qy(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=H0(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>Nt(e)));)n--;if(!i)return{x:0,y:0};const r=yt(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const o={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Xy(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?De(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?De(n,t,i.max):Math.min(t,n)),t}function td(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Jy(t,{top:e,left:n,bottom:i,right:s}){return{x:td(t.x,n,s),y:td(t.y,e,i)}}function nd(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function Qy(t,e){return{x:nd(t.x,e.x),y:nd(t.y,e.y)}}function eb(t,e){let n=.5;const i=nt(t),s=nt(e);return s>i?n=Yi(e.min,e.max-i,t.min):i>s&&(n=Yi(t.min,t.max-s,e.min)),Yt(0,1,n)}function tb(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ga=.35;function nb(t=ga){return t===!1?t=0:t===!0&&(t=ga),{x:id(t,"left","right"),y:id(t,"top","bottom")}}function id(t,e,n){return{min:sd(t,e),max:sd(t,n)}}function sd(t,e){return typeof t=="number"?t:t[e]||0}const ib=new WeakMap;class sb{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ie(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(bs(h).point)},o=(h,f)=>{const{drag:p,dragPropagation:y,onDragStart:g}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=l2(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mt(b=>{let v=this.getAxisMotionValue(b).get()||0;if(Pt.test(v)){const{projection:_}=this.visualElement;if(_&&_.layout){const k=_.layout.layoutBox[b];k&&(v=nt(k)*(parseFloat(v)/100))}}this.originPoint[b]=v}),g&&xe.postRender(()=>g(h,f)),fa(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:g,onDrag:m}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:b}=f;if(y&&this.currentDirection===null){this.currentDirection=rb(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),m&&m(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>mt(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new z0(e,{onSessionStart:r,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:i,contextWindow:$0(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,s=n||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!s||!i)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&xe.postRender(()=>a(i,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!Ls(e,s,this.currentDirection))return;const r=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=Xy(o,this.constraints[e],this.elastic[e])),r.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Gn(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Jy(i.layoutBox,e):this.constraints=!1,this.elastic=nb(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&mt(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=tb(i.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Gn(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=oy(i,s.root,this.visualElement.getTransformPagePoint());let o=Qy(s.layout.layoutBox,r);if(n){const a=n(iy(o));this.hasMutatedConstraints=!!a,a&&(o=S0(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},d=mt(u=>{if(!Ls(u,n,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,y={type:"inertia",velocity:i?e[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...r,...h};return this.startAxisValueAnimation(u,y)});return Promise.all(d).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return fa(this.visualElement,e),i.start(Ll(e,i,0,n,this.visualElement,!1))}stopAnimation(){mt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){mt(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){mt(n=>{const{drag:i}=this.getProps();if(!Ls(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];r.set(e[n]-De(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Gn(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};mt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();s[o]=eb({min:c,max:c},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),mt(o=>{if(!Ls(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];a.set(De(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;ib.set(this.visualElement,this);const e=this.visualElement.current,n=Oi(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();Gn(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),xe.read(i);const o=Qi(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(mt(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())}));return()=>{o(),n(),r(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:o=ga,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:o,dragMomentum:a}}}function Ls(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function rb(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class ob extends un{constructor(e){super(e),this.removeGroupControls=bt,this.removeListeners=bt,this.controls=new sb(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bt}unmount(){this.removeGroupControls(),this.removeListeners()}}const rd=t=>(e,n)=>{t&&xe.postRender(()=>t(e,n))};class ab extends un{constructor(){super(...arguments),this.removePointerDownListener=bt}onPointerDown(e){this.session=new z0(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$0(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:rd(e),onStart:rd(n),onMove:i,onEnd:(r,o)=>{delete this.session,s&&xe.postRender(()=>s(r,o))}}}mount(){this.removePointerDownListener=Oi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ur={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function od(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const fi={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ie.test(t))t=parseFloat(t);else return t;const n=od(t,e.target.x),i=od(t,e.target.y);return`${n}% ${i}%`}},lb={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=ln.parse(t);if(s.length>5)return i;const r=ln.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=c;const d=De(a,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),r(s)}};let go=!1;class cb extends xt{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=e;D2(db),r&&(n.group&&n.group.add(r),i&&i.register&&s&&i.register(r),go&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),ur.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:r}=this.props,{projection:o}=i;return o&&(o.isPresent=r,go=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==r?o.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?o.promote():o.relegate()||xe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),bl.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;go=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function W0(t){const[e,n]=u0(),i=We(Ja);return l(cb,{...t,layoutGroup:i,switchLayoutGroup:We(x0),isPresent:e,safeToRemove:n})}const db={borderRadius:{...fi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fi,borderTopRightRadius:fi,borderBottomLeftRadius:fi,borderBottomRightRadius:fi,boxShadow:lb};function ub(t,e,n){const i=Ke(t)?t:In(t);return i.start(Ll("",i,e,n)),i.animation}const hb=(t,e)=>t.depth-e.depth;class fb{constructor(){this.children=[],this.isDirty=!1}add(e){tl(this.children,e),this.isDirty=!0}remove(e){nl(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(hb),this.isDirty=!1,this.children.forEach(e)}}function pb(t,e){const n=at.now(),i=({timestamp:s})=>{const r=s-n;r>=e&&(qt(i),t(r-e))};return xe.setup(i,!0),()=>qt(i)}const j0=["TopLeft","TopRight","BottomLeft","BottomRight"],gb=j0.length,ad=t=>typeof t=="string"?parseFloat(t):t,ld=t=>typeof t=="number"||ie.test(t);function mb(t,e,n,i,s,r){s?(t.opacity=De(0,n.opacity??1,yb(i)),t.opacityExit=De(e.opacity??1,0,bb(i))):r&&(t.opacity=De(e.opacity??1,n.opacity??1,i));for(let o=0;o<gb;o++){const a=`border${j0[o]}Radius`;let c=cd(e,a),d=cd(n,a);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||ld(c)===ld(d)?(t[a]=Math.max(De(ad(c),ad(d),i),0),(Pt.test(d)||Pt.test(c))&&(t[a]+="%")):t[a]=d}(e.rotate||n.rotate)&&(t.rotate=De(e.rotate||0,n.rotate||0,i))}function cd(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const yb=U0(0,.5,Ef),bb=U0(.5,.95,bt);function U0(t,e,n){return i=>i<t?0:i>e?1:n(Yi(t,e,i))}function dd(t,e){t.min=e.min,t.max=e.max}function pt(t,e){dd(t.x,e.x),dd(t.y,e.y)}function ud(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function hd(t,e,n,i,s){return t-=e,t=Ar(t,1/n,i),s!==void 0&&(t=Ar(t,1/s,i)),t}function vb(t,e=0,n=1,i=.5,s,r=t,o=t){if(Pt.test(e)&&(e=parseFloat(e),e=De(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=De(r.min,r.max,i);t===r&&(a-=e),t.min=hd(t.min,e,n,a,s),t.max=hd(t.max,e,n,a,s)}function fd(t,e,[n,i,s],r,o){vb(t,e[n],e[i],e[s],e.scale,r,o)}const _b=["x","scaleX","originX"],wb=["y","scaleY","originY"];function pd(t,e,n,i){fd(t.x,e,_b,n?n.x:void 0,i?i.x:void 0),fd(t.y,e,wb,n?n.y:void 0,i?i.y:void 0)}function gd(t){return t.translate===0&&t.scale===1}function G0(t){return gd(t.x)&&gd(t.y)}function md(t,e){return t.min===e.min&&t.max===e.max}function kb(t,e){return md(t.x,e.x)&&md(t.y,e.y)}function yd(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function K0(t,e){return yd(t.x,e.x)&&yd(t.y,e.y)}function bd(t){return nt(t.x)/nt(t.y)}function vd(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class xb{constructor(){this.members=[]}add(e){tl(this.members,e),e.scheduleRender()}remove(e){if(nl(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Cb(t,e,n){let i="";const s=t.x.translate/e.x,r=t.y.translate/e.y,o=n?.z||0;if((s||r||o)&&(i=`translate3d(${s}px, ${r}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:f,skewX:p,skewY:y}=n;d&&(i=`perspective(${d}px) ${i}`),u&&(i+=`rotate(${u}deg) `),h&&(i+=`rotateX(${h}deg) `),f&&(i+=`rotateY(${f}deg) `),p&&(i+=`skewX(${p}deg) `),y&&(i+=`skewY(${y}deg) `)}const a=t.x.scale*e.x,c=t.y.scale*e.y;return(a!==1||c!==1)&&(i+=`scale(${a}, ${c})`),i||"none"}const mo=["","X","Y","Z"],Sb=1e3;let Mb=0;function yo(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function Y0(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=N0(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",xe,!(s||r))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&Y0(i)}function Z0({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(o={},a=e?.()){this.id=Mb++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Tb),this.nodes.forEach(Nb),this.nodes.forEach(Pb),this.nodes.forEach(Eb)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new fb)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new sl),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=d0(o)&&!p2(o),this.instance=o;const{layoutId:a,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),t){let u,h=0;const f=()=>this.root.updateBlockedByResize=!1;xe.read(()=>{h=window.innerWidth}),t(o,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,u&&u(),u=pb(f,250),ur.hasAnimatedSinceResize&&(ur.hasAnimatedSinceResize=!1,this.nodes.forEach(kd)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&d&&(a||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||Bb,{onLayoutAnimationStart:g,onLayoutAnimationComplete:m}=d.getProps(),b=!this.targetLayout||!K0(this.targetLayout,p),v=!h&&f;if(this.options.layoutRoot||this.resumeFrom||v||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...ml(y,"layout"),onPlay:g,onComplete:m};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(u,v)}else h||kd(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ib),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Y0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_d);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(wd);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Fb),this.nodes.forEach(Ab),this.nodes.forEach(Lb)):this.nodes.forEach(wd),this.clearAllSnapshots();const a=at.now();Ze.delta=Yt(0,1e3/60,a-Ze.timestamp),Ze.timestamp=a,Ze.isProcessing=!0,so.update.process(Ze),so.preRender.process(Ze),so.render.process(Ze),Ze.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,bl.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Db),this.sharedNodes.forEach(Rb)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!nt(this.snapshot.measuredBox.x)&&!nt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ie(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!G0(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(a||xn(this.latestValues)||u)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),$b(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ie();const a=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(zb))){const{scroll:d}=this.root;d&&(Kn(a.x,d.offset.x),Kn(a.y,d.offset.y))}return a}removeElementScroll(o){const a=Ie();if(pt(a,o),this.scroll?.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:h}=d;d!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&pt(a,o),Kn(a.x,u.offset.x),Kn(a.y,u.offset.y))}return a}applyTransform(o,a=!1){const c=Ie();pt(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Yn(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),xn(u.latestValues)&&Yn(c,u.latestValues)}return xn(this.latestValues)&&Yn(c,this.latestValues),c}removeTransform(o){const a=Ie();pt(a,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!xn(d.latestValues))continue;ca(d.latestValues)&&d.updateSnapshot();const u=Ie(),h=d.measurePageBox();pt(u,h),pd(a,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return xn(this.latestValues)&&pd(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ze.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=Ze.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ie(),this.relativeTargetOrigin=Ie(),Bi(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),pt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ie(),this.targetWithTransforms=Ie()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ky(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pt(this.target,this.layout.layoutBox),A0(this.target,this.targetDelta)):pt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ie(),this.relativeTargetOrigin=Ie(),Bi(this.relativeTargetOrigin,this.target,f.target),pt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ca(this.parent.latestValues)||M0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ze.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;pt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;ry(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ie());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ud(this.prevProjectionDelta.x,this.projectionDelta.x),ud(this.prevProjectionDelta.y,this.projectionDelta.y)),Vi(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!vd(this.projectionDelta.x,this.prevProjectionDelta.x)||!vd(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zn(),this.projectionDelta=Zn(),this.projectionDeltaWithTransform=Zn()}setAnimationOrigin(o,a=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=Zn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Ie(),p=c?c.source:void 0,y=this.layout?this.layout.source:void 0,g=p!==y,m=this.getStack(),b=!m||m.members.length<=1,v=!!(g&&!b&&this.options.crossfade===!0&&!this.path.some(Vb));this.animationProgress=0;let _;this.mixTargetDelta=k=>{const w=k/1e3;xd(h.x,o.x,w),xd(h.y,o.y,w),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bi(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ob(this.relativeTarget,this.relativeTargetOrigin,f,w),_&&kb(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Ie()),pt(_,this.relativeTarget)),g&&(this.animationValues=u,mb(u,d,this.latestValues,w,v,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(qt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xe.update(()=>{ur.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=In(0)),this.currentAnimation=ub(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Sb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:d,latestValues:u}=o;if(!(!a||!c||!d)){if(this!==o&&this.layout&&d&&q0(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Ie();const h=nt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=nt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}pt(a,c),Yn(a,u),Vi(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new xb),this.sharedNodes.get(o).add(a);const d=a.options.initialPromotionConfig;a.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const d={};c.z&&yo("z",o,d,this.animationValues);for(let u=0;u<mo.length;u++)yo(`rotate${mo[u]}`,o,d,this.animationValues),yo(`skew${mo[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=dr(a?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=dr(a?.pointerEvents)||""),this.hasProjected&&!xn(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=Cb(this.projectionDeltaWithTransform,this.treeScale,u);c&&(h=c(u,h)),o.transform=h;const{x:f,y:p}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const y in Ji){if(u[y]===void 0)continue;const{correct:g,applyTo:m,isCSSVariable:b}=Ji[y],v=h==="none"?u[y]:g(u[y],d);if(m){const _=m.length;for(let k=0;k<_;k++)o[m[k]]=v}else b?this.options.visualElement.renderState.vars[y]=v:o[y]=v}this.options.layoutId&&(o.pointerEvents=d===this?dr(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(_d),this.root.sharedNodes.clear()}}}function Ab(t){t.updateLayout()}function Lb(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,r=e.source!==t.layout.source;s==="size"?mt(u=>{const h=r?e.measuredBox[u]:e.layoutBox[u],f=nt(h);h.min=n[u].min,h.max=h.min+f}):q0(s,e.layoutBox,n)&&mt(u=>{const h=r?e.measuredBox[u]:e.layoutBox[u],f=nt(n[u]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[u].max=t.relativeTarget[u].min+f)});const o=Zn();Vi(o,n,e.layoutBox);const a=Zn();r?Vi(a,t.applyTransform(i,!0),e.measuredBox):Vi(a,n,e.layoutBox);const c=!G0(o);let d=!1;if(!t.resumeFrom){const u=t.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:f}=u;if(h&&f){const p=Ie();Bi(p,e.layoutBox,h.layoutBox);const y=Ie();Bi(y,n,f.layoutBox),K0(p,y)||(d=!0),u.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=p,t.relativeParent=u)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:a,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Tb(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Eb(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Db(t){t.clearSnapshot()}function _d(t){t.clearMeasurements()}function wd(t){t.isLayoutDirty=!1}function Fb(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function kd(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Nb(t){t.resolveTargetDelta()}function Pb(t){t.calcProjection()}function Ib(t){t.resetSkewAndRotation()}function Rb(t){t.removeLeadSnapshot()}function xd(t,e,n){t.translate=De(e.translate,0,n),t.scale=De(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Cd(t,e,n,i){t.min=De(e.min,n.min,i),t.max=De(e.max,n.max,i)}function Ob(t,e,n,i){Cd(t.x,e.x,n.x,i),Cd(t.y,e.y,n.y,i)}function Vb(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Bb={duration:.45,ease:[.4,0,.1,1]},Sd=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Md=Sd("applewebkit/")&&!Sd("chrome/")?Math.round:bt;function Ad(t){t.min=Md(t.min),t.max=Md(t.max)}function $b(t){Ad(t.x),Ad(t.y)}function q0(t,e,n){return t==="position"||t==="preserve-aspect"&&!Gy(bd(e),bd(n),.2)}function zb(t){return t!==t.root&&t.scroll?.wasRoot}const Hb=Z0({attachResizeListener:(t,e)=>Qi(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bo={current:void 0},X0=Z0({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!bo.current){const t=new Hb({});t.mount(window),t.setOptions({layoutScroll:!0}),bo.current=t}return bo.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Wb={pan:{Feature:ab},drag:{Feature:ob,ProjectionNode:X0,MeasureLayout:W0}};function Ld(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,r=i[s];r&&xe.postRender(()=>r(e,bs(e)))}class jb extends un{mount(){const{current:e}=this.node;e&&(this.unmount=c2(e,(n,i)=>(Ld(this.node,i,"Start"),s=>Ld(this.node,s,"End"))))}unmount(){}}class Ub extends un{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ps(Qi(this.node.current,"focus",()=>this.onFocus()),Qi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Td(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),r=i[s];r&&xe.postRender(()=>r(e,bs(e)))}class Gb extends un{mount(){const{current:e}=this.node;e&&(this.unmount=f2(e,(n,i)=>(Td(this.node,i,"Start"),(s,{success:r})=>Td(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ma=new WeakMap,vo=new WeakMap,Kb=t=>{const e=ma.get(t.target);e&&e(t)},Yb=t=>{t.forEach(Kb)};function Zb({root:t,...e}){const n=t||document;vo.has(n)||vo.set(n,{});const i=vo.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(Yb,{root:t,...e})),i[s]}function qb(t,e,n){const i=Zb(e);return ma.set(t,n),i.observe(t),()=>{ma.delete(t),i.unobserve(t)}}const Xb={some:0,all:1};class Jb extends un{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:r}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:Xb[s]},a=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,r&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return qb(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Qb(e,n))&&this.startObserver()}unmount(){}}function Qb({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const ev={inView:{Feature:Jb},tap:{Feature:Gb},focus:{Feature:Ub},hover:{Feature:jb}},tv={layout:{ProjectionNode:X0,MeasureLayout:W0}},nv={...$y,...ev,...Wb,...tv},z=ny(nv,gy);function Lr(t){const e=fs(()=>In(t)),{isStatic:n}=We(ys);if(n){const[,i]=E(t);G(()=>e.on("change",i),[])}return e}function J0(t,e){const n=Lr(e()),i=()=>n.set(e());return i(),el(()=>{const s=()=>xe.preRender(i,!1,!0),r=t.map(o=>o.on("change",s));return()=>{r.forEach(o=>o()),qt(i)}}),n}function iv(t){Ri.current=[],t();const e=J0(Ri.current,t);return Ri.current=void 0,e}function Jn(t,e,n,i){if(typeof t=="function")return iv(t);const s=typeof e=="function"?e:g2(e,n,i);return Array.isArray(t)?Ed(t,s):Ed([t],([r])=>s(r))}function Ed(t,e){const n=fs(()=>[]);return J0(t,()=>{n.length=0;const i=t.length;for(let s=0;s<i;s++)n[s]=t[s].get();return e(n)})}function ya(t,e={}){const{isStatic:n}=We(ys),i=()=>Ke(t)?t.get():t;if(n)return Jn(i);const s=Lr(i());return Xa(()=>m2(s,t,e),[s,JSON.stringify(e)]),s}const sv={ui:{common:{pleaseSelect:"Bitte auswÃ¤hlen"},controls:{brightness:"Helligkeit",colorTemperature:"Farbtemperatur",color:"Farbe",effects:"Effekte",hvac:"HVAC",fan:"LÃ¼fter",preset:"Voreinstellung",swing:"Schwenk",play:"Wiedergabe",pause:"Pause",previous:"ZurÃ¼ck",next:"Weiter",source:"Quelle",open:"Ãffnen",stop:"Stop",close:"SchlieÃen",position:"Position",speed:"Geschwindigkeit",volume:"LautstÃ¤rke",targetTemperature:"Zieltemperatur",currentTemperature:"Aktuell",control:"Steuerung",production:"Produktion",consumption:"Verbrauch",battery:"Batterie",sensor:"Sensor",temperature:"Temperatur",humidity:"Luftfeuchtigkeit",power:"Leistung",energy:"Energie",co2:"COâ",movement:"Bewegung",door:"TÃ¼r",window:"Fenster",presence:"PrÃ¤senz",solar:"Solar",info:"Information",settings:"Einstellungen",systemSettings:"System Einstellungen",appearance:"Darstellung",language:"Sprache",notifications:"Benachrichtigungen",privacy:"Datenschutz",about:"Ãber",theme:"Design",darkMode:"Dunkler Modus",lightMode:"Heller Modus",autoMode:"Automatisch",security:"Sicherheit",lock:"Verriegeln",unlock:"Entriegeln",locked:"Verriegelt",unlocked:"Entriegelt",activate:"Aktivieren",run:"AusfÃ¼hren",disable:"Deaktivieren",enable:"Aktivieren",trigger:"AuslÃ¶sen",scene:"Szene",script:"Skript",automation:"Automatisierung",veryWarm:"Sehr Warm",warm:"Warm",neutral:"Neutral",cold:"Kalt",daylight:"Tageslicht",on:"An",off:"Aus",active:"Aktiv",inactive:"Inaktiv",since:"seit",noRoom:"Kein Raum",unknown:"Unbekannt",justNow:"gerade eben",turned_on:"Eingeschaltet",turned_off:"Ausgeschaltet",heating:"Heizen",cooling:"KÃ¼hlen",auto:"Auto",drying:"Entfeuchten",fanOnly:"Nur LÃ¼fter",idle:"Bereit",heatingTo:"Heizen auf",coolingTo:"KÃ¼hlen auf",maintaining:"Halte",eco:"Eco-Modus",comfort:"Komfort",boost:"Boost",fanSpeed:"LÃ¼ftergeschwindigkeit",horizontalOscillation:"Horizontale Oszillation",verticalOscillation:"Vertikale Oszillation",apply:"Anwenden",cancel:"Abbrechen",veryCold:"Sehr kalt",cold:"Kalt",cool:"KÃ¼hl",comfortable:"Angenehm",warm:"Warm",hot:"HeiÃ",veryHot:"Sehr heiÃ",veryDry:"Sehr trocken",dry:"Trocken",optimal:"Optimal",humid:"Feucht",veryHumid:"Sehr feucht",critical:"Kritisch",low:"Niedrig",medium:"Mittel",good:"Gut",full:"Voll",minimal:"Minimal",high:"Hoch",veryHigh:"Sehr hoch",excellent:"Exzellent",acceptable:"Akzeptabel",moderate:"MÃ¤Ãig",poor:"Schlecht"},search:{noResults:'Keine Ergebnisse fÃ¼r "{term}"',tryDifferent:"Versuche es mit anderen Suchbegriffen"},aiMode:{askAnything:"Frag mich was",subtitle:"Frage mich alles Ã¼ber dein Smart Home",thinking:"AI denkt nach...",wasHelpful:"War das hilfreich?",yes:"Ja",no:"Nein",followUp:"Stelle eine Folgefrage...",suggestions:{lightsOff:"Schalte alle Lichter aus",weather:"Wie ist das Wetter heute?",temperature:"Stelle die Heizung auf 22 Grad"},badges:{webSearch:"Web-Suche",location:"Standort",deviceControl:"GerÃ¤testeuerung",assistant:"Assistent"}},subcategories:{all:"Alle",favorites:"Favoriten",suggestions:"VorschlÃ¤ge",lights:"Beleuchtung",switches:"Schalter",climate:"Klima",covers:"RollÃ¤den",media:"Medien",cleaning:"Reinigung",security:"Sicherheit",utilities:"GerÃ¤te",scripts:"Skripte",automations:"Automationen",scenes:"Szenen",temperature:"Temperatur",humidity:"Feuchtigkeit",motion:"Bewegung",door_window:"TÃ¼ren & Fenster",energy:"Energie",light:"Licht",presence:"PrÃ¤senz",pressure:"Luftdruck",battery:"Batterie",air_quality:"LuftqualitÃ¤t",other_sensors:"Sonstige",system:"System",apps:"Apps"},placeholders:{searchDevices:"GerÃ¤te",searchSensors:"Sensoren",searchActions:"Aktionen",searchCustom:"Benutzerdefiniert",search:"Suchen..."},categories:{devices:"GerÃ¤te",sensors:"Sensoren",actions:"Aktionen",custom:"Benutzerdefiniert"},viewModes:{grid:"Kacheln",list:"Liste"},filters:{categories:"Kategorien",areas:"RÃ¤ume",types:"Typen"},general:{noRoom:"Kein Raum",favorites:"Favoriten"},suggestions:{highlyLikely:"Sehr wahrscheinlich",likely:"Wahrscheinlich",possible:"MÃ¶glich"},deviceNames:{settings:"Einstellungen",marketplace:"Marktplatz"},settings:{general:"Allgemein",appearance:"Darstellung",privacy:"Datenschutz",about:"Ãber",generalSettings:"Allgemeine Einstellungen",aiMode:"AI-Modus",aiModeDescription:"KI-Assistent fÃ¼r erweiterte Suche und Steuerung aktivieren",animations:"Animationen",animationsDescription:"Ãbergangseffekte und Animationen aktivieren",soundEffects:"Soundeffekte",soundEffectsDescription:"Akustische RÃ¼ckmeldungen bei Aktionen",languageSettings:"Spracheinstellungen",appLanguage:"App-Sprache",appLanguageDescription:"WÃ¤hle deine bevorzugte Sprache",notifications:"Benachrichtigungen",pushNotifications:"Push-Benachrichtigungen",pushNotificationsDescription:"Erhalte Benachrichtigungen Ã¼ber wichtige Ereignisse",design:"Design",backgroundMode:"Hintergrund-Modus",backgroundModeDescription:"Overlay anpassen fÃ¼r besseren Fokus",automatic:"Automatisch",light:"Hell",dark:"Dunkel",background:"Hintergrund",privacySecurity:"Datenschutz & Sicherheit",clearCache:"Cache leeren",resetData:"Daten zurÃ¼cksetzen",intelligentSuggestions:"Intelligente VorschlÃ¤ge",predictiveSuggestions:"VorschlÃ¤ge aktivieren",predictiveSuggestionsDesc:"Lernt Ihre Nutzungsmuster und schlÃ¤gt GerÃ¤te vor",confidenceThreshold:"Confidence-Schwellenwert",confidenceThresholdDesc:"Mindest-Wahrscheinlichkeit fÃ¼r VorschlÃ¤ge",timeWindow:"Zeitfenster",timeWindowDesc:"Zeitraum um die aktuelle Uhrzeit fÃ¼r VorschlÃ¤ge",maxSuggestions:"Maximale Anzahl",maxSuggestionsDesc:"Maximale Anzahl der angezeigten VorschlÃ¤ge",learningRate:"Lern-Geschwindigkeit",learningRateDesc:"Wie schnell sich das System an neue Muster anpasst",learningRateSlow:"Langsam",learningRateNormal:"Normal",learningRateFast:"Schnell",privacyTitle:"Ihre Daten sind sicher",privacyDesc:"Alle Berechnungen erfolgen lokal. Keine Daten verlassen Ihr GerÃ¤t.",confirmClearCache:"Cache wirklich lÃ¶schen?",cacheCleared:"GelÃ¶scht",confirmResetData:"ACHTUNG: Alle Daten werden gelÃ¶scht. Fortfahren?",confirmResetDataFinal:"Wirklich ALLE Einstellungen und Daten zurÃ¼cksetzen?",aboutCard:"Ãber Fast Search Card",version:"Version",build:"Build",developer:"Entwickler",license:"Lizenz"},schedule:{all:"Alle",timer:"Timer",schedules:"ZeitplÃ¤ne",turnOn:"Einschalten",turnOff:"Ausschalten",open:"Ãffnen",close:"SchlieÃen",setPosition:"Position setzen",position:"Position",timerMode:"Timer",scheduleMode:"Zeitplan",timeFormat:"Zeitanzeige",format24h:"24h",formatAM:"AM",formatPM:"PM",days:"Tage",monday:"Mo",tuesday:"Di",wednesday:"Mi",thursday:"Do",friday:"Fr",saturday:"Sa",sunday:"So",daily:"TÃ¤glich",weekdays:"Mo-Fr",weekend:"Sa, So",noDays:"Keine",selectDay:"AuswÃ¤hlen",deselectDay:"AbwÃ¤hlen",repeat:"Wiederholung",regular:"RegelmÃ¤Ãig",once:"Einmalig",add:"Neu",cancel:"Abbrechen",confirm:"Jetzt erstellen",save:"Speichern",action:"Aktion",scheduler:"Scheduler",atTime:"Um",remaining:"Noch",minutes:"Min",noTimers:"Keine Timer",noSchedules:"Keine ZeitplÃ¤ne",noEntries:"Keine EintrÃ¤ge",timerName:"Timer",scheduleName:"Zeitplan",morningRoutine:"Morgenroutine",evening:"Abends"},climate:{temperature:"Temperatur",hvacMode:"HVAC-Modus",fanMode:"LÃ¼ftermodus",swingMode:"Schwenkmodus",presetMode:"Voreinstellung",off:"Aus",heat:"Heizen",cool:"KÃ¼hlen",heatCool:"Auto",auto:"Automatisch",dry:"Entfeuchten",fanOnly:"Nur LÃ¼fter",low:"Niedrig",medium:"Mittel",high:"Hoch",quiet:"Leise",turbo:"Turbo",vertical:"Vertikal",horizontal:"Horizontal",both:"Beide",none:"Keine",away:"Abwesend",home:"Zuhause",eco:"Eco",boost:"Boost",comfort:"Komfort",sleep:"Schlaf"},context:{tabActions:"Aktionen",tabFavorites:"Favoriten",tabEnvironment:"Umgebung",loading:"Lade Umgebung...",noFavorites:"Keine Favoriten markiert",noEnvironment:"Keine verwandten GerÃ¤te gefunden",noActions:"Keine Aktionen gefunden"}},states:{on:"Ein",off:"Aus",home:"Zuhause",not_home:"Abwesend",unknown:"Unbekannt",unavailable:"Nicht verfÃ¼gbar",heat:"Heizen",cool:"KÃ¼hlen",heat_cool:"Auto",dry:"Entfeuchten",fan_only:"Nur LÃ¼fter",auto:"Automatisch",open:"Offen",closed:"Geschlossen",opening:"Ãffnet",closing:"SchlieÃt",stopped:"Gestoppt",locked:"Verriegelt",unlocked:"Entriegelt",locking:"Verriegelt...",unlocking:"Entriegelt...",jammed:"Verklemmt",disarmed:"Deaktiviert",armed_home:"Zuhause scharf",armed_away:"Abwesend scharf",armed_night:"Nacht scharf",armed_vacation:"Urlaub scharf",armed_custom_bypass:"Teilscharf",pending:"Aktiviert...",triggered:"AusgelÃ¶st",arming:"Wird scharf...",playing:"Wiedergabe",paused:"Pausiert",idle:"Bereit",standby:"Standby",buffering:"Puffert",docked:"Ladestation",cleaning:"Reinigt",returning:"Kehrt zurÃ¼ck",error:"Fehler","clear-night":"Klare Nacht",cloudy:"BewÃ¶lkt",fog:"Neblig",hail:"Hagel",lightning:"Gewitter","lightning-rainy":"Gewitterregen",partlycloudy:"Teilweise bewÃ¶lkt",pouring:"Starkregen",rainy:"Regnerisch",snowy:"Schnee","snowy-rainy":"Schneeregen",sunny:"Sonnig",windy:"Windig","windy-variant":"Windig",exceptional:"AuÃergewÃ¶hnlich",recording:"Aufnahme",streaming:"Streaming",active:"Aktiv",scening:"Szene"},deviceClasses:{battery:{on:"Niedrig",off:"Normal"},battery_charging:{on:"LÃ¤dt",off:"LÃ¤dt nicht"},cold:{on:"Kalt",off:"Normal"},connectivity:{on:"Verbunden",off:"Getrennt"},door:{on:"Offen",off:"Geschlossen"},garage_door:{on:"Offen",off:"Geschlossen"},gas:{on:"Gas erkannt",off:"Kein Gas"},heat:{on:"HeiÃ",off:"Normal"},light:{on:"Licht erkannt",off:"Dunkel"},lock:{on:"Entriegelt",off:"Verriegelt"},moisture:{on:"Feucht",off:"Trocken"},motion:{on:"Bewegung",off:"Keine Bewegung"},moving:{on:"Bewegt sich",off:"Stillstand"},occupancy:{on:"Belegt",off:"Frei"},opening:{on:"Offen",off:"Geschlossen"},plug:{on:"Eingesteckt",off:"Ausgesteckt"},power:{on:"Ein",off:"Aus"},presence:{on:"Anwesend",off:"Abwesend"},problem:{on:"Problem",off:"OK"},running:{on:"LÃ¤uft",off:"Gestoppt"},safety:{on:"Unsicher",off:"Sicher"},smoke:{on:"Rauch erkannt",off:"Kein Rauch"},sound:{on:"GerÃ¤usch erkannt",off:"Still"},tamper:{on:"Manipulation",off:"OK"},update:{on:"Update verfÃ¼gbar",off:"Aktuell"},vibration:{on:"Vibration",off:"Keine Vibration"},window:{on:"Offen",off:"Geschlossen"}},domains:{automation:"Automatisierung",binary_sensor:"Sensor",camera:"Kamera",climate:"Klima",cover:"Abdeckung",device_tracker:"GerÃ¤t",fan:"Ventilator",input_boolean:"Schalter",input_number:"Nummer",light:"Licht",lock:"Schloss",media_player:"Media Player",person:"Person",scene:"Szene",script:"Skript",sensor:"Sensor",switch:"Schalter",timer:"Timer",vacuum:"Staubsauger",weather:"Wetter",alarm_control_panel:"Alarmanlage"},units:{"Â°C":"Â°C","Â°F":"Â°F","%":"%",W:"W",kW:"kW",kWh:"kWh",A:"A",V:"V","km/h":"km/h","m/s":"m/s",mm:"mm",hPa:"hPa",bar:"bar",lx:"lx",lm:"lm",dB:"dB",ppm:"ppm","Âµg/mÂ³":"Âµg/mÂ³"},advice:{temp_very_cold:"Sehr kalt",temp_cold:"Kalt",temp_cool:"KÃ¼hl",temp_comfortable:"Angenehm",temp_warm:"Warm",temp_hot:"HeiÃ",temp_very_hot:"Sehr heiÃ",humidity_too_dry:"Zu trocken",humidity_dry:"Trocken",humidity_optimal:"Optimal",humidity_humid:"Feucht",humidity_too_humid:"Zu feucht",energy_none:"Keine Produktion",energy_low:"Geringer Ertrag",energy_medium:"Mittlerer Ertrag",energy_good:"Guter Ertrag",energy_excellent:"Sehr guter Ertrag",energy_consuming:"Verbrauch",air_excellent:"Sehr gut",air_good:"Gut",air_acceptable:"Akzeptabel",air_moderate:"MÃ¤Ãig",air_poor:"LÃ¼ften empfohlen",air_very_poor:"Dringend lÃ¼ften",battery_critical:"Kritisch niedrig",battery_low:"Niedrig",battery_medium:"Mittel",battery_good:"Gut",battery_full:"Voll",light_dark:"Dunkel",light_dim:"DÃ¤mmerig",light_moderate:"MÃ¤Ãig hell",light_bright:"Hell",light_very_bright:"Sehr hell",pressure_low:"Tiefdruck",pressure_normal:"Normal",pressure_high:"Hochdruck",noise_quiet:"Ruhig",noise_moderate:"MÃ¤Ãig",noise_loud:"Laut",noise_very_loud:"Sehr laut"},actions:{title:"Aktionen",execute:"AusfÃ¼hren",toggle:"Umschalten",noActions:"Keine Aktionen verfÃ¼gbar",noRelevantActions:"Keine relevanten Aktionen fÃ¼r dieses GerÃ¤t",loading:"Lade Aktionen...",sceneActivated:"Szene aktiviert",scriptExecuted:"Skript ausgefÃ¼hrt",automationOn:"Automation aktiviert",automationOff:"Automation deaktiviert",actionExecuted:"Aktion erfolgreich ausgefÃ¼hrt",executionError:"Fehler beim AusfÃ¼hren der Aktion",loadingError:"Fehler beim Laden der Aktionen",noCallback:"Keine Callback-Funktion verfÃ¼gbar",types:{scene:"Szene",script:"Skript",automation:"Automation"},relevance:{veryHigh:"Sehr relevant",high:"Relevant",medium:"MÃ¤Ãig relevant",low:"Wenig relevant"},areas:{noRoom:"Kein Raum",house:"Haus",global:"Global"},states:{on:"EIN",off:"AUS",unknown:"Unbekannt"}}},rv={ui:{common:{pleaseSelect:"Please select"},controls:{brightness:"Brightness",colorTemperature:"Color Temperature",color:"Color",effects:"Effects",hvac:"HVAC",fan:"Fan",preset:"Preset",swing:"Swing",play:"Play",pause:"Pause",previous:"Previous",next:"Next",source:"Source",open:"Open",stop:"Stop",close:"Close",position:"Position",speed:"Speed",volume:"Volume",targetTemperature:"Target Temperature",currentTemperature:"Current",control:"Control",production:"Production",consumption:"Consumption",battery:"Battery",sensor:"Sensor",temperature:"Temperature",humidity:"Humidity",power:"Power",energy:"Energy",co2:"COâ",movement:"Motion",door:"Door",window:"Window",presence:"Presence",solar:"Solar",info:"Information",settings:"Settings",systemSettings:"System Settings",appearance:"Appearance",language:"Language",notifications:"Notifications",privacy:"Privacy",about:"About",theme:"Theme",darkMode:"Dark Mode",lightMode:"Light Mode",autoMode:"Automatic",security:"Security",lock:"Lock",unlock:"Unlock",locked:"Locked",unlocked:"Unlocked",activate:"Activate",run:"Run",disable:"Disable",enable:"Enable",trigger:"Trigger",scene:"Scene",script:"Script",automation:"Automation",veryWarm:"Very Warm",warm:"Warm",neutral:"Neutral",cold:"Cold",daylight:"Daylight",on:"On",off:"Off",active:"Active",inactive:"Inactive",since:"since",noRoom:"No Room",unknown:"Unknown",justNow:"just now",turned_on:"Turned on",turned_off:"Turned off",heating:"Heating",cooling:"Cooling",auto:"Auto",drying:"Drying",fanOnly:"Fan only",idle:"Idle",heatingTo:"Heating to",coolingTo:"Cooling to",maintaining:"Maintaining",eco:"Eco mode",comfort:"Comfort",boost:"Boost",veryCold:"Very cold",cold:"Cold",cool:"Cool",comfortable:"Comfortable",warm:"Warm",hot:"Hot",veryHot:"Very hot",veryDry:"Very dry",dry:"Dry",optimal:"Optimal",humid:"Humid",veryHumid:"Very humid",critical:"Critical",low:"Low",medium:"Medium",good:"Good",full:"Full",minimal:"Minimal",high:"High",veryHigh:"Very high",excellent:"Excellent",acceptable:"Acceptable",moderate:"Moderate",poor:"Poor"},search:{noResults:'No results for "{term}"',tryDifferent:"Try different search terms"},aiMode:{askAnything:"Ask Anything",subtitle:"Ask me anything about your Smart Home",thinking:"AI is thinking...",wasHelpful:"Was this helpful?",yes:"Yes",no:"No",followUp:"Ask a follow-up question...",suggestions:{lightsOff:"Turn off all lights",weather:"What's the weather today?",temperature:"Set temperature to 72Â°F"},badges:{webSearch:"Web Search",location:"Location",deviceControl:"Device Control",assistant:"Assistant"}},subcategories:{all:"All",lights:"Lights",switches:"Switches",climate:"Climate",covers:"Covers",media:"Media",cleaning:"Cleaning",security:"Security",utilities:"Utilities",scripts:"Scripts",automations:"Automations",scenes:"Scenes",temperature:"Temperature",humidity:"Humidity",motion:"Motion",door_window:"Doors & Windows",energy:"Energy",light:"Light",presence:"Presence",pressure:"Pressure",battery:"Battery",air_quality:"Air Quality",other_sensors:"Other",system:"System",apps:"Apps"},placeholders:{searchDevices:"Devices",searchSensors:"Sensors",searchActions:"Actions",searchCustom:"Custom",search:"Search..."},categories:{devices:"Devices",sensors:"Sensors",actions:"Actions",custom:"Custom"},viewModes:{grid:"Grid",list:"List"},filters:{categories:"Categories",areas:"Areas",types:"Types"},general:{noRoom:"No Room",favorites:"Favorites"},deviceNames:{settings:"Settings",marketplace:"Marketplace"},settings:{general:"General",appearance:"Appearance",privacy:"Privacy",about:"About",generalSettings:"General Settings",aiMode:"AI Mode",aiModeDescription:"Enable AI assistant for advanced search and control",animations:"Animations",animationsDescription:"Enable transition effects and animations",soundEffects:"Sound Effects",soundEffectsDescription:"Acoustic feedback for actions",languageSettings:"Language Settings",appLanguage:"App Language",appLanguageDescription:"Choose your preferred language",notifications:"Notifications",pushNotifications:"Push Notifications",pushNotificationsDescription:"Receive notifications about important events",design:"Design",backgroundMode:"Background Mode",backgroundModeDescription:"Adjust overlay for better focus",automatic:"Automatic",light:"Light",dark:"Dark",background:"Background",privacySecurity:"Privacy & Security",clearCache:"Clear Cache",resetData:"Reset Data",aboutCard:"About Fast Search Card",version:"Version",build:"Build",developer:"Developer",license:"License"},schedule:{all:"All",timer:"Timer",schedules:"Schedules",turnOn:"Turn on",turnOff:"Turn off",open:"Open",close:"Close",setPosition:"Set position",position:"Position",timerMode:"Timer",scheduleMode:"Schedule",timeFormat:"Time Display",format24h:"24h",formatAM:"AM",formatPM:"PM",days:"Days",monday:"Mon",tuesday:"Tue",wednesday:"Wed",thursday:"Thu",friday:"Fri",saturday:"Sat",sunday:"Sun",daily:"Daily",weekdays:"Mon-Fri",weekend:"Sat, Sun",noDays:"None",selectDay:"Select",deselectDay:"Deselect",repeat:"Repeat",regular:"Regular",once:"Once",add:"New",cancel:"Cancel",confirm:"Create now",save:"Save",action:"Action",scheduler:"Scheduler",atTime:"At",remaining:"Remaining",minutes:"min",noTimers:"No timers",noSchedules:"No schedules",noEntries:"No entries",timerName:"Timer",scheduleName:"Schedule",morningRoutine:"Morning routine",evening:"Evening"},context:{tabActions:"Actions",tabFavorites:"Favorites",tabEnvironment:"Environment",loading:"Loading environment...",noFavorites:"No favorites marked",noEnvironment:"No related devices found",noActions:"No actions found"}},states:{on:"On",off:"Off",home:"Home",not_home:"Away",unknown:"Unknown",unavailable:"Unavailable",heat:"Heating",cool:"Cooling",heat_cool:"Auto",dry:"Drying",fan_only:"Fan only",auto:"Automatic",open:"Open",closed:"Closed",opening:"Opening",closing:"Closing",stopped:"Stopped",locked:"Locked",unlocked:"Unlocked",locking:"Locking...",unlocking:"Unlocking...",jammed:"Jammed",disarmed:"Disarmed",armed_home:"Armed Home",armed_away:"Armed Away",armed_night:"Armed Night",armed_vacation:"Armed Vacation",armed_custom_bypass:"Armed Custom",pending:"Pending...",triggered:"Triggered",arming:"Arming...",playing:"Playing",paused:"Paused",idle:"Idle",standby:"Standby",buffering:"Buffering",docked:"Docked",cleaning:"Cleaning",returning:"Returning",error:"Error","clear-night":"Clear Night",cloudy:"Cloudy",fog:"Foggy",hail:"Hail",lightning:"Lightning","lightning-rainy":"Lightning Rain",partlycloudy:"Partly Cloudy",pouring:"Heavy Rain",rainy:"Rainy",snowy:"Snowy","snowy-rainy":"Sleet",sunny:"Sunny",windy:"Windy","windy-variant":"Windy",exceptional:"Exceptional",recording:"Recording",streaming:"Streaming",active:"Active",scening:"Scene"},deviceClasses:{battery:{on:"Low",off:"Normal"},battery_charging:{on:"Charging",off:"Not charging"},cold:{on:"Cold",off:"Normal"},connectivity:{on:"Connected",off:"Disconnected"},door:{on:"Open",off:"Closed"},garage_door:{on:"Open",off:"Closed"},gas:{on:"Gas detected",off:"Clear"},heat:{on:"Hot",off:"Normal"},light:{on:"Light detected",off:"Dark"},lock:{on:"Unlocked",off:"Locked"},moisture:{on:"Wet",off:"Dry"},motion:{on:"Motion detected",off:"No motion"},moving:{on:"Moving",off:"Stopped"},occupancy:{on:"Occupied",off:"Clear"},opening:{on:"Open",off:"Closed"},plug:{on:"Plugged in",off:"Unplugged"},power:{on:"On",off:"Off"},presence:{on:"Present",off:"Away"},problem:{on:"Problem",off:"OK"},running:{on:"Running",off:"Stopped"},safety:{on:"Unsafe",off:"Safe"},smoke:{on:"Smoke detected",off:"Clear"},sound:{on:"Sound detected",off:"Quiet"},tamper:{on:"Tampered",off:"OK"},update:{on:"Update available",off:"Up to date"},vibration:{on:"Vibration",off:"No vibration"},window:{on:"Open",off:"Closed"}},domains:{automation:"Automation",binary_sensor:"Sensor",camera:"Camera",climate:"Climate",cover:"Cover",device_tracker:"Device",fan:"Fan",input_boolean:"Switch",input_number:"Number",light:"Light",lock:"Lock",media_player:"Media Player",person:"Person",scene:"Scene",script:"Script",sensor:"Sensor",switch:"Switch",timer:"Timer",vacuum:"Vacuum",weather:"Weather",alarm_control_panel:"Alarm"},units:{"Â°C":"Â°C","Â°F":"Â°F","%":"%",W:"W",kW:"kW",kWh:"kWh",A:"A",V:"V","km/h":"km/h",mph:"mph","m/s":"m/s",mm:"mm",in:"in",hPa:"hPa",bar:"bar",lx:"lx",lm:"lm",dB:"dB",ppm:"ppm","Âµg/mÂ³":"Âµg/mÂ³"},advice:{temp_very_cold:"Very cold",temp_cold:"Cold",temp_cool:"Cool",temp_comfortable:"Comfortable",temp_warm:"Warm",temp_hot:"Hot",temp_very_hot:"Very hot",humidity_too_dry:"Too dry",humidity_dry:"Dry",humidity_optimal:"Optimal",humidity_humid:"Humid",humidity_too_humid:"Too humid",energy_none:"No production",energy_low:"Low yield",energy_medium:"Medium yield",energy_good:"Good yield",energy_excellent:"Excellent yield",energy_consuming:"Consuming",air_excellent:"Excellent",air_good:"Good",air_acceptable:"Acceptable",air_moderate:"Moderate",air_poor:"Ventilate",air_very_poor:"Ventilate now",battery_critical:"Critical",battery_low:"Low",battery_medium:"Medium",battery_good:"Good",battery_full:"Full",light_dark:"Dark",light_dim:"Dim",light_moderate:"Moderate",light_bright:"Bright",light_very_bright:"Very bright",pressure_low:"Low pressure",pressure_normal:"Normal",pressure_high:"High pressure",noise_quiet:"Quiet",noise_moderate:"Moderate",noise_loud:"Loud",noise_very_loud:"Very loud"},actions:{title:"Actions",execute:"Execute",toggle:"Toggle",noActions:"No actions available",noRelevantActions:"No relevant actions for this device",loading:"Loading actions...",sceneActivated:"Scene activated",scriptExecuted:"Script executed",automationOn:"Automation enabled",automationOff:"Automation disabled",actionExecuted:"Action executed successfully",executionError:"Error executing action",loadingError:"Error loading actions",noCallback:"No callback function available",types:{scene:"Scene",script:"Script",automation:"Automation"},relevance:{veryHigh:"Very relevant",high:"Relevant",medium:"Moderately relevant",low:"Less relevant"},areas:{noRoom:"No Room",house:"House",global:"Global"},states:{on:"ON",off:"OFF",unknown:"Unknown"}}},ov={ui:{common:{pleaseSelect:"Veuillez sÃ©lectionner"},controls:{brightness:"LuminositÃ©",colorTemperature:"TempÃ©rature de couleur",color:"Couleur",effects:"Effets",hvac:"CVC",fan:"Ventilateur",preset:"PrÃ©rÃ©glage",swing:"Oscillation",play:"Lecture",pause:"Pause",previous:"PrÃ©cÃ©dent",next:"Suivant",source:"Source",open:"Ouvrir",stop:"ArrÃªt",close:"Fermer",position:"Position",speed:"Vitesse",volume:"Volume",targetTemperature:"TempÃ©rature cible",currentTemperature:"Actuelle",control:"ContrÃ´le",production:"Production",consumption:"Consommation",battery:"Batterie",sensor:"Capteur",temperature:"TempÃ©rature",humidity:"HumiditÃ©",power:"Puissance",energy:"Ãnergie",co2:"COâ",movement:"Mouvement",door:"Porte",window:"FenÃªtre",presence:"PrÃ©sence",solar:"Solaire",info:"Information",settings:"ParamÃ¨tres",systemSettings:"ParamÃ¨tres systÃ¨me",appearance:"Apparence",language:"Langue",notifications:"Notifications",privacy:"ConfidentialitÃ©",about:"Ã propos",theme:"ThÃ¨me",darkMode:"Mode sombre",lightMode:"Mode clair",autoMode:"Automatique",security:"SÃ©curitÃ©",lock:"Verrouiller",unlock:"DÃ©verrouiller",locked:"VerrouillÃ©",unlocked:"DÃ©verrouillÃ©",activate:"Activer",run:"ExÃ©cuter",disable:"DÃ©sactiver",enable:"Activer",trigger:"DÃ©clencher",scene:"ScÃ¨ne",script:"Script",automation:"Automatisation",veryWarm:"TrÃ¨s chaud",warm:"Chaud",neutral:"Neutre",cold:"Froid",daylight:"LumiÃ¨re du jour",on:"AllumÃ©",off:"Ãteint",active:"Actif",inactive:"Inactif",since:"depuis",noRoom:"Aucune piÃ¨ce",unknown:"Inconnu",justNow:"Ã  l'instant",turned_on:"AllumÃ©",turned_off:"Ãteint",heating:"Chauffage",cooling:"Refroidissement",auto:"Auto",drying:"DÃ©shumidification",fanOnly:"Ventilateur seulement",idle:"En attente",heatingTo:"Chauffage Ã ",coolingTo:"Refroidissement Ã ",maintaining:"Maintien",eco:"Mode Ã©co",comfort:"Confort",boost:"Boost",veryCold:"TrÃ¨s froid",cold:"Froid",cool:"Frais",comfortable:"Confortable",warm:"Chaud",hot:"TrÃ¨s chaud",veryHot:"ExtrÃªmement chaud",veryDry:"TrÃ¨s sec",dry:"Sec",optimal:"Optimal",humid:"Humide",veryHumid:"TrÃ¨s humide",critical:"Critique",low:"Bas",medium:"Moyen",good:"Bon",full:"Plein",minimal:"Minimal",high:"ÃlevÃ©",veryHigh:"TrÃ¨s Ã©levÃ©",excellent:"Excellent",acceptable:"Acceptable",moderate:"ModÃ©rÃ©",poor:"Mauvais"},search:{noResults:"Aucun rÃ©sultat pour",tryDifferent:"Essayez avec d'autres termes"},aiMode:{askAnything:"Demandez tout",subtitle:"Posez-moi toutes vos questions sur votre maison intelligente",thinking:"L'IA rÃ©flÃ©chit...",wasHelpful:"Cela vous a-t-il aidÃ© ?",yes:"Oui",no:"Non",followUp:"Posez une question de suivi...",suggestions:{lightsOff:"Ãteindre toutes les lumiÃ¨res",weather:"Quel temps fait-il aujourd'hui ?",temperature:"RÃ©gler la tempÃ©rature Ã  22Â°C"},badges:{webSearch:"Recherche Web",location:"Localisation",deviceControl:"ContrÃ´le des appareils",assistant:"Assistant"}},subcategories:{all:"Tous",lights:"Ãclairage",switches:"Interrupteurs",climate:"Climat",covers:"Volets",media:"MÃ©dias",cleaning:"Nettoyage",security:"SÃ©curitÃ©",utilities:"Appareils",scripts:"Scripts",automations:"Automatisations",scenes:"ScÃ¨nes",temperature:"TempÃ©rature",humidity:"HumiditÃ©",motion:"Mouvement",door_window:"Portes & FenÃªtres",energy:"Ãnergie",light:"LumiÃ¨re",presence:"PrÃ©sence",pressure:"Pression",battery:"Batterie",air_quality:"QualitÃ© de l'air",other_sensors:"Autres",system:"SystÃ¨me",apps:"Applications"},placeholders:{searchDevices:"Appareils",searchSensors:"Capteurs",searchActions:"Actions",searchCustom:"PersonnalisÃ©",search:"Rechercher..."},categories:{devices:"Appareils",sensors:"Capteurs",actions:"Actions",custom:"PersonnalisÃ©"},viewModes:{grid:"Grille",list:"Liste"},filters:{categories:"CatÃ©gories",areas:"PiÃ¨ces",types:"Types"},general:{noRoom:"Aucune piÃ¨ce"},deviceNames:{settings:"ParamÃ¨tres",marketplace:"Boutique"},settings:{general:"GÃ©nÃ©ral",appearance:"Apparence",privacy:"ConfidentialitÃ©",about:"Ã propos",generalSettings:"ParamÃ¨tres gÃ©nÃ©raux",aiMode:"Mode IA",aiModeDescription:"Activer l'assistant IA pour recherche et contrÃ´le avancÃ©s",animations:"Animations",animationsDescription:"Activer les effets de transition et animations",soundEffects:"Effets sonores",soundEffectsDescription:"Retour acoustique pour les actions",languageSettings:"ParamÃ¨tres de langue",appLanguage:"Langue de l'application",appLanguageDescription:"Choisissez votre langue prÃ©fÃ©rÃ©e",notifications:"Notifications",pushNotifications:"Notifications push",pushNotificationsDescription:"Recevoir des notifications sur les Ã©vÃ©nements importants",design:"Design",backgroundMode:"Mode d'arriÃ¨re-plan",backgroundModeDescription:"Ajuster la superposition pour une meilleure concentration",automatic:"Automatique",light:"Clair",dark:"Sombre",background:"ArriÃ¨re-plan",privacySecurity:"ConfidentialitÃ© et sÃ©curitÃ©",clearCache:"Vider le cache",resetData:"RÃ©initialiser les donnÃ©es",aboutCard:"Ã propos de Fast Search Card",version:"Version",build:"Build",developer:"DÃ©veloppeur",license:"Licence"},schedule:{all:"Tous",timer:"Minuteur",schedules:"Horaires",turnOn:"Allumer",turnOff:"Ãteindre",timerMode:"Minuteur",scheduleMode:"Horaire",timeFormat:"Format horaire",format24h:"24h",formatAM:"AM",formatPM:"PM",days:"Jours",monday:"Lun",tuesday:"Mar",wednesday:"Mer",thursday:"Jeu",friday:"Ven",saturday:"Sam",sunday:"Dim",daily:"Quotidien",weekdays:"Lun-Ven",weekend:"Sam, Dim",noDays:"Aucun",selectDay:"SÃ©lectionner",deselectDay:"DÃ©sÃ©lectionner",repeat:"RÃ©pÃ©tition",regular:"RÃ©gulier",once:"Une fois",add:"Nouveau",cancel:"Annuler",confirm:"CrÃ©er maintenant",save:"Enregistrer",action:"Action",scheduler:"Planificateur",atTime:"Ã",remaining:"Restant",minutes:"min",noTimers:"Aucun minuteur",noSchedules:"Aucun horaire",noEntries:"Aucune entrÃ©e",timerName:"Minuteur",scheduleName:"Horaire",morningRoutine:"Routine matinale",evening:"Soir"},context:{tabActions:"Actions",tabFavorites:"Favoris",tabEnvironment:"Environnement",loading:"Chargement de l'environnement...",noFavorites:"Aucun favori marquÃ©",noEnvironment:"Aucun appareil associÃ© trouvÃ©",noActions:"Aucune action trouvÃ©e"}},states:{on:"AllumÃ©",off:"Ãteint",home:"Maison",not_home:"Absent",heat:"Chauffage",cool:"Refroidissement",unknown:"Inconnu",unavailable:"Indisponible"},deviceClasses:{motion:{on:"Mouvement dÃ©tectÃ©",off:"Pas de mouvement"},door:{on:"Ouvert",off:"FermÃ©"},window:{on:"Ouvert",off:"FermÃ©"}},domains:{light:"LumiÃ¨re",switch:"Interrupteur",sensor:"Capteur",climate:"Climat"}},av={ui:{common:{pleaseSelect:"Por favor seleccione"},controls:{brightness:"Brillo",colorTemperature:"Temperatura de color",color:"Color",effects:"Efectos",hvac:"HVAC",fan:"Ventilador",preset:"Preajuste",swing:"OscilaciÃ³n",play:"Reproducir",pause:"Pausar",previous:"Anterior",next:"Siguiente",source:"Fuente",open:"Abrir",stop:"Detener",close:"Cerrar",position:"PosiciÃ³n",speed:"Velocidad",volume:"Volumen",targetTemperature:"Temperatura objetivo",currentTemperature:"Actual",control:"Control",production:"ProducciÃ³n",consumption:"Consumo",battery:"BaterÃ­a",sensor:"Sensor",temperature:"Temperatura",humidity:"Humedad",power:"Potencia",energy:"EnergÃ­a",co2:"COâ",movement:"Movimiento",door:"Puerta",window:"Ventana",presence:"Presencia",solar:"Solar",info:"InformaciÃ³n",settings:"ConfiguraciÃ³n",systemSettings:"ConfiguraciÃ³n del sistema",appearance:"Apariencia",language:"Idioma",notifications:"Notificaciones",privacy:"Privacidad",about:"Acerca de",theme:"Tema",darkMode:"Modo oscuro",lightMode:"Modo claro",autoMode:"AutomÃ¡tico",security:"Seguridad",lock:"Bloquear",unlock:"Desbloquear",locked:"Bloqueado",unlocked:"Desbloqueado",activate:"Activar",run:"Ejecutar",disable:"Desactivar",enable:"Activar",trigger:"Disparar",scene:"Escena",script:"Script",automation:"AutomatizaciÃ³n",veryWarm:"Muy cÃ¡lido",warm:"CÃ¡lido",neutral:"Neutro",cold:"FrÃ­o",daylight:"Luz del dÃ­a",on:"Encendido",off:"Apagado",active:"Activo",inactive:"Inactivo",since:"desde",noRoom:"Sin habitaciÃ³n",unknown:"Desconocido",justNow:"justo ahora",turned_on:"Encendido",turned_off:"Apagado",heating:"CalefacciÃ³n",cooling:"RefrigeraciÃ³n",auto:"Auto",drying:"DeshumidificaciÃ³n",fanOnly:"Solo ventilador",idle:"En espera",heatingTo:"Calentando a",coolingTo:"Enfriando a",maintaining:"Manteniendo",eco:"Modo eco",comfort:"Confort",boost:"Boost",veryCold:"Muy frÃ­o",cold:"FrÃ­o",cool:"Fresco",comfortable:"Confortable",warm:"CÃ¡lido",hot:"Caliente",veryHot:"Muy caliente",veryDry:"Muy seco",dry:"Seco",optimal:"Ãptimo",humid:"HÃºmedo",veryHumid:"Muy hÃºmedo",critical:"CrÃ­tico",low:"Bajo",medium:"Medio",good:"Bueno",full:"Lleno",minimal:"MÃ­nimo",high:"Alto",veryHigh:"Muy alto",excellent:"Excelente",acceptable:"Aceptable",moderate:"Moderado",poor:"Pobre"},search:{noResults:"Sin resultados para",tryDifferent:"Prueba con otros tÃ©rminos"},aiMode:{askAnything:"Pregunta lo que sea",subtitle:"PregÃºntame cualquier cosa sobre tu hogar inteligente",thinking:"La IA estÃ¡ pensando...",wasHelpful:"Â¿Te fue Ãºtil?",yes:"SÃ­",no:"No",followUp:"Haz una pregunta de seguimiento...",suggestions:{lightsOff:"Apagar todas las luces",weather:"Â¿CÃ³mo estÃ¡ el tiempo hoy?",temperature:"Ajustar temperatura a 22Â°C"},badges:{webSearch:"BÃºsqueda web",location:"UbicaciÃ³n",deviceControl:"Control de dispositivos",assistant:"Asistente"}},subcategories:{all:"Todos",lights:"IluminaciÃ³n",switches:"Interruptores",climate:"Clima",covers:"Persianas",media:"Medios",cleaning:"Limpieza",security:"Seguridad",utilities:"Dispositivos",scripts:"Scripts",automations:"Automatizaciones",scenes:"Escenas",temperature:"Temperatura",humidity:"Humedad",motion:"Movimiento",door_window:"Puertas y Ventanas",energy:"EnergÃ­a",light:"Luz",presence:"Presencia",pressure:"PresiÃ³n",battery:"BaterÃ­a",air_quality:"Calidad del aire",other_sensors:"Otros",system:"Sistema",apps:"Aplicaciones"},placeholders:{searchDevices:"Dispositivos",searchSensors:"Sensores",searchActions:"Acciones",searchCustom:"Personalizado",search:"Buscar..."},categories:{devices:"Dispositivos",sensors:"Sensores",actions:"Acciones",custom:"Personalizado"},viewModes:{grid:"CuadrÃ­cula",list:"Lista"},filters:{categories:"CategorÃ­as",areas:"Habitaciones",types:"Tipos"},general:{noRoom:"Sin habitaciÃ³n"},deviceNames:{settings:"ConfiguraciÃ³n",marketplace:"Tienda"},settings:{general:"General",appearance:"Apariencia",privacy:"Privacidad",about:"Acerca de",generalSettings:"ConfiguraciÃ³n general",aiMode:"Modo IA",aiModeDescription:"Activar asistente de IA para bÃºsqueda y control avanzados",animations:"Animaciones",animationsDescription:"Activar efectos de transiciÃ³n y animaciones",soundEffects:"Efectos de sonido",soundEffectsDescription:"RetroalimentaciÃ³n acÃºstica para acciones",languageSettings:"ConfiguraciÃ³n de idioma",appLanguage:"Idioma de la aplicaciÃ³n",appLanguageDescription:"Elige tu idioma preferido",notifications:"Notificaciones",pushNotifications:"Notificaciones push",pushNotificationsDescription:"Recibir notificaciones sobre eventos importantes",design:"DiseÃ±o",backgroundMode:"Modo de fondo",backgroundModeDescription:"Ajustar superposiciÃ³n para mejor enfoque",automatic:"AutomÃ¡tico",light:"Claro",dark:"Oscuro",background:"Fondo",privacySecurity:"Privacidad y seguridad",clearCache:"Limpiar cachÃ©",resetData:"Restablecer datos",aboutCard:"Acerca de Fast Search Card",version:"VersiÃ³n",build:"Build",developer:"Desarrollador",license:"Licencia"},schedule:{all:"Todos",timer:"Temporizador",schedules:"Horarios",turnOn:"Encender",turnOff:"Apagar",timerMode:"Temporizador",scheduleMode:"Horario",timeFormat:"Formato de hora",format24h:"24h",formatAM:"AM",formatPM:"PM",days:"DÃ­as",monday:"Lun",tuesday:"Mar",wednesday:"MiÃ©",thursday:"Jue",friday:"Vie",saturday:"SÃ¡b",sunday:"Dom",daily:"Diario",weekdays:"Lun-Vie",weekend:"SÃ¡b, Dom",noDays:"Ninguno",selectDay:"Seleccionar",deselectDay:"Deseleccionar",repeat:"RepeticiÃ³n",regular:"Regular",once:"Una vez",add:"Nuevo",cancel:"Cancelar",confirm:"Crear ahora",save:"Guardar",action:"AcciÃ³n",scheduler:"Programador",atTime:"A las",remaining:"Restante",minutes:"min",noTimers:"Sin temporizadores",noSchedules:"Sin horarios",noEntries:"Sin entradas",timerName:"Temporizador",scheduleName:"Horario",morningRoutine:"Rutina matutina",evening:"Noche"},context:{tabActions:"Acciones",tabFavorites:"Favoritos",tabEnvironment:"Entorno",loading:"Cargando entorno...",noFavorites:"No hay favoritos marcados",noEnvironment:"No se encontraron dispositivos relacionados",noActions:"No se encontraron acciones"}},states:{on:"Encendido",off:"Apagado",home:"En casa",not_home:"Ausente",heat:"CalefacciÃ³n",cool:"RefrigeraciÃ³n",unknown:"Desconocido",unavailable:"No disponible"}},lv={ui:{common:{pleaseSelect:"Seleziona"},controls:{brightness:"LuminositÃ ",colorTemperature:"Temperatura colore",color:"Colore",temperature:"Temperatura",humidity:"UmiditÃ ",settings:"Impostazioni",security:"Sicurezza",on:"Acceso",off:"Spento",open:"Apri",close:"Chiudi",locked:"Bloccato",unlocked:"Sbloccato",active:"Attivo",inactive:"Inattivo",since:"da",noRoom:"Nessuna stanza",unknown:"Sconosciuto",justNow:"proprio ora",turned_on:"Acceso",turned_off:"Spento"},search:{noResults:"Nessun risultato per",tryDifferent:"Prova con altri termini"},aiMode:{askAnything:"Chiedi qualsiasi cosa",subtitle:"Chiedimi tutto sulla tua casa intelligente",thinking:"L'IA sta pensando...",wasHelpful:"Ã stato utile?",yes:"SÃ¬",no:"No",followUp:"Fai una domanda di follow-up...",suggestions:{lightsOff:"Spegni tutte le luci",weather:"Com'Ã¨ il tempo oggi?",temperature:"Imposta la temperatura a 22Â°C"},badges:{webSearch:"Ricerca Web",location:"Posizione",deviceControl:"Controllo dispositivi",assistant:"Assistente"}},subcategories:{all:"Tutti",lights:"Illuminazione",switches:"Interruttori",climate:"Clima",covers:"Tapparelle",media:"Media",cleaning:"Pulizia",security:"Sicurezza",utilities:"Dispositivi",scripts:"Script",automations:"Automazioni",scenes:"Scene",temperature:"Temperatura",humidity:"UmiditÃ ",motion:"Movimento",door_window:"Porte e Finestre",energy:"Energia",light:"Luce",presence:"Presenza",pressure:"Pressione",battery:"Batteria",air_quality:"QualitÃ  dell'aria",other_sensors:"Altri",system:"Sistema",apps:"Applicazioni"},placeholders:{searchDevices:"Dispositivi",searchSensors:"Sensori",searchActions:"Azioni",searchCustom:"Personalizzato",search:"Cerca..."},categories:{devices:"Dispositivi",sensors:"Sensori",actions:"Azioni",custom:"Personalizzato"},viewModes:{grid:"Griglia",list:"Lista"},filters:{categories:"Categorie",areas:"Stanze",types:"Tipi"},general:{noRoom:"Nessuna stanza"},deviceNames:{settings:"Impostazioni",marketplace:"Negozio"},settings:{general:"Generale",appearance:"Aspetto",privacy:"Privacy",about:"Informazioni",generalSettings:"Impostazioni generali",aiMode:"ModalitÃ  IA",aiModeDescription:"Abilita assistente IA per ricerca e controllo avanzati",animations:"Animazioni",animationsDescription:"Abilita effetti di transizione e animazioni",soundEffects:"Effetti sonori",soundEffectsDescription:"Feedback acustico per le azioni",languageSettings:"Impostazioni lingua",appLanguage:"Lingua dell'app",appLanguageDescription:"Scegli la tua lingua preferita",notifications:"Notifiche",pushNotifications:"Notifiche push",pushNotificationsDescription:"Ricevi notifiche su eventi importanti",design:"Design",backgroundMode:"ModalitÃ  sfondo",backgroundModeDescription:"Regola sovrapposizione per migliore focus",automatic:"Automatico",light:"Chiaro",dark:"Scuro",background:"Sfondo",privacySecurity:"Privacy e sicurezza",clearCache:"Svuota cache",resetData:"Ripristina dati",aboutCard:"Info su Fast Search Card",version:"Versione",build:"Build",developer:"Sviluppatore",license:"Licenza"},schedule:{all:"Tutti",timer:"Timer",schedules:"Programmi",turnOn:"Accendi",turnOff:"Spegni",timerMode:"Timer",scheduleMode:"Programma",timeFormat:"Formato ora",format24h:"24h",formatAM:"AM",formatPM:"PM",days:"Giorni",monday:"Lun",tuesday:"Mar",wednesday:"Mer",thursday:"Gio",friday:"Ven",saturday:"Sab",sunday:"Dom",daily:"Giornaliero",weekdays:"Lun-Ven",weekend:"Sab, Dom",noDays:"Nessuno",selectDay:"Seleziona",deselectDay:"Deseleziona",repeat:"Ripeti",regular:"Regolare",once:"Una volta",add:"Nuovo",cancel:"Annulla",confirm:"Crea ora",save:"Salva",action:"Azione",scheduler:"Programmatore",atTime:"Alle",remaining:"Rimanente",minutes:"min",noTimers:"Nessun timer",noSchedules:"Nessun programma",noEntries:"Nessun elemento",timerName:"Timer",scheduleName:"Programma",morningRoutine:"Routine mattutina",evening:"Sera"},context:{tabActions:"Azioni",tabFavorites:"Preferiti",tabEnvironment:"Ambiente",loading:"Caricamento ambiente...",noFavorites:"Nessun preferito contrassegnato",noEnvironment:"Nessun dispositivo correlato trovato",noActions:"Nessuna azione trovata"}},states:{on:"Acceso",off:"Spento",home:"Casa",not_home:"Assente"}},cv={ui:{common:{pleaseSelect:"Selecteer alstublieft"},controls:{brightness:"Helderheid",colorTemperature:"Kleurtemperatuur",color:"Kleur",temperature:"Temperatuur",humidity:"Vochtigheid",settings:"Instellingen",security:"Beveiliging",on:"Aan",off:"Uit",open:"Open",close:"Sluiten",locked:"Vergrendeld",unlocked:"Ontgrendeld"},search:{noResults:"Geen resultaten voor",tryDifferent:"Probeer andere zoektermen"},aiMode:{askAnything:"Vraag het maar",subtitle:"Vraag me alles over je slimme woning",thinking:"AI is aan het denken...",wasHelpful:"Was dit nuttig?",yes:"Ja",no:"Nee",followUp:"Stel een vervolgvraag...",suggestions:{lightsOff:"Schakel alle lichten uit",weather:"Hoe is het weer vandaag?",temperature:"Stel temperatuur in op 22Â°C"},badges:{webSearch:"Web zoeken",location:"Locatie",deviceControl:"Apparaatbediening",assistant:"Assistent"}},subcategories:{all:"Alle",lights:"Verlichting",switches:"Schakelaars",climate:"Klimaat",covers:"Rolgordijnen",media:"Media",cleaning:"Reiniging",security:"Beveiliging",utilities:"Apparaten",scripts:"Scripts",automations:"Automatiseringen",scenes:"ScÃ¨nes",temperature:"Temperatuur",humidity:"Vochtigheid",motion:"Beweging",door_window:"Deuren en Ramen",energy:"Energie",light:"Licht",presence:"Aanwezigheid",pressure:"Druk",battery:"Batterij",air_quality:"Luchtkwaliteit",other_sensors:"Overige",system:"Systeem",apps:"Apps"},placeholders:{searchDevices:"Apparaten",searchSensors:"Sensoren",searchActions:"Acties",searchCustom:"Aangepast",search:"Zoeken..."},categories:{devices:"Apparaten",sensors:"Sensoren",actions:"Acties",custom:"Aangepast"},viewModes:{grid:"Raster",list:"Lijst"},filters:{categories:"CategorieÃ«n",areas:"Kamers",types:"Types"},general:{noRoom:"Geen kamer"},deviceNames:{settings:"Instellingen",marketplace:"Winkel"},settings:{general:"Algemeen",appearance:"Uiterlijk",privacy:"Privacy",about:"Over",generalSettings:"Algemene instellingen",aiMode:"AI-modus",aiModeDescription:"AI-assistent inschakelen voor geavanceerd zoeken en beheer",animations:"Animaties",animationsDescription:"Overgangseffecten en animaties inschakelen",soundEffects:"Geluidseffecten",soundEffectsDescription:"Akoestische feedback bij acties",languageSettings:"Taalinstellingen",appLanguage:"App-taal",appLanguageDescription:"Kies je voorkeurstaal",notifications:"Meldingen",pushNotifications:"Push-meldingen",pushNotificationsDescription:"Ontvang meldingen over belangrijke gebeurtenissen",design:"Ontwerp",backgroundMode:"Achtergrondmodus",backgroundModeDescription:"Overlay aanpassen voor betere focus",automatic:"Automatisch",light:"Licht",dark:"Donker",background:"Achtergrond",privacySecurity:"Privacy & Beveiliging",clearCache:"Cache wissen",resetData:"Gegevens resetten",aboutCard:"Over Fast Search Card",version:"Versie",build:"Build",developer:"Ontwikkelaar",license:"Licentie"},schedule:{all:"Alle",timer:"Timer",schedules:"Schema's",turnOn:"Inschakelen",turnOff:"Uitschakelen",timerMode:"Timer",scheduleMode:"Schema",timeFormat:"Tijdweergave",format24h:"24u",formatAM:"AM",formatPM:"PM",days:"Dagen",monday:"Ma",tuesday:"Di",wednesday:"Wo",thursday:"Do",friday:"Vr",saturday:"Za",sunday:"Zo",daily:"Dagelijks",weekdays:"Ma-Vr",weekend:"Za, Zo",noDays:"Geen",selectDay:"Selecteren",deselectDay:"Deselecteren",repeat:"Herhaling",regular:"Regelmatig",once:"Eenmalig",add:"Nieuw",cancel:"Annuleren",confirm:"Nu maken",save:"Opslaan",action:"Actie",scheduler:"Planner",atTime:"Om",remaining:"Resterend",minutes:"min",noTimers:"Geen timers",noSchedules:"Geen schema's",noEntries:"Geen items",timerName:"Timer",scheduleName:"Schema",morningRoutine:"Ochtendroutine",evening:"Avond"},context:{tabActions:"Acties",tabFavorites:"Favorieten",tabEnvironment:"Omgeving",loading:"Omgeving laden...",noFavorites:"Geen favorieten gemarkeerd",noEnvironment:"Geen gerelateerde apparaten gevonden",noActions:"Geen acties gevonden"}},states:{on:"Aan",off:"Uit",home:"Thuis",not_home:"Afwezig"}},dv={ui:{common:{pleaseSelect:"Por favor selecione"},controls:{brightness:"Brilho",colorTemperature:"Temperatura de cor",color:"Cor",temperature:"Temperatura",humidity:"Umidade",settings:"ConfiguraÃ§Ãµes",security:"SeguranÃ§a",on:"Ligado",off:"Desligado",open:"Abrir",close:"Fechar",locked:"Bloqueado",unlocked:"Desbloqueado"},search:{noResults:"Sem resultados para",tryDifferent:"Tente termos diferentes"},aiMode:{askAnything:"Pergunte qualquer coisa",subtitle:"Me pergunte tudo sobre sua casa inteligente",thinking:"IA estÃ¡ pensando...",wasHelpful:"Isso foi Ãºtil?",yes:"Sim",no:"NÃ£o",followUp:"FaÃ§a uma pergunta de acompanhamento...",suggestions:{lightsOff:"Apagar todas as luzes",weather:"Como estÃ¡ o tempo hoje?",temperature:"Definir temperatura para 22Â°C"},badges:{webSearch:"Pesquisa na Web",location:"LocalizaÃ§Ã£o",deviceControl:"Controle de dispositivos",assistant:"Assistente"}},subcategories:{all:"Todos",lights:"IluminaÃ§Ã£o",switches:"Interruptores",climate:"Clima",covers:"Persianas",media:"MÃ­dia",cleaning:"Limpeza",security:"SeguranÃ§a",utilities:"Dispositivos",scripts:"Scripts",automations:"AutomaÃ§Ãµes",scenes:"Cenas",temperature:"Temperatura",humidity:"Umidade",motion:"Movimento",door_window:"Portas e Janelas",energy:"Energia",light:"Luz",presence:"PresenÃ§a",pressure:"PressÃ£o",battery:"Bateria",air_quality:"Qualidade do ar",other_sensors:"Outros",system:"Sistema",apps:"AplicaÃ§Ãµes"},placeholders:{searchDevices:"Dispositivos",searchSensors:"Sensores",searchActions:"AÃ§Ãµes",searchCustom:"Personalizado",search:"Buscar..."},categories:{devices:"Dispositivos",sensors:"Sensores",actions:"AÃ§Ãµes",custom:"Personalizado"},viewModes:{grid:"Grade",list:"Lista"},filters:{categories:"Categorias",areas:"CÃ´modos",types:"Tipos"},general:{noRoom:"Sem cÃ´modo"},deviceNames:{settings:"ConfiguraÃ§Ãµes",marketplace:"Loja"},settings:{general:"Geral",appearance:"AparÃªncia",privacy:"Privacidade",about:"Sobre",generalSettings:"ConfiguraÃ§Ãµes gerais",aiMode:"Modo IA",aiModeDescription:"Ativar assistente de IA para busca e controle avanÃ§ados",animations:"AnimaÃ§Ãµes",animationsDescription:"Ativar efeitos de transiÃ§Ã£o e animaÃ§Ãµes",soundEffects:"Efeitos sonoros",soundEffectsDescription:"Feedback acÃºstico para aÃ§Ãµes",languageSettings:"ConfiguraÃ§Ãµes de idioma",appLanguage:"Idioma do app",appLanguageDescription:"Escolha seu idioma preferido",notifications:"NotificaÃ§Ãµes",pushNotifications:"NotificaÃ§Ãµes push",pushNotificationsDescription:"Receber notificaÃ§Ãµes sobre eventos importantes",design:"Design",backgroundMode:"Modo de fundo",backgroundModeDescription:"Ajustar sobreposiÃ§Ã£o para melhor foco",automatic:"AutomÃ¡tico",light:"Claro",dark:"Escuro",background:"Fundo",privacySecurity:"Privacidade e SeguranÃ§a",clearCache:"Limpar cache",resetData:"Redefinir dados",aboutCard:"Sobre Fast Search Card",version:"VersÃ£o",build:"Build",developer:"Desenvolvedor",license:"LicenÃ§a"},schedule:{all:"Todos",timer:"Timer",schedules:"Agendamentos",turnOn:"Ligar",turnOff:"Desligar",timerMode:"Timer",scheduleMode:"Agendamento",timeFormat:"Formato de hora",format24h:"24h",formatAM:"AM",formatPM:"PM",days:"Dias",monday:"Seg",tuesday:"Ter",wednesday:"Qua",thursday:"Qui",friday:"Sex",saturday:"SÃ¡b",sunday:"Dom",daily:"DiÃ¡rio",weekdays:"Seg-Sex",weekend:"SÃ¡b, Dom",noDays:"Nenhum",selectDay:"Selecionar",deselectDay:"Desselecionar",repeat:"Repetir",regular:"Regular",once:"Uma vez",add:"Novo",cancel:"Cancelar",confirm:"Criar agora",save:"Salvar",action:"AÃ§Ã£o",scheduler:"Agendador",atTime:"Ãs",remaining:"Restante",minutes:"min",noTimers:"Sem timers",noSchedules:"Sem agendamentos",noEntries:"Sem itens",timerName:"Timer",scheduleName:"Agendamento",morningRoutine:"Rotina matinal",evening:"Noite"},context:{tabActions:"AÃ§Ãµes",tabFavorites:"Favoritos",tabEnvironment:"Ambiente",loading:"Carregando ambiente...",noFavorites:"Nenhum favorito marcado",noEnvironment:"Nenhum dispositivo relacionado encontrado",noActions:"Nenhuma aÃ§Ã£o encontrada"}},states:{on:"Ligado",off:"Desligado",home:"Em casa",not_home:"Ausente"}},uv={ui:{common:{pleaseSelect:"ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð²ÑÐ±ÐµÑÐ¸ÑÐµ"},controls:{brightness:"Ð¯ÑÐºÐ¾ÑÑÑ",colorTemperature:"Ð¦Ð²ÐµÑÐ¾Ð²Ð°Ñ ÑÐµÐ¼Ð¿ÐµÑÐ°ÑÑÑÐ°",color:"Ð¦Ð²ÐµÑ",temperature:"Ð¢ÐµÐ¼Ð¿ÐµÑÐ°ÑÑÑÐ°",humidity:"ÐÐ»Ð°Ð¶Ð½Ð¾ÑÑÑ",settings:"ÐÐ°ÑÑÑÐ¾Ð¹ÐºÐ¸",security:"ÐÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑÑ",on:"ÐÐºÐ»",off:"ÐÑÐºÐ»",open:"ÐÑÐºÑÑÑÑ",close:"ÐÐ°ÐºÑÑÑÑ",locked:"ÐÐ°Ð±Ð»Ð¾ÐºÐ¸ÑÐ¾Ð²Ð°Ð½Ð¾",unlocked:"Ð Ð°Ð·Ð±Ð»Ð¾ÐºÐ¸ÑÐ¾Ð²Ð°Ð½Ð¾"},search:{noResults:"ÐÐµÑ ÑÐµÐ·ÑÐ»ÑÑÐ°ÑÐ¾Ð² Ð´Ð»Ñ",tryDifferent:"ÐÐ¾Ð¿ÑÐ¾Ð±ÑÐ¹ÑÐµ Ð´ÑÑÐ³Ð¸Ðµ Ð¿Ð¾Ð¸ÑÐºÐ¾Ð²ÑÐµ Ð·Ð°Ð¿ÑÐ¾ÑÑ"},aiMode:{askAnything:"Ð¡Ð¿ÑÐ¾ÑÐ¸ ÑÑÐ¾ ÑÐ³Ð¾Ð´Ð½Ð¾",subtitle:"Ð¡Ð¿ÑÐ¾ÑÐ¸ÑÐµ Ð¼ÐµÐ½Ñ Ð¾ Ð²Ð°ÑÐµÐ¼ ÑÐ¼Ð½Ð¾Ð¼ Ð´Ð¾Ð¼Ðµ",thinking:"ÐÐ Ð´ÑÐ¼Ð°ÐµÑ...",wasHelpful:"Ð­ÑÐ¾ Ð±ÑÐ»Ð¾ Ð¿Ð¾Ð»ÐµÐ·Ð½Ð¾?",yes:"ÐÐ°",no:"ÐÐµÑ",followUp:"ÐÐ°Ð´Ð°Ð¹ÑÐµ ÑÑÐ¾ÑÐ½ÑÑÑÐ¸Ð¹ Ð²Ð¾Ð¿ÑÐ¾Ñ...",suggestions:{lightsOff:"ÐÑÐºÐ»ÑÑÐ¸ÑÑ Ð²ÐµÑÑ ÑÐ²ÐµÑ",weather:"ÐÐ°ÐºÐ°Ñ ÑÐµÐ³Ð¾Ð´Ð½Ñ Ð¿Ð¾Ð³Ð¾Ð´Ð°?",temperature:"Ð£ÑÑÐ°Ð½Ð¾Ð²Ð¸ÑÑ ÑÐµÐ¼Ð¿ÐµÑÐ°ÑÑÑÑ 22Â°C"},badges:{webSearch:"ÐÐ¾Ð¸ÑÐº Ð² ÑÐµÑÐ¸",location:"ÐÐµÑÑÐ¾Ð¿Ð¾Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ",deviceControl:"Ð£Ð¿ÑÐ°Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÑÑÑÐ¾Ð¹ÑÑÐ²Ð°Ð¼Ð¸",assistant:"ÐÑÑÐ¸ÑÑÐµÐ½Ñ"}},subcategories:{all:"ÐÑÐµ",lights:"ÐÑÐ²ÐµÑÐµÐ½Ð¸Ðµ",switches:"ÐÐµÑÐµÐºÐ»ÑÑÐ°ÑÐµÐ»Ð¸",climate:"ÐÐ»Ð¸Ð¼Ð°Ñ",covers:"ÐÐ°Ð»ÑÐ·Ð¸",media:"ÐÐµÐ´Ð¸Ð°",cleaning:"Ð£Ð±Ð¾ÑÐºÐ°",security:"ÐÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑÑ",utilities:"Ð£ÑÑÑÐ¾Ð¹ÑÑÐ²Ð°",scripts:"Ð¡ÑÐµÐ½Ð°ÑÐ¸Ð¸",automations:"ÐÐ²ÑÐ¾Ð¼Ð°ÑÐ¸Ð·Ð°ÑÐ¸Ð¸",scenes:"Ð¡ÑÐµÐ½Ñ",temperature:"Ð¢ÐµÐ¼Ð¿ÐµÑÐ°ÑÑÑÐ°",humidity:"ÐÐ»Ð°Ð¶Ð½Ð¾ÑÑÑ",motion:"ÐÐ²Ð¸Ð¶ÐµÐ½Ð¸Ðµ",door_window:"ÐÐ²ÐµÑÐ¸ Ð¸ ÐÐºÐ½Ð°",energy:"Ð­Ð½ÐµÑÐ³Ð¸Ñ",light:"Ð¡Ð²ÐµÑ",presence:"ÐÑÐ¸ÑÑÑÑÑÐ²Ð¸Ðµ",pressure:"ÐÐ°Ð²Ð»ÐµÐ½Ð¸Ðµ",battery:"ÐÐ°ÑÐ°ÑÐµÑ",air_quality:"ÐÐ°ÑÐµÑÑÐ²Ð¾ Ð²Ð¾Ð·Ð´ÑÑÐ°",other_sensors:"ÐÑÑÐ³Ð¸Ðµ",system:"Ð¡Ð¸ÑÑÐµÐ¼Ð°",apps:"ÐÑÐ¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ"},placeholders:{searchDevices:"Ð£ÑÑÑÐ¾Ð¹ÑÑÐ²Ð°",searchSensors:"Ð¡ÐµÐ½ÑÐ¾ÑÑ",searchActions:"ÐÐµÐ¹ÑÑÐ²Ð¸Ñ",searchCustom:"ÐÐ¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»ÑÑÐºÐ¸Ðµ",search:"ÐÐ¾Ð¸ÑÐº..."},categories:{devices:"Ð£ÑÑÑÐ¾Ð¹ÑÑÐ²Ð°",sensors:"Ð¡ÐµÐ½ÑÐ¾ÑÑ",actions:"ÐÐµÐ¹ÑÑÐ²Ð¸Ñ",custom:"ÐÐ¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»ÑÑÐºÐ¸Ðµ"},viewModes:{grid:"Ð¡ÐµÑÐºÐ°",list:"Ð¡Ð¿Ð¸ÑÐ¾Ðº"},filters:{categories:"ÐÐ°ÑÐµÐ³Ð¾ÑÐ¸Ð¸",areas:"ÐÐ¾Ð¼Ð½Ð°ÑÑ",types:"Ð¢Ð¸Ð¿Ñ"},general:{noRoom:"ÐÐµÑ ÐºÐ¾Ð¼Ð½Ð°ÑÑ"},deviceNames:{settings:"ÐÐ°ÑÑÑÐ¾Ð¹ÐºÐ¸",marketplace:"ÐÐ°Ð³Ð°Ð·Ð¸Ð½"},settings:{general:"ÐÐ±ÑÐµÐµ",appearance:"ÐÐ½ÐµÑÐ½Ð¸Ð¹ Ð²Ð¸Ð´",privacy:"ÐÐ¾Ð½ÑÐ¸Ð´ÐµÐ½ÑÐ¸Ð°Ð»ÑÐ½Ð¾ÑÑÑ",about:"Ð Ð¿ÑÐ¾Ð³ÑÐ°Ð¼Ð¼Ðµ",generalSettings:"ÐÐ±ÑÐ¸Ðµ Ð½Ð°ÑÑÑÐ¾Ð¹ÐºÐ¸",aiMode:"Ð ÐµÐ¶Ð¸Ð¼ ÐÐ",aiModeDescription:"ÐÐºÐ»ÑÑÐ¸ÑÑ ÐÐ-Ð°ÑÑÐ¸ÑÑÐµÐ½ÑÐ° Ð´Ð»Ñ ÑÐ°ÑÑÐ¸ÑÐµÐ½Ð½Ð¾Ð³Ð¾ Ð¿Ð¾Ð¸ÑÐºÐ° Ð¸ ÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½Ð¸Ñ",animations:"ÐÐ½Ð¸Ð¼Ð°ÑÐ¸Ð¸",animationsDescription:"ÐÐºÐ»ÑÑÐ¸ÑÑ ÑÑÑÐµÐºÑÑ Ð¿ÐµÑÐµÑÐ¾Ð´Ð° Ð¸ Ð°Ð½Ð¸Ð¼Ð°ÑÐ¸Ð¸",soundEffects:"ÐÐ²ÑÐºÐ¾Ð²ÑÐµ ÑÑÑÐµÐºÑÑ",soundEffectsDescription:"ÐÐ²ÑÐºÐ¾Ð²Ð°Ñ Ð¾Ð±ÑÐ°ÑÐ½Ð°Ñ ÑÐ²ÑÐ·Ñ Ð´Ð»Ñ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹",languageSettings:"ÐÐ°ÑÑÑÐ¾Ð¹ÐºÐ¸ ÑÐ·ÑÐºÐ°",appLanguage:"Ð¯Ð·ÑÐº Ð¿ÑÐ¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ",appLanguageDescription:"ÐÑÐ±ÐµÑÐ¸ÑÐµ Ð¿ÑÐµÐ´Ð¿Ð¾ÑÐ¸ÑÐ°ÐµÐ¼ÑÐ¹ ÑÐ·ÑÐº",notifications:"Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ",pushNotifications:"Push-ÑÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ",pushNotificationsDescription:"ÐÐ¾Ð»ÑÑÐ°ÑÑ ÑÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¾ Ð²Ð°Ð¶Ð½ÑÑ ÑÐ¾Ð±ÑÑÐ¸ÑÑ",design:"ÐÐ¸Ð·Ð°Ð¹Ð½",backgroundMode:"Ð ÐµÐ¶Ð¸Ð¼ ÑÐ¾Ð½Ð°",backgroundModeDescription:"ÐÐ°ÑÑÑÐ¾Ð¹ÑÐµ Ð½Ð°Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð´Ð»Ñ Ð»ÑÑÑÐµÐ¹ ÑÐ¾ÐºÑÑÐ¸ÑÐ¾Ð²ÐºÐ¸",automatic:"ÐÐ²ÑÐ¾Ð¼Ð°ÑÐ¸ÑÐµÑÐºÐ¸",light:"Ð¡Ð²ÐµÑÐ»ÑÐ¹",dark:"Ð¢ÑÐ¼Ð½ÑÐ¹",background:"Ð¤Ð¾Ð½",privacySecurity:"ÐÐ¾Ð½ÑÐ¸Ð´ÐµÐ½ÑÐ¸Ð°Ð»ÑÐ½Ð¾ÑÑÑ Ð¸ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑÑ",clearCache:"ÐÑÐ¸ÑÑÐ¸ÑÑ ÐºÑÑ",resetData:"Ð¡Ð±ÑÐ¾ÑÐ¸ÑÑ Ð´Ð°Ð½Ð½ÑÐµ",aboutCard:"Ð Fast Search Card",version:"ÐÐµÑÑÐ¸Ñ",build:"Ð¡Ð±Ð¾ÑÐºÐ°",developer:"Ð Ð°Ð·ÑÐ°Ð±Ð¾ÑÑÐ¸Ðº",license:"ÐÐ¸ÑÐµÐ½Ð·Ð¸Ñ"},schedule:{all:"ÐÑÐµ",timer:"Ð¢Ð°Ð¹Ð¼ÐµÑ",schedules:"Ð Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ñ",turnOn:"ÐÐºÐ»ÑÑÐ¸ÑÑ",turnOff:"ÐÑÐºÐ»ÑÑÐ¸ÑÑ",timerMode:"Ð¢Ð°Ð¹Ð¼ÐµÑ",scheduleMode:"Ð Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ",timeFormat:"Ð¤Ð¾ÑÐ¼Ð°Ñ Ð²ÑÐµÐ¼ÐµÐ½Ð¸",format24h:"24Ñ",formatAM:"AM",formatPM:"PM",days:"ÐÐ½Ð¸",monday:"ÐÐ½",tuesday:"ÐÑ",wednesday:"Ð¡Ñ",thursday:"Ð§Ñ",friday:"ÐÑ",saturday:"Ð¡Ð±",sunday:"ÐÑ",daily:"ÐÐ¶ÐµÐ´Ð½ÐµÐ²Ð½Ð¾",weekdays:"ÐÐ½-ÐÑ",weekend:"Ð¡Ð±, ÐÑ",noDays:"ÐÐµÑ",selectDay:"ÐÑÐ±ÑÐ°ÑÑ",deselectDay:"ÐÑÐ¼ÐµÐ½Ð¸ÑÑ Ð²ÑÐ±Ð¾Ñ",repeat:"ÐÐ¾Ð²ÑÐ¾Ñ",regular:"Ð ÐµÐ³ÑÐ»ÑÑÐ½Ð¾",once:"ÐÐ´Ð¸Ð½ ÑÐ°Ð·",add:"ÐÐ¾Ð²ÑÐ¹",cancel:"ÐÑÐ¼ÐµÐ½Ð°",confirm:"Ð¡Ð¾Ð·Ð´Ð°ÑÑ ÑÐµÐ¹ÑÐ°Ñ",save:"Ð¡Ð¾ÑÑÐ°Ð½Ð¸ÑÑ",action:"ÐÐµÐ¹ÑÑÐ²Ð¸Ðµ",scheduler:"ÐÐ»Ð°Ð½Ð¸ÑÐ¾Ð²ÑÐ¸Ðº",atTime:"Ð",remaining:"ÐÑÑÐ°Ð»Ð¾ÑÑ",minutes:"Ð¼Ð¸Ð½",noTimers:"ÐÐµÑ ÑÐ°Ð¹Ð¼ÐµÑÐ¾Ð²",noSchedules:"ÐÐµÑ ÑÐ°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ð¹",noEntries:"ÐÐµÑ Ð·Ð°Ð¿Ð¸ÑÐµÐ¹",timerName:"Ð¢Ð°Ð¹Ð¼ÐµÑ",scheduleName:"Ð Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ",morningRoutine:"Ð£ÑÑÐµÐ½Ð½ÑÑ ÑÑÑÐ¸Ð½Ð°",evening:"ÐÐµÑÐµÑ"},context:{tabActions:"ÐÐµÐ¹ÑÑÐ²Ð¸Ñ",tabFavorites:"ÐÐ·Ð±ÑÐ°Ð½Ð½Ð¾Ðµ",tabEnvironment:"ÐÐºÑÑÐ¶ÐµÐ½Ð¸Ðµ",loading:"ÐÐ°Ð³ÑÑÐ·ÐºÐ° Ð¾ÐºÑÑÐ¶ÐµÐ½Ð¸Ñ...",noFavorites:"ÐÐµÑ Ð¸Ð·Ð±ÑÐ°Ð½Ð½ÑÑ",noEnvironment:"Ð¡Ð²ÑÐ·Ð°Ð½Ð½ÑÐµ ÑÑÑÑÐ¾Ð¹ÑÑÐ²Ð° Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ñ",noActions:"ÐÐµÐ¹ÑÑÐ²Ð¸Ñ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ñ"}},states:{on:"ÐÐºÐ»",off:"ÐÑÐºÐ»",home:"ÐÐ¾Ð¼Ð°",not_home:"ÐÑÑÑÑÑÑÐ²ÑÐµÑ"}},hv={ui:{common:{pleaseSelect:"è¯·éæ©"},controls:{brightness:"äº®åº¦",colorTemperature:"è²æ¸©",color:"é¢è²",temperature:"æ¸©åº¦",humidity:"æ¹¿åº¦",settings:"è®¾ç½®",security:"å®å¨",on:"å¼",off:"å³",open:"æå¼",close:"å³é­",locked:"å·²éå®",unlocked:"å·²è§£é"},search:{noResults:"æ²¡æç»æ",tryDifferent:"å°è¯ä¸åçæç´¢è¯"},aiMode:{askAnything:"éä¾¿é®",subtitle:"é®æå³äºæ¨çæºè½å®¶å±çä»»ä½é®é¢",thinking:"AI æ­£å¨æè...",wasHelpful:"è¿æå¸®å©åï¼",yes:"æ¯",no:"å¦",followUp:"è¯·é®åç»­é®é¢...",suggestions:{lightsOff:"å³é­ææç¯å",weather:"ä»å¤©å¤©æ°æä¹æ ·ï¼",temperature:"è®¾ç½®æ¸©åº¦ä¸º22Â°C"},badges:{webSearch:"ç½ç»æç´¢",location:"ä½ç½®",deviceControl:"è®¾å¤æ§å¶",assistant:"å©æ"}},subcategories:{all:"å¨é¨",lights:"ç¯å",switches:"å¼å³",climate:"æ°å",covers:"çªå¸",media:"åªä½",cleaning:"æ¸æ´",security:"å®å¨",utilities:"è®¾å¤",scripts:"èæ¬",automations:"èªå¨å",scenes:"åºæ¯",temperature:"æ¸©åº¦",humidity:"æ¹¿åº¦",motion:"å¨ä½",door_window:"é¨çª",energy:"è½æº",light:"åçº¿",presence:"å­å¨",pressure:"åå",battery:"çµæ± ",air_quality:"ç©ºæ°è´¨é",other_sensors:"å¶ä»",system:"ç³»ç»",apps:"åºç¨"},placeholders:{searchDevices:"è®¾å¤",searchSensors:"ä¼ æå¨",searchActions:"å¨ä½",searchCustom:"èªå®ä¹",search:"æç´¢..."},categories:{devices:"è®¾å¤",sensors:"ä¼ æå¨",actions:"å¨ä½",custom:"èªå®ä¹"},viewModes:{grid:"ç½æ ¼",list:"åè¡¨"},filters:{categories:"ç±»å«",areas:"æ¿é´",types:"ç±»å"},general:{noRoom:"æ æ¿é´"},deviceNames:{settings:"è®¾ç½®",marketplace:"å¸åº"},settings:{general:"å¸¸è§",appearance:"å¤è§",privacy:"éç§",about:"å³äº",generalSettings:"å¸¸è§è®¾ç½®",aiMode:"AI æ¨¡å¼",aiModeDescription:"å¯ç¨AIå©æè¿è¡é«çº§æç´¢åæ§å¶",animations:"å¨ç»",animationsDescription:"å¯ç¨è¿æ¸¡ææåå¨ç»",soundEffects:"å£°é³ææ",soundEffectsDescription:"æä½æ¶çå£°é³åé¦",languageSettings:"è¯­è¨è®¾ç½®",appLanguage:"åºç¨è¯­è¨",appLanguageDescription:"éæ©æ¨åæ¬¢çè¯­è¨",notifications:"éç¥",pushNotifications:"æ¨ééç¥",pushNotificationsDescription:"æ¥æ¶éè¦äºä»¶çéç¥",design:"è®¾è®¡",backgroundMode:"èæ¯æ¨¡å¼",backgroundModeDescription:"è°æ´è¦çå±ä»¥æ´å¥½å°èç¦",automatic:"èªå¨",light:"æµè²",dark:"æ·±è²",background:"èæ¯",privacySecurity:"éç§ä¸å®å¨",clearCache:"æ¸é¤ç¼å­",resetData:"éç½®æ°æ®",aboutCard:"å³äº Fast Search Card",version:"çæ¬",build:"æå»º",developer:"å¼åè",license:"è®¸å¯è¯"},schedule:{all:"å¨é¨",timer:"è®¡æ¶å¨",schedules:"æ¶é´è¡¨",turnOn:"å¼å¯",turnOff:"å³é­",timerMode:"è®¡æ¶å¨",scheduleMode:"æ¶é´è¡¨",timeFormat:"æ¶é´æ¾ç¤º",format24h:"24å°æ¶",formatAM:"ä¸å",formatPM:"ä¸å",days:"å¤©æ°",monday:"å¨ä¸",tuesday:"å¨äº",wednesday:"å¨ä¸",thursday:"å¨å",friday:"å¨äº",saturday:"å¨å­",sunday:"å¨æ¥",daily:"æ¯å¤©",weekdays:"å·¥ä½æ¥",weekend:"å¨æ«",noDays:"æ ",selectDay:"éæ©",deselectDay:"åæ¶éæ©",repeat:"éå¤",regular:"å¸¸è§",once:"ä¸æ¬¡",add:"æ°å»º",cancel:"åæ¶",confirm:"ç«å³åå»º",save:"ä¿å­",action:"æä½",scheduler:"è°åº¦å¨",atTime:"å¨",remaining:"å©ä½",minutes:"åé",noTimers:"æ è®¡æ¶å¨",noSchedules:"æ æ¶é´è¡¨",noEntries:"æ é¡¹ç®",timerName:"è®¡æ¶å¨",scheduleName:"æ¶é´è¡¨",morningRoutine:"æ©æ¨ä¾ç¨",evening:"æä¸"},context:{tabActions:"æä½",tabFavorites:"æ¶èå¤¹",tabEnvironment:"ç¯å¢",loading:"å è½½ç¯å¢...",noFavorites:"æªæ è®°æ¶è",noEnvironment:"æªæ¾å°ç¸å³è®¾å¤",noActions:"æªæ¾å°æä½"}},states:{on:"å¼",off:"å³",home:"å¨å®¶",not_home:"ç¦»å¼"}},fv={ui:{common:{pleaseSelect:"LÃ¼tfen seÃ§in"},controls:{brightness:"ParlaklÄ±k",colorTemperature:"Renk sÄ±caklÄ±ÄÄ±",color:"Renk",temperature:"SÄ±caklÄ±k",humidity:"Nem",settings:"Ayarlar",security:"GÃ¼venlik",on:"AÃ§Ä±k",off:"KapalÄ±",open:"AÃ§",close:"Kapat",locked:"Kilitli",unlocked:"Kilit aÃ§Ä±k"},search:{noResults:"Åunun iÃ§in sonuÃ§ yok",tryDifferent:"FarklÄ± arama terimleri deneyin"},aiMode:{askAnything:"Ne istersen sor",subtitle:"AkÄ±llÄ± eviniz hakkÄ±nda bana her Åeyi sorun",thinking:"AI dÃ¼ÅÃ¼nÃ¼yor...",wasHelpful:"Bu yardÄ±mcÄ± oldu mu?",yes:"Evet",no:"HayÄ±r",followUp:"Bir takip sorusu sorun...",suggestions:{lightsOff:"TÃ¼m Ä±ÅÄ±klarÄ± kapat",weather:"BugÃ¼n hava nasÄ±l?",temperature:"SÄ±caklÄ±ÄÄ± 22Â°C'ye ayarla"},badges:{webSearch:"Web AramasÄ±",location:"Konum",deviceControl:"Cihaz KontrolÃ¼",assistant:"Asistan"}},subcategories:{all:"TÃ¼mÃ¼",lights:"AydÄ±nlatma",switches:"Anahtarlar",climate:"Ä°klim",covers:"Perdeler",media:"Medya",cleaning:"Temizlik",security:"GÃ¼venlik",utilities:"Cihazlar",scripts:"Betikler",automations:"Otomasyonlar",scenes:"Sahneler",temperature:"SÄ±caklÄ±k",humidity:"Nem",motion:"Hareket",door_window:"KapÄ±lar ve Pencereler",energy:"Enerji",light:"IÅÄ±k",presence:"VarlÄ±k",pressure:"BasÄ±nÃ§",battery:"Pil",air_quality:"Hava kalitesi",other_sensors:"DiÄer",system:"Sistem",apps:"Uygulamalar"},placeholders:{searchDevices:"Cihazlar",searchSensors:"SensÃ¶rler",searchActions:"Eylemler",searchCustom:"Ãzel",search:"Ara..."},categories:{devices:"Cihazlar",sensors:"SensÃ¶rler",actions:"Eylemler",custom:"Ãzel"},viewModes:{grid:"Izgara",list:"Liste"},filters:{categories:"Kategoriler",areas:"Odalar",types:"TÃ¼rler"},general:{noRoom:"Oda yok"},deviceNames:{settings:"Ayarlar",marketplace:"MaÄaza"},settings:{general:"Genel",appearance:"GÃ¶rÃ¼nÃ¼m",privacy:"Gizlilik",about:"HakkÄ±nda",generalSettings:"Genel Ayarlar",aiMode:"AI Modu",aiModeDescription:"GeliÅmiÅ arama ve kontrol iÃ§in AI asistanÄ±nÄ± etkinleÅtir",animations:"Animasyonlar",animationsDescription:"GeÃ§iÅ efektlerini ve animasyonlarÄ± etkinleÅtir",soundEffects:"Ses Efektleri",soundEffectsDescription:"Eylemler iÃ§in sesli geri bildirim",languageSettings:"Dil AyarlarÄ±",appLanguage:"Uygulama Dili",appLanguageDescription:"Tercih ettiÄiniz dili seÃ§in",notifications:"Bildirimler",pushNotifications:"AnlÄ±k Bildirimler",pushNotificationsDescription:"Ãnemli olaylar hakkÄ±nda bildirimler alÄ±n",design:"TasarÄ±m",backgroundMode:"Arka Plan Modu",backgroundModeDescription:"Daha iyi odaklanma iÃ§in kaplamayÄ± ayarlayÄ±n",automatic:"Otomatik",light:"AÃ§Ä±k",dark:"Koyu",background:"Arka Plan",privacySecurity:"Gizlilik ve GÃ¼venlik",clearCache:"ÃnbelleÄi Temizle",resetData:"Verileri SÄ±fÄ±rla",aboutCard:"Fast Search Card HakkÄ±nda",version:"SÃ¼rÃ¼m",build:"YapÄ±",developer:"GeliÅtirici",license:"Lisans"},schedule:{all:"TÃ¼mÃ¼",timer:"ZamanlayÄ±cÄ±",schedules:"Programlar",turnOn:"AÃ§",turnOff:"Kapat",timerMode:"ZamanlayÄ±cÄ±",scheduleMode:"Program",timeFormat:"Saat GÃ¶sterimi",format24h:"24 saat",formatAM:"ÃÃ",formatPM:"ÃS",days:"GÃ¼nler",monday:"Pzt",tuesday:"Sal",wednesday:"Ãar",thursday:"Per",friday:"Cum",saturday:"Cmt",sunday:"Paz",daily:"Her gÃ¼n",weekdays:"Hafta iÃ§i",weekend:"Hafta sonu",noDays:"Yok",selectDay:"SeÃ§",deselectDay:"SeÃ§imi kaldÄ±r",repeat:"Tekrar",regular:"DÃ¼zenli",once:"Bir kere",add:"Yeni",cancel:"Ä°ptal",confirm:"Åimdi oluÅtur",save:"Kaydet",action:"Eylem",scheduler:"ProgramlayÄ±cÄ±",atTime:"Saat",remaining:"Kalan",minutes:"dk",noTimers:"ZamanlayÄ±cÄ± yok",noSchedules:"Program yok",noEntries:"GiriÅ yok",timerName:"ZamanlayÄ±cÄ±",scheduleName:"Program",morningRoutine:"Sabah rutini",evening:"AkÅam"},context:{tabActions:"Eylemler",tabFavorites:"Favoriler",tabEnvironment:"Ãevre",loading:"Ãevre yÃ¼klenyor...",noFavorites:"Ä°ÅaretlenmiÅ favori yok",noEnvironment:"Ä°lgili cihaz bulunamadÄ±",noActions:"Eylem bulunamadÄ±"}},states:{on:"AÃ§Ä±k",off:"KapalÄ±",home:"Evde",not_home:"DÄ±ÅarÄ±da"}};function pv(t,e,n,i="de",s={}){const r=s[i]||s.de;return e==="binary_sensor"&&n&&r.deviceClasses?.[n]?r.deviceClasses[n][t]||r.states?.[t]||t:r.states?.[t]||t}function ba(t){if(!t)return null;const e=t.domain,n=t.attributes?.device_class,i=t.entity_id;return e==="binary_sensor"?["door","window","garage_door","opening"].includes(n)?"door_window":["motion","moving","occupancy"].includes(n)?"motion":["presence","home"].includes(n)?"presence":["smoke","gas","carbon_monoxide","safety","sound","vibration","problem"].includes(n)?"security":["moisture","water"].includes(n)?"water":n==="light"?"light":n==="battery"||n==="battery_charging"?"battery":"other_sensors":e==="sensor"?n==="temperature"||i?.includes("temperature")?"temperature":n==="humidity"||i?.includes("humidity")?"humidity":["power","energy","current","voltage","apparent_power","reactive_power"].includes(n)?"energy":n==="battery"||i?.includes("battery")?"battery":n==="illuminance"||i?.includes("illuminance")||i?.includes("lux")?"light":n==="pressure"||i?.includes("pressure")?"pressure":["pm25","pm10","co2","co","aqi","voc","nox"].includes(n)||i?.includes("air_quality")||i?.includes("pm25")?"air_quality":"other_sensors":null}function gv(t,e,n,i="de"){const s={de:{temperature:{cold:"KÃ¼hl - Heizung erwÃ¤gen",optimal:"Optimale Temperatur",warm:"Warm - LÃ¼ften empfohlen",hot:"Sehr warm - KÃ¼hlung empfohlen"},humidity:{low:"Zu trocken - Befeuchter empfohlen",optimal:"Optimale Luftfeuchtigkeit",high:"Zu feucht - LÃ¼ften empfohlen"},co2:{good:"Gute LuftqualitÃ¤t",moderate:"MÃ¤Ãige LuftqualitÃ¤t",poor:"Schlechte Luft - LÃ¼ften!"},battery:{critical:"Batterie fast leer!",low:"Batterie schwach",good:"Batterie OK",full:"Batterie voll"}},en:{temperature:{cold:"Cool - Consider heating",optimal:"Optimal temperature",warm:"Warm - Ventilation recommended",hot:"Very warm - Cooling recommended"},humidity:{low:"Too dry - Humidifier recommended",optimal:"Optimal humidity",high:"Too humid - Ventilation recommended"},co2:{good:"Good air quality",moderate:"Moderate air quality",poor:"Poor air - Ventilate!"},battery:{critical:"Battery almost empty!",low:"Battery low",good:"Battery OK",full:"Battery full"}}},r=s[i]||s.en;if(!t||!e||!r[e])return null;const o=parseFloat(t);if(isNaN(o))return null;if(e==="temperature"){if(o<18)return r.temperature.cold;if(o>=18&&o<=24)return r.temperature.optimal;if(o>24&&o<=27)return r.temperature.warm;if(o>27)return r.temperature.hot}if(e==="humidity"){if(o<30)return r.humidity.low;if(o>=30&&o<=60)return r.humidity.optimal;if(o>60)return r.humidity.high}if(e==="co2"||n==="ppm"){if(o<800)return r.co2.good;if(o>=800&&o<=1200)return r.co2.moderate;if(o>1200)return r.co2.poor}if(e==="battery"||n==="%"){if(o<=10)return r.battery.critical;if(o>10&&o<=30)return r.battery.low;if(o>30&&o<90)return r.battery.good;if(o>=90)return r.battery.full}return null}function mv(t,e,n={}){if(!t)return!1;const i=t.toString().toLowerCase();if(["on","ein","an","open","offen","home","zuhause","playing","active","aktiv"].includes(i))return!0;switch(e){case"light":case"switch":case"input_boolean":case"fan":return i==="on"||i==="ein";case"cover":return i==="open"||i==="offen";case"lock":return i==="unlocked"||i==="entriegelt";case"binary_sensor":return i==="on"||i==="true";case"media_player":return["playing","paused","on"].includes(i);case"climate":return i!=="off"&&i!=="aus";case"vacuum":return["cleaning","returning","docked"].includes(i);case"person":case"device_tracker":return i==="home"||i==="zuhause";case"alarm_control_panel":return["armed_home","armed_away","armed_night","triggered"].includes(i);case"timer":return i==="active"||i==="paused";case"automation":case"script":case"scene":if(n.last_triggered){const r=new Date(n.last_triggered);return(new Date-r)/1e3/60<5}return!1;case"sensor":return!1;default:return i==="on"||i==="ein"}}function va(t,e,n="de"){const i=e?.unit_of_measurement||"",s=e?.device_class;if(!isNaN(parseFloat(t))){const r=parseFloat(t);let o,a=i;switch(s){case"temperature":o=r.toFixed(1);break;case"humidity":case"battery":o=Math.round(r).toString();break;case"power":r>=1e3?(o=(r/1e3).toFixed(1),a="kW"):o=Math.round(r).toString();break;case"energy":o=r.toFixed(1);break;default:i&&(i.includes("Â°")||i==="K")?o=r.toFixed(1):r%1===0?o=r.toString():o=r.toFixed(1)}return{value:o,unit:a,combined:`${o}${a?" "+a:""}`}}return{value:t,unit:"",combined:t}}function yv(t,e,n="de"){const i=t[n]||t.de;if(!i)return console.error("getTranslation: No language data found!"),e;const s=e.split(".");let r=i;for(let o=0;o<s.length;o++){const a=s[o];if(r&&typeof r=="object"&&a in r)r=r[a];else{r=t.de;for(const c of s)if(r&&typeof r=="object"&&c in r)r=r[c];else return e;break}}return r||e}function bv(t,e){return t.replace(/\{(\w+)\}/g,(n,i)=>e.hasOwnProperty(i)?e[i]:n)}const _a={de:sv,en:rv,fr:ov,es:av,it:lv,nl:cv,pt:dv,ru:uv,zh:hv,tr:fv};function vv(t,e="de",n={}){const i=yv(_a,t,e);return n&&Object.keys(n).length>0?bv(i,n):i}function Dd(t,e,n,i="de"){return _a[i]||(console.warn(`Language '${i}' not found, falling back to 'de'`),i="de"),pv(t,e,n,i,_a)}function $(t,e="de",n={}){const i=`ui.${t}`;return vv(i,e,n)}const Q={smooth:[.16,1,.3,1],spring:[.25,.46,.45,.94],elastic:[.68,-.55,.265,1.55],easeOut:[0,0,.2,1],easeIn:[.4,0,1,1],easeInOut:[.4,0,.2,1]},ce={instant:.1,fast:.2,normal:.3,medium:.4},Fd={collapsed:{height:60,opacity:.95,scale:.98,transition:{duration:ce.medium,ease:Q.smooth}},expanded:{height:"auto",opacity:1,scale:1,transition:{duration:ce.medium,ease:Q.smooth}}},Ts={initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1,transition:{duration:ce.normal,ease:Q.easeInOut}},exit:{scale:.8,opacity:0,transition:{duration:ce.normal,ease:Q.easeInOut}}},Nd={hover:{scale:1.05,backgroundColor:"rgba(255, 255, 255, 0.25)",transition:{duration:ce.fast,ease:Q.spring}},tap:{scale:.95,transition:{duration:ce.instant,ease:Q.easeOut}}},pi={active:{backgroundColor:"rgba(255, 255, 255, 0.25)",transition:{duration:ce.normal,ease:Q.smooth}},inactive:{backgroundColor:"transparent",transition:{duration:ce.normal,ease:Q.smooth}}},Mt={hover:{scale:1.05,backgroundColor:"rgba(255, 255, 255, 0.15)",transition:{duration:ce.fast,ease:Q.spring}},tap:{scale:.95,transition:{duration:ce.instant,ease:Q.easeOut}}},_v={inactive:{backgroundColor:"rgba(255, 255, 255, 0.08)",transition:{duration:ce.normal,ease:Q.smooth}},active:{backgroundColor:"rgb(0, 145, 255)",transition:{duration:ce.normal,ease:Q.smooth}},hover:{scale:1.08,transition:{duration:ce.fast,ease:Q.spring}},tap:{scale:.92,transition:{duration:ce.fast,ease:Q.easeOut}}},wv={hidden:{opacity:0,scale:.8,y:10},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:24}}},Pd={hover:{scale:1.05,transition:{duration:ce.fast,ease:Q.spring}},tap:{scale:.95,transition:{duration:ce.instant,ease:Q.easeOut}}},kv=t=>({backgroundColor:t?"rgba(0, 145, 255, 0.35)":"rgba(255, 255, 255, 0.08)",borderColor:t?"rgba(0, 145, 255, 0.5)":"rgba(255, 255, 255, 0.1)",transition:{duration:ce.normal,ease:Q.easeInOut}}),Id={hover:{scale:1.1,backgroundColor:"rgba(0, 0, 0, 0.25)",transition:{duration:ce.fast,ease:Q.spring}},tap:{scale:.95,transition:{duration:ce.instant,ease:Q.easeOut}}},xv={inactive:{scale:1,backgroundColor:"rgba(255, 255, 255, 0.08)",borderColor:"rgba(255, 255, 255, 0.15)"},active:{scale:1,backgroundColor:"rgba(255, 255, 255, 0.25)",borderColor:"rgba(255, 255, 255, 0.35)",transition:{duration:ce.normal,ease:Q.smooth}},hover:{scale:1.04,backgroundColor:"rgba(255, 255, 255, 0.15)",transition:{duration:ce.fast,ease:Q.easeOut}},tap:{scale:.96,transition:{duration:ce.instant,ease:Q.easeOut}}},Cv={hidden:{opacity:0,scale:.85,y:10},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:24}},idle:{scale:1,backgroundColor:"rgba(255, 255, 255, 0.1)",transition:{duration:ce.normal,ease:Q.smooth}},hover:{scale:1.05,backgroundColor:"rgba(255, 255, 255, 0.15)",boxShadow:"0 8px 24px rgba(0, 145, 255, 0.2)",transition:{duration:ce.fast,ease:Q.spring}},tap:{scale:.95,transition:{duration:ce.instant,ease:Q.easeOut}}},Rd={hidden:{opacity:0,scale:.8,y:10},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:24}},idle:{scale:1,backgroundColor:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)"},hover:{scale:1.05,backgroundColor:"rgba(255, 255, 255, 0.15)",borderColor:"rgba(255, 255, 255, 0.3)",transition:{duration:ce.fast,ease:Q.spring}},tap:{scale:.95,transition:{duration:ce.instant,ease:Q.easeOut}}},Sv={initial:{opacity:0},animate:{opacity:1,transition:{duration:ce.fast}},exit:{opacity:0,transition:{duration:ce.fast}}},Es={initial:{x:20,scale:.8,opacity:0},animate:(t=.1)=>({x:0,scale:1,opacity:1,transition:{duration:ce.medium,delay:t,ease:Q.easeInOut}}),exit:{x:20,scale:.8,opacity:0,transition:{duration:ce.medium,ease:Q.easeInOut}}},Mv={hidden:{opacity:0,x:20},visible:{opacity:1,x:0,transition:{duration:.35,ease:Q.smooth,staggerChildren:.08,delayChildren:.1}}},Av={hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1,transition:{duration:.6,ease:Q.smooth,opacity:{duration:.4,ease:Q.easeOut}}},exit:{x:"100%",opacity:0,transition:{duration:.4,ease:Q.easeInOut}}},Od={hidden:{opacity:0,scale:.8,transition:{duration:ce.fast,ease:Q.easeIn}},visible:{opacity:1,scale:1,backgroundColor:"rgba(0, 0, 0, 0.5)",transition:{duration:ce.medium,ease:Q.smooth}},hover:{scale:1.15,backgroundColor:"rgba(255, 255, 255, 0.25)",transition:{duration:ce.fast,ease:Q.spring}}},Lv={visible:{opacity:1,height:280,scale:1,y:0,transition:{duration:.35,ease:Q.smooth}},hidden:{opacity:0,height:0,scale:.9,y:-20,transition:{duration:.35,ease:[.4,0,.6,1]}}},Tv={visible:{opacity:1,height:160,scale:1,y:0,transition:{duration:.35,ease:Q.smooth}},hidden:{opacity:0,height:0,scale:.9,y:-20,transition:{duration:.35,ease:[.4,0,.6,1]}}},Ev={normal:{y:0,transition:{duration:.4,ease:[.34,1.56,.64,1]}},movedUp:{y:-8,transition:{duration:.4,ease:[.34,1.56,.64,1]}}},Dv={hidden:{opacity:0,height:0,y:-10,overflow:"hidden",transition:{duration:.3,ease:Q.easeInOut}},visible:{opacity:1,height:"auto",y:0,overflow:"visible",transition:{duration:.4,ease:Q.smooth,delayChildren:.1,staggerChildren:.03}}},Fv={hidden:{opacity:0,scale:.85,rotate:-12},visible:{opacity:1,scale:1,rotate:0,transition:{duration:.6,ease:Q.elastic,when:"beforeChildren",staggerChildren:.08}},hover:{scale:1.01,transition:{duration:ce.fast,ease:Q.spring}}},Nv={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.4,ease:Q.smooth}}},Pv={idle:{scale:1,filter:"brightness(1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},hover:{scale:1.08,filter:"brightness(1.05)",boxShadow:"0 4px 16px rgba(255, 255, 255, 0.3)",transition:{type:"spring",stiffness:400,damping:15}},dragging:{scale:1.15,filter:"brightness(1.2)",boxShadow:"0 0 24px rgba(255, 255, 255, 0.7)",transition:{type:"spring",stiffness:600,damping:20}}},Vd={hidden:{opacity:0,y:-5,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.3,ease:Q.smooth}},update:{scale:[1,1.08,1],transition:{duration:.25,ease:Q.spring}}},Iv={off:{rotate:0,scale:1},on:{rotate:360,scale:1,transition:{rotate:{type:"spring",stiffness:200,damping:20},scale:{duration:.2}}},tap:{scale:.9,transition:{duration:.1}}},_o={hidden:{opacity:0,y:10},visible:{opacity:.5,y:0,transition:{delay:.2,duration:.4,ease:Q.smooth}}},Rv={hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{backgroundColor:"rgba(255, 255, 255, 0.1)",scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:ce.medium,ease:Q.smooth,opacity:{duration:.4,ease:Q.easeOut},scale:{duration:.45,ease:Q.smooth},y:{duration:.45,ease:Q.smooth},filter:{duration:.35,ease:Q.easeOut}}},active:{backgroundColor:"#FFFFFF",scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:ce.medium,ease:Q.smooth}}},Ov={hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{backgroundColor:"rgba(255, 255, 255, 0.1)",scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:ce.medium,ease:Q.smooth,opacity:{duration:.4,ease:Q.easeOut},scale:{duration:.45,ease:Q.smooth},y:{duration:.45,ease:Q.smooth},filter:{duration:.35,ease:Q.easeOut}}},active:{backgroundColor:"#FFFFFF",scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:ce.medium,ease:Q.smooth}}},Vv={hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{backgroundColor:"#FFFFFF",scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:ce.medium,ease:Q.smooth,opacity:{duration:.4,ease:Q.easeOut},scale:{duration:.45,ease:Q.smooth},y:{duration:.45,ease:Q.smooth},filter:{duration:.35,ease:Q.easeOut}}},active:{backgroundColor:"#FFFFFF",scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:ce.medium,ease:Q.smooth}}},Bv={hidden:{clipPath:"polygon(100% 0, 100% 0, 100% 100%, 100% 100%)",opacity:0},visible:{clipPath:"polygon(0 0, 100% 0, 100% 100%, 0 100%)",opacity:1,transition:{duration:.35,ease:Q.smooth}},exit:{clipPath:"polygon(100% 0, 100% 0, 100% 100%, 100% 100%)",opacity:0,transition:{duration:.25,ease:Q.easeInOut}}},$v={hidden:{x:50,scale:.95,opacity:0},visible:{x:0,scale:1,opacity:1,transition:{duration:.35,ease:Q.smooth,delay:.1}}},zv=({activeCategory:t="devices",items:e=[],onSubcategoryChange:n,mode:i="categories",lang:s="de",activeSubcategory:r="all",suggestions:o=[],hasSuggestions:a=!1})=>{const[c,d]=E({}),[u,h]=E({}),[f,p]=E(!1),[y,g]=E(!1),m=J(null),b={light:"lights",switch:"switches",climate:"climate",fan:"climate",humidifier:"climate",cover:"covers",media_player:"media",vacuum:"cleaning",dishwasher:"cleaning",washing_machine:"cleaning",air_purifier:"cleaning",camera:"security",lock:"security",siren:"security",alert:"security",alarm_control_panel:"security",valve:"utilities",script:"scripts",automation:"automations",scene:"scenes"},v=T=>$(`subcategories.${T}`,s),_={all:$("subcategories.all",s),script:"Skripte",automation:"Automationen",scene:"Szenen",playlist:"Playlists",custom_card:"Karten",lovelace_view:"Views"},k=()=>{const T=e.some(W=>W.isFavorite),H=["all"];if(T&&H.push("favorites"),a&&H.push("suggestions"),i==="areas"){const W=new Set(e.map(j=>j.area).filter(Boolean));return[...H,...Array.from(W).sort()]}if(i==="types"&&t==="custom"){const W=new Set(e.map(j=>j.custom_data?.type).filter(Boolean));return["all",...Array.from(W)]}if(t==="custom")return[...H,"system","apps"];if(t==="sensors"){const W=new Set;e.forEach(U=>{const D=ba(U);D&&D!==null&&W.add(D)});const j=["temperature","humidity","motion","door_window","presence","energy","light","pressure","battery","air_quality","other_sensors"],q=Array.from(W).sort((U,D)=>{const Y=j.indexOf(U),K=j.indexOf(D);return(Y===-1?999:Y)-(K===-1?999:K)});return[...H,...q]}if(t==="actions"){const W=new Set(e.map(D=>D.domain)),j=new Set;W.forEach(D=>{const Y=b[D];Y&&j.add(Y)});const q=["scripts","automations","scenes"],U=Array.from(j).sort((D,Y)=>{const K=q.indexOf(D),te=q.indexOf(Y);return(K===-1?999:K)-(te===-1?999:te)});return[...H,...U]}const M=new Set(e.map(W=>W.domain)),A=new Set;M.forEach(W=>{if(t==="devices"&&W==="scene")return;const j=b[W];j&&A.add(j)}),e.some(W=>W.domain==="fan"&&W.attributes?.device_class==="air_purifier")&&(A.add("cleaning"),!e.some(j=>j.domain==="fan"&&j.attributes?.device_class!=="air_purifier")&&A.has("climate")&&(e.some(q=>q.domain==="climate"||q.domain==="humidifier")||A.delete("climate"))),e.some(W=>W.domain==="binary_sensor"?["smoke","gas","carbon_monoxide","safety","sound","vibration","problem"].includes(W.attributes?.device_class):!1)&&A.add("security");const I=["lights","switches","climate","covers","media","cleaning","security","utilities"],V=Array.from(A).sort((W,j)=>{const q=I.indexOf(W),U=I.indexOf(j);return(q===-1?999:q)-(U===-1?999:U)});return[...H,...V]},w=()=>{const T={},H={};k().forEach(A=>{if(A==="all")T.all=e.length,H.all=e.filter(L=>L.isActive).length;else if(A==="favorites"){const L=e.filter(P=>P.isFavorite);T.favorites=L.length,H.favorites=L.filter(P=>P.isActive).length}else if(A==="suggestions")T.suggestions=o.length,H.suggestions=o.filter(L=>L.isActive).length;else if(i==="areas"){const L=e.filter(P=>P.area===A);T[A]=L.length,H[A]=L.filter(P=>P.isActive).length}else if(i==="types"){const L=e.filter(P=>P.custom_data?.type===A);T[A]=L.length,H[A]=L.filter(P=>P.isActive).length}else if(t==="sensors"){const L=e.filter(P=>ba(P)===A);T[A]=L.length,H[A]=L.filter(P=>P.isActive).length}else if(t==="actions"){const L=e.filter(P=>b[P.domain]===A);T[A]=L.length,H[A]=L.filter(P=>P.isActive).length}else if(t==="custom"){if(A==="system"){const L=e.filter(P=>P.domain==="settings");T[A]=L.length,H[A]=L.filter(P=>P.isActive).length}else if(A==="apps"){const L=e.filter(P=>P.domain==="marketplace");T[A]=L.length,H[A]=L.filter(P=>P.isActive).length}}else{const L=Object.entries(b).filter(([I,V])=>V===A).map(([I])=>I),P=e.filter(I=>L.includes(I.domain)?I.domain==="fan"&&I.attributes?.device_class==="air_purifier"?A==="cleaning":!0:!!(I.domain==="fan"&&I.attributes?.device_class==="air_purifier"&&A==="cleaning"||I.domain==="binary_sensor"&&A==="security"&&["smoke","gas","carbon_monoxide","safety","sound","vibration","problem"].includes(I.attributes?.device_class)));T[A]=P.length,H[A]=P.filter(I=>I.isActive).length}}),d(T),h(H)},C=()=>{if(!m.current)return;const{scrollLeft:T,scrollWidth:H,clientWidth:M}=m.current;p(T>0),g(T<H-M-5)};G(()=>{w()},[e,i,t]),G(()=>{const T=m.current;if(T){T.addEventListener("scroll",C),C();const H=new ResizeObserver(C);return H.observe(T),()=>{T.removeEventListener("scroll",C),H.disconnect()}}},[]);const x=(T,H)=>{T&&(T.stopPropagation(),T.preventDefault()),n?.(H===r&&H!=="all"?"all":H)},S=(T,H)=>{if(T&&(T.stopPropagation(),T.preventDefault()),!m.current)return;const M=200;m.current.scrollBy({left:H==="left"?-M:M,behavior:"smooth"})},R=T=>i==="areas"?T==="all"?$("subcategories.all",s)+" "+$("filters.areas",s):T:i==="types"?_[T]||T:v(T),N=k(),F=T=>{T.stopPropagation(),T.preventDefault()},O=T=>{T.stopPropagation(),T.preventDefault()};return l(z.div,{className:"subcategory-bar-container",onClick:F,onMouseDown:O,onPointerDown:O,"data-subcategory-bar":"true",variants:Av,initial:"hidden",animate:"visible",exit:"exit",children:[l("style",{children:`
        .subcategory-bar-container {
          position: relative;
          margin: 0;
          width: 100%;
        }

        .subcategory-bar {
          display: flex;
          gap: 8px;
          padding: 8px 20px;
          margin: 0 -20px;
          overflow-x: auto;
          scrollbar-width: none;
          -ms-overflow-style: none;
          -webkit-overflow-scrolling: touch;
          scroll-behavior: smooth;
          position: relative;
        }

        .subcategory-bar::-webkit-scrollbar {
          display: none;
        }

        .subcategory-chip {
          padding: 8px 16px;
          border: 0px solid;
          border-radius: 20px;
          cursor: pointer;
          white-space: nowrap;
          flex-shrink: 0;
          user-select: none;
          display: inline-flex;
          align-items: center;
          gap: 8px;
          min-height: 38px;
          font-size: 17px;
          /* Removed CSS transitions - handled by Framer Motion */
        }

        .chip-label {
          font-weight: 500;
          color: rgba(255, 255, 255, 0.9);
          font-size: 16px;
        }

        .chip-active-badge {
          font-size: 14px;
          padding: 2px 6px;
          background: rgba(255, 255, 255, 0.1);
          border-radius: 10px;
          color: rgba(255, 255, 255, 0.7);
          font-weight: 500;
          min-width: 20px;
          text-align: center;
        }

        .scroll-indicator {
          position: absolute;
          top: 25%;
          transform: translateY(-50%);
          width: 28px;
          height: 28px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          cursor: pointer;
          z-index: 10;
          backdrop-filter: blur(10px);
          -webkit-backdrop-filter: blur(10px);
          border: 1px solid rgba(255, 255, 255, 0.1);
          /* Removed CSS transitions - handled by Framer Motion */
        }

        .scroll-indicator-left {
          left: 5px;
        }

        .scroll-indicator-right {
          right: max(5px, calc(5px + var(--scrollbar-width, 15px)));
        }

        .scroll-indicator svg {
          width: 14px;
          height: 14px;
        }
      `}),l("div",{ref:m,className:"subcategory-bar",children:l($e,{mode:"sync",children:N.map((T,H)=>{const M=u[T]||0,A=T===r,L=M>0;return l(z.div,{layout:!0,className:"subcategory-chip","data-subcategory":T,onClick:P=>x(P,T),initial:"inactive",animate:A?"active":"inactive",whileHover:"hover",whileTap:"tap",variants:xv,transition:{layout:{duration:.3,ease:[.16,1,.3,1]},backgroundColor:{duration:.2},scale:{duration:.2,ease:[.16,1,.3,1]}},children:[l(z.span,{className:"chip-label",layout:"position",children:R(T)}),l($e,{children:L&&l(z.span,{className:"chip-active-badge",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{duration:.2,ease:"easeOut"},layout:"position",children:M})})]},T)})})}),l($e,{children:f&&l(z.div,{className:"scroll-indicator scroll-indicator-left",onClick:T=>S(T,"left"),variants:Od,initial:"hidden",animate:"visible",exit:"hidden",whileHover:"hover",whileTap:{scale:.95},children:l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l("polyline",{points:"15 18 9 12 15 6"})})})}),l($e,{children:y&&l(z.div,{className:"scroll-indicator scroll-indicator-right",onClick:T=>S(T,"right"),variants:Od,initial:"hidden",animate:"visible",exit:"hidden",whileHover:"hover",whileTap:{scale:.95},children:l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l("polyline",{points:"9 18 15 12 9 6"})})})})]})},Hv="modulepreload",Wv=function(t){return"/"+t},Bd={},Ge=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){let d=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};var o=d;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");s=d(n.map(u=>{if(u=Wv(u),u in Bd)return;Bd[u]=!0;const h=u.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":Hv,h||(p.as="script"),p.crossOrigin="",p.href=u,c&&p.setAttribute("nonce",c),document.head.appendChild(p),h)return new Promise((y,g)=>{p.addEventListener("load",y),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function r(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return s.then(a=>{for(const c of a||[])c.status==="rejected"&&r(c.reason);return e().catch(r)})};class it{constructor(e){if(!e.id)throw new Error("SystemEntity requires an id");if(!e.domain)throw new Error("SystemEntity requires a domain");if(!e.name)throw new Error("SystemEntity requires a name");this.id=e.id,this.domain=e.domain,this.name=e.name,this.icon=e.icon||"mdi:puzzle",this.category=e.category||"system",this.description=e.description||"",this.relevance=e.relevance||80,this.brandColor=e.brandColor||null,this.attributes=e.attributes||{},this.permissions=e.permissions||[],this.routes=e.routes||{},this.actions=e.actions||{},this.viewComponent=e.viewComponent||null,this.isPlugin=e.isPlugin||!1,this.pluginManifest=e.pluginManifest||null,this.hasTabs=e.hasTabs!==void 0?e.hasTabs:!1,this.hasCustomView=e.hasCustomView!==void 0?e.hasCustomView:!0,this.showInDetailView=e.showInDetailView!==void 0?e.showInDetailView:!0,this.actionButtons=e.actionButtons||null,this._mounted=!1,this._context=null,this._storage=null,this._config=e}async onMount(e){if(this._mounted){console.warn(`SystemEntity ${this.id} is already mounted`);return}this._context=e,this._mounted=!0,e.storage&&(this._storage=await this._initializeStorage(e.storage)),console.log(`â SystemEntity mounted: ${this.id}`)}async onUnmount(){this._mounted&&(this._context=null,this._storage=null,this._mounted=!1,console.log(`ð SystemEntity unmounted: ${this.id}`))}async _initializeStorage(e){const n=`system_entity_${this.id}`;return{get:i=>e.get(`${n}_${i}`),set:(i,s)=>e.set(`${n}_${i}`,s),delete:i=>e.delete(`${n}_${i}`),clear:()=>e.clearNamespace(n)}}async executeAction(e,n={}){const i=this.actions[e];if(!i)throw new Error(`Action '${e}' not found in entity '${this.id}'`);if(typeof i!="function")throw new Error(`Action '${e}' is not a function`);try{console.log(`ð¯ Executing action: ${this.id}.${e}`,n);const s=await i.call(this,n,this._context);return console.log(`â Action completed: ${this.id}.${e}`),s}catch(s){throw console.error(`â Action failed: ${this.id}.${e}`,s),s}}getRoute(e){return this.routes[e]||null}hasPermission(e){return this.permissions.includes(e)}toEntity(){const e=this.isPlugin?`plugin.${this.id}`:`system.${this.id}`;return{entity_id:e,id:e,domain:this.domain,name:this.name,state:this._mounted?"active":"inactive",area:null,category:this.category,attributes:{friendly_name:this.name,icon:this.icon,description:this.description,category:this.category,is_plugin:this.isPlugin,permissions:this.permissions,routes:Object.keys(this.routes),actions:Object.keys(this.actions),...this.attributes},is_system:!0,is_plugin:this.isPlugin,relevance_score:this.relevance,usage_count:0,last_used:null}}async loadView(){if(!this.viewComponent)throw new Error(`No view component defined for entity '${this.id}'`);if(typeof this.viewComponent=="function")try{const e=await this.viewComponent();return e.default||e}catch(e){throw console.error(`Failed to load view for entity '${this.id}':`,e),e}return this.viewComponent}updateAttributes(e){this.attributes={...this.attributes,...e}}getStorage(){return this._storage||console.warn(`No storage available for entity '${this.id}'`),this._storage}getContext(){return this._mounted||console.warn(`Entity '${this.id}' is not mounted`),this._context}isMounted(){return this._mounted}clone(){return new it(this._config)}toJSON(){return{id:this.id,domain:this.domain,name:this.name,icon:this.icon,category:this.category,description:this.description,relevance:this.relevance,attributes:this.attributes,permissions:this.permissions,routes:this.routes,actions:Object.keys(this.actions),isPlugin:this.isPlugin,isMounted:this._mounted}}}class jv{constructor(){this.entities=new Map,this.viewComponents=new Map,this.categories=new Map,this.plugins=new Map,this.pluginLoaders=new Map,this.isInitialized=!1,this.context=null,this.listeners=new Map,this._initializeCategories()}_initializeCategories(){[{id:"system",label:"System",order:1},{id:"tools",label:"Tools",order:2},{id:"apps",label:"Apps",order:3},{id:"services",label:"Services",order:4}].forEach(n=>{this.categories.set(n.id,n)})}async initialize(e){if(this.isInitialized){console.warn("SystemEntityRegistry is already initialized");return}this.context=e,await this.autoDiscover(),await this.mountAll(),this.isInitialized=!0,console.log("â SystemEntityRegistry initialized with",this.entities.size,"entities"),this._emit("initialized",{count:this.entities.size})}register(e){if(e instanceof it||(e=new it(e)),!e.id||!e.domain)throw new Error("Invalid entity: missing id or domain");this.entities.has(e.id)&&console.warn(`Entity '${e.id}' is already registered, overwriting...`),this.entities.set(e.id,e),e.viewComponent&&this.viewComponents.set(e.domain,e.viewComponent);const n=e.category||"system";return this.categories.has(n)||this.categories.set(n,{id:n,label:n.charAt(0).toUpperCase()+n.slice(1),order:99}),console.log(`â Registered entity: ${e.id} (${e.domain})`),this.isInitialized&&this.context&&e.onMount(this.context).catch(i=>{console.error(`Failed to mount entity '${e.id}':`,i)}),this._emit("entity-registered",{entity:e}),this}async unregister(e){const n=this.entities.get(e);if(!n){console.warn(`Entity '${e}' not found`);return}n.isMounted()&&await n.onUnmount(),this.entities.delete(e),this.viewComponents.delete(n.domain),n.isPlugin&&this.plugins.delete(e),console.log(`ðï¸ Unregistered entity: ${e}`),this._emit("entity-unregistered",{id:e})}getEntity(e){return this.entities.get(e)||null}getEntityByDomain(e){for(const n of this.entities.values())if(n.domain===e)return n;return null}getViewComponent(e){return this.viewComponents.has(e)?this.viewComponents.get(e):this.getEntityByDomain(e)?.viewComponent||null}getAllEntities(){return Array.from(this.entities.values())}getEntitiesByCategory(e){return this.getAllEntities().filter(n=>n.category===e)}getAsHomeAssistantEntities(){return this.getAllEntities().map(e=>e.toEntity())}isSystemEntity(e){return e?this.getEntityByDomain(e)!==null:!1}hasTabs(e){return this.getEntityByDomain(e)?.hasTabs||!1}hasCustomView(e){const n=this.getEntityByDomain(e);return n?.hasCustomView!==void 0?n.hasCustomView:!0}shouldShowInDetailView(e){const n=this.getEntityByDomain(e);return n?.showInDetailView!==void 0?n.showInDetailView:!0}getActionButtons(e){const n=this.getEntityByDomain(e);return console.log("ð Registry.getActionButtons for domain:",e),console.log("ð Entity found:",n),console.log("ð Entity.actionButtons:",n?.actionButtons),n?.actionButtons||null}async autoDiscover(){console.log("ð Auto-discovering system entities...");const e=[()=>Ge(()=>Promise.resolve().then(()=>zh),void 0),()=>Ge(()=>Promise.resolve().then(()=>Wh),void 0),()=>Ge(()=>Promise.resolve().then(()=>Uh),void 0),()=>Ge(()=>Promise.resolve().then(()=>Gh),void 0),()=>Ge(()=>Promise.resolve().then(()=>Yh),void 0),()=>Ge(()=>Promise.resolve().then(()=>gM),void 0)];for(const n of e)try{const i=await n(),s=i.default||i.entity||i;if(s){const r=typeof s=="function"&&!(s instanceof it)?s():s;r&&this.register(r)}}catch(i){console.error("Failed to load known entity:",i)}try{const n=Object.assign({"./entities/all-schedules/index.js":()=>Ge(()=>Promise.resolve().then(()=>Gh),void 0),"./entities/marketplace/index.js":()=>Ge(()=>Promise.resolve().then(()=>Wh),void 0),"./entities/pluginstore/index.js":()=>Ge(()=>Promise.resolve().then(()=>Uh),void 0),"./entities/settings/index.js":()=>Ge(()=>Promise.resolve().then(()=>zh),void 0),"./entities/weather/index.js":()=>Ge(()=>Promise.resolve().then(()=>Yh),void 0)});if(n&&Object.keys(n).length>0){console.log("Found modules via glob:",Object.keys(n));for(const i in n)try{const s=await n[i](),r=s.default||s.entity||s;if(r){const o=typeof r=="function"?r():r;o&&!this.entities.has(o.id)&&this.register(o)}}catch(s){console.error(`Failed to load entity from ${i}:`,s)}}}catch{console.log("import.meta.glob not supported or no additional entities found")}}async mountAll(){if(!this.context){console.warn("Cannot mount entities without context");return}const e=[];for(const n of this.entities.values())n.isMounted()||e.push(n.onMount(this.context).catch(i=>{console.error(`Failed to mount entity '${n.id}':`,i)}));await Promise.all(e),console.log(`â Mounted ${e.length} entities`)}async unmountAll(){const e=[];for(const n of this.entities.values())n.isMounted()&&e.push(n.onUnmount().catch(i=>{console.error(`Failed to unmount entity '${n.id}':`,i)}));await Promise.all(e),console.log(`ð Unmounted ${e.length} entities`)}registerPlugin(e,n){const i=new it({id:n.id,domain:n.system_entity.domain,name:n.name,icon:n.system_entity.icon||"mdi:puzzle",category:n.system_entity.category||"apps",description:n.description,relevance:n.system_entity.relevance||80,isPlugin:!0,pluginManifest:n,viewComponent:e.viewComponent||n.system_entity.viewComponent,actions:e.actions||{},permissions:n.requirements?.permissions||[]});this.plugins.set(n.id,{entity:i,plugin:e,manifest:n}),this.register(i),console.log(`ð Registered plugin: ${n.id}`)}getPlugin(e){return this.plugins.get(e)||null}getAllPlugins(){return Array.from(this.plugins.values())}on(e,n){this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(n)}off(e,n){const i=this.listeners.get(e);i&&i.delete(n)}_emit(e,n){const i=this.listeners.get(e);i&&i.forEach(s=>{try{s(n)}catch(r){console.error(`Error in event listener for '${e}':`,r)}})}async reset(){await this.unmountAll(),this.entities.clear(),this.viewComponents.clear(),this.plugins.clear(),this.pluginLoaders.clear(),this.isInitialized=!1,this.context=null,console.log("ð Registry reset")}debug(){console.group("SystemEntityRegistry Debug"),console.log("Initialized:",this.isInitialized),console.log("Entities:",this.entities.size),console.log("Plugins:",this.plugins.size),console.log("Categories:",Array.from(this.categories.keys())),console.table(this.getAllEntities().map(e=>({id:e.id,domain:e.domain,category:e.category,mounted:e.isMounted(),isPlugin:e.isPlugin}))),console.groupEnd()}}const we=new jv;typeof window<"u"&&(window.systemRegistry=we,window.debugRegistry=()=>{console.log("Registry initialized:",we.isInitialized),console.log("Entities:",we.entities.size),console.log("All entities:",we.getAllEntities()),console.log("As HA entities:",we.getAsHomeAssistantEntities())},console.log("ð SystemRegistry attached to window"));function Q0(t,e,n){const i={...n};return t==="light"&&("kelvin"in i&&!("color_temp_kelvin"in i)&&(i.color_temp_kelvin=i.kelvin,delete i.kelvin),"color_temp"in i&&!("color_temp_kelvin"in i)&&(i.color_temp_kelvin=Math.round(1e6/i.color_temp)),"brightness"in i&&(i.brightness=Math.max(0,Math.min(255,Math.round(i.brightness)))),"brightness_pct"in i&&!("brightness"in i)&&(i.brightness=Math.round(i.brightness_pct/100*255)),"rgb_color"in i&&(i.rgb_color=i.rgb_color.map(s=>Math.max(0,Math.min(255,Math.round(s))))),"hs_color"in i&&(i.hs_color=[Math.max(0,Math.min(360,i.hs_color[0])),Math.max(0,Math.min(100,i.hs_color[1]))])),t==="climate"&&("temperature"in i&&(i.temperature=Number(i.temperature)),"target_temp_high"in i&&(i.target_temp_high=Number(i.target_temp_high)),"target_temp_low"in i&&(i.target_temp_low=Number(i.target_temp_low)),"humidity"in i&&(i.humidity=Math.max(0,Math.min(100,Number(i.humidity))))),t==="media_player"&&"volume_level"in i&&(i.volume_level=Math.max(0,Math.min(1,Number(i.volume_level)))),t==="cover"&&("position"in i&&(i.position=Math.max(0,Math.min(100,Math.round(i.position)))),"tilt_position"in i&&(i.tilt_position=Math.max(0,Math.min(100,Math.round(i.tilt_position))))),t==="fan"&&"percentage"in i&&(i.percentage=Math.max(0,Math.min(100,Math.round(i.percentage)))),i}async function ep(t){if(!t)return console.warn("Home Assistant not available"),[];try{const e=await t.callWS({type:"config/area_registry/list"});return console.log("Loaded areas from HA:",e.length),e||[]}catch(e){return console.error("Failed to load areas from HA:",e),[]}}async function tp(t){if(!t)return console.warn("Home Assistant not available"),[];try{const e=await t.callWS({type:"config/device_registry/list"});return console.log("Loaded devices from HA:",e.length),e||[]}catch(e){return console.error("Failed to load devices from HA:",e),[]}}async function np(t){if(!t)return console.warn("Home Assistant not available"),[];try{const e=await t.callWS({type:"config/entity_registry/list"});return console.log("Loaded entity registry from HA:",e.length),e||[]}catch(e){return console.error("Failed to load entity registry from HA:",e),[]}}function ip(t,e=[],n=[],i=[]){const s=i.find(r=>r.entity_id===t.entity_id);if(s?.area_id){const r=e.find(o=>o.area_id===s.area_id);if(r)return{...t,area:r.name,area_id:s.area_id}}if(s?.device_id){const r=n.find(o=>o.id===s.device_id);if(r?.area_id){const o=e.find(a=>a.area_id===r.area_id);if(o)return{...t,area:o.name,area_id:r.area_id}}}return t.attributes?.area?t:{...t,area:null,area_id:null}}function sp(t,e,n,i){return console.log("Enriching entities with areas...",{entities:t.length,areas:e.length,devices:n.length,entityRegistry:i.length}),t.map(s=>ip(s,e,n,i))}async function Uv(t,e,n="24h"){if(!t)return console.warn("Home Assistant not available"),null;try{const i=new Date,s=i.toISOString();let r;switch(n){case"1h":r=new Date(i.getTime()-3600*1e3).toISOString();break;case"24h":r=new Date(i.getTime()-1440*60*1e3).toISOString();break;case"7d":r=new Date(i.getTime()-10080*60*1e3).toISOString();break;default:r=new Date(i.getTime()-1440*60*1e3).toISOString()}console.log("ð Loading history from HA:",{entityId:e,timeRange:n,startTime:r,endTime:s});const o=await t.callApi("GET",`history/period/${r}?filter_entity_id=${e}&end_time=${s}&minimal_response&no_attributes`);if(!o||!o[0]||o[0].length===0)return console.warn("No history data returned from HA"),null;const a=o[0];console.log("ð Received history data points:",a.length);const c=a.map(u=>({timestamp:new Date(u.last_changed).getTime(),value:$d(u.state),state:u.state})).filter(u=>u.value!==null),d=a.filter((u,h)=>h===0?!0:u.state!==a[h-1].state).map(u=>({timestamp:new Date(u.last_changed).getTime(),state:u.state,value:$d(u.state)}));return console.log("ð Processed data:",{chartPoints:c.length,events:d.length}),{data:c,events:d}}catch(i){return console.error("Failed to load history from HA:",i),null}}function $d(t){const e=parseFloat(t);return isNaN(e)?t==="on"?100:t==="off"?0:t==="open"?100:t==="closed"||t==="locked"?0:t==="unlocked"||t==="home"?100:t==="not_home"?0:t==="playing"?100:t==="paused"?50:t==="idle"?0:null:e}const Gv=Object.freeze(Object.defineProperty({__proto__:null,enrichAllEntitiesWithAreas:sp,enrichEntityWithArea:ip,formatServiceData:Q0,loadAreasFromHA:ep,loadDeviceRegistry:tp,loadEntityHistory:Uv,loadEntityRegistry:np},Symbol.toStringTag,{value:"Module"})),Kv=()=>we&&we.isInitialized?we.getAsHomeAssistantEntities():[{entity_id:"system.settings",id:"system.settings",domain:"settings",name:"Einstellungen",state:"active",area:null,attributes:{friendly_name:"Einstellungen",icon:"mdi:cog",description:"Konfiguriere deine Fast Search Card"},relevance_score:100,is_system:!0,usage_count:0,last_used:null},{entity_id:"system.marketplace",id:"system.marketplace",domain:"marketplace",name:"Marketplace",state:"active",area:null,attributes:{friendly_name:"Marketplace",icon:"mdi:shopping",description:"Entdecke neue Integrationen und Add-ons"},relevance_score:95,is_system:!0,usage_count:0,last_used:null},{entity_id:"system.pluginstore",id:"system.pluginstore",domain:"pluginstore",name:"Plugin Store",state:"active",area:null,attributes:{friendly_name:"Plugin Store",icon:"mdi:puzzle-plus",description:"Erweitere deine Fast Search Card mit Plugins"},relevance_score:90,is_system:!0,usage_count:0,last_used:null}],Yv="FastSearchDB",Zv=1,_e={ENTITIES:"entities",SETTINGS:"settings",SEARCH_INDEX:"searchIndex",USER_PATTERNS:"userPatterns",AREA_MAPPINGS:"areaMappings",FAVORITES:"favorites"};class qv{constructor(){this.db=null,this.isInitialized=!1}async init(){return this.isInitialized?this.db:new Promise((e,n)=>{const i=indexedDB.open(Yv,Zv);i.onerror=()=>{console.error("IndexedDB error:",i.error),n(i.error)},i.onsuccess=()=>{this.db=i.result,this.isInitialized=!0,console.log("IndexedDB initialized successfully"),e(this.db)},i.onupgradeneeded=s=>{const r=s.target.result;this.createStores(r)}})}createStores(e){if(!e.objectStoreNames.contains(_e.ENTITIES)){const n=e.createObjectStore(_e.ENTITIES,{keyPath:"entity_id"});n.createIndex("domain","domain",{unique:!1}),n.createIndex("area_id","area_id",{unique:!1}),n.createIndex("relevance_score","relevance_score",{unique:!1}),n.createIndex("last_used","last_used",{unique:!1})}if(e.objectStoreNames.contains(_e.SETTINGS)||e.createObjectStore(_e.SETTINGS,{keyPath:"key"}),e.objectStoreNames.contains(_e.SEARCH_INDEX)||e.createObjectStore(_e.SEARCH_INDEX,{keyPath:"term"}).createIndex("entity_count","entity_count",{unique:!1}),!e.objectStoreNames.contains(_e.USER_PATTERNS)){const n=e.createObjectStore(_e.USER_PATTERNS,{keyPath:"id",autoIncrement:!0});n.createIndex("entity_id","entity_id",{unique:!1}),n.createIndex("timestamp","timestamp",{unique:!1}),n.createIndex("action_type","action_type",{unique:!1})}if(e.objectStoreNames.contains(_e.AREA_MAPPINGS)||e.createObjectStore(_e.AREA_MAPPINGS,{keyPath:"area_id"}).createIndex("activity_level","activity_level",{unique:!1}),!e.objectStoreNames.contains(_e.FAVORITES)){const n=e.createObjectStore(_e.FAVORITES,{keyPath:"entity_id"});n.createIndex("added_date","added_date",{unique:!1}),n.createIndex("usage_count","usage_count",{unique:!1})}console.log("IndexedDB stores created successfully")}async get(e,n){return this.db||await this.init(),new Promise((i,s)=>{const a=this.db.transaction([e],"readonly").objectStore(e).get(n);a.onsuccess=()=>i(a.result),a.onerror=()=>s(a.error)})}async put(e,n){return this.db||await this.init(),new Promise((i,s)=>{const a=this.db.transaction([e],"readwrite").objectStore(e).put(n);a.onsuccess=()=>i(a.result),a.onerror=()=>s(a.error)})}async delete(e,n){return this.db||await this.init(),new Promise((i,s)=>{const a=this.db.transaction([e],"readwrite").objectStore(e).delete(n);a.onsuccess=()=>i(a.result),a.onerror=()=>s(a.error)})}async getAll(e,n=null,i=null){return this.db||await this.init(),new Promise((s,r)=>{const a=this.db.transaction([e],"readonly").objectStore(e),c=n?a.index(n):a,d=i?c.getAll(i):c.getAll();d.onsuccess=()=>s(d.result||[]),d.onerror=()=>r(d.error)})}async clear(e){return this.db||await this.init(),new Promise((n,i)=>{const o=this.db.transaction([e],"readwrite").objectStore(e).clear();o.onsuccess=()=>n(!0),o.onerror=()=>i(o.error)})}}class Xv{constructor(){this.cache={settings:{language:"de",viewMode:"grid",theme:"auto",aiModeEnabled:!0},entities:new Map,favorites:new Set,recentSearches:[],searchCache:new Map,areaMappings:new Map,activeFilters:{category:"devices",subcategory:"all",area:null}},this.stats={hits:0,misses:0,writes:0}}get(e,n=null){return this.stats.hits++,n?this.cache[e]?.[n]:this.cache[e]}set(e,n,i=null){this.stats.writes++,i?(this.cache[e]||(this.cache[e]={}),this.cache[e][i]=n):this.cache[e]=n}has(e,n=null){return n?this.cache[e]?.hasOwnProperty(n):this.cache.hasOwnProperty(e)}clear(e=null){if(e)this.cache[e]instanceof Map?this.cache[e].clear():this.cache[e]instanceof Set?this.cache[e].clear():this.cache[e]={};else{const n=this.cache.settings;this.cache=this.constructor().cache,this.cache.settings=n}}getStats(){return{...this.stats,hitRate:this.stats.hits/(this.stats.hits+this.stats.misses)}}}const Jv=(t,e)=>{if(!t||!e)return!1;try{const n=e.replace(/\./g,"\\.").replace(/\*/g,".*").replace(/\?/g,".");return new RegExp(`^${n}$`,"i").test(t)}catch(n){return console.error("Invalid pattern regex:",e,n),!1}},rp=t=>{try{const e=localStorage.getItem("excludedPatterns");if(!e)return t;const n=JSON.parse(e);if(!Array.isArray(n)||n.length===0)return t;const i=t.filter(r=>{if(r.is_system===!0)return!0;const o=r.entity_id||r.id;return o?!n.some(c=>Jv(o,c)):!0}),s=t.length-i.length;return s>0&&console.log(`ð Filtered out ${s} entities based on ${n.length} patterns`),i}catch(e){return console.error("Error filtering excluded entities:",e),t}},Ds=async(t,e,n,i,s={})=>{if(!i){console.warn("recordUserAction called without entityId");return}const r=new Date,o={action_type:n,entity_id:i,timestamp:r.toISOString(),context:{time_of_day:r.getHours()<12?"morning":r.getHours()<18?"afternoon":"evening",hour:r.getHours(),minute:r.getMinutes(),day_of_week:r.getDay(),week_of_year:Math.ceil((r-new Date(r.getFullYear(),0,1))/6048e5),is_weekend:r.getDay()===0||r.getDay()===6,...s}};try{await t.put(_e.USER_PATTERNS,o);const a=await t.get(_e.ENTITIES,i);a&&(a.usage_count=(a.usage_count||0)+1,a.last_used=new Date().toISOString(),await t.put(_e.ENTITIES,a),e.cache.entities.has(i)&&e.cache.entities.set(i,a))}catch(a){console.error("Failed to record user action:",a)}},Qv=async(t,e)=>{const n=await t.getAll(_e.USER_PATTERNS),i=new Map;return n.forEach(s=>{const r=i.get(s.entity_id)||0;i.set(s.entity_id,r+1)}),e.map(s=>{let r=0;r+={light:15,switch:12,climate:18,cover:10,media_player:8,sensor:5,binary_sensor:5,scene:10,script:8,automation:6}[s.domain]||3,s.state!=="unavailable"&&s.state!=="unknown"&&(r+=10,(s.state==="on"||s.state==="playing"||s.state==="open")&&(r+=5));const a=i.get(s.entity_id)||0;r+=Math.min(a*3,30);const c=["living_room","kitchen","bedroom","bathroom"];if(s.area_id&&c.includes(s.area_id)&&(r+=20),s.attributes?.friendly_name&&(r+=5),s.last_updated){const d=new Date(s.last_updated),u=new Date(Date.now()-3600*1e3);d>u&&(r+=10)}return{...s,relevance_score:r,usage_count:a}})},e5=t=>t?t.toLowerCase().replace(/[^a-z0-9Ã¤Ã¶Ã¼Ã\s]/g,"").split(/\s+/).filter(e=>e.length>1):[],t5=async(t,e)=>{const n=new Map;for(const i of e){const s=[i.attributes?.friendly_name,i.entity_id,i.area,i.domain].filter(Boolean).join(" "),r=e5(s);for(const o of r)n.has(o)||n.set(o,[]),n.get(o).push({entity_id:i.entity_id,score:i.relevance_score})}for(const[i,s]of n.entries())await t.put(_e.SEARCH_INDEX,{term:i,matches:s,entity_count:s.length});console.log(`Search index built with ${n.size} terms`)},n5=async(t,e,n,i)=>{try{const s=await t.get(_e.SETTINGS,"user_preferences");s&&(e.set("settings",s.value),n(s.value));const r=await t.getAll(_e.FAVORITES),o=new Set(r.map(a=>a.entity_id));e.set("favorites",o),i(o),console.log("Critical data loaded to memory cache")}catch(s){console.error("Failed to load critical data:",s)}},i5=async(t,e,n,i,s)=>{try{if(n.current)await s();else{const o=await t.getAll(_e.ENTITIES),a=we.isInitialized?we.getAsHomeAssistantEntities():[];console.log(`[loadBackgroundData] System entities from registry: ${a.length}`);const c=[...a,...o.filter(d=>!d.is_system)];if(c.length>0){const d=rp(c);console.log(`[loadBackgroundData] Setting ${d.length} entities (${a.length} system)`),i(d),d.sort((h,f)=>(f.relevance_score||0)-(h.relevance_score||0)).slice(0,20).forEach(h=>{e.cache.entities.set(h.entity_id,h)})}}(await t.getAll(_e.AREA_MAPPINGS)).forEach(o=>{e.cache.areaMappings.set(o.area_id,o)}),console.log("Background data loaded")}catch(r){console.error("Failed to load background data:",r)}},s5=async(t,e)=>{try{if(localStorage.getItem("predictiveSuggestions")==="false")return[];const n=parseInt(localStorage.getItem("confidenceThreshold")||"60")/100,i=parseInt(localStorage.getItem("suggestionTimeWindow")||"45"),s=parseInt(localStorage.getItem("maxSuggestions")||"10"),r=localStorage.getItem("learningRate")||"normal",o=new Date,a=o.getHours(),c=o.getMinutes(),d=o.getDay(),u={slow:45,normal:30,fast:15}[r]||30,h=new Date(o.getTime()-u*24*60*60*1e3),p=(await t.getAll(_e.USER_PATTERNS)).filter(m=>{if(!m.context?.hour||new Date(m.timestamp)<h)return!1;const v=m.context.hour*60+(m.context.minute||0),_=a*60+c;let k=Math.abs(v-_);return k>720&&(k=1440-k),k<=i}),y=new Map;p.forEach(m=>{if(m.action_type!=="device_click")return;const b=m.entity_id;y.has(b)||y.set(b,{entity_id:b,total_count:0,same_day_count:0,recent_uses:[],last_used:null});const v=y.get(b);v.total_count++,m.context?.day_of_week===d&&v.same_day_count++,v.recent_uses.push(new Date(m.timestamp)),v.last_used=m.timestamp});const g=[];for(const[m,b]of y.entries()){const v={slow:5,normal:3,fast:2}[r]||3;if(b.total_count<v)continue;let _=b.total_count/u;const k={slow:.8,normal:1,fast:1.3}[r]||1;if(b.same_day_count>0){const x=b.same_day_count/Math.ceil(u/7)*.3*k;_+=x}const w=Math.floor((o-new Date(b.last_used))/(1440*60*1e3));w>7&&(_*=r==="fast"?.5:.7);const C=b.recent_uses.sort((x,S)=>x-S);if(C.length>=v){const x=[];for(let N=1;N<C.length;N++)x.push(C[N]-C[N-1]);x.reduce((N,F)=>N+F)/x.length<2880*60*1e3&&(_+=.2*k)}if(_=Math.min(Math.max(_,0),1),_>=n){const x=e.find(S=>S.entity_id===m||S.id===m);x&&g.push({...x,suggestion_confidence:_,suggestion_reason:_>.85?"highly_likely":_>.7?"likely":"possible",usage_pattern:{total_uses:b.total_count,same_weekday_uses:b.same_day_count,days_since_last:w,lookback_days:u}})}}return g.sort((m,b)=>b.suggestion_confidence-m.suggestion_confidence),g.slice(0,s)}catch(n){return console.error("Failed to calculate suggestions:",n),[]}},op=Bn(null),r5=({children:t,hass:e=null,config:n=null})=>{const[i,s]=E(!1),[r,o]=E(!0),[a,c]=E(null),[d,u]=E([]),[h,f]=E(new Set),[p,y]=E({}),g=J(new qv),m=J(new Xv),b=J(e);G(()=>{b.current=e},[e]),G(()=>{if(!e?.connection)return;console.log("ð [DataProvider] Subscribing to state_changed events...");const M=e.connection.subscribeMessage(A=>{if(A?.event_type==="state_changed"&&A?.data){const{entity_id:L,new_state:P,old_state:I}=A.data;if(!P||!L)return;console.log(`ð [DataProvider] State changed: ${L}`,{old:I?.state,new:P.state,brightness:P.attributes?.brightness}),O(L,P)}},{type:"subscribe_events",event_type:"state_changed"});return()=>{console.log("ð [DataProvider] Unsubscribing from state_changed events"),M.then(A=>A())}},[e?.connection]),G(()=>{const M=()=>{console.log("ð Excluded patterns changed, reloading entities..."),b.current?w():k()};return window.addEventListener("excludedPatternsChanged",M),()=>window.removeEventListener("excludedPatternsChanged",M)},[]),G(()=>{v()},[]);const v=async()=>{try{o(!0),await g.current.init(),console.log("ð Initializing System-Entity Registry...");try{await we.initialize({hass:b.current,storage:{get:A=>localStorage.getItem(A),set:(A,L)=>localStorage.setItem(A,L),delete:A=>localStorage.removeItem(A),clearNamespace:A=>{Object.keys(localStorage).forEach(L=>{L.startsWith(A)&&localStorage.removeItem(L)})}}});const M=we.getAsHomeAssistantEntities();console.log(`â Loaded ${M.length} system entities`),console.log("System entity IDs:",M.map(A=>A.entity_id)),u(M),console.log("â System entities set as initial entities")}catch(M){console.error("Failed to initialize system registry:",M)}await _(),s(!0),k()}catch(M){console.error("Failed to initialize DataProvider:",M),c(M.message)}finally{o(!1)}},_=async()=>{await n5(g.current,m.current,y,f)},k=async()=>{await i5(g.current,m.current,b,u,w)},w=async()=>{if(b.current)try{console.log("Loading entities from Home Assistant...");const[M,A,L]=await Promise.all([ep(b.current),tp(b.current),np(b.current)]);console.log("Loaded registries:",{areas:M.length,devices:A.length,entities:L.length});const I=Object.values(b.current.states||{}).map(K=>({entity_id:K.entity_id,domain:K.entity_id.split(".")[0],state:K.state,attributes:K.attributes,last_changed:K.last_changed,last_updated:K.last_updated,context:K.context,relevance_score:0,usage_count:0,last_used:null}));console.log("Enriching entities with area information...");const V=sp(I,M,A,L);console.log("Entities enriched with areas:",{total:V.length,withArea:V.filter(K=>K.area).length,withoutArea:V.filter(K=>!K.area).length});const W=await Qv(g.current,V),j=Kv(),q=W.filter(K=>!(["unavailable","unknown","disabled","None"].includes(K.state)||K.attributes?.disabled===!0||K.entity_id&&K.entity_id.startsWith("disabled_")));console.log("Filtered out inactive entities:",{total:W.length,active:q.length,filtered:W.length-q.length});const U=parseInt(localStorage.getItem("maxEntitiesLimit")||"0");let D=q.filter(K=>K.area!=null&&K.area!=="").sort((K,te)=>te.relevance_score-K.relevance_score);U>0&&(D=D.slice(0,U));let Y=[...j,...D];Y=rp(Y);for(const K of D)K.is_system||await g.current.put(_e.ENTITIES,K);u(Y),Y.slice(0,20).forEach(K=>{m.current.cache.entities.set(K.entity_id,K)}),await t5(g.current,Y),console.log(`Loaded ${D.length} HA entities + ${j.length} system entities`)}catch(M){console.error("Failed to load entities from HA:",M)}},C=ge(async M=>{if(!M){console.warn("toggleFavorite called without entityId");return}const A=new Set(h);try{A.has(M)?(A.delete(M),await g.current.delete(_e.FAVORITES,M),await Ds(g.current,m.current,"unfavorite",M)):(A.add(M),await g.current.put(_e.FAVORITES,{entity_id:M,added_date:new Date().toISOString(),usage_count:0}),await Ds(g.current,m.current,"favorite",M)),f(A),m.current.set("favorites",A)}catch(L){console.error("Failed to toggle favorite:",L)}},[h]),x=ge(async(M,A)=>{const L={...p,[M]:A};m.current.set("settings",L),y(L),await g.current.put(_e.SETTINGS,{key:"user_preferences",value:L,updated:new Date().toISOString()}),console.log(`Setting updated: ${M} = ${A}`)},[p]),S=ge(async M=>{if(!M||M.length<2)return[];if(m.current.cache.searchCache.has(M))return m.current.cache.searchCache.get(M);const A=M.toLowerCase().split(/\s+/).filter(I=>I.length>1),L=new Map;for(const I of A){const V=await g.current.get(_e.SEARCH_INDEX,I);if(V)for(const W of V.matches){const j=L.get(W.entity_id)||0;L.set(W.entity_id,j+W.score)}}const P=Array.from(L.entries()).sort((I,V)=>V[1]-I[1]).slice(0,20).map(([I])=>d.find(V=>V.entity_id===I)).filter(Boolean);return m.current.cache.searchCache.set(M,P),P},[d]),R=ge(async()=>s5(g.current,d),[d]),N=ge(async(M,A,L={})=>{if(!b.current)return console.warn("No Home Assistant connection"),!1;try{return await b.current.callService(M,A,L),L.entity_id&&Ds(g.current,m.current,"service_call",L.entity_id,{domain:M,service:A}),!0}catch(P){return console.error("Service call failed:",P),!1}},[]),F=async()=>{const M=new Date;let A=[];d&&d.length>0?A=d.slice(0,Math.min(10,d.length)).map(P=>P.entity_id||P.id):A=["light.wohnzimmer","light.schlafzimmer","switch.kaffeemaschine","climate.heizung_wohnzimmer","cover.rolladen_wohnzimmer"];for(let P=0;P<30;P++)for(const I of A){const V=Math.floor(Math.random()*3)+2;for(let W=0;W<V;W++){const j=new Date(M);j.setDate(j.getDate()-P);const q=M.getHours(),U=M.getMinutes();W===0?(j.setHours(q),j.setMinutes(U)):W===1?(j.setHours(q),j.setMinutes(Math.max(0,U-30))):(j.setHours(q+(Math.random()-.5)),j.setMinutes(Math.floor(Math.random()*60)));const D={action_type:"device_click",entity_id:I,timestamp:j.toISOString(),context:{time_of_day:j.getHours()<12?"morning":j.getHours()<18?"afternoon":"evening",hour:j.getHours(),minute:j.getMinutes(),day_of_week:j.getDay(),week_of_year:Math.ceil((j-new Date(j.getFullYear(),0,1))/6048e5),is_weekend:j.getDay()===0||j.getDay()===6}};try{await g.current.put(_e.USER_PATTERNS,D)}catch{}}}return await R()},O=ge((M,A)=>{if(!M||!A){console.warn("[DataProvider] updateEntityState called with invalid data:",{entity_id:M,new_state:A});return}console.log(`ð [DataProvider] Updating entity state: ${M}`,{state:A.state,brightness:A.attributes?.brightness}),u(L=>{const P=L.findIndex(V=>V.entity_id===M),I=[...L];if(P!==-1){const V=I[P];I[P]={...V,state:A.state,attributes:{...V.attributes,...A.attributes},last_changed:A.last_changed,last_updated:A.last_updated,context:A.context},console.log(`â [DataProvider] Entity updated: ${M}`)}else{const V=M.split(".")[0];I.push({entity_id:M,domain:V,state:A.state,attributes:A.attributes||{},last_changed:A.last_changed,last_updated:A.last_updated,context:A.context,relevance_score:0,usage_count:0,last_used:null}),console.log(`â [DataProvider] New entity added: ${M}`)}return I})},[]),T=ge(async(M,A,L={})=>{try{g.current&&m.current&&await Ds(g.current,m.current,M,A,L)}catch(P){console.warn("Failed to record user action:",P)}},[]),H={isInitialized:i,isLoading:r,error:a,entities:d,favorites:h,settings:p,cache:m.current,toggleFavorite:C,updateSetting:x,searchEntities:S,callService:N,calculateSuggestions:R,updateEntityState:O,recordUserAction:T,db:g.current,generateTestPatterns:F,hass:b.current};return l(op.Provider,{value:H,children:t})},St=()=>{const t=We(op);if(!t)throw new Error("useData must be used within DataProvider");return t},ap=()=>{const{settings:t,updateSetting:e}=St();return[t,e]},o5=()=>{const{favorites:t,toggleFavorite:e}=St();return[t,e]},Tl=()=>{const{entities:t,searchEntities:e}=St();return[t,e]},a5=()=>{const{hass:t,callService:e}=St();return[t,e]},l5=()=>{const{calculateSuggestions:t}=St(),[e,n]=E([]),[i,s]=E(!1),r=ge(async()=>{s(!0);try{const a=await t();n(a)}catch(a){console.error("Failed to load suggestions:",a),n([])}finally{s(!1)}},[t]);return G(()=>{r()},[]),G(()=>{const a=setInterval(r,3e5);return()=>clearInterval(a)},[r]),G(()=>{const a=c=>{console.log("Predictive settings changed:",c.detail),r()};return window.addEventListener("predictiveSettingChanged",a),()=>{window.removeEventListener("predictiveSettingChanged",a)}},[r]),[localStorage.getItem("predictiveSuggestions")!=="false"?e:[],i,r]},$i={SINGLE:"single",REPEAT:"repeat"},c5={MONDAY:{key:"mon",label:"Montag",labelEn:"Monday",labelShort:"Mo",labelShortEn:"Mon"},TUESDAY:{key:"tue",label:"Dienstag",labelEn:"Tuesday",labelShort:"Di",labelShortEn:"Tue"},WEDNESDAY:{key:"wed",label:"Mittwoch",labelEn:"Wednesday",labelShort:"Mi",labelShortEn:"Wed"},THURSDAY:{key:"thu",label:"Donnerstag",labelEn:"Thursday",labelShort:"Do",labelShortEn:"Thu"},FRIDAY:{key:"fri",label:"Freitag",labelEn:"Friday",labelShort:"Fr",labelShortEn:"Fri"},SATURDAY:{key:"sat",label:"Samstag",labelEn:"Saturday",labelShort:"Sa",labelShortEn:"Sat"},SUNDAY:{key:"sun",label:"Sonntag",labelEn:"Sunday",labelShort:"So",labelShortEn:"Sun"}},wo=["mon","tue","wed","thu","fri","sat","sun"],lp={LIGHT:{TURN_ON:{service:"turn_on",label:"Einschalten",labelEn:"Turn On"},TURN_OFF:{service:"turn_off",label:"Ausschalten",labelEn:"Turn Off"}},SWITCH:{TURN_ON:{service:"turn_on",label:"Einschalten",labelEn:"Turn On"},TURN_OFF:{service:"turn_off",label:"Ausschalten",labelEn:"Turn Off"}},CLIMATE:{SET_TEMPERATURE:{service:"set_temperature",label:"Temperatur setzen",labelEn:"Set Temperature"},TURN_ON:{service:"turn_on",label:"Einschalten",labelEn:"Turn On"},TURN_OFF:{service:"turn_off",label:"Ausschalten",labelEn:"Turn Off"}},COVER:{OPEN:{service:"open_cover",label:"Ãffnen",labelEn:"Open"},CLOSE:{service:"close_cover",label:"SchlieÃen",labelEn:"Close"},SET_POSITION:{service:"set_cover_position",label:"Position setzen",labelEn:"Set Position"},STOP:{service:"stop_cover",label:"Stoppen",labelEn:"Stop"}},MEDIA_PLAYER:{TURN_ON:{service:"turn_on",label:"Einschalten",labelEn:"Turn On"},TURN_OFF:{service:"turn_off",label:"Ausschalten",labelEn:"Turn Off"},PLAY:{service:"media_play",label:"Abspielen",labelEn:"Play"},PAUSE:{service:"media_pause",label:"Pausieren",labelEn:"Pause"}}},zn={MIN_SCHEDULES:2,MAX_SCHEDULES:8,MIN_TIMERS:1,MAX_TIMERS:4},Si={MINUTE_IN_MS:6e4,HOUR_IN_MS:36e5},d5=(t,e="de")=>!t||t.length===0?e==="en"?"No days":"Keine Tage":t.length===7?e==="en"?"Daily":"TÃ¤glich":t.length===5&&t.includes("mon")&&t.includes("tue")&&t.includes("wed")&&t.includes("thu")&&t.includes("fri")?e==="en"?"Weekdays":"Werktags":t.length===2&&t.includes("sat")&&t.includes("sun")?e==="en"?"Weekend":"Wochenende":t.map(i=>{const s=Object.values(c5).find(r=>r.key===i);return s?e==="en"?s.labelShortEn:s.labelShort:i}).join(", "),u5=t=>{const e=new Date,i=new Date(t)-e;if(i<=0)return{hours:0,minutes:0,seconds:0,isPast:!0};const s=Math.floor(i/Si.HOUR_IN_MS),r=Math.floor(i%Si.HOUR_IN_MS/Si.MINUTE_IN_MS),o=Math.floor(i%Si.MINUTE_IN_MS/1e3);return{hours:s,minutes:r,seconds:o,isPast:!1}},zd=(t,e)=>`${String(t).padStart(2,"0")}:${String(e).padStart(2,"0")}`,Hd=(t,e,n="de")=>{if(!t)return e;const i=lp[t.toUpperCase()];if(!i)return e;const s=Object.values(i).find(r=>r.service===e);return s?n==="en"?s.labelEn:s.label:e},h5=async(t,e)=>{if(!t||!e)return console.warn("fetchSchedules: hass oder entityId fehlt"),[];try{console.log(`ð¡ Lade Schedules fÃ¼r ${e}...`);let n=[],i=[];if(t.states)console.log("ð Suche in States nach switch.schedule_* Entities"),i=Object.values(t.states);else if(t.connection&&t.connection.sendMessagePromise)console.log("ð States nicht verfÃ¼gbar, lade via sendMessagePromise..."),i=await t.connection.sendMessagePromise({type:"get_states"});else if(t.callWS)console.log("ð States nicht verfÃ¼gbar, lade via callWS..."),i=await t.callWS({type:"get_states"});else return console.error("â Keine Methode zum Laden der States gefunden!"),[];if(i.length===0)return console.warn("â ï¸ Keine States geladen!"),[];console.log(`â ${i.length} States geladen`);const s=i.filter(o=>o.entity_id.startsWith("switch.schedule_"));return console.log(`ð Gefundene switch.schedule_* entities: ${s.length}`),n=s.filter(o=>{const a=o.attributes?.entities||[],c=a.includes(e);return console.log(`ð Check ${o.entity_id}:`,{entities:a,match:c,weekdays:o.attributes?.weekdays,timeslots:o.attributes?.timeslots,actions:o.attributes?.actions}),c}).map(o=>({schedule_id:o.entity_id,name:o.attributes.friendly_name||o.entity_id,entity_id:e,enabled:o.state==="on",weekdays:o.attributes.weekdays||[],timeslots:o.attributes.timeslots||[],actions:o.attributes.actions||[],entities:o.attributes.entities||[],repeat_type:f5(o.attributes),time:o.attributes.timeslots?.[0]||"00:00",...o.attributes})),console.log(`â ${n.length} passende Schedules gefunden fÃ¼r ${e}`),n.length===0&&console.warn(`â ï¸ Keine Schedules fÃ¼r ${e} gefunden`),n}catch(n){return console.error("â Fehler beim Laden der Schedules:",n),[]}},f5=t=>{const e=t?.weekdays||[];return e.includes("daily")||e.length>1||e.length===1&&e[0]!=="daily",$i.REPEAT},p5=t=>{if(!t||!t.entity_id)return console.warn("generateMockSchedules: item oder entity_id fehlt"),[];console.log(`ð­ Generiere Mock-Schedules fÃ¼r ${t.entity_id}`);const e=[],n=[],i=Math.floor(Math.random()*(zn.MAX_SCHEDULES-zn.MIN_SCHEDULES+1))+zn.MIN_SCHEDULES;for(let o=0;o<i;o++){const a=Math.floor(Math.random()*24),c=Math.floor(Math.random()*60),d=y5(),u=Wd(t.domain);e.push({schedule_id:`schedule_mock_${t.entity_id}_${o}`,name:`${t.name||t.entity_id} - ${zd(a,c)}`,entity_id:t.entity_id,enabled:Math.random()>.3,repeat_type:$i.REPEAT,weekdays:d,time:zd(a,c),action:u.service,service_data:u.data||{},next_execution:b5(a,c,d)})}const s=Math.floor(Math.random()*(zn.MAX_TIMERS-zn.MIN_TIMERS+1))+zn.MIN_TIMERS;for(let o=0;o<s;o++){const a=new Date(Date.now()+Math.random()*3*Si.HOUR_IN_MS),c=Wd(t.domain);n.push({schedule_id:`timer_mock_${t.entity_id}_${o}`,name:`Timer: ${t.name||t.entity_id}`,entity_id:t.entity_id,enabled:!0,repeat_type:$i.SINGLE,execution_time:a.toISOString(),action:c.service,service_data:c.data||{},remaining_time:u5(a.toISOString())})}const r=[...e,...n];return console.log(`â ${e.length} Schedules + ${n.length} Timer generiert`),r},g5=(t,e,n)=>{if(!t||t.length===0)return console.warn("transformToScheduleObject: Keine Schedules vorhanden"),{activeSchedules:[],activeTimers:[],stats:{totalSchedules:0,activeSchedules:0,totalTimers:0,activeTimers:0}};console.log(`ð Transformiere ${t.length} Schedules fÃ¼r ${e}`);const i=t.filter(c=>{const d=c.name||c.attributes?.friendly_name||"";return!d.toLowerCase().startsWith("timer")&&!d.toLowerCase().includes("timer:")}),s=t.filter(c=>{const d=c.name||c.attributes?.friendly_name||"";return d.toLowerCase().startsWith("timer")||d.toLowerCase().includes("timer:")});console.log(`ð Kategorisierung: ${i.length} Schedules, ${s.length} Timer`);const r=i.map(c=>{const d=c.timeslots?.[0]||"00:00",u=c.actions?.[0]||{},h=u.service||"turn_on",f=h.includes(".")?h.split(".")[1]:h,p=c.entities||[],y=p[0]||e,g=y?y.split(".")[0]:n||"unknown";return{id:c.schedule_id,type:"schedule",name:c.name,time:d.slice(0,5),days:d5(c.weekdays||[]),daysRaw:c.weekdays||[],action:Hd(g,f),actionRaw:h,enabled:c.enabled!==!1,nextExecution:c.next_execution,serviceData:u.data||u.service_data||{},domain:g,entities:p}}),o=s.map(c=>{const d=c.timeslots?.[0]||"00:00",u=c.actions?.[0]||{},h=u.service||"turn_on",f=h.includes(".")?h.split(".")[1]:h,p=new Date,[y,g]=d.split(":").map(S=>parseInt(S)),m=new Date;m.setHours(y,g,0,0),m<=p&&m.setDate(m.getDate()+1);const b=m.getTime()-p.getTime(),v=Math.floor(b/6e4),_=Math.floor(v/60),k=v%60,w=c.entities||[],C=w[0]||e,x=C?C.split(".")[0]:n||"unknown";return{id:c.schedule_id,type:"timer",name:c.name,time:d.slice(0,5),executionTime:m.toISOString(),action:Hd(x,f),actionRaw:h,enabled:c.enabled!==!1,remaining:v,remainingTime:{hours:_,minutes:k,isPast:v<0},isPast:v<0,serviceData:u.data||u.service_data||{},domain:x,entities:w}}),a={totalSchedules:i.length,activeSchedules:i.filter(c=>c.enabled!==!1).length,totalTimers:s.length,activeTimers:s.filter(c=>c.enabled!==!1).length};return console.log("â Transformation abgeschlossen:",{schedules:r.length,timers:o.length,stats:a}),{activeSchedules:r,activeTimers:o,stats:a}},cp=async(t,e)=>{if(!t||!e)return console.warn("createSchedule: hass oder scheduleData fehlt"),!1;try{return console.log("ð Erstelle neuen Schedule:",e),t.callService?(await t.callService("scheduler","add",e),console.log("â Schedule erfolgreich erstellt"),!0):(console.warn("â ï¸ Keine Methode zum Erstellen verfÃ¼gbar"),!1)}catch(n){return console.error("â Fehler beim Erstellen des Schedules:",n),!1}},m5=async(t,e)=>{if(!t||!e)return console.warn("deleteSchedule: hass oder scheduleId fehlt"),!1;try{return console.log(`ðï¸ LÃ¶sche Schedule ${e}`),t.callService?(await t.callService("scheduler","remove",{entity_id:e}),console.log("â Schedule erfolgreich gelÃ¶scht"),!0):(console.warn("â ï¸ Keine Methode zum LÃ¶schen verfÃ¼gbar"),!1)}catch(n){return console.error("â Fehler beim LÃ¶schen des Schedules:",n),!1}},y5=()=>{const t=Math.random();if(t>.7)return["daily"];if(t>.5)return["mon","tue","wed","thu","fri"];if(t>.3)return["sat","sun"];{const e=Math.floor(Math.random()*4)+2;return[...wo].sort(()=>Math.random()-.5).slice(0,e).sort((i,s)=>wo.indexOf(i)-wo.indexOf(s))}},Wd=t=>{const e=t?.toUpperCase()||"LIGHT",n=lp[e];if(!n)return{service:"turn_on",data:{}};const i=Object.keys(n),s=i[Math.floor(Math.random()*i.length)],r=n[s];let o={};return t==="light"&&r.service==="turn_on"?o.brightness=Math.floor(Math.random()*255):t==="climate"&&r.service==="set_temperature"&&(o.temperature=18+Math.floor(Math.random()*8)),{service:r.service,data:o}},b5=(t,e,n)=>{if(!n||n.length===0)return null;const i=new Date,s=i.getDay(),r=i.getHours(),o=i.getMinutes(),a=["sun","mon","tue","wed","thu","fri","sat"];for(let d=0;d<7;d++){const u=(s+d)%7,h=a[u];if((n.includes(h)||n.includes("daily"))&&!(d===0&&(r>t||r===t&&o>=e))){const y=new Date(i);return y.setDate(i.getDate()+d),y.setHours(t,e,0,0),y.toISOString()}}const c=new Date(i);return c.setDate(i.getDate()+7),c.setHours(t,e,0,0),c.toISOString()},v5=async(t,e,n)=>{if(console.log("â° handleTimerCreate called with:",n),!t)return console.warn("â° No hass available, cannot create timer"),!1;if(!e||!e.entity_id)return console.warn("â° No valid item provided"),!1;try{const i={weekdays:n.weekdays||[],timeslots:[{start:n.time||"00:00",actions:[{service:`${e.domain}.${n.action||"turn_on"}`,entity_id:e.entity_id,service_data:n.serviceData||{}}]}],name:n.name||`Timer: ${e.name||e.entity_id}`,repeat_type:"single"},s=await cp(t,i);return s?(console.log("â Timer erfolgreich erstellt! Warte kurz vor Reload..."),await new Promise(r=>setTimeout(r,500))):console.error("â Timer konnte nicht erstellt werden"),s}catch(i){return console.error("â Error creating timer:",i),!1}},_5=async(t,e,n)=>{if(console.log("ð handleScheduleCreate called with:",n),!t)return console.warn("ð No hass available, cannot create schedule"),!1;if(!e||!e.entity_id)return console.warn("ð No valid item provided"),!1;try{const i={weekdays:n.weekdays||[],timeslots:[{start:n.time||"00:00",actions:[{service:`${e.domain}.${n.action||"turn_on"}`,entity_id:e.entity_id,service_data:n.serviceData||{}}]}],name:n.name||`Schedule: ${e.name||e.entity_id}`,repeat_type:"repeat"};console.log("ð Sende an Scheduler Component:",i);const s=await cp(t,i);return s?(console.log("â Schedule erfolgreich erstellt! Warte kurz vor Reload..."),await new Promise(r=>setTimeout(r,500))):console.error("â Schedule konnte nicht erstellt werden"),s}catch(i){return console.error("â Error creating schedule:",i),!1}},Fs={heat:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="12" cy="12" r="6" stroke-linecap="round" stroke-linejoin="round"/><path d="M22 12L23 12M12 2V1M12 23V22M20 20L19 19M20 4L19 5M4 20L5 19M4 4L5 5M1 12L2 12" stroke-linecap="round" stroke-linejoin="round"/></svg>',cool:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M3 7L6.5 9M21 17L17.5 15M12 12L6.5 9M12 12L6.5 15M12 12V5M12 12V18.5M12 12L17.5 15M12 12L17.5 9M12 2V5M12 22V18.5M21 7L17.5 9M3 17L6.5 15M6.5 9L3 10M6.5 9L6 5.5M6.5 15L3 14M6.5 15L6 18.5M12 5L9.5 4M12 5L14.5 4M12 18.5L14.5 20M12 18.5L9.5 20M17.5 15L18 18.5M17.5 15L21 14M17.5 9L21 10M17.5 9L18 5.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',dry:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M20 14C20 9.58172 12 2 12 2C12 2 4 9.58172 4 14C4 18.4183 7.58172 22 12 22C16.4183 22 20 18.4183 20 14Z"/></svg>',fan_only:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M18.2785 7C19.7816 7 21 8.11929 21 9.5C21 10.8807 19.7816 12 18.2785 12H3M17.9375 20C19.0766 20 20.5 19.5 20.5 17.5C20.5 15.5 19.0766 15 17.9375 15H3M10.4118 4C11.8412 4 13 5.11929 13 6.5C13 7.88071 11.8412 9 10.4118 9H3" stroke-linecap="round" stroke-linejoin="round"/></svg>'},st={brightness:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>',thermometer:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"/></svg>',palette:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"/></svg>',settings:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><circle cx="12" cy="12" r="3"/><path d="M12 1v6m0 6v6m4.22-13.22l4.24 4.24M1.54 1.54l4.24 4.24M20.46 20.46l-4.24-4.24M1.54 20.46l4.24-4.24"/></svg>',settings_climate:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="1.5"><path d="M13.9922 17H16.9922M19.9922 17H16.9922M16.9922 17V14M16.9922 17V20" stroke-linecap="round" stroke-linejoin="round"/><path d="M4 9.4V4.6C4 4.26863 4.26863 4 4.6 4H9.4C9.73137 4 10 4.26863 10 4.6V9.4C10 9.73137 9.73137 10 9.4 10H4.6C4.26863 10 4 9.73137 4 9.4Z"/><path d="M4 19.4V14.6C4 14.2686 4.26863 14 4.6 14H9.4C9.73137 14 10 14.2686 10 14.6V19.4C10 19.7314 9.73137 20 9.4 20H4.6C4.26863 20 4 19.7314 4 19.4Z"/><path d="M14 9.4V4.6C14 4.26863 14.2686 4 14.6 4H19.4C19.7314 4 20 4.26863 20 4.6V9.4C20 9.73137 19.7314 10 19.4 10H14.6C14.2686 10 14 9.73137 14 9.4Z"/></svg>',play:'<svg width="24" height="24" viewBox="0 0 24 24" fill="white"><polygon points="5 3 19 12 5 21 5 3"/></svg>',pause:'<svg width="24" height="24" viewBox="0 0 24 24" fill="white"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>',skip_back:'<svg width="24" height="24" viewBox="0 0 24 24" fill="white"><polygon points="11 19 2 12 11 5 11 19"/><polygon points="22 19 13 12 22 5 22 19"/></svg>',skip_forward:'<svg width="24" height="24" viewBox="0 0 24 24" fill="white"><polygon points="13 19 22 12 13 5 13 19"/><polygon points="2 19 11 12 2 5 2 19"/></svg>',tv:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><rect x="2" y="7" width="20" height="15" rx="2" ry="2"/><polyline points="17 2 12 7 7 2"/></svg>',info:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>',lock:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>',unlock:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 9.9-1"/></svg>'},w5=(t,e,n,i="de")=>{const s=r=>$(`controls.${r}`,i);if(e==="temperature"){const r=parseFloat(t);return isNaN(r)?"":n==="Â°F"?r<50?s("cold"):r<68?s("cool"):r<77?s("comfortable"):r<86?s("warm"):s("hot"):r<10?s("cold"):r<20?s("cool"):r<25?s("comfortable"):r<30?s("warm"):s("hot")}if(e==="humidity"){const r=parseFloat(t);return isNaN(r)?"":r<30?s("veryDry"):r<40?s("dry"):r<60?s("optimal"):r<70?s("humid"):s("veryHumid")}if(e==="battery"){const r=parseFloat(t);return isNaN(r)?"":r<20?s("critical"):r<40?s("low"):r<60?s("medium"):r<80?s("good"):s("full")}if(e==="power"||e==="energy"){const r=parseFloat(t);return isNaN(r)?"":r===0?s("off"):r<100?s("minimal"):r<500?s("low"):r<1e3?s("medium"):r<3e3?s("high"):s("veryHigh")}if(e==="carbon_dioxide"){const r=parseFloat(t);return isNaN(r)?"":r<400?s("excellent"):r<600?s("good"):r<1e3?s("acceptable"):r<1500?s("moderate"):s("poor")}return""},k5=(t,e="de")=>{const n=t?.attributes?.device_class||t?.entity?.attributes?.device_class,i=t?.entity_id||t?.id||"",s=r=>$(`controls.${r}`,e);return n==="temperature"?s("temperature"):n==="humidity"?s("humidity"):n==="battery"?s("battery"):n==="power"?s("power"):n==="energy"?s("energy"):n==="carbon_dioxide"?s("co2"):n==="motion"?s("movement"):n==="door"?s("door"):n==="window"?s("window"):n==="presence"?s("presence"):i.includes("temperature")||i.includes("temperatur")?s("temperature"):i.includes("humidity")||i.includes("feuchtigkeit")?s("humidity"):i.includes("power")||i.includes("leistung")?s("power"):i.includes("energy")||i.includes("energie")?s("energy"):i.includes("battery")||i.includes("batterie")?s("battery"):i.includes("co2")?s("co2"):i.includes("solar")?s("solar"):s("sensor")},x5=(t,e="Â°C")=>{let n=parseFloat(t);return e==="Â°F"&&(n=(n-32)*5/9),n<16?"#0288D1":n<18?"#03A9F4":n<20?"#00BCD4":n<22?"#4CAF50":n<24?"#8BC34A":n<26?"#FFC107":n<28?"#FF9800":n<30?"#FF5722":"#F44336"},Ns=(t,e)=>{const n=t?.supported_features||0,i=t?.supported_color_modes||[],s=1,r=2,o=4,a=16;switch(e){case"brightness":return n&s||i.includes("brightness")||i.includes("color_temp")||i.includes("hs")||i.includes("xy")||i.includes("rgb")||i.includes("rgbw")||i.includes("rgbww");case"colortemp":return n&r||i.includes("color_temp");case"color":return n&a||i.includes("hs")||i.includes("xy")||i.includes("rgb")||i.includes("rgbw")||i.includes("rgbww");case"effects":return n&o||t?.effect_list&&t.effect_list.length>0;default:return!1}},jd=(t,e="de")=>{const n=t?.domain||"unknown",i=t?.entity?.state||t?.state,s=t?.entity?.attributes||t?.attributes||{},r=o=>$(`controls.${o}`,e);switch(n){case"switch":return{primary:[],expandable:[]};case"light":const o=[],a=[];return Ns(s,"brightness")&&(o.push({id:"brightness",icon:st.brightness,label:r("brightness"),expandable:!0}),a.push({id:"brightness",service:"turn_on",items:[{label:"10%",data:{brightness_pct:10},style:{background:"rgba(255, 255, 255, 0.1)"}},{label:"25%",data:{brightness_pct:25},style:{background:"rgba(255, 255, 255, 0.25)"}},{label:"50%",data:{brightness_pct:50},style:{background:"rgba(255, 255, 255, 0.5)"}},{label:"75%",data:{brightness_pct:75},style:{background:"rgba(255, 255, 255, 0.75)"}},{label:"100%",data:{brightness_pct:100},style:{background:"rgba(255, 215, 0, 0.9)"}}]})),Ns(s,"colortemp")&&(o.push({id:"colortemp",icon:st.thermometer,label:r("colorTemperature"),expandable:!0}),a.push({id:"colortemp",service:"turn_on",items:[{label:r("veryWarm"),data:{color_temp_kelvin:2e3},style:{background:"#ff8c42"}},{label:r("warm"),data:{color_temp_kelvin:2700},style:{background:"#ffb366"}},{label:r("neutral"),data:{color_temp_kelvin:3500},style:{background:"#ffd4a3"}},{label:r("cold"),data:{color_temp_kelvin:5e3},style:{background:"#e8e4ff"}},{label:r("daylight"),data:{color_temp_kelvin:6500},style:{background:"#d4e4ff"}}]})),Ns(s,"color")&&(o.push({id:"color",icon:st.palette,label:r("color"),expandable:!0}),a.push({id:"color",service:"turn_on",items:[{label:e==="de"?"Rot":"Red",data:{rgb_color:[255,0,0]},style:{background:"#ff0000"}},{label:e==="de"?"GrÃ¼n":"Green",data:{rgb_color:[0,255,0]},style:{background:"#00ff00"}},{label:e==="de"?"Blau":"Blue",data:{rgb_color:[0,0,255]},style:{background:"#0000ff"}},{label:e==="de"?"Gelb":"Yellow",data:{rgb_color:[255,255,0]},style:{background:"#ffff00"}},{label:"Cyan",data:{rgb_color:[0,255,255]},style:{background:"#00ffff"}},{label:"Magenta",data:{rgb_color:[255,0,255]},style:{background:"#ff00ff"}},{label:"Orange",data:{rgb_color:[255,165,0]},style:{background:"#ffa500"}},{label:"Pink",data:{rgb_color:[255,192,203]},style:{background:"#ffc0cb"}}]})),Ns(s,"effects")&&(o.push({id:"effects",icon:st.settings,label:r("effects"),expandable:!0}),a.push({id:"effects",service:"turn_on",items:s.effect_list?.slice(0,8).map(h=>({label:h,data:{effect:h},icon:"â¨"}))||[]})),o.length===0&&o.push({id:"info",icon:st.info,label:e==="de"?"Einfaches Licht":"Simple Light",expandable:!1,disabled:!0}),{primary:o,expandable:a};case"climate":const c=[],d=s.hvac_modes||[],u={heat:{icon:Fs.heat,label:r("heating")||"Heizen"},cool:{icon:Fs.cool,label:r("cooling")||"KÃ¼hlen"},dry:{icon:Fs.dry,label:r("drying")||"Entfeuchten"},fan_only:{icon:Fs.fan_only,label:r("fanOnly")||"Nur LÃ¼fter"}};return["heat","cool","dry","fan_only"].forEach(h=>{d.includes(h)&&u[h]&&c.push({id:`hvac_${h}`,icon:u[h].icon,label:u[h].label,action:"set_hvac_mode",data:{hvac_mode:h},active:s.hvac_mode===h})}),c.push({id:"settings",icon:st.settings_climate,label:r("settings")||"Einstellungen",expandable:!0}),{primary:c,expandable:[{id:"settings",renderCustom:!0}]};case"media_player":return{primary:[{id:"play",icon:i==="playing"?st.pause:st.play,label:r(i==="playing"?"pause":"play"),action:i==="playing"?"media_pause":"media_play"},{id:"previous",icon:st.skip_back,label:r("previous"),action:"media_previous_track"},{id:"next",icon:st.skip_forward,label:r("next"),action:"media_next_track"},{id:"source",icon:st.tv,label:r("source"),expandable:!0}],expandable:[{id:"source",service:"select_source",items:(s.source_list||[]).slice(0,8).map(h=>({label:h,data:{source:h},icon:"ð»"}))}]};case"lock":return{primary:[{id:"lock",icon:i==="locked"?st.unlock:st.lock,label:r(i==="locked"?"unlock":"lock"),action:i==="locked"?"unlock":"lock",data:{}}],expandable:[]};case"cover":return{primary:[{id:"open",icon:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M6 15L12 9L18 15" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>`,label:r("open"),action:"open_cover",data:{}},{id:"stop",icon:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M17 4L12 9L7 4" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M17 20L12 15L7 20" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>`,label:r("stop"),action:"stop_cover",data:{}},{id:"close",icon:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M6 9L12 15L18 9" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>`,label:r("close"),action:"close_cover",data:{}},{id:"presets",icon:st.settings_climate,label:r("position"),expandable:!0}],expandable:[{id:"presets",service:"set_cover_position",items:[{label:"0%",data:{position:0},style:{background:"rgba(255, 255, 255, 0.1)"}},{label:"25%",data:{position:25},style:{background:"linear-gradient(to top, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.25) 25%, rgba(255, 255, 255, 0.1) 25%)"}},{label:"50%",data:{position:50},style:{background:"linear-gradient(to top, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.25) 50%, rgba(255, 255, 255, 0.1) 50%)"}},{label:"75%",data:{position:75},style:{background:"linear-gradient(to top, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.25) 75%, rgba(255, 255, 255, 0.1) 75%)"}},{label:"100%",data:{position:100},style:{background:"rgba(255, 255, 255, 0.25)"}}]}]};case"scene":return{primary:[{id:"trigger",icon:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M13 10V3L5 14H11V21L19 10H13Z" />
            </svg>`,label:r("trigger")||"AuslÃ¶sen",action:"turn_on",data:{}}],expandable:[]};case"script":return{primary:[{id:"trigger",icon:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M13 10V3L5 14H11V21L19 10H13Z" />
            </svg>`,label:r("trigger")||"AuslÃ¶sen",action:"turn_on",data:{}}],expandable:[]};case"automation":return{primary:[{id:"trigger",icon:`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M13 10V3L5 14H11V21L19 10H13Z" />
            </svg>`,label:r("trigger")||"AuslÃ¶sen",action:"trigger",data:{},disabled:i==="off"}],expandable:[]};default:return{primary:[],expandable:[]}}},Ud=(t,e="de")=>{const n=t?.domain||"unknown",i=t?.entity?.state||t?.state,s=t?.entity?.attributes||t?.attributes||{},r=o=>$(`controls.${o}`,e);switch(n){case"scene":case"script":case"automation":return{value:i==="on"?100:0,min:0,max:100,unit:"%",label:n==="scene"?r("scene")||"Szene":n==="script"?r("script")||"Skript":r("automation")||"Automatisierung",displayValue:i==="on"?r("active")||"Aktiv":r("inactive")||"Inaktiv",color:"#9E9E9E",showPower:!0,powerState:i==="on",interactive:!1,progressMode:!0,readOnly:!0,hideSlider:!0,showUnit:!1};case"switch":return{value:i==="on"?100:0,min:0,max:100,unit:"%",label:r("control"),displayValue:r(i==="on"?"on":"off"),color:"#9E9E9E",showPower:!0,powerState:i==="on",interactive:!1,progressMode:!0,readOnly:!0,hideSlider:!0,showUnit:!1};case"light":const o=s.brightness||0;return{value:i==="off"?0:Math.round(o/255*100),min:0,max:100,unit:"%",label:r("brightness"),displayValue:i==="off"?r("off")||"Aus":null,color:i==="off"?"#9E9E9E":"#FFD700",showPower:!0,powerState:i==="on",interactive:!0,showUnit:i!=="off",progressMode:i==="off",readOnly:i==="off"};case"climate":const c=s.current_temperature||20,d=s.temperature||20,u=s.temperature_unit||"Â°C",h=x5(d,u);return{value:i==="off"?0:d,min:s.min_temp||16,max:s.max_temp||30,unit:u,label:r("targetTemperature"),displayValue:i==="off"?r("off")||"Aus":null,subValue:`${r("currentTemperature")}: ${c}${u}`,showUnit:i!=="off",color:i==="off"?"#9E9E9E":h,showPower:!0,powerState:i!=="off",interactive:i!=="off",progressMode:i==="off",readOnly:i==="off",step:1};case"cover":return{value:s.current_position||0,min:0,max:100,unit:"%",label:r("position"),color:"#9C27B0",showPower:!1,interactive:!0,showUnit:!0};case"media_player":return{value:Math.round((s.volume_level||0)*100),min:0,max:100,unit:"%",label:r("volume"),color:"#FF6B35",showPower:!0,powerState:i!=="off"&&i!=="unavailable",interactive:!0,showUnit:!0};case"lock":return{value:i==="locked"?100:0,min:0,max:100,unit:"",label:r("security"),displayValue:r(i==="locked"?"locked":"unlocked"),color:i==="locked"?"#4CAF50":"#F44336",showPower:!1,interactive:!1,progressMode:!0,readOnly:!0,showUnit:!1};case"fan":return{value:s.percentage||0,min:0,max:100,unit:"%",label:r("speed"),color:"#00BCD4",showPower:!0,powerState:i==="on",interactive:!0,showUnit:!0};case"binary_sensor":return{value:i==="on"?100:0,min:0,max:100,unit:"",label:s.friendly_name||r("sensor"),displayValue:r(i==="on"?"active":"inactive"),color:i==="on"?"#4CAF50":"#9E9E9E",showPower:!1,interactive:!1,progressMode:!0,readOnly:!0,showUnit:!1};case"sensor":let g=i?parseFloat(i):0;isNaN(g)&&(g=0);const m=w5(i,s.device_class,s.unit_of_measurement,e),b=k5(t,e);return s.device_class==="temperature"||t.entity_id?.includes("temperature")||t.entity_id?.includes("temperatur")?{value:g,min:s.min||-10,max:s.max||40,unit:s.unit_of_measurement||"Â°C",label:b,subValue:m,displayValue:null,showUnit:!0,color:"#2196F3",showPower:!1,interactive:!1,progressMode:!0,readOnly:!0}:s.device_class==="humidity"||t.entity_id?.includes("humidity")?{value:g,min:0,max:100,unit:s.unit_of_measurement||"%",label:b,subValue:m,displayValue:`${Math.round(g)}`,showUnit:!0,color:"#00BCD4",showPower:!1,interactive:!1,progressMode:!0,readOnly:!0}:t.entity_id?.includes("solar")?{value:g,min:0,max:s.max||10,unit:s.unit_of_measurement||"kW",label:b,subValue:m,displayValue:`${g}`,showUnit:!0,color:"#FFC107",showPower:!1,interactive:!1,progressMode:!0,readOnly:!0}:{value:g,min:s.min||0,max:s.max||100,unit:s.unit_of_measurement||"",label:b,subValue:m||null,displayValue:`${g}`,showUnit:!!s.unit_of_measurement,color:"#8BC34A",showPower:!1,interactive:!1,progressMode:!0,readOnly:!0};default:return{value:0,min:0,max:100,unit:"%",label:r("control"),color:"#9E9E9E",showPower:i==="on"||i==="off",powerState:i==="on",interactive:!1,showUnit:!0}}},C5=(t,e="Â°C")=>{let n=parseFloat(t);return e==="Â°F"&&(n=(n-32)*5/9),n<16?"#0288D1":n<18?"#03A9F4":n<20?"#00BCD4":n<22?"#4CAF50":n<24?"#8BC34A":n<26?"#FFC107":n<28?"#FF9800":n<30?"#FF5722":"#F44336"},Rn=320,Ce=Rn*.4375,vt=Rn/2,_t=Rn/2,ko=2*Math.PI*Ce,Gd=()=>{const t=window.innerWidth;return t<=480||t<=768?160:(t<=1024,280)},S5=(t,e,n)=>-90+(t-e)/(n-e)*360,M5=(t,e,n)=>{let i=t+90;i<0&&(i+=360),i=i%360;const s=i/360;return e+s*(n-e)},A5=(t,e,n,i)=>{const s=(t-e)/(n-e);return i-s*i},L5=({isOn:t=!1,onChange:e,disabled:n=!1,size:i=280,show:s=!0})=>{if(!s)return null;const r=i<220,o=r?51:64,a=r?26:32,c=r?19:24,d=r?11:14,u=r?22:32;return l("div",{className:"power-toggle-container",style:{position:"absolute",top:"50%",left:"50%",transform:`translate(-50%, calc(-50% - ${r?38:60}px))`,pointerEvents:"all",zIndex:10},children:l(z.label,{className:`power-toggle ${n?"disabled":""}`,style:{position:"relative",width:`${o}px`,height:`${a}px`,display:"block",cursor:n?"not-allowed":"pointer"},whileHover:n?{}:{scale:1.05},whileTap:n?{}:{scale:.95},children:[l("input",{type:"checkbox",checked:t,onChange:e,disabled:n,style:{opacity:0,width:0,height:0}}),l(z.span,{className:"power-slider",style:{position:"absolute",inset:0,borderRadius:"20px",display:"flex",alignItems:"center",padding:"0 5px"},animate:{background:t?"rgba(255, 255, 255, 0.25)":"rgba(255, 255, 255, 0.1)",borderColor:t?"rgba(255, 255, 255, 0.4)":"rgba(255, 255, 255, 0.2)"},transition:{type:"spring",stiffness:300,damping:25},children:l(z.span,{className:"power-icon",style:{width:`${c}px`,height:`${c}px`,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},animate:{x:t?u:0,background:t?"white":"rgba(0, 0, 0, 0.1)"},variants:Iv,whileTap:"tap",transition:{type:"spring",stiffness:400,damping:25},children:l(z.svg,{width:d,height:d,viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",animate:{stroke:t?"#333":"rgba(255, 255, 255, 1)",rotate:t?360:0},transition:{rotate:{type:"spring",stiffness:200,damping:20}},children:l("path",{d:"M12 2v10M16.2 7.8A7 7 0 1 1 7.8 7.8",strokeLinecap:"round",strokeLinejoin:"round"})})})})]})})},T5=({value:t,animatedValue:e,displayValue:n,subValue:i,unit:s,showUnit:r=!0,label:o,size:a=280,isDragging:c=!1,valueRef:d,scrollOffset:u=0})=>{const h=n&&!c?typeof n=="string"?n.charAt(0).toUpperCase()+n.slice(1):n:null;return l("div",{className:"value-display-container",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, calc(-50% + 10px))",pointerEvents:"none",display:"flex",flexDirection:"column",alignItems:"center",gap:a<200?"4px":"6px",zIndex:3},children:[l("div",{className:"value-wrapper",style:{position:"relative",display:"inline-block"},children:[h?l(z.span,{className:"circular-value",ref:d,variants:Vd,initial:"hidden",animate:"visible",style:{fontSize:a<200?"clamp(26px, 12.2vw, 39px)":"clamp(38px, 18vw, 48px)",fontWeight:500,color:"white",lineHeight:1,display:"inline-block"},children:l("span",{style:{transform:`translateX(${u}px)`,display:"inline-block",whiteSpace:"nowrap"},children:[h,u<-50&&l("span",{style:{marginLeft:"50px"},children:h})]})},t):l(z.span,{className:"circular-value",variants:Vd,initial:"hidden",animate:"visible",style:{fontSize:a<200?"clamp(26px, 12.2vw, 39px)":"clamp(38px, 18vw, 48px)",fontWeight:500,color:"white",lineHeight:1,display:"inline-block"},children:e}),r&&s&&l(z.span,{className:"circular-unit",variants:_o,initial:"hidden",animate:"visible",style:{fontSize:a<200?"clamp(9px, 3.7vw, 13px)":"clamp(13px, 5.5vw, 19px)",fontWeight:400,color:"rgba(255, 255, 255, 0.5)",position:"absolute",left:"100%",top:0,marginLeft:a<200?"2px":"4px",whiteSpace:"nowrap"},children:s})]}),i&&l(z.div,{className:"circular-sub-value",variants:_o,initial:"hidden",animate:"visible",style:{fontSize:a<200?"clamp(10px, 4.4vw, 15px)":"clamp(13px, 5.5vw, 19px)",color:"rgba(255, 255, 255, 0.6)",lineHeight:1,whiteSpace:"nowrap",textAlign:"center"},children:i}),l(z.div,{className:"circular-label",variants:_o,initial:"hidden",animate:"visible",style:{fontSize:a<200?"clamp(8px, 3.2vw, 10px)":"clamp(10px, 4vw, 13px)",color:"rgba(255, 255, 255, 0.5)",textTransform:"uppercase",letterSpacing:a<200?"0.4px":"0.5px",whiteSpace:"nowrap",textAlign:"center"},children:o})]})},E5=(t,e,n,i)=>{const[s,r]=E(t),[o,a]=E(!1),c=ya(t,{stiffness:280,damping:28,mass:.8,restDelta:.001,restSpeed:.01}),d=ya(0,{stiffness:100,damping:30,restDelta:.01}),u=Jn(c,i);return G(()=>{!o&&t>0&&(d.set(t),a(!0))},[o,t]),G(()=>{t!==s&&(r(t),c.set(t),o&&d.set(t))},[t]),{currentValue:s,setCurrentValue:r,springValue:c,countingValue:d,handleAngle:u,hasAnimated:o}},D5=({svgRef:t,readOnly:e,disabled:n,angleToValue:i,step:s,min:r,max:o,springValue:a,countingValue:c,setCurrentValue:d,setLastSliderValue:u,lastSliderValue:h,showPower:f,localPowerState:p,setLocalPowerState:y,onPowerToggle:g,onValueChange:m})=>{const[b,v]=E(!1),_=(N,F)=>{if(e||n||!t.current)return;const O=t.current.getBoundingClientRect(),T=N-O.left,H=F-O.top,M=Rn/O.width,A=Rn/O.height,L=T*M,P=H*A,I=L-vt,V=P-_t,j=Math.atan2(V,I)*(180/Math.PI),q=i(j),U=Math.round(q/s)*s,D=Math.max(r,Math.min(o,U));d(D),a.set(D),c.set(D,!1),u(D>0?D:h),f&&!p&&D>0&&(y(!0),g&&g(!0)),m&&m(D)},k=N=>{e||n||(v(!0),_(N.clientX,N.clientY))},w=N=>{b&&_(N.clientX,N.clientY)},C=()=>{v(!1)},x=N=>{if(e||n)return;v(!0);const F=N.touches[0];_(F.clientX,F.clientY)},S=N=>{if(!b)return;const F=N.touches[0];_(F.clientX,F.clientY),N.preventDefault()},R=()=>{v(!1)};return G(()=>{if(b)return document.addEventListener("mousemove",w),document.addEventListener("mouseup",C),document.addEventListener("touchmove",S,{passive:!1}),document.addEventListener("touchend",R),()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",C),document.removeEventListener("touchmove",S),document.removeEventListener("touchend",R)}},[b]),{isDragging:b,handleMouseDown:k,handleTouchStart:x}},F5=(t,e,n,i)=>{const[s,r]=E(t),[o,a]=E(e>0?e:50);return{localPowerState:s,setLocalPowerState:r,lastSliderValue:o,setLastSliderValue:a,handlePowerToggle:(d,u,h,f)=>{const p=d.target.checked;r(p),p?o>0&&(f(o),u.set(o),h.set(o,!1),i&&i(o)):(f(0),u.set(0),h.set(0,!1)),n&&n(p)}}},N5=({value:t=0,min:e=0,max:n=100,step:i=1,label:s="",displayValue:r=null,subValue:o=null,unit:a="%",showUnit:c=!1,color:d="#FFD700",size:u=null,disabled:h=!1,readOnly:f=!1,progressMode:p=!1,hideSlider:y=!1,showPower:g=!1,powerState:m=!1,onValueChange:b,onPowerToggle:v,domain:_=null})=>{const[k,w]=E(!1),[C,x]=E(u||Gd()),[S,R]=E(d),[N,F]=E(0),O=J(null),T=J(null),H=J(null);Lr(0),Lr(0);const M=Le(()=>de=>S5(de,e,n),[e,n]),A=Le(()=>de=>M5(de,e,n),[e,n]),{currentValue:L,setCurrentValue:P,springValue:I,countingValue:V,handleAngle:W}=E5(t,e,n,M),{localPowerState:j,setLocalPowerState:q,lastSliderValue:U,setLastSliderValue:D,handlePowerToggle:Y}=F5(m,t,v,b),{isDragging:K,handleMouseDown:te,handleTouchStart:qe}=D5({svgRef:O,readOnly:f,disabled:h,angleToValue:A,step:i,min:e,max:n,springValue:I,countingValue:V,setCurrentValue:P,setLastSliderValue:D,lastSliderValue:U,showPower:g,localPowerState:j,setLocalPowerState:q,onPowerToggle:v,onValueChange:b}),B=Le(()=>()=>A5(L,e,n,ko),[L,e,n]),ee=Jn(W,de=>{const ze=de*Math.PI/180;return vt+Ce*Math.cos(ze)}),X=Jn(W,de=>{const ze=de*Math.PI/180;return _t+Ce*Math.sin(ze)});G(()=>{q(m),!m&&g&&(s?.toLowerCase().includes("hellig")||s?.toLowerCase().includes("bright"))&&P(0)},[m,g,s]),G(()=>{if(_==="climate"&&(a==="Â°C"||a==="Â°F")){const de=C5(L,a);R(de)}else R(d)},[L,_,a,d]),G(()=>{if(u)return;const de=()=>{const ze=Gd();x(ze)};return de(),window.addEventListener("resize",de),()=>window.removeEventListener("resize",de)},[u]),G(()=>{const de=H.current;if(!de||!r||r.length<=7){F(0);return}const ze=de.scrollWidth,Fe=de.clientWidth;if(ze>Fe){let ut;const ht=()=>{F(ui=>{const pn=ui-1;return Math.abs(pn)>=ze+50?0:pn}),ut=requestAnimationFrame(ht)};return ut=requestAnimationFrame(ht),()=>{ut&&cancelAnimationFrame(ut)}}},[r]);const fe=de=>{Y(de,I,V,P)},Ee=()=>{if(p)return L<=0?null:l(z.circle,{cx:vt,cy:_t,r:Ce,fill:"none",stroke:S,strokeWidth:Ce*.086,strokeDasharray:ko,initial:{strokeDashoffset:ko},animate:{strokeDashoffset:B()},transition:{type:"spring",stiffness:100,damping:20,restDelta:.001},strokeLinecap:"round",transform:`rotate(-90 ${vt} ${_t})`});if(L>=n-.01)return l(ae,{children:[l(z.path,{d:`M ${vt} ${_t-Ce} A ${Ce} ${Ce} 0 0 1 ${vt} ${_t+Ce}`,fill:"none",stroke:S,strokeWidth:Ce*.086,strokeLinecap:"round",animate:{stroke:S},transition:{duration:.3}}),l(z.path,{d:`M ${vt} ${_t+Ce} A ${Ce} ${Ce} 0 0 1 ${vt} ${_t-Ce}`,fill:"none",stroke:S,strokeWidth:Ce*.086,strokeLinecap:"round",animate:{stroke:S},transition:{duration:.3}})]});const de=M(L),ze=Math.abs(de+90)>180?1:0,Fe=vt+Ce*Math.cos(de*Math.PI/180),ut=_t+Ce*Math.sin(de*Math.PI/180);return l(z.path,{d:`M ${vt} ${_t-Ce} A ${Ce} ${Ce} 0 ${ze} 1 ${Fe} ${ut}`,fill:"none",stroke:S,strokeWidth:Ce*.086,strokeLinecap:"round",animate:{stroke:S},transition:{stroke:{duration:.3,ease:"easeInOut"}}})},dt=()=>p||y||f?null:l(z.g,{children:l(z.circle,{cx:ee,cy:X,r:Ce*.114,fill:"white",stroke:S,strokeWidth:Ce*.025,style:{cursor:K?"grabbing":"grab",pointerEvents:"all"},variants:Pv,animate:K?"dragging":k?"hover":"idle",onMouseEnter:()=>!h&&!f&&w(!0),onMouseLeave:()=>w(!1),whileHover:!h&&!f?"hover":void 0})}),Ve=Jn(V,de=>a==="%"||Number.isInteger(de)?Math.round(de):parseFloat(de.toFixed(1)));return l(z.div,{ref:T,className:`circular-slider-container ${h?"disabled":""} ${f?"read-only":""}`,style:{position:"relative",width:`${C}px`,height:`${C}px`,margin:"0 auto 30px",display:"flex",alignItems:"center",justifyContent:"center"},variants:Fv,initial:"hidden",animate:"visible",whileHover:!h&&!f?"hover":void 0,layout:!0,transition:{layout:{type:"spring",stiffness:300,damping:30}},children:[l(z.svg,{ref:O,width:"100%",height:"100%",viewBox:`0 0 ${Rn} ${Rn}`,preserveAspectRatio:"xMidYMid meet",className:"circular-slider-svg",onMouseDown:!f&&!p?te:void 0,onTouchStart:!f&&!p?qe:void 0,style:{position:"absolute",top:0,left:0,cursor:f||p?"default":K?"grabbing":"grab",pointerEvents:f||p?"none":"auto",transform:"translateZ(0)",backfaceVisibility:"hidden"},variants:Nv,initial:"hidden",animate:"visible",children:[l("circle",{cx:vt,cy:_t,r:Ce,fill:"none",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:Ce*.086}),Ee(),dt()]}),l("div",{className:"circular-content",style:{position:"absolute",inset:0,zIndex:2,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},children:[l(L5,{isOn:j,onChange:fe,disabled:h,size:C,show:g}),l(T5,{value:L,animatedValue:Ve,displayValue:r,subValue:o,unit:a,showUnit:c,label:s,size:C,isDragging:K,valueRef:H,scrollOffset:N})]}),l("style",{children:`
        @media (prefers-reduced-motion: reduce) {
          .circular-slider-container *,
          .circular-slider-container *::before,
          .circular-slider-container *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
          }
        }
      `})]})},P5=({data:t,lang:e="de"})=>{const[n,i]=E(0),[s,r]=E(null),[o,a]=E(!1),[c,d]=E(320);G(()=>{const k=()=>{const w=window.innerWidth;let C;w<=768?C=180:C=256,d(C)};return k(),window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]),G(()=>{const k=setTimeout(()=>{a(!0)},100);return()=>clearTimeout(k)},[]),G(()=>{const k=setInterval(()=>{i(w=>(w+1)%t.length)},5e3);return()=>clearInterval(k)},[t]);const u=t[n],h=k=>{r(k.touches[0].clientX)},f=k=>{if(!s)return;const w=k.changedTouches[0].clientX,C=s-w;Math.abs(C)>50&&(C>0?i(x=>(x+1)%t.length):i(x=>(x-1+t.length)%t.length)),r(null)},p=320,y=p*.4375,g=p/2,m=p/2,b=2*Math.PI*y,v=(u.value-u.min)/(u.max-u.min),_=b-v*b;return l("div",{className:`circular-slider-container solar-carousel ${o?"visible":""}`,onTouchStart:h,onTouchEnd:f,style:{width:`${c}px`,height:`${c}px`},children:[l("svg",{width:"100%",height:"100%",viewBox:`0 0 ${p} ${p}`,preserveAspectRatio:"xMidYMid meet",className:"circular-slider-svg",children:[l("circle",{cx:g,cy:m,r:y,fill:"none",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:y*.086}),l("circle",{cx:g,cy:m,r:y,fill:"none",stroke:u.color,strokeWidth:y*.086,strokeDasharray:b,strokeDashoffset:_,strokeLinecap:"round",transform:`rotate(-90 ${g} ${m})`,style:{transition:"stroke-dashoffset 0.5s ease"}})]}),l("div",{className:"circular-content",children:l("div",{className:"value-container",children:[l("div",{className:"value-wrapper",children:[l("span",{className:"circular-value",children:u.value}),l("span",{className:"circular-unit",children:u.unit})]}),u.subValue&&l("div",{className:"circular-sub-value",children:u.subValue}),l("div",{className:"circular-label",children:u.label})]})}),l("div",{className:"carousel-dots",children:t.map((k,w)=>l("div",{className:`dot ${w===n?"active":""}`,onClick:()=>i(w)},w))})]})},Kd={light:(t,e,n,i)=>{if(e){const s=n&&n>0?Math.round(n/100*255):255;i("turn_on",{brightness:s}),t.attributes&&(t.attributes.brightness=s),t.entity?.attributes&&(t.entity.attributes.brightness=s)}else i("turn_off",{});t.state!==void 0&&(t.state=e?"on":"off"),t.entity?.state!==void 0&&(t.entity.state=e?"on":"off")},switch:(t,e,n,i)=>{i(e?"turn_on":"turn_off",{}),t.state!==void 0&&(t.state=e?"on":"off"),t.entity?.state!==void 0&&(t.entity.state=e?"on":"off")},climate:(t,e,n,i)=>{const s=e?"heat_cool":"off";i("set_hvac_mode",{hvac_mode:s}),t.state!==void 0&&(t.state=s),t.entity?.state!==void 0&&(t.entity.state=s)},media_player:(t,e,n,i)=>{i(e?"media_play":"media_pause",{}),t.state!==void 0&&(t.state=e?"playing":"paused"),t.entity?.state!==void 0&&(t.entity.state=e?"playing":"paused")},fan:(t,e,n,i)=>{i(e?"turn_on":"turn_off",{}),t.state!==void 0&&(t.state=e?"on":"off"),t.entity?.state!==void 0&&(t.entity.state=e?"on":"off")},vacuum:(t,e,n,i)=>{i(e?"start":"return_to_base",{}),t.state!==void 0&&(t.state=e?"cleaning":"docked"),t.entity?.state!==void 0&&(t.entity.state=e?"cleaning":"docked")},scene:(t,e,n,i)=>{e&&i("turn_on",{}),t.state!==void 0&&(t.state=e?"on":"off"),t.entity?.state!==void 0&&(t.entity.state=e?"on":"off")},script:(t,e,n,i)=>{i(e?"turn_on":"turn_off",{}),t.state!==void 0&&(t.state=e?"on":"off"),t.entity?.state!==void 0&&(t.entity.state=e?"on":"off")},automation:(t,e,n,i)=>{i(e?"turn_on":"turn_off",{}),t.state!==void 0&&(t.state=e?"on":"off"),t.entity?.state!==void 0&&(t.entity.state=e?"on":"off")},default:(t,e,n,i)=>{e?i("turn_on",{}):i("turn_off",{})}},I5=(t,e,n,i,s)=>(Kd[t]||Kd.default)(e,n,i,s),R5={light:(t,e,n,i,s)=>{n(e),(!t.state||t.state==="off"&&e>0)&&(i(!0),t.state&&(t.state="on"),t.entity?.state&&(t.entity.state="on"));const r=Math.round(e/100*255);t.attributes&&(t.attributes.brightness=r),t.entity?.attributes&&(t.entity.attributes.brightness=r),s("turn_on",{brightness:r})},climate:(t,e,n,i,s)=>{const r=Math.round(e);t.attributes&&(t.attributes.temperature=r),t.entity?.attributes&&(t.entity.attributes.temperature=r),s("set_temperature",{temperature:r})},cover:(t,e,n,i,s)=>{s("set_cover_position",{position:Math.round(e)})},media_player:(t,e,n,i,s)=>{s("volume_set",{volume_level:e/100})},fan:(t,e,n,i,s)=>{s("set_percentage",{percentage:Math.round(e)})}},O5=(t,e,n,i,s,r)=>{const o=R5[t];o&&o(e,n,i,s,r)},V5=(t,e,n)=>{const[i,s]=E(null),[r,o]=E(null),[a,c]=E(null);return G(()=>{const u=t?.entity_id?e?.states?.[t.entity_id]||t:null;if(!u)return;const h=u.state,p=(u.attributes||{}).brightness;n==="light"||n==="switch"||n==="fan"?(s(h==="on"),n==="light"&&h==="on"&&p&&o(Math.round(p/255*100))):n==="climate"?s(h!=="off"):n==="media_player"?s(h!=="off"&&h!=="unavailable"):n==="lock"&&c(h)},[e,t?.entity_id,n]),{localPowerState:i,setLocalPowerState:s,lastBrightness:r,setLastBrightness:o,lockState:a,setLockState:c}},B5=({control:t,index:e,expandedControl:n,onToggleExpandable:i,onServiceCall:s,disabled:r})=>{const o=t.expandable&&n===t.id,a=()=>{t.disabled||(t.action&&s(t.action,t.data),t.expandable&&i(t.id))};return l("div",{className:"control-button-wrapper",children:[l(z.button,{className:`control-button ${t.active?"active":""} ${o?"expanded":""} ${t.disabled?"disabled":""}`,"data-tooltip":t.label,onClick:a,title:t.label,style:{animationDelay:`${e*50}ms`,"--hover-scale":t.expandable?"1.05":"1.1"},disabled:t.disabled,variants:Cv,initial:"initial",whileHover:"hover",whileTap:"tap",children:l("span",{className:"button-icon",dangerouslySetInnerHTML:{__html:t.icon}})}),l("span",{className:"button-label",children:t.label})]})};class tt{constructor(e,n){this.element=e,this.data=n.data||[],this.lineHeight=n.lineHeight||30,this.selected=n.selected||0,this.callback=n.callback||function(){},this.scrollTimer=null,this.lastVisibleRange={start:-1,end:-1},this.init()}init(){this.element.innerHTML="",this.element.className="picker-wrapper";const e=document.createElement("div");e.className="clone-scroller";const n=document.createElement("div");n.className="picker-up";const i=document.createElement("div");i.className="picker-down";const s=document.createElement("div");s.className="picker-scroller",this.data.forEach((o,a)=>{const c=document.createElement("div");c.className="option",c.textContent=o,c.style.height=`${this.lineHeight}px`,c.style.lineHeight=`${this.lineHeight}px`,e.appendChild(c);const d=document.createElement("div");d.className="option is-hidden",d.textContent=o,d.style.transform=`rotateX(-${22.5*a}deg) translateZ(90px)`,s.appendChild(d)}),this.element.appendChild(e),this.element.appendChild(n),this.element.appendChild(i),this.element.appendChild(s),this.element.style.height=`${this.lineHeight*7}px`,this.element.style.lineHeight=`${this.lineHeight}px`,e.style.paddingTop=`${this.lineHeight*3}px`,e.style.paddingBottom=`${this.lineHeight*3}px`,s.style.paddingTop=`${this.lineHeight*3}px`,s.style.paddingBottom=`${this.lineHeight*3}px`,n.style.height=`${this.lineHeight*3}px`,i.style.height=`${this.lineHeight*3}px`,i.style.top=`${this.lineHeight*4}px`,this.cloneScroller=e,this.pickerScroller=s,this.options=Array.from(s.querySelectorAll(".option"));const r=this.selected*22.5;this.pickerScroller.style.transform=`translate3d(0, 0, -90px) rotateX(${r}deg)`,this.cloneScroller.scrollTop=this.lineHeight*this.selected,this.bindEvents(),this.updateRotation()}bindEvents(){let e=null;this.cloneScroller.addEventListener("scroll",()=>{e&&cancelAnimationFrame(e),e=requestAnimationFrame(()=>this.updateRotation()),this.scrollTimer&&clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(()=>this.onScrollStop(),150)},{passive:!0})}updateRotation(){const e=this.cloneScroller.scrollTop,n=22.5/this.lineHeight*e;this.pickerScroller.style.transform=`translate3d(0, 0, -90px) rotateX(${n}deg)`;const i=Math.round(n/22.5),s=7,r=Math.max(0,i-s),o=Math.min(this.options.length-1,i+s);for(let a=0;a<this.options.length;a++)a===i?this.options[a].classList.add("is-center"):this.options[a].classList.remove("is-center");if(!(this.lastVisibleRange.start===r&&this.lastVisibleRange.end===o)){for(let a=this.lastVisibleRange.start;a<=this.lastVisibleRange.end;a++)(a<r||a>o)&&a>=0&&this.options[a].classList.add("is-hidden");for(let a=r;a<=o;a++)(a<this.lastVisibleRange.start||a>this.lastVisibleRange.end)&&this.options[a].classList.remove("is-hidden");this.lastVisibleRange={start:r,end:o}}}onScrollStop(){const e=this.cloneScroller.scrollTop,n=Math.round(e/this.lineHeight)*this.lineHeight;this.smoothScrollTo(n);const i=Math.round(n/this.lineHeight);this.callback&&this.data[i]&&this.callback(i,this.data[i])}smoothScrollTo(e){const n=this.cloneScroller.scrollTop,i=e-n;if(Math.abs(i)<1){this.cloneScroller.scrollTop=e;return}const s=250,r=performance.now(),o=a=>{const c=a-r,d=Math.min(c/s,1),u=this.easeOutQuint(d);this.cloneScroller.scrollTop=n+i*u,d<1?requestAnimationFrame(o):this.cloneScroller.scrollTop=e};requestAnimationFrame(o)}easeOutQuint(e){return 1+--e*e*e*e*e}getCurrentValue(){const e=Math.round(this.cloneScroller.scrollTop/this.lineHeight);return this.data[e]}}class $5{constructor(e,n,i={}){this.hoursElement=e,this.minutesElement=n,this.minuteStep=i.minuteStep||5,this.initialHour=i.initialHour||"00",this.initialMinute=i.initialMinute||"00",this.callback=i.callback||function(){},this.lineHeight=i.lineHeight||30,this.hourMode=i.hourMode||"24h",this.selectedHour=this.initialHour,this.selectedMinute=this.initialMinute,this.init()}init(){const e=this.generateMinutes(this.minuteStep);this.minutesPicker=new tt(this.minutesElement,{data:e,lineHeight:this.lineHeight,selected:e.indexOf(this.selectedMinute),callback:(n,i)=>{this.selectedMinute=i,this.updateValue()}}),this.reinitHours(),this.updateValue()}reinitHours(){const e=this.generateHours();e.includes(this.selectedHour)||(this.hourMode==="24h"?this.selectedHour="00":this.selectedHour="12"),this.hoursPicker=new tt(this.hoursElement,{data:e,lineHeight:this.lineHeight,selected:e.indexOf(this.selectedHour),callback:(n,i)=>{this.selectedHour=i,this.updateValue()}})}generateHours(){return this.hourMode==="24h"?Array.from({length:24},(e,n)=>this.formatNumber(n)):["12","01","02","03","04","05","06","07","08","09","10","11"]}generateMinutes(e){return Array.from({length:60/e},(n,i)=>this.formatNumber(i*e))}formatNumber(e){return e.toString().padStart(2,"0")}updateValue(){let e=`${this.selectedHour}:${this.selectedMinute}`;this.hourMode==="AM"?e=`${this.selectedHour}:${this.selectedMinute} AM`:this.hourMode==="PM"&&(e=`${this.selectedHour}:${this.selectedMinute} PM`),this.callback(this.selectedHour,this.selectedMinute,e)}setHourMode(e){if(this.hourMode===e)return;const n=this.hourMode;let i=parseInt(this.selectedHour);n==="AM"?i===12&&(i=0):n==="PM"&&i!==12&&(i+=12),this.hourMode=e,e==="24h"?this.selectedHour=this.formatNumber(i):e==="AM"?i===0?this.selectedHour="12":i<=11?this.selectedHour=this.formatNumber(i):i===12?this.selectedHour="12":this.selectedHour=this.formatNumber(i-12):e==="PM"&&(i===0?this.selectedHour="12":i<=11?this.selectedHour=this.formatNumber(i):i===12?this.selectedHour="12":this.selectedHour=this.formatNumber(i-12)),this.reinitHours(),this.updateValue()}setTime(e,n){const i=e.toString().padStart(2,"0"),s=n.toString().padStart(2,"0");this.selectedHour=i,this.selectedMinute=s;const r=this.generateHours(),o=this.generateMinutes(this.minuteStep),a=r.indexOf(i),c=o.indexOf(s);if(a>=0&&this.hoursPicker){const d=a*this.lineHeight;this.hoursPicker.cloneScroller.scrollTop=d,this.hoursPicker.updateRotation()}if(c>=0&&this.minutesPicker){const d=c*this.lineHeight;this.minutesPicker.cloneScroller.scrollTop=d,this.minutesPicker.updateRotation()}this.updateValue()}getValue(){return{hour:this.selectedHour,minute:this.selectedMinute,formatted:`${this.selectedHour}:${this.selectedMinute}`}}}class z5{constructor(e,n){this.element=e,this.data=n.data||[],this.lineHeight=n.lineHeight||30,this.selectedDays=n.selectedDays||[],this.callback=n.callback||function(){},this.scrollTimer=null,this.lastVisibleRange={start:-1,end:-1},this.currentIndex=0,this.lastCenterIndex=-1,this.init()}init(){this.element.innerHTML="",this.element.className="picker-wrapper";const e=document.createElement("div");e.className="clone-scroller";const n=document.createElement("div");n.className="picker-up";const i=document.createElement("div");i.className="picker-down";const s=document.createElement("div");s.className="picker-scroller";const r=document.createElement("button");r.className="multi-select-button is-hidden",this.selectButton=r,this.data.forEach((o,a)=>{const c=document.createElement("div");c.className="option",c.textContent=o,c.style.height=`${this.lineHeight}px`,c.style.lineHeight=`${this.lineHeight}px`,e.appendChild(c);const d=document.createElement("div");d.className="option is-hidden",d.dataset.index=a,d.style.transform=`rotateX(-${22.5*a}deg) translateZ(90px)`;const u=document.createElement("div");u.className="multi-select-option",this.selectedDays.includes(o)&&u.classList.add("active"),u.textContent=o,d.appendChild(u),s.appendChild(d)}),this.element.appendChild(e),this.element.appendChild(n),this.element.appendChild(i),this.element.appendChild(s),this.element.appendChild(r),this.element.style.height=`${this.lineHeight*7}px`,this.element.style.lineHeight=`${this.lineHeight}px`,e.style.paddingTop=`${this.lineHeight*3}px`,e.style.paddingBottom=`${this.lineHeight*3}px`,s.style.paddingTop=`${this.lineHeight*3}px`,s.style.paddingBottom=`${this.lineHeight*3}px`,n.style.height=`${this.lineHeight*3}px`,i.style.height=`${this.lineHeight*3}px`,i.style.top=`${this.lineHeight*4}px`,this.cloneScroller=e,this.pickerScroller=s,this.options=Array.from(s.querySelectorAll(".option")),this.cloneScroller.scrollTop=0,this.bindEvents(),this.updateRotation()}bindEvents(){let e=null;this.cloneScroller.addEventListener("scroll",()=>{this.selectButton.classList.add("is-hidden"),e&&cancelAnimationFrame(e),e=requestAnimationFrame(()=>this.updateRotation()),this.scrollTimer&&clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(()=>this.onScrollStop(),200)},{passive:!0}),this.selectButton.addEventListener("click",n=>{n.stopPropagation(),this.toggleCurrentDay()})}toggleCurrentDay(){const e=this.data[this.currentIndex],n=this.options[this.currentIndex].querySelector(".multi-select-option");this.selectedDays.includes(e)?(this.selectedDays=this.selectedDays.filter(i=>i!==e),n.classList.remove("active")):(this.selectedDays.push(e),n.classList.add("active")),this.updateButtonState(),this.updateValueDisplay()}updateValueDisplay(){const e=["Mo","Di","Mi","Do","Fr"],n=["Sa","So"],i=[...e,...n];let s="Keine";this.selectedDays.length===7?s="TÃ¤glich":e.every(o=>this.selectedDays.includes(o))&&!n.some(o=>this.selectedDays.includes(o))?s="Mo-Fr":n.every(o=>this.selectedDays.includes(o))&&!e.some(o=>this.selectedDays.includes(o))?s="Sa, So":this.selectedDays.length>0&&(s=this.selectedDays.sort((o,a)=>i.indexOf(o)-i.indexOf(a)).join(", "));const r=document.querySelector(".value-line-4");r&&(r.textContent=s),this.callback(this.selectedDays,s)}updateButtonState(){const e=this.data[this.currentIndex];this.selectedDays.includes(e)?(this.selectButton.textContent="AbwÃ¤hlen",this.selectButton.classList.add("deselect")):(this.selectButton.textContent="AuswÃ¤hlen",this.selectButton.classList.remove("deselect")),this.selectButton.classList.remove("is-hidden")}updateRotation(){const e=this.cloneScroller.scrollTop,n=22.5/this.lineHeight*e;this.pickerScroller.style.transform=`translate3d(0, 0, -90px) rotateX(${n}deg)`;const i=Math.round(n/22.5);this.currentIndex=i;const s=7,r=Math.max(0,i-s),o=Math.min(this.options.length-1,i+s);if(!(this.lastVisibleRange.start===r&&this.lastVisibleRange.end===o)){for(let a=this.lastVisibleRange.start;a<=this.lastVisibleRange.end;a++)(a<r||a>o)&&a>=0&&(this.options[a].classList.add("is-hidden"),this.options[a].classList.remove("is-center"));for(let a=r;a<=o;a++)(a<this.lastVisibleRange.start||a>this.lastVisibleRange.end)&&this.options[a].classList.remove("is-hidden"),a===i?this.options[a].classList.add("is-center"):this.options[a].classList.remove("is-center");this.lastVisibleRange={start:r,end:o}}}onScrollStop(){const e=this.cloneScroller.scrollTop,n=Math.round(e/this.lineHeight)*this.lineHeight;this.smoothScrollTo(n,()=>{this.updateButtonState()})}smoothScrollTo(e,n=()=>{}){const i=this.cloneScroller.scrollTop,s=e-i;if(Math.abs(s)<1){this.cloneScroller.scrollTop=e,n();return}const r=250,o=performance.now(),a=c=>{const d=c-o,u=Math.min(d/r,1),h=this.easeOutQuint(u);this.cloneScroller.scrollTop=i+s*h,u<1?requestAnimationFrame(a):(this.cloneScroller.scrollTop=e,n())};requestAnimationFrame(a)}easeOutQuint(e){return 1+--e*e*e*e*e}}const H5=({item:t,lang:e="de"})=>{const[n,i]=E("Auto"),[s,r]=E("Auto"),[o,a]=E("Auto"),[c,d]=E(!1);G(()=>{const y=setTimeout(()=>d(!0),50);return()=>clearTimeout(y)},[]);const u={fanSpeed:J(null),horizontal:J(null),vertical:J(null)},h=J({});G(()=>{const y=setTimeout(()=>{if(console.log("ð§ Initializing Climate Pickers..."),u.fanSpeed.current&&!h.current.fanSpeed)try{new tt(u.fanSpeed.current,{data:["Auto","1","2","3","4","5"],lineHeight:30,selected:0,callback:(g,m)=>{console.log("Fan Speed changed:",m),i(m);const b=document.querySelector(".value-line-1");b&&(b.textContent=m)}}),h.current.fanSpeed=!0,console.log("â Fan Speed Picker initialized")}catch(g){console.error("â Error initializing Fan Speed Picker:",g)}if(u.horizontal.current&&!h.current.horizontal)try{new tt(u.horizontal.current,{data:["Auto","Links","2","3","4","Rechts","Split","Swing"],lineHeight:30,selected:0,callback:(g,m)=>{console.log("Horizontal changed:",m),r(m);const b=document.querySelector(".value-line-2");b&&(b.textContent=m)}}),h.current.horizontal=!0,console.log("â Horizontal Picker initialized")}catch(g){console.error("â Error initializing Horizontal Picker:",g)}if(u.vertical.current&&!h.current.vertical)try{new tt(u.vertical.current,{data:["Auto","Oben","2","3","4","Unten","Swing"],lineHeight:30,selected:0,callback:(g,m)=>{console.log("Vertical changed:",m),a(m);const b=document.querySelector(".value-line-3");b&&(b.textContent=m)}}),h.current.vertical=!0,console.log("â Vertical Picker initialized")}catch(g){console.error("â Error initializing Vertical Picker:",g)}},300);return()=>clearTimeout(y)},[e]);const f=y=>{console.log("ð±ï¸ Row clicked:",y);const g=document.getElementById(`picker-container-line-${y}`);if(!g){console.warn("â ï¸ Picker container not found for line:",y);return}const m=getComputedStyle(g).display==="none";console.log("ð¦ Picker state:",m?"Opening":"Closing"),document.querySelectorAll("div.picker").forEach(b=>{getComputedStyle(b).display!=="none"&&b!==g&&p(b,!1)}),p(g,m)},p=(y,g)=>{g?(y.style.display="block",y.animate([{height:"0px",opacity:0,transform:"translateY(-3px)"},{height:"210px",opacity:1,transform:"translateY(0px)"}],{duration:150,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fill:"forwards"}).onfinish=()=>{y.style.height="210px",y.style.opacity="1"}):y.animate([{height:"210px",opacity:1,transform:"translateY(0px)"},{height:"0px",opacity:0,transform:"translateY(-3px)"}],{duration:120,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fill:"forwards"}).onfinish=()=>{y.style.display="none"}};return l("div",{className:`climate-picker-tab ${c?"visible":""}`,children:[l("style",{children:`
        .climate-picker-tab {
          padding: 0px;
          opacity: 0;
          transform: translateY(10px);
          transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .climate-picker-tab.visible {
          opacity: 1;
          transform: translateY(0);
        }

        /* Picker Table Container */
        .picker-table-container {
          margin-top: 0;
          margin-bottom: 20px;
          background: rgba(0, 0, 0, 0.25);
          backdrop-filter: blur(20px);
          -webkit-backdrop-filter: blur(20px);
          border: 0px solid rgba(255, 255, 255, 0.1);
          border-radius: 12px;
          overflow: hidden;
          animation: slideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(40px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        /* UPDATED: Konsistente Table Styles mit ScheduleTab */
        table { 
          width: 100%; 
          font-size: 15px;
          border-collapse: collapse;
          font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
          letter-spacing: normal;
        }
        
        table th { 
          text-align: left; 
          font-weight: 500; /* Medium weight wie im Screenshot */
          height: 45px; 
          border-bottom: 1px solid rgba(255, 255, 255, 0.1); 
          padding: 0 16px; 
          cursor: pointer; 
          color: rgba(255, 255, 255, 0.95); /* Heller wie im Screenshot */
          letter-spacing: normal;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }
        
        table td { 
          text-align: right; 
          font-weight: 500; /* Medium weight fÃ¼r value-line auch */
          color: rgba(255, 255, 255, 0.7); /* Heller wie im Screenshot */
          border-bottom: 1px solid rgba(255, 255, 255, 0.1); 
          padding: 0 16px; 
          cursor: pointer;
          letter-spacing: normal;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }
        
        /* Timer-Zeile (data-line="3") ohne Border */
        tr[data-line="3"] th,
        tr[data-line="3"] td {
          border-bottom: none !important;
        }
        table td.picker { border: none; cursor: default; padding: 0; }
        /* Picker ohne Border wenn versteckt */
        div.picker { 
          display: none; 
          overflow: hidden; 
          border-bottom: 0px solid rgba(255, 255, 255, 0.1);
        }
        /* Border nur bei sichtbaren/geÃ¶ffneten Pickern, aber nie beim letzten */
        div.picker[style*="block"] {
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        /* Der letzte Picker (Timer/Zeitplan) hat NIE einen Border */
        #picker-container-line-6,
        #picker-container-line-6[style*="block"] { 
          border-bottom: none !important; 
        }
        .picker-wrapper, .picker-wrapper * { box-sizing: border-box; -webkit-user-select: none; user-select: none; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }
        .picker-wrapper { text-align: center; position: relative; height: 210px; display: inline-block; line-height: 30px; width: 100%; font-size: 18px; perspective: 1000px; perspective-origin: center center; }
        .picker-scroller { transform: translateZ(-90px) rotateX(0deg); transform-style: preserve-3d; height: 100%; will-change: transform; }
        .picker-scroller .option { position: absolute; backface-visibility: hidden; width: 100%; color: rgba(255, 255, 255, 0.4); transform-origin: 50% 50%; transform-style: preserve-3d; opacity: 1; transition: opacity 0.2s, color 0.2s; pointer-events: auto; }
        .picker-scroller .option.is-hidden { opacity: 0; pointer-events: none; }
        .picker-scroller .option.is-center { color: rgba(255, 255, 255, 0.9); }
        .picker-up { position: absolute; top: 0; z-index: 2; background: linear-gradient(to bottom, rgba(0, 0, 0, 0.25) 0%, rgba(0, 0, 0, 0) 100%); width: 100%; height: 90px; border-bottom: 1px solid rgba(255, 255, 255, 0.3); pointer-events: none; }
        .picker-down { position: absolute; top: 120px; z-index: 2; background: linear-gradient(to top, rgba(0, 0, 0, 0.25) 0%, rgba(0, 0, 0, 0) 100%); width: 100%; height: 90px; border-top: 1px solid rgba(255, 255, 255, 0.3); pointer-events: none; }
        .clone-scroller { z-index: 5; overflow: auto; height: 100%; position: absolute; top: 0; width: 100%; padding-top: 90px; padding-bottom: 90px; scrollbar-width: none; -ms-overflow-style: none; }
        .clone-scroller::-webkit-scrollbar { display: none; }
        .clone-scroller .option { visibility: hidden; }
        .clickable-row { cursor: pointer; }
        .time-picker-container { 
          display: flex; 
          justify-content: center; 
          align-items: center; 
          width: 100%; 
          gap: 0; 
          margin: 0;
          padding: 0;
        }
        .time-picker-container > div:first-child { 
          flex: 1; 
          max-width: 50%; 
        }
        .time-picker-container > div:last-child { 
          flex: 1; 
          max-width: 50%; 
        }
        .time-picker-separator { 
          flex: 0 0 20px; 
          display: flex; 
          justify-content: center; 
          align-items: center; 
          width: 20px; 
          height: 210px;
          position: relative;
          background: linear-gradient(to bottom, 
            rgba(0, 0, 0, 0.25) 0%, 
            rgba(0, 0, 0, 0) 42.86%,
            rgba(0, 0, 0, 0) 57.14%,
            rgba(0, 0, 0, 0.25) 100%);
        }
        
        .time-picker-separator::before {
          content: '';
          position: absolute;
          top: 89px;
          left: 0;
          right: 0;
          height: 1px;
          background: rgba(255, 255, 255, 0.2);
          z-index: 2;
        }
        
        .time-picker-separator::after {
          content: '';
          position: absolute;
          top: 120px;
          left: 0;
          right: 0;
          height: 1px;
          background: rgba(255, 255, 255, 0.2);
          z-index: 2;
        }
        
        .time-picker-separator svg { 
          width: 8px; 
          height: 16px; 
          fill: rgba(255, 255, 255, 0.6); 
          transform: translateY(0px); 
          position: relative;
          z-index: 3;
        }
        
        .multi-select-option { display: flex; align-items: center; justify-content: center; width: 100%; height: 100%; font-size: 20px; font-weight: 500; transition: color 0.3s ease, transform 0.15s ease; }
        .multi-select-option.active { color: #34c759; font-weight: 600; }
        .picker-scroller .option.is-center { z-index: 10; }
        .picker-scroller .option.is-center .multi-select-option { transform: scale(1.05); }
        .multi-select-button { position: absolute; bottom: 15px; left: 50%; transform: translateX(-50%); z-index: 15; padding: 8px 20px; font-size: 14px; font-weight: 600; border: none; border-radius: 20px; cursor: pointer; background-color: #007aff; color: white; box-shadow: 0 2px 10px rgba(0,0,0,0.1); transition: opacity 0.2s, background-color 0.2s; }
        .multi-select-button.deselect { background-color: #ff3b30; }
        .multi-select-button.is-hidden { opacity: 0; pointer-events: none; }

        /* Picker Action Buttons */
        .picker-actions {
          display: flex;
          gap: 12px;
          margin-top: 20px;
          animation: slideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .picker-btn {
          flex: 1;
          padding: 14px;
          border-radius: 12px;
          border: none;
          font-size: 16px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .picker-btn.cancel {
          background: rgba(255, 255, 255, 0.1);
          color: white;
        }

        .picker-btn.confirm {
          background: linear-gradient(135deg, rgb(0, 145, 255), rgb(0, 145, 255));
          color: white;
        }

        .picker-btn.confirm.disabled {
          background: rgba(128, 128, 128, 0.3);
          color: rgba(255, 255, 255, 0.5);
          cursor: not-allowed;
          pointer-events: none;
        }

        .picker-btn:hover {
          transform: translateY(-1px);
        }

        .picker-btn:active {
          transform: scale(0.98);
        }
      `}),l("div",{className:"picker-table-container",children:l("table",{children:[l("tr",{className:"clickable-row","data-line":"1",onClick:()=>f("1"),children:[l("th",{children:$("controls.fanSpeed",e)}),l("td",{className:"value-line-1",children:n})]}),l("tr",{children:l("td",{className:"picker",colspan:"2",children:l("div",{className:"picker",id:"picker-container-line-1",children:l("div",{id:"picker-line-1",ref:u.fanSpeed})})})}),l("tr",{className:"clickable-row","data-line":"2",onClick:()=>f("2"),children:[l("th",{children:$("controls.horizontalOscillation",e)}),l("td",{className:"value-line-2",children:s})]}),l("tr",{children:l("td",{className:"picker",colspan:"2",children:l("div",{className:"picker",id:"picker-container-line-2",children:l("div",{id:"picker-line-2",ref:u.horizontal})})})}),l("tr",{className:"clickable-row","data-line":"3",onClick:()=>f("3"),children:[l("th",{children:$("controls.verticalOscillation",e)}),l("td",{className:"value-line-3",children:o})]}),l("tr",{children:l("td",{className:"picker",colspan:"2",children:l("div",{className:"picker",id:"picker-container-line-3",children:l("div",{id:"picker-line-3",ref:u.vertical})})})})]})}),l("div",{className:"picker-actions",children:l("button",{className:"picker-btn confirm",onClick:()=>{console.log("Climate settings:",{fanSpeed:n,horizontal:s,vertical:o})},children:$("controls.apply",e)})})]})},W5=({group:t,expandedControl:e,activePreset:n,onPresetSelect:i,onServiceCall:s,item:r,lang:o})=>e!==t.id?null:l($e,{mode:"wait",children:l(z.div,{className:`control-presets visible ${t.grouped?"grouped":""}`,variants:Dv,initial:"hidden",animate:"visible",exit:"hidden",children:t.renderCustom&&t.id==="settings"&&r?.domain==="climate"?l(H5,{item:r,lang:o}):l("div",{className:"presets-scroll-container",children:t.grouped?l(ae,{children:t.items.map((a,c)=>a.type==="header"?l("div",{className:"preset-header",children:a.label},`header-${c}`):l(z.button,{className:`preset-button ${n===`${t.id}-${c}`?"active":""}`,variants:Rd,initial:"initial",whileHover:"hover",whileTap:"tap","data-tooltip":a.label,onClick:()=>{i(`${t.id}-${c}`),s(a.service,a.data)},style:{...a.style,animationDelay:`${c*30}ms`},title:a.label,children:a.icon?l("span",{style:{fontSize:"32px"},children:a.icon}):l("span",{className:"preset-text",children:a.label})},c))}):t.items.map((a,c)=>l(z.button,{className:`preset-button ${n===`${t.id}-${c}`?"active":""}`,"data-tooltip":a.label,variants:Rd,initial:"initial",whileHover:"hover",whileTap:"tap",onClick:()=>{i(`${t.id}-${c}`),s(t.service,a.data)},style:{...a.style,animationDelay:`${c*30}ms`},title:a.label,children:a.icon?l("span",{style:{fontSize:"32px"},children:a.icon}):a.customIcon?l("span",{className:"preset-icon",dangerouslySetInnerHTML:{__html:a.customIcon}}):l(ae,{children:l("span",{className:"preset-text",children:a.label})})},c))})})}),Yd=({item:t,onServiceCall:e,lang:n="de",hass:i})=>{const[s,r]=E(null),[o,a]=E(null),[c,d]=E(!1),[u,h]=E(!1),[f,p]=E(!1),[y,g]=E(!1),{localPowerState:m,setLocalPowerState:b,lastBrightness:v,setLastBrightness:_,lockState:k,setLockState:w}=V5(t,i,t?.domain),C=J(null),x=J(null),S=L=>$(`controls.${L}`,n);G(()=>{const L=requestAnimationFrame(()=>{const P=setTimeout(()=>{d(!0)},50);return()=>clearTimeout(P)});return()=>cancelAnimationFrame(L)},[]),G(()=>{const L=window.matchMedia("(max-width: 768px)");h(L.matches);const P=I=>h(I.matches);return L.addEventListener("change",P),()=>L.removeEventListener("change",P)},[]);const R=Le(()=>{if(t?.domain==="lock"&&k){const L={...t,state:k,entity:t.entity?{...t.entity,state:k}:void 0};return jd(L,n)}return jd(t,n)},[t,n,k]),N=Le(()=>{if(t?.domain==="lock"&&k){const P={...t,state:k,entity:t.entity?{...t.entity,state:k}:void 0};return Ud(P,n)}const L=Ud(t,n);return m!==null&&L.showPower&&(L.powerState=m),t?.domain==="light"&&!m&&v!==null?L.value=0:t?.domain==="light"&&m&&v!==null&&(L.value=v),L},[t,n,m,v,k]),F=(L,P={})=>{const I=t?.domain||"light",W={entity_id:t?.entity_id||t?.id,...P},j=Q0(I,L,W);if(I==="light"&&L==="turn_on"&&Object.keys(P).length===0&&(j.brightness=255),I==="lock"){const q=L==="lock"?"locked":"unlocked";t.state!==void 0&&(t.state=q),t.entity?.state!==void 0&&(t.entity.state=q),w(q)}e&&e(I,L,j)},O=L=>{O5(t?.domain,t,L,_,b,F)},T=L=>{b(L),I5(t?.domain,t,L,v,F)},H=L=>{s===L?(r(null),g(!1),p(!1)):(r(L),g(!0),p(!0))},A=t?.entity_id?.includes("solar")?[{value:5.2,min:0,max:10,unit:"kW",label:S("production"),color:"#FFC107"},{value:2.8,min:0,max:10,unit:"kW",label:S("consumption"),color:"#4CAF50"},{value:85,min:0,max:100,unit:"%",label:S("battery"),color:"#2196F3"}]:null;return l("div",{className:`controls-tab ${c?"visible":""} ${u?"compact-mode":""}`,children:l("div",{className:"device-control-design",children:[l($e,{mode:"wait",children:!f&&l(z.div,{ref:C,className:"slider-wrapper",variants:u?Tv:Lv,initial:"visible",animate:"visible",exit:"hidden",children:A?l(P5,{data:A,lang:n}):ei(N5,{...N,onValueChange:N.interactive?O:void 0,onPowerToggle:N.showPower?T:void 0,domain:t?.domain,key:t?.entity_id})},"slider-wrapper")}),R.primary&&R.primary.length>0&&l(z.div,{ref:x,className:"device-control-buttons",variants:Ev,initial:"normal",animate:y?"movedUp":"normal",children:[l("div",{className:"control-row primary",children:R.primary.map((L,P)=>l(B5,{control:L,index:P,expandedControl:s,onToggleExpandable:H,onServiceCall:F},P))}),R.expandable&&R.expandable.length>0&&R.expandable.map(L=>l(W5,{group:L,expandedControl:s,activePreset:o,onPresetSelect:a,onServiceCall:F,item:t,lang:n},L.id))]})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function vs(t){return t+.5|0}const tn=(t,e,n)=>Math.max(Math.min(t,n),e);function Mi(t){return tn(vs(t*2.55),0,255)}function on(t){return tn(vs(t*255),0,255)}function Ht(t){return tn(vs(t/2.55)/100,0,1)}function Zd(t){return tn(vs(t*100),0,100)}const gt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wa=[..."0123456789ABCDEF"],j5=t=>wa[t&15],U5=t=>wa[(t&240)>>4]+wa[t&15],Ps=t=>(t&240)>>4===(t&15),G5=t=>Ps(t.r)&&Ps(t.g)&&Ps(t.b)&&Ps(t.a);function K5(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&gt[t[1]]*17,g:255&gt[t[2]]*17,b:255&gt[t[3]]*17,a:e===5?gt[t[4]]*17:255}:(e===7||e===9)&&(n={r:gt[t[1]]<<4|gt[t[2]],g:gt[t[3]]<<4|gt[t[4]],b:gt[t[5]]<<4|gt[t[6]],a:e===9?gt[t[7]]<<4|gt[t[8]]:255})),n}const Y5=(t,e)=>t<255?e(t):"";function Z5(t){var e=G5(t)?j5:U5;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Y5(t.a,e):void 0}const q5=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function dp(t,e,n){const i=e*Math.min(n,1-n),s=(r,o=(r+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function X5(t,e,n){const i=(s,r=(s+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function J5(t,e,n){const i=dp(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function Q5(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function El(t){const n=t.r/255,i=t.g/255,s=t.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),a=(r+o)/2;let c,d,u;return r!==o&&(u=r-o,d=a>.5?u/(2-r-o):u/(r+o),c=Q5(n,i,s,u,r),c=c*60+.5),[c|0,d||0,a]}function Dl(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(on)}function Fl(t,e,n){return Dl(dp,t,e,n)}function e_(t,e,n){return Dl(J5,t,e,n)}function t_(t,e,n){return Dl(X5,t,e,n)}function up(t){return(t%360+360)%360}function n_(t){const e=q5.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Mi(+e[5]):on(+e[5]));const s=up(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=e_(s,r,o):e[1]==="hsv"?i=t_(s,r,o):i=Fl(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function i_(t,e){var n=El(t);n[0]=up(n[0]+e),n=Fl(n),t.r=n[0],t.g=n[1],t.b=n[2]}function s_(t){if(!t)return;const e=El(t),n=e[0],i=Zd(e[1]),s=Zd(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${Ht(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const qd={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Xd={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function r_(){const t={},e=Object.keys(Xd),n=Object.keys(qd);let i,s,r,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,qd[r]);r=parseInt(Xd[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let Is;function o_(t){Is||(Is=r_(),Is.transparent=[0,0,0,0]);const e=Is[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const a_=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function l_(t){const e=a_.exec(t);let n=255,i,s,r;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?Mi(o):tn(o*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?Mi(i):tn(i,0,255)),s=255&(e[4]?Mi(s):tn(s,0,255)),r=255&(e[6]?Mi(r):tn(r,0,255)),{r:i,g:s,b:r,a:n}}}function c_(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ht(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const xo=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Hn=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function d_(t,e,n){const i=Hn(Ht(t.r)),s=Hn(Ht(t.g)),r=Hn(Ht(t.b));return{r:on(xo(i+n*(Hn(Ht(e.r))-i))),g:on(xo(s+n*(Hn(Ht(e.g))-s))),b:on(xo(r+n*(Hn(Ht(e.b))-r))),a:t.a+n*(e.a-t.a)}}function Rs(t,e,n){if(t){let i=El(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Fl(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function hp(t,e){return t&&Object.assign(e||{},t)}function Jd(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=on(t[3]))):(e=hp(t,{r:0,g:0,b:0,a:1}),e.a=on(e.a)),e}function u_(t){return t.charAt(0)==="r"?l_(t):n_(t)}class es{constructor(e){if(e instanceof es)return e;const n=typeof e;let i;n==="object"?i=Jd(e):n==="string"&&(i=K5(e)||o_(e)||u_(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=hp(this._rgb);return e&&(e.a=Ht(e.a)),e}set rgb(e){this._rgb=Jd(e)}rgbString(){return this._valid?c_(this._rgb):void 0}hexString(){return this._valid?Z5(this._rgb):void 0}hslString(){return this._valid?s_(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,c=i.a-s.a,d=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;r=1-d,i.r=255&d*i.r+r*s.r+.5,i.g=255&d*i.g+r*s.g+.5,i.b=255&d*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=d_(this._rgb,e._rgb,n)),this}clone(){return new es(this.rgb)}alpha(e){return this._rgb.a=on(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=vs(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Rs(this._rgb,2,e),this}darken(e){return Rs(this._rgb,2,-e),this}saturate(e){return Rs(this._rgb,1,e),this}desaturate(e){return Rs(this._rgb,1,-e),this}rotate(e){return i_(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ot(){}const h_=(()=>{let t=0;return()=>t++})();function ue(t){return t==null}function Ae(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function he(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Pe(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function lt(t,e){return Pe(t)?t:e}function oe(t,e){return typeof t>"u"?e:t}const f_=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,fp=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ke(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ve(t,e,n,i){let s,r,o;if(Ae(t))for(r=t.length,s=0;s<r;s++)e.call(n,t[s],s);else if(he(t))for(o=Object.keys(t),r=o.length,s=0;s<r;s++)e.call(n,t[o[s]],o[s])}function Tr(t,e){let n,i,s,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],r=e[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Er(t){if(Ae(t))return t.map(Er);if(he(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=Er(t[n[s]]);return e}return t}function pp(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function p_(t,e,n,i){if(!pp(t))return;const s=e[t],r=n[t];he(s)&&he(r)?ts(s,r,i):e[t]=Er(r)}function ts(t,e,n){const i=Ae(e)?e:[e],s=i.length;if(!he(t))return t;n=n||{};const r=n.merger||p_;let o;for(let a=0;a<s;++a){if(o=i[a],!he(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)r(c[d],t,o,n)}return t}function zi(t,e){return ts(t,e,{merger:g_})}function g_(t,e,n){if(!pp(t))return;const i=e[t],s=n[t];he(i)&&he(s)?zi(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Er(s))}const Qd={"":t=>t,x:t=>t.x,y:t=>t.y};function m_(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function y_(t){const e=m_(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function cn(t,e){return(Qd[e]||(Qd[e]=y_(e)))(t)}function Nl(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ns=t=>typeof t<"u",dn=t=>typeof t=="function",eu=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function b_(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ye=Math.PI,Me=2*ye,v_=Me+ye,Dr=Number.POSITIVE_INFINITY,__=ye/180,Oe=ye/2,mn=ye/4,tu=ye*2/3,nn=Math.log10,It=Math.sign;function Hi(t,e,n){return Math.abs(t-e)<n}function nu(t){const e=Math.round(t);t=Hi(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(nn(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function w_(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,r)=>s-r).pop(),e}function k_(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function ii(t){return!k_(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function x_(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function gp(t,e,n){let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function kt(t){return t*(ye/180)}function Pl(t){return t*(180/ye)}function iu(t){if(!Pe(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function mp(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*ye&&(r+=Me),{angle:r,distance:s}}function ka(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function C_(t,e){return(t-e+v_)%Me-ye}function Je(t){return(t%Me+Me)%Me}function is(t,e,n,i){const s=Je(t),r=Je(e),o=Je(n),a=Je(r-s),c=Je(o-s),d=Je(s-r),u=Je(s-o);return s===r||s===o||i&&r===o||a>c&&d<u}function Ye(t,e,n){return Math.max(e,Math.min(n,t))}function S_(t){return Ye(t,-32768,32767)}function jt(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Il(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const Ut=(t,e,n,i)=>Il(t,n,i?s=>{const r=t[s][e];return r<n||r===n&&t[s+1][e]===n}:s=>t[s][e]<n),M_=(t,e,n)=>Il(t,n,i=>t[i][e]>=n);function A_(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const yp=["push","pop","shift","splice","unshift"];function L_(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),yp.forEach(n=>{const i="_onData"+Nl(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function su(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(yp.forEach(r=>{delete t[r]}),delete t._chartjs)}function bp(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const vp=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function _p(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,vp.call(window,()=>{i=!1,t.apply(e,n)}))}}function T_(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Rl=t=>t==="start"?"left":t==="end"?"right":"center",Xe=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,E_=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function wp(t,e,n){const i=e.length;let s=0,r=i;if(t._sorted){const{iScale:o,vScale:a,_parsed:c}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:p,maxDefined:y}=o.getUserBounds();if(p){if(s=Math.min(Ut(c,u,h).lo,n?i:Ut(e,u,o.getPixelForValue(h)).lo),d){const g=c.slice(0,s+1).reverse().findIndex(m=>!ue(m[a.axis]));s-=Math.max(0,g)}s=Ye(s,0,i-1)}if(y){let g=Math.max(Ut(c,o.axis,f,!0).hi+1,n?0:Ut(e,u,o.getPixelForValue(f),!0).hi+1);if(d){const m=c.slice(g-1).findIndex(b=>!ue(b[a.axis]));g+=Math.max(0,m)}r=Ye(g,s,i)-s}else r=i-s}return{start:s,count:r}}function kp(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const Os=t=>t===0||t===1,ru=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Me/n)),ou=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Me/n)+1,Wi={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Oe)+1,easeOutSine:t=>Math.sin(t*Oe),easeInOutSine:t=>-.5*(Math.cos(ye*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Os(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Os(t)?t:ru(t,.075,.3),easeOutElastic:t=>Os(t)?t:ou(t,.075,.3),easeInOutElastic(t){return Os(t)?t:t<.5?.5*ru(t*2,.1125,.45):.5+.5*ou(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Wi.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Wi.easeInBounce(t*2)*.5:Wi.easeOutBounce(t*2-1)*.5+.5};function Ol(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function au(t){return Ol(t)?t:new es(t)}function Co(t){return Ol(t)?t:new es(t).saturate(.5).darken(.1).hexString()}const D_=["x","y","borderWidth","radius","tension"],F_=["color","borderColor","backgroundColor"];function N_(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:F_},numbers:{type:"number",properties:D_}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function P_(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const lu=new Map;function I_(t,e){e=e||{};const n=t+JSON.stringify(e);let i=lu.get(n);return i||(i=new Intl.NumberFormat(t,e),lu.set(n,i)),i}function _s(t,e,n){return I_(e,n).format(t)}const xp={values(t){return Ae(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,r=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),r=R_(t,n)}const o=nn(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),_s(t,i,c)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(nn(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?xp.numeric.call(this,t,e,n):""}};function R_(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Ur={formatters:xp};function O_(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ur.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const On=Object.create(null),xa=Object.create(null);function ji(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function So(t,e,n){return typeof e=="string"?ts(ji(t,e),n):ts(ji(t,""),e)}class V_{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Co(s.backgroundColor),this.hoverBorderColor=(i,s)=>Co(s.borderColor),this.hoverColor=(i,s)=>Co(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return So(this,e,n)}get(e){return ji(this,e)}describe(e,n){return So(xa,e,n)}override(e,n){return So(On,e,n)}route(e,n,i,s){const r=ji(this,e),o=ji(this,i),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[a],d=o[s];return he(c)?Object.assign({},d,c):oe(c,d)},set(c){this[a]=c}}})}apply(e){e.forEach(n=>n(this))}}var Te=new V_({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[N_,P_,O_]);function B_(t){return!t||ue(t.size)||ue(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Fr(t,e,n,i,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,n.push(s)),r>i&&(i=r),i}function $_(t,e,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},r=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let c,d,u,h,f;for(c=0;c<a;c++)if(h=n[c],h!=null&&!Ae(h))o=Fr(t,s,r,o,h);else if(Ae(h))for(d=0,u=h.length;d<u;d++)f=h[d],f!=null&&!Ae(f)&&(o=Fr(t,s,r,o,f));t.restore();const p=r.length/2;if(p>n.length){for(c=0;c<p;c++)delete s[r[c]];r.splice(0,p)}return o}function yn(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function cu(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Ca(t,e,n,i){Cp(t,e,n,i,null)}function Cp(t,e,n,i,s){let r,o,a,c,d,u,h,f;const p=e.pointStyle,y=e.rotation,g=e.radius;let m=(y||0)*__;if(p&&typeof p=="object"&&(r=p.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(m),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),p){default:s?t.ellipse(n,i,s/2,g,0,0,Me):t.arc(n,i,g,0,Me),t.closePath();break;case"triangle":u=s?s/2:g,t.moveTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=tu,t.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=tu,t.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),t.closePath();break;case"rectRounded":d=g*.516,c=g-d,o=Math.cos(m+mn)*c,h=Math.cos(m+mn)*(s?s/2-d:c),a=Math.sin(m+mn)*c,f=Math.sin(m+mn)*(s?s/2-d:c),t.arc(n-h,i-a,d,m-ye,m-Oe),t.arc(n+f,i-o,d,m-Oe,m),t.arc(n+h,i+a,d,m,m+Oe),t.arc(n-f,i+o,d,m+Oe,m+ye),t.closePath();break;case"rect":if(!y){c=Math.SQRT1_2*g,u=s?s/2:c,t.rect(n-u,i-c,2*u,2*c);break}m+=mn;case"rectRot":h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(s?s/2:g),t.moveTo(n-h,i-a),t.lineTo(n+f,i-o),t.lineTo(n+h,i+a),t.lineTo(n-f,i+o),t.closePath();break;case"crossRot":m+=mn;case"cross":h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(s?s/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"star":h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(s?s/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o),m+=mn,h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(s?s/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"line":o=s?s/2:Math.cos(m)*g,a=Math.sin(m)*g,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(m)*(s?s/2:g),i+Math.sin(m)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Gt(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Gr(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Kr(t){t.restore()}function z_(t,e,n,i,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else s==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function H_(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function W_(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ue(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function j_(t,e,n,i,s){if(s.strikethrough||s.underline){const r=t.measureText(i),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,c=n-r.actualBoundingBoxAscent,d=n+r.actualBoundingBoxDescent,u=s.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function U_(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Vn(t,e,n,i,s,r={}){const o=Ae(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let c,d;for(t.save(),t.font=s.string,W_(t,r),c=0;c<o.length;++c)d=o[c],r.backdrop&&U_(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),ue(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(d,n,i,r.maxWidth)),t.fillText(d,n,i,r.maxWidth),j_(t,n,i,d,r),i+=Number(s.lineHeight);t.restore()}function ss(t,e){const{x:n,y:i,w:s,h:r,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*ye,ye,!0),t.lineTo(n,i+r-o.bottomLeft),t.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,ye,Oe,!0),t.lineTo(n+s-o.bottomRight,i+r),t.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,Oe,0,!0),t.lineTo(n+s,i+o.topRight),t.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-Oe,!0),t.lineTo(n+o.topLeft,i)}const G_=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,K_=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Y_(t,e){const n=(""+t).match(G_);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Z_=t=>+t||0;function Vl(t,e){const n={},i=he(e),s=i?Object.keys(e):e,r=he(t)?i?o=>oe(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=Z_(r(o));return n}function Sp(t){return Vl(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Nn(t){return Vl(t,["topLeft","topRight","bottomLeft","bottomRight"])}function et(t){const e=Sp(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function je(t,e){t=t||{},e=e||Te.font;let n=oe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=oe(t.style,e.style);i&&!(""+i).match(K_)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:oe(t.family,e.family),lineHeight:Y_(oe(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:oe(t.weight,e.weight),string:""};return s.string=B_(s),s}function Ai(t,e,n,i){let s,r,o;for(s=0,r=t.length;s<r;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function q_(t,e,n){const{min:i,max:s}=t,r=fp(e,(s-i)/2),o=(a,c)=>n&&a===0?0:a+c;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function hn(t,e){return Object.assign(Object.create(t),e)}function Bl(t,e=[""],n,i,s=()=>t[0]){const r=n||t;typeof i>"u"&&(i=Tp("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>Bl([a,...t],e,r,i)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete t[0][c],!0},get(a,c){return Ap(a,c,()=>sw(c,e,t,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,c){return uu(a).includes(c)},ownKeys(a){return uu(a)},set(a,c,d){const u=a._storage||(a._storage=s());return a[c]=u[c]=d,delete a._keys,!0}})}function si(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Mp(t,i),setContext:r=>si(t,r,n,i),override:r=>si(t.override(r),e,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return Ap(r,o,()=>J_(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function Mp(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:dn(n)?n:()=>n,isIndexable:dn(i)?i:()=>i}}const X_=(t,e)=>t?t+Nl(e):e,$l=(t,e)=>he(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Ap(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function J_(t,e,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=t;let a=i[e];return dn(a)&&o.isScriptable(e)&&(a=Q_(e,a,t,n)),Ae(a)&&a.length&&(a=ew(e,a,t,o.isIndexable)),$l(e,a)&&(a=si(a,s,r&&r[e],o)),a}function Q_(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let c=e(r,o||i);return a.delete(t),$l(t,c)&&(c=zl(s._scopes,s,t,c)),c}function ew(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&i(t))return e[r.index%e.length];if(he(e[0])){const c=e,d=s._scopes.filter(u=>u!==c);e=[];for(const u of c){const h=zl(d,s,t,u);e.push(si(h,r,o&&o[t],a))}}return e}function Lp(t,e,n){return dn(t)?t(e,n):t}const tw=(t,e)=>t===!0?e:typeof t=="string"?cn(e,t):void 0;function nw(t,e,n,i,s){for(const r of e){const o=tw(n,r);if(o){t.add(o);const a=Lp(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function zl(t,e,n,i){const s=e._rootScopes,r=Lp(e._fallback,n,i),o=[...t,...s],a=new Set;a.add(i);let c=du(a,o,n,r||n,i);return c===null||typeof r<"u"&&r!==n&&(c=du(a,o,r,c,i),c===null)?!1:Bl(Array.from(a),[""],s,r,()=>iw(e,n,i))}function du(t,e,n,i,s){for(;n;)n=nw(t,e,n,i,s);return n}function iw(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return Ae(s)&&he(n)?n:s||{}}function sw(t,e,n,i){let s;for(const r of e)if(s=Tp(X_(r,t),n),typeof s<"u")return $l(t,s)?zl(n,i,t,s):s}function Tp(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function uu(t){let e=t._keys;return e||(e=t._keys=rw(t._scopes)),e}function rw(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function Ep(t,e,n,i){const{iScale:s}=t,{key:r="r"}=this._parsing,o=new Array(i);let a,c,d,u;for(a=0,c=i;a<c;++a)d=a+n,u=e[d],o[a]={r:s.parse(cn(u,r),d)};return o}const ow=Number.EPSILON||1e-14,ri=(t,e)=>e<t.length&&!t[e].skip&&t[e],Dp=t=>t==="x"?"y":"x";function aw(t,e,n,i){const s=t.skip?e:t,r=e,o=n.skip?e:n,a=ka(r,s),c=ka(o,r);let d=a/(a+c),u=c/(a+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=i*d,f=i*u;return{previous:{x:r.x-h*(o.x-s.x),y:r.y-h*(o.y-s.y)},next:{x:r.x+f*(o.x-s.x),y:r.y+f*(o.y-s.y)}}}function lw(t,e,n){const i=t.length;let s,r,o,a,c,d=ri(t,0);for(let u=0;u<i-1;++u)if(c=d,d=ri(t,u+1),!(!c||!d)){if(Hi(e[u],0,ow)){n[u]=n[u+1]=0;continue}s=n[u]/e[u],r=n[u+1]/e[u],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=s*o*e[u],n[u+1]=r*o*e[u])}}function cw(t,e,n="x"){const i=Dp(n),s=t.length;let r,o,a,c=ri(t,0);for(let d=0;d<s;++d){if(o=a,a=c,c=ri(t,d+1),!a)continue;const u=a[n],h=a[i];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${i}`]=h-r*e[d]),c&&(r=(c[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${i}`]=h+r*e[d])}}function dw(t,e="x"){const n=Dp(e),i=t.length,s=Array(i).fill(0),r=Array(i);let o,a,c,d=ri(t,0);for(o=0;o<i;++o)if(a=c,c=d,d=ri(t,o+1),!!c){if(d){const u=d[e]-c[e];s[o]=u!==0?(d[n]-c[n])/u:0}r[o]=a?d?It(s[o-1])!==It(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}lw(t,s,r),cw(t,r,e)}function Vs(t,e,n){return Math.max(Math.min(t,n),e)}function uw(t,e){let n,i,s,r,o,a=Gt(t[0],e);for(n=0,i=t.length;n<i;++n)o=r,r=a,a=n<i-1&&Gt(t[n+1],e),r&&(s=t[n],o&&(s.cp1x=Vs(s.cp1x,e.left,e.right),s.cp1y=Vs(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=Vs(s.cp2x,e.left,e.right),s.cp2y=Vs(s.cp2y,e.top,e.bottom)))}function hw(t,e,n,i,s){let r,o,a,c;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")dw(t,s);else{let d=i?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],c=aw(d,a,t[Math.min(r+1,o-(i?0:1))%o],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,d=a}e.capBezierPoints&&uw(t,n)}function Hl(){return typeof window<"u"&&typeof document<"u"}function Wl(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Nr(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Yr=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function fw(t,e){return Yr(t).getPropertyValue(e)}const pw=["top","right","bottom","left"];function Pn(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=pw[s];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const gw=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function mw(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:r}=i;let o=!1,a,c;if(gw(s,r,t.target))a=s,c=r;else{const d=e.getBoundingClientRect();a=i.clientX-d.left,c=i.clientY-d.top,o=!0}return{x:a,y:c,box:o}}function Cn(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=Yr(n),r=s.boxSizing==="border-box",o=Pn(s,"padding"),a=Pn(s,"border","width"),{x:c,y:d,box:u}=mw(t,n),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:p,height:y}=e;return r&&(p-=o.width+a.width,y-=o.height+a.height),{x:Math.round((c-h)/p*n.width/i),y:Math.round((d-f)/y*n.height/i)}}function yw(t,e,n){let i,s;if(e===void 0||n===void 0){const r=t&&Wl(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=Yr(r),c=Pn(a,"border","width"),d=Pn(a,"padding");e=o.width-d.width-c.width,n=o.height-d.height-c.height,i=Nr(a.maxWidth,r,"clientWidth"),s=Nr(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||Dr,maxHeight:s||Dr}}const Bs=t=>Math.round(t*10)/10;function bw(t,e,n,i){const s=Yr(t),r=Pn(s,"margin"),o=Nr(s.maxWidth,t,"clientWidth")||Dr,a=Nr(s.maxHeight,t,"clientHeight")||Dr,c=yw(t,e,n);let{width:d,height:u}=c;if(s.boxSizing==="content-box"){const f=Pn(s,"border","width"),p=Pn(s,"padding");d-=p.width+f.width,u-=p.height+f.height}return d=Math.max(0,d-r.width),u=Math.max(0,i?d/i:u-r.height),d=Bs(Math.min(d,o,c.maxWidth)),u=Bs(Math.min(u,a,c.maxHeight)),d&&!u&&(u=Bs(d/2)),(e!==void 0||n!==void 0)&&i&&c.height&&u>c.height&&(u=c.height,d=Bs(Math.floor(u*i))),{width:d,height:u}}function hu(t,e,n){const i=e||1,s=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(t.currentDevicePixelRatio=i,o.height=s,o.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const vw=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Hl()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function fu(t,e){const n=fw(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Sn(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function _w(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function ww(t,e,n,i){const s={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=Sn(t,s,n),a=Sn(s,r,n),c=Sn(r,e,n),d=Sn(o,a,n),u=Sn(a,c,n);return Sn(d,u,n)}const kw=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},xw=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Qn(t,e,n){return t?kw(e,n):xw()}function Fp(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Np(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Pp(t){return t==="angle"?{between:is,compare:C_,normalize:Je}:{between:jt,compare:(e,n)=>e-n,normalize:e=>e}}function pu({start:t,end:e,count:n,loop:i,style:s}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:s}}function Cw(t,e,n){const{property:i,start:s,end:r}=n,{between:o,normalize:a}=Pp(i),c=e.length;let{start:d,end:u,loop:h}=t,f,p;if(h){for(d+=c,u+=c,f=0,p=c;f<p&&o(a(e[d%c][i]),s,r);++f)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:h,style:t.style}}function Ip(t,e,n){if(!n)return[t];const{property:i,start:s,end:r}=n,o=e.length,{compare:a,between:c,normalize:d}=Pp(i),{start:u,end:h,loop:f,style:p}=Cw(t,e,n),y=[];let g=!1,m=null,b,v,_;const k=()=>c(s,_,b)&&a(s,_)!==0,w=()=>a(r,b)===0||c(r,_,b),C=()=>g||k(),x=()=>!g||w();for(let S=u,R=u;S<=h;++S)v=e[S%o],!v.skip&&(b=d(v[i]),b!==_&&(g=c(b,s,r),m===null&&C()&&(m=a(b,s)===0?S:R),m!==null&&x()&&(y.push(pu({start:m,end:S,loop:f,count:o,style:p})),m=null),R=S,_=b));return m!==null&&y.push(pu({start:m,end:h,loop:f,count:o,style:p})),y}function Rp(t,e){const n=[],i=t.segments;for(let s=0;s<i.length;s++){const r=Ip(i[s],t.points,e);r.length&&n.push(...r)}return n}function Sw(t,e,n,i){let s=0,r=e-1;if(n&&!i)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(r+=s);r>s&&t[r%e].skip;)r--;return r%=e,{start:s,end:r}}function Mw(t,e,n,i){const s=t.length,r=[];let o=e,a=t[e],c;for(c=e+1;c<=n;++c){const d=t[c%s];d.skip||d.stop?a.skip||(i=!1,r.push({start:e%s,end:(c-1)%s,loop:i}),e=o=d.stop?c:null):(o=c,a.skip&&(e=c)),a=d}return o!==null&&r.push({start:e%s,end:o%s,loop:i}),r}function Aw(t,e){const n=t.points,i=t.options.spanGaps,s=n.length;if(!s)return[];const r=!!t._loop,{start:o,end:a}=Sw(n,s,r,i);if(i===!0)return gu(t,[{start:o,end:a,loop:r}],n,e);const c=a<o?a+s:a,d=!!t._fullLoop&&o===0&&a===s-1;return gu(t,Mw(n,o,c,d),n,e)}function gu(t,e,n,i){return!i||!i.setContext||!n?e:Lw(t,e,n,i)}function Lw(t,e,n,i){const s=t._chart.getContext(),r=mu(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,c=n.length,d=[];let u=r,h=e[0].start,f=h;function p(y,g,m,b){const v=a?-1:1;if(y!==g){for(y+=c;n[y%c].skip;)y-=v;for(;n[g%c].skip;)g+=v;y%c!==g%c&&(d.push({start:y%c,end:g%c,loop:m,style:b}),u=b,h=g%c)}}for(const y of e){h=a?h:y.start;let g=n[h%c],m;for(f=h+1;f<=y.end;f++){const b=n[f%c];m=mu(i.setContext(hn(s,{type:"segment",p0:g,p1:b,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:o}))),Tw(m,u)&&p(h,f-1,y.loop,u),g=b,u=m}h<f-1&&p(h,f-1,y.loop,u)}return d}function mu(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Tw(t,e){if(!e)return!1;const n=[],i=function(s,r){return Ol(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function $s(t,e,n){return t.options.clip?t[n]:e[n]}function Ew(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:$s(n,e,"left"),right:$s(n,e,"right"),top:$s(i,e,"top"),bottom:$s(i,e,"bottom")}:e}function Op(t,e){const n=e._clip;if(n.disabled)return!1;const i=Ew(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Dw{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=vp.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,c;for(;o>=0;--o)c=r[o],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Bt=new Dw;const yu="transparent",Fw={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=au(t||yu),s=i.valid&&au(e||yu);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Nw{constructor(e,n,i,s){const r=n[i];s=Ai([e.to,s,r,e.from]);const o=Ai([e.from,r,s]);this._active=!0,this._fn=e.fn||Fw[e.type||typeof o],this._easing=Wi[e.easing]||Wi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Ai([e.to,n,s,e.from]),this._from=Ai([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let c;if(this._active=r!==a&&(o||n<i),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=r;return}c=n/i%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(r,a,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class Vp{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!he(e))return;const n=Object.keys(Te.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!he(r))return;const o={};for(const a of n)o[a]=r[a];(Ae(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,s=Iw(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&Pw(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(e,n));continue}const u=n[d];let h=r[d];const f=i.get(d);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){e[d]=u;continue}r[d]=h=new Nw(f,e,d,u),s.push(h)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Bt.add(this._chart,i),!0}}function Pw(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=t[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function Iw(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function bu(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function Rw(t,e,n){if(n===!1)return!1;const i=bu(t,n),s=bu(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function Ow(t){let e,n,i,s;return he(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function Bp(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function vu(t,e,n,i={}){const s=t.keys,r=i.mode==="single";let o,a,c,d;if(e===null)return;let u=!1;for(o=0,a=s.length;o<a;++o){if(c=+s[o],c===n){if(u=!0,i.all)continue;break}d=t.values[c],Pe(d)&&(r||e===0||It(e)===It(d))&&(e+=d)}return!u&&!i.all?0:e}function Vw(t,e){const{iScale:n,vScale:i}=e,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],a[c]={[s]:u,[r]:t[u]};return a}function Mo(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Bw(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function $w(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function zw(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function _u(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=t[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function wu(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,c=r.axis,d=o.axis,u=Bw(r,o,i),h=e.length;let f;for(let p=0;p<h;++p){const y=e[p],{[c]:g,[d]:m}=y,b=y._stacks||(y._stacks={});f=b[d]=zw(s,u,g),f[a]=m,f._top=_u(f,o,!0,i.type),f._bottom=_u(f,o,!1,i.type);const v=f._visualValues||(f._visualValues={});v[a]=m}}function Ao(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function Hw(t,e){return hn(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Ww(t,e,n){return hn(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function gi(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const Lo=t=>t==="reset"||t==="none",ku=(t,e)=>e?t:Object.assign({},t),jw=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Bp(n,!0),values:null};class Ct{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Mo(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&gi(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(h,f,p,y)=>h==="x"?f:h==="r"?y:p,r=n.xAxisID=oe(i.xAxisID,Ao(e,"x")),o=n.yAxisID=oe(i.yAxisID,Ao(e,"y")),a=n.rAxisID=oe(i.rAxisID,Ao(e,"r")),c=n.indexAxis,d=n.iAxisID=s(c,r,o,a),u=n.vAxisID=s(c,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&su(this._data,this),e._stacked&&gi(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(he(n)){const s=this._cachedMeta;this._data=Vw(n,s)}else if(i!==n){if(i){su(i,this);const s=this._cachedMeta;gi(s),s._parsed=[]}n&&Object.isExtensible(n)&&L_(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=Mo(n.vScale,n),n.stack!==i.stack&&(s=!0,gi(n),n.stack=i.stack),this._resyncElements(e),(s||r!==n._stacked)&&(wu(this,n._parsed),n._stacked=Mo(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let c=e===0&&n===s.length?!0:i._sorted,d=e>0&&i._parsed[e-1],u,h,f;if(this._parsing===!1)i._parsed=s,i._sorted=!0,f=s;else{Ae(s[e])?f=this.parseArrayData(i,s,e,n):he(s[e])?f=this.parseObjectData(i,s,e,n):f=this.parsePrimitiveData(i,s,e,n);const p=()=>h[a]===null||d&&h[a]<d[a];for(u=0;u<n;++u)i._parsed[u+e]=h=f[u],c&&(p()&&(c=!1),d=h);i._sorted=c}o&&wu(this,f)}parsePrimitiveData(e,n,i,s){const{iScale:r,vScale:o}=e,a=r.axis,c=o.axis,d=r.getLabels(),u=r===o,h=new Array(s);let f,p,y;for(f=0,p=s;f<p;++f)y=f+i,h[f]={[a]:u||r.parse(d[y],y),[c]:o.parse(n[y],y)};return h}parseArrayData(e,n,i,s){const{xScale:r,yScale:o}=e,a=new Array(s);let c,d,u,h;for(c=0,d=s;c<d;++c)u=c+i,h=n[u],a[c]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,n,i,s){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,d=new Array(s);let u,h,f,p;for(u=0,h=s;u<h;++u)f=u+i,p=n[f],d[u]={x:r.parse(cn(p,a),f),y:o.parse(cn(p,c),f)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:Bp(s,!0),values:n._stacks[e.axis]._visualValues};return vu(a,o,r.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const a=s&&i._stacks[n.axis];s&&a&&(s.values=a,o=vu(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,o=s.length,a=this._getOtherScale(e),c=jw(n,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=$w(a);let f,p;function y(){p=s[f];const g=p[a.axis];return!Pe(p[e.axis])||u>g||h<g}for(f=0;f<o&&!(!y()&&(this.updateRangeFromParsed(d,e,p,c),r));++f);if(r){for(f=o-1;f>=0;--f)if(!y()){this.updateRangeFromParsed(d,e,p,c);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][e.axis],Pe(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Ow(oe(this.options.clip,Rw(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],a=this._drawStart||0,c=this._drawCount||s.length-a,d=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,r,a,c),u=a;u<a+c;++u){const h=s[u];h.hidden||(h.active&&d?o.push(h):h.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=Ww(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=Hw(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],c=this.enableOptionSharing&&ns(i);if(a)return ku(a,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],f=d.getOptionScopes(this.getDataset(),u),p=Object.keys(Te.elements[e]),y=()=>this.getContext(i,s,n),g=d.resolveNamedOptions(f,p,y,h);return g.$shared&&(g.$shared=c,r[o]=Object.freeze(ku(g,c))),g}_resolveAnimations(e,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let c;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(f,this.getContext(e,i,n))}const d=new Vp(s,c&&c.animations);return c&&c._cacheable&&(r[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Lo(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(e,n,i,s){Lo(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!Lo(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,c,d]of this._syncList)this[a](c,d);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,n,i=!0){const s=this._cachedMeta,r=s.data,o=e+n;let a;const c=d=>{for(d.length+=n,a=d.length-1;a>=o;a--)d[a]=d[a-n]};for(c(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&gi(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Z(Ct,"defaults",{}),Z(Ct,"datasetElementType",null),Z(Ct,"dataElementType",null);function Uw(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=bp(i.sort((s,r)=>s-r))}return t._cache.$bar}function Gw(t){const e=t.iScale,n=Uw(e,t.type);let i=e._length,s,r,o,a;const c=()=>{o===32767||o===-32768||(ns(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=n.length;s<r;++s)o=e.getPixelForValue(n[s]),c();for(a=void 0,s=0,r=e.ticks.length;s<r;++s)o=e.getPixelForTick(s),c();return i}function Kw(t,e,n,i){const s=n.barThickness;let r,o;return ue(s)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[t]-r/2}}function Yw(t,e,n,i){const s=e.pixels,r=s[t];let o=t>0?s[t-1]:null,a=t<s.length-1?s[t+1]:null;const c=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const d=r-(r-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/i,ratio:n.barPercentage,start:d}}function Zw(t,e,n,i){const s=n.parse(t[0],i),r=n.parse(t[1],i),o=Math.min(s,r),a=Math.max(s,r);let c=o,d=a;Math.abs(o)>Math.abs(a)&&(c=a,d=o),e[n.axis]=d,e._custom={barStart:c,barEnd:d,start:s,end:r,min:o,max:a}}function $p(t,e,n,i){return Ae(t)?Zw(t,e,n,i):e[n.axis]=n.parse(t,i),e}function xu(t,e,n,i){const s=t.iScale,r=t.vScale,o=s.getLabels(),a=s===r,c=[];let d,u,h,f;for(d=n,u=n+i;d<u;++d)f=e[d],h={},h[s.axis]=a||s.parse(o[d],d),c.push($p(f,h,r,d));return c}function To(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function qw(t,e,n){return t!==0?It(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function Xw(t){let e,n,i,s,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:e,top:s,bottom:r}}function Jw(t,e,n,i){let s=e.borderSkipped;const r={};if(!s){t.borderSkipped=r;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:c,top:d,bottom:u}=Xw(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=d:(n._bottom||0)===i?s=u:(r[Cu(u,o,a,c)]=!0,s=d)),r[Cu(s,o,a,c)]=!0,t.borderSkipped=r}function Cu(t,e,n,i){return i?(t=Qw(t,e,n),t=Su(t,n,e)):t=Su(t,e,n),t}function Qw(t,e,n){return t===e?n:t===n?e:t}function Su(t,e,n){return t==="start"?e:t==="end"?n:t}function ek(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class hr extends Ct{parsePrimitiveData(e,n,i,s){return xu(e,n,i,s)}parseArrayData(e,n,i,s){return xu(e,n,i,s)}parseObjectData(e,n,i,s){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,d=r.axis==="x"?a:c,u=o.axis==="x"?a:c,h=[];let f,p,y,g;for(f=i,p=i+s;f<p;++f)g=n[f],y={},y[r.axis]=r.parse(cn(g,d),f),h.push($p(cn(g,u),y,o,f));return h}updateRangeFromParsed(e,n,i,s){super.updateRangeFromParsed(e,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(e),o=r._custom,a=To(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,c=a.getBasePixel(),d=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,s);for(let p=n;p<n+i;p++){const y=this.getParsed(p),g=r||ue(y[a.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),m=this._calculateBarIndexPixels(p,u),b=(y._stacks||{})[a.axis],v={horizontal:d,base:g.base,enableBorderRadius:!b||To(y._custom)||o===b._top||o===b._bottom,x:d?g.head:m.center,y:d?m.center:g.head,height:d?m.size:Math.abs(g.size),width:d?Math.abs(g.size):m.size};f&&(v.options=h||this.resolveDataElementOptions(p,e[p].active?"active":s));const _=v.options||e[p].options;Jw(v,_,b,o),ek(v,_,u.ratio),this.updateElement(e[p],p,v,s)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),c=a&&a[i.axis],d=u=>{const h=u._parsed.find(p=>p[i.axis]===c),f=h&&h[u.vScale.axis];if(ue(f)||isNaN(f))return!0};for(const u of s)if(!(n!==void 0&&d(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[oe(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,i){const s=this._getStacks(e,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,o;for(r=0,o=n.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=e.barThickness;return{min:a||Gw(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,c=this.getParsed(e),d=c._custom,u=To(d);let h=c[n.axis],f=0,p=i?this.applyStack(n,c,i):h,y,g;p!==h&&(f=p-h,p=h),u&&(h=d.barStart,p=d.barEnd-d.barStart,h!==0&&It(h)!==It(d.barEnd)&&(f=0),f+=h);const m=!ue(r)&&!u?r:f;let b=n.getPixelForValue(m);if(this.chart.getDataVisibility(e)?y=n.getPixelForValue(f+p):y=b,g=y-b,Math.abs(g)<o){g=qw(g,n,a)*o,h===a&&(b-=g/2);const v=n.getPixelForDecimal(0),_=n.getPixelForDecimal(1),k=Math.min(v,_),w=Math.max(v,_);b=Math.max(Math.min(b,w),k),y=b+g,i&&!u&&(c._stacks[n.axis]._visualValues[s]=n.getValueForPixel(y)-n.getValueForPixel(b))}if(b===n.getPixelForValue(a)){const v=It(g)*n.getLineWidthForValue(a)/2;b+=v,g-=v}return{size:g,base:b,head:y,center:y+g/2}}_calculateBarIndexPixels(e,n){const i=n.scale,s=this.options,r=s.skipNull,o=oe(s.maxBarThickness,1/0);let a,c;const d=this._getAxisCount();if(n.grouped){const u=r?this._getStackCount(e):n.stackCount,h=s.barThickness==="flex"?Yw(e,n,s,u*d):Kw(e,n,s,u*d),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(oe(f,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+p;a=h.start+h.chunk*y+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),c=Math.min(o,n.min*n.ratio);return{base:a-c/2,head:a+c/2,center:a,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}Z(hr,"id","bar"),Z(hr,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Z(hr,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class fr extends Ct{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,s){const r=super.parsePrimitiveData(e,n,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(e,n,i,s){const r=super.parseArrayData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=oe(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(e,n,i,s){const r=super.parseObjectData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=oe(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(e),a=s.getLabelForValue(o.x),c=r.getLabelForValue(o.y),d=o._custom;return{label:i[e]||"",value:"("+a+", "+c+(d?", "+d:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(n,s),u=o.axis,h=a.axis;for(let f=n;f<n+i;f++){const p=e[f],y=!r&&this.getParsed(f),g={},m=g[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(y[u]),b=g[h]=r?a.getBasePixel():a.getPixelForValue(y[h]);g.skip=isNaN(m)||isNaN(b),d&&(g.options=c||this.resolveDataElementOptions(f,p.active?"active":s),r&&(g.options.radius=0)),this.updateElement(p,f,g,s)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=oe(i&&i._custom,r),s}}Z(fr,"id","bubble"),Z(fr,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Z(fr,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function tk(t,e,n){let i=1,s=1,r=0,o=0;if(e<Me){const a=t,c=a+e,d=Math.cos(a),u=Math.sin(a),h=Math.cos(c),f=Math.sin(c),p=(_,k,w)=>is(_,a,c,!0)?1:Math.max(k,k*n,w,w*n),y=(_,k,w)=>is(_,a,c,!0)?-1:Math.min(k,k*n,w,w*n),g=p(0,d,h),m=p(Oe,u,f),b=y(ye,d,h),v=y(ye+Oe,u,f);i=(g-b)/2,s=(m-v)/2,r=-(g+b)/2,o=-(m+v)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class En extends Ct{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=c=>+i[c];if(he(i[e])){const{key:c="value"}=this._parsing;r=d=>+cn(i[d],c)}let o,a;for(o=e,a=e+n;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return kt(this.options.rotation-90)}_getCircumference(){return kt(this.options.circumference)}_getRotationExtents(){let e=Me,n=-Me;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),c=Math.min(f_(this.options.cutout,a),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:y,offsetY:g}=tk(h,u,c),m=(i.width-o)/f,b=(i.height-o)/p,v=Math.max(Math.min(m,b)/2,0),_=fp(this.options.radius,v),k=Math.max(_*c,0),w=(_-k)/this._getVisibleDatasetWeightTotal();this.offsetX=y*_,this.offsetY=g*_,s.total=this.calculateTotal(),this.outerRadius=_-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*d,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*r/Me)}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,d=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=r&&d.animateScale,p=f?0:this.innerRadius,y=f?0:this.outerRadius,{sharedOptions:g,includeOptions:m}=this._getSharedOptions(n,s);let b=this._getRotation(),v;for(v=0;v<n;++v)b+=this._circumference(v,r);for(v=n;v<n+i;++v){const _=this._circumference(v,r),k=e[v],w={x:u+this.offsetX,y:h+this.offsetY,startAngle:b,endAngle:b+_,circumference:_,outerRadius:y,innerRadius:p};m&&(w.options=g||this.resolveDataElementOptions(v,k.active?"active":s)),b+=_,this.updateElement(k,v,w,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,s;for(s=0;s<n.length;s++){const r=e._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Me*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=_s(n._parsed[e],i.options.locale);return{label:s[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const i=this.chart;let s,r,o,a,c;if(!e){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,r=e.length;s<r;++s)c=a.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,s=e.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(oe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Z(En,"id","doughnut"),Z(En,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Z(En,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Z(En,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return n.labels.map((r,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class pr extends Ct{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:c}=wp(n,s,o);this._drawStart=a,this._drawCount=c,kp(n)&&(a=0,c=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:d},e),this.updateElements(s,a,c,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,s),f=o.axis,p=a.axis,{spanGaps:y,segment:g}=this.options,m=ii(y)?y:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||s==="none",v=n+i,_=e.length;let k=n>0&&this.getParsed(n-1);for(let w=0;w<_;++w){const C=e[w],x=b?C:{};if(w<n||w>=v){x.skip=!0;continue}const S=this.getParsed(w),R=ue(S[p]),N=x[f]=o.getPixelForValue(S[f],w),F=x[p]=r||R?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,S,c):S[p],w);x.skip=isNaN(N)||isNaN(F)||R,x.stop=w>0&&Math.abs(S[f]-k[f])>m,g&&(x.parsed=S,x.raw=d.data[w]),h&&(x.options=u||this.resolveDataElementOptions(w,C.active?"active":s)),b||this.updateElement(C,w,x,s),k=S}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Z(pr,"id","line"),Z(pr,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Z(pr,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ui extends Ct{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=_s(n._parsed[e].r,i.options.locale);return{label:s[e]||"",value:r}}parseObjectData(e,n,i,s){return Ep.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,c=o.options.animation,d=this._cachedMeta.rScale,u=d.xCenter,h=d.yCenter,f=d.getIndexAngle(0)-.5*ye;let p=f,y;const g=360/this.countVisibleElements();for(y=0;y<n;++y)p+=this._computeAngle(y,s,g);for(y=n;y<n+i;y++){const m=e[y];let b=p,v=p+this._computeAngle(y,s,g),_=o.getDataVisibility(y)?d.getDistanceFromCenterForValue(this.getParsed(y).r):0;p=v,r&&(c.animateScale&&(_=0),c.animateRotate&&(b=v=f));const k={x:u,y:h,innerRadius:0,outerRadius:_,startAngle:b,endAngle:v,options:this.resolveDataElementOptions(y,m.active?"active":s)};this.updateElement(m,y,k,s)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?kt(this.resolveDataElementOptions(e,n).angle||i):0}}Z(Ui,"id","polarArea"),Z(Ui,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Z(Ui,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return n.labels.map((r,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Sa extends En{}Z(Sa,"id","pie"),Z(Sa,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class gr extends Ct{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,s){return Ep.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=n;a<n+i;a++){const c=e[a],d=this.resolveDataElementOptions(a,c.active?"active":s),u=r.getPointPositionForValue(a,this.getParsed(a).r),h=o?r.xCenter:u.x,f=o?r.yCenter:u.y,p={x:h,y:f,angle:u.angle,skip:isNaN(h)||isNaN(f),options:d};this.updateElement(c,a,p,s)}}}Z(gr,"id","radar"),Z(gr,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Z(gr,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class mr extends Ct{getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(e),a=s.getLabelForValue(o.x),c=r.getLabelForValue(o.y);return{label:i[e]||"",value:"("+a+", "+c+")"}}update(e){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:o}=wp(n,i,s);if(this._drawStart=r,this._drawCount=o,kp(n)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:c}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!c._decimated,a.points=i;const d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:d},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:c,_dataset:d}=this._cachedMeta,u=this.resolveDataElementOptions(n,s),h=this.getSharedOptions(u),f=this.includeOptions(s,h),p=o.axis,y=a.axis,{spanGaps:g,segment:m}=this.options,b=ii(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||s==="none";let _=n>0&&this.getParsed(n-1);for(let k=n;k<n+i;++k){const w=e[k],C=this.getParsed(k),x=v?w:{},S=ue(C[y]),R=x[p]=o.getPixelForValue(C[p],k),N=x[y]=r||S?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,C,c):C[y],k);x.skip=isNaN(R)||isNaN(N)||S,x.stop=k>0&&Math.abs(C[p]-_[p])>b,m&&(x.parsed=C,x.raw=d.data[k]),f&&(x.options=h||this.resolveDataElementOptions(k,w.active?"active":s)),v||this.updateElement(w,k,x,s),_=C}this.updateSharedOptions(h,s,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let c=n.length-1;c>=0;--c)a=Math.max(a,n[c].size(this.resolveDataElementOptions(c))/2);return a>0&&a}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,o)/2}}Z(mr,"id","scatter"),Z(mr,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Z(mr,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var nk=Object.freeze({__proto__:null,BarController:hr,BubbleController:fr,DoughnutController:En,LineController:pr,PieController:Sa,PolarAreaController:Ui,RadarController:gr,ScatterController:mr});function bn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class jl{constructor(e){Z(this,"options");this.options=e||{}}static override(e){Object.assign(jl.prototype,e)}init(){}formats(){return bn()}parse(){return bn()}format(){return bn()}add(){return bn()}diff(){return bn()}startOf(){return bn()}endOf(){return bn()}}var ik={_date:jl};function sk(t,e,n,i){const{controller:s,data:r,_sorted:o}=t,a=s._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const d=a._reversePixels?M_:Ut;if(i){if(s._sharedOptions){const u=r[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const f=d(r,e,n-h),p=d(r,e,n+h);return{lo:f.lo,hi:p.hi}}}}else{const u=d(r,e,n);if(c){const{vScale:h}=s._cachedMeta,{_parsed:f}=t,p=f.slice(0,u.lo+1).reverse().findIndex(g=>!ue(g[h.axis]));u.lo-=Math.max(0,p);const y=f.slice(u.hi).findIndex(g=>!ue(g[h.axis]));u.hi+=Math.max(0,y)}return u}}return{lo:0,hi:r.length-1}}function ws(t,e,n,i,s){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,c=r.length;a<c;++a){const{index:d,data:u}=r[a],{lo:h,hi:f}=sk(r[a],e,o,s);for(let p=h;p<=f;++p){const y=u[p];y.skip||i(y,d,p)}}}function rk(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Eo(t,e,n,i,s){const r=[];return!s&&!t.isPointInArea(e)||ws(t,n,e,function(a,c,d){!s&&!Gt(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&r.push({element:a,datasetIndex:c,index:d})},!0),r}function ok(t,e,n,i){let s=[];function r(o,a,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=mp(o,{x:e.x,y:e.y});is(h,d,u)&&s.push({element:o,datasetIndex:a,index:c})}return ws(t,n,e,r),s}function ak(t,e,n,i,s,r){let o=[];const a=rk(n);let c=Number.POSITIVE_INFINITY;function d(u,h,f){const p=u.inRange(e.x,e.y,s);if(i&&!p)return;const y=u.getCenterPoint(s);if(!(!!r||t.isPointInArea(y))&&!p)return;const m=a(e,y);m<c?(o=[{element:u,datasetIndex:h,index:f}],c=m):m===c&&o.push({element:u,datasetIndex:h,index:f})}return ws(t,n,e,d),o}function Do(t,e,n,i,s,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?ok(t,e,n,s):ak(t,e,n,i,s,r)}function Mu(t,e,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return ws(t,n,e,(c,d,u)=>{c[o]&&c[o](e[n],s)&&(r.push({element:c,datasetIndex:d,index:u}),a=a||c.inRange(e.x,e.y,s))}),i&&!a?[]:r}var lk={evaluateInteractionItems:ws,modes:{index(t,e,n,i){const s=Cn(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Eo(t,s,r,i,o):Do(t,s,r,!1,i,o),c=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const u=a[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(t,e,n,i){const s=Cn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Eo(t,s,r,i,o):Do(t,s,r,!1,i,o);if(a.length>0){const c=a[0].datasetIndex,d=t.getDatasetMeta(c).data;a=[];for(let u=0;u<d.length;++u)a.push({element:d[u],datasetIndex:c,index:u})}return a},point(t,e,n,i){const s=Cn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Eo(t,s,r,i,o)},nearest(t,e,n,i){const s=Cn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Do(t,s,r,n.intersect,i,o)},x(t,e,n,i){const s=Cn(e,t);return Mu(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=Cn(e,t);return Mu(t,s,"y",n.intersect,i)}}};const zp=["left","top","right","bottom"];function mi(t,e){return t.filter(n=>n.pos===e)}function Au(t,e){return t.filter(n=>zp.indexOf(n.pos)===-1&&n.box.axis===e)}function yi(t,e){return t.sort((n,i)=>{const s=e?i:n,r=e?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function ck(t){const e=[];let n,i,s,r,o,a;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return e}function dk(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!zp.includes(s))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function uk(t,e){const n=dk(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:c}=a.box,d=n[a.stack],u=d&&a.stackWeight/d.weight;a.horizontal?(a.width=u?u*i:c&&e.availableWidth,a.height=s):(a.width=i,a.height=u?u*s:c&&e.availableHeight)}return n}function hk(t){const e=ck(t),n=yi(e.filter(d=>d.box.fullSize),!0),i=yi(mi(e,"left"),!0),s=yi(mi(e,"right")),r=yi(mi(e,"top"),!0),o=yi(mi(e,"bottom")),a=Au(e,"x"),c=Au(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(c).concat(o).concat(a),chartArea:mi(e,"chartArea"),vertical:i.concat(s).concat(c),horizontal:r.concat(o).concat(a)}}function Lu(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function Hp(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function fk(t,e,n,i){const{pos:s,box:r}=n,o=t.maxPadding;if(!he(s)){n.size&&(t[s]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,t[s]+=n.size}r.getPadding&&Hp(o,r.getPadding());const a=Math.max(0,e.outerWidth-Lu(o,t,"left","right")),c=Math.max(0,e.outerHeight-Lu(o,t,"top","bottom")),d=a!==t.w,u=c!==t.h;return t.w=a,t.h=c,n.horizontal?{same:d,other:u}:{same:u,other:d}}function pk(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function gk(t,e){const n=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return i(t?["left","right"]:["top","bottom"])}function Li(t,e,n,i){const s=[];let r,o,a,c,d,u;for(r=0,o=t.length,d=0;r<o;++r){a=t[r],c=a.box,c.update(a.width||e.w,a.height||e.h,gk(a.horizontal,e));const{same:h,other:f}=fk(e,n,a,i);d|=h&&s.length,u=u||f,c.fullSize||s.push(a)}return d&&Li(s,e,n,i)||u}function zs(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function Tu(t,e,n,i){const s=n.padding;let{x:r,y:o}=e;for(const a of t){const c=a.box,d=i[a.stack]||{placed:0,weight:1},u=a.stackWeight/d.weight||1;if(a.horizontal){const h=e.w*u,f=d.size||c.height;ns(d.start)&&(o=d.start),c.fullSize?zs(c,s.left,o,n.outerWidth-s.right-s.left,f):zs(c,e.left+d.placed,o,h,f),d.start=o,d.placed+=h,o=c.bottom}else{const h=e.h*u,f=d.size||c.width;ns(d.start)&&(r=d.start),c.fullSize?zs(c,r,s.top,f,n.outerHeight-s.bottom-s.top):zs(c,r,e.top+d.placed,f,h),d.start=r,d.placed+=h,r=c.right}}e.x=r,e.y=o}var Qe={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=et(t.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=hk(t.boxes),c=a.vertical,d=a.horizontal;ve(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=c.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},s);Hp(f,et(i));const p=Object.assign({maxPadding:f,w:r,h:o,x:s.left,y:s.top},s),y=uk(c.concat(d),h);Li(a.fullSize,p,h,y),Li(c,p,h,y),Li(d,p,h,y)&&Li(c,p,h,y),pk(p),Tu(a.leftAndTop,p,h,y),p.x+=p.w,p.y+=p.h,Tu(a.rightAndBottom,p,h,y),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},ve(a.chartArea,g=>{const m=g.box;Object.assign(m,t.chartArea),m.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Wp{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class mk extends Wp{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const yr="$chartjs",yk={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Eu=t=>t===null||t==="";function bk(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[yr]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Eu(s)){const r=fu(t,"width");r!==void 0&&(t.width=r)}if(Eu(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=fu(t,"height");r!==void 0&&(t.height=r)}return t}const jp=vw?{passive:!0}:!1;function vk(t,e,n){t&&t.addEventListener(e,n,jp)}function _k(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,jp)}function wk(t,e){const n=yk[t.type]||t.type,{x:i,y:s}=Cn(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Pr(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function kk(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Pr(a.addedNodes,i),o=o&&!Pr(a.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function xk(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Pr(a.removedNodes,i),o=o&&!Pr(a.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const rs=new Map;let Du=0;function Up(){const t=window.devicePixelRatio;t!==Du&&(Du=t,rs.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Ck(t,e){rs.size||window.addEventListener("resize",Up),rs.set(t,e)}function Sk(t){rs.delete(t),rs.size||window.removeEventListener("resize",Up)}function Mk(t,e,n){const i=t.canvas,s=i&&Wl(i);if(!s)return;const r=_p((a,c)=>{const d=s.clientWidth;n(a,c),d<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const c=a[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||r(d,u)});return o.observe(s),Ck(t,r),o}function Fo(t,e,n){n&&n.disconnect(),e==="resize"&&Sk(t)}function Ak(t,e,n){const i=t.canvas,s=_p(r=>{t.ctx!==null&&n(wk(r,t))},t);return vk(i,e,s),s}class Lk extends Wp{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(bk(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[yr])return!1;const i=n[yr].initial;["height","width"].forEach(r=>{const o=i[r];ue(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[yr],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:kk,detach:xk,resize:Mk}[n]||Ak;s[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:Fo,detach:Fo,resize:Fo}[n]||_k)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return bw(e,n,i,s)}isAttached(e){const n=e&&Wl(e);return!!(n&&n.isConnected)}}function Tk(t){return!Hl()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?mk:Lk}var rr;let Jt=(rr=class{constructor(){Z(this,"x");Z(this,"y");Z(this,"active",!1);Z(this,"options");Z(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return ii(this.x)&&ii(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}},Z(rr,"defaults",{}),Z(rr,"defaultRoutes"),rr);function Ek(t,e){const n=t.options.ticks,i=Dk(t),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?Nk(e):[],o=r.length,a=r[0],c=r[o-1],d=[];if(o>s)return Pk(e,d,r,o/s),d;const u=Fk(r,e,s);if(o>0){let h,f;const p=o>1?Math.round((c-a)/(o-1)):null;for(Hs(e,d,u,ue(p)?0:a-p,a),h=0,f=o-1;h<f;h++)Hs(e,d,u,r[h],r[h+1]);return Hs(e,d,u,c,ue(p)?e.length:c+p),d}return Hs(e,d,u),d}function Dk(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function Fk(t,e,n){const i=Ik(t),s=e.length/n;if(!i)return Math.max(s,1);const r=w_(i);for(let o=0,a=r.length-1;o<a;o++){const c=r[o];if(c>s)return c}return Math.max(s,1)}function Nk(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function Pk(t,e,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===r&&(e.push(t[o]),s++,r=n[s*i])}function Hs(t,e,n,i,s){const r=oe(i,0),o=Math.min(oe(s,t.length),t.length);let a=0,c,d,u;for(n=Math.ceil(n),s&&(c=s-i,n=c/Math.floor(c/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(d=Math.max(r,0);d<o;d++)d===u&&(e.push(t[d]),a++,u=Math.round(r+a*n))}function Ik(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const Rk=t=>t==="left"?"right":t==="right"?"left":t,Fu=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Nu=(t,e)=>Math.min(e||t,t);function Pu(t,e){const n=[],i=t.length/e,s=t.length;let r=0;for(;r<s;r+=i)n.push(t[Math.floor(r)]);return n}function Ok(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),r=t._startPixel,o=t._endPixel,a=1e-6;let c=t.getPixelForTick(s),d;if(!(n&&(i===1?d=Math.max(c-r,o-c):e===0?d=(t.getPixelForTick(1)-c)/2:d=(c-t.getPixelForTick(s-1))/2,c+=s<e?d:-d,c<r-a||c>o+a)))return c}function Vk(t,e){ve(t,n=>{const i=n.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function bi(t){return t.drawTicks?t.tickLength:0}function Iu(t,e){if(!t.display)return 0;const n=je(t.font,e),i=et(t.padding);return(Ae(t.text)?t.text.length:1)*n.lineHeight+i.height}function Bk(t,e){return hn(t,{scale:e,type:"scale"})}function $k(t,e,n){return hn(t,{tick:n,index:e,type:"tick"})}function zk(t,e,n){let i=Rl(t);return(n&&e!=="right"||!n&&e==="right")&&(i=Rk(i)),i}function Hk(t,e,n,i){const{top:s,left:r,bottom:o,right:a,chart:c}=t,{chartArea:d,scales:u}=c;let h=0,f,p,y;const g=o-s,m=a-r;if(t.isHorizontal()){if(p=Xe(i,r,a),he(n)){const b=Object.keys(n)[0],v=n[b];y=u[b].getPixelForValue(v)+g-e}else n==="center"?y=(d.bottom+d.top)/2+g-e:y=Fu(t,n,e);f=a-r}else{if(he(n)){const b=Object.keys(n)[0],v=n[b];p=u[b].getPixelForValue(v)-m+e}else n==="center"?p=(d.left+d.right)/2-m+e:p=Fu(t,n,e);y=Xe(i,o,s),h=n==="left"?-Oe:Oe}return{titleX:p,titleY:y,maxWidth:f,rotation:h}}class $n extends Jt{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=lt(e,Number.POSITIVE_INFINITY),n=lt(n,Number.NEGATIVE_INFINITY),i=lt(i,Number.POSITIVE_INFINITY),s=lt(s,Number.NEGATIVE_INFINITY),{min:lt(e,i),max:lt(n,s),minDefined:Pe(e),maxDefined:Pe(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let c=0,d=a.length;c<d;++c)o=a[c].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:lt(n,lt(i,n)),max:lt(i,lt(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ke(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=q_(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?Pu(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Ek(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ke(this.options.afterUpdate,[this])}beforeSetDimensions(){ke(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ke(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ke(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ke(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=ke(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){ke(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ke(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=Nu(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let o=s,a,c,d;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,p=Ye(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/i:p/(i-1),h+6>a&&(a=p/(i-(e.offset?.5:1)),c=this.maxHeight-bi(e.grid)-n.padding-Iu(e.title,this.chart.options.font),d=Math.sqrt(h*h+f*f),o=Pl(Math.min(Math.asin(Ye((u.highest.height+6)/a,-1,1)),Math.asin(Ye(c/d,-1,1))-Math.asin(Ye(f/d,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){ke(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ke(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const c=Iu(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=bi(r)+c):(e.height=this.maxHeight,e.width=bi(r)+c),i.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:f}=this._getLabelSizes(),p=i.padding*2,y=kt(this.labelRotation),g=Math.cos(y),m=Math.sin(y);if(a){const b=i.mirror?0:m*h.width+g*f.height;e.height=Math.min(this.maxHeight,e.height+b+p)}else{const b=i.mirror?0:g*h.width+m*f.height;e.width=Math.min(this.maxWidth,e.width+b+p)}this._calculatePadding(d,u,m,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,c=this.labelRotation!==0,d=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;c?d?(f=s*e.width,p=i*n.height):(f=i*e.height,p=s*n.width):r==="start"?p=n.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,p=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;r==="start"?(u=0,h=e.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ke(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)ue(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Pu(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],c=Math.floor(n/Nu(n,i));let d=0,u=0,h,f,p,y,g,m,b,v,_,k,w;for(h=0;h<n;h+=c){if(y=e[h].label,g=this._resolveTickFontOptions(h),s.font=m=g.string,b=r[m]=r[m]||{data:{},gc:[]},v=g.lineHeight,_=k=0,!ue(y)&&!Ae(y))_=Fr(s,b.data,b.gc,_,y),k=v;else if(Ae(y))for(f=0,p=y.length;f<p;++f)w=y[f],!ue(w)&&!Ae(w)&&(_=Fr(s,b.data,b.gc,_,w),k+=v);o.push(_),a.push(k),d=Math.max(_,d),u=Math.max(k,u)}Vk(r,n);const C=o.indexOf(d),x=a.indexOf(u),S=R=>({width:o[R]||0,height:a[R]||0});return{first:S(0),last:S(n-1),widest:S(C),highest:S(x),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return S_(this._alignToPixels?yn(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=$k(this.getContext(),e,i))}return this.$context||(this.$context=Bk(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=kt(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,c=r?r.highest.height+o:0;return this.isHorizontal()?c*i>a*s?a/i:c/s:c*s<a*i?c/i:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,c=r.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=bi(r),p=[],y=a.setContext(this.getContext()),g=y.display?y.width:0,m=g/2,b=function(A){return yn(i,A,g)};let v,_,k,w,C,x,S,R,N,F,O,T;if(o==="top")v=b(this.bottom),x=this.bottom-f,R=v-m,F=b(e.top)+m,T=e.bottom;else if(o==="bottom")v=b(this.top),F=e.top,T=b(e.bottom)-m,x=v+m,R=this.top+f;else if(o==="left")v=b(this.right),C=this.right-f,S=v-m,N=b(e.left)+m,O=e.right;else if(o==="right")v=b(this.left),N=e.left,O=b(e.right)-m,C=v+m,S=this.left+f;else if(n==="x"){if(o==="center")v=b((e.top+e.bottom)/2+.5);else if(he(o)){const A=Object.keys(o)[0],L=o[A];v=b(this.chart.scales[A].getPixelForValue(L))}F=e.top,T=e.bottom,x=v+m,R=x+f}else if(n==="y"){if(o==="center")v=b((e.left+e.right)/2);else if(he(o)){const A=Object.keys(o)[0],L=o[A];v=b(this.chart.scales[A].getPixelForValue(L))}C=v-m,S=C-f,N=e.left,O=e.right}const H=oe(s.ticks.maxTicksLimit,h),M=Math.max(1,Math.ceil(h/H));for(_=0;_<h;_+=M){const A=this.getContext(_),L=r.setContext(A),P=a.setContext(A),I=L.lineWidth,V=L.color,W=P.dash||[],j=P.dashOffset,q=L.tickWidth,U=L.tickColor,D=L.tickBorderDash||[],Y=L.tickBorderDashOffset;k=Ok(this,_,c),k!==void 0&&(w=yn(i,k,I),d?C=S=N=O=w:x=R=F=T=w,p.push({tx1:C,ty1:x,tx2:S,ty2:R,x1:N,y1:F,x2:O,y2:T,width:I,color:V,borderDash:W,borderDashOffset:j,tickWidth:q,tickColor:U,tickBorderDash:D,tickBorderDashOffset:Y}))}return this._ticksLength=h,this._borderValue=v,p}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=r,f=bi(i.grid),p=f+u,y=h?-u:p,g=-kt(this.labelRotation),m=[];let b,v,_,k,w,C,x,S,R,N,F,O,T="middle";if(s==="top")C=this.bottom-y,x=this._getXAxisLabelAlignment();else if(s==="bottom")C=this.top+y,x=this._getXAxisLabelAlignment();else if(s==="left"){const M=this._getYAxisLabelAlignment(f);x=M.textAlign,w=M.x}else if(s==="right"){const M=this._getYAxisLabelAlignment(f);x=M.textAlign,w=M.x}else if(n==="x"){if(s==="center")C=(e.top+e.bottom)/2+p;else if(he(s)){const M=Object.keys(s)[0],A=s[M];C=this.chart.scales[M].getPixelForValue(A)+p}x=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")w=(e.left+e.right)/2-p;else if(he(s)){const M=Object.keys(s)[0],A=s[M];w=this.chart.scales[M].getPixelForValue(A)}x=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(c==="start"?T="top":c==="end"&&(T="bottom"));const H=this._getLabelSizes();for(b=0,v=a.length;b<v;++b){_=a[b],k=_.label;const M=r.setContext(this.getContext(b));S=this.getPixelForTick(b)+r.labelOffset,R=this._resolveTickFontOptions(b),N=R.lineHeight,F=Ae(k)?k.length:1;const A=F/2,L=M.color,P=M.textStrokeColor,I=M.textStrokeWidth;let V=x;o?(w=S,x==="inner"&&(b===v-1?V=this.options.reverse?"left":"right":b===0?V=this.options.reverse?"right":"left":V="center"),s==="top"?d==="near"||g!==0?O=-F*N+N/2:d==="center"?O=-H.highest.height/2-A*N+N:O=-H.highest.height+N/2:d==="near"||g!==0?O=N/2:d==="center"?O=H.highest.height/2-A*N:O=H.highest.height-F*N,h&&(O*=-1),g!==0&&!M.showLabelBackdrop&&(w+=N/2*Math.sin(g))):(C=S,O=(1-F)*N/2);let W;if(M.showLabelBackdrop){const j=et(M.backdropPadding),q=H.heights[b],U=H.widths[b];let D=O-j.top,Y=0-j.left;switch(T){case"middle":D-=q/2;break;case"bottom":D-=q;break}switch(x){case"center":Y-=U/2;break;case"right":Y-=U;break;case"inner":b===v-1?Y-=U:b>0&&(Y-=U/2);break}W={left:Y,top:D,width:U+j.width,height:q+j.height,color:M.backdropColor}}m.push({label:k,font:R,textOffset:O,options:{rotation:g,color:L,strokeColor:P,strokeWidth:I,textAlign:V,textBaseline:T,translation:[w,C],backdrop:W}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-kt(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,c=o.widest.width;let d,u;return n==="left"?s?(u=this.right+r,i==="near"?d="left":i==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-a,i==="near"?d="right":i==="center"?(d="center",u-=c/2):(d="left",u=this.left)):n==="right"?s?(u=this.left+r,i==="near"?d="right":i==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+a,i==="near"?d="left":i==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(c,d,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const c=s[r];n.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,f;this.isHorizontal()?(d=yn(e,this.left,o)-o/2,u=yn(e,this.right,a)+a/2,h=f=c):(h=yn(e,this.top,o)-o/2,f=yn(e,this.bottom,a)+a/2,d=u=c),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(d,h),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Gr(i,s);const r=this.getLabelItems(e);for(const o of r){const a=o.options,c=o.font,d=o.label,u=o.textOffset;Vn(i,d,0,u,c,a)}s&&Kr(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=je(i.font),o=et(i.padding),a=i.align;let c=r.lineHeight/2;n==="bottom"||n==="center"||he(n)?(c+=o.bottom,Ae(i.text)&&(c+=r.lineHeight*(i.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:h,rotation:f}=Hk(this,c,n,a);Vn(e,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:f,textAlign:zk(a,n,s),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=oe(e.grid&&e.grid.z,-1),s=oe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==$n.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[i]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return je(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ws{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;Uk(n)&&(i=this.register(n));const s=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,Wk(e,o,i),this.override&&Te.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in Te[s]&&(delete Te[s][i],this.override&&delete On[i])}}function Wk(t,e,n){const i=ts(Object.create(null),[n?Te.get(n):{},Te.get(e),t.defaults]);Te.set(e,i),t.defaultRoutes&&jk(e,t.defaultRoutes),t.descriptors&&Te.describe(e,t.descriptors)}function jk(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),r=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),c=o.join(".");Te.route(r,s,c,a)})}function Uk(t){return"id"in t&&"defaults"in t}class Gk{constructor(){this.controllers=new Ws(Ct,"datasets",!0),this.elements=new Ws(Jt,"elements"),this.plugins=new Ws(Object,"plugins"),this.scales=new Ws($n,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):ve(s,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const s=Nl(e);ke(i["before"+s],[],i),n[e](i),ke(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var Tt=new Gk;class Kk{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,s){s=s||{};for(const r of e){const o=r.plugin,a=o[i],c=[n,s,r.options];if(ke(a,c,o)===!1&&s.cancelable)return!1}return!0}invalidate(){ue(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=oe(i.options&&i.options.plugins,{}),r=Yk(i);return s===!1&&!n?[]:qk(e,r,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function Yk(t){const e={},n=[],i=Object.keys(Tt.plugins.items);for(let r=0;r<i.length;r++)n.push(Tt.getPlugin(i[r]));const s=t.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function Zk(t,e){return!e&&t===!1?null:t===!0?{}:t}function qk(t,{plugins:e,localIds:n},i,s){const r=[],o=t.getContext();for(const a of e){const c=a.id,d=Zk(i[c],s);d!==null&&r.push({plugin:a,options:Xk(t.config,{plugin:a,local:n[c]},d,o)})}return r}function Xk(t,{plugin:e,local:n},i,s){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(i,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ma(t,e){const n=Te.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Jk(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Qk(t,e){return t===e?"_index_":"_value_"}function Ru(t){if(t==="x"||t==="y"||t==="r")return t}function ex(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Aa(t,...e){if(Ru(t))return t;for(const n of e){const i=n.axis||ex(n.position)||t.length>1&&Ru(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Ou(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function tx(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return Ou(t,"x",n[0])||Ou(t,"y",n[0])}return{}}function nx(t,e){const n=On[t.type]||{scales:{}},i=e.scales||{},s=Ma(t.type,e),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!he(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=Aa(o,a,tx(o,t),Te.scales[a.type]),d=Qk(c,s),u=n.scales||{};r[o]=zi(Object.create(null),[{axis:c},a,u[c],u[d]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,c=o.indexAxis||Ma(a,e),u=(On[a]||{}).scales||{};Object.keys(u).forEach(h=>{const f=Jk(h,c),p=o[f+"AxisID"]||f;r[p]=r[p]||Object.create(null),zi(r[p],[{axis:f},i[p],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];zi(a,[Te.scales[a.type],Te.scale])}),r}function Gp(t){const e=t.options||(t.options={});e.plugins=oe(e.plugins,{}),e.scales=nx(t,e)}function Kp(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function ix(t){return t=t||{},t.data=Kp(t.data),Gp(t),t}const Vu=new Map,Yp=new Set;function js(t,e){let n=Vu.get(t);return n||(n=e(),Vu.set(t,n),Yp.add(n)),n}const vi=(t,e,n)=>{const i=cn(e,n);i!==void 0&&t.add(i)};let sx=class{constructor(e){this._config=ix(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Kp(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Gp(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return js(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return js(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return js(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return js(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:r}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const c=new Set;n.forEach(u=>{e&&(c.add(e),u.forEach(h=>vi(c,e,h))),u.forEach(h=>vi(c,s,h)),u.forEach(h=>vi(c,On[r]||{},h)),u.forEach(h=>vi(c,Te,h)),u.forEach(h=>vi(c,xa,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),Yp.has(n)&&o.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,On[n]||{},Te.datasets[n]||{},{type:n},Te,xa]}resolveNamedOptions(e,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Bu(this._resolverCache,e,s);let c=o;if(ox(o,n)){r.$shared=!1,i=dn(i)?i():i;const d=this.createResolver(e,i,a);c=si(o,i,d)}for(const d of n)r[d]=c[d];return r}createResolver(e,n,i=[""],s){const{resolver:r}=Bu(this._resolverCache,e,i);return he(n)?si(r,n,void 0,s):r}};function Bu(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let r=i.get(s);return r||(r={resolver:Bl(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const rx=t=>he(t)&&Object.getOwnPropertyNames(t).some(e=>dn(t[e]));function ox(t,e){const{isScriptable:n,isIndexable:i}=Mp(t);for(const s of e){const r=n(s),o=i(s),a=(o||r)&&t[s];if(r&&(dn(a)||rx(a))||o&&Ae(a))return!0}return!1}var ax="4.5.0";const lx=["top","bottom","left","right","chartArea"];function $u(t,e){return t==="top"||t==="bottom"||lx.indexOf(t)===-1&&e==="x"}function zu(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Hu(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ke(n&&n.onComplete,[t],e)}function cx(t){const e=t.chart,n=e.options.animation;ke(n&&n.onProgress,[t],e)}function Zp(t){return Hl()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const br={},Wu=t=>{const e=Zp(t);return Object.values(br).filter(n=>n.canvas===e).pop()};function dx(t,e,n){const i=Object.keys(t);for(const s of i){const r=+s;if(r>=e){const o=t[s];delete t[s],(n>0||r>e)&&(t[r+n]=o)}}}function ux(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}class Wt{static register(...e){Tt.add(...e),ju()}static unregister(...e){Tt.remove(...e),ju()}constructor(e,n){const i=this.config=new sx(n),s=Zp(e),r=Wu(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Tk(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),c=a&&a.canvas,d=c&&c.height,u=c&&c.width;if(this.id=h_(),this.ctx=a,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Kk,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=T_(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],br[this.id]=this,!a||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Bt.listen(this,"complete",Hu),Bt.listen(this,"progress",cx),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return ue(e)?n&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Tt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():hu(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return cu(this.canvas,this.ctx),this}stop(){return Bt.stop(this),this}resize(e,n){Bt.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,hu(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),ke(i.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ve(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],c=Aa(o,a),d=c==="r",u=c==="x";return{options:a,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),ve(r,o=>{const a=o.options,c=a.id,d=Aa(c,a),u=oe(a.type,o.dtype);(a.position===void 0||$u(a.position,d)!==$u(o.dposition))&&(a.position=o.dposition),s[c]=!0;let h=null;if(c in i&&i[c].type===u)h=i[c];else{const f=Tt.getScale(u);h=new f({id:c,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,e)}),ve(s,(o,a)=>{o||delete i[a]}),ve(i,o=>{Qe.configure(this,o,o.options),Qe.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(zu("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||Ma(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const c=Tt.getController(a),{datasetElementType:d,dataElementType:u}=Te.datasets[a];Object.assign(c,{dataElementType:Tt.getElement(u),datasetElementType:d&&Tt.getElement(d)}),o.controller=new c(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ve(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),f=!s&&r.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||ve(r,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(zu("z","_idx"));const{_active:a,_lastEvent:c}=this;c?this._eventHandler(c,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ve(this.scales,e=>{Qe.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!eu(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;dx(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!eu(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Qe.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],ve(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,dn(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Bt.has(this)?this.attached&&!Bt.running(this)&&Bt.start(this):(this.draw(),Hu({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=Op(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Gr(n,s),e.controller.draw(),s&&Kr(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Gt(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const r=lk.modes[n];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=hn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,s);ns(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Bt.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),cu(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete br[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};ve(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(c,d)=>{n.addEventListener(this,c,d),e[c]=d},s=(c,d)=>{e[c]&&(n.removeEventListener(this,c,d),delete e[c])},r=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ve(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ve(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let r,o,a,c;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,c=e.length;a<c;++a){o=e[a];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Tr(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,r=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,e),a=i?e:r(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:r}=this,o=n,a=this._getActiveElements(e,s,i,o),c=b_(e),d=ux(e,this._lastEvent,i,c);i&&(this._lastEvent=null,ke(r.onHover,[e,a,this],this),c&&ke(r.onClick,[e,a,this],this));const u=!Tr(a,s);return(u||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=d,u}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}}Z(Wt,"defaults",Te),Z(Wt,"instances",br),Z(Wt,"overrides",On),Z(Wt,"registry",Tt),Z(Wt,"version",ax),Z(Wt,"getChart",Wu);function ju(){return ve(Wt.instances,t=>t._plugins.invalidate())}function hx(t,e,n){const{startAngle:i,x:s,y:r,outerRadius:o,innerRadius:a,options:c}=e,{borderWidth:d,borderJoinStyle:u}=c,h=Math.min(d/o,Je(i-n));if(t.beginPath(),t.arc(s,r,o-d/2,i+h/2,n-h/2),a>0){const f=Math.min(d/a,Je(i-n));t.arc(s,r,a+d/2,n-f/2,i+f/2,!0)}else{const f=Math.min(d/2,o*Je(i-n));if(u==="round")t.arc(s,r,f,n-ye/2,i+ye/2,!0);else if(u==="bevel"){const p=2*f*f,y=-p*Math.cos(n+ye/2)+s,g=-p*Math.sin(n+ye/2)+r,m=p*Math.cos(i+ye/2)+s,b=p*Math.sin(i+ye/2)+r;t.lineTo(y,g),t.lineTo(m,b)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function fx(t,e,n){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:c}=e;let d=s/a;t.beginPath(),t.arc(r,o,a,i-d,n+d),c>s?(d=s/c,t.arc(r,o,c,n+d,i-d,!0)):t.arc(r,o,s,n+Oe,i-Oe),t.closePath(),t.clip()}function px(t){return Vl(t,["outerStart","outerEnd","innerStart","innerEnd"])}function gx(t,e,n,i){const s=px(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,i*e/2),a=c=>{const d=(n-Math.min(r,c))*i/2;return Ye(c,0,Math.min(r,d))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:Ye(s.innerStart,0,o),innerEnd:Ye(s.innerEnd,0,o)}}function Wn(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Ir(t,e,n,i,s,r){const{x:o,y:a,startAngle:c,pixelMargin:d,innerRadius:u}=e,h=Math.max(e.outerRadius+i+n-d,0),f=u>0?u+i+n+d:0;let p=0;const y=s-c;if(i){const M=u>0?u-i:0,A=h>0?h-i:0,L=(M+A)/2,P=L!==0?y*L/(L+i):y;p=(y-P)/2}const g=Math.max(.001,y*h-n/ye)/h,m=(y-g)/2,b=c+m+p,v=s-m-p,{outerStart:_,outerEnd:k,innerStart:w,innerEnd:C}=gx(e,f,h,v-b),x=h-_,S=h-k,R=b+_/x,N=v-k/S,F=f+w,O=f+C,T=b+w/F,H=v-C/O;if(t.beginPath(),r){const M=(R+N)/2;if(t.arc(o,a,h,R,M),t.arc(o,a,h,M,N),k>0){const I=Wn(S,N,o,a);t.arc(I.x,I.y,k,N,v+Oe)}const A=Wn(O,v,o,a);if(t.lineTo(A.x,A.y),C>0){const I=Wn(O,H,o,a);t.arc(I.x,I.y,C,v+Oe,H+Math.PI)}const L=(v-C/f+(b+w/f))/2;if(t.arc(o,a,f,v-C/f,L,!0),t.arc(o,a,f,L,b+w/f,!0),w>0){const I=Wn(F,T,o,a);t.arc(I.x,I.y,w,T+Math.PI,b-Oe)}const P=Wn(x,b,o,a);if(t.lineTo(P.x,P.y),_>0){const I=Wn(x,R,o,a);t.arc(I.x,I.y,_,b-Oe,R)}}else{t.moveTo(o,a);const M=Math.cos(R)*h+o,A=Math.sin(R)*h+a;t.lineTo(M,A);const L=Math.cos(N)*h+o,P=Math.sin(N)*h+a;t.lineTo(L,P)}t.closePath()}function mx(t,e,n,i,s){const{fullCircles:r,startAngle:o,circumference:a}=e;let c=e.endAngle;if(r){Ir(t,e,n,i,c,s);for(let d=0;d<r;++d)t.fill();isNaN(a)||(c=o+(a%Me||Me))}return Ir(t,e,n,i,c,s),t.fill(),c}function yx(t,e,n,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:c}=e,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:f,borderRadius:p}=c,y=c.borderAlign==="inner";if(!d)return;t.setLineDash(h||[]),t.lineDashOffset=f,y?(t.lineWidth=d*2,t.lineJoin=u||"round"):(t.lineWidth=d,t.lineJoin=u||"bevel");let g=e.endAngle;if(r){Ir(t,e,n,i,g,s);for(let m=0;m<r;++m)t.stroke();isNaN(a)||(g=o+(a%Me||Me))}y&&fx(t,e,g),c.selfJoin&&g-o>=ye&&p===0&&u!=="miter"&&hx(t,e,g),r||(Ir(t,e,n,i,g,s),t.stroke())}class Ti extends Jt{constructor(n){super();Z(this,"circumference");Z(this,"endAngle");Z(this,"fullCircles");Z(this,"innerRadius");Z(this,"outerRadius");Z(this,"pixelMargin");Z(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.getProps(["x","y"],s),{angle:o,distance:a}=mp(r,{x:n,y:i}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),p=(this.options.spacing+this.options.borderWidth)/2,y=oe(f,d-c),g=is(o,c,d)&&c!==d,m=y>=Me||g,b=jt(a,u+p,h+p);return m&&b}getCenterPoint(n){const{x:i,y:s,startAngle:r,endAngle:o,innerRadius:a,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:d,spacing:u}=this.options,h=(r+o)/2,f=(a+c+u+d)/2;return{x:i+Math.cos(h)*f,y:s+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Me?Math.floor(s/Me):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*r,Math.sin(c)*r);const d=1-Math.sin(Math.min(ye,s||0)),u=r*d;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,mx(n,this,u,o,a),yx(n,this,u,o,a),n.restore()}}Z(Ti,"id","arc"),Z(Ti,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Z(Ti,"defaultRoutes",{backgroundColor:"backgroundColor"}),Z(Ti,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function qp(t,e,n=e){t.lineCap=oe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(oe(n.borderDash,e.borderDash)),t.lineDashOffset=oe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=oe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=oe(n.borderWidth,e.borderWidth),t.strokeStyle=oe(n.borderColor,e.borderColor)}function bx(t,e,n){t.lineTo(n.x,n.y)}function vx(t){return t.stepped?z_:t.tension||t.cubicInterpolationMode==="monotone"?H_:bx}function Xp(t,e,n={}){const i=t.length,{start:s=0,end:r=i-1}=n,{start:o,end:a}=e,c=Math.max(s,o),d=Math.min(r,a),u=s<o&&r<o||s>a&&r>a;return{count:i,start:c,loop:e.loop,ilen:d<c&&!u?i+d-c:d-c}}function _x(t,e,n,i){const{points:s,options:r}=e,{count:o,start:a,loop:c,ilen:d}=Xp(s,n,i),u=vx(r);let{move:h=!0,reverse:f}=i||{},p,y,g;for(p=0;p<=d;++p)y=s[(a+(f?d-p:p))%o],!y.skip&&(h?(t.moveTo(y.x,y.y),h=!1):u(t,g,y,f,r.stepped),g=y);return c&&(y=s[(a+(f?d:0))%o],u(t,g,y,f,r.stepped)),!!c}function wx(t,e,n,i){const s=e.points,{count:r,start:o,ilen:a}=Xp(s,n,i),{move:c=!0,reverse:d}=i||{};let u=0,h=0,f,p,y,g,m,b;const v=k=>(o+(d?a-k:k))%r,_=()=>{g!==m&&(t.lineTo(u,m),t.lineTo(u,g),t.lineTo(u,b))};for(c&&(p=s[v(0)],t.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=s[v(f)],p.skip)continue;const k=p.x,w=p.y,C=k|0;C===y?(w<g?g=w:w>m&&(m=w),u=(h*u+k)/++h):(_(),t.lineTo(k,w),y=C,h=0,g=m=w),b=w}_()}function La(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?wx:_x}function kx(t){return t.stepped?_w:t.tension||t.cubicInterpolationMode==="monotone"?ww:Sn}function xx(t,e,n,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,i)&&s.closePath()),qp(t,e.options),t.stroke(s)}function Cx(t,e,n,i){const{segments:s,options:r}=e,o=La(e);for(const a of s)qp(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const Sx=typeof Path2D=="function";function Mx(t,e,n,i){Sx&&!e.options.segment?xx(t,e,n,i):Cx(t,e,n,i)}class sn extends Jt{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;hw(this._points,i,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Aw(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,s=e[n],r=this.points,o=Rp(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],c=kx(i);let d,u;for(d=0,u=o.length;d<u;++d){const{start:h,end:f}=o[d],p=r[h],y=r[f];if(p===y){a.push(p);continue}const g=Math.abs((s-p[n])/(y[n]-p[n])),m=c(p,y,g,i.stepped);m[n]=e[n],a.push(m)}return a.length===1?a[0]:a}pathSegment(e,n,i){return La(this)(e,this,n,i)}path(e,n,i){const s=this.segments,r=La(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of s)o&=r(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),Mx(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Z(sn,"id","line"),Z(sn,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Z(sn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Z(sn,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Uu(t,e,n,i){const s=t.options,{[n]:r}=t.getProps([n],i);return Math.abs(e-r)<s.radius+s.hitRadius}class vr extends Jt{constructor(n){super();Z(this,"parsed");Z(this,"skip");Z(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return Uu(this,n,"x",i)}inYRange(n,i){return Uu(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!Gt(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,Ca(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Z(vr,"id","point"),Z(vr,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Z(vr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Jp(t,e){const{x:n,y:i,base:s,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,c,d,u,h;return t.horizontal?(h=o/2,a=Math.min(n,s),c=Math.max(n,s),d=i-h,u=i+h):(h=r/2,a=n-h,c=n+h,d=Math.min(i,s),u=Math.max(i,s)),{left:a,top:d,right:c,bottom:u}}function rn(t,e,n,i){return t?0:Ye(e,n,i)}function Ax(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,r=Sp(i);return{t:rn(s.top,r.top,0,n),r:rn(s.right,r.right,0,e),b:rn(s.bottom,r.bottom,0,n),l:rn(s.left,r.left,0,e)}}function Lx(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,r=Nn(s),o=Math.min(e,n),a=t.borderSkipped,c=i||he(s);return{topLeft:rn(!c||a.top||a.left,r.topLeft,0,o),topRight:rn(!c||a.top||a.right,r.topRight,0,o),bottomLeft:rn(!c||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:rn(!c||a.bottom||a.right,r.bottomRight,0,o)}}function Tx(t){const e=Jp(t),n=e.right-e.left,i=e.bottom-e.top,s=Ax(t,n/2,i/2),r=Lx(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function No(t,e,n,i){const s=e===null,r=n===null,a=t&&!(s&&r)&&Jp(t,i);return a&&(s||jt(e,a.left,a.right))&&(r||jt(n,a.top,a.bottom))}function Ex(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Dx(t,e){t.rect(e.x,e.y,e.w,e.h)}function Po(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+r,h:t.h+o,radius:t.radius}}class _r extends Jt{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=Tx(this),a=Ex(o.radius)?ss:Dx;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,Po(o,n,r)),e.clip(),a(e,Po(r,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,Po(r,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return No(this,e,n,i)}inXRange(e,n){return No(this,e,null,n)}inYRange(e,n){return No(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Z(_r,"id","bar"),Z(_r,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Z(_r,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Fx=Object.freeze({__proto__:null,ArcElement:Ti,BarElement:_r,LineElement:sn,PointElement:vr});const Ta=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Gu=Ta.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function Qp(t){return Ta[t%Ta.length]}function eg(t){return Gu[t%Gu.length]}function Nx(t,e){return t.borderColor=Qp(e),t.backgroundColor=eg(e),++e}function Px(t,e){return t.backgroundColor=t.data.map(()=>Qp(e++)),e}function Ix(t,e){return t.backgroundColor=t.data.map(()=>eg(e++)),e}function Rx(t){let e=0;return(n,i)=>{const s=t.getDatasetMeta(i).controller;s instanceof En?e=Px(n,e):s instanceof Ui?e=Ix(n,e):s&&(e=Nx(n,e))}}function Ku(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function Ox(t){return t&&(t.borderColor||t.backgroundColor)}function Vx(){return Te.borderColor!=="rgba(0,0,0,0.1)"||Te.backgroundColor!=="rgba(0,0,0,0.1)"}var Bx={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=t.config,{elements:r}=s,o=Ku(i)||Ox(s)||r&&Ku(r)||Vx();if(!n.forceOverride&&o)return;const a=Rx(t);i.forEach(a)}};function $x(t,e,n,i,s){const r=s.samples||i;if(r>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(r-2);let c=0;const d=e+n-1;let u=e,h,f,p,y,g;for(o[c++]=t[u],h=0;h<r-2;h++){let m=0,b=0,v;const _=Math.floor((h+1)*a)+1+e,k=Math.min(Math.floor((h+2)*a)+1,n)+e,w=k-_;for(v=_;v<k;v++)m+=t[v].x,b+=t[v].y;m/=w,b/=w;const C=Math.floor(h*a)+1+e,x=Math.min(Math.floor((h+1)*a)+1,n)+e,{x:S,y:R}=t[u];for(p=y=-1,v=C;v<x;v++)y=.5*Math.abs((S-m)*(t[v].y-R)-(S-t[v].x)*(b-R)),y>p&&(p=y,f=t[v],g=v);o[c++]=f,u=g}return o[c++]=t[d],o}function zx(t,e,n,i){let s=0,r=0,o,a,c,d,u,h,f,p,y,g;const m=[],b=e+n-1,v=t[e].x,k=t[b].x-v;for(o=e;o<e+n;++o){a=t[o],c=(a.x-v)/k*i,d=a.y;const w=c|0;if(w===u)d<y?(y=d,h=o):d>g&&(g=d,f=o),s=(r*s+a.x)/++r;else{const C=o-1;if(!ue(h)&&!ue(f)){const x=Math.min(h,f),S=Math.max(h,f);x!==p&&x!==C&&m.push({...t[x],x:s}),S!==p&&S!==C&&m.push({...t[S],x:s})}o>0&&C!==p&&m.push(t[C]),m.push(a),u=w,r=0,y=g=d,h=f=p=o}}return m}function tg(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Yu(t){t.data.datasets.forEach(e=>{tg(e)})}function Hx(t,e){const n=e.length;let i=0,s;const{iScale:r}=t,{min:o,max:a,minDefined:c,maxDefined:d}=r.getUserBounds();return c&&(i=Ye(Ut(e,r.axis,o).lo,0,n-1)),d?s=Ye(Ut(e,r.axis,a).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var Wx={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){Yu(t);return}const i=t.width;t.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,c=t.getDatasetMeta(r),d=o||s.data;if(Ai([a,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const u=t.scales[c.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:h,count:f}=Hx(c,d);const p=n.threshold||4*i;if(f<=p){tg(s);return}ue(o)&&(s._data=d,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let y;switch(n.algorithm){case"lttb":y=$x(d,h,f,i,n);break;case"min-max":y=zx(d,h,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=y})},destroy(t){Yu(t)}};function jx(t,e,n){const i=t.segments,s=t.points,r=e.points,o=[];for(const a of i){let{start:c,end:d}=a;d=Zr(c,d,s);const u=Ea(n,s[c],s[d],a.loop);if(!e.segments){o.push({source:a,target:u,start:s[c],end:s[d]});continue}const h=Rp(e,u);for(const f of h){const p=Ea(n,r[f.start],r[f.end],f.loop),y=Ip(a,s,p);for(const g of y)o.push({source:g,target:f,start:{[n]:Zu(u,p,"start",Math.max)},end:{[n]:Zu(u,p,"end",Math.min)}})}}return o}function Ea(t,e,n,i){if(i)return;let s=e[t],r=n[t];return t==="angle"&&(s=Je(s),r=Je(r)),{property:t,start:s,end:r}}function Ux(t,e){const{x:n=null,y:i=null}=t||{},s=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=Zr(o,a,s);const c=s[o],d=s[a];i!==null?(r.push({x:c.x,y:i}),r.push({x:d.x,y:i})):n!==null&&(r.push({x:n,y:c.y}),r.push({x:n,y:d.y}))}),r}function Zr(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Zu(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function ng(t,e){let n=[],i=!1;return Ae(t)?(i=!0,n=t):n=Ux(t,e),n.length?new sn({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function qu(t){return t&&t.fill!==!1}function Gx(t,e,n){let s=t[e].fill;const r=[e];let o;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!Pe(s))return s;if(o=t[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function Kx(t,e,n){const i=Xx(t);if(he(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Pe(s)&&Math.floor(s)===s?Yx(i[0],e,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Yx(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function Zx(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:he(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function qx(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:he(t)?i=t.value:i=e.getBaseValue(),i}function Xx(t){const e=t.options,n=e.fill;let i=oe(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Jx(t){const{scale:e,index:n,line:i}=t,s=[],r=i.segments,o=i.points,a=Qx(e,n);a.push(ng({x:null,y:e.bottom},i));for(let c=0;c<r.length;c++){const d=r[c];for(let u=d.start;u<=d.end;u++)e4(s,o[u],a)}return new sn({points:s,options:{}})}function Qx(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===e)break;r.hidden||n.unshift(r.dataset)}return n}function e4(t,e,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:o,last:a,point:c}=t4(r,e,"x");if(!(!c||o&&a)){if(o)i.unshift(c);else if(t.push(c),!a)break}}t.push(...i)}function t4(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const s=i[n],r=t.segments,o=t.points;let a=!1,c=!1;for(let d=0;d<r.length;d++){const u=r[d],h=o[u.start][n],f=o[u.end][n];if(jt(s,h,f)){a=s===h,c=s===f;break}}return{first:a,last:c,point:i}}class ig{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:s,y:r,radius:o}=this;return n=n||{start:0,end:Me},e.arc(s,r,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:s}=this,r=e.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function n4(t){const{chart:e,fill:n,line:i}=t;if(Pe(n))return i4(e,n);if(n==="stack")return Jx(t);if(n==="shape")return!0;const s=s4(t);return s instanceof ig?s:ng(s,i)}function i4(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function s4(t){return(t.scale||{}).getPointPositionForValue?o4(t):r4(t)}function r4(t){const{scale:e={},fill:n}=t,i=Zx(n,e);if(Pe(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function o4(t){const{scale:e,fill:n}=t,i=e.options,s=e.getLabels().length,r=i.reverse?e.max:e.min,o=qx(n,e,r),a=[];if(i.grid.circular){const c=e.getPointPositionForValue(0,r);return new ig({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<s;++c)a.push(e.getPointPositionForValue(c,o));return a}function Io(t,e,n){const i=n4(e),{chart:s,index:r,line:o,scale:a,axis:c}=e,d=o.options,u=d.fill,h=d.backgroundColor,{above:f=h,below:p=h}=u||{},y=s.getDatasetMeta(r),g=Op(s,y);i&&o.points.length&&(Gr(t,n),a4(t,{line:o,target:i,above:f,below:p,area:n,scale:a,axis:c,clip:g}),Kr(t))}function a4(t,e){const{line:n,target:i,above:s,below:r,area:o,scale:a,clip:c}=e,d=n._loop?"angle":e.axis;t.save();let u=r;r!==s&&(d==="x"?(Xu(t,i,o.top),Ro(t,{line:n,target:i,color:s,scale:a,property:d,clip:c}),t.restore(),t.save(),Xu(t,i,o.bottom)):d==="y"&&(Ju(t,i,o.left),Ro(t,{line:n,target:i,color:r,scale:a,property:d,clip:c}),t.restore(),t.save(),Ju(t,i,o.right),u=s)),Ro(t,{line:n,target:i,color:u,scale:a,property:d,clip:c}),t.restore()}function Xu(t,e,n){const{segments:i,points:s}=e;let r=!0,o=!1;t.beginPath();for(const a of i){const{start:c,end:d}=a,u=s[c],h=s[Zr(c,d,s)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Ju(t,e,n){const{segments:i,points:s}=e;let r=!0,o=!1;t.beginPath();for(const a of i){const{start:c,end:d}=a,u=s[c],h=s[Zr(c,d,s)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(n,u.y),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(n,h.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Ro(t,e){const{line:n,target:i,property:s,color:r,scale:o,clip:a}=e,c=jx(n,i,s);for(const{source:d,target:u,start:h,end:f}of c){const{style:{backgroundColor:p=r}={}}=d,y=i!==!0;t.save(),t.fillStyle=p,l4(t,o,a,y&&Ea(s,h,f)),t.beginPath();const g=!!n.pathSegment(t,d);let m;if(y){g?t.closePath():Qu(t,i,f,s);const b=!!i.pathSegment(t,u,{move:g,reverse:!0});m=g&&b,m||Qu(t,i,h,s)}t.closePath(),t.fill(m?"evenodd":"nonzero"),t.restore()}}function l4(t,e,n,i){const s=e.chart.chartArea,{property:r,start:o,end:a}=i||{};if(r==="x"||r==="y"){let c,d,u,h;r==="x"?(c=o,d=s.top,u=a,h=s.bottom):(c=s.left,d=o,u=s.right,h=a),t.beginPath(),n&&(c=Math.max(c,n.left),u=Math.min(u,n.right),d=Math.max(d,n.top),h=Math.min(h,n.bottom)),t.rect(c,d,u-c,h-d),t.clip()}}function Qu(t,e,n,i){const s=e.interpolate(n,i);s&&t.lineTo(s.x,s.y)}var c4={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,s=[];let r,o,a,c;for(o=0;o<i;++o)r=t.getDatasetMeta(o),a=r.dataset,c=null,a&&a.options&&a instanceof sn&&(c={visible:t.isDatasetVisible(o),index:o,fill:Kx(a,o,i),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=c,s.push(c);for(o=0;o<i;++o)c=s[o],!(!c||c.fill===!1)&&(c.fill=Gx(s,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&Io(t.ctx,a,r))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;qu(r)&&Io(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!qu(i)||n.drawTime!=="beforeDatasetDraw"||Io(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const eh=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},d4=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class th extends Jt{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ke(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=je(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=eh(i,r);let d,u;n.font=s.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,r,a,c)+10):(u=this.maxHeight,d=this._fitCols(o,s,a,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=s+a;let h=e;r.textAlign="left",r.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((y,g)=>{const m=i+n/2+r.measureText(y.text).width;(g===0||d[d.length-1]+m+2*a>o)&&(h+=u,d[d.length-(g>0?0:1)]=0,p+=u,f++),c[g]={left:0,top:p,row:f,width:m,height:s},d[d.length-1]+=m+a}),h}_fitCols(e,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-e;let h=a,f=0,p=0,y=0,g=0;return this.legendItems.forEach((m,b)=>{const{itemWidth:v,itemHeight:_}=u4(i,n,r,m,s);b>0&&p+_+2*a>u&&(h+=f+a,d.push({width:f,height:p}),y+=f+a,g++,f=p=0),c[b]={left:y,top:p,col:g,width:v,height:_},f=Math.max(f,v),p+=_+a}),h+=f,d.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=Qn(r,this.left,this.width);if(this.isHorizontal()){let a=0,c=Xe(i,this.left+s,this.right-this.lineWidths[a]);for(const d of n)a!==d.row&&(a=d.row,c=Xe(i,this.left+s,this.right-this.lineWidths[a])),d.top+=this.top+e+s,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+s}else{let a=0,c=Xe(i,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const d of n)d.col!==a&&(a=d.col,c=Xe(i,this.top+e+s,this.bottom-this.columnSizes[a].height)),d.top=c,d.left+=this.left+s,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Gr(e,this),this._draw(),Kr(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=e,a=Te.color,c=Qn(e.rtl,this.left,this.width),d=je(o.font),{padding:u}=o,h=d.size,f=h/2;let p;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:y,boxHeight:g,itemHeight:m}=eh(o,h),b=function(C,x,S){if(isNaN(y)||y<=0||isNaN(g)||g<0)return;s.save();const R=oe(S.lineWidth,1);if(s.fillStyle=oe(S.fillStyle,a),s.lineCap=oe(S.lineCap,"butt"),s.lineDashOffset=oe(S.lineDashOffset,0),s.lineJoin=oe(S.lineJoin,"miter"),s.lineWidth=R,s.strokeStyle=oe(S.strokeStyle,a),s.setLineDash(oe(S.lineDash,[])),o.usePointStyle){const N={radius:g*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:R},F=c.xPlus(C,y/2),O=x+f;Cp(s,N,F,O,o.pointStyleWidth&&y)}else{const N=x+Math.max((h-g)/2,0),F=c.leftForLtr(C,y),O=Nn(S.borderRadius);s.beginPath(),Object.values(O).some(T=>T!==0)?ss(s,{x:F,y:N,w:y,h:g,radius:O}):s.rect(F,N,y,g),s.fill(),R!==0&&s.stroke()}s.restore()},v=function(C,x,S){Vn(s,S.text,C,x+m/2,d,{strikethrough:S.hidden,textAlign:c.textAlign(S.textAlign)})},_=this.isHorizontal(),k=this._computeTitleHeight();_?p={x:Xe(r,this.left+u,this.right-i[0]),y:this.top+u+k,line:0}:p={x:this.left+u,y:Xe(r,this.top+k+u,this.bottom-n[0].height),line:0},Fp(this.ctx,e.textDirection);const w=m+u;this.legendItems.forEach((C,x)=>{s.strokeStyle=C.fontColor,s.fillStyle=C.fontColor;const S=s.measureText(C.text).width,R=c.textAlign(C.textAlign||(C.textAlign=o.textAlign)),N=y+f+S;let F=p.x,O=p.y;c.setWidth(this.width),_?x>0&&F+N+u>this.right&&(O=p.y+=w,p.line++,F=p.x=Xe(r,this.left+u,this.right-i[p.line])):x>0&&O+w>this.bottom&&(F=p.x=F+n[p.line].width+u,p.line++,O=p.y=Xe(r,this.top+k+u,this.bottom-n[p.line].height));const T=c.x(F);if(b(T,O,C),F=E_(R,F+y+f,_?F+N:this.right,e.rtl),v(c.x(F),O,C),_)p.x+=N+u;else if(typeof C.text!="string"){const H=d.lineHeight;p.y+=sg(C,H)+u}else p.y+=w}),Np(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=je(n.font),s=et(n.padding);if(!n.display)return;const r=Qn(e.rtl,this.left,this.width),o=this.ctx,a=n.position,c=i.size/2,d=s.top+c;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+d,h=Xe(e.align,h,this.right-f);else{const y=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);u=d+Xe(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const p=Xe(a,h,h+f);o.textAlign=r.textAlign(Rl(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Vn(o,n.text,p,u,i)}_computeTitleHeight(){const e=this.options.title,n=je(e.font),i=et(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,r;if(jt(e,this.left,this.right)&&jt(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],jt(e,s.left,s.left+s.width)&&jt(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!p4(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=d4(s,i);s&&!r&&ke(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&ke(n.onHover,[e,i,this],this)}else i&&ke(n.onClick,[e,i,this],this)}}function u4(t,e,n,i,s){const r=h4(i,t,e,n),o=f4(s,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}function h4(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+i.measureText(s).width}function f4(t,e,n){let i=t;return typeof e.text!="string"&&(i=sg(e,n)),i}function sg(t,e){const n=t.text?t.text.length:0;return e*n}function p4(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var g4={id:"legend",_element:th,start(t,e,n){const i=t.legend=new th({ctx:t.ctx,options:n,chart:t});Qe.configure(t,i,n),Qe.addBox(t,i)},stop(t){Qe.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Qe.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(n?0:void 0),u=et(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:o&&(a||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Ul extends Jt{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=Ae(i.text)?i.text.length:1;this._padding=et(i.padding);const r=s*je(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:r,options:o}=this,a=o.align;let c=0,d,u,h;return this.isHorizontal()?(u=Xe(a,i,r),h=n+e,d=r-i):(o.position==="left"?(u=i+e,h=Xe(a,s,n),c=ye*-.5):(u=r-e,h=Xe(a,n,s),c=ye*.5),d=s-n),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=je(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:d}=this._drawArgs(r);Vn(e,n.text,0,0,i,{color:n.color,maxWidth:c,rotation:d,textAlign:Rl(n.align),textBaseline:"middle",translation:[o,a]})}}function m4(t,e){const n=new Ul({ctx:t.ctx,options:e,chart:t});Qe.configure(t,n,e),Qe.addBox(t,n),t.titleBlock=n}var y4={id:"title",_element:Ul,start(t,e,n){m4(t,n)},stop(t){const e=t.titleBlock;Qe.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Qe.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Us=new WeakMap;var b4={id:"subtitle",start(t,e,n){const i=new Ul({ctx:t.ctx,options:n,chart:t});Qe.configure(t,i,n),Qe.addBox(t,i),Us.set(t,i)},stop(t){Qe.removeBox(t,Us.get(t)),Us.delete(t)},beforeUpdate(t,e,n){const i=Us.get(t);Qe.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ei={average(t){if(!t.length)return!1;let e,n,i=new Set,s=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const c=a.tooltipPosition();i.add(c.x),s+=c.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((a,c)=>a+c)/i.size,y:s/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const c=t[r].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=ka(e,d);u<s&&(s=u,a=c)}}if(a){const c=a.tooltipPosition();n=c.x,i=c.y}return{x:n,y:i}}};function At(t,e){return e&&(Ae(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function $t(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function v4(t,e){const{element:n,datasetIndex:i,index:s}=e,r=t.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:t,label:o,parsed:r.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function nh(t,e){const n=t.chart.ctx,{body:i,footer:s,title:r}=t,{boxWidth:o,boxHeight:a}=e,c=je(e.bodyFont),d=je(e.titleFont),u=je(e.footerFont),h=r.length,f=s.length,p=i.length,y=et(e.padding);let g=y.height,m=0,b=i.reduce((k,w)=>k+w.before.length+w.lines.length+w.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*d.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),b){const k=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;g+=p*k+(b-p)*c.lineHeight+(b-1)*e.bodySpacing}f&&(g+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let v=0;const _=function(k){m=Math.max(m,n.measureText(k).width+v)};return n.save(),n.font=d.string,ve(t.title,_),n.font=c.string,ve(t.beforeBody.concat(t.afterBody),_),v=e.displayColors?o+2+e.boxPadding:0,ve(i,k=>{ve(k.before,_),ve(k.lines,_),ve(k.after,_)}),v=0,n.font=u.string,ve(t.footer,_),n.restore(),m+=y.width,{width:m,height:g}}function _4(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function w4(t,e,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&s+r+o>e.width||t==="right"&&s-r-o<0)return!0}function k4(t,e,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:c}}=t;let d="center";return i==="center"?d=s<=(a+c)/2?"left":"right":s<=r/2?d="left":s>=o-r/2&&(d="right"),w4(d,t,e,n)&&(d="center"),d}function ih(t,e,n){const i=n.yAlign||e.yAlign||_4(t,n);return{xAlign:n.xAlign||e.xAlign||k4(t,e,n,i),yAlign:i}}function x4(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function C4(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function sh(t,e,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:c}=n,d=s+r,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=Nn(o);let y=x4(e,a);const g=C4(e,c,d);return c==="center"?a==="left"?y+=d:a==="right"&&(y-=d):a==="left"?y-=Math.max(u,f)+s:a==="right"&&(y+=Math.max(h,p)+s),{x:Ye(y,0,i.width-e.width),y:Ye(g,0,i.height-e.height)}}function Gs(t,e,n){const i=et(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function rh(t){return At([],$t(t))}function S4(t,e,n){return hn(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function oh(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const rg={beforeTitle:Ot,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Ot,beforeBody:Ot,beforeLabel:Ot,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ue(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ot,afterBody:Ot,beforeFooter:Ot,footer:Ot,afterFooter:Ot};function rt(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?rg[e].call(n,i):s}class Da extends Jt{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new Vp(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=S4(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=rt(i,"beforeTitle",this,e),r=rt(i,"title",this,e),o=rt(i,"afterTitle",this,e);let a=[];return a=At(a,$t(s)),a=At(a,$t(r)),a=At(a,$t(o)),a}getBeforeBody(e,n){return rh(rt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return ve(e,r=>{const o={before:[],lines:[],after:[]},a=oh(i,r);At(o.before,$t(rt(a,"beforeLabel",this,r))),At(o.lines,rt(a,"label",this,r)),At(o.after,$t(rt(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(e,n){return rh(rt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=rt(i,"beforeFooter",this,e),r=rt(i,"footer",this,e),o=rt(i,"afterFooter",this,e);let a=[];return a=At(a,$t(s)),a=At(a,$t(r)),a=At(a,$t(o)),a}_createItems(e){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],c,d;for(c=0,d=n.length;c<d;++c)a.push(v4(this.chart,n[c]));return e.filter&&(a=a.filter((u,h,f)=>e.filter(u,h,f,i))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,i))),ve(a,u=>{const h=oh(e.callbacks,u);s.push(rt(h,"labelColor",this,u)),r.push(rt(h,"labelPointStyle",this,u)),o.push(rt(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=Ei[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const c=this._size=nh(this,i),d=Object.assign({},a,c),u=ih(this.chart,i,d),h=sh(i,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const r=this.getCaretPosition(e,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=Nn(a),{x:f,y:p}=e,{width:y,height:g}=n;let m,b,v,_,k,w;return r==="center"?(k=p+g/2,s==="left"?(m=f,b=m-o,_=k+o,w=k-o):(m=f+y,b=m+o,_=k-o,w=k+o),v=m):(s==="left"?b=f+Math.max(c,u)+o:s==="right"?b=f+y-Math.max(d,h)-o:b=this.caretX,r==="top"?(_=p,k=_-o,m=b-o,v=b+o):(_=p+g,k=_+o,m=b+o,v=b-o),w=_),{x1:m,x2:b,x3:v,y1:_,y2:k,y3:w}}drawTitle(e,n,i){const s=this.title,r=s.length;let o,a,c;if(r){const d=Qn(i.rtl,this.x,this.width);for(e.x=Gs(this,i.titleAlign,i),n.textAlign=d.textAlign(i.titleAlign),n.textBaseline="middle",o=je(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,c=0;c<r;++c)n.fillText(s[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,c+1===r&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:c,boxWidth:d}=r,u=je(r.bodyFont),h=Gs(this,"left",r),f=s.x(h),p=c<u.lineHeight?(u.lineHeight-c)/2:0,y=n.y+p;if(r.usePointStyle){const g={radius:Math.min(d,c)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=s.leftForLtr(f,d)+d/2,b=y+c/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Ca(e,g,m,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Ca(e,g,m,b)}else{e.lineWidth=he(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=s.leftForLtr(f,d),m=s.leftForLtr(s.xPlus(f,1),d-2),b=Nn(o.borderRadius);Object.values(b).some(v=>v!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,ss(e,{x:g,y,w:d,h:c,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),ss(e,{x:m,y:y+1,w:d-2,h:c-2,radius:b}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(g,y,d,c),e.strokeRect(g,y,d,c),e.fillStyle=o.backgroundColor,e.fillRect(m,y+1,d-2,c-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:c,boxWidth:d,boxPadding:u}=i,h=je(i.bodyFont);let f=h.lineHeight,p=0;const y=Qn(i.rtl,this.x,this.width),g=function(S){n.fillText(S,y.x(e.x+p),e.y+f/2),e.y+=f+r},m=y.textAlign(o);let b,v,_,k,w,C,x;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Gs(this,m,i),n.fillStyle=i.bodyColor,ve(this.beforeBody,g),p=a&&m!=="right"?o==="center"?d/2+u:d+2+u:0,k=0,C=s.length;k<C;++k){for(b=s[k],v=this.labelTextColors[k],n.fillStyle=v,ve(b.before,g),_=b.lines,a&&_.length&&(this._drawColorBox(n,e,k,y,i),f=Math.max(h.lineHeight,c)),w=0,x=_.length;w<x;++w)g(_[w]),f=h.lineHeight;ve(b.after,g)}p=0,f=h.lineHeight,ve(this.afterBody,g),e.y-=r}drawFooter(e,n,i){const s=this.footer,r=s.length;let o,a;if(r){const c=Qn(i.rtl,this.x,this.width);for(e.x=Gs(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=c.textAlign(i.footerAlign),n.textBaseline="middle",o=je(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:c}=e,{width:d,height:u}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:y}=Nn(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+h,c),o==="top"&&this.drawCaret(e,n,i,s),n.lineTo(a+d-f,c),n.quadraticCurveTo(a+d,c,a+d,c+f),o==="center"&&r==="right"&&this.drawCaret(e,n,i,s),n.lineTo(a+d,c+u-y),n.quadraticCurveTo(a+d,c+u,a+d-y,c+u),o==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(a+p,c+u),n.quadraticCurveTo(a,c+u,a,c+u-p),o==="center"&&r==="left"&&this.drawCaret(e,n,i,s),n.lineTo(a,c+h),n.quadraticCurveTo(a,c,a+h,c),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=Ei[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=nh(this,e),c=Object.assign({},o,this._size),d=ih(n,e,c),u=sh(e,c,d,n);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=et(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,n),Fp(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),Np(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:a,index:c})=>{const d=this.chart.getDatasetMeta(a);if(!d)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:d.data[c],index:c}}),r=!Tr(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,i),a=this._positionChanged(o,e),c=n||!Tr(o,r)||a;return c&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:s,options:r}=this,o=Ei[r.position].call(this,e,n);return o!==!1&&(i!==o.x||s!==o.y)}}Z(Da,"positioners",Ei);var M4={id:"tooltip",_element:Da,positioners:Ei,afterInit(t,e,n){n&&(t.tooltip=new Da({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:rg},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},A4=Object.freeze({__proto__:null,Colors:Bx,Decimation:Wx,Filler:c4,Legend:g4,SubTitle:b4,Title:y4,Tooltip:M4});const L4=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function T4(t,e,n,i){const s=t.indexOf(e);if(s===-1)return L4(t,e,n,i);const r=t.lastIndexOf(e);return s!==r?n:s}const E4=(t,e)=>t===null?null:Ye(Math.round(t),0,e);function ah(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Fa extends $n{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ue(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:T4(i,e,oe(n,e),this._addedLabels),E4(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return ah.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Z(Fa,"id","category"),Z(Fa,"defaults",{ticks:{callback:ah}});function D4(t,e){const n=[],{bounds:s,step:r,min:o,max:a,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:f}=t,p=r||1,y=u-1,{min:g,max:m}=e,b=!ue(o),v=!ue(a),_=!ue(d),k=(m-g)/(h+1);let w=nu((m-g)/y/p)*p,C,x,S,R;if(w<1e-14&&!b&&!v)return[{value:g},{value:m}];R=Math.ceil(m/w)-Math.floor(g/w),R>y&&(w=nu(R*w/y/p)*p),ue(c)||(C=Math.pow(10,c),w=Math.ceil(w*C)/C),s==="ticks"?(x=Math.floor(g/w)*w,S=Math.ceil(m/w)*w):(x=g,S=m),b&&v&&r&&x_((a-o)/r,w/1e3)?(R=Math.round(Math.min((a-o)/w,u)),w=(a-o)/R,x=o,S=a):_?(x=b?o:x,S=v?a:S,R=d-1,w=(S-x)/R):(R=(S-x)/w,Hi(R,Math.round(R),w/1e3)?R=Math.round(R):R=Math.ceil(R));const N=Math.max(iu(w),iu(x));C=Math.pow(10,ue(c)?N:c),x=Math.round(x*C)/C,S=Math.round(S*C)/C;let F=0;for(b&&(f&&x!==o?(n.push({value:o}),x<o&&F++,Hi(Math.round((x+F*w)*C)/C,o,lh(o,k,t))&&F++):x<o&&F++);F<R;++F){const O=Math.round((x+F*w)*C)/C;if(v&&O>a)break;n.push({value:O})}return v&&f&&S!==a?n.length&&Hi(n[n.length-1].value,a,lh(a,k,t))?n[n.length-1].value=a:n.push({value:a}):(!v||S===a)&&n.push({value:S}),n}function lh(t,e,{horizontal:n,minRotation:i}){const s=kt(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class Rr extends $n{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ue(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=c=>s=n?s:c,a=c=>r=i?r:c;if(e){const c=It(s),d=It(r);c<0&&d<0?a(0):c>0&&d>0&&o(0)}if(s===r){let c=r===0?1:Math.abs(r*.05);a(r+c),e||o(s-c)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=D4(s,r);return e.bounds==="ticks"&&gp(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return _s(e,this.chart.options.locale,this.options.ticks.format)}}class Na extends Rr{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Pe(e)?e:0,this.max=Pe(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=kt(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Z(Na,"id","linear"),Z(Na,"defaults",{ticks:{callback:Ur.formatters.numeric}});const os=t=>Math.floor(nn(t)),vn=(t,e)=>Math.pow(10,os(t)+e);function ch(t){return t/Math.pow(10,os(t))===1}function dh(t,e,n){const i=Math.pow(10,n),s=Math.floor(t/i);return Math.ceil(e/i)-s}function F4(t,e){const n=e-t;let i=os(n);for(;dh(t,e,i)>10;)i++;for(;dh(t,e,i)<10;)i--;return Math.min(i,os(t))}function N4(t,{min:e,max:n}){e=lt(t.min,e);const i=[],s=os(e);let r=F4(e,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),c=s>r?Math.pow(10,s):0,d=Math.round((e-c)*o)/o,u=Math.floor((e-c)/a/10)*a*10;let h=Math.floor((d-u)/Math.pow(10,r)),f=lt(t.min,Math.round((c+u+h*Math.pow(10,r))*o)/o);for(;f<n;)i.push({value:f,major:ch(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),f=Math.round((c+u+h*Math.pow(10,r))*o)/o;const p=lt(t.max,f);return i.push({value:p,major:ch(p),significand:h}),i}class Pa extends $n{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=Rr.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return Pe(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Pe(e)?Math.max(0,e):null,this.max=Pe(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Pe(this._userMin)&&(this.min=e===vn(this.min,0)?vn(this.min,-1):vn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=e?i:a,o=a=>s=n?s:a;i===s&&(i<=0?(r(1),o(10)):(r(vn(i,-1)),o(vn(s,1)))),i<=0&&r(vn(s,-1)),s<=0&&o(vn(i,1)),this.min=i,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=N4(n,this);return e.bounds==="ticks"&&gp(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":_s(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=nn(e),this._valueRange=nn(this.max)-nn(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(nn(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}Z(Pa,"id","logarithmic"),Z(Pa,"defaults",{ticks:{callback:Ur.formatters.logarithmic,major:{enabled:!0}}});function Ia(t){const e=t.ticks;if(e.display&&t.display){const n=et(e.backdropPadding);return oe(e.font&&e.font.size,Te.font.size)+n.height}return 0}function P4(t,e,n){return n=Ae(n)?n:[n],{w:$_(t,e.string,n),h:n.length*e.lineHeight}}function uh(t,e,n,i,s){return t===i||t===s?{start:e-n/2,end:e+n/2}:t<i||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function I4(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],s=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?ye/r:0;for(let c=0;c<r;c++){const d=o.setContext(t.getPointLabelContext(c));s[c]=d.padding;const u=t.getPointPosition(c,t.drawingArea+s[c],a),h=je(d.font),f=P4(t.ctx,h,t._pointLabels[c]);i[c]=f;const p=Je(t.getIndexAngle(c)+a),y=Math.round(Pl(p)),g=uh(y,u.x,f.w,0,180),m=uh(y,u.y,f.h,90,270);R4(n,e,p,g,m)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=B4(t,i,s)}function R4(t,e,n,i,s){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,c=0;i.start<e.l?(a=(e.l-i.start)/r,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),s.start<e.t?(c=(e.t-s.start)/o,t.t=Math.min(t.t,e.t-c)):s.end>e.b&&(c=(s.end-e.b)/o,t.b=Math.max(t.b,e.b+c))}function O4(t,e,n){const i=t.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=n,c=t.getPointPosition(e,i+s+o,r),d=Math.round(Pl(Je(c.angle+Oe))),u=H4(c.y,a.h,d),h=$4(d),f=z4(c.x,a.w,h);return{visible:!0,x:c.x,y:u,textAlign:h,left:f,top:u,right:f+a.w,bottom:u+a.h}}function V4(t,e){if(!e)return!0;const{left:n,top:i,right:s,bottom:r}=t;return!(Gt({x:n,y:i},e)||Gt({x:n,y:r},e)||Gt({x:s,y:i},e)||Gt({x:s,y:r},e))}function B4(t,e,n){const i=[],s=t._pointLabels.length,r=t.options,{centerPointLabels:o,display:a}=r.pointLabels,c={extra:Ia(r)/2,additionalAngle:o?ye/s:0};let d;for(let u=0;u<s;u++){c.padding=n[u],c.size=e[u];const h=O4(t,u,c);i.push(h),a==="auto"&&(h.visible=V4(h,d),h.visible&&(d=h))}return i}function $4(t){return t===0||t===180?"center":t<180?"left":"right"}function z4(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function H4(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function W4(t,e,n){const{left:i,top:s,right:r,bottom:o}=n,{backdropColor:a}=e;if(!ue(a)){const c=Nn(e.borderRadius),d=et(e.backdropPadding);t.fillStyle=a;const u=i-d.left,h=s-d.top,f=r-i+d.width,p=o-s+d.height;Object.values(c).some(y=>y!==0)?(t.beginPath(),ss(t,{x:u,y:h,w:f,h:p,radius:c}),t.fill()):t.fillRect(u,h,f,p)}}function j4(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let s=e-1;s>=0;s--){const r=t._pointLabelItems[s];if(!r.visible)continue;const o=i.setContext(t.getPointLabelContext(s));W4(n,o,r);const a=je(o.font),{x:c,y:d,textAlign:u}=r;Vn(n,t._pointLabels[s],c,d+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function og(t,e,n,i){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,Me);else{let r=t.getPointPosition(0,e);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=t.getPointPosition(o,e),s.lineTo(r.x,r.y)}}function U4(t,e,n,i,s){const r=t.ctx,o=e.circular,{color:a,lineWidth:c}=e;!o&&!i||!a||!c||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=c,r.setLineDash(s.dash||[]),r.lineDashOffset=s.dashOffset,r.beginPath(),og(t,n,o,i),r.closePath(),r.stroke(),r.restore())}function G4(t,e,n){return hn(t,{label:n,index:e,type:"pointLabel"})}class Di extends Rr{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=et(Ia(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Pe(e)&&!isNaN(e)?e:0,this.max=Pe(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ia(this.options))}generateTickLabels(e){Rr.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const s=ke(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?I4(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,s))}getIndexAngle(e){const n=Me/(this._pointLabels.length||1),i=this.options.startAngle||0;return Je(e*n+kt(i))}getDistanceFromCenterForValue(e){if(ue(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(ue(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return G4(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const s=this.getIndexAngle(e)-Oe+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[e];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),og(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,o=this._pointLabels.length;let a,c,d;if(n.pointLabels.display&&j4(this,o),s.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(h),p=s.setContext(f),y=r.setContext(f);U4(this,p,c,o,y)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=u;!f||!h||(e.lineWidth=f,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),d=this.getPointPosition(a,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!n.reverse)return;const d=i.setContext(this.getContext(c)),u=je(d.font);if(r=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=d.backdropColor;const h=et(d.backdropPadding);e.fillRect(-o/2-h.left,-r-u.size/2-h.top,o+h.width,u.size+h.height)}Vn(e,a.label,0,-r,u,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),e.restore()}drawTitle(){}}Z(Di,"id","radialLinear"),Z(Di,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ur.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Z(Di,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Z(Di,"descriptors",{angleLines:{_fallback:"grid"}});const qr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ot=Object.keys(qr);function hh(t,e){return t-e}function fh(t,e){if(ue(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:r}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Pe(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(ii(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function ph(t,e,n,i){const s=ot.length;for(let r=ot.indexOf(t);r<s-1;++r){const o=qr[ot[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return ot[r]}return ot[s-1]}function K4(t,e,n,i,s){for(let r=ot.length-1;r>=ot.indexOf(n);r--){const o=ot[r];if(qr[o].common&&t._adapter.diff(s,i,o)>=e-1)return o}return ot[n?ot.indexOf(n):0]}function Y4(t){for(let e=ot.indexOf(t)+1,n=ot.length;e<n;++e)if(qr[ot[e]].common)return ot[e]}function gh(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=Il(n,e),r=n[i]>=e?n[i]:n[s];t[r]=!0}}function Z4(t,e,n,i){const s=t._adapter,r=+s.startOf(e[0].value,i),o=e[e.length-1].value;let a,c;for(a=r;a<=o;a=+s.add(a,1,i))c=n[a],c>=0&&(e[c].major=!0);return e}function mh(t,e,n){const i=[],s={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],s[a]=o,i.push({value:a,major:!1});return r===0||!n?i:Z4(t,i,s,n)}class as extends $n{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new ik._date(e.adapters.date);s.init(n),zi(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:fh(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!a&&!isNaN(d.max)&&(r=Math.max(r,d.max))}(!o||!a)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=Pe(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=Pe(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=A_(s,r,o);return this._unit=n.unit||(i.autoSkip?ph(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):K4(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Y4(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),mh(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Ye(n,0,o),i=Ye(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||ph(r.minUnit,n,i,this._getLabelCapacity(n)),a=oe(s.ticks.stepSize,1),c=o==="week"?r.isoWeekday:!1,d=ii(c)||c===!0,u={};let h=n,f,p;if(d&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,d?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const y=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<i;f=+e.add(f,a,o),p++)gh(u,f,y);return(f===i||s.bounds==="ticks"||p===1)&&gh(u,f,y),Object.keys(u).sort(hh).map(g=>+g)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,r=this._unit,o=n||s[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,s){const r=this.options,o=r.ticks.callback;if(o)return ke(o,[e,n,i],this);const a=r.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&a[c],h=d&&a[d],f=i[n],p=d&&h&&f&&f.major;return this._adapter.format(e,s||(p?h:u))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=kt(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,mh(this,[e],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(fh(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return bp(e.sort(hh))}}Z(as,"id","time"),Z(as,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ks(t,e,n){let i=0,s=t.length-1,r,o,a,c;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=Ut(t,"pos",e)),{pos:r,time:a}=t[i],{pos:o,time:c}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=Ut(t,"time",e)),{time:r,pos:a}=t[i],{time:o,pos:c}=t[s]);const d=o-r;return d?a+(c-a)*(e-r)/d:a}class Ra extends as{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Ks(n,this.min),this._tableRange=Ks(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],r=[];let o,a,c,d,u;for(o=0,a=e.length;o<a;++o)d=e[o],d>=n&&d<=i&&s.push(d);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],c=s[o-1],d=s[o],Math.round((u+c)/2)!==d&&r.push({time:d,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Ks(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Ks(this._table,i*this._tableRange+this._minPos,!0)}}Z(Ra,"id","timeseries"),Z(Ra,"defaults",as.defaults);var q4=Object.freeze({__proto__:null,CategoryScale:Fa,LinearScale:Na,LogarithmicScale:Pa,RadialLinearScale:Di,TimeScale:as,TimeSeriesScale:Ra});const X4=[nk,Fx,A4,q4];Wt.register(...X4);const Ys={yellow:"rgb(255, 214, 0)"};function J4({data:t,height:e="200px"}){const n=J(null),i=J(null);return G(()=>{if(!n.current||!t||t.length===0){console.log("ð UsageTimelineChart: Canvas or data not ready");return}console.log("ð UsageTimelineChart: Creating chart with",t.length,"points"),i.current&&i.current.destroy();try{const s=n.current.getContext("2d");i.current=new Wt(s,{type:"line",data:{labels:t.map(r=>r.time),datasets:[{label:"Usage",data:t.map(r=>r.usage),borderColor:Ys.yellow,backgroundColor:"transparent",borderWidth:3,tension:.4,pointRadius:2,pointBackgroundColor:Ys.yellow,pointBorderColor:Ys.yellow,pointHoverRadius:6,pointHoverBackgroundColor:Ys.yellow}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",padding:12,displayColors:!1}},scales:{x:{display:!0,grid:{display:!1},ticks:{color:"rgba(255, 255, 255, 0.5)",maxRotation:0,autoSkipPadding:20}},y:{display:!0,grid:{color:"rgba(255, 255, 255, 0.05)",borderDash:[3,3]},ticks:{color:"rgba(255, 255, 255, 0.5)"}}}}}),console.log("â UsageTimelineChart created successfully")}catch(s){console.error("â UsageTimelineChart error:",s)}return()=>{i.current&&i.current.destroy()}},[t]),l("div",{style:{width:"100%",height:e,position:"relative"},children:l("canvas",{ref:n})})}const ls={HOUR_24:{key:"24h",label:"24 Stunden",hours:24,labelEn:"24 Hours",labelDe:"24 Stunden"},DAYS_7:{key:"7d",label:"7 Tage",hours:168,labelEn:"7 Days",labelDe:"7 Tage"},DAYS_30:{key:"30d",label:"30 Tage",hours:720,labelEn:"30 Days",labelDe:"30 Tage"}},Q4=ls.DAYS_7.key,ag={HOUR_IN_MS:36e5},eC={DEFAULT_DATA_POINTS:50},Gl=t=>{const e=Object.values(ls).find(n=>n.key===t);return e?e.hours:ls.DAYS_7.hours},tC=async(t,e,n="7d")=>{if(!t||!e)return console.warn("fetchEntityHistory: hass oder entityId fehlt"),[];try{const i=Gl(n),s=new Date,o=new Date(s.getTime()-i*ag.HOUR_IN_MS).toISOString(),a=s.toISOString();console.log(`ð¡ Lade History fÃ¼r ${e} (${n}):`,{startTime:o,endTime:a,hours:i});let c=[];try{if(t.callWS&&typeof t.callWS=="function"){console.log("ð Verwende WebSocket API");const d=await t.callWS({type:"history/history_during_period",start_time:o,end_time:a,entity_ids:[e],minimal_response:!1,no_attributes:!1});c=d&&d[0]?d[0]:[],console.log(`â WebSocket: ${c.length} Events empfangen`)}}catch(d){console.warn("â ï¸ WebSocket API fehlgeschlagen:",d.message)}if(c.length===0&&t.callApi){console.log("ð Fallback auf REST API");try{const d=`history/period/${o}?filter_entity_id=${e}&end_time=${a}`,u=await t.callApi("GET",d);c=u&&u[0]?u[0]:[],console.log(`â REST API: ${c.length} Events empfangen`)}catch(d){console.warn("â ï¸ REST API fehlgeschlagen:",d.message)}}return c.length===0&&console.warn(`â ï¸ Keine History-Daten fÃ¼r ${e} gefunden`),c}catch(i){return console.error("â Fehler beim Laden der History:",i),[]}},nC=(t,e="7d")=>{if(!t||!t.entity_id)return console.warn("generateMockHistory: item oder entity_id fehlt"),[];const n=Gl(e),i=new Date,s=Math.min(n,eC.DEFAULT_DATA_POINTS),r=n*ag.HOUR_IN_MS/s,o=[];for(let a=0;a<s;a++){const c=new Date(i.getTime()-(s-a)*r),d=c.getHours();let u="off",h={friendly_name:t.name||t.entity_id};switch(t.domain){case"light":case"switch":u=(d>=18||d<=7)&&Math.random()>.3?"on":"off",u==="on"&&t.domain==="light"&&(h.brightness=Math.floor(Math.random()*255));break;case"climate":const f=20+Math.sin(d/24*Math.PI*2)*3;u=Math.random()>.5?"heating":"idle",h.current_temperature=Math.round(f*10)/10,h.temperature=21;break;case"sensor":u=String(Math.round(Math.random()*100)),h.unit_of_measurement="%";break;case"binary_sensor":u=Math.random()>.7?"on":"off";break;case"cover":const p=Math.random();u=p>.7?"open":p>.3?"closed":"opening",(u==="open"||u==="closed")&&(h.current_position=u==="open"?100:0);break;default:u=Math.random()>.5?"on":"off"}o.push({entity_id:t.entity_id,state:u,attributes:h,last_changed:c.toISOString(),last_updated:c.toISOString()})}return console.log(`ð­ Mock-History generiert fÃ¼r ${t.entity_id}: ${o.length} Events`),o},iC=(t,e,n,i)=>{if(!t||t.length===0)return console.warn("transformToHistoryObject: Keine Events vorhanden"),null;console.log(`ð Transformiere ${t.length} Events fÃ¼r ${e}`);const s=oC(t,n),r=aC(t),o=sC(t,n),a=[];return console.log("â Transformation abgeschlossen:",{chartPoints:s.length,events:o.length,stats:r}),{chartData:s,stats:r,events:o,patterns:a}},sC=(t,e)=>{const n=[],i=t.slice(-50).reverse();for(let s=0;s<i.length;s++){const r=i[s],o=s<i.length-1?i[s+1]:null;let a=null;if(o){const d=new Date(o.last_changed)-new Date(r.last_changed);a=Math.abs(Math.round(d/6e4))}const c=rC(r,e);n.push({timestamp:r.last_changed,newState:r.state,oldState:o?o.state:null,description:c,duration:a,attributes:r.attributes})}return n},rC=(t,e)=>{switch(e){case"light":return t.state==="on"?t.attributes?.brightness?`Licht eingeschaltet (${Math.round(t.attributes.brightness/255*100)}%)`:"Licht eingeschaltet":"Licht ausgeschaltet";case"switch":return t.state==="on"?"Schalter aktiviert":"Schalter deaktiviert";case"climate":return t.attributes?.current_temperature?`${t.state} (${t.attributes.current_temperature}Â°C)`:t.state==="heating"?"Heizung aktiv":"Heizung inaktiv";case"binary_sensor":return t.state==="on"?"Sensor ausgelÃ¶st":"Sensor zurÃ¼ckgesetzt";case"cover":return t.state==="open"?"GeÃ¶ffnet":t.state==="closed"?"Geschlossen":t.state==="opening"?"Wird geÃ¶ffnet":t.state==="closing"?"Wird geschlossen":t.state;case"sensor":const n=t.attributes?.unit_of_measurement||"";return`Wert: ${t.state}${n}`;default:return t.state==="on"?"Eingeschaltet":"Ausgeschaltet"}},oC=(t,e)=>{const n=[],i=t.length>100?Math.floor(t.length/100):1;for(let s=0;s<t.length;s+=i){const r=t[s],o=new Date(r.last_changed),a=lC(r,e);n.push({time:o.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}),usage:Math.round(a),timestamp:r.last_changed})}return n},aC=(t,e,n)=>{if(t.length===0)return{totalChanges:0,avgDuration:0,onPercentage:0,offPercentage:0};let i=0,s=0,r=0;for(let d=1;d<t.length;d++){const u=t[d-1],h=t[d];u.state!==h.state&&i++;const f=new Date(h.last_changed)-new Date(u.last_changed);r+=f,(u.state==="on"||u.state==="heating"||u.state==="open")&&(s+=f)}const o=i>0?Math.round(r/i/6e4):0,a=r>0?Math.round(s/r*100):0,c=100-a;return{totalChanges:i,avgDuration:o,onPercentage:a,offPercentage:c}},lC=(t,e)=>{switch(e){case"light":case"switch":return t.state==="on"?t.attributes?.brightness?t.attributes.brightness/255*100:100:0;case"sensor":const n=parseFloat(t.state);return isNaN(n)?0:Math.min(100,Math.abs(n));case"climate":return t.state==="heating"?75:t.state==="cooling"?50:0;case"binary_sensor":return t.state==="on"?100:0;case"cover":return t.attributes&&typeof t.attributes.current_position=="number"?t.attributes.current_position:t.state==="open"?100:0;default:return t.state==="on"?100:0}},yh={collapsed:{height:0,opacity:0,transition:{height:{duration:.4,ease:[.16,1,.3,1]},opacity:{duration:.3,ease:"easeOut"}}},expanded:{height:"auto",opacity:1,transition:{height:{duration:.4,ease:[.16,1,.3,1]},opacity:{duration:.3,delay:.1,ease:"easeIn"}}}},bh={collapsed:{rotate:0,transition:{duration:.3,ease:[.34,1.56,.64,1]}},expanded:{rotate:45,transition:{duration:.3,ease:[.34,1.56,.64,1]}}},vh={idle:{backgroundColor:"rgba(255, 255, 255, 0)",transition:{duration:.2}},hover:{backgroundColor:"rgba(255, 255, 255, 0)",transition:{duration:.2}},tap:{scale:1,transition:{duration:.1}}},cC=(t,e)=>{const n=new Date(t);return Gl(e)<=24?n.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}):n.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})},_h=t=>{if(t<60)return`${Math.round(t)} Min`;const e=Math.floor(t/60),n=Math.round(t%60);return n>0?`${e}h ${n}m`:`${e}h`},wh=({item:t,onDataRequest:e})=>{console.log("ð¯ HistoryTab Component Rendered!",{item:t});const{hass:n}=St(),i=!n,s=J(n);G(()=>{s.current=n},[n]);const[r,o]=E(Q4),[a,c]=E(!0),[d,u]=E(!1),[h,f]=E(!1),[p,y]=E(!1),[g,m]=E(null),[b,v]=E({x:0,width:0}),_=J(null),k=Object.values(ls).map(C=>C.key);if(G(()=>{const C=()=>{if(_.current){const x=k.indexOf(r),S=_.current.querySelectorAll(".time-range-button");if(S[x]){const R=S[x],N=_.current.getBoundingClientRect(),F=R.getBoundingClientRect(),O=F.left-N.left,T=F.width;v({x:Math.round(O),width:Math.round(T)})}}};return setTimeout(C,50),window.addEventListener("resize",C),()=>{window.removeEventListener("resize",C)}},[r,k]),G(()=>{const C=setTimeout(()=>f(!0),100);return()=>clearTimeout(C)},[]),G(()=>{if(console.log("ð HistoryTab useEffect lÃ¤uft!",{item:t,timeRange:r,hass:n,isDevelopment:i}),!t||!t.entity_id){console.warn("HistoryTab: No item or entity_id provided");return}(async()=>{y(!0);try{let x;if(i?(console.log("ð­ Development-Modus: Generiere Mock-Daten fÃ¼r",t.entity_id),x=nC(t,r)):(console.log("ð¡ Production-Modus: Lade echte HA-Daten fÃ¼r",t.entity_id),x=await tC(s.current,t.entity_id,r)),x&&x.length>0){const S=iC(x,t.entity_id,t.domain);console.log("â History-Daten geladen:",{events:S.events.length,stats:S.stats,patterns:S.patterns.length,chartPoints:S.chartData.length}),console.log("ð Chart-Daten:",{chartData:S.chartData,dataLength:S.chartData.length,firstPoint:S.chartData[0],lastPoint:S.chartData[S.chartData.length-1]}),console.log("ð CHART DEBUG:",{chartDataExists:!!S.chartData,chartLength:S.chartData?.length,firstPoint:S.chartData?.[0],lastPoint:S.chartData?.[S.chartData.length-1],allPoints:S.chartData}),m(S)}else console.warn("â ï¸ Keine History-Daten gefunden"),m(null)}catch(x){console.error("â Fehler beim Laden der History:",x),m(null)}finally{y(!1)}})()},[t?.entity_id,r,i]),!t)return l("div",{className:"history-tab-container",children:l("div",{className:"no-data-message",children:[l("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l("path",{d:"M3 12h18m-9-9v18"})}),l("p",{children:"No device selected"})]})});const w=g?.stats||{totalChanges:0,avgDuration:0,onPercentage:0};return l("div",{className:`history-tab ${h?"visible":""}`,children:[l("div",{ref:_,className:"time-range-selector",children:[l(z.div,{className:"time-range-slider",animate:{x:b.x,width:b.width,scaleX:[1,1.12,.96,1.03,1],scaleY:[1,.94,1.06,.99,1]},transition:{x:{type:"spring",stiffness:280,damping:22,mass:1.5},width:{type:"spring",stiffness:280,damping:22,mass:1.5},scaleX:{duration:.6,times:[0,.2,.5,.8,1],ease:[.34,1.56,.64,1]},scaleY:{duration:.6,times:[0,.2,.5,.8,1],ease:[.34,1.56,.64,1]}}}),Object.values(ls).map(C=>l(z.button,{className:`time-range-button ${r===C.key?"active":""}`,onClick:()=>o(C.key),whileHover:{scale:1.04},whileTap:{scale:.96},transition:{duration:.2},children:C.label},C.key))]}),l("div",{className:"accordion-section",children:[l(z.div,{className:"accordion-header",onClick:()=>c(!a),variants:vh,initial:"idle",whileHover:"hover",whileTap:"tap",children:[l("div",{className:"accordion-title",children:[l("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l("path",{d:"M3 12h18M3 6h18M3 18h18M7 12v6M12 6v12M17 8v8"})}),l("span",{children:"Usage Charts"})]}),l(z.svg,{className:"accordion-icon",width:"24",height:"24",strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",variants:bh,animate:a?"expanded":"collapsed",children:l("path",{d:"M6 12H12M18 12H12M12 12V6M12 12V18",strokeLinecap:"round",strokeLinejoin:"round"})})]}),l($e,{initial:!1,children:a&&l(z.div,{className:"accordion-content",variants:yh,initial:"collapsed",animate:"expanded",exit:"collapsed",children:p?l("div",{className:"loading-container",children:l("div",{className:"loading-spinner"})}):g?l(ae,{children:l("div",{className:"chart-wrapper",children:l("div",{className:"chart-container",children:l(J4,{data:g.chartData,height:"220px"},`usage-${r}`)})})}):l("div",{className:"no-data-message",children:[l("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l("path",{d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l("p",{children:"No data available"})]})})})]}),l("div",{className:"accordion-section",children:[l(z.div,{className:"accordion-header",onClick:()=>u(!d),variants:vh,initial:"idle",whileHover:"hover",whileTap:"tap",children:[l("div",{className:"accordion-title",children:[l("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),l("span",{children:["Recent Events (",g?.events?.length||0,")"]})]}),l(z.svg,{className:"accordion-icon",width:"24",height:"24",strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",variants:bh,animate:d?"expanded":"collapsed",children:l("path",{d:"M6 12H12M18 12H12M12 12V6M12 12V18",strokeLinecap:"round",strokeLinejoin:"round"})})]}),l($e,{initial:!1,children:d&&l(z.div,{className:"accordion-content",variants:yh,initial:"collapsed",animate:"expanded",exit:"collapsed",children:l("div",{className:"text-events-list",children:g?.events&&g.events.length>0?g.events.map((C,x)=>l(z.div,{className:"event-item",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:x*.03},whileHover:{scale:1.02,backgroundColor:"rgba(0, 0, 0, 0.4)"},children:[l("span",{className:"event-time",children:cC(C.timestamp,r)}),l("span",{className:"event-description",children:C.description}),l("span",{className:`event-value ${C.newState==="on"?"event-state-on":"event-state-off"}`,children:[C.newState==="on"?"â ON":"â OFF",C.duration&&l("span",{style:{marginLeft:"8px",fontSize:"12px",opacity:.7},children:["(",_h(C.duration),")"]})]})]},x)):l("div",{className:"no-data-message",style:{height:"200px"},children:l("p",{children:"No events recorded"})})})})})]}),l("div",{className:"stats-grid",children:[l("div",{className:"stat-card",children:[l("span",{className:"stat-label",children:"Changes"}),l("span",{className:"stat-value",children:[w.totalChanges,l("span",{className:"stat-unit",children:"x"})]})]}),l("div",{className:"stat-card",children:[l("span",{className:"stat-label",children:"Avg Duration"}),l("span",{className:"stat-value",children:_h(w.avgDuration)})]}),l("div",{className:"stat-card",children:[l("span",{className:"stat-label",children:"Active Time"}),l("span",{className:"stat-value",children:[Math.round(w.onPercentage),l("span",{className:"stat-unit",children:"%"})]})]})]})]})},dC=({item:t,lang:e="de",onSettingsChange:n,initialSettings:i={}})=>{const[s,r]=E(i.temperature||null),[o,a]=E(i.hvac_mode||null),[c,d]=E(i.fan_mode||null),[u,h]=E(i.swing_mode||null),[f,p]=E(i.preset_mode||"none"),[y,g]=E(!1),b=(t?.entity||t)?.attributes||{},v={temperature:J(null),hvacMode:J(null),fanMode:J(null),swingMode:J(null),presetMode:J(null)},_=J({}),k=J(null);G(()=>{const I=setTimeout(()=>g(!0),50);return()=>clearTimeout(I)},[]),G(()=>()=>{k.current&&(k.current.querySelectorAll("div.climate-picker").forEach(V=>{V.style.display="none",V.style.height="0px",V.style.opacity="0"}),console.log("ð§¹ Climate Picker beim Unmount geschlossen"))},[]),G(()=>{console.log("ð ClimateScheduleSettings: initialSettings updated",i),i&&Object.keys(i).length>0?(i.temperature!==void 0&&r(i.temperature),i.hvac_mode!==void 0&&a(i.hvac_mode),i.fan_mode!==void 0&&d(i.fan_mode),i.swing_mode!==void 0&&h(i.swing_mode),i.preset_mode!==void 0&&p(i.preset_mode)):(r(null),a(null),d(null),h(null),p("none"))},[i]);const w=b.hvac_modes||["heat","cool","off"],C=b.fan_modes||null,x=b.swing_modes||null,S=b.preset_modes||null,R=b.min_temp||16,N=b.max_temp||30,F=b.temperature_unit||"Â°C",O=I=>({off:$("climate.off",e),heat:$("climate.heat",e),cool:$("climate.cool",e),auto:$("climate.auto",e),dry:$("climate.dry",e),fan_only:$("climate.fanOnly",e),heat_cool:$("climate.heatCool",e)})[I]||I,T=I=>({auto:$("climate.auto",e),low:$("climate.low",e),medium:$("climate.medium",e),high:$("climate.high",e),quiet:$("climate.quiet",e),turbo:$("climate.turbo",e)})[I]||I,H=I=>({off:$("climate.off",e),vertical:$("climate.vertical",e),horizontal:$("climate.horizontal",e),both:$("climate.both",e)})[I]||I,M=I=>({none:$("climate.none",e),away:$("climate.away",e),home:$("climate.home",e),eco:$("climate.eco",e),boost:$("climate.boost",e),comfort:$("climate.comfort",e),sleep:$("climate.sleep",e)})[I]||I,A=()=>{const I=[];for(let V=R;V<=N;V++)I.push(`${V}${F}`);return I};G(()=>{setTimeout(()=>{if(v.temperature.current&&!_.current.temperature){const I=A(),V=Math.max(0,s-R);new tt(v.temperature.current,{data:I,lineHeight:30,selected:V,callback:(W,j)=>{const q=parseInt(j);r(q),n&&n({temperature:q})}}),_.current.temperature=!0}if(v.hvacMode.current&&!_.current.hvacMode){const I=w.map(O),V=w.indexOf(o);new tt(v.hvacMode.current,{data:I,lineHeight:30,selected:Math.max(0,V),callback:(W,j)=>{const q=w[W];a(q),n&&n({hvac_mode:q})}}),_.current.hvacMode=!0}if(C&&v.fanMode.current&&!_.current.fanMode){const I=C.map(T),V=C.indexOf(c);new tt(v.fanMode.current,{data:I,lineHeight:30,selected:Math.max(0,V),callback:(W,j)=>{const q=C[W];d(q),n&&n({fan_mode:q})}}),_.current.fanMode=!0}if(x&&v.swingMode.current&&!_.current.swingMode){const I=x.map(H),V=x.indexOf(u);new tt(v.swingMode.current,{data:I,lineHeight:30,selected:Math.max(0,V),callback:(W,j)=>{const q=x[W];h(q),n&&n({swing_mode:q})}}),_.current.swingMode=!0}if(S&&v.presetMode.current&&!_.current.presetMode){const I=S.map(M),V=S.indexOf(f);new tt(v.presetMode.current,{data:I,lineHeight:30,selected:Math.max(0,V),callback:(W,j)=>{const q=S[W];p(q),n&&n({preset_mode:q})}}),_.current.presetMode=!0}},100)},[e]);const L=I=>{if(!k.current){console.error("â containerRef nicht verfÃ¼gbar");return}const V=k.current.querySelector(`#climate-picker-container-line-${I}`);if(!V){console.error("â Climate Picker nicht gefunden:",I);return}const W=getComputedStyle(V).display==="none";console.log("ð¯ Climate Picker Toggle:",I,W?"ÃFFNEN":"SCHLIESSEN"),k.current.querySelectorAll("div.climate-picker").forEach(q=>{getComputedStyle(q).display!=="none"&&q!==V&&(console.log("ð SchlieÃe anderen Climate Picker"),P(q,!1))}),P(V,W)},P=(I,V)=>{V?(I.style.display="block",I.animate([{height:"0px",opacity:0,transform:"translateY(-3px)"},{height:"210px",opacity:1,transform:"translateY(0px)"}],{duration:150,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fill:"forwards"}).onfinish=()=>{I.style.height="210px",I.style.opacity="1"}):I.animate([{height:"210px",opacity:1,transform:"translateY(0px)"},{height:"0px",opacity:0,transform:"translateY(-3px)"}],{duration:120,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fill:"forwards"}).onfinish=()=>{I.style.display="none",I.style.height="0px",I.style.opacity="0"}};return G(()=>{if(!k.current)return;let I=0;const V=10,W=()=>{const q=k.current?.querySelectorAll(".climate-settings-table .clickable-row");q&&q.length>0?(console.log("â Climate rows gefunden, registriere Listener:",q.length),q.forEach(U=>{const D=U.getAttribute("data-line");if(D){U._clickHandler&&U.removeEventListener("click",U._clickHandler);const Y=()=>{console.log(`ð¯ Row ${D} geklickt`),L(D)};U.addEventListener("click",Y),U._clickHandler=Y}})):(I++,I<V?(console.log(`â³ Versuch ${I}/${V}: Rows noch nicht da, warte...`),setTimeout(W,200)):console.error("â Climate rows nicht gefunden nach 10 Versuchen!"))},j=setTimeout(W,100);return()=>{clearTimeout(j),k.current&&k.current.querySelectorAll(".climate-settings-table .clickable-row").forEach(U=>{U._clickHandler&&(U.removeEventListener("click",U._clickHandler),delete U._clickHandler,console.log("ð§¹ Event-Listener entfernt von Row:",U.getAttribute("data-line")))})}},[y]),l("div",{ref:k,className:`climate-schedule-settings ${y?"visible":""}`,children:[l("style",{children:`
        .climate-schedule-settings {
          opacity: 0;
          transform: translateY(10px);
          transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
          position: relative;
          z-index: 10;
        }

        .climate-schedule-settings.visible {
          opacity: 1;
          transform: translateY(0);
        }

        /* Reuse existing picker styles from ScheduleTab */
        .climate-settings-table {
          margin-top: 0;
          margin-bottom: 0;
          background: transparent;
          border-radius: 0;
          overflow: visible;
          position: relative;
          z-index: 10;
        }

        .climate-settings-table table { 
          width: 100%; 
          font-size: 15px;
          border-collapse: collapse;
          font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
          letter-spacing: normal;
        }
        
        .climate-settings-table table th { 
          text-align: left; 
          font-weight: 500;
          height: 45px; 
          border-bottom: 1px solid rgba(255, 255, 255, 0.1); 
          padding: 0 16px; 
          cursor: pointer; 
          color: rgba(255, 255, 255, 0.95);
          letter-spacing: normal;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }
        
        .climate-settings-table table td { 
          text-align: right; 
          font-weight: 500;
          color: rgba(255, 255, 255, 0.7);
          border-bottom: 1px solid rgba(255, 255, 255, 0.1); 
          padding: 0 16px; 
          cursor: pointer;
          letter-spacing: normal;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }

        /* Last row without border */
        .climate-settings-table tr[data-line]:last-of-type th,
        .climate-settings-table tr[data-line]:last-of-type td {
          border-bottom: none !important;
        }

        .climate-settings-table table td.picker { 
          border: none; 
          cursor: default; 
          padding: 0; 
        }

        div.climate-picker { 
          display: none; 
          overflow: hidden; 
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Last picker without border */
        .climate-settings-table tr:last-child td.picker div.climate-picker {
          border-bottom: none !important;
        }

        .clickable-row { 
          cursor: pointer;
          position: relative;
          z-index: 10;
        }

        .picker-wrapper, .picker-wrapper * { 
          box-sizing: border-box; 
          -webkit-user-select: none; 
          user-select: none; 
          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
        }

        .picker-wrapper { 
          text-align: center; 
          position: relative; 
          height: 210px; 
          display: inline-block; 
          line-height: 30px; 
          width: 100%; 
          font-size: 18px; 
          perspective: 1000px; 
          perspective-origin: center center; 
        }

        .picker-scroller { 
          transform: translateZ(-90px) rotateX(0deg); 
          transform-style: preserve-3d; 
          height: 100%; 
          will-change: transform; 
        }

        .picker-scroller .option { 
          position: absolute; 
          backface-visibility: hidden; 
          width: 100%; 
          color: rgba(255, 255, 255, 0.4); 
          transform-origin: 50% 50%; 
          transform-style: preserve-3d; 
          opacity: 1; 
          transition: opacity 0.2s, color 0.2s; 
          pointer-events: auto; 
        }

        .picker-scroller .option.is-hidden { 
          opacity: 0; 
          pointer-events: none; 
        }

        .picker-scroller .option.is-center { 
          color: rgba(255, 255, 255, 0.9); 
        }

        .picker-up { 
          position: absolute; 
          top: 0; 
          z-index: 2; 
          background: linear-gradient(to bottom, rgba(0, 0, 0, 0.25) 0%, rgba(0, 0, 0, 0) 100%); 
          width: 100%; 
          height: 90px; 
          border-bottom: 1px solid rgba(255, 255, 255, 0.3); 
          pointer-events: none; 
        }

        .picker-down { 
          position: absolute; 
          top: 120px; 
          z-index: 2; 
          background: linear-gradient(to top, rgba(0, 0, 0, 0.25) 0%, rgba(0, 0, 0, 0) 100%); 
          width: 100%; 
          height: 90px; 
          border-top: 1px solid rgba(255, 255, 255, 0.3); 
          pointer-events: none; 
        }

        .clone-scroller { 
          z-index: 5; 
          overflow: auto; 
          height: 100%; 
          position: absolute; 
          top: 0; 
          width: 100%; 
          padding-top: 90px; 
          padding-bottom: 90px; 
          scrollbar-width: none; 
          -ms-overflow-style: none; 
        }

        .clone-scroller::-webkit-scrollbar { 
          display: none; 
        }

        .clone-scroller .option { 
          visibility: hidden; 
        }
      `}),l("div",{className:"climate-settings-table",children:l("table",{children:l("tbody",{children:[l("tr",{className:"clickable-row","data-line":"1",children:[l("th",{children:$("climate.temperature",e)}),l("td",{className:"value-line-1",children:s!==null?`${s}${F}`:$("common.pleaseSelect",e)})]}),l("tr",{children:l("td",{className:"picker",colspan:"2",children:l("div",{className:"climate-picker",id:"climate-picker-container-line-1",children:l("div",{id:"climate-picker-line-1",ref:v.temperature})})})}),l("tr",{className:"clickable-row","data-line":"2",children:[l("th",{children:$("climate.hvacMode",e)}),l("td",{className:"value-line-2",children:o!==null?O(o):$("common.pleaseSelect",e)})]}),l("tr",{children:l("td",{className:"picker",colspan:"2",children:l("div",{className:"climate-picker",id:"climate-picker-container-line-2",children:l("div",{id:"climate-picker-line-2",ref:v.hvacMode})})})}),C&&l(ae,{children:[l("tr",{className:"clickable-row","data-line":"3",children:[l("th",{children:$("climate.fanMode",e)}),l("td",{className:"value-line-3",children:c!==null?T(c):$("common.pleaseSelect",e)})]}),l("tr",{children:l("td",{className:"picker",colspan:"2",children:l("div",{className:"climate-picker",id:"climate-picker-container-line-3",children:l("div",{id:"climate-picker-line-3",ref:v.fanMode})})})})]}),x&&l(ae,{children:[l("tr",{className:"clickable-row","data-line":"4",children:[l("th",{children:$("climate.swingMode",e)}),l("td",{className:"value-line-4",children:u!==null?H(u):$("common.pleaseSelect",e)})]}),l("tr",{children:l("td",{className:"picker",colspan:"2",children:l("div",{className:"climate-picker",id:"climate-picker-container-line-4",children:l("div",{id:"climate-picker-line-4",ref:v.swingMode})})})})]}),S&&l(ae,{children:[l("tr",{className:"clickable-row","data-line":"5",children:[l("th",{children:$("climate.presetMode",e)}),l("td",{className:"value-line-5",children:M(f)})]}),l("tr",{children:l("td",{className:"picker",colspan:"2",children:l("div",{className:"climate-picker",id:"climate-picker-container-line-5",children:l("div",{id:"climate-picker-line-5",ref:v.presetMode})})})})]})]})})})]})},uC=({activeTab:t,onTabChange:e,showPicker:n=!1,t:i})=>{const[s,r]=E({x:0,width:0}),o=J(null);return G(()=>{const a=()=>{if(o.current){const d=["all","timer","schedule"].indexOf(t),u=o.current.querySelectorAll(".filter-tab");if(u[d]){const h=u[d],f=o.current.getBoundingClientRect(),p=h.getBoundingClientRect(),y=p.left-f.left,g=p.width;r({x:Math.round(y),width:Math.round(g)})}}};return setTimeout(a,50),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[t]),l("div",{ref:o,className:`scheduler-filter ${n?"hidden":""}`,children:[l(z.div,{style:{position:"absolute",top:4,left:0,height:"calc(100% - 8px)",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.4), rgba(139, 92, 246, 0.4))",borderRadius:8,zIndex:1,boxShadow:"0 8px 32px rgba(59, 130, 246, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.2), inset 0 -1px 0 rgba(0, 0, 0, 0.1)",transformOrigin:"left center"},animate:{x:s.x,width:s.width,scaleX:[1,1.12,.96,1.03,1],scaleY:[1,.94,1.06,.99,1]},transition:{x:{type:"spring",stiffness:280,damping:22,mass:1.5},width:{type:"spring",stiffness:280,damping:22,mass:1.5},scaleX:{duration:.6,times:[0,.2,.5,.8,1],ease:[.34,1.56,.64,1]},scaleY:{duration:.6,times:[0,.2,.5,.8,1],ease:[.34,1.56,.64,1]}}}),["all","timer","schedule"].map(a=>l(z.button,{className:`filter-tab ${t===a?"active":""}`,onClick:()=>e(a),whileHover:{scale:1.04},whileTap:{scale:.96},transition:{duration:.2},children:i(a==="all"?"all":a==="timer"?"timer":"schedules")},a))]})},hC=({item:t,index:e,onItemClick:n,onDelete:i,t:s})=>{const r=c=>c?.type==="timer"||c==="timer"?l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[l("path",{d:"M12 12C15.866 12 19 8.86599 19 5H5C5 8.86599 8.13401 12 12 12ZM12 12C15.866 12 19 15.134 19 19H5C5 15.134 8.13401 12 12 12Z",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M5 2L12 2L19 2",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M5 22H12L19 22",strokeLinecap:"round",strokeLinejoin:"round"})]}):l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[l("path",{d:"M9 2L15 2",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M12 10L12 14",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M12 22C16.4183 22 20 18.4183 20 14C20 9.58172 16.4183 6 12 6C7.58172 6 4 9.58172 4 14C4 18.4183 7.58172 22 12 22Z",strokeLinecap:"round",strokeLinejoin:"round"})]}),o=c=>{if(c.type==="timer")return`${s("atTime")} ${c.time} - ${s("remaining")} ${c.remaining} ${s("minutes")}`;if(c.days){const u=Array.isArray(c.days)?c.days.join(", "):c.days;return`${s("atTime")} ${c.time} - ${u}`}return`${s("atTime")} ${c.time}`},a=c=>{c.stopPropagation(),i(t)};return l(z.div,{className:"scheduler-item",onClick:()=>n(t),whileHover:{scale:1.02},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:e*.05},children:[l("div",{className:"item-icon",children:r(t)}),l("div",{className:"item-content",children:[l("div",{className:"item-name",children:[l("span",{children:t.action}),l("span",{className:`item-type ${t.type}`,children:t.type==="timer"?s("timer"):s("scheduleMode")})]}),l("div",{className:"item-time",children:o(t)})]}),l("div",{className:"item-actions",children:l("button",{className:"item-delete",onClick:a,children:l("svg",{width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"1.5",fill:"none",children:[l("path",{d:"M20 9L18.005 20.3463C17.8369 21.3026 17.0062 22 16.0353 22H7.96474C6.99379 22 6.1631 21.3026 5.99496 20.3463L4 9",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M21 6L15.375 6M3 6L8.625 6M8.625 6V4C8.625 2.89543 9.52043 2 10.625 2H13.375C14.4796 2 15.375 2.89543 15.375 4V6M8.625 6L15.375 6",strokeLinecap:"round",strokeLinejoin:"round"})]})})})]},t.id)},fC=({items:t,isLoading:e,activeTab:n,showPicker:i,onItemClick:s,onDelete:r,t:o})=>l("div",{className:`scheduler-items ${i?"hidden":""}`,children:e?l("div",{className:"scheduler-loading",children:l("div",{className:"loading-text",children:"Lade Scheduler..."})}):t.length===0?l("div",{className:"empty-state",children:[l("div",{className:"empty-icon",children:n==="timer"?"â±ï¸":n==="schedule"?"ð":"â°"}),l("div",{children:o(n==="timer"?"noTimers":n==="schedule"?"noSchedules":"noEntries")})]}):t.map((a,c)=>l(hC,{item:a,index:c,onItemClick:s,onDelete:r,t:o},a.id))}),pC=({onClick:t,t:e})=>l("div",{className:"add-button-container",children:l(z.button,{className:"control-button",onClick:t,whileHover:{scale:1.04},whileTap:{scale:.96},transition:{duration:.2},children:[l("div",{className:"button-icon",children:l("svg",{width:"24",height:"24",strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",children:l("path",{d:"M6 12H12M18 12H12M12 12V6M12 12V18",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),l("span",{className:"button-text",children:e("add")})]})}),gC=({showPicker:t,schedulerValue:e,daysValue:n,editingItem:i,onCancel:s,onConfirm:r,t:o})=>{if(!t)return null;const a=e===o("timerMode")&&n===o("noDays"),c=!a&&n===o("noDays");return l("div",{className:"picker-actions",children:[l("button",{className:"picker-btn cancel",onClick:s,children:o("cancel")}),l("button",{className:`picker-btn confirm ${c?"disabled":""}`,onClick:async()=>{if(!c)try{await r(a,i)}catch(d){console.error("â Fehler:",d),alert(i?`Fehler beim Aktualisieren: ${d.message}`:`Fehler beim Erstellen: ${d.message}`)}},children:o(i?"save":"confirm")})]})},mC=({showPicker:t,editingItem:e,actionValue:n,showCoverSettings:i,coverPosition:s,schedulerValue:r,timeFormatValue:o,daysValue:a,repeatValue:c,timeValue:d,showClimateSettings:u,climateSettings:h,pickerKey:f,item:p,lang:y,pickerRefs:g,onRowClick:m,onClimateSettingsChange:b,t:v})=>t?l("div",{className:`picker-table-container ${e?"editing":""}`,children:l("table",{children:l("tbody",{children:[l("tr",{className:"clickable-row","data-line":"1",onClick:()=>m("1"),children:[l("th",{children:v("action")}),l("td",{className:"value-line-1",children:n})]}),l("tr",{children:l("td",{className:"picker",colspan:"2",children:l("div",{className:"picker",id:"picker-container-line-1",children:l("div",{id:"picker-line-1",ref:g.action})})})}),i&&l(ae,{children:[l("tr",{className:"clickable-row","data-line":"2",onClick:()=>m("2"),children:[l("th",{children:v("position")}),l("td",{className:"value-line-2",children:[s,"%"]})]}),l("tr",{children:l("td",{className:"picker",colspan:"2",children:l("div",{className:"picker",id:"picker-container-line-2",children:l("div",{id:"picker-line-2",ref:g.position})})})})]}),l("tr",{className:"clickable-row","data-line":"3",onClick:()=>m("3"),children:[l("th",{children:v("scheduler")}),l("td",{className:"value-line-3",children:r})]}),l("tr",{children:l("td",{className:"picker",colspan:"2",children:l("div",{className:"picker",id:"picker-container-line-3",children:l("div",{id:"picker-line-3",ref:g.scheduler})})})}),l("tr",{className:"clickable-row schedule-option","data-line":"4",style:{display:r===v("timerMode")?"none":"table-row"},onClick:()=>m("4"),children:[l("th",{children:v("timeFormat")}),l("td",{className:"value-line-4",children:o})]}),l("tr",{className:"schedule-option",style:{display:r===v("timerMode")?"none":"table-row"},children:l("td",{className:"picker",colspan:"2",children:l("div",{className:"picker",id:"picker-container-line-4",children:l("div",{id:"picker-line-4",ref:g.timeFormat})})})}),l("tr",{className:"clickable-row schedule-option","data-line":"5",style:{display:r===v("timerMode")?"none":"table-row"},onClick:()=>m("5"),children:[l("th",{children:v("days")}),l("td",{className:"value-line-5",children:a})]}),l("tr",{className:"schedule-option",style:{display:r===v("timerMode")?"none":"table-row"},children:l("td",{className:"picker",colspan:"2",children:l("div",{className:"picker",id:"picker-container-line-5",children:l("div",{id:"picker-line-5",ref:g.days})})})}),l("tr",{className:"clickable-row schedule-option","data-line":"6",style:{display:r===v("timerMode")?"none":"table-row"},onClick:()=>m("6"),children:[l("th",{children:v("repeat")}),l("td",{className:"value-line-6",children:c})]}),l("tr",{className:"schedule-option",style:{display:r===v("timerMode")?"none":"table-row"},children:l("td",{className:"picker",colspan:"2",children:l("div",{className:"picker",id:"picker-container-line-6",children:l("div",{id:"picker-line-6",ref:g.repeat})})})}),l("tr",{className:"clickable-row","data-line":"7",onClick:()=>m("7"),children:[l("th",{id:"time-label",children:r===v("timerMode")?v("timerMode"):v("scheduleMode")}),l("td",{className:"value-line-7",children:d})]}),l("tr",{children:l("td",{className:"picker",colspan:"2",children:l("div",{className:"picker",id:"picker-container-line-7",children:l("div",{className:"time-picker-container",children:[l("div",{id:"picker-line-6-hours",ref:g.hoursRef}),l("div",{className:"time-picker-separator",children:l("svg",{viewBox:"0 0 10 20",xmlns:"http://www.w3.org/2000/svg",children:[l("circle",{cx:"5",cy:"5",r:"2.5"}),l("circle",{cx:"5",cy:"15",r:"2.5"})]})}),l("div",{id:"picker-line-6-minutes",ref:g.minutesRef})]})})})}),u&&l("tr",{children:l("td",{colspan:"2",style:{padding:0,border:"none"},children:l(dC,{item:p,lang:y,initialSettings:h,onSettingsChange:b},f)})})]})})}):null,yC=t=>{const{hass:e}=St(),n=!e,i=J(e);G(()=>{i.current=e},[e]);const[s,r]=E([]),[o,a]=E([]),[c,d]=E(!0),[u,h]=E(0),f=ge(async()=>{if(!t||!t.entity_id){console.warn("useScheduleData: No item or entity_id provided");return}d(!0);try{let g;if(n?(console.log("ð­ Development-Modus: Generiere Mock-Schedules fÃ¼r",t.entity_id),g=p5(t)):(console.log("ð¡ Production-Modus: Lade echte HA-Schedules fÃ¼r",t.entity_id),g=await h5(i.current,t.entity_id)),g&&g.length>0){const m=g5(g,t.entity_id,t.domain);console.log("â Schedule-Daten geladen:",{schedules:m.activeSchedules.length,timers:m.activeTimers.length,stats:m.stats}),a(m.activeSchedules),r(m.activeTimers)}else console.warn("â ï¸ Keine Schedules gefunden fÃ¼r",t.entity_id),a([]),r([]);d(!1)}catch(g){console.error("â Fehler beim Laden der Schedules:",g),a([]),r([]),d(!1)}},[t?.entity_id,n]);G(()=>{console.log("ð useScheduleData: Loading data...",{item:t,hass:e,isDevelopment:n}),f()},[f,u]),G(()=>{if(s.length===0)return;const g=setInterval(()=>{console.log("ð Auto-Update: Lade Timer neu"),f()},6e4);return()=>clearInterval(g)},[s.length,f]);const p=ge(async g=>{if(g.type==="timer"?r(m=>m.filter(b=>b.id!==g.id)):a(m=>m.filter(b=>b.id!==g.id)),!n&&i.current)try{await m5(i.current,g.id),setTimeout(()=>f(),500)}catch(m){console.error("â Fehler beim LÃ¶schen:",m)}},[n,f]),y=ge(()=>{h(g=>g+1)},[]);return{timers:s,schedules:o,isLoading:c,refresh:y,deleteItem:p,setTimers:r,setSchedules:a}},bC=(t,e)=>{switch(e.type){case"SET_ACTION":return{...t,actionValue:e.payload};case"SET_SCHEDULER":return{...t,schedulerValue:e.payload};case"SET_TIME_FORMAT":return{...t,timeFormatValue:e.payload};case"SET_DAYS":return{...t,daysValue:e.payload};case"SET_REPEAT":return{...t,repeatValue:e.payload};case"SET_TIME":return{...t,timeValue:e.payload};case"SET_EDITING_ITEM":return{...t,editingItem:e.payload};case"SET_CLIMATE_SETTINGS":return{...t,climateSettings:e.payload,showClimateSettings:Object.keys(e.payload).length>0};case"SET_COVER_POSITION":return{...t,coverPosition:e.payload};case"SET_SHOW_CLIMATE_SETTINGS":return{...t,showClimateSettings:e.payload};case"SET_SHOW_COVER_SETTINGS":return{...t,showCoverSettings:e.payload};case"INCREMENT_PICKER_KEY":return{...t,pickerKey:t.pickerKey+1};case"RESET_FORM":const n=e.payload?.isCover,i=e.payload?.isClimate,s=e.payload?.t;return{...t,actionValue:s(n?"open":"turnOn"),schedulerValue:s("timerMode"),timeFormatValue:s("format24h"),daysValue:s("noDays"),repeatValue:s("once"),timeValue:"00:00",editingItem:null,climateSettings:{},coverPosition:50,showClimateSettings:i,showCoverSettings:!1,pickerKey:t.pickerKey+1};case"LOAD_EDIT_DATA":return{...t,editingItem:e.payload.item,actionValue:e.payload.actionValue,schedulerValue:e.payload.schedulerValue,timeValue:e.payload.timeValue,daysValue:e.payload.daysValue,climateSettings:e.payload.climateSettings||{},showClimateSettings:e.payload.showClimateSettings||!1,coverPosition:e.payload.coverPosition||50,showCoverSettings:e.payload.showCoverSettings||!1};default:return t}},vC=(t="de",e)=>{const n=ge(a=>$(`schedule.${a}`,t),[t]),i={actionValue:e?.domain==="cover"?n("open"):n("turnOn"),schedulerValue:n("timerMode"),timeFormatValue:n("format24h"),daysValue:n("noDays"),repeatValue:n("once"),timeValue:"00:00",editingItem:null,showClimateSettings:e?.domain==="climate",climateSettings:{},showCoverSettings:!1,coverPosition:50,pickerKey:0},[s,r]=uf(bC,i),o={setAction:ge(a=>{r({type:"SET_ACTION",payload:a})},[]),setScheduler:ge(a=>{r({type:"SET_SCHEDULER",payload:a})},[]),setTimeFormat:ge(a=>{r({type:"SET_TIME_FORMAT",payload:a})},[]),setDays:ge(a=>{r({type:"SET_DAYS",payload:a})},[]),setRepeat:ge(a=>{r({type:"SET_REPEAT",payload:a})},[]),setTime:ge(a=>{r({type:"SET_TIME",payload:a})},[]),setEditingItem:ge(a=>{r({type:"SET_EDITING_ITEM",payload:a})},[]),setClimateSettings:ge(a=>{r({type:"SET_CLIMATE_SETTINGS",payload:a})},[]),setCoverPosition:ge(a=>{r({type:"SET_COVER_POSITION",payload:a})},[]),setShowClimateSettings:ge(a=>{r({type:"SET_SHOW_CLIMATE_SETTINGS",payload:a})},[]),setShowCoverSettings:ge(a=>{r({type:"SET_SHOW_COVER_SETTINGS",payload:a})},[]),incrementPickerKey:ge(()=>{r({type:"INCREMENT_PICKER_KEY"})},[]),resetForm:ge(()=>{r({type:"RESET_FORM",payload:{isCover:e?.domain==="cover",isClimate:e?.domain==="climate",t:n}})},[e?.domain,n]),loadEditData:ge(a=>{r({type:"LOAD_EDIT_DATA",payload:a})},[])};return{...s,...o}},kh=t=>{const[e,n]=t.split(":").map(h=>parseInt(h)),i=e*60+n,s=new Date,r=new Date(s.getTime()+i*6e4),o=r.getHours().toString().padStart(2,"0"),a=r.getMinutes().toString().padStart(2,"0"),c=`${o}:${a}`,u=["sun","mon","tue","wed","thu","fri","sat"][r.getDay()];return{timeString:c,weekday:u,debug:{now:`${s.getHours()}:${s.getMinutes()}`,countdown:`${e}h ${n}min`,target:c,weekday:u}}},xh=(t,e,n)=>t===e("noDays")?[]:t===e("daily")?["daily"]:t===e("weekdays")?["mon","tue","wed","thu","fri"]:t===e("weekend")?["sat","sun"]:t.split(", ").map(i=>({[e("monday")]:"mon",[e("tuesday")]:"tue",[e("wednesday")]:"wed",[e("thursday")]:"thu",[e("friday")]:"fri",[e("saturday")]:"sat",[e("sunday")]:"sun"})[i]||i.toLowerCase().slice(0,3)),_C=(t,e,n,i,s)=>{if(!t.current)return null;let r,o;return n?(r=[i("open"),i("close"),i("setPosition")],o=e===i("open")?0:e===i("close")?1:e===i("setPosition")?2:0):(r=[i("turnOn"),i("turnOff")],o=e===i("turnOn")?0:1),new tt(t.current,{data:r,lineHeight:30,selected:o,callback:(a,c)=>s(c)})},wC=(t,e,n)=>{if(!t.current)return null;const i=["0%","10%","20%","30%","40%","50%","60%","70%","80%","90%","100%"],s=i.indexOf(`${e}%`);return new tt(t.current,{data:i,lineHeight:30,selected:s>=0?s:5,callback:(r,o)=>{const a=parseInt(o);n(a)}})},kC=(t,e,n,i,s)=>{if(!t.current)return null;const r=e===n("timerMode")?0:1;return new tt(t.current,{data:[n("timerMode"),n("scheduleMode")],lineHeight:30,selected:r,callback:(o,a)=>{i(a),s(a===n("timerMode")?"Timer":"Schedule")}})},xC=(t,e,n,i)=>t.current?new tt(t.current,{data:[e("formatAM"),e("formatPM"),e("format24h")],lineHeight:30,selected:2,callback:(s,r)=>{if(n(r),i.current){const o=r===e("format24h")?"24h":r===e("formatAM")?"AM":"PM";i.current.setHourMode(o)}}}):null,CC=(t,e,n,i)=>{if(!t.current)return null;const s=new z5(t.current,{data:e,lineHeight:30,selectedDays:[],callback:(r,o)=>{let a=n("noDays");r.length===7?a=n("daily"):r.length===5&&r.every(c=>e.slice(0,5).includes(c))?a=n("weekdays"):r.length===2&&r.every(c=>e.slice(5,7).includes(c))?a=n("weekend"):r.length>0&&(a=r.join(", ")),i(a)}});return s.updateButtonState=function(){const r=this.data[this.currentIndex];this.selectedDays.includes(r)?(this.selectButton.textContent=n("deselectDay"),this.selectButton.classList.add("deselect")):(this.selectButton.textContent=n("selectDay"),this.selectButton.classList.remove("deselect")),this.selectButton.classList.remove("is-hidden")},s},SC=(t,e,n)=>t.current?new tt(t.current,{data:[e("regular"),e("once")],lineHeight:30,selected:1,callback:(i,s)=>n(s)}):null,MC=(t,e,n,i)=>{if(!t.current||!e.current)return null;const[s,r]=n?n.split(":"):["00","00"];return new $5(t.current,e.current,{minuteStep:5,initialHour:s||"00",initialMinute:r||"00",lineHeight:30,hourMode:"24h",callback:(o,a,c)=>i(c)})},Zs=(t,e,n,i,s)=>{if(t?.domain==="climate"&&e===s("turnOn")&&Object.keys(n).length>0)return{service:"climate.set_temperature",entity_id:t.entity_id,service_data:n};if(t?.domain==="cover"){if(e===s("open"))return{service:"cover.open_cover",entity_id:t.entity_id};if(e===s("close"))return{service:"cover.close_cover",entity_id:t.entity_id};if(e===s("setPosition"))return{service:"cover.set_cover_position",entity_id:t.entity_id,service_data:{position:i}}}return{service:e===s("turnOn")?`${t.domain}.turn_on`:`${t.domain}.turn_off`,entity_id:t.entity_id}},AC=(t,e,n,i,s,r)=>{e==="open_cover"?n(r("open")):e==="close_cover"?n(r("close")):e==="set_cover_position"&&(n(r("setPosition")),t.serviceData?.position!==void 0?(console.log("ð½ Lade Cover-Position:",t.serviceData.position),i(t.serviceData.position)):i(50),s(!0))},LC=(t,e,n,i,s,r)=>{n(r(e==="set_temperature"?"turnOn":"turnOff")),t.serviceData&&Object.keys(t.serviceData).length>0?(console.log("ð¡ï¸ Lade Climate-Settings:",t.serviceData),i(t.serviceData),s(!0)):(i({}),s(!1))},TC=(t,e,n)=>{e(n(t==="turn_on"?"turnOn":"turnOff"))},EC=(t,e,n,i,s)=>{e(s("timerMode"));const r=Math.floor(t.remaining/60),o=t.remaining%60,a=`${r.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`;n(a),i(s("noDays"))},DC=(t,e,n,i,s,r)=>{if(e(r("scheduleMode")),n(t.time),t.days)i(t.days);else if(t.daysRaw){const o=s();t.daysRaw.length===7?i(r("daily")):t.daysRaw.length===5&&t.daysRaw.every(a=>o.slice(0,5).includes(a))?i(r("weekdays")):t.daysRaw.length===2&&t.daysRaw.every(a=>o.slice(5,7).includes(a))?i(r("weekend")):t.daysRaw.length>0?i(t.daysRaw.join(", ")):i(r("noDays"))}else i(r("noDays"))},FC=(t,e)=>({heat:$("ui.climate.heat",e),cool:$("ui.climate.cool",e),auto:$("ui.climate.auto",e),dry:$("ui.climate.dry",e),fan_only:$("ui.climate.fanOnly",e),off:$("ui.climate.off",e)})[t]||t,NC=(t,e,n,i,s,r)=>{const o=t?.area||t?.name||t?.friendly_name||t?.attributes?.friendly_name||t?.entity_id?.split(".")[1]?.replace(/_/g," ")||"GerÃ¤t";if(t?.domain==="climate"&&Object.keys(n).length>0){const a=FC(n.hvac_mode,s),c=n.temperature;return`${o} / ${a} / ${c}Â°C`}else return t?.domain==="cover"&&e===r("setPosition")?`${o} / ${r("position")} ${i}%`:`${o} / ${e}`},PC=({item:t,onTimerCreate:e,onScheduleCreate:n,lang:i="de"})=>{const{hass:s}=St(),r=!s,{timers:o,schedules:a,isLoading:c,refresh:d,deleteItem:u}=yC(t),{actionValue:h,schedulerValue:f,timeFormatValue:p,daysValue:y,repeatValue:g,timeValue:m,editingItem:b,showClimateSettings:v,climateSettings:_,showCoverSettings:k,coverPosition:w,pickerKey:C,setAction:x,setScheduler:S,setTimeFormat:R,setDays:N,setRepeat:F,setTime:O,setEditingItem:T,setClimateSettings:H,setCoverPosition:M,setShowClimateSettings:A,setShowCoverSettings:L,resetForm:P}=vC(i,t);console.log("ð¨ð¨ð¨ SCHEDULETAB RENDERED ð¨ð¨ð¨",{item:t,hass:s,isDevelopment:r});const I=J(s);G(()=>{I.current=s},[s]);const[V,W]=E("all"),[j,q]=E(null),[U,D]=E(!1),[Y,K]=E(!1),te=ne=>$(`schedule.${ne}`,i),qe=()=>[te("monday"),te("tuesday"),te("wednesday"),te("thursday"),te("friday"),te("saturday"),te("sunday")];G(()=>{const ne=setTimeout(()=>K(!0),50);return()=>clearTimeout(ne)},[]),G(()=>{const ne=t?.domain==="climate",re=h===te("turnOn");A(ne&&re),re||H({})},[h,t?.domain]),G(()=>{const ne=t?.domain==="cover",re=h===te("setPosition");L(ne&&re),re||M(50)},[h,t?.domain]);const B=()=>{P(),q(null),D(!1),console.log("ð§½ Alle Picker-States zurÃ¼ckgesetzt + Picker neu gemountet")},ee={action:J(null),position:J(null),scheduler:J(null),timeFormat:J(null),days:J(null),repeat:J(null),hoursRef:J(null),minutesRef:J(null)},X=J({}),fe=J(null),Ee=J(null),dt=()=>V==="all"?[...o,...a]:V==="timer"?o:a;G(()=>{if(!U){X.current={};return}const ne=()=>{Object.keys(ee).forEach(be=>{ee[be].current?._pickerInstance&&(ee[be].current._pickerInstance=null)}),fe.current&&(fe.current=null)},re=setTimeout(()=>{const be=qe(),Ue=t?.domain==="cover";if(!X.current.action){const pe=_C(ee.action,h,Ue,te,x);pe&&(ee.action.current._pickerInstance=pe,X.current.action=!0)}if(!X.current.position&&k){const pe=wC(ee.position,w,M);pe&&(ee.position.current._pickerInstance=pe,X.current.position=!0)}if(!X.current.scheduler){const pe=kC(ee.scheduler,f,te,S,Ve);pe&&(ee.scheduler.current._pickerInstance=pe,X.current.scheduler=!0)}if(!X.current.timeFormat){const pe=xC(ee.timeFormat,te,R,fe);pe&&(ee.timeFormat.current._pickerInstance=pe,X.current.timeFormat=!0)}if(!X.current.days){const pe=CC(ee.days,be,te,N);pe&&(ee.days.current._pickerInstance=pe,X.current.days=!0)}if(!X.current.repeat){const pe=SC(ee.repeat,te,F);pe&&(ee.repeat.current._pickerInstance=pe,X.current.repeat=!0)}if(!X.current.time){const pe=MC(ee.hoursRef,ee.minutesRef,m,O);pe&&(fe.current=pe,X.current.time=!0)}},100);return()=>{clearTimeout(re),ne()}},[U,i,h,f,m]);const Ve=ne=>{if(!Ee.current)return;const re=ne==="Timer";Ee.current.querySelectorAll(".schedule-option").forEach(pe=>{pe.style.display=re?"none":"table-row"});const Ue=Ee.current.querySelector("#time-label");Ue&&(Ue.textContent=te(re?"timerMode":"scheduleMode")),re&&fe.current&&(fe.current.selectedHour="00",fe.current.selectedMinute="00",fe.current.hourMode="24h",fe.current.reinitHours(),fe.current.updateValue())},de=ne=>{if(!Ee.current)return;const re=Ee.current.querySelector(`#picker-container-line-${ne}`);if(!re)return;const be=getComputedStyle(re).display==="none";Ee.current.querySelectorAll("div.picker").forEach(pe=>{getComputedStyle(pe).display!=="none"&&pe!==re&&ze(pe,!1)}),ze(re,be)},ze=(ne,re)=>{re?(ne.style.display="block",ne.animate([{height:"0px",opacity:0,transform:"translateY(-3px)"},{height:"210px",opacity:1,transform:"translateY(0px)"}],{duration:150,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fill:"forwards"}).onfinish=()=>{ne.style.height="210px",ne.style.opacity="1"}):ne.animate([{height:"210px",opacity:1,transform:"translateY(0px)"},{height:"0px",opacity:0,transform:"translateY(-3px)"}],{duration:120,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fill:"forwards"}).onfinish=()=>{ne.style.display="none"}},Fe=ne=>{console.log("ð Edit Item:",ne.id),T(ne);const re=ne.actionRaw?.includes(".")?ne.actionRaw.split(".")[1]:ne.action;ne.domain==="cover"?AC(ne,re,x,M,L,te):ne.domain==="climate"?LC(ne,re,x,H,A,te):TC(re,x,te),ne.type==="timer"?EC(ne,S,O,N,te):DC(ne,S,O,N,qe,te),setTimeout(()=>{X.current.time=!1,D(!0),setTimeout(()=>{if(fe.current&&ne.time){const[be,Ue]=ne.time.split(":");console.log("ð¯ Setze Zeit:",{hour:be,minute:Ue}),fe.current.setTime(be,Ue)}},250)},100)},ut=ne=>{u(ne)},ht=async(ne,re)=>{re?(console.log("ð UPDATE Item:",re.id),ne?await pn():await eo()):(T(null),ne?await ui():await Qr()),B(),setTimeout(()=>d(),1e3)},ui=async()=>{console.log("â±ï¸ Erstelle Timer...");const{timeString:ne,weekday:re,debug:be}=kh(m);console.log("ð Timer-Berechnung:",be);const Ue=Zs(t,h,_,w,te),Rt=`Timer - ${t?.name||t?.friendly_name||t?.entity_id?.split(".")[1]?.replace(/_/g," ")||"GerÃ¤t"} - ${ne}`;await I.current.callService("scheduler","add",{weekdays:[re],timeslots:[{start:ne,actions:[Ue]}],name:Rt,repeat_type:"single"}),console.log("â Timer erfolgreich erstellt!")},pn=async()=>{console.log("â±ï¸ Update Timer...");const{timeString:ne,weekday:re,debug:be}=kh(m);console.log("ð Timer-Berechnung:",be);const Ue=Zs(t,h,_,w,te);await I.current.callService("scheduler","edit",{entity_id:b.id,weekdays:[re],timeslots:[{start:ne,actions:[Ue]}],name:NC(t,h,_,w,i,te),repeat_type:"single"}),console.log("â Timer aktualisiert!")},Qr=async()=>{console.log("ð Erstelle Schedule..."),qe();const ne=xh(y,te),re=Zs(t,h,_,w,te),be=t?.name||t?.friendly_name||t?.entity_id?.split(".")[1]?.replace(/_/g," ")||"GerÃ¤t",Ue=ne.map(Rt=>Rt.toUpperCase()).join(","),pe=`Zeitplan - ${be} - ${Ue} - ${m}`;console.log("ð Schedule-Daten:",{weekdays:ne,time:m,name:pe,action:re}),await I.current.callService("scheduler","add",{weekdays:ne,timeslots:[{start:m,actions:[re]}],name:pe,repeat_type:g===te("once")?"single":"repeat"}),console.log("â Schedule erfolgreich erstellt!")},eo=async()=>{console.log("ð Update Schedule..."),qe();const ne=xh(y,te),re=Zs(t,h,_,w,te),Ue=`${t?.name||t?.friendly_name||t?.entity_id?.split(".")[1]?.replace(/_/g," ")||"GerÃ¤t"} - ${m}`;await I.current.callService("scheduler","edit",{entity_id:b.id,weekdays:ne,timeslots:[{start:m,actions:[re]}],name:Ue,repeat_type:"repeat"}),console.log("â Schedule aktualisiert!")};return l("div",{ref:Ee,className:`scheduler-tab ${Y?"visible":""}`,children:[l(uC,{activeTab:V,onTabChange:W,showPicker:U,t:te}),l(fC,{items:dt(),isLoading:c,activeTab:V,showPicker:U,onItemClick:Fe,onDelete:ut,t:te}),!b&&!U&&l(pC,{onClick:()=>D(!0),t:te}),l(mC,{showPicker:U,editingItem:b,actionValue:h,showCoverSettings:k,coverPosition:w,schedulerValue:f,timeFormatValue:p,daysValue:y,repeatValue:g,timeValue:m,showClimateSettings:v,climateSettings:_,pickerKey:C,item:t,lang:i,pickerRefs:ee,onRowClick:de,onClimateSettingsChange:ne=>{H({..._,...ne})},t:te}),l(gC,{showPicker:U,schedulerValue:f,daysValue:y,editingItem:b,onCancel:B,onConfirm:ht,t:te})]})},IC={wohnzimmer:["wohnzimmer","living room","salon","living"],schlafzimmer:["schlafzimmer","bedroom","chambre","schlaf"],kÃ¼che:["kÃ¼che","kitchen","cuisine","kueche"],bad:["bad","bathroom","bain","badezimmer","bath"],bÃ¼ro:["bÃ¼ro","office","bureau","arbeitszimmer","buero"],flur:["flur","hallway","corridor","gang","hall"],garage:["garage"],garten:["garten","garden","jardin"],terrasse:["terrasse","terrace","patio"],keller:["keller","basement","cave","cellar"],kinderzimmer:["kinderzimmer","kids room","children","nursery"],esszimmer:["esszimmer","dining room","dining","essen"]},RC={"ð¬":["film","movie","kino","cinema","video"],"ð":["party","feier","celebration","fest"],"ð":["nacht","night","schlaf","sleep","evening"],"âï¸":["morgen","morning","aufwach","wake","sunrise"],"ð":["romantik","romantic","romance","love"],"ð»":["arbeit","work","office","bÃ¼ro","buero"],"ðï¸":["entspan","relax","chill","ruhe","cozy"],"ð½ï¸":["essen","dinner","lunch","mahlzeit","meal"],"ð¡":["licht","light","lampe","lamp","beleuchtung"],"ðª":["rollo","blind","shade","jalousie","curtain"],"ð¡ï¸":["heizung","heating","klima","climate","temperatur"],"ðº":["media","tv","fernseh","television","entertainment"],"ð":["sonnenaufgang","sunrise","dawn","morgen"],"ð":["sonnenuntergang","sunset","dusk","abend"],"ð ":["haus","home","zuhause","house"],"ð":["sicher","security","lock","alarm","secure"],"ð":["auto","car","vehicle","garage","fahrzeug"],"ð¿":["pflanze","plant","garten","garden","green"],"ð":["benachrichtigung","notification","alert","reminder"],"â¡":["energie","energy","power","strom"],"ðµ":["musik","music","audio","sound"],"ð":["farbe","color","rgb","ambiance"],"ð¥":["feuer","fire","warm","heat"],"âï¸":["kalt","cold","cool","kÃ¼hlen"]},OC={scene:"ð¬",script:"ð",automation:"ð¤"},_i={SAME_AREA:50,ENTITY_INVOLVED:30,SAME_DOMAIN:20,GLOBAL_ACTION_PENALTY:-20,BASE_SCORE:50},qn={SUCCESS:"success",ERROR:"error",WARNING:"warning",INFO:"info"},lg="Kein Raum",VC="â¡",BC=(t,e,n)=>({id:t.entity_id,name:t.attributes.friendly_name||t.entity_id.split(".")[1],type:t.domain,area:cg(t,n),state:t.state,icon:zC(t),entities:t.attributes.entity_id||[],last_triggered:t.attributes.last_triggered,relevance:$C(t,e,n)}),$C=(t,e,n)=>{let i=_i.BASE_SCORE;const s=cg(t,n),r=e.attributes?.area_id||e.area;return s&&r&&s===r&&(i+=_i.SAME_AREA),t.attributes.entity_id?.includes(e.entity_id)&&(i+=_i.ENTITY_INVOLVED),(t.attributes.entity_id?.map(a=>a.split(".")[0])||[]).includes(e.domain)&&(i+=_i.SAME_DOMAIN),(s==="Haus"||!s||s===lg)&&(i+=_i.GLOBAL_ACTION_PENALTY),Math.min(100,Math.max(0,i))},cg=(t,e=[])=>{if(t.attributes?.area_id)return t.attributes.area_id;if(t.area)return t.area;const n=(t.attributes?.friendly_name||"").toLowerCase();for(const[i,s]of Object.entries(IC))if(s.some(r=>n.includes(r)))return i.charAt(0).toUpperCase()+i.slice(1);if(t.attributes?.entity_id?.length>0){const i=t.attributes.entity_id[0],s=e.find(r=>r.entity_id===i);if(s?.attributes?.area_id)return s.attributes.area_id;if(s?.area)return s.area}return lg},zC=t=>{if(t.attributes?.icon)return t.attributes.icon;const e=(t.attributes?.friendly_name||"").toLowerCase();for(const[n,i]of Object.entries(RC))if(i.some(s=>e.includes(s)))return n;return OC[t.domain]||VC},HC=(t,e=[])=>e.some(n=>{try{return new RegExp("^"+n.replace(/\*/g,".*")+"$").test(t)}catch(i){return console.warn(`Invalid exclusion pattern: ${n}`,i),!1}}),WC=(t,e,n=0)=>t.filter(i=>i.relevance>=n).sort((i,s)=>{if(s.relevance!==i.relevance)return s.relevance-i.relevance;const r={scene:0,script:1,automation:2};return r[i.type]!==r[s.type]?r[i.type]-r[s.type]:i.name.localeCompare(s.name)}),jC=(t,e=qn.INFO,n=3e3,i={})=>{const s=document.createElement("div");s.className=`toast toast-${e}`,s.setAttribute("role","alert"),s.setAttribute("aria-live","polite");const r=UC(e);s.innerHTML=`
    <div class="toast-icon">${r}</div>
    <div class="toast-message">${GC(t)}</div>
    <button class="toast-close" aria-label="SchlieÃen">Ã</button>
  `;const o=i.position||"top-center";s.classList.add(`toast-${o}`),document.body.appendChild(s),s.querySelector(".toast-close").addEventListener("click",()=>Oo(s)),requestAnimationFrame(()=>{s.classList.add("toast-visible")});const c=setTimeout(()=>{Oo(s)},n);return i.onClick&&(s.style.cursor="pointer",s.addEventListener("click",d=>{d.target.classList.contains("toast-close")||(i.onClick(),Oo(s))})),s._timeoutId=c,s},Oo=t=>{!t||!t.parentNode||(t._timeoutId&&clearTimeout(t._timeoutId),t.classList.remove("toast-visible"),t.classList.add("toast-hiding"),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},300))},UC=t=>({[qn.SUCCESS]:"â",[qn.ERROR]:"â",[qn.WARNING]:"â ï¸",[qn.INFO]:"â¹ï¸"})[t]||"â¹ï¸",GC=t=>{const e=document.createElement("div");return e.textContent=t,e.innerHTML},KC=(t,e=3e3,n={})=>jC(t,qn.ERROR,e,n),YC=t=>{const e=t.area||"Wohnzimmer",n=t.entity_id,i=[{id:"scene.filmabend",name:"Filmabend",area:"Wohnzimmer",icon:"ð¬",entities:["light.wohnzimmer","media_player.tv","cover.wohnzimmer"]},{id:"scene.romantik",name:"Romantik",area:"Schlafzimmer",icon:"ð",entities:["light.schlafzimmer","light.nachttisch"]},{id:"scene.party",name:"Party",area:"Alle RÃ¤ume",icon:"ð",entities:["light.*","media_player.*"]},{id:"scene.gute_nacht",name:"Gute Nacht",area:"Haus",icon:"ð",entities:["light.*","cover.*","lock.*"]},{id:"scene.aufwachen",name:"Aufwachen",area:"Schlafzimmer",icon:"âï¸",entities:["light.schlafzimmer","cover.schlafzimmer","climate.schlafzimmer"]},{id:"scene.arbeiten",name:"Arbeiten",area:"BÃ¼ro",icon:"ð»",entities:["light.buero","climate.buero"]},{id:"scene.entspannen",name:"Entspannen",area:"Wohnzimmer",icon:"ðï¸",entities:["light.wohnzimmer","media_player.tv"]}],s=[{id:"script.alle_lichter_aus",name:"Alle Lichter aus",area:"Haus",icon:"ð¡",entities:["light.*"]},{id:"script.rollos_schliessen",name:"RolllÃ¤den schlieÃen",area:"Haus",icon:"ðª",entities:["cover.*"]},{id:"script.heizung_nachtmodus",name:"Heizung Nachtmodus",area:"Haus",icon:"ð¡ï¸",entities:["climate.*"]},{id:"script.multimedia_aus",name:"Multimedia aus",area:"Haus",icon:"ðº",entities:["media_player.*"]},{id:"script.morgenroutine",name:"Morgenroutine",area:"Haus",icon:"ð",entities:["light.*","cover.*","climate.*"]}],r=[{id:"automation.motion_lights",name:"Bewegungslicht",area:e,icon:"ð¶",entities:[`light.${e.toLowerCase()}`,"binary_sensor.motion_*"]},{id:"automation.sunrise",name:"Sonnenaufgang Simulation",area:"Haus",icon:"ð",entities:["light.*","cover.*"]},{id:"automation.vacation",name:"Urlaubsmodus",area:"Haus",icon:"âï¸",entities:["light.*","cover.*","climate.*"]},{id:"automation.energy_saving",name:"Energiesparmodus",area:"Haus",icon:"ð",entities:["light.*","climate.*","media_player.*"]}],o=c=>c.area===e||c.area==="Haus"||c.area==="Alle RÃ¤ume"?!0:c.entities.some(d=>{if(d===n)return!0;if(d.endsWith("*")){const u=d.slice(0,-1);return n.startsWith(u)}return!1});return[...i.filter(o).map(c=>({...c,type:"scene",relevance:c.area===e?100:50})),...s.filter(o).map(c=>({...c,type:"script",relevance:c.entities.includes(n)?90:40})),...r.filter(o).map(c=>({...c,type:"automation",relevance:c.area===e?80:30}))].sort((c,d)=>d.relevance!==c.relevance?d.relevance-c.relevance:c.name.localeCompare(d.name))},ZC=(t,e)=>{const n=(t.attributes?.friendly_name||t.name||"").toLowerCase(),i=(e.attributes?.friendly_name||e.name||"").toLowerCase(),s=t.domain,r=e.domain;return!!(r==="climate"&&(s==="sensor"||s==="binary_sensor")&&(n.includes("temperatur")||n.includes("temperature")||n.includes("luftfeuchtigkeit")||n.includes("humidity")||n.includes("fenster")||n.includes("window"))||r==="media_player"&&s==="media_player"&&(i.includes("tv")&&n.includes("soundbar")||i.includes("soundbar")&&n.includes("tv"))||r==="light"&&s==="binary_sensor"&&(n.includes("bewegung")||n.includes("motion"))||r==="cover"&&s==="binary_sensor"&&(n.includes("fenster")||n.includes("window")))},qC=(t,e)=>Le(()=>{if(!t||t.length===0)return[];const n=e.area||"Wohnzimmer",i=e.entity_id;return t.filter(a=>!(a.entity_id===i||["scene","script","automation"].includes(a.domain)||a.domain==="settings")).map(a=>{let c=0;return a.area===n&&(c+=100),ZC(a,e)&&(c+=80),a.floor_id&&a.floor_id===e.floor_id&&(c+=30),a.entity_id.includes(i.split(".")[1])&&(c+=60),{...a,relevance:c}}).filter(a=>a.relevance>=30).sort((a,c)=>c.relevance!==a.relevance?c.relevance-a.relevance:(a.attributes?.friendly_name||a.name||"").localeCompare(c.attributes?.friendly_name||c.name||"")).slice(0,10)},[t,e.entity_id,e.area,e.floor_id]),XC=({type:t})=>{switch(t){case"scene":return l("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[l("rect",{width:"7",height:"5",rx:"0.6",transform:"matrix(0 -1 -1 0 22 21)",stroke:"currentColor",strokeWidth:"1.5"}),l("rect",{width:"7",height:"5",rx:"0.6",transform:"matrix(0 -1 -1 0 7 15.5)",stroke:"currentColor",strokeWidth:"1.5"}),l("rect",{width:"7",height:"5",rx:"0.6",transform:"matrix(0 -1 -1 0 22 10)",stroke:"currentColor",strokeWidth:"1.5"}),l("path",{d:"M17 17.5H13.5C12.3954 17.5 11.5 16.6046 11.5 15.5V8.5C11.5 7.39543 12.3954 6.5 13.5 6.5H17",stroke:"currentColor",strokeWidth:"1.5"}),l("path",{d:"M11.5 12H7",stroke:"currentColor",strokeWidth:"1.5"})]});case"script":return l("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[l("path",{d:"M3.5 6.00398C3.5 7.80795 6.35714 9 11.5 9C18.5 9 19.5 6.00398 19.5 6.00398C19.5 6.00398 18.5 3 11.5 3C6.35714 3 3.5 4.2 3.5 6.00398Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M3.5 12.004C3.5 13.808 6.35714 15 11.5 15C18.5 15 19.5 12.004 19.5 12.004C19.5 12.004 18.5 9 11.5 9C6.35714 9 3.5 10.2 3.5 12.004Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M3.5 18.004C3.5 19.808 6.35714 21 11.5 21C18.5 21 19.5 18.004 19.5 18.004C19.5 18.004 18.5 15 11.5 15C6.35714 15 3.5 16.2 3.5 18.004Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M19.5 12C19.5 12 20.5 11.025 20.5 9C20.5 6.975 19.5 6 19.5 6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M20.5 4C20.5 5.35 19.5 6 19.5 6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M19.5 18C19.5 18 20.5 17.025 20.5 15C20.5 12.975 19.5 12 19.5 12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M20.5 20C20.5 18.65 19.5 18 19.5 18",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]});case"automation":return l("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[l("path",{d:"M6 20.5C7 11 11.5 8 20 6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M15.9086 3.80941L20.3946 5.90126L18.3028 10.3873",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M5 7C6.10457 7 7 6.10457 7 5C7 3.89543 6.10457 3 5 3C3.89543 3 3 3.89543 3 5C3 6.10457 3.89543 7 5 7Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M16 20.2426L18.1213 18.1213M18.1213 18.1213L20.2426 16M18.1213 18.1213L16 16M18.1213 18.1213L20.2426 20.2426",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]});default:return null}},JC=({item:t,index:e,favorites:n,onToggleFavorite:i,onActionExecute:s,onActionNavigate:r})=>{const o=t.type&&["scene","script","automation"].includes(t.type);return l(z.div,{className:"action-item",style:{cursor:"pointer"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},whileTap:{scale:.98},transition:{opacity:{duration:.3,delay:e*.05},y:{duration:.3,delay:e*.05},scale:{duration:.2}},onClick:()=>{r&&r(t)},children:[l("div",{className:"action-type-icon",children:o?l(XC,{type:t.type}):"ð±"}),l("div",{className:"action-content",children:[l("div",{className:"action-name",children:t.attributes?.friendly_name||t.name}),l("div",{className:"action-meta",children:o?l(ae,{children:[l("span",{className:`action-type ${t.type}`,children:t.type}),l("span",{className:"action-area",children:t.area})]}):l(ae,{children:[l("span",{className:"action-type",style:{background:"rgb(94, 92, 230)",border:"1px solid rgba(94, 92, 230, 0.5)"},children:t.domain}),t.state&&l("span",{className:"action-area",children:t.state})]})})]}),l("div",{className:"action-buttons",children:[o&&t.type!=="automation"&&l(z.button,{className:"action-execute-btn",onClick:a=>{a.stopPropagation(),s?.(t);const c=a.currentTarget;c.style.boxShadow="0 0 25px rgba(48, 209, 88, 0.8), 0 0 50px rgba(48, 209, 88, 0.5)",setTimeout(()=>{c.style.boxShadow=""},300)},whileHover:{scale:1.1},whileTap:{scale:.9},transition:{duration:.15},children:l("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[l("path",{d:"M12 2V6",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M12 18V22",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M22 12H18",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M6 12H2",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M4.92896 4.92896L7.75738 7.75738",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M16.2427 16.2427L19.0711 19.0711",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M19.071 4.92896L16.2426 7.75738",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M7.75732 16.2427L4.9289 19.0711",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l(z.button,{className:`action-favorite-btn ${n.has(t.id||t.entity_id)?"active":""}`,onClick:a=>{a.stopPropagation(),i(t.id||t.entity_id)},whileHover:{scale:1.05},whileTap:{scale:.95},transition:{duration:.2},children:l("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinejoin:"round",children:l("path",{d:"M22 8.86222C22 10.4087 21.4062 11.8941 20.3458 12.9929C17.9049 15.523 15.5374 18.1613 13.0053 20.5997C12.4249 21.1505 11.5042 21.1304 10.9488 20.5547L3.65376 12.9929C1.44875 10.7072 1.44875 7.01723 3.65376 4.73157C5.88044 2.42345 9.50794 2.42345 11.7346 4.73157L11.9998 5.00642L12.2648 4.73173C13.3324 3.6245 14.7864 3 16.3053 3C17.8242 3 19.2781 3.62444 20.3458 4.73157C21.4063 5.83045 22 7.31577 22 8.86222Z"})})})]})]},t.id||t.entity_id)},QC=({selectedFilter:t,onFilterChange:e,filterSelectorRef:n,sliderPosition:i,t:s})=>{const r=["actions","favorites","environment"];return l("div",{ref:n,className:"context-filter",children:[l(z.div,{className:"context-filter-slider",animate:{x:i.x,width:i.width,scaleX:[1,1.12,.96,1.03,1],scaleY:[1,.94,1.06,.99,1]},transition:{x:{type:"spring",stiffness:280,damping:22,mass:1.5},width:{type:"spring",stiffness:280,damping:22,mass:1.5},scaleX:{duration:.6,times:[0,.2,.5,.8,1],ease:[.34,1.56,.64,1]},scaleY:{duration:.6,times:[0,.2,.5,.8,1],ease:[.34,1.56,.64,1]}}}),r.map(o=>l(z.button,{className:`filter-tab ${t===o?"active":""}`,onClick:()=>e(o),whileHover:{scale:1.04},whileTap:{scale:.96},transition:{duration:.2},children:s(o==="actions"?"tabActions":o==="favorites"?"tabFavorites":"tabEnvironment")},o))]})},Ch=({item:t,onActionExecute:e,onActionNavigate:n,lang:i="de"})=>{const{favorites:s,toggleFavorite:r}=St(),[o]=Tl(),[a]=ap(),c=N=>$(`context.${N}`,i),[d,u]=E("actions"),[h,f]=E(!1),[p,y]=E([]),[g,m]=E(!1);J(null);const[b,v]=E({x:0,width:0}),_=J(null),k=window.location.hostname==="localhost";G(()=>{console.log(k?"[ContextTab] Running in DEVELOPMENT mode - using Mock Data":"[ContextTab] Running in PRODUCTION mode - using Home Assistant Data")},[k]);const C={...{entity_id:"light.wohnzimmer",domain:"light",area:"Wohnzimmer",attributes:{friendly_name:"Wohnzimmer Licht"}},...t};G(()=>{const N=()=>{if(_.current){const O=["actions","favorites","environment"].indexOf(d),T=_.current.querySelectorAll(".filter-tab");if(T[O]){const H=T[O],M=_.current.getBoundingClientRect(),A=H.getBoundingClientRect(),L=A.left-M.left,P=A.width;v({x:Math.round(L),width:Math.round(P)})}}};return setTimeout(N,50),window.addEventListener("resize",N),()=>{window.removeEventListener("resize",N)}},[d]),G(()=>{const N=setTimeout(()=>f(!0),50);return()=>clearTimeout(N)},[]);const x=qC(o,C);G(()=>{m(!0),k?setTimeout(()=>{const N=YC();y(N),m(!1)},300):S()},[C.entity_id,k,o]);const S=()=>{if(!o||o.length===0){console.warn("ContextTab: No entities available"),y([]),m(!1);return}try{const N=o.filter(M=>["script","automation","scene"].includes(M.domain)),F=a?.excludedPatterns||[],T=N.filter(M=>!HC(M.entity_id,F)).map(M=>BC(M,C,o)),H=WC(T);y(H),m(!1)}catch(N){console.error("ContextTab: Error loading actions",N),KC("Fehler beim Laden der Aktionen"),y([]),m(!1)}},R=Le(()=>d==="actions"?p.filter(N=>N.type==="scene"||N.type==="script"||N.type==="automation"):d==="favorites"?p.filter(N=>s.has(N.id)):d==="environment"?x:[],[d,p,s,x]);return Le(()=>({actions:p.length,favorites:p.filter(N=>s.has(N.id)).length,environment:d==="environment"?R.length:0}),[p,s,d,R]),l("div",{className:`context-tab ${h?"visible":""}`,children:[l(QC,{selectedFilter:d,onFilterChange:u,filterSelectorRef:_,sliderPosition:b,t:c}),l("div",{className:"context-container",children:g?l("div",{className:"context-loading",children:c("loading")}):R.length===0?l("div",{className:"context-empty",children:[l("div",{className:"empty-icon",children:d==="favorites"?"â­":d==="environment"?"ð ":"ð­"}),l("div",{className:"empty-text",children:c(d==="favorites"?"noFavorites":d==="environment"?"noEnvironment":"noActions")})]}):l("div",{className:"context-list",children:R.map((N,F)=>l(JC,{item:N,index:F,favorites:s,onToggleFavorite:r,onActionExecute:e,onActionNavigate:n},N.id||N.entity_id))})})]})},dg=[l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[l("path",{d:"M2.6 4H8.77805C8.92127 4 9.05977 4.05124 9.16852 4.14445L12.3315 6.85555C12.4402 6.94876 12.5787 7 12.722 7H21.4C21.7314 7 22 7.26863 22 7.6V10.4C22 10.7314 21.7314 11 21.4 11H2.6C2.26863 11 2 10.7314 2 10.4V4.6C2 4.26863 2.26863 4 2.6 4Z",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M22 10L22 14",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M2 10V19.4C2 19.7314 2.26863 20 2.6 20H13",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M19 21C20.1046 21 21 20.1046 21 19C21 17.8954 20.1046 17 19 17C18.6357 17 18.2942 17.0974 18 17.2676C17.4022 17.6134 17 18.2597 17 19C17 19.7403 17.4022 20.3866 18 20.7324C18.2942 20.9026 18.6357 21 19 21Z",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M19 22C20.6569 22 22 20.6569 22 19C22 17.3431 20.6569 16 19 16C17.3431 16 16 17.3431 16 19C16 20.6569 17.3431 22 19 22Z",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"0.3 2"})]}),l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[l("path",{d:"M12 21H4C2.89543 21 2 20.1046 2 19V5C2.89543 3 2.89543 3 4 3H20C21.1046 3 22 3.89543 22 5V12",strokeLinecap:"round"}),l("path",{d:"M2 7L22 7",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M5 5.01L5.01 4.99889",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M8 5.01L8.01 4.99889",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M11 5.01L11.01 4.99889",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M18 14L19.2246 15.0436L20.8284 15.1716L20.9564 16.7754L22 18L20.9564 19.2246L20.8284 20.8284L19.2246 20.9564L18 22L16.7754 20.9564L15.1716 20.8284L15.0436 19.2246L14 18L15.0436 16.7754L15.1716 15.1716L16.7754 15.0436L18 14Z"}),l("path",{d:"M16.7754 20.9564L18 22V14L16.7754 15.0436L15.1716 15.1716L15.0436 16.7754L14 18L15.0436 19.2246L15.1716 20.8284L16.7754 20.9564Z",fill:"currentColor"})]}),l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[l("path",{d:"M18 3L18 7",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M18 11.01L18.01 10.9989",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M22 7V11V19.4C22 19.7314 21.7314 20 21.4 20H2.6C2.26863 20 2 19.7314 2 19.4V11",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M14 7H12.722C12.5787 7 12.4402 6.94876 12.3315 6.85555L9.16852 4.14445C9.05977 4.05124 8.92127 4 8.77805 4H2.6C2.26863 4 2 4.26863 2 4.6V11H14",strokeLinecap:"round",strokeLinejoin:"round"})]}),l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[l("path",{d:"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2Z",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M4.271 18.3457C4.271 18.3457 6.50002 15.5 12 15.5C17.5 15.5 19.7291 18.3457 19.7291 18.3457",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M12 12C13.6569 12 15 10.6569 15 9C15 7.34315 13.6569 6 12 6C10.3431 6 9 7.34315 9 9C9 10.6569 10.3431 12 12 12Z",strokeLinecap:"round",strokeLinejoin:"round"})]})],eS=["de","en","fr","es","it","nl","pt","ru","zh","tr"],tS={de:"ð©ðª",en:"ð¬ð§",fr:"ð«ð·",es:"ðªð¸",it:"ð®ð¹",nl:"ð³ð±",pt:"ðµð¹",ru:"ð·ðº",zh:"ð¨ð³",tr:"ð¹ð·"},nS={de:"Deutsch",en:"English",fr:"FranÃ§ais",es:"EspaÃ±ol",it:"Italiano",nl:"Nederlands",pt:"PortuguÃªs",ru:"Ð ÑÑÑÐºÐ¸Ð¹",zh:"ä¸­æ",tr:"TÃ¼rkÃ§e"},Sh=t=>`${tS[t]||""} ${nS[t]||"Deutsch"}`,iS=({t,aiModeEnabled:e,setAiModeEnabled:n,animations:i,setAnimations:s,soundEffects:r,setSoundEffects:o,language:a,setLanguage:c,isLangDropdownOpen:d,setIsLangDropdownOpen:u,notifications:h,setNotifications:f})=>l(ae,{children:[l("div",{className:"setting-group",children:[l("div",{className:"setting-group-title",children:t("generalSettings")}),l("div",{className:"setting-item",children:[l("div",{className:"setting-label",children:[l("div",{className:"setting-name",children:t("aiMode")}),l("div",{className:"setting-description",children:t("aiModeDescription")})]}),l("div",{className:"setting-control",children:l("div",{className:`toggle-switch ${e?"active":""}`,onClick:()=>{const p=!e;n(p),localStorage.setItem("aiModeEnabled",p),window.dispatchEvent(new CustomEvent("aiModeSettingChanged",{detail:{enabled:p}}))},children:l("div",{className:"toggle-switch-handle"})})})]}),l("div",{className:"setting-item",children:[l("div",{className:"setting-label",children:[l("div",{className:"setting-name",children:t("animations")}),l("div",{className:"setting-description",children:t("animationsDescription")})]}),l("div",{className:"setting-control",children:l("div",{className:`toggle-switch ${i?"active":""}`,onClick:()=>s(!i),children:l("div",{className:"toggle-switch-handle"})})})]}),l("div",{className:"setting-item",children:[l("div",{className:"setting-label",children:[l("div",{className:"setting-name",children:t("soundEffects")}),l("div",{className:"setting-description",children:t("soundEffectsDescription")})]}),l("div",{className:"setting-control",children:l("div",{className:`toggle-switch ${r?"active":""}`,onClick:()=>o(!r),children:l("div",{className:"toggle-switch-handle"})})})]})]}),l("div",{className:"setting-group",children:[l("div",{className:"setting-group-title",children:t("languageSettings")}),l("div",{className:"setting-item",children:[l("div",{className:"setting-label",children:[l("div",{className:"setting-name",children:t("appLanguage")}),l("div",{className:"setting-description",children:t("appLanguageDescription")})]}),l("div",{className:"setting-control",children:l("div",{className:`select-dropdown ${d?"open":""}`,children:[l("div",{className:"select-button",onClick:()=>{u(!d)},children:[l("span",{children:Sh(a)}),l("span",{children:"â¼"})]}),l("div",{className:"select-options",children:eS.map(p=>l("div",{className:`select-option ${a===p?"selected":""}`,onClick:()=>{c(p),u(!1),localStorage.setItem("userLanguage",p),window.dispatchEvent(new CustomEvent("languageChanged",{detail:{language:p}}))},children:Sh(p)},p))})]})})]})]}),l("div",{className:"setting-group",children:[l("div",{className:"setting-group-title",children:t("notifications")}),l("div",{className:"setting-item",children:[l("div",{className:"setting-label",children:[l("div",{className:"setting-name",children:t("pushNotifications")}),l("div",{className:"setting-description",children:t("pushNotificationsDescription")})]}),l("div",{className:"setting-control",children:l("div",{className:`toggle-switch ${h?"active":""}`,onClick:()=>f(!h),children:l("div",{className:"toggle-switch-handle"})})})]})]})]}),sS=({t,darkMode:e,applyDarkMode:n,isDropdownOpen:i,setIsDropdownOpen:s})=>l(ae,{children:l("div",{className:"setting-group",children:[l("div",{className:"setting-group-title",children:t("design")}),l("div",{className:"setting-item",children:[l("div",{className:"setting-label",children:[l("div",{className:"setting-name",children:t("backgroundMode")}),l("div",{className:"setting-description",children:t("backgroundModeDescription")})]}),l("div",{className:"setting-control",children:l("div",{className:`select-dropdown ${i?"open":""}`,children:[l("div",{className:"select-button",onClick:()=>{s(!i)},children:[l("span",{children:t(e==="dark"?"dark":e==="light"?"light":"automatic")}),l("span",{children:"â¼"})]}),l("div",{className:"select-options",children:[l("div",{className:`select-option ${e==="auto"?"selected":""}`,onClick:()=>{n("auto"),s(!1)},children:t("automatic")}),l("div",{className:`select-option ${e==="light"?"selected":""}`,onClick:()=>{n("light"),s(!1)},children:t("light")}),l("div",{className:`select-option ${e==="dark"?"selected":""}`,onClick:()=>{n("dark"),s(!1)},children:t("dark")})]})]})})]})]})}),rS=({t,predictiveSuggestions:e,confidenceThreshold:n,timeWindow:i,maxSuggestions:s,learningRate:r})=>l(ae,{children:[l("div",{className:"setting-group",children:[l("div",{className:"setting-group-title",children:"Intelligente VorschlÃ¤ge"}),l("div",{className:"setting-item",children:[l("div",{className:"setting-label",children:[l("div",{className:"setting-name",children:"VorschlÃ¤ge aktivieren"}),l("div",{className:"setting-description",children:"Lernt Ihre Nutzungsmuster und schlÃ¤gt GerÃ¤te vor"})]}),l("div",{className:"setting-control",children:l("div",{className:`toggle-switch ${e?"active":""}`,onClick:o=>{const a=o.currentTarget,d=!a.classList.contains("active");a.classList.toggle("active"),localStorage.setItem("predictiveSuggestions",d),window.dispatchEvent(new CustomEvent("predictiveSettingChanged",{detail:{enabled:d}}))},children:l("div",{className:"toggle-switch-handle"})})})]}),l("div",{className:"setting-item",children:[l("div",{className:"setting-label",children:[l("div",{className:"setting-name",children:"Confidence-Schwellenwert"}),l("div",{className:"setting-description",children:["Aktuell: ",l("span",{className:"confidence-value",children:n}),"%"]})]}),l("div",{className:"setting-control",children:l("input",{type:"range",className:"slider",min:"40",max:"90",defaultValue:n,onChange:o=>{const a=o.target.value;localStorage.setItem("confidenceThreshold",a);const c=o.target.closest(".setting-item").querySelector(".confidence-value");c&&(c.textContent=a),window.dispatchEvent(new CustomEvent("predictiveSettingChanged",{detail:{confidenceThreshold:parseInt(a)}}))}})})]}),l("div",{className:"setting-item",children:[l("div",{className:"setting-label",children:[l("div",{className:"setting-name",children:"Zeitfenster"}),l("div",{className:"setting-description",children:["Â±",l("span",{className:"time-value",children:i})," Minuten um aktuelle Zeit"]})]}),l("div",{className:"setting-control",children:l("input",{type:"range",className:"slider",min:"15",max:"120",step:"15",defaultValue:i,onChange:o=>{const a=o.target.value;localStorage.setItem("suggestionTimeWindow",a);const c=o.target.closest(".setting-item").querySelector(".time-value");c&&(c.textContent=a),window.dispatchEvent(new CustomEvent("predictiveSettingChanged",{detail:{timeWindow:parseInt(a)}}))}})})]}),l("div",{className:"setting-item",children:[l("div",{className:"setting-label",children:[l("div",{className:"setting-name",children:"Maximale Anzahl"}),l("div",{className:"setting-description",children:["Zeige bis zu ",l("span",{className:"max-value",children:s})," VorschlÃ¤ge"]})]}),l("div",{className:"setting-control",children:l("input",{type:"range",className:"slider",min:"5",max:"20",defaultValue:s,onChange:o=>{const a=o.target.value;localStorage.setItem("maxSuggestions",a);const c=o.target.closest(".setting-item").querySelector(".max-value");c&&(c.textContent=a),window.dispatchEvent(new CustomEvent("predictiveSettingChanged",{detail:{maxSuggestions:parseInt(a)}}))}})})]}),l("div",{className:"setting-item",children:[l("div",{className:"setting-label",children:[l("div",{className:"setting-name",children:"Lern-Geschwindigkeit"}),l("div",{className:"setting-description",children:"Wie schnell sich das System an neue Muster anpasst"})]}),l("div",{className:"setting-control",children:l("select",{className:"select-native",defaultValue:r,onChange:o=>{localStorage.setItem("learningRate",o.target.value),window.dispatchEvent(new CustomEvent("predictiveSettingChanged",{detail:{learningRate:o.target.value}}))},children:[l("option",{value:"slow",children:"Langsam"}),l("option",{value:"normal",children:"Normal"}),l("option",{value:"fast",children:"Schnell"})]})})]})]}),l("div",{className:"setting-group",children:[l("div",{className:"setting-group-title",children:t("privacySecurity")}),l("div",{className:"button-group",children:[l("button",{className:"button",onClick:o=>{if(confirm("Cache wirklich lÃ¶schen?")){localStorage.removeItem("searchCache"),localStorage.removeItem("suggestionCache"),window.dispatchEvent(new CustomEvent("cacheCleared"));const a=o.target;a.textContent="â GelÃ¶scht",setTimeout(()=>{a.textContent=t("clearCache")},2e3)}},children:t("clearCache")}),l("button",{className:"button danger",onClick:()=>{confirm("ACHTUNG: Alle Daten werden gelÃ¶scht. Fortfahren?")&&confirm("Wirklich ALLE Einstellungen und Daten zurÃ¼cksetzen?")&&(localStorage.clear(),window.location.reload())},children:t("resetData")})]}),l("div",{className:"privacy-info",children:l("div",{className:"info-card",children:[l("div",{className:"info-icon",children:"ð"}),l("div",{className:"info-text",children:[l("strong",{children:"Ihre Daten sind sicher"}),l("p",{children:"Alle Berechnungen erfolgen lokal. Keine Daten verlassen Ihr GerÃ¤t."})]})]})})]})]}),oS=({t,maxEntitiesLimit:e,newPattern:n,setNewPattern:i,patternError:s,setPatternError:r,excludedPatterns:o,addPattern:a,removePattern:c})=>l(ae,{children:[l("div",{className:"setting-group",children:[l("div",{className:"setting-group-title",children:"System Einstellungen"}),l("div",{className:"setting-item",children:[l("div",{className:"setting-label",children:[l("div",{className:"setting-name",children:"Maximale Anzahl Entities"}),l("div",{className:"setting-description",children:[l("span",{className:"entity-limit-value",children:e===0?"Unlimited":e})," Entities laden (0 = Unlimited)"]})]}),l("div",{className:"setting-control",children:l("input",{type:"number",className:"number-input",min:"0",max:"1000",step:"50",defaultValue:e,placeholder:"0",onChange:d=>{const u=parseInt(d.target.value)||0;localStorage.setItem("maxEntitiesLimit",u);const h=d.target.closest(".setting-item").querySelector(".entity-limit-value");h&&(h.textContent=u===0?"Unlimited":u),window.dispatchEvent(new CustomEvent("entityLimitChanged",{detail:{limit:u}}))}})})]}),l("div",{className:"setting-item",children:[l("div",{className:"setting-label",children:[l("div",{className:"setting-name",children:"Nur Entities mit Area laden"}),l("div",{className:"setting-description",children:"Filtert Entities ohne Area-Zuordnung heraus"})]}),l("div",{className:"setting-control",children:l("div",{className:"toggle-switch active",style:{pointerEvents:"none",opacity:.7},title:"Permanent aktiviert",children:l("div",{className:"toggle-switch-handle"})})})]})]}),l("div",{className:"setting-group",children:[l("div",{className:"setting-group-title",children:"Excluded Patterns"}),l("div",{className:"pattern-description",children:[l("p",{children:"Definiere Patterns, um bestimmte Entities von der Suche auszuschlieÃen. Verwende Wildcards:"}),l("ul",{children:[l("li",{children:[l("code",{children:"*"})," = beliebige Zeichen (z.B. ",l("code",{children:"sensor.*"})," fÃ¼r alle Sensoren)"]}),l("li",{children:[l("code",{children:"?"})," = ein einzelnes Zeichen"]})]}),l("div",{className:"pattern-examples",children:[l("strong",{children:"Beispiele:"}),l("span",{className:"example-tag",children:"sensor.temp_*"}),l("span",{className:"example-tag",children:"binary_sensor.motion_*"}),l("span",{className:"example-tag",children:"*_unavailable"})]})]}),l("div",{className:"pattern-input-group",children:[l("input",{type:"text",className:"pattern-input",placeholder:"z.B. sensor.temp_*",value:n,onChange:d=>{i(d.target.value),r("")},onKeyPress:d=>{d.key==="Enter"&&a()}}),l("button",{className:"button add-pattern-btn",onClick:a,children:"+ HinzufÃ¼gen"})]}),s&&l("div",{className:"pattern-error",children:["â ï¸ ",s]}),o.length>0&&l("div",{className:"patterns-list",children:[l("div",{className:"patterns-list-header",children:l("span",{children:["Aktive Patterns (",o.length,")"]})}),o.map((d,u)=>l("div",{className:"pattern-item",children:[l("code",{className:"pattern-code",children:d}),l("button",{className:"pattern-remove-btn",onClick:()=>c(d),title:"Pattern entfernen",children:"Ã"})]},u))]}),o.length===0&&l("div",{className:"patterns-empty",children:[l("span",{children:"ð"}),l("p",{children:"Keine Patterns definiert. Alle Entities werden angezeigt."})]})]}),l("div",{className:"setting-group",children:[l("div",{className:"setting-group-title",children:t("aboutCard")}),l("div",{className:"about-info",children:[l("div",{className:"about-item",children:[l("span",{className:"about-label",children:t("version")}),l("span",{className:"about-value",children:"1.1.0367"})]}),l("div",{className:"about-item",children:[l("span",{className:"about-label",children:t("build")}),l("span",{className:"about-value",children:"2025.10.26"})]}),l("div",{className:"about-item",children:[l("span",{className:"about-label",children:t("developer")}),l("span",{className:"about-value",children:"Mert"})]}),l("div",{className:"about-item",children:[l("span",{className:"about-label",children:t("license")}),l("span",{className:"about-value",children:"MIT"})]})]})]})]}),Or=({lang:t="de",onTabChange:e,settingsRef:n})=>{const[i,s]=E(0),[r,o]=E(localStorage.getItem("darkMode")||"auto"),[a,c]=E(localStorage.getItem("userLanguage")||t||"de"),[d,u]=E(!0),[h,f]=E(!0),[p,y]=E(!0),[g,m]=E(localStorage.getItem("aiModeEnabled")!=="false"),[b,v]=E(!1),[_,k]=E(!1),[w,C]=E(()=>{try{const U=localStorage.getItem("excludedPatterns");return U?JSON.parse(U):[]}catch{return[]}}),[x,S]=E(""),[R,N]=E(""),[F]=E(localStorage.getItem("predictiveSuggestions")!=="false"),[O]=E(parseInt(localStorage.getItem("confidenceThreshold")||"60")),[T]=E(parseInt(localStorage.getItem("suggestionTimeWindow")||"45")),[H]=E(parseInt(localStorage.getItem("maxSuggestions")||"10")),[M]=E(localStorage.getItem("learningRate")||"normal"),[A]=E(parseInt(localStorage.getItem("maxEntitiesLimit")||"0")),L=a||t||"de",P=U=>$(`settings.${U}`,L);G(()=>{const U=D=>{const Y=D.detail.language;c(Y)};return window.addEventListener("languageChanged",U),()=>{window.removeEventListener("languageChanged",U)}},[]),G(()=>{n&&(n.current={setActiveTab:U=>{console.log("SettingsTab: Setting active tab to",U),s(U)},getActiveTab:()=>i,getTabIcons:()=>dg})}),G(()=>{e&&e(i)},[i,e]);const I=U=>{o(U),localStorage.setItem("darkMode",U),window.dispatchEvent(new CustomEvent("darkModeChanged",{detail:{mode:U}}))},V=U=>!U||U.trim()===""?"Pattern darf nicht leer sein":/^[a-z0-9_.*?]+$/i.test(U)?null:"Pattern darf nur Buchstaben, Zahlen, Unterstrich, * und ? enthalten",W=()=>{const U=x.trim(),D=V(U);if(D){N(D);return}if(w.includes(U)){N("Pattern existiert bereits");return}const Y=[...w,U];C(Y),localStorage.setItem("excludedPatterns",JSON.stringify(Y)),window.dispatchEvent(new CustomEvent("excludedPatternsChanged",{detail:{patterns:Y}})),S(""),N("")},j=U=>{const D=w.filter(Y=>Y!==U);C(D),localStorage.setItem("excludedPatterns",JSON.stringify(D)),window.dispatchEvent(new CustomEvent("excludedPatternsChanged",{detail:{patterns:D}}))};return l("div",{className:"settings-container",children:l("div",{className:"settings-content",children:(()=>{switch(console.log("Rendering tab content for activeTab:",i),i){case 0:return l(iS,{t:P,aiModeEnabled:g,setAiModeEnabled:m,animations:p,setAnimations:y,soundEffects:h,setSoundEffects:f,language:a,setLanguage:c,isLangDropdownOpen:_,setIsLangDropdownOpen:k,notifications:d,setNotifications:u});case 1:return l(sS,{t:P,darkMode:r,applyDarkMode:I,isDropdownOpen:b,setIsDropdownOpen:v});case 2:return l(rS,{t:P,predictiveSuggestions:F,confidenceThreshold:O,timeWindow:T,maxSuggestions:H,learningRate:M});case 3:return l(oS,{t:P,maxEntitiesLimit:A,newPattern:x,setNewPattern:S,patternError:R,setPatternError:N,excludedPatterns:w,addPattern:W,removePattern:j});default:return null}})()})})};Or.getTabIcons=()=>dg;const aS=({viewLoader:t,entity:e,hass:n,lang:i,onBack:s,onNavigate:r,onServiceCall:o,fallbackComponent:a})=>{const[c,d]=E(null),[u,h]=E(!0),[f,p]=E(null),y=we.getEntityByDomain(e.domain);if(G(()=>{console.log("ð§ SystemEntityLazyView rendered:"),console.log("   - entity.domain:",e?.domain),console.log("   - entityInstance found:",!!y),console.log("   - entityInstance.id:",y?.id),console.log("   - entityInstance has executeAction:",typeof y?.executeAction),console.log("   - hass exists:",!!n),console.log("   - hass.states exists:",!!n?.states)},[e,y,n]),G(()=>{let g=!0;return t().then(m=>{g&&(d(()=>m.default||m),h(!1))}).catch(m=>{g&&(p(m.message),h(!1))}),()=>{g=!1}},[t]),u)return l("div",{className:"system-view-loading",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px",color:"rgba(255,255,255,0.7)"},children:[l("div",{className:"loading-spinner",style:{width:"40px",height:"40px",border:"3px solid rgba(255,255,255,0.1)",borderTop:"3px solid rgba(255,255,255,0.5)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),l("p",{style:{marginTop:"16px"},children:["Loading ",e.name,"..."]})]});if(f)return l("div",{className:"system-view-error",style:{padding:"20px",textAlign:"center",color:"rgba(255,100,100,0.9)"},children:[l("h3",{children:"Error Loading View"}),l("p",{children:f}),a&&a()]});if(!c&&a){const g=a();if(g)return g}return c?l(c,{entity:y||e,hass:n,lang:i,onBack:s,onNavigate:r,onServiceCall:o}):l("div",{className:"system-view-error",style:{padding:"20px",textAlign:"center",color:"rgba(255,255,255,0.7)"},children:[l("h3",{children:"View Not Available"}),l("p",{children:["The view for ",e.name," could not be loaded."]})]})},lS=t=>({light:"ð¡",switch:"ð",climate:"ð¡ï¸",cover:"ðª",media_player:"ðº",vacuum:"ð¤",fan:"ð¨",lock:"ð",sensor:"ð",binary_sensor:"ð¡",camera:"ð·",settings:"âï¸"})[t]||"ð¦",cS=t=>{const e={light:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",climate:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",media_player:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",cover:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",vacuum:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",default:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"};return{background:e[t.domain]||e.default}},dS=(t,e="de")=>{const n=i=>$(`controls.${i}`,e);if(!t)return n("unknown");if(t.domain==="settings")return $("controls.systemSettings",e);if(t.domain==="sensor"){const i=t.state,s=t.attributes?.unit_of_measurement||"",r=t.name?.toLowerCase()||"";return r.includes("batterie")||r.includes("battery")?`${i}${s==="%"?"%":""} ${e==="de"?"Batterie":"Battery"}`:r.includes("luftfeuchtigkeit")||r.includes("humidity")?`${i}${s==="%"?"%":""} ${e==="de"?"Luftfeuchtigkeit":"Humidity"}`:r.includes("temperatur")||r.includes("temperature")||s==="Â°C"||s==="Â°F"?`${i}${s||"Â°C"}`:r.includes("energie")||r.includes("energy")||r.includes("power")||r.includes("strom")?`${i} ${s||"W"}`:r.includes("co2")?`${i} ${s||"ppm"} COâ`:r.includes("druck")||r.includes("pressure")?`${i} ${s||"hPa"}`:s?`${i} ${s}`:i}if(t.domain==="binary_sensor")return t.state==="on"?e==="de"?"Aktiv":"Active":e==="de"?"Inaktiv":"Inactive";if(t.domain==="switch"){const i=t.state==="on"?n("on"):n("off");return i.charAt(0).toUpperCase()+i.slice(1)}if(t.domain==="light"){if(t.state==="on"){const s=t.attributes?.brightness;if(s){const o=Math.round(s/255*100),a=n("on");return`${a.charAt(0).toUpperCase()+a.slice(1)} - ${o}%`}const r=n("on");return r.charAt(0).toUpperCase()+r.slice(1)}const i=n("off");return i.charAt(0).toUpperCase()+i.slice(1)}if(t.domain==="climate"){const i=t.attributes?.temperature,s=t.attributes?.current_temperature;return i?`${s||"--"}Â° â ${i}Â°C`:t.state}if(t.domain==="cover"){const i=t.attributes?.current_position;return i!==void 0?`${i}% ${e==="de"?"offen":"open"}`:t.state==="closed"?e==="de"?"Geschlossen":"Closed":e==="de"?"Offen":"Open"}return t.state||n("unknown")},uS=(t,e="de")=>{const n=$("controls.justNow",e),i=$("controls.since",e);return{on:`${i} 2 ${e==="de"?"Stunden":"hours"}`,off:`${i} 30 ${e==="de"?"Minuten":"minutes"}`,playing:`${i} 15 ${e==="de"?"Minuten":"minutes"}`,idle:`${i} 1 ${e==="de"?"Stunde":"hour"}`}[t?.state]||n},hS=t=>{const e=[];if(t.domain==="light"){if(t.attributes?.brightness){const n=Math.round(t.attributes.brightness/255*100);e.push(`${n}% Helligkeit`)}t.attributes?.color_temp&&e.push(`${t.attributes.color_temp} mired`),t.state==="on"?e.push("Eingeschaltet"):e.push("Ausgeschaltet")}return t.domain==="climate"&&(t.attributes?.current_temperature&&e.push(`${t.attributes.current_temperature}Â°C aktuell`),t.attributes?.temperature&&e.push(`${t.attributes.temperature}Â°C Ziel`),t.attributes?.hvac_mode&&e.push(t.attributes.hvac_mode)),e.slice(0,3)},fS=({item:t,isFavorite:e,onBack:n,onToggleFavorite:i,lang:s})=>l("div",{className:"detail-left-header",children:[l(z.button,{className:"back-button",onClick:n,whileHover:{scale:1.05},whileTap:{scale:.95},children:l("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l("path",{d:"M15 6L9 12L15 18",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),l("div",{className:"detail-left-title-info",children:[l("h3",{className:"detail-left-title-name",style:{fontWeight:600},children:t.domain==="settings"?$("deviceNames.settings",s):t.attributes?.friendly_name||t.name}),l("p",{className:"detail-left-title-area",style:{fontWeight:400},children:t.domain==="settings"?$("subcategories.system",s):t.area||$("general.noRoom",s)})]}),l(z.button,{className:`favorite-button ${e?"active":""}`,onClick:i,whileHover:{scale:1.05},whileTap:{scale:.95},children:l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinejoin:"round",children:l("path",{d:"M22 8.86222C22 10.4087 21.4062 11.8941 20.3458 12.9929C17.9049 15.523 15.5374 18.1613 13.0053 20.5997C12.4249 21.1505 11.5042 21.1304 10.9488 20.5547L3.65376 12.9929C1.44875 10.7072 1.44875 7.01723 3.65376 4.73157C5.88044 2.42345 9.50794 2.42345 11.7346 4.73157L11.9998 5.00642L12.2648 4.73173C13.3324 3.6245 14.7864 3 16.3053 3C17.8242 3 19.2781 3.62444 20.3458 4.73157C21.4063 5.83045 22 7.31577 22 8.86222Z"})})})]}),pS=({item:t,lang:e})=>l("div",{className:"icon-content",children:[l("div",{className:"icon-background-wrapper",children:l("div",{className:"icon-background",style:cS(t),children:lS(t.domain)})}),l("div",{className:"detail-info-row",children:l("div",{className:"quick-stats",children:l($e,{mode:"popLayout",children:hS(t).map((n,i)=>l(z.div,{className:"stat-item",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{delay:i*.05},layout:!0,children:n},n))})})}),l("div",{className:"entity-id-display",children:t.entity_id})]}),gS=({filteredTabIcons:t,activeTab:e,onTabChange:n,sliderPosition:i,isMobile:s,stateText:r,stateDuration:o,item:a,settingsTabRef:c,actionButtons:d=null,onBack:u})=>{console.log("ð TabNavigation - actionButtons:",d),console.log("ð TabNavigation - filteredTabIcons:",t);const h=m=>{n(m),a.domain==="settings"&&c.current&&c.current.setActiveTab&&c.current.setActiveTab(m)},f=m=>{switch(console.log("Action clicked:",m),m){case"back":window._newsViewRef&&window._newsViewRef.handleBackNavigation?window._newsViewRef.handleBackNavigation():u?.();break;case"settings":window._newsViewRef&&window._newsViewRef.handleOpenSettings&&window._newsViewRef.handleOpenSettings();break;case"refresh":window._newsViewRef&&window._newsViewRef.handleRefresh&&window._newsViewRef.handleRefresh();break;default:console.warn("Unknown action:",m)}},p=m=>{switch(m){case"back":return l("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l("path",{d:"M15 18L9 12L15 6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});case"settings":return l("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l("circle",{cx:"12",cy:"12",r:"3",strokeWidth:"2"}),l("path",{d:"M12 1v6m0 6v10M1 12h6m6 0h10",strokeWidth:"2"}),l("path",{d:"M4.2 4.2l4.3 4.3m7 7l4.3 4.3M4.2 19.8l4.3-4.3m7-7l4.3-4.3",strokeWidth:"2"})]});case"refresh":return l("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l("path",{d:"M21.5 2V8M21.5 8H15.5M21.5 8L18.5 5C17.1 3.6 15.2 2.7 13 2.7C8.5 2.7 4.9 6.3 4.9 10.8C4.9 15.3 8.5 18.9 13 18.9C16.9 18.9 20.1 16.1 20.8 12.4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});default:return null}},y={x:i.x,width:i.width,height:i.height,scaleX:[1,1.12,.96,1.03,1],scaleY:[1,.94,1.06,.99,1]},g={x:{type:"spring",stiffness:280,damping:22,mass:1.5},width:{type:"spring",stiffness:280,damping:22,mass:1.5},height:{type:"spring",stiffness:280,damping:22,mass:1.5},scaleX:{duration:.6,times:[0,.2,.5,.8,1],ease:[.34,1.56,.64,1]},scaleY:{duration:.6,times:[0,.2,.5,.8,1],ease:[.34,1.56,.64,1]}};return s?l("div",{className:"mobile-tabs",children:[l("div",{className:"detail-header-info",children:[l("h3",{className:"detail-header-name",style:{fontWeight:600},children:r}),l("p",{className:"detail-header-area",style:{fontWeight:400},children:o})]}),l("div",{className:"detail-tabs",children:d?l(ae,{children:d.map((m,b)=>l(z.button,{className:"detail-tab",onClick:()=>f(m.action),whileHover:{scale:1.04},whileTap:{scale:.96},transition:{duration:.2},title:m.title,children:p(m.id)},m.id))}):l(ae,{children:[l(z.div,{className:"tab-slider",animate:y,transition:g}),t.map((m,b)=>l(z.button,{className:`detail-tab ${e===b?"active":""}`,onClick:()=>h(b),whileHover:{scale:1.04},whileTap:{scale:.96},transition:{duration:.2},children:m},b))]})})]}):l("div",{className:"desktop-tabs",children:l("div",{className:"detail-header",children:[l("div",{className:"detail-header-info",children:[l("h3",{className:"detail-header-name",style:{fontWeight:600},children:r}),l("p",{className:"detail-header-area",style:{fontWeight:400},children:o})]}),l("div",{className:"detail-tabs",children:d?l(ae,{children:d.map((m,b)=>l(z.button,{className:"detail-tab",onClick:()=>f(m.action),whileHover:{scale:1.04},whileTap:{scale:.96},transition:{duration:.2},title:m.title,children:p(m.id)},m.id))}):l(ae,{children:[l(z.div,{className:"tab-slider",animate:y,transition:g}),t.map((m,b)=>l(z.button,{className:`detail-tab ${e===b?"active":""}`,onClick:()=>h(b),whileHover:{scale:1.04},whileTap:{scale:.96},transition:{duration:.2},children:m},b))]})})]})})},mS=[l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",children:[l("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22Z",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12C16 14.2091 14.2091 16 12 16Z",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M12 2V8",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M12 16V22",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M2 12H8",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M16 12H22",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M4.92896 4.92871L9.1716 9.17135",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M14.8284 14.8286L19.071 19.0713",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M4.92896 19.0713L9.1716 14.8286",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M14.8284 9.17139L19.071 4.92875",strokeLinecap:"round",strokeLinejoin:"round"})]}),l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",children:[l("path",{d:"M12 6L12 12L18 12",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",strokeLinecap:"round",strokeLinejoin:"round"})]}),l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[l("path",{d:"M3 7.4V3.6C3 3.26863 3.26863 3 3.6 3H9.4C9.73137 3 10 3.26863 10 3.6V7.4C10 7.73137 9.73137 8 9.4 8H3.6C3.26863 8 3 7.73137 3 7.4Z"}),l("path",{d:"M14 20.4V16.6C14 16.2686 14.2686 16 14.6 16H20.4C20.7314 16 21 16.2686 21 16.6V20.4C21 20.7314 20.7314 21 20.4 21H14.6C14.2686 21 14 20.7314 14 20.4Z"}),l("path",{d:"M14 12.4V3.6C14 3.26863 14.2686 3 14.6 3H20.4C20.7314 3 21 3.26863 21 3.6V12.4C21 12.7314 20.7314 13 20.4 13H14.6C14.2686 13 14 12.7314 14 12.4Z"}),l("path",{d:"M3 20.4V11.6C3 11.2686 3.26863 11 3.6 11H9.4C9.73137 11 10 11.2686 10 11.6V20.4C10 20.7314 9.73137 21 9.4 21H3.6C3.26863 21 3 20.7314 3 20.4Z"})]}),l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[l("path",{d:"M21 9.6V20.4C21 20.7314 20.7314 21 20.4 21H9.6C9.26863 21 9 20.7314 9 20.4V9.6C9 9.26863 9.26863 9 9.6 9H20.4C20.7314 9 21 9.26863 21 9.6Z",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M15 3.6V14.4C15 14.7314 14.7314 15 14.4 15H3.6C3.26863 15 3 14.7314 3 14.4V3.6C3 3.26863 3.26863 3 3.6 3H14.4C14.7314 3 15 3.26863 15 3.6Z",strokeLinecap:"round",strokeLinejoin:"round"})]})],yS=({item:t={entity_id:"light.wohnzimmer",domain:"light",name:"Wohnzimmer Licht",area:"Wohnzimmer",state:"on",attributes:{brightness:180,color_temp:350,friendly_name:"Wohnzimmer Deckenlampe"}},isVisible:e=!1,onBack:n,onToggleFavorite:i,onServiceCall:s,onActionNavigate:r,hass:o,lang:a="de",isFavorite:c=!1})=>{const[d]=Tl(),u=Le(()=>!t?.entity_id||!d?t:d.find(L=>L.entity_id===t.entity_id)||t,[d,t?.entity_id]),[h,f]=E(0),[p,y]=E(!1),[g,m]=E(c),[b,v]=E(null),[_,k]=E({x:0,width:0,height:0});J(null);const w=J(null);G(()=>{m(c)},[c,t?.entity_id,t?.id]),G(()=>{const A=t?.entity_id||t?.id;b&&b!==A&&f(0),v(A)},[t?.entity_id,t?.id]),G(()=>{const A=()=>{y(window.innerWidth<=768)};return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const C=t?.domain==="settings"?Or.getTabIcons():[],x=t?.domain==="settings"?C:mS,R=t.domain==="settings"?C:we.isSystemEntity(t.domain)&&!we.hasTabs(t.domain)?[]:t.domain==="sensor"||t.domain==="binary_sensor"?[x[0],x[2],x[3]]:x,F=(()=>{if(we.isSystemEntity(t.domain)){const A=we.getActionButtons(t.domain);return console.log("ð Action buttons for",t.domain,":",A),A}return null})();console.log("ð Final actionButtons:",F),G(()=>{const A=()=>{const V=window.innerWidth<=768?".mobile-tabs .detail-tabs .detail-tab":".desktop-tabs .detail-tabs .detail-tab",W=document.querySelectorAll(V);if(W[h]){const j=W[h],q=j.closest(".detail-tabs");if(q){const U=q.getBoundingClientRect(),D=j.getBoundingClientRect(),Y=D.left-U.left,K=D.width,te=D.height;k({x:Math.round(Y),width:Math.round(K),height:Math.round(te)})}}};requestAnimationFrame(A);const L=setTimeout(A,100),P=setTimeout(A,250);return window.addEventListener("resize",A),()=>{clearTimeout(L),clearTimeout(P),window.removeEventListener("resize",A)}},[h,p]);const O=()=>{const A=t.entity_id||t.id;A&&(m(!g),i?.(A))},T=()=>{n?.()},H=async A=>{if(!o)return null;try{const{loadEntityHistory:L}=await Ge(async()=>{const{loadEntityHistory:I}=await Promise.resolve().then(()=>Gv);return{loadEntityHistory:I}},void 0),P=await L(o,A.entity_id,A.timeRange);return P?{history:P.data,events:P.events}:null}catch{return null}},M=()=>{if(t.domain==="settings")return l(Or,{settingsRef:w,lang:a,onTabChange:P=>{}});if(t.is_system||t.is_plugin||we.isSystemEntity(t.domain)){const P=we.getViewComponent(t.domain);if(P)return typeof P=="function"?l(aS,{viewLoader:P,entity:t,hass:o,lang:a,onBack:T,onNavigate:r,onServiceCall:s}):l(P,{entity:t,hass:o,lang:a,onBack:T,onNavigate:r,onServiceCall:s})}if(t.domain==="sensor"||t.domain==="binary_sensor"){const P=[l(Yd,{item:u,onServiceCall:s,lang:a,hass:o}),l(wh,{item:u,onDataRequest:H}),l(Ch,{item:u,onActionExecute:I=>{},onActionNavigate:I=>{r&&r(I)},favoriteActions:[]})];return P[h]||P[0]}const L=[l(Yd,{item:u,onServiceCall:s,lang:a,hass:o}),l(PC,{item:u,lang:a,onTimerCreate:P=>v5(o,u,P),onScheduleCreate:P=>_5(o,u,P)}),l(wh,{item:u,onDataRequest:H}),l(Ch,{item:t,onActionExecute:P=>{},onActionNavigate:P=>{r&&r(P)},favoriteActions:[]})];return L[h]||L[0]};return t?l($e,{mode:"wait",children:e&&l(z.div,{className:"detail-panel visible","data-entity-id":t.entity_id,variants:Bv,initial:"hidden",animate:"visible",exit:"exit",children:l(z.div,{className:"detail-content",variants:$v,initial:"hidden",animate:"visible",children:[l("div",{className:"detail-left",children:[l(fS,{item:t,isFavorite:g,onBack:T,onToggleFavorite:O,lang:a}),l(pS,{item:t,lang:a})]}),l("div",{className:"detail-divider"}),l("div",{className:"detail-right",children:[l(gS,{filteredTabIcons:R,activeTab:h,onTabChange:f,sliderPosition:_,isMobile:p,stateText:dS(t,a),stateDuration:uS(t,a),item:t,settingsTabRef:w,actionButtons:F,onBack:T}),l("div",{id:"tab-content-container",children:M()})]})]},t.entity_id||t.id)})}):null};function Xt(t){return Array.isArray?Array.isArray(t):fg(t)==="[object Array]"}function bS(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function vS(t){return t==null?"":bS(t)}function Ft(t){return typeof t=="string"}function ug(t){return typeof t=="number"}function _S(t){return t===!0||t===!1||wS(t)&&fg(t)=="[object Boolean]"}function hg(t){return typeof t=="object"}function wS(t){return hg(t)&&t!==null}function ct(t){return t!=null}function Vo(t){return!t.trim().length}function fg(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const kS="Incorrect 'index' type",xS=t=>`Invalid value for key ${t}`,CS=t=>`Pattern length exceeds max of ${t}.`,SS=t=>`Missing ${t} property in key`,MS=t=>`Property 'weight' in key '${t}' must be a positive integer`,Mh=Object.prototype.hasOwnProperty;class AS{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(i=>{let s=pg(i);this._keys.push(s),this._keyMap[s.id]=s,n+=s.weight}),this._keys.forEach(i=>{i.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function pg(t){let e=null,n=null,i=null,s=1,r=null;if(Ft(t)||Xt(t))i=t,e=Ah(t),n=Oa(t);else{if(!Mh.call(t,"name"))throw new Error(SS("name"));const o=t.name;if(i=o,Mh.call(t,"weight")&&(s=t.weight,s<=0))throw new Error(MS(o));e=Ah(o),n=Oa(o),r=t.getFn}return{path:e,id:n,weight:s,src:i,getFn:r}}function Ah(t){return Xt(t)?t:t.split(".")}function Oa(t){return Xt(t)?t.join("."):t}function LS(t,e){let n=[],i=!1;const s=(r,o,a)=>{if(ct(r))if(!o[a])n.push(r);else{let c=o[a];const d=r[c];if(!ct(d))return;if(a===o.length-1&&(Ft(d)||ug(d)||_S(d)))n.push(vS(d));else if(Xt(d)){i=!0;for(let u=0,h=d.length;u<h;u+=1)s(d[u],o,a+1)}else o.length&&s(d,o,a+1)}};return s(t,Ft(e)?e.split("."):e,0),i?n:n[0]}const TS={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},ES={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},DS={location:0,threshold:.6,distance:100},FS={useExtendedSearch:!1,getFn:LS,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var se={...ES,...TS,...DS,...FS};const NS=/[^ ]+/g;function PS(t=1,e=3){const n=new Map,i=Math.pow(10,e);return{get(s){const r=s.match(NS).length;if(n.has(r))return n.get(r);const o=1/Math.pow(r,.5*t),a=parseFloat(Math.round(o*i)/i);return n.set(r,a),a},clear(){n.clear()}}}class Kl{constructor({getFn:e=se.getFn,fieldNormWeight:n=se.fieldNormWeight}={}){this.norm=PS(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,i)=>{this._keysMap[n.id]=i})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ft(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();Ft(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,i=this.size();n<i;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!ct(e)||Vo(e))return;let i={v:e,i:n,n:this.norm.get(e)};this.records.push(i)}_addObject(e,n){let i={i:n,$:{}};this.keys.forEach((s,r)=>{let o=s.getFn?s.getFn(e):this.getFn(e,s.path);if(ct(o)){if(Xt(o)){let a=[];const c=[{nestedArrIndex:-1,value:o}];for(;c.length;){const{nestedArrIndex:d,value:u}=c.pop();if(ct(u))if(Ft(u)&&!Vo(u)){let h={v:u,i:d,n:this.norm.get(u)};a.push(h)}else Xt(u)&&u.forEach((h,f)=>{c.push({nestedArrIndex:f,value:h})})}i.$[r]=a}else if(Ft(o)&&!Vo(o)){let a={v:o,n:this.norm.get(o)};i.$[r]=a}}}),this.records.push(i)}toJSON(){return{keys:this.keys,records:this.records}}}function gg(t,e,{getFn:n=se.getFn,fieldNormWeight:i=se.fieldNormWeight}={}){const s=new Kl({getFn:n,fieldNormWeight:i});return s.setKeys(t.map(pg)),s.setSources(e),s.create(),s}function IS(t,{getFn:e=se.getFn,fieldNormWeight:n=se.fieldNormWeight}={}){const{keys:i,records:s}=t,r=new Kl({getFn:e,fieldNormWeight:n});return r.setKeys(i),r.setIndexRecords(s),r}function qs(t,{errors:e=0,currentLocation:n=0,expectedLocation:i=0,distance:s=se.distance,ignoreLocation:r=se.ignoreLocation}={}){const o=e/t.length;if(r)return o;const a=Math.abs(i-n);return s?o+a/s:a?1:o}function RS(t=[],e=se.minMatchCharLength){let n=[],i=-1,s=-1,r=0;for(let o=t.length;r<o;r+=1){let a=t[r];a&&i===-1?i=r:!a&&i!==-1&&(s=r-1,s-i+1>=e&&n.push([i,s]),i=-1)}return t[r-1]&&r-i>=e&&n.push([i,r-1]),n}const An=32;function OS(t,e,n,{location:i=se.location,distance:s=se.distance,threshold:r=se.threshold,findAllMatches:o=se.findAllMatches,minMatchCharLength:a=se.minMatchCharLength,includeMatches:c=se.includeMatches,ignoreLocation:d=se.ignoreLocation}={}){if(e.length>An)throw new Error(CS(An));const u=e.length,h=t.length,f=Math.max(0,Math.min(i,h));let p=r,y=f;const g=a>1||c,m=g?Array(h):[];let b;for(;(b=t.indexOf(e,y))>-1;){let x=qs(e,{currentLocation:b,expectedLocation:f,distance:s,ignoreLocation:d});if(p=Math.min(x,p),y=b+u,g){let S=0;for(;S<u;)m[b+S]=1,S+=1}}y=-1;let v=[],_=1,k=u+h;const w=1<<u-1;for(let x=0;x<u;x+=1){let S=0,R=k;for(;S<R;)qs(e,{errors:x,currentLocation:f+R,expectedLocation:f,distance:s,ignoreLocation:d})<=p?S=R:k=R,R=Math.floor((k-S)/2+S);k=R;let N=Math.max(1,f-R+1),F=o?h:Math.min(f+R,h)+u,O=Array(F+2);O[F+1]=(1<<x)-1;for(let H=F;H>=N;H-=1){let M=H-1,A=n[t.charAt(M)];if(g&&(m[M]=+!!A),O[H]=(O[H+1]<<1|1)&A,x&&(O[H]|=(v[H+1]|v[H])<<1|1|v[H+1]),O[H]&w&&(_=qs(e,{errors:x,currentLocation:M,expectedLocation:f,distance:s,ignoreLocation:d}),_<=p)){if(p=_,y=M,y<=f)break;N=Math.max(1,2*f-y)}}if(qs(e,{errors:x+1,currentLocation:f,expectedLocation:f,distance:s,ignoreLocation:d})>p)break;v=O}const C={isMatch:y>=0,score:Math.max(.001,_)};if(g){const x=RS(m,a);x.length?c&&(C.indices=x):C.isMatch=!1}return C}function VS(t){let e={};for(let n=0,i=t.length;n<i;n+=1){const s=t.charAt(n);e[s]=(e[s]||0)|1<<i-n-1}return e}const Vr=String.prototype.normalize?(t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(t=>t);class mg{constructor(e,{location:n=se.location,threshold:i=se.threshold,distance:s=se.distance,includeMatches:r=se.includeMatches,findAllMatches:o=se.findAllMatches,minMatchCharLength:a=se.minMatchCharLength,isCaseSensitive:c=se.isCaseSensitive,ignoreDiacritics:d=se.ignoreDiacritics,ignoreLocation:u=se.ignoreLocation}={}){if(this.options={location:n,threshold:i,distance:s,includeMatches:r,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:c,ignoreDiacritics:d,ignoreLocation:u},e=c?e:e.toLowerCase(),e=d?Vr(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const h=(p,y)=>{this.chunks.push({pattern:p,alphabet:VS(p),startIndex:y})},f=this.pattern.length;if(f>An){let p=0;const y=f%An,g=f-y;for(;p<g;)h(this.pattern.substr(p,An),p),p+=An;if(y){const m=f-An;h(this.pattern.substr(m),m)}}else h(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,ignoreDiacritics:i,includeMatches:s}=this.options;if(e=n?e:e.toLowerCase(),e=i?Vr(e):e,this.pattern===e){let g={isMatch:!0,score:0};return s&&(g.indices=[[0,e.length-1]]),g}const{location:r,distance:o,threshold:a,findAllMatches:c,minMatchCharLength:d,ignoreLocation:u}=this.options;let h=[],f=0,p=!1;this.chunks.forEach(({pattern:g,alphabet:m,startIndex:b})=>{const{isMatch:v,score:_,indices:k}=OS(e,g,m,{location:r+b,distance:o,threshold:a,findAllMatches:c,minMatchCharLength:d,includeMatches:s,ignoreLocation:u});v&&(p=!0),f+=_,v&&k&&(h=[...h,...k])});let y={isMatch:p,score:p?f/this.chunks.length:1};return p&&s&&(y.indices=h),y}}class fn{constructor(e){this.pattern=e}static isMultiMatch(e){return Lh(e,this.multiRegex)}static isSingleMatch(e){return Lh(e,this.singleRegex)}search(){}}function Lh(t,e){const n=t.match(e);return n?n[1]:null}class BS extends fn{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class $S extends fn{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const i=e.indexOf(this.pattern)===-1;return{isMatch:i,score:i?0:1,indices:[0,e.length-1]}}}class zS extends fn{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class HS extends fn{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class WS extends fn{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class jS extends fn{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class yg extends fn{constructor(e,{location:n=se.location,threshold:i=se.threshold,distance:s=se.distance,includeMatches:r=se.includeMatches,findAllMatches:o=se.findAllMatches,minMatchCharLength:a=se.minMatchCharLength,isCaseSensitive:c=se.isCaseSensitive,ignoreDiacritics:d=se.ignoreDiacritics,ignoreLocation:u=se.ignoreLocation}={}){super(e),this._bitapSearch=new mg(e,{location:n,threshold:i,distance:s,includeMatches:r,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:c,ignoreDiacritics:d,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class bg extends fn{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,i;const s=[],r=this.pattern.length;for(;(i=e.indexOf(this.pattern,n))>-1;)n=i+r,s.push([i,n-1]);const o=!!s.length;return{isMatch:o,score:o?0:1,indices:s}}}const Va=[BS,bg,zS,HS,jS,WS,$S,yg],Th=Va.length,US=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,GS="|";function KS(t,e={}){return t.split(GS).map(n=>{let i=n.trim().split(US).filter(r=>r&&!!r.trim()),s=[];for(let r=0,o=i.length;r<o;r+=1){const a=i[r];let c=!1,d=-1;for(;!c&&++d<Th;){const u=Va[d];let h=u.isMultiMatch(a);h&&(s.push(new u(h,e)),c=!0)}if(!c)for(d=-1;++d<Th;){const u=Va[d];let h=u.isSingleMatch(a);if(h){s.push(new u(h,e));break}}}return s})}const YS=new Set([yg.type,bg.type]);class ZS{constructor(e,{isCaseSensitive:n=se.isCaseSensitive,ignoreDiacritics:i=se.ignoreDiacritics,includeMatches:s=se.includeMatches,minMatchCharLength:r=se.minMatchCharLength,ignoreLocation:o=se.ignoreLocation,findAllMatches:a=se.findAllMatches,location:c=se.location,threshold:d=se.threshold,distance:u=se.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:i,includeMatches:s,minMatchCharLength:r,findAllMatches:a,ignoreLocation:o,location:c,threshold:d,distance:u},e=n?e:e.toLowerCase(),e=i?Vr(e):e,this.pattern=e,this.query=KS(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:i,isCaseSensitive:s,ignoreDiacritics:r}=this.options;e=s?e:e.toLowerCase(),e=r?Vr(e):e;let o=0,a=[],c=0;for(let d=0,u=n.length;d<u;d+=1){const h=n[d];a.length=0,o=0;for(let f=0,p=h.length;f<p;f+=1){const y=h[f],{isMatch:g,indices:m,score:b}=y.search(e);if(g){if(o+=1,c+=b,i){const v=y.constructor.type;YS.has(v)?a=[...a,...m]:a.push(m)}}else{c=0,o=0,a.length=0;break}}if(o){let f={isMatch:!0,score:c/o};return i&&(f.indices=a),f}}return{isMatch:!1,score:1}}}const Ba=[];function qS(...t){Ba.push(...t)}function $a(t,e){for(let n=0,i=Ba.length;n<i;n+=1){let s=Ba[n];if(s.condition(t,e))return new s(t,e)}return new mg(t,e)}const Br={AND:"$and",OR:"$or"},za={PATH:"$path",PATTERN:"$val"},Ha=t=>!!(t[Br.AND]||t[Br.OR]),XS=t=>!!t[za.PATH],JS=t=>!Xt(t)&&hg(t)&&!Ha(t),Eh=t=>({[Br.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function vg(t,e,{auto:n=!0}={}){const i=s=>{let r=Object.keys(s);const o=XS(s);if(!o&&r.length>1&&!Ha(s))return i(Eh(s));if(JS(s)){const c=o?s[za.PATH]:r[0],d=o?s[za.PATTERN]:s[c];if(!Ft(d))throw new Error(xS(c));const u={keyId:Oa(c),pattern:d};return n&&(u.searcher=$a(d,e)),u}let a={children:[],operator:r[0]};return r.forEach(c=>{const d=s[c];Xt(d)&&d.forEach(u=>{a.children.push(i(u))})}),a};return Ha(t)||(t=Eh(t)),i(t)}function QS(t,{ignoreFieldNorm:e=se.ignoreFieldNorm}){t.forEach(n=>{let i=1;n.matches.forEach(({key:s,norm:r,score:o})=>{const a=s?s.weight:null;i*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(e?1:r))}),n.score=i})}function e3(t,e){const n=t.matches;e.matches=[],ct(n)&&n.forEach(i=>{if(!ct(i.indices)||!i.indices.length)return;const{indices:s,value:r}=i;let o={indices:s,value:r};i.key&&(o.key=i.key.src),i.idx>-1&&(o.refIndex=i.idx),e.matches.push(o)})}function t3(t,e){e.score=t.score}function n3(t,e,{includeMatches:n=se.includeMatches,includeScore:i=se.includeScore}={}){const s=[];return n&&s.push(e3),i&&s.push(t3),t.map(r=>{const{idx:o}=r,a={item:e[o],refIndex:o};return s.length&&s.forEach(c=>{c(r,a)}),a})}class di{constructor(e,n={},i){this.options={...se,...n},this._keyStore=new AS(this.options.keys),this.setCollection(e,i)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof Kl))throw new Error(kS);this._myIndex=n||gg(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){ct(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let i=0,s=this._docs.length;i<s;i+=1){const r=this._docs[i];e(r,i)&&(this.removeAt(i),i-=1,s-=1,n.push(r))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:i,includeScore:s,shouldSort:r,sortFn:o,ignoreFieldNorm:a}=this.options;let c=Ft(e)?Ft(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return QS(c,{ignoreFieldNorm:a}),r&&c.sort(o),ug(n)&&n>-1&&(c=c.slice(0,n)),n3(c,this._docs,{includeMatches:i,includeScore:s})}_searchStringList(e){const n=$a(e,this.options),{records:i}=this._myIndex,s=[];return i.forEach(({v:r,i:o,n:a})=>{if(!ct(r))return;const{isMatch:c,score:d,indices:u}=n.searchIn(r);c&&s.push({item:r,idx:o,matches:[{score:d,value:r,norm:a,indices:u}]})}),s}_searchLogical(e){const n=vg(e,this.options),i=(a,c,d)=>{if(!a.children){const{keyId:h,searcher:f}=a,p=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(c,h),searcher:f});return p&&p.length?[{idx:d,item:c,matches:p}]:[]}const u=[];for(let h=0,f=a.children.length;h<f;h+=1){const p=a.children[h],y=i(p,c,d);if(y.length)u.push(...y);else if(a.operator===Br.AND)return[]}return u},s=this._myIndex.records,r={},o=[];return s.forEach(({$:a,i:c})=>{if(ct(a)){let d=i(n,a,c);d.length&&(r[c]||(r[c]={idx:c,item:a,matches:[]},o.push(r[c])),d.forEach(({matches:u})=>{r[c].matches.push(...u)}))}}),o}_searchObjectList(e){const n=$a(e,this.options),{keys:i,records:s}=this._myIndex,r=[];return s.forEach(({$:o,i:a})=>{if(!ct(o))return;let c=[];i.forEach((d,u)=>{c.push(...this._findMatches({key:d,value:o[u],searcher:n}))}),c.length&&r.push({idx:a,item:o,matches:c})}),r}_findMatches({key:e,value:n,searcher:i}){if(!ct(n))return[];let s=[];if(Xt(n))n.forEach(({v:r,i:o,n:a})=>{if(!ct(r))return;const{isMatch:c,score:d,indices:u}=i.searchIn(r);c&&s.push({score:d,key:e,value:r,idx:o,norm:a,indices:u})});else{const{v:r,n:o}=n,{isMatch:a,score:c,indices:d}=i.searchIn(r);a&&s.push({score:c,key:e,value:r,norm:o,indices:d})}return s}}di.version="7.1.0";di.createIndex=gg;di.parseIndex=IS;di.config=se;di.parseQuery=vg;qS(ZS);const i3=(t=[],e={})=>{const[n,i]=E(""),[s,r]=E(!1),o=J(null),a=Le(()=>new di(t,{keys:[{name:"name",weight:.4},{name:"attributes.friendly_name",weight:.35},{name:"area",weight:.15},{name:"id",weight:.05},{name:"entity_id",weight:.05}],threshold:.5,includeScore:!0,includeMatches:!0,minMatchCharLength:1,shouldSort:!0,findAllMatches:!0,ignoreLocation:!0,useExtendedSearch:!1,tokenize:!0,matchAllTokens:!1,distance:1e3,...e}),[t]),c=ge(f=>{if(clearTimeout(o.current),i(f),!f)return r(!1),t;r(!0),o.current=setTimeout(()=>{r(!1)},150);const p=f.toLowerCase().trim().split(/\s+/);if(p.length>1){const g=t.filter(m=>{const b=[m.name||"",m.attributes?.friendly_name||"",m.entity_id||"",m.id||"",m.area||""].join(" ").toLowerCase();return p.every(v=>b.includes(v))});return g.sort((m,b)=>{const v=(m.attributes?.friendly_name||m.name||"").toLowerCase(),_=(b.attributes?.friendly_name||b.name||"").toLowerCase(),k=v===f.toLowerCase(),w=_===f.toLowerCase();if(k&&!w)return-1;if(!k&&w)return 1;const C=d(v,p),x=d(_,p);return C-x}),g.map(m=>({...m,score:0,matches:[]}))}return a.search(f).map(g=>({...g.item,score:g.score,matches:g.matches}))},[a,t]),d=(f,p)=>{if(p.length<2)return 0;const y=p.map(m=>{const b=f.indexOf(m);return b>=0?b:f.length});y.sort((m,b)=>m-b);let g=0;for(let m=1;m<y.length;m++)g+=y[m]-y[m-1];return g},u=ge((f,p=5)=>f?a.search(f).slice(0,p).map(g=>({...g.item,highlight:s3(g.item.name,g.matches)})):[],[a]),h=Le(()=>c(n),[n,c]);return{searchTerm:n,setSearchTerm:i,results:h,isSearching:s,getSuggestions:u,search:c}},s3=(t,e)=>{if(!e)return t;const n=e.find(r=>r.key==="name");if(!n)return t;let i="",s=0;return n.indices.forEach(([r,o])=>{i+=t.slice(s,r),i+=`<mark>${t.slice(r,o+1)}</mark>`,s=o+1}),i+=t.slice(s),i},r3=({size:t=39})=>{const e=`lightbulb_on_${Math.random().toString(36).substr(2,9)}`;return l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("g",{id:`${e}_segment1`,children:l("path",{d:"M9.00082 15C9.00098 13 8.50098 12.5 7.50082 11.5C6.50067 10.5 6.02422 9.48689 6.00082 8C5.95284 4.95029 8.00067 3 12.0008 3C16.001 3 18.0488 4.95029 18.0008 8C17.9774 9.48689 17.5007 10.5 16.5008 11.5C15.501 12.5 15.001 13 15.0008 15",stroke:"#FFD54F",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",opacity:"0",children:[l("animate",{attributeName:"opacity",values:"0;1",dur:"1s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,-2;0,0",dur:"1s",fill:"freeze"})]})}),l("g",{id:`${e}_segment2`,children:l("path",{d:"M9 18H15",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[l("animate",{attributeName:"opacity",values:"0;1",dur:"1s",begin:"0.3s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,2;0,0",dur:"1s",begin:"0.3s",fill:"freeze"})]})}),l("g",{id:`${e}_segment3`,children:l("path",{d:"M10 21H14",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[l("animate",{attributeName:"opacity",values:"0;1",dur:"1s",begin:"0.6s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,2;0,0",dur:"1s",begin:"0.6s",fill:"freeze"})]})})]})},o3=({size:t=39})=>{const e=`lightbulb_off_${Math.random().toString(36).substr(2,9)}`;return l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("g",{id:`${e}_segment1`,children:l("path",{d:"M9.00082 15C9.00098 13 8.50098 12.5 7.50082 11.5C6.50067 10.5 6.02422 9.48689 6.00082 8C5.95284 4.95029 8.00067 3 12.0008 3C16.001 3 18.0488 4.95029 18.0008 8C17.9774 9.48689 17.5007 10.5 16.5008 11.5C15.501 12.5 15.001 13 15.0008 15",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",stroke:"#FFD54F",children:[l("animate",{attributeName:"stroke",values:"#FFD54F;#F0F4F8;#F0F4F8",dur:"1s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"scale",values:"1;0.95;1",dur:"1s",fill:"freeze"})]})}),l("g",{id:`${e}_segment2`,children:l("path",{d:"M9 18H15",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",stroke:"#42A5F5",children:[l("animate",{attributeName:"opacity",values:"1;0.3;1",dur:"1s",fill:"freeze"}),l("animate",{attributeName:"stroke",values:"#42A5F5;#42A5F5;#B0BEC5",dur:"1s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,1;0,0",dur:"1s",fill:"freeze"})]})}),l("g",{id:`${e}_segment3`,children:l("path",{d:"M10 21H14",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",stroke:"#42A5F5",children:[l("animate",{attributeName:"opacity",values:"1;0.3;1",dur:"1s",begin:"0.3s",fill:"freeze"}),l("animate",{attributeName:"stroke",values:"#42A5F5;#42A5F5;#B0BEC5",dur:"1s",begin:"0.3s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,1;0,0",dur:"1s",begin:"0.3s",fill:"freeze"})]})})]})},a3=({size:t=39})=>{const e=`desk_lamp_on_${Math.random().toString(36).substr(2,9)}`;return l("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",strokeWidth:"1",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{id:`${e}_sockel`,d:"M8 21H16",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[l("animate",{attributeName:"opacity",values:"0;1",dur:"1s",begin:"0.6s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,2;0,0",dur:"1s",begin:"0.6s",fill:"freeze"})]}),l("path",{id:`${e}_stiel`,d:"M12 15L12 21",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[l("animate",{attributeName:"opacity",values:"0;1",dur:"1s",begin:"0.3s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,2;0,0",dur:"1s",begin:"0.3s",fill:"freeze"})]}),l("path",{id:`${e}_gelenk`,d:"M8 15L8 13",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[l("animate",{attributeName:"opacity",values:"0;1",dur:"1s",begin:"0.2s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"1,0;0,0",dur:"1s",begin:"0.2s",fill:"freeze"})]}),l("path",{id:`${e}_lampenschirm`,d:"M6.87172 3.42759L4.23172 12.2276C4.11623 12.6126 4.4045 13 4.80642 13L19.1936 13C19.5955 13 19.8838 12.6126 19.7683 12.2276L17.1283 3.42759C17.0521 3.1738 16.8185 3 16.5536 3L7.44642 3C7.18145 3 6.94786 3.1738 6.87172 3.42759Z",stroke:"#FFD54F",fill:"#FFD54F",fillOpacity:"0.3",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[l("animate",{attributeName:"opacity",values:"0;1",dur:"1s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,-2;0,0",dur:"1s",fill:"freeze"}),l("animate",{attributeName:"stroke",values:"#B0BEC5;#FFD54F;#FF8F00",dur:"1.5s",fill:"freeze"}),l("animate",{attributeName:"fill-opacity",values:"0.1;0.3;0.4",dur:"1.5s",fill:"freeze"})]})]})},l3=({size:t=39})=>{const e=`desk_lamp_off_${Math.random().toString(36).substr(2,9)}`;return l("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",strokeWidth:"1",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{id:`${e}_sockel`,d:"M8 21H16",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"stroke",values:"#42A5F5;#B0BEC5",dur:"1.5s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,1;0,0",dur:"1.5s",begin:"0.4s",fill:"freeze"})]}),l("path",{id:`${e}_stiel`,d:"M12 15L12 21",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"stroke",values:"#42A5F5;#B0BEC5",dur:"1.5s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,1;0,0",dur:"1.5s",begin:"0.2s",fill:"freeze"})]}),l("path",{id:`${e}_gelenk`,d:"M8 15L8 13",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"stroke",values:"#42A5F5;#B0BEC5",dur:"1.5s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;1,0;0,0",dur:"1.5s",begin:"0.1s",fill:"freeze"})]}),l("path",{id:`${e}_lampenschirm`,d:"M6.87172 3.42759L4.23172 12.2276C4.11623 12.6126 4.4045 13 4.80642 13L19.1936 13C19.5955 13 19.8838 12.6126 19.7683 12.2276L17.1283 3.42759C17.0521 3.1738 16.8185 3 16.5536 3L7.44642 3C7.18145 3 6.94786 3.1738 6.87172 3.42759Z",stroke:"#FF8F00",fill:"#FFD54F",fillOpacity:"0.3",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"stroke",values:"#FF8F00;#FFD54F;#B0BEC5",dur:"1.5s",fill:"freeze"}),l("animate",{attributeName:"fill",values:"#FFD54F;#F0F4F8",dur:"1.5s",fill:"freeze"}),l("animate",{attributeName:"fill-opacity",values:"0.3;0.1",dur:"1.5s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"scale",values:"1;0.98;1",dur:"1.5s",fill:"freeze"})]})]})},c3=({size:t=39})=>l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{d:"M6 20H3V6L12 4L21 6V20H18M6 20H18M6 20V16M18 20V16M6 12V8L18 8V12M6 12L18 12M6 12V16M18 12V16M6 16H18",stroke:"#388E3C",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("rect",{x:"6",y:"16",width:"12",height:"4",fill:"rgba(56, 142, 60, 0.3)",stroke:"none",opacity:"1",children:l("animate",{attributeName:"opacity",values:"1;0",dur:"0.5s",begin:"0.5s",fill:"freeze"})}),l("rect",{x:"6",y:"12",width:"12",height:"4",fill:"rgba(56, 142, 60, 0.3)",stroke:"none",opacity:"1",children:l("animate",{attributeName:"opacity",values:"1;0",dur:"0.5s",begin:"1s",fill:"freeze"})}),l("rect",{x:"6",y:"8",width:"12",height:"4",fill:"rgba(56, 142, 60, 0.3)",stroke:"none",opacity:"1",children:l("animate",{attributeName:"opacity",values:"1;0",dur:"0.5s",begin:"1.5s",fill:"freeze"})})]}),d3=({size:t=39})=>l("svg",{id:"garage_door_system",width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("style",{children:`
    /* Garagentor schlieÃt sich - von oben nach unten */
    #top_slat_fill {
      animation: fade_in_top 2000ms ease-in-out forwards;
      animation-delay: 500ms;
      opacity: 0;
    }
    
    #middle_slat_fill {
      animation: fade_in_middle 2000ms ease-in-out forwards;
      animation-delay: 1000ms;
      opacity: 0;
    }
    
    #bottom_slat_fill {
      animation: fade_in_bottom 2000ms ease-in-out forwards;
      animation-delay: 1500ms;
      opacity: 0;
    }
    
    @keyframes fade_in_top {
      0% { opacity: 0; }
      25% { opacity: 1; }
      100% { opacity: 1; }
    }
    
    @keyframes fade_in_middle {
      0% { opacity: 0; }
      25% { opacity: 1; }
      100% { opacity: 1; }
    }
    
    @keyframes fade_in_bottom {
      0% { opacity: 0; }
      25% { opacity: 1; }
      100% { opacity: 1; }
    }
    
    /* Kein Glow-Effekt im geschlossenen Zustand */
    #garage_door_system {
      filter: none;
    }
    `}),l("path",{d:"M6 20H3V6L12 4L21 6V20H18M6 20H18M6 20V16M18 20V16M6 12V8L18 8V12M6 12L18 12M6 12V16M18 12V16M6 16H18",stroke:"#B0BEC5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("rect",{id:"top_slat_fill",x:"6",y:"8",width:"12",height:"4",fill:"rgba(176, 190, 197, 0.3)",stroke:"none"}),l("rect",{id:"middle_slat_fill",x:"6",y:"12",width:"12",height:"4",fill:"rgba(176, 190, 197, 0.3)",stroke:"none"}),l("rect",{id:"bottom_slat_fill",x:"6",y:"16",width:"12",height:"4",fill:"rgba(176, 190, 197, 0.3)",stroke:"none"})]}),u3=({size:t=39})=>{const e=`roller_on_${Math.random().toString(36).substr(2,9)}`;return l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("g",{id:`${e}_frame`,children:l("path",{d:"M3 7.5V3.6C3 3.26863 3.26863 3 3.6 3H20.4C20.7314 3 21 3.26863 21 3.6V7.5M21 16.5V20.4C21 20.7314 20.7314 21 20.4 21H3.6C3.26863 21 3 20.7314 3 20.4V16.5M3 7.5V16.5M21 7.5V16.5",stroke:"#388E3C",strokeWidth:"1.5"})}),l("rect",{id:`${e}_first_slat_fill`,x:"3",y:"3",width:"18",height:"4.5",fill:"rgba(56, 142, 60, 0.3)",stroke:"none",children:l("animate",{attributeName:"opacity",values:"1;0;0",dur:"2s",begin:"2s",fill:"freeze"})}),l("rect",{id:`${e}_second_slat_fill`,x:"3",y:"7.5",width:"18",height:"4.5",fill:"rgba(56, 142, 60, 0.3)",stroke:"none",children:l("animate",{attributeName:"opacity",values:"1;0;0",dur:"2s",begin:"1.5s",fill:"freeze"})}),l("rect",{id:`${e}_third_slat_fill`,x:"3",y:"12",width:"18",height:"4.5",fill:"rgba(56, 142, 60, 0.3)",stroke:"none",children:l("animate",{attributeName:"opacity",values:"1;0;0",dur:"2s",begin:"1s",fill:"freeze"})}),l("rect",{id:`${e}_fourth_slat_fill`,x:"3",y:"16.5",width:"18",height:"4.5",fill:"rgba(56, 142, 60, 0.3)",stroke:"none",children:l("animate",{attributeName:"opacity",values:"1;0;0",dur:"2s",begin:"0.5s",fill:"freeze"})}),l("path",{d:"M3 7.5H21",stroke:"#388E3C",strokeWidth:"1.5"}),l("path",{d:"M3 12H21",stroke:"#388E3C",strokeWidth:"1.5"}),l("path",{d:"M3 16.5H21",stroke:"#388E3C",strokeWidth:"1.5"})]})},h3=({size:t=39})=>l("svg",{id:"rollershutter_system",width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("style",{children:`
    /* Erste Lamelle Fade-In */
    #first_slat_fill {
      animation: fade_in_first 2000ms ease-in-out forwards;
      animation-delay: 500ms;
      opacity: 0;
    }
    
    /* Zweite Lamelle Fade-In mit 1.0s Delay */
    #second_slat_fill {
      animation: fade_in_second 2000ms ease-in-out forwards;
      animation-delay: 1000ms;
      opacity: 0;
    }
    
    /* Dritte Lamelle Fade-In mit 1.5s Delay */
    #third_slat_fill {
      animation: fade_in_third 2000ms ease-in-out forwards;
      animation-delay: 1500ms;
      opacity: 0;
    }
    
    /* Vierte Lamelle Fade-In mit 2.0s Delay */
    #fourth_slat_fill {
      animation: fade_in_fourth 2000ms ease-in-out forwards;
      animation-delay: 2000ms;
      opacity: 0;
    }
    
    @keyframes fade_in_first {
      0% { opacity: 0; }
      25% { opacity: 1; }
      100% { opacity: 1; }
    }
    
    @keyframes fade_in_second {
      0% { opacity: 0; }
      25% { opacity: 1; }
      100% { opacity: 1; }
    }
    
    @keyframes fade_in_third {
      0% { opacity: 0; }
      25% { opacity: 1; }
      100% { opacity: 1; }
    }
    
    @keyframes fade_in_fourth {
      0% { opacity: 0; }
      25% { opacity: 1; }
      100% { opacity: 1; }
    }
    `}),l("g",{id:"frame",children:l("path",{d:"M3 7.5V3.6C3 3.26863 3.26863 3 3.6 3H20.4C20.7314 3 21 3.26863 21 3.6V7.5M21 16.5V20.4C21 20.7314 20.7314 21 20.4 21H3.6C3.26863 21 3 20.7314 3 20.4V16.5M3 7.5V16.5M21 7.5V16.5",stroke:"#B0BEC5",strokeWidth:"1.5"})}),l("rect",{id:"first_slat_fill",x:"3",y:"3",width:"18",height:"4.5",fill:"rgba(176, 190, 197, 0.4)",stroke:"none"}),l("rect",{id:"second_slat_fill",x:"3",y:"7.5",width:"18",height:"4.5",fill:"rgba(176, 190, 197, 0.4)",stroke:"none"}),l("rect",{id:"third_slat_fill",x:"3",y:"12",width:"18",height:"4.5",fill:"rgba(176, 190, 197, 0.4)",stroke:"none"}),l("rect",{id:"fourth_slat_fill",x:"3",y:"16.5",width:"18",height:"4.5",fill:"rgba(176, 190, 197, 0.4)",stroke:"none"}),l("path",{d:"M3 7.5H21",stroke:"#B0BEC5",strokeWidth:"1.5"}),l("path",{d:"M3 12H21",stroke:"#B0BEC5",strokeWidth:"1.5"}),l("path",{d:"M3 16.5H21",stroke:"#B0BEC5",strokeWidth:"1.5"})]}),Xs=({size:t=39})=>{const e=`door_on_${Math.random().toString(36).substr(2,9)}`;return l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[l("path",{id:`${e}_door_frame`,d:"M2 18V6C2 4.34315 3.34315 3 5 3H7C8.65685 3 10 4.34315 10 6V18C10 19.6569 8.65685 21 7 21H5C3.34315 21 2 19.6569 2 18Z",stroke:"#42A5F5",fill:"rgba(66, 165, 245, 0.2)",strokeWidth:"1.5",children:[l("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;-1.5,0",dur:"1.5s",fill:"freeze"}),l("animate",{attributeName:"opacity",values:"0.4;0.8",dur:"1.5s",fill:"freeze"})]}),l("path",{id:`${e}_door_opening_side`,d:"M16 3H18C20.2091 3 22 4.79086 22 7V17C22 19.2091 20.2091 21 18 21H16",stroke:"#42A5F5",fill:"rgba(66, 165, 245, 0.1)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[l("animateTransform",{attributeName:"transform",type:"translate",values:"-5,0;-10,0",dur:"1.5s",fill:"freeze"}),l("animate",{attributeName:"opacity",values:"0;1",dur:"1.5s",fill:"freeze"})]})]})},Js=({size:t=39})=>{const e=`door_off_${Math.random().toString(36).substr(2,9)}`;return l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[l("path",{id:`${e}_door_frame`,d:"M2 18V6C2 4.34315 3.34315 3 5 3H7C8.65685 3 10 4.34315 10 6V18C10 19.6569 8.65685 21 7 21H5C3.34315 21 2 19.6569 2 18Z",stroke:"#B0BEC5",fill:"rgba(176, 190, 197, 0.1)",strokeWidth:"1.5",opacity:"0.8",children:[l("animateTransform",{attributeName:"transform",type:"translate",values:"-1.5,0;0,0",dur:"1.5s",fill:"freeze"}),l("animate",{attributeName:"opacity",values:"0.8;0.4",dur:"1.5s",fill:"freeze"})]}),l("path",{id:`${e}_door_opening_side`,d:"M16 3H18C20.2091 3 22 4.79086 22 7V17C22 19.2091 20.2091 21 18 21H16",stroke:"#B0BEC5",fill:"rgba(176, 190, 197, 0.05)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"1",children:[l("animateTransform",{attributeName:"transform",type:"translate",values:"-10,0;-5,0",dur:"1.5s",fill:"freeze"}),l("animate",{attributeName:"opacity",values:"1;0",dur:"1.5s",fill:"freeze"})]})]})},f3=({size:t=39})=>{const e=`motion_on_${Math.random().toString(36).substr(2,9)}`;return l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[l("g",{id:`${e}_movement_icon`,children:[l("path",{id:`${e}_activity_glow`,d:"M3 12H6L9 3L15 21L18 12H21",stroke:"#FFB300",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.3",children:l("animate",{attributeName:"opacity",values:"0.3;0.8;0.5;0.3",dur:"3s",repeatCount:"indefinite"})}),l("path",{id:`${e}_activity_line`,d:"M3 12H6L9 3L15 21L18 12H21",stroke:"#F44336",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"50",strokeDashoffset:"50",children:[l("animate",{attributeName:"stroke-dashoffset",values:"50;0;-50",dur:"2s",repeatCount:"indefinite"}),l("animate",{attributeName:"stroke",values:"#FF8F00;#F44336;#FF8F00",dur:"2s",repeatCount:"indefinite"})]})]}),l("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.1;1",dur:"1.5s",repeatCount:"indefinite"})]})},p3=({size:t=39})=>{const e=`motion_off_${Math.random().toString(36).substr(2,9)}`;return l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[l("g",{id:`${e}_movement_icon`,children:l("path",{d:"M3 12H6L9 3L15 21L18 12H21",stroke:"#B0BEC5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),l("animate",{attributeName:"opacity",values:"1;0.4",dur:"1s",fill:"freeze"})]})},Qs=({size:t=39})=>{const e=`presence_on_${Math.random().toString(36).substr(2,9)}`;return l("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",strokeWidth:"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{filter:"drop-shadow(0 0 3px rgba(66, 165, 245, 0.4))"},children:[l("path",{id:`${e}_outer_ring`,d:"M6 19.0007C3.57111 17.1763 2 14.2716 2 11C2 5.47715 6.47715 1 12 1C17.5228 1 22 5.47715 22 11C22 14.2716 20.4289 17.1763 18 19.0007",stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"opacity",values:"0.3;0.8;0.3",dur:"3s",repeatCount:"indefinite"}),l("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.05;1",dur:"3s",repeatCount:"indefinite"})]}),l("path",{id:`${e}_middle_ring`,d:"M7.52779 15C6.57771 13.9385 6 12.5367 6 11C6 7.68629 8.68629 5 12 5C15.3137 5 18 7.68629 18 11C18 12.5367 17.4223 13.9385 16.4722 15",stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"opacity",values:"0.4;0.9;0.4",dur:"3s",begin:"0.4s",repeatCount:"indefinite"}),l("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.08;1",dur:"3s",begin:"0.4s",repeatCount:"indefinite"})]}),l("g",{id:`${e}_person_figure`,children:[l("path",{d:"M12 13C13.1046 13 14 12.1046 14 11C14 9.89543 13.1046 9 12 9C10.8954 9 10 9.89543 10 11C10 12.1046 10.8954 13 12 13Z",stroke:"#42A5F5",fill:"rgba(66, 165, 245, 0.2)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M10.076 16.2827L10.8906 15.7396C11.5624 15.2917 12.4376 15.2917 13.1094 15.7396L13.924 16.2827C14.5789 16.7192 14.9168 17.4993 14.7874 18.2756L14.2785 21.3288C14.1178 22.2932 13.2834 23 12.3057 23H11.6943C10.7166 23 9.8822 22.2932 9.72147 21.3288L9.2126 18.2756C9.08321 17.4993 9.42114 16.7192 10.076 16.2827Z",stroke:"#42A5F5",fill:"rgba(66, 165, 245, 0.15)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("animate",{attributeName:"opacity",values:"0.8;1;0.8",dur:"3s",begin:"0.8s",repeatCount:"indefinite"}),l("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.03;1",dur:"3s",begin:"0.8s",repeatCount:"indefinite"})]})]})},_n=({size:t=39})=>{const e=`presence_off_${Math.random().toString(36).substr(2,9)}`;return l("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",strokeWidth:"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{id:`${e}_outer_ring`,d:"M6 19.0007C3.57111 17.1763 2 14.2716 2 11C2 5.47715 6.47715 1 12 1C17.5228 1 22 5.47715 22 11C22 14.2716 20.4289 17.1763 18 19.0007",stroke:"#F0F4F8",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"opacity",values:"1;0",dur:"1.5s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"scale",values:"1;0.95",dur:"1.5s",fill:"freeze"})]}),l("path",{id:`${e}_middle_ring`,d:"M7.52779 15C6.57771 13.9385 6 12.5367 6 11C6 7.68629 8.68629 5 12 5C15.3137 5 18 7.68629 18 11C18 12.5367 17.4223 13.9385 16.4722 15",stroke:"#F0F4F8",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"opacity",values:"1;0",dur:"1.5s",begin:"0.2s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"scale",values:"1;0.95",dur:"1.5s",begin:"0.2s",fill:"freeze"})]}),l("g",{id:`${e}_person_figure`,children:[l("path",{d:"M12 13C13.1046 13 14 12.1046 14 11C14 9.89543 13.1046 9 12 9C10.8954 9 10 9.89543 10 11C10 12.1046 10.8954 13 12 13Z",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.1)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M10.076 16.2827L10.8906 15.7396C11.5624 15.2917 12.4376 15.2917 13.1094 15.7396L13.924 16.2827C14.5789 16.7192 14.9168 17.4993 14.7874 18.2756L14.2785 21.3288C14.1178 22.2932 13.2834 23 12.3057 23H11.6943C10.7166 23 9.8822 22.2932 9.72147 21.3288L9.2126 18.2756C9.08321 17.4993 9.42114 16.7192 10.076 16.2827Z",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.05)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("animate",{attributeName:"opacity",values:"1;0.4",dur:"1.5s",begin:"0.4s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"scale",values:"1;0.98",dur:"1.5s",begin:"0.4s",fill:"freeze"})]})]})},Qt=({size:t=39})=>{const e=`lock_on_${Math.random().toString(36).substr(2,9)}`;return l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[l("path",{d:"M16 12H17.4C17.7314 12 18 12.2686 18 12.6V19.4C18 19.7314 17.7314 20 17.4 20H6.6C6.26863 20 6 19.7314 6 19.4V12.6C6 12.2686 6.26863 12 6.6 12H8M16 12H8",stroke:"#FFD54F",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:l("animate",{attributeName:"stroke",values:"#FFD54F;#B0BEC5",dur:"1.5s",fill:"freeze"})}),l("path",{id:`${e}_shackle`,d:"M16 12V8C16 6.66667 15.2 4 12 4C8.8 4 8 6.66667 8 8V12",stroke:"#1976D2",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"stroke",values:"#1976D2;#B0BEC5",dur:"1.5s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"rotate",values:"45 16 12;0 16 12",dur:"1.5s",fill:"freeze"})]})]})},Fi=({size:t=39})=>{const e=`lock_off_${Math.random().toString(36).substr(2,9)}`;return l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[l("path",{d:"M16 12H17.4C17.7314 12 18 12.2686 18 12.6V19.4C18 19.7314 17.7314 20 17.4 20H6.6C6.26863 20 6 19.7314 6 19.4V12.6C6 12.2686 6.26863 12 6.6 12H8M16 12H8",stroke:"#B0BEC5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:l("animate",{attributeName:"stroke",values:"#B0BEC5;#FFD54F",dur:"1.5s",fill:"freeze"})}),l("path",{id:`${e}_shackle`,d:"M16 12V8C16 6.66667 15.2 4 12 4C8.8 4 8 6.66667 8 8V12",stroke:"#B0BEC5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"stroke",values:"#B0BEC5;#1976D2",dur:"1.5s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"rotate",values:"0 16 12;45 16 12",dur:"1.5s",fill:"freeze"})]})]})},Vt=({size:t=39})=>{const e=`siren_on_${Math.random().toString(36).substr(2,9)}`;return l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:l("g",{id:`${e}_alert_icon`,children:[l("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.1;1",dur:"2s",repeatCount:"indefinite"}),l("path",{id:`${e}_bell`,d:"M18 8.4C18 6.70261 17.3679 5.07475 16.2426 3.87452C15.1174 2.67428 13.5913 2 12 2C10.4087 2 8.88258 2.67428 7.75736 3.87452C6.63214 5.07475 6 6.70261 6 8.4C6 15.8667 3 18 3 18H21C21 18 18 15.8667 18 8.4Z",stroke:"#F44336",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:l("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 6;-8 12 6;8 12 6;-5 12 6;5 12 6;-2 12 6;0 12 6",dur:"1.5s",repeatCount:"indefinite"})}),l("path",{id:`${e}_clapper`,d:"M13.73 21C13.5542 21.3031 13.3019 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21",stroke:"#FF8F00",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:l("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 19;6 12 19;-6 12 19;4 12 19;-4 12 19;2 12 19;0 12 19",dur:"1.5s",repeatCount:"indefinite"})})]})})},zt=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[l("path",{d:"M18 8.4C18 6.70261 17.3679 5.07475 16.2426 3.87452C15.1174 2.67428 13.5913 2 12 2C10.4087 2 8.88258 2.67428 7.75736 3.87452C6.63214 5.07475 6 6.70261 6 8.4C6 15.8667 3 18 3 18H21C21 18 18 15.8667 18 8.4Z",stroke:"#F44336",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:l("animate",{attributeName:"stroke",values:"#F44336;#F0F4F8",dur:"1.5s",fill:"freeze"})}),l("path",{d:"M13.73 21C13.5542 21.3031 13.3019 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21",stroke:"#FF8F00",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:l("animate",{attributeName:"stroke",values:"#FF8F00;#F0F4F8",dur:"1.5s",fill:"freeze"})}),l("animate",{attributeName:"opacity",values:"1;0.4",dur:"1.5s",fill:"freeze"})]})),Bo=({size:t=39})=>{const e=`music_on_${Math.random().toString(36).substr(2,9)}`;return l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{id:`${e}_notenlinie`,d:"M20 14V3L9 5V16",stroke:"#E91E63",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[l("animate",{attributeName:"opacity",values:"0;1",dur:"1s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,-2;0,0",dur:"1s",fill:"freeze"}),l("animate",{attributeName:"stroke-width",values:"1;1.2;1",dur:"2s",begin:"1s",repeatCount:"indefinite"})]}),l("path",{id:`${e}_obere_note`,d:"M17 19H18C19.1046 19 20 18.1046 20 17V14H17C15.8954 14 15 14.8954 15 16V17C15 18.1046 15.8954 19 17 19Z",stroke:"#E91E63",fill:"#E91E63",fillOpacity:"0.2",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[l("animate",{attributeName:"opacity",values:"0;1",dur:"1s",begin:"0.3s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"2,0;0,0",dur:"1s",begin:"0.3s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.05;1",dur:"2s",begin:"1.3s",repeatCount:"indefinite"}),l("animate",{attributeName:"fill-opacity",values:"0.2;0.3;0.2",dur:"2s",begin:"1.3s",repeatCount:"indefinite"})]}),l("path",{id:`${e}_untere_note`,d:"M6 21H7C8.10457 21 9 20.1046 9 19V16H6C4.89543 16 4 16.8954 4 18V19C4 20.1046 4.89543 21 6 21Z",stroke:"#E91E63",fill:"#E91E63",fillOpacity:"0.2",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",children:[l("animate",{attributeName:"opacity",values:"0;1",dur:"1s",begin:"0.6s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"-2,0;0,0",dur:"1s",begin:"0.6s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.05;1",dur:"2s",begin:"1.8s",repeatCount:"indefinite"}),l("animate",{attributeName:"fill-opacity",values:"0.2;0.3;0.2",dur:"2s",begin:"1.8s",repeatCount:"indefinite"})]})]})},$o=({size:t=39})=>{const e=`music_off_${Math.random().toString(36).substr(2,9)}`;return l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{id:`${e}_notenlinie`,d:"M20 14V3L9 5V16",stroke:"#E91E63",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"stroke",values:"#E91E63;#B0BEC5",dur:"1.5s",fill:"freeze"}),l("animate",{attributeName:"stroke-width",values:"1.2;1",dur:"1.5s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,0.5;0,0",dur:"1.5s",fill:"freeze"})]}),l("path",{id:`${e}_obere_note`,d:"M17 19H18C19.1046 19 20 18.1046 20 17V14H17C15.8954 14 15 14.8954 15 16V17C15 18.1046 15.8954 19 17 19Z",stroke:"#E91E63",fill:"#E91E63",fillOpacity:"0.3",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"stroke",values:"#E91E63;#B0BEC5",dur:"1.5s",fill:"freeze"}),l("animate",{attributeName:"fill",values:"#E91E63;#F0F4F8",dur:"1.5s",fill:"freeze"}),l("animate",{attributeName:"fill-opacity",values:"0.3;0.1",dur:"1.5s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"scale",values:"1.05;1;0.98;1",dur:"1.5s",begin:"0.2s",fill:"freeze"})]}),l("path",{id:`${e}_untere_note`,d:"M6 21H7C8.10457 21 9 20.1046 9 19V16H6C4.89543 16 4 16.8954 4 18V19C4 20.1046 4.89543 21 6 21Z",stroke:"#E91E63",fill:"#E91E63",fillOpacity:"0.3",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"stroke",values:"#E91E63;#B0BEC5",dur:"1.5s",fill:"freeze"}),l("animate",{attributeName:"fill",values:"#E91E63;#F0F4F8",dur:"1.5s",fill:"freeze"}),l("animate",{attributeName:"fill-opacity",values:"0.3;0.1",dur:"1.5s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"scale",values:"1.05;1;0.98;1",dur:"1.5s",begin:"0.4s",fill:"freeze"})]})]})},wi=({size:t=39})=>{const e=`tv_on_${Math.random().toString(36).substr(2,9)}`;return l("svg",{id:`${e}_system`,width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{d:"M7 21L17 21",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M2 16.4V3.6C2 3.26863 2.26863 3 2.6 3H21.4C21.7314 3 22 3.26863 22 3.6V16.4C22 16.7314 21.7314 17 21.4 17H2.6C2.26863 17 2 16.7314 2 16.4Z",stroke:"#1976D2",fill:"rgba(25, 118, 210, 0.1)",strokeWidth:"1.5"}),l("rect",{x:"3.5",y:"4.5",width:"17",height:"11",fill:"rgba(66, 165, 245, 0.2)",stroke:"none",children:l("animate",{attributeName:"opacity",values:"0.2;0.6;0.2",dur:"3s",repeatCount:"indefinite"})}),l("g",{id:`${e}_content`,stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l("path",{d:"M13.5 7L13.5 11M13.5 13L13.5 11M13.5 11L14.8706 9.43363M17 7L14.8706 9.43363M14.8706 9.43363L17 13",children:[l("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"4s",begin:"0s",repeatCount:"indefinite"}),l("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.05;1",dur:"4s",begin:"0s",repeatCount:"indefinite"})]}),l("path",{d:"M9.5 7L6.5 11.5L10 11.5L10 13",children:[l("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"4s",begin:"1s",repeatCount:"indefinite"}),l("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.05;1",dur:"4s",begin:"1s",repeatCount:"indefinite"})]})]})]})},jn=({size:t=39})=>{const e=`tv_off_${Math.random().toString(36).substr(2,9)}`;return l("svg",{id:`${e}_system_off`,width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{d:"M7 21L17 21",stroke:"#B0BEC5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M2 16.4V3.6C2 3.26863 2.26863 3 2.6 3H21.4C21.7314 3 22 3.26863 22 3.6V16.4C22 16.7314 21.7314 17 21.4 17H2.6C2.26863 17 2 16.7314 2 16.4Z",stroke:"#B0BEC5",fill:"rgba(176, 190, 197, 0.05)",strokeWidth:"1.5"}),l("rect",{x:"3.5",y:"4.5",width:"17",height:"11",fill:"rgba(66, 66, 66, 0.9)",stroke:"none",children:l("animate",{attributeName:"opacity",values:"0.9;0",dur:"3s",fill:"freeze"})}),l("circle",{cx:"20",cy:"5",r:"0.5",fill:"#F44336",stroke:"none",children:l("animate",{attributeName:"opacity",values:"0.3;1;0.3",dur:"2s",repeatCount:"indefinite"})})]})},er=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"#FF9246",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,146,48,.1)"}),l("path",{d:"M8 8V16",stroke:"#FF9246",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"2s",repeatCount:"indefinite"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,-2;0,0",dur:"2s",repeatCount:"indefinite"})]}),l("path",{d:"M12 6V18",stroke:"#FF9246",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"2s",begin:"0.3s",repeatCount:"indefinite"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,-2;0,0",dur:"2s",begin:"0.3s",repeatCount:"indefinite"})]}),l("path",{d:"M16 8V16",stroke:"#FF9246",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"2s",begin:"0.6s",repeatCount:"indefinite"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,-2;0,0",dur:"2s",begin:"0.6s",repeatCount:"indefinite"})]})]})),wn=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"#3CD3FE",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(60,211,254,.1)"}),l("path",{d:"M12 6L12 18M6 12L18 12M8 8L16 16M16 8L8 16",stroke:"#3CD3FE",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.3"}),l("circle",{cx:"8",cy:"10",r:"1",fill:"#3CD3FE",opacity:"0.8",children:[l("animate",{attributeName:"opacity",values:"0;1;0",dur:"2.5s",repeatCount:"indefinite"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,-3;0,3",dur:"2.5s",repeatCount:"indefinite"})]}),l("circle",{cx:"12",cy:"12",r:"1",fill:"#3CD3FE",opacity:"0.8",children:[l("animate",{attributeName:"opacity",values:"0;1;0",dur:"2.5s",begin:"0.5s",repeatCount:"indefinite"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,-3;0,3",dur:"2.5s",begin:"0.5s",repeatCount:"indefinite"})]}),l("circle",{cx:"16",cy:"14",r:"1",fill:"#3CD3FE",opacity:"0.8",children:[l("animate",{attributeName:"opacity",values:"0;1;0",dur:"2.5s",begin:"1s",repeatCount:"indefinite"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,-3;0,3",dur:"2.5s",begin:"1s",repeatCount:"indefinite"})]})]})),ki=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"#FFD600",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,214,0,.1)"}),l("path",{d:"M7 20L17 20",stroke:"#FFD600",strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.5"}),l("path",{d:"M8 14C8 14 8 10 10 8C10 10 10 14 8 14Z",fill:"#FFD600",opacity:"0.6",children:[l("animate",{attributeName:"opacity",values:"1;0",dur:"3s",repeatCount:"indefinite"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,-5",dur:"3s",repeatCount:"indefinite"})]}),l("path",{d:"M12 16C12 16 12 12 14 10C14 12 14 16 12 16Z",fill:"#FFD600",opacity:"0.6",children:[l("animate",{attributeName:"opacity",values:"1;0",dur:"3s",begin:"1s",repeatCount:"indefinite"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,-5",dur:"3s",begin:"1s",repeatCount:"indefinite"})]}),l("path",{d:"M16 14C16 14 16 10 18 8C18 10 18 14 16 14Z",fill:"#FFD600",opacity:"0.6",children:[l("animate",{attributeName:"opacity",values:"1;0",dur:"3s",begin:"2s",repeatCount:"indefinite"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,-5",dur:"3s",begin:"2s",repeatCount:"indefinite"})]})]})),tr=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"#30D158",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(48,209,88,.1)"}),l("circle",{cx:"12",cy:"12",r:"2",fill:"#30D158",opacity:"0.8"}),l("g",{children:[l("path",{d:"M12 7V12L15 9",stroke:"#30D158",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M17 12H12L15 15",stroke:"#30D158",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M12 17V12L9 15",stroke:"#30D158",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M7 12H12L9 9",stroke:"#30D158",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 12;360 12 12",dur:"4s",repeatCount:"indefinite"})]})]})),zo=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[l("g",{children:[l("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 9C12 9 10.012 7.025 10 5C10.001 3.007 9.95 0.999 12 1C13.948 1.001 13.997 2.976 14 5C14.003 6.985 12 9 12 9Z",stroke:"#42A5F5",strokeWidth:"1",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 12C15 12 16.975 10.012 19 10C20.993 10.001 23.001 9.95 23 12C22.999 13.948 21.024 13.997 19 14C17.015 14.003 15 12 15 12Z",stroke:"#42A5F5",strokeWidth:"1",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 12C9 12 7.025 13.988 5 14C3.007 13.999 0.999 14.05 1 12C1.001 10.052 2.976 10.003 5 10C6.985 9.997 9 12 9 12Z",stroke:"#42A5F5",strokeWidth:"1",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 15C12 15 13.988 16.975 14 19C13.999 20.993 14.05 23.001 12 23C10.052 22.999 10.003 21.024 10 19C9.997 17.015 12 15 12 15Z",stroke:"#42A5F5",strokeWidth:"1",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 12;360 12 12",dur:"1s",repeatCount:"indefinite"})]}),l("path",{d:"M11.9996 14.9995C13.6565 14.9995 14.9996 13.6564 14.9996 11.9995C14.9996 10.3427 13.6565 8.99951 11.9996 8.99951C10.3428 8.99951 8.99963 10.3427 8.99963 11.9995C8.99963 13.6564 10.3428 14.9995 11.9996 14.9995Z",stroke:"#1976D2",strokeWidth:"2",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:l("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.1;1",dur:"2s",repeatCount:"indefinite"})})]})),nr=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[l("g",{children:[l("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 9C12 9 10.012 7.025 10 5C10.001 3.007 9.95 0.999 12 1C13.948 1.001 13.997 2.976 14 5C14.003 6.985 12 9 12 9Z",stroke:"#42A5F5",strokeWidth:"1",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:l("animate",{attributeName:"stroke",values:"#42A5F5;#F0F4F8",dur:"1.5s",fill:"freeze"})}),l("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 12C15 12 16.975 10.012 19 10C20.993 10.001 23.001 9.95 23 12C22.999 13.948 21.024 13.997 19 14C17.015 14.003 15 12 15 12Z",stroke:"#42A5F5",strokeWidth:"1",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:l("animate",{attributeName:"stroke",values:"#42A5F5;#F0F4F8",dur:"1.5s",begin:"0.1s",fill:"freeze"})}),l("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 12C9 12 7.025 13.988 5 14C3.007 13.999 0.999 14.05 1 12C1.001 10.052 2.976 10.003 5 10C6.985 9.997 9 12 9 12Z",stroke:"#42A5F5",strokeWidth:"1",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:l("animate",{attributeName:"stroke",values:"#42A5F5;#F0F4F8",dur:"1.5s",begin:"0.2s",fill:"freeze"})}),l("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 15C12 15 13.988 16.975 14 19C13.999 20.993 14.05 23.001 12 23C10.052 22.999 10.003 21.024 10 19C9.997 17.015 12 15 12 15Z",stroke:"#42A5F5",strokeWidth:"1",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:l("animate",{attributeName:"stroke",values:"#42A5F5;#F0F4F8",dur:"1.5s",begin:"0.3s",fill:"freeze"})}),l("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 12;180 12 12;360 12 12",dur:"2s",fill:"freeze"}),l("animate",{attributeName:"opacity",values:"1;0.4",dur:"1.5s",fill:"freeze"})]}),l("path",{d:"M11.9996 14.9995C13.6565 14.9995 14.9996 13.6564 14.9996 11.9995C14.9996 10.3427 13.6565 8.99951 11.9996 8.99951C10.3428 8.99951 8.99963 10.3427 8.99963 11.9995C8.99963 13.6564 10.3428 14.9995 11.9996 14.9995Z",stroke:"#1976D2",strokeWidth:"2",strokeMiterlimit:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"stroke",values:"#1976D2;#F0F4F8",dur:"1.5s",begin:"0.4s",fill:"freeze"}),l("animate",{attributeName:"opacity",values:"1;0.4",dur:"1.5s",begin:"0.4s",fill:"freeze"})]})]})),_g=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[l("path",{d:"M7.5 21H5C3.89543 21 3 20.1046 3 19V5C3 3.89543 3.89543 3 5 3H18.9999C20.1045 3 20.9999 3.89543 20.9999 4.99999L21 19C21 20.1046 20.1046 21 19 21H16.5",stroke:"#B0BEC5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M21 7H3.00006",stroke:"#1976D2",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),l("g",{children:[l("path",{d:"M12 16C13.6569 16 15 14.5076 15 12.6667V10H9V12.6667C9 14.5076 10.3431 16 12 16Z",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M12 16V21M12 21H10M12 21H14",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),l("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 18.5;-30 12 18.5;0 12 18.5;30 12 18.5;0 12 18.5",dur:"3s",repeatCount:"indefinite"})]}),l("path",{d:"M18 5.01L18.01 4.99889",stroke:"#388E3C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l("animate",{attributeName:"opacity",values:"1;0.3;1",dur:"2s",repeatCount:"indefinite"})}),l("path",{d:"M15 5.01L15.01 4.99889",stroke:"#FF8F00",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l("animate",{attributeName:"opacity",values:"0.3;1;0.3",dur:"2s",repeatCount:"indefinite"})}),l("g",{children:[l("circle",{cx:"10",cy:"14",r:"0.5",fill:"#42A5F5",opacity:"0.6"}),l("circle",{cx:"14",cy:"13",r:"0.4",fill:"#42A5F5",opacity:"0.5"}),l("circle",{cx:"11",cy:"11",r:"0.3",fill:"#42A5F5",opacity:"0.7"}),l("circle",{cx:"13",cy:"15",r:"0.4",fill:"#42A5F5",opacity:"0.4"}),l("animate",{attributeName:"opacity",values:"0.4;0.8;0.6;0.4",dur:"3s",repeatCount:"indefinite"})]})]})),wg=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[l("path",{d:"M7.5 21H5C3.89543 21 3 20.1046 3 19V5C3 3.89543 3.89543 3 5 3H18.9999C20.1045 3 20.9999 3.89543 20.9999 4.99999L21 19C21 20.1046 20.1046 21 19 21H16.5",stroke:"#F0F4F8",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M21 7H3.00006",stroke:"#1976D2",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:l("animate",{attributeName:"stroke",values:"#1976D2;#F0F4F8",dur:"1.5s",fill:"freeze"})}),l("g",{children:[l("path",{d:"M12 16C13.6569 16 15 14.5076 15 12.6667V10H9V12.6667C9 14.5076 10.3431 16 12 16Z",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:l("animate",{attributeName:"stroke",values:"#42A5F5;#F0F4F8",dur:"1.5s",fill:"freeze"})}),l("path",{d:"M12 16V21M12 21H10M12 21H14",stroke:"#42A5F5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:l("animate",{attributeName:"stroke",values:"#42A5F5;#F0F4F8",dur:"1.5s",fill:"freeze"})}),l("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 18.5;-5 12 18.5;0 12 18.5",dur:"1.5s",fill:"freeze"})]}),l("path",{d:"M18 5.01L18.01 4.99889",stroke:"#388E3C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"stroke",values:"#388E3C;#F0F4F8",dur:"1.5s",fill:"freeze"}),l("animate",{attributeName:"opacity",values:"1;0.3",dur:"1.5s",fill:"freeze"})]}),l("path",{d:"M15 5.01L15.01 4.99889",stroke:"#FF8F00",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"stroke",values:"#FF8F00;#F0F4F8",dur:"1.5s",begin:"0.2s",fill:"freeze"}),l("animate",{attributeName:"opacity",values:"1;0.3",dur:"1.5s",begin:"0.2s",fill:"freeze"})]}),l("g",{children:[l("circle",{cx:"10",cy:"14",r:"0.5",fill:"#42A5F5",opacity:"0.6"}),l("circle",{cx:"14",cy:"13",r:"0.4",fill:"#42A5F5",opacity:"0.5"}),l("circle",{cx:"11",cy:"11",r:"0.3",fill:"#42A5F5",opacity:"0.7"}),l("circle",{cx:"13",cy:"15",r:"0.4",fill:"#42A5F5",opacity:"0.4"}),l("animate",{attributeName:"fill",values:"#42A5F5;#F0F4F8",dur:"1.5s",begin:"0.4s",fill:"freeze"}),l("animate",{attributeName:"opacity",values:"0.6;0",dur:"1.5s",begin:"0.4s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"scale",values:"1;0.8",dur:"1.5s",begin:"0.4s",fill:"freeze"})]})]})),kg=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,l("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:l("g",{children:[l("g",{transform:"matrix(0.33023402094841 0 0 0.33023402094841 -12.17848396301270 -1.60764098167419)",children:l("path",{d:"M50.582000,41.719000C51.347000,23.263000,71.804000,12.557000,87.405000,22.447000C94.048000,26.659000,98.205000,33.860000,98.531000,41.719000L102.531000,41.719000C102.355000,36.658000,100.801000,31.742000,98.037000,27.499000L101.343000,25.184000C101.973000,24.743000,101.890000,23.784000,101.193000,23.458000C100.869000,23.307000,100.489000,23.340000,100.196000,23.545000L96.886000,25.862000C96.307000,25.095000,95.690000,24.358000,95.036000,23.653000L100.013000,18.677000C100.550000,18.126000,100.289000,17.199000,99.543000,17.010000C99.206000,16.924000,98.848000,17.020000,98.598000,17.263000L93.619000,22.242000C92.916000,21.586000,92.180000,20.967000,91.414000,20.387000L93.730000,17.079000C94.179000,16.453000,93.782000,15.577000,93.016000,15.501000C92.652000,15.465000,92.298000,15.630000,92.092000,15.932000L89.780000,19.234000C80.524000,13.214000,68.589000,13.214000,59.333000,19.234000L57.021000,15.933000C56.592000,15.294000,55.632000,15.359000,55.293000,16.050000C55.130000,16.383000,55.164000,16.779000,55.383000,17.079000L57.699000,20.387000C56.933000,20.967000,56.197000,21.586000,55.494000,22.241000L50.515000,17.263000C49.978000,16.711000,49.045000,16.949000,48.836000,17.690000C48.737000,18.042000,48.839000,18.421000,49.101000,18.677000L54.077000,23.653000C53.423000,24.358000,52.805000,25.095000,52.226000,25.862000L48.917000,23.545000C48.287000,23.103000,47.414000,23.510000,47.347000,24.277000C47.316000,24.633000,47.477000,24.979000,47.770000,25.184000L51.075000,27.499000C48.312000,31.742000,46.758000,36.658000,46.582000,41.719000L50.582000,41.719000ZM74.556000,66.719000C61.698000,66.703000,51.131000,56.566000,50.582000,43.719000L46.582000,43.719000C47.346000,65.254000,71.136000,77.886000,89.403000,66.457000C97.283000,61.527000,102.201000,53.008000,102.531000,43.719000L98.531000,43.719000C97.982000,56.566000,87.415000,66.703000,74.556000,66.719000Z",transform:"matrix(1 0 0 1 -1.34028837709955 -1.53274161016582)",fill:"#424242",stroke:"none",strokeWidth:"1"})}),l("g",{transform:"matrix(0.33023402094841 0 0 0.33023402094841 17.25779151916504 0.55571800470352)",children:l("g",{transform:"translate(-15.921411,34.655067) rotate(0)",children:l("path",{d:"M-13.277000,25.125000C-13.277000,25.895000,-14.110000,26.376000,-14.777000,25.991000C-15.444000,25.606000,-15.444000,24.644000,-14.777000,24.259000C-14.625000,24.171000,-14.453000,24.125000,-14.277000,24.125000C-13.725000,24.125000,-13.277000,24.573000,-13.277000,25.125000ZM-9.277000,37.125000C-9.277000,40.974000,-13.444000,43.380000,-16.777000,41.455000C-18.324000,40.562000,-19.277000,38.911000,-19.277000,37.125000L-19.277000,25.125000C-19.277000,21.276000,-15.110000,18.870000,-11.777000,20.795000C-10.230000,21.688000,-9.277000,23.339000,-9.277000,25.125000L-9.277000,37.125000ZM-11.277000,25.125000C-11.277000,22.816000,-13.777000,21.372000,-15.777000,22.527000C-17.777000,23.682000,-17.777000,26.568000,-15.777000,27.723000C-15.321000,27.986000,-14.804000,28.125000,-14.277000,28.125000C-12.621000,28.123000,-11.279000,26.781000,-11.277000,25.125000ZM7.723000,36.125000C7.723000,53.061000,-10.610000,63.645000,-25.277000,55.178000C-39.944000,46.710000,-39.944000,25.540000,-25.277000,17.072000C-21.933000,15.142000,-18.139000,14.125000,-14.277000,14.125000C-2.132000,14.139000,7.709000,23.980000,7.723000,36.125000ZM-19.277000,48.125000C-19.277000,47.355000,-20.110000,46.874000,-20.777000,47.259000C-21.444000,47.644000,-21.444000,48.606000,-20.777000,48.991000C-20.625000,49.079000,-20.453000,49.125000,-20.277000,49.125000C-19.725000,49.125000,-19.277000,48.677000,-19.277000,48.125000ZM-10.277000,53.125000C-10.277000,52.573000,-10.725000,52.125000,-11.277000,52.125000L-17.277000,52.125000C-18.047000,52.125000,-18.528000,52.958000,-18.143000,53.625000C-17.964000,53.934000,-17.634000,54.125000,-17.277000,54.125000L-11.277000,54.125000C-10.725000,54.125000,-10.277000,53.677000,-10.277000,53.125000ZM-16.277000,49.125000C-15.507000,49.125000,-15.026000,48.292000,-15.411000,47.625000C-15.796000,46.958000,-16.758000,46.958000,-17.143000,47.625000C-17.231000,47.777000,-17.277000,47.949000,-17.277000,48.125000C-17.277000,48.677000,-16.829000,49.125000,-16.277000,49.125000ZM-12.277000,49.125000C-11.507000,49.125000,-11.026000,48.292000,-11.411000,47.625000C-11.796000,46.958000,-12.758000,46.958000,-13.143000,47.625000C-13.231000,47.777000,-13.277000,47.949000,-13.277000,48.125000C-13.277000,48.677000,-12.829000,49.125000,-12.277000,49.125000ZM-7.277000,48.125000C-7.277000,47.355000,-8.110000,46.874000,-8.777000,47.259000C-9.444000,47.644000,-9.444000,48.606000,-8.777000,48.991000C-8.625000,49.079000,-8.453000,49.125000,-8.277000,49.125000C-7.725000,49.125000,-7.277000,48.677000,-7.277000,48.125000ZM-7.277000,25.125000C-7.277000,19.736000,-13.110000,16.369000,-17.777000,19.063000C-19.943000,20.313000,-21.277000,22.624000,-21.277000,25.125000L-21.277000,37.125000C-21.277000,42.514000,-15.444000,45.881000,-10.777000,43.187000C-8.611000,41.937000,-7.277000,39.626000,-7.277000,37.125000L-7.277000,25.125000Z",transform:"translate(14.277125,-36.141457)",fill:"#9C27B0",stroke:"none",strokeWidth:"1"})})}),l("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 12;-45 12 12;0 12 12;45 12 12;0 12 12",dur:"8s",repeatCount:"indefinite"})]})})),xg=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,l("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[l("g",{transform:"matrix(0.33023402094841 0 0 0.33023402094841 -12.17848396301270 -1.60764098167419)",children:l("path",{d:"M50.582000,41.719000C51.347000,23.263000,71.804000,12.557000,87.405000,22.447000C94.048000,26.659000,98.205000,33.860000,98.531000,41.719000L102.531000,41.719000C102.355000,36.658000,100.801000,31.742000,98.037000,27.499000L101.343000,25.184000C101.973000,24.743000,101.890000,23.784000,101.193000,23.458000C100.869000,23.307000,100.489000,23.340000,100.196000,23.545000L96.886000,25.862000C96.307000,25.095000,95.690000,24.358000,95.036000,23.653000L100.013000,18.677000C100.550000,18.126000,100.289000,17.199000,99.543000,17.010000C99.206000,16.924000,98.848000,17.020000,98.598000,17.263000L93.619000,22.242000C92.916000,21.586000,92.180000,20.967000,91.414000,20.387000L93.730000,17.079000C94.179000,16.453000,93.782000,15.577000,93.016000,15.501000C92.652000,15.465000,92.298000,15.630000,92.092000,15.932000L89.780000,19.234000C80.524000,13.214000,68.589000,13.214000,59.333000,19.234000L57.021000,15.933000C56.592000,15.294000,55.632000,15.359000,55.293000,16.050000C55.130000,16.383000,55.164000,16.779000,55.383000,17.079000L57.699000,20.387000C56.933000,20.967000,56.197000,21.586000,55.494000,22.241000L50.515000,17.263000C49.978000,16.711000,49.045000,16.949000,48.836000,17.690000C48.737000,18.042000,48.839000,18.421000,49.101000,18.677000L54.077000,23.653000C53.423000,24.358000,52.805000,25.095000,52.226000,25.862000L48.917000,23.545000C48.287000,23.103000,47.414000,23.510000,47.347000,24.277000C47.316000,24.633000,47.477000,24.979000,47.770000,25.184000L51.075000,27.499000C48.312000,31.742000,46.758000,36.658000,46.582000,41.719000L50.582000,41.719000ZM74.556000,66.719000C61.698000,66.703000,51.131000,56.566000,50.582000,43.719000L46.582000,43.719000C47.346000,65.254000,71.136000,77.886000,89.403000,66.457000C97.283000,61.527000,102.201000,53.008000,102.531000,43.719000L98.531000,43.719000C97.982000,56.566000,87.415000,66.703000,74.556000,66.719000Z",transform:"matrix(1 0 0 1 -1.34028837709955 -1.53274161016582)",fill:"#5F6267",stroke:"none",strokeWidth:"1"})}),l("g",{transform:"matrix(0.33023402094841 0 0 0.33023402094841 17.25779151916504 0.55571800470352)",children:l("path",{d:"M-13.277000,25.125000C-13.277000,25.895000,-14.110000,26.376000,-14.777000,25.991000C-15.444000,25.606000,-15.444000,24.644000,-14.777000,24.259000C-14.625000,24.171000,-14.453000,24.125000,-14.277000,24.125000C-13.725000,24.125000,-13.277000,24.573000,-13.277000,25.125000ZM-9.277000,37.125000C-9.277000,40.974000,-13.444000,43.380000,-16.777000,41.455000C-18.324000,40.562000,-19.277000,38.911000,-19.277000,37.125000L-19.277000,25.125000C-19.277000,21.276000,-15.110000,18.870000,-11.777000,20.795000C-10.230000,21.688000,-9.277000,23.339000,-9.277000,25.125000L-9.277000,37.125000ZM-11.277000,25.125000C-11.277000,22.816000,-13.777000,21.372000,-15.777000,22.527000C-17.777000,23.682000,-17.777000,26.568000,-15.777000,27.723000C-15.321000,27.986000,-14.804000,28.125000,-14.277000,28.125000C-12.621000,28.123000,-11.279000,26.781000,-11.277000,25.125000ZM7.723000,36.125000C7.723000,53.061000,-10.610000,63.645000,-25.277000,55.178000C-39.944000,46.710000,-39.944000,25.540000,-25.277000,17.072000C-21.933000,15.142000,-18.139000,14.125000,-14.277000,14.125000C-2.132000,14.139000,7.709000,23.980000,7.723000,36.125000ZM-19.277000,48.125000C-19.277000,47.355000,-20.110000,46.874000,-20.777000,47.259000C-21.444000,47.644000,-21.444000,48.606000,-20.777000,48.991000C-20.625000,49.079000,-20.453000,49.125000,-20.277000,49.125000C-19.725000,49.125000,-19.277000,48.677000,-19.277000,48.125000ZM-10.277000,53.125000C-10.277000,52.573000,-10.725000,52.125000,-11.277000,52.125000L-17.277000,52.125000C-18.047000,52.125000,-18.528000,52.958000,-18.143000,53.625000C-17.964000,53.934000,-17.634000,54.125000,-17.277000,54.125000L-11.277000,54.125000C-10.725000,54.125000,-10.277000,53.677000,-10.277000,53.125000ZM-16.277000,49.125000C-15.507000,49.125000,-15.026000,48.292000,-15.411000,47.625000C-15.796000,46.958000,-16.758000,46.958000,-17.143000,47.625000C-17.231000,47.777000,-17.277000,47.949000,-17.277000,48.125000C-17.277000,48.677000,-16.829000,49.125000,-16.277000,49.125000ZM-12.277000,49.125000C-11.507000,49.125000,-11.026000,48.292000,-11.411000,47.625000C-11.796000,46.958000,-12.758000,46.958000,-13.143000,47.625000C-13.231000,47.777000,-13.277000,47.949000,-13.277000,48.125000C-13.277000,48.677000,-12.829000,49.125000,-12.277000,49.125000ZM-7.277000,48.125000C-7.277000,47.355000,-8.110000,46.874000,-8.777000,47.259000C-9.444000,47.644000,-9.444000,48.606000,-8.777000,48.991000C-8.625000,49.079000,-8.453000,49.125000,-8.277000,49.125000C-7.725000,49.125000,-7.277000,48.677000,-7.277000,48.125000ZM-7.277000,25.125000C-7.277000,19.736000,-13.110000,16.369000,-17.777000,19.063000C-19.943000,20.313000,-21.277000,22.624000,-21.277000,25.125000L-21.277000,37.125000C-21.277000,42.514000,-15.444000,45.881000,-10.777000,43.187000C-8.611000,41.937000,-7.277000,39.626000,-7.277000,37.125000L-7.277000,25.125000Z",transform:"matrix(1 0 0 1 -1.64428582627723 -1.48639076794777)",fill:"#9EA0A2",stroke:"none",strokeWidth:"1",children:l("animate",{attributeName:"opacity",values:"1;0.5",dur:"1s",fill:"freeze"})})})]})),Cg=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[l("g",{children:[l("path",{d:"M20.9999 3.99999L21 20C21 21.1046 20.1046 22 19 22H5C3.89543 22 3 21.1046 3 20V4C3 2.89543 3.89543 2 5 2H18.9999C20.1045 2 20.9999 2.89543 20.9999 3.99999Z",stroke:"#B0BEC5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M18 5.01L18.01 4.99889",stroke:"#388E3C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l("animate",{attributeName:"opacity",values:"1;0.3;1",dur:"1.5s",repeatCount:"indefinite"})}),l("path",{d:"M18 13C18 16.3137 15.3137 19 12 19C8.68629 19 6 16.3137 6 13C6 9.68629 8.68629 7 12 7C15.3137 7 18 9.68629 18 13Z",stroke:"#1976D2",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0.5,0;0,0.5;-0.5,0;0,0",dur:"3s",repeatCount:"indefinite"})]}),l("g",{children:[l("path",{d:"M12 16C10.3431 16 9 14.6569 9 13",stroke:"#FF8F00",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("circle",{cx:"10",cy:"11",r:"0.5",fill:"#FF8F00",opacity:"0.6"}),l("circle",{cx:"14",cy:"11",r:"0.5",fill:"#FF8F00",opacity:"0.6"}),l("circle",{cx:"12",cy:"15",r:"0.5",fill:"#FF8F00",opacity:"0.6"}),l("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 13;360 12 13",dur:"2s",repeatCount:"indefinite"})]})]})),Sg=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[l("path",{d:"M20.9999 3.99999L21 20C21 21.1046 20.1046 22 19 22H5C3.89543 22 3 21.1046 3 20V4C3 2.89543 3.89543 2 5 2H18.9999C20.1045 2 20.9999 2.89543 20.9999 3.99999Z",stroke:"#B0BEC5",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M18 5.01L18.01 4.99889",stroke:"#388E3C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"stroke",values:"#388E3C;#F0F4F8",dur:"1.5s",fill:"freeze"}),l("animate",{attributeName:"opacity",values:"1;0.3",dur:"1.5s",fill:"freeze"})]}),l("path",{d:"M18 13C18 16.3137 15.3137 19 12 19C8.68629 19 6 16.3137 6 13C6 9.68629 8.68629 7 12 7C15.3137 7 18 9.68629 18 13Z",stroke:"#1976D2",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:l("animate",{attributeName:"stroke",values:"#1976D2;#F0F4F8",dur:"1.5s",begin:"0.2s",fill:"freeze"})}),l("g",{children:[l("path",{d:"M12 16C10.3431 16 9 14.6569 9 13",stroke:"#FF8F00",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:l("animate",{attributeName:"stroke",values:"#FF8F00;#F0F4F8",dur:"1.5s",begin:"0.4s",fill:"freeze"})}),l("circle",{cx:"10",cy:"11",r:"0.5",fill:"#FF8F00",opacity:"0.6"}),l("circle",{cx:"14",cy:"11",r:"0.5",fill:"#FF8F00",opacity:"0.6"}),l("circle",{cx:"12",cy:"15",r:"0.5",fill:"#FF8F00",opacity:"0.6"}),l("animate",{attributeName:"fill",values:"#FF8F00;#F0F4F8",dur:"1.5s",begin:"0.4s",fill:"freeze"}),l("animate",{attributeName:"opacity",values:"0.6;0.2",dur:"1.5s",begin:"0.4s",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"rotate",values:"0 12 13;180 12 13;360 12 13",dur:"2s",fill:"freeze"})]})]})),Mg=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,l("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",strokeWidth:"1",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[l("path",{d:"M2 4L22 4",stroke:"#388E3C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l("animate",{attributeName:"opacity",values:"1;0.7;1",dur:"2s",repeatCount:"indefinite"})}),l("g",{children:[l("path",{d:"M3 8.01L3.01 7.99889",stroke:"#26A69A",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M9 8.01L9.01 7.99889",stroke:"#26A69A",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M15 8.01L15.01 7.99889",stroke:"#26A69A",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M21 8.01L21.01 7.99889",stroke:"#26A69A",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("animate",{attributeName:"opacity",values:"0.6;1;0.4;0.6",dur:"3s",repeatCount:"indefinite"})]}),l("g",{children:[l("path",{d:"M6 12.01L6.01 11.9989",stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M12 12.01L12.01 11.9989",stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M18 12.01L18.01 11.9989",stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("animate",{attributeName:"opacity",values:"0.4;0.6;1;0.4",dur:"3s",repeatCount:"indefinite"})]}),l("g",{children:[l("path",{d:"M3 16.01L3.01 15.9989",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M9 16.01L9.01 15.9989",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M15 16.01L15.01 15.9989",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M21 16.01L21.01 15.9989",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("animate",{attributeName:"opacity",values:"1;0.4;0.6;1",dur:"3s",repeatCount:"indefinite"})]}),l("g",{children:[l("path",{d:"M6 20.01L6.01 19.9989",stroke:"#9C27B0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M12 20.01L12.01 19.9989",stroke:"#9C27B0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M18 20.01L18.01 19.9989",stroke:"#9C27B0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("animate",{attributeName:"opacity",values:"0.6;1;0.4;0.6",dur:"3s",repeatCount:"indefinite"})]})]})),Ag=({size:t=39})=>(`${Math.random().toString(36).substr(2,9)}`,l("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",strokeWidth:"1",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:[l("path",{d:"M2 4L22 4",stroke:"#388E3C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l("animate",{attributeName:"stroke",values:"#388E3C;#F0F4F8",dur:"1.5s",fill:"freeze"})}),l("g",{children:[l("path",{d:"M3 8.01L3.01 7.99889",stroke:"#26A69A",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M9 8.01L9.01 7.99889",stroke:"#26A69A",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M15 8.01L15.01 7.99889",stroke:"#26A69A",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M21 8.01L21.01 7.99889",stroke:"#26A69A",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("animate",{attributeName:"stroke",values:"#26A69A;#F0F4F8",dur:"1.5s",fill:"freeze"}),l("animate",{attributeName:"opacity",values:"1;0.3",dur:"1.5s",fill:"freeze"})]}),l("g",{children:[l("path",{d:"M6 12.01L6.01 11.9989",stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M12 12.01L12.01 11.9989",stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M18 12.01L18.01 11.9989",stroke:"#42A5F5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("animate",{attributeName:"stroke",values:"#42A5F5;#F0F4F8",dur:"1.5s",begin:"0.2s",fill:"freeze"}),l("animate",{attributeName:"opacity",values:"1;0.3",dur:"1.5s",begin:"0.2s",fill:"freeze"})]}),l("g",{children:[l("path",{d:"M3 16.01L3.01 15.9989",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M9 16.01L9.01 15.9989",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M15 16.01L15.01 15.9989",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M21 16.01L21.01 15.9989",stroke:"#1976D2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("animate",{attributeName:"stroke",values:"#1976D2;#F0F4F8",dur:"1.5s",begin:"0.4s",fill:"freeze"}),l("animate",{attributeName:"opacity",values:"1;0.3",dur:"1.5s",begin:"0.4s",fill:"freeze"})]}),l("g",{children:[l("path",{d:"M6 20.01L6.01 19.9989",stroke:"#9C27B0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M12 20.01L12.01 19.9989",stroke:"#9C27B0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M18 20.01L18.01 19.9989",stroke:"#9C27B0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("animate",{attributeName:"stroke",values:"#9C27B0;#F0F4F8",dur:"1.5s",begin:"0.6s",fill:"freeze"}),l("animate",{attributeName:"opacity",values:"1;0.3",dur:"1.5s",begin:"0.6s",fill:"freeze"})]})]})),Dh=({size:t=39})=>l("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{d:"M6 20.5C7 11 11.5 8 20 6",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M15.9086 3.80941L20.3946 5.90126L18.3028 10.3873",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M5 7C6.10457 7 7 6.10457 7 5C7 3.89543 6.10457 3 5 3C3.89543 3 3 3.89543 3 5C3 6.10457 3.89543 7 5 7Z",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M16 20.2426L18.1213 18.1213M18.1213 18.1213L20.2426 16M18.1213 18.1213L16 16M18.1213 18.1213L20.2426 20.2426",strokeLinecap:"round",strokeLinejoin:"round"})]}),g3=({size:t=39})=>l("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",fill:"none",strokeWidth:"1.5",xmlns:"http://www.w3.org/2000/svg",children:[l("rect",{width:"7",height:"5",rx:"0.6",transform:"matrix(0 -1 -1 0 22 21)",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.1)",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.4"}),l("rect",{width:"7",height:"5",rx:"0.6",transform:"matrix(0 -1 -1 0 7 15.5)",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.1)",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.4"}),l("rect",{width:"7",height:"5",rx:"0.6",transform:"matrix(0 -1 -1 0 22 10)",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.1)",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.4"}),l("path",{d:"M17 17.5H13.5C12.3954 17.5 11.5 16.6046 11.5 15.5V8.5C11.5 7.39543 12.3954 6.5 13.5 6.5H17",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.05)",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.3"}),l("path",{d:"M11.5 12H7",stroke:"#F0F4F8",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.3"})]}),m3=({size:t=39})=>l("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",fill:"none",strokeWidth:"1.5",xmlns:"http://www.w3.org/2000/svg",children:[l("rect",{x:"4",y:"18",width:"16",height:"3",rx:"0.5",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.1)",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.4"}),l("rect",{x:"4",y:"14",width:"16",height:"3",rx:"0.5",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.1)",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.4"}),l("rect",{x:"4",y:"10",width:"16",height:"3",rx:"0.5",stroke:"#F0F4F8",fill:"rgba(240, 244, 248, 0.1)",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.4"}),l("path",{d:"M7 3C6.44772 3 6 3.44772 6 4V8C6 8.55228 6.44772 9 7 9",stroke:"#F0F4F8",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.3"}),l("path",{d:"M17 3C17.5523 3 18 3.44772 18 4V8C18 8.55228 17.5523 9 17 9",stroke:"#F0F4F8",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.3"}),l("circle",{cx:"8",cy:"6",r:"0.5",fill:"#F0F4F8",opacity:"0.2"}),l("circle",{cx:"12",cy:"6",r:"0.6",fill:"#F0F4F8",opacity:"0.3"}),l("circle",{cx:"16",cy:"6",r:"0.4",fill:"#F0F4F8",opacity:"0.2"}),l("path",{d:"M12 9V10",stroke:"#F0F4F8",strokeWidth:"1",strokeLinecap:"round",opacity:"0.3"})]}),Fh=({size:t=39})=>l("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{d:"M5 12C5 12 7 4 12 4C17 4 19 12 19 12C19 12 17 20 12 20C7 20 5 12 5 12Z",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(0, 0, 0, 0.05)"}),l("path",{d:"M8 12L11 15L16 10",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l("circle",{cx:"6",cy:"12",r:"2",stroke:"#000000",strokeWidth:"1.5",fill:"rgba(0, 0, 0, 0.1)"}),l("circle",{cx:"18",cy:"12",r:"2",stroke:"#000000",strokeWidth:"1.5",fill:"rgba(0, 0, 0, 0.1)"})]}),Ho=({size:t=39})=>l("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("rect",{x:"3",y:"7",width:"18",height:"3",rx:"0.5",stroke:"#000000",strokeWidth:"1.5",fill:"rgba(0, 0, 0, 0.05)"}),l("rect",{x:"3",y:"11",width:"18",height:"3",rx:"0.5",stroke:"#000000",strokeWidth:"1.5",fill:"rgba(0, 0, 0, 0.05)"}),l("rect",{x:"3",y:"15",width:"18",height:"3",rx:"0.5",stroke:"#000000",strokeWidth:"1.5",fill:"rgba(0, 0, 0, 0.05)"}),l("circle",{cx:"12",cy:"12",r:"2",stroke:"#000000",strokeWidth:"2",fill:"rgba(0, 0, 0, 0.2)"})]}),ir=({size:t=39})=>l("svg",{width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{d:"M5 3H19C20.1046 3 21 3.89543 21 5V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V5C3 3.89543 3.89543 3 5 3Z",stroke:"#000000",strokeWidth:"1.5",fill:"rgba(0, 0, 0, 0.02)"}),l("path",{d:"M8 9L5 12L8 15",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M16 9L19 12L16 15",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M13 7L11 17",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round"})]}),y3=({size:t=39})=>{const e=`switch_on_${Math.random().toString(36).substr(2,9)}`;return l("svg",{id:e,width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{id:`${e}_background`,d:"M17 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17Z",stroke:"#B0BEC5",fill:"rgba(176, 190, 197, 0.1)",strokeWidth:"1.5",children:[l("animate",{attributeName:"stroke",values:"#B0BEC5;#42A5F5",dur:"1500ms",begin:"300ms",fill:"freeze"}),l("animate",{attributeName:"fill",values:"rgba(176, 190, 197, 0.1);rgba(66, 165, 245, 0.2)",dur:"1500ms",begin:"300ms",fill:"freeze"})]}),l("circle",{id:`${e}_button`,cx:"7",cy:"12",r:"1.5",fill:"#B0BEC5",stroke:"#B0BEC5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"fill",values:"#B0BEC5;#388E3C",dur:"1500ms",begin:"300ms",fill:"freeze"}),l("animate",{attributeName:"stroke",values:"#B0BEC5;#388E3C",dur:"1500ms",begin:"300ms",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;10,0",dur:"1500ms",begin:"300ms",fill:"freeze"})]}),l("ellipse",{cx:"17",cy:"12",rx:"3",ry:"3",fill:"rgba(66, 165, 245, 0)",opacity:"0",children:[l("animate",{attributeName:"opacity",values:"0;0.3",dur:"1500ms",begin:"300ms",fill:"freeze"}),l("animate",{attributeName:"rx",values:"3;5",dur:"1500ms",begin:"300ms",fill:"freeze"}),l("animate",{attributeName:"ry",values:"3;5",dur:"1500ms",begin:"300ms",fill:"freeze"})]})]})},b3=({size:t=39})=>{const e=`switch_off_${Math.random().toString(36).substr(2,9)}`;return l("svg",{id:e,width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{id:`${e}_background`,d:"M17 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17Z",stroke:"#42A5F5",fill:"rgba(66, 165, 245, 0.2)",strokeWidth:"1.5",children:[l("animate",{attributeName:"stroke",values:"#42A5F5;#F0F4F8",dur:"1500ms",begin:"300ms",fill:"freeze"}),l("animate",{attributeName:"fill",values:"rgba(66, 165, 245, 0.2);rgba(240, 244, 248, 0.1)",dur:"1500ms",begin:"300ms",fill:"freeze"})]}),l("circle",{id:`${e}_button`,cx:"17",cy:"12",r:"1.5",fill:"#388E3C",stroke:"#388E3C",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"fill",values:"#388E3C;#F0F4F8",dur:"1500ms",begin:"300ms",fill:"freeze"}),l("animate",{attributeName:"stroke",values:"#388E3C;#F0F4F8",dur:"1500ms",begin:"300ms",fill:"freeze"}),l("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;-10,0",dur:"1500ms",begin:"300ms",fill:"freeze"})]}),l("ellipse",{cx:"17",cy:"12",rx:"5",ry:"5",fill:"rgba(66, 165, 245, 0.3)",opacity:"0.3",children:[l("animate",{attributeName:"opacity",values:"0.3;0",dur:"1500ms",begin:"300ms",fill:"freeze"}),l("animate",{attributeName:"rx",values:"5;3",dur:"1500ms",begin:"300ms",fill:"freeze"}),l("animate",{attributeName:"ry",values:"5;3",dur:"1500ms",begin:"300ms",fill:"freeze"})]})]})},sr=({size:t=39})=>{const e=`power_on_${Math.random().toString(36).substr(2,9)}`;return l("svg",{id:`${e}_rotary_switch`,width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",strokeWidth:"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{d:"M21 3.6V20.4C21 20.7314 20.7314 21 20.4 21H3.6C3.26863 21 3 20.7314 3 20.4V3.6C3 3.26863 3.26863 3 3.6 3H20.4C20.7314 3 21 3.26863 21 3.6Z",stroke:"#B0BEC5",fill:"rgba(176, 190, 197, 0.1)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"stroke",values:"#B0BEC5;#388E3C",dur:"2s",fill:"freeze"}),l("animate",{attributeName:"fill",values:"rgba(176, 190, 197, 0.1);rgba(56, 142, 60, 0.1)",dur:"2s",fill:"freeze"})]}),l("path",{d:"M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z",stroke:"#B0BEC5",fill:"rgba(176, 190, 197, 0.05)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"stroke",values:"#B0BEC5;#388E3C",dur:"2s",fill:"freeze"}),l("animate",{attributeName:"fill",values:"rgba(176, 190, 197, 0.05);rgba(56, 142, 60, 0.2)",dur:"2s",fill:"freeze"})]}),l("path",{d:"M8.5 7.5L12 12",stroke:"#B0BEC5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"stroke",values:"#B0BEC5;#388E3C",dur:"2s",fill:"freeze"}),l("animate",{attributeName:"d",values:"M8.5 7.5L12 12;M15.5 7.5L12 12",dur:"1s",fill:"freeze"})]}),l("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"rgba(56, 142, 60, 0.3)",strokeWidth:"0.5",opacity:"0",children:[l("animate",{attributeName:"opacity",values:"0;0.4",dur:"2s",fill:"freeze"}),l("animate",{attributeName:"r",values:"10;12",dur:"2s",fill:"freeze"})]})]})},Lt=({size:t=39})=>{const e=`power_off_${Math.random().toString(36).substr(2,9)}`;return l("svg",{id:`${e}_rotary_switch`,width:`${t}px`,height:`${t}px`,viewBox:"0 0 24 24",strokeWidth:"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{d:"M21 3.6V20.4C21 20.7314 20.7314 21 20.4 21H3.6C3.26863 21 3 20.7314 3 20.4V3.6C3 3.26863 3.26863 3 3.6 3H20.4C20.7314 3 21 3.26863 21 3.6Z",stroke:"#388E3C",fill:"rgba(56, 142, 60, 0.1)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"stroke",values:"#388E3C;#F0F4F8",dur:"2s",fill:"freeze"}),l("animate",{attributeName:"fill",values:"rgba(56, 142, 60, 0.1);rgba(240, 244, 248, 0.1)",dur:"2s",fill:"freeze"})]}),l("path",{d:"M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z",stroke:"#388E3C",fill:"rgba(56, 142, 60, 0.2)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"stroke",values:"#388E3C;#F0F4F8",dur:"2s",fill:"freeze"}),l("animate",{attributeName:"fill",values:"rgba(56, 142, 60, 0.2);rgba(240, 244, 248, 0.05)",dur:"2s",fill:"freeze"})]}),l("path",{d:"M15.5 7.5L12 12",stroke:"#388E3C",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l("animate",{attributeName:"stroke",values:"#388E3C;#F0F4F8",dur:"2s",fill:"freeze"}),l("animate",{attributeName:"d",values:"M15.5 7.5L12 12;M8.5 7.5L12 12",dur:"1s",fill:"freeze"})]}),l("circle",{cx:"12",cy:"12",r:"12",fill:"none",stroke:"rgba(56, 142, 60, 0.3)",strokeWidth:"0.5",opacity:"0.4",children:[l("animate",{attributeName:"opacity",values:"0.4;0",dur:"2s",fill:"freeze"}),l("animate",{attributeName:"r",values:"12;10",dur:"2s",fill:"freeze"})]})]})},Xr=({size:t=39})=>l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255, 255, 255, 0.1)"}),l("path",{d:"M19.6224 10.3954L18.5247 7.7448L20 6L18 4L16.2647 5.48295L13.5578 4.36974L12.9353 2H10.981L10.3491 4.40113L7.70441 5.51596L6 4L4 6L5.45337 7.78885L4.3725 10.4463L2 11V13L4.40111 13.6555L5.51575 16.2997L4 18L6 20L7.79116 18.5403L10.397 19.6123L11 22H13L13.6045 19.6132L16.2551 18.5155C16.6969 18.8313 18 20 18 20L20 18L18.5159 16.2494L19.6139 13.598L21.9999 12.9772L22 11L19.6224 10.3954Z",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),cs=({size:t=39})=>l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{d:"M3 10V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V10",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.05)"}),l("path",{d:"M14.8333 21V15C14.8333 13.8954 13.9379 13 12.8333 13H10.8333C9.72874 13 8.83331 13.8954 8.83331 15V21",stroke:"#FFFFFF",strokeWidth:"1.5",strokeMiterlimit:"16",fill:"rgba(255, 255, 255, 0.1)"}),l("path",{d:"M21.8183 9.36418L20.1243 3.43517C20.0507 3.17759 19.8153 3 19.5474 3H15.5L15.9753 8.70377C15.9909 8.89043 16.0923 9.05904 16.2532 9.15495C16.6425 9.38698 17.4052 9.81699 18 10C19.0158 10.3125 20.5008 10.1998 21.3465 10.0958C21.6982 10.0526 21.9157 9.7049 21.8183 9.36418Z",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.08)"}),l("path",{d:"M14 10C14.5675 9.82538 15.2879 9.42589 15.6909 9.18807C15.8828 9.07486 15.9884 8.86103 15.9699 8.63904L15.5 3H8.5L8.03008 8.63904C8.01158 8.86103 8.11723 9.07486 8.30906 9.18807C8.71207 9.42589 9.4325 9.82538 10 10C11.493 10.4594 12.507 10.4594 14 10Z",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.08)"}),l("path",{d:"M3.87567 3.43517L2.18166 9.36418C2.08431 9.7049 2.3018 10.0526 2.6535 10.0958C3.49916 10.1998 4.98424 10.3125 6 10C6.59477 9.81699 7.35751 9.38698 7.74678 9.15495C7.90767 9.05904 8.00913 8.89043 8.02469 8.70377L8.5 3H4.45258C4.18469 3 3.94926 3.17759 3.87567 3.43517Z",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.08)"})]}),v3=({size:t=39})=>l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{d:"M2 11V4.6C2 4.26863 2.26863 4 2.6 4H8.77805C8.92127 4 9.05977 4.05124 9.16852 4.14445L12.3315 6.85555C12.4402 6.94876 12.5787 7 12.722 7H21.4C21.7314 7 22 7.26863 22 7.6V11M2 11V19.4C2 19.7314 2.26863 20 2.6 20H21.4C21.7314 20 22 19.7314 22 19.4V11M2 11H22",stroke:"#FFFFFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l("rect",{x:"2",y:"7",width:"20",height:"4",fill:"rgba(255, 255, 255, 0.1)"}),l("rect",{x:"2",y:"11",width:"20",height:"9",rx:"0.4",fill:"rgba(255, 255, 255, 0.05)"})]}),He={light:{on:{default:r3,desk_lamp:a3},off:{default:o3,desk_lamp:l3}},cover:{on:{default:u3,garage:c3},off:{default:h3,garage:d3}},binary_sensor:{on:{door:Xs,window:Xs,motion:f3,presence:Qs,occupancy:Qs,lock:Qt,smoke:Vt,gas:Vt,carbon_monoxide:Vt,safety:Vt},off:{door:Js,window:Js,motion:p3,presence:_n,occupancy:_n,lock:Fi,smoke:zt,gas:zt,carbon_monoxide:zt,safety:zt}},sensor:{on:{door:Xs,window:Xs},off:{door:Js,window:Js}},lock:{on:{default:Fi},off:{default:Qt}},media_player:{on:{default:Bo,tv:wi,television:wi,speaker:Bo,receiver:Bo},off:{default:$o,tv:jn,television:jn,speaker:$o,receiver:$o}},climate:{heat:{default:er},cool:{default:wn},dry:{default:ki},fan_only:{default:zo},auto:{default:tr},off:{default:nr}},fan:{on:{default:zo},off:{default:nr}},vacuum:{on:{default:kg},off:{default:xg}},dishwasher:{on:{default:_g},off:{default:wg}},washing_machine:{on:{default:Cg},off:{default:Sg}},scene:{on:{default:Ho},off:{default:Ho},scening:{default:Ho}},script:{on:{default:ir},off:{default:ir},running:{default:ir},default:{default:ir}},automation:{on:{default:Fh},off:{default:Fh}},switch:{on:{default:y3},off:{default:b3}},input_boolean:{on:{default:sr},off:{default:Lt}},alert:{on:{default:Vt},off:{default:zt},idle:{default:zt}},timer:{active:{default:sr},idle:{default:Lt},paused:{default:Lt}},person:{home:{default:Qs},not_home:{default:_n},unknown:{default:_n}},device_tracker:{home:{default:Qs},not_home:{default:_n},unknown:{default:_n}},air_purifier:{on:{default:Mg},off:{default:Ag}},input_number:{default:{default:null}},input_text:{default:{default:Lt}},input_select:{default:{default:Lt}},input_datetime:{default:{default:Lt}},weather:{sunny:{default:er},clear_night:{default:wn},cloudy:{default:wn},partlycloudy:{default:tr},rainy:{default:ki},pouring:{default:ki},snowy:{default:wn},snowy_rainy:{default:wn},windy:{default:zo},fog:{default:tr},hail:{default:wn},lightning:{default:Vt},lightning_rainy:{default:Vt},default:{default:tr}},group:{on:{default:sr},off:{default:Lt}},zone:{default:{default:_n}},sun:{above_horizon:{default:er},below_horizon:{default:wn}},remote:{on:{default:wi},off:{default:jn}},water_heater:{on:{default:er},off:{default:nr}},humidifier:{on:{default:ki},off:{default:nr}},plant:{default:{default:ki}},number:{default:{default:null}},select:{default:{default:Lt}},text:{default:{default:Lt}},button:{default:{default:sr}},update:{on:{default:Dh},off:{default:Dh}},camera:{recording:{default:wi},streaming:{default:wi},idle:{default:jn},default:{default:jn}},siren:{on:{default:Vt},off:{default:zt}},settings:{default:{default:Xr}},marketplace:{default:{default:cs}},alarm_control_panel:{armed_home:{default:Qt},armed_away:{default:Qt},armed_night:{default:Qt},armed_vacation:{default:Qt},armed_custom_bypass:{default:Qt},disarmed:{default:Fi},triggered:{default:Vt},pending:{default:zt},arming:{default:Fi},disarming:{default:Qt}}},_3=(t="",e={})=>{const n=t||e?.friendly_name||"";return n.toLowerCase().includes("desk")||n.toLowerCase().includes("schreibtisch")||n.toLowerCase().includes("arbeits")||n.toLowerCase().includes("bÃ¼ro")||e?.device_class==="desk_lamp"},w3=(t={})=>t?.device_class==="garage"||t?.friendly_name?.toLowerCase().includes("garage"),k3=(t={})=>{const e=t?.friendly_name||"";return t?.device_class==="tv"||e.toLowerCase().includes("tv")||e.toLowerCase().includes("fernseh")||e.toLowerCase().includes("television")},x3=(t,e,n={},i="")=>{if(t==="air_purifier")return e==="on"?Mg:Ag;if(t==="washing_machine")return e==="on"?Cg:Sg;if(t==="dishwasher")return e==="on"?_g:wg;if(t==="vacuum")return e==="cleaning"?kg:xg;if(t==="climate"){const u=n?.hvac_action||e;return(He.climate[u]||He.climate.off)?.default||null}if(t==="script"){const u=He.script;return(u[e==="running"||e==="on"?"running":"off"]||u.default)?.default||m3}if(t==="button")return He[t]?.default?.default||null;if(t==="scene"){const u=He.scene;return(u[e==="scening"||e==="on"?"scening":"off"]||u.off)?.default||g3}if(t==="camera"){const u=He.camera;return(u[e]||u.default)?.default||jn}if(t==="alarm_control_panel"){const u=He.alarm_control_panel;return(u[e]||u.disarmed)?.default||Fi}if(t==="siren"){const u=e==="on"?"on":"off";return He.siren[u]?.default||zt}if(t==="person"||t==="device_tracker"){const u=He[t];if(u)return(u[e]||u.unknown||u.not_home)?.default||null}if(t==="weather"){const u=He.weather;return(u[e]||u.default)?.default||null}if(t==="alert"){const u=He.alert;return(u[e]||u.idle)?.default||null}if(t==="timer"){const u=He.timer;return(u[e]||u.idle)?.default||null}if(t==="settings")return He.settings?.default?.default||Xr;if(t==="marketplace")return He.marketplace?.default?.default||cs;if(t==="pluginstore")return He.pluginstore?.default?.default||cs;if(t==="input_number"||t==="number")return null;if(t==="input_text"||t==="input_select"||t==="input_datetime"||t==="select"||t==="text"||t==="plant"){const u=He[t];return u?.default?u.default.default:Lt}if(t==="zone")return He.zone?.default?.default||null;if(t==="sun"){const u=e==="above_horizon"?"above_horizon":"below_horizon";return He.sun[u]?.default||null}const s=He[t];if(!s)return null;const r=e==="on"||e==="open"||e==="playing"||e==="home"||e==="unlocked"||e==="cleaning"||e==="active"||e==="running"||e==="above_horizon"||e==="recording"||e==="streaming";if(t==="lock")return s[e==="unlocked"?"on":"off"]?.default||null;const a=s[r?"on":"off"];if(!a)return s.default?s.default.default:null;let c="default";t==="light"&&_3(i,n)?c="desk_lamp":t==="cover"&&w3(n)?c="garage":t==="media_player"&&k3(n)?c="tv":(t==="binary_sensor"||t==="sensor")&&n?.device_class&&(c=n.device_class);const d=a[c]||a.default||null;return d===null&&t!=="input_number"&&t!=="number"?v3:d},C3=["input_number","number"],S3=({domain:t,state:e,attributes:n={},size:i=39,name:s=""})=>{const r=x3(t,e,n,s);return r?l(r,{size:i}):(C3.includes(t)||console.warn(`No icon found for domain: ${t}, state: ${e}, device_class: ${n?.device_class}`),null)},Lg=(t,e=39)=>t?l(S3,{domain:t.domain,state:t.state,attributes:t.attributes,size:e,name:t.name||t.attributes?.friendly_name}):null,Tg=({size:t=39})=>l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("rect",{x:"3",y:"3",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.1)"}),l("rect",{x:"10.25",y:"3",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.1)"}),l("rect",{x:"17.5",y:"3",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.1)"}),l("rect",{x:"3",y:"10.25",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.1)"}),l("rect",{x:"10.25",y:"10.25",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.15)"}),l("rect",{x:"17.5",y:"10.25",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.1)"}),l("rect",{x:"3",y:"17.5",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.1)"}),l("rect",{x:"10.25",y:"17.5",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.1)"}),l("rect",{x:"17.5",y:"17.5",width:"5.5",height:"5.5",rx:"1.5",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.1)"})]}),M3={settings:{color:"rgb(0, 145, 255)",hoverColor:"rgb(0, 145, 255)",activeColor:"rgb(0, 145, 255)",iconComponent:Xr,iconMdi:"mdi:cog",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"tabs",tabs:["general","appearance","privacy","about"],defaultTab:"general",showHeader:!0,showCloseButton:!0}},marketplace:{color:"rgb(48, 209, 88)",hoverColor:"rgb(48, 209, 88)",activeColor:"rgb(48, 209, 88)",iconComponent:cs,iconMdi:"mdi:shopping",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"fullscreen",showHeader:!0,showBackButton:!0,showSearchBar:!0}},pluginstore:{color:"rgb(219, 52, 242)",hoverColor:"rgb(219, 52, 242)",activeColor:"rgb(219, 52, 242)",iconComponent:Tg,iconMdi:"mdi:puzzle-plus",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"fullscreen",sections:["discover","installed","develop","upload"],defaultSection:"discover",showHeader:!0,showBackButton:!0,showInstallButton:!0}},all_schedules:{color:"rgb(255, 146, 48)",hoverColor:"rgb(255, 146, 48)",activeColor:"rgb(255, 146, 48)",iconComponent:null,iconMdi:"mdi:calendar-clock",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"fullscreen",showHeader:!0,showBackButton:!0,showFilterTabs:!0}},weather:{color:"rgb(60, 211, 254)",hoverColor:"rgb(60, 211, 254)",activeColor:"rgb(60, 211, 254)",iconComponent:null,iconMdi:"mdi:weather-partly-cloudy",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"fullscreen",showHeader:!0,showBackButton:!0,showRefreshButton:!0}},news:{color:"rgb(255, 149, 0)",hoverColor:"rgb(255, 149, 0)",activeColor:"rgb(255, 149, 0)",iconComponent:null,iconMdi:"mdi:newspaper",iconSize:48,animation:{hidden:{opacity:0,scale:.92,y:20,filter:"blur(4px)"},inactive:{scale:1,opacity:1,y:0,filter:"blur(0px)",transition:{duration:.45,ease:[.4,0,.2,1]}},active:{scale:1,opacity:1,y:0,filter:"blur(0px)"},hover:{scale:1.05,transition:{duration:.2,ease:[.4,0,.2,1]}}},detailView:{type:"fullscreen",showHeader:!0,showBackButton:!0,showRefreshButton:!0,showFilterBar:!0}}};function A3(t){return t?{hidden:t.animation?.hidden||{opacity:0,scale:.9},inactive:{backgroundColor:t.color,...t.animation?.inactive||{}},active:{backgroundColor:t.activeColor||t.color,...t.animation?.active||{}},hover:{backgroundColor:t.hoverColor||t.color,...t.animation?.hover||{}}}:null}const L3=({size:t=39})=>l("svg",{width:`${t}px`,height:`${t}px`,strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{d:"M2 6C2 4.89543 2.89543 4 4 4H16C17.1046 4 18 4.89543 18 6V18C18 19.1046 17.1046 20 16 20H4C2.89543 20 2 19.1046 2 18V6Z",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.08)"}),l("path",{d:"M18 6V18C18 19.1046 18.8954 20 20 20C21.1046 20 22 19.1046 22 18V8C22 6.89543 21.1046 6 20 6H18Z",stroke:"#FFFFFF",strokeWidth:"1.5",fill:"rgba(255, 255, 255, 0.05)"}),l("rect",{x:"5",y:"7",width:"8",height:"2",rx:"0.5",fill:"rgba(255, 255, 255, 0.6)"}),l("line",{x1:"5",y1:"11",x2:"13",y2:"11",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1"}),l("line",{x1:"5",y1:"13",x2:"11",y2:"13",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1"}),l("line",{x1:"5",y1:"15",x2:"13",y2:"15",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1"}),l("line",{x1:"5",y1:"17",x2:"10",y2:"17",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1"})]}),kn=({size:t=24,color:e="#FFFFFF",animated:n=!1,...i})=>l(z.svg,{width:t,height:t,"stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:e,animate:n?{x:[-2,2,-2]}:{},transition:n?{duration:6,repeat:1/0,ease:"easeInOut"}:{},children:l("path",{d:"M12 4C6 4 6 8 6 10C4.33333 10 1 11 1 15C1 19 4.33333 20 6 20H18C19.6667 20 23 19 23 15C23 11 19.6667 10 18 10C18 8 18 4 12 4Z",stroke:e,"stroke-width":"1.5","stroke-linejoin":"round"})}),T3=({size:t=24,color:e="#FFFFFF",animated:n=!1,...i})=>l(z.svg,{width:t,height:t,"stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:e,children:[l("path",{d:"M3.5 17.3818C2.1879 16.7066 1 15.3879 1 13C1 9 4.33333 8 6 8C6 6 6 2 12 2C18 2 18 6 18 8C19.6667 8 23 9 23 13C23 15.3879 21.8121 16.7066 20.5 17.3818",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),l(z.path,{d:"M9 14H15",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",animate:n?{opacity:[.4,.8,.4],x:[-1,1,-1]}:{},transition:n?{duration:4,repeat:1/0,ease:"easeInOut"}:{}}),l(z.path,{d:"M9 22H15",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",animate:n?{opacity:[.6,.9,.6],x:[1,-1,1]}:{},transition:n?{duration:4,repeat:1/0,ease:"easeInOut",delay:1}:{}}),l(z.path,{d:"M7 18H17",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",animate:n?{opacity:[.5,1,.5],x:[-1,1,-1]}:{},transition:n?{duration:4,repeat:1/0,ease:"easeInOut",delay:2}:{}})]}),Nh=({size:t=24,color:e="#FFFFFF",animated:n=!1,...i})=>l(z.svg,{width:t,height:t,"stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:e,children:[l("path",{d:"M20 17.6073C21.4937 17.0221 23 15.6889 23 13C23 9 19.6667 8 18 8C18 6 18 2 12 2C6 2 6 6 6 8C4.33333 8 1 9 1 13C1 15.6889 2.50628 17.0221 4 17.6073",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),l(z.path,{d:"M12 14V16",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",animate:n?{opacity:[.3,1,.3],y:[0,2,0]}:{},transition:n?{duration:1.5,repeat:1/0,ease:"easeInOut"}:{}}),l(z.path,{d:"M12 20V22",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",animate:n?{opacity:[1,.3,1],y:[0,2,0]}:{},transition:n?{duration:1.5,repeat:1/0,ease:"easeInOut",delay:.3}:{}}),l(z.path,{d:"M8 18V20",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",animate:n?{opacity:[.5,1,.5],y:[0,2,0]}:{},transition:n?{duration:1.5,repeat:1/0,ease:"easeInOut",delay:.6}:{}}),l(z.path,{d:"M16 18V20",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",animate:n?{opacity:[.8,.3,.8],y:[0,2,0]}:{},transition:n?{duration:1.5,repeat:1/0,ease:"easeInOut",delay:.9}:{}})]}),Wo=({size:t=24,color:e="#FFFFFF",...n})=>l("svg",{width:t,height:t,"stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:e,children:[l("path",{d:"M12 12L12 17M12 22L12 17M12 17L7.5 14.5M12 17L16.5 19.5M12 17L16.5 14.5M12 17L7.5 19.5",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M20 17.6073C21.4937 17.0221 23 15.6889 23 13C23 9 19.6667 8 18 8C18 6 18 2 12 2C6 2 6 6 6 8C4.33333 8 1 9 1 13C1 15.6889 2.50628 17.0221 4 17.6073",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),Ph=({size:t=24,color:e="#FFFFFF",animated:n=!1,...i})=>l(z.svg,{width:t,height:t,"stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:e,animate:n?{rotate:360}:{},transition:n?{duration:60,repeat:1/0,ease:"linear"}:{},children:[l("path",{d:"M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M22 12L23 12",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 2V1",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 23V22",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M20 20L19 19",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M20 4L19 5",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M4 20L5 19",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M4 4L5 5",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M1 12L2 12",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),Ih=({size:t=24,color:e="#FFFFFF",...n})=>l("svg",{width:t,height:t,"stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:e,children:[l("path",{d:"M11.5 12L9 17H15L12.5 22",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M20 17.6073C21.4937 17.0221 23 15.6889 23 13C23 9 19.6667 8 18 8C18 6 18 2 12 2C6 2 6 6 6 8C4.33333 8 1 9 1 13C1 15.6889 2.50628 17.0221 4 17.6073",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),Eg=({size:t=24,color:e="#FFFFFF",...n})=>l("svg",{width:t,height:t,viewBox:"0 0 24 24","stroke-width":"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:e,children:l("path",{d:"M20 14C20 9.58172 12 2 12 2C12 2 4 9.58172 4 14C4 18.4183 7.58172 22 12 22C16.4183 22 20 18.4183 20 14Z",stroke:e,"stroke-width":"1.5"})}),E3=({size:t=24,color:e="#FFFFFF",...n})=>l("svg",{width:t,height:t,"stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:e,children:[l("path",{d:"M18.2785 7C19.7816 7 21 8.11929 21 9.5C21 10.8807 19.7816 12 18.2785 12H3",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M17.9375 20C19.0766 20 20.5 19.5 20.5 17.5C20.5 15.5 19.0766 15 17.9375 15H3",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M10.4118 4C11.8412 4 13 5.11929 13 6.5C13 7.88071 11.8412 9 10.4118 9H3",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),D3=({size:t=24,color:e="#FFFFFF",...n})=>l("svg",{width:t,height:t,viewBox:"0 0 24 24","stroke-width":"1.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:e,children:[l("path",{d:"M10.5857 10.5857L16.9496 7.0502L13.4141 13.4142L7.05012 16.9497L10.5857 10.5857Z",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:e,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),Jr=(t,e=120,n="#FFFFFF",i=!1)=>{const s={size:e,color:n,animated:i};return{"clear-night":l(Ph,{...s}),sunny:l(Ph,{...s}),cloudy:l(kn,{...s}),partlycloudy:l(kn,{...s}),"partly-cloudy":l(kn,{...s}),fog:l(T3,{...s}),rainy:l(Nh,{...s}),pouring:l(Nh,{...s}),snowy:l(Wo,{...s}),"snowy-rainy":l(Wo,{...s}),hail:l(Wo,{...s}),lightning:l(Ih,{...s}),"lightning-rainy":l(Ih,{...s}),windy:l(kn,{...s}),"windy-variant":l(kn,{...s}),exceptional:l(kn,{...s})}[t]||l(kn,{...s})},F3=({condition:t,size:e=120,color:n="#FFFFFF",animated:i=!0})=>{const s=Jr(t,e,n);return i?l("div",{className:"weather-icon-wrapper",style:{display:"inline-block",animation:"float 3s ease-in-out infinite"},children:s}):s};function N3(t){if(t.is_system||ds(t.domain)){const e=M3[t.domain];if(e)return A3(e)}return null}function ds(t){return["settings","marketplace","pluginstore","all_schedules","weather","news","notifications","statistics","help"].includes(t)}function Wa(t,e=48){if(!t.is_system&&!ds(t.domain))return null;const i={settings:Xr,marketplace:cs,pluginstore:Tg,news:L3,all_schedules:()=>l("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"currentColor",children:[l("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zm0-12H5V6h14v2z"}),l("circle",{cx:"12",cy:"15",r:"1"})]}),weather:()=>{const s=we.getEntityByDomain("weather");let r="partly-cloudy";return s&&s.attributes&&(r=s.attributes.current_condition||"partly-cloudy"),Jr(r,e,"#FFFFFF",!1)}}[t.domain];return i?typeof i=="function"?l(i,{size:e}):l(i,{size:e}):null}const P3=({device:t,isActive:e,cardRef:n,handleClick:i,getItemVariants:s,animateState:r,animationDelay:o,getDisplayState:a,getWeatherArea:c,getWeatherName:d,getNewsArea:u,getNewsName:h,lang:f})=>l(ae,{children:[l("style",{children:`
        .device-list-item {
          border-radius: 16px;
          padding: 16px 20px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 16px;
          position: relative;
          overflow: hidden;
        }

        /* Actions-Items - weiÃer Hintergrund mit dunklem Text */
        .device-list-item.actions-item {
          backdrop-filter: none;
          -webkit-backdrop-filter: none;
          border: 1px solid rgba(0, 0, 0, 0.1);
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .device-list-item.actions-item .device-list-icon {
          background: rgba(0, 0, 0, 0.08);
          color: rgba(0, 0, 0, 0.85);
        }

        .device-list-item.actions-item .device-list-area,
        .device-list-item.actions-item .device-list-name,
        .device-list-item.actions-item .device-list-status {
          color: rgba(0, 0, 0, 0.9);
          opacity: 1;
        }

        .device-list-item.actions-item .device-list-name {
          background: linear-gradient(to right, rgba(0, 0, 0, 0.9) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        /* Settings-Card - blau mit weiÃem Text */
        .device-list-item.settings-item {
          backdrop-filter: none;
          -webkit-backdrop-filter: none;
          border: 1px solid rgba(0, 145, 255, 0.5);
          box-shadow: 0 8px 32px rgba(0, 145, 255, 0.3);
        }

        .device-list-item.settings-item .device-list-icon {
          background: rgba(255, 255, 255, 0.1);
          color: rgba(255, 255, 255, 0.95);
        }

        .device-list-item.settings-item .device-list-area,
        .device-list-item.settings-item .device-list-name,
        .device-list-item.settings-item .device-list-status {
          color: rgba(255, 255, 255, 0.95);
          opacity: 1;
        }

        .device-list-item.settings-item .device-list-name {
          background: linear-gradient(to right, rgba(255, 255, 255, 0.95) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        /* Marketplace-Card - grÃ¼n mit weiÃem Text */
        .device-list-item.marketplace-item {
          backdrop-filter: none;
          -webkit-backdrop-filter: none;
          border: 1px solid rgba(48, 209, 88, 0.5);
          box-shadow: 0 8px 32px rgba(48, 209, 88, 0.3);
        }

        .device-list-item.marketplace-item .device-list-icon {
          background: rgba(255, 255, 255, 0.1);
          color: rgba(255, 255, 255, 0.95);
        }

        .device-list-item.marketplace-item .device-list-area,
        .device-list-item.marketplace-item .device-list-name,
        .device-list-item.marketplace-item .device-list-status {
          color: rgba(255, 255, 255, 0.95);
          opacity: 1;
        }

        .device-list-item.marketplace-item .device-list-name {
          background: linear-gradient(to right, rgba(255, 255, 255, 0.95) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

          .device-list-icon {
            width: 68px;
            height: 68px;
            min-width: 68px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.15);
            color: var(--text-primary, rgba(255, 255, 255, 0.95));
            transition: all 0.3s ease;
          }

          .device-list-item.active .device-list-icon {
            background: rgba(255, 255, 255, 0.25);
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
          }

          .device-list-content {
            flex: 1;
            min-width: 0;
            display: flex;
            flex-direction: column;
            gap: 2px;
          }

          .device-list-area {
            font-size: 11px;
            font-weight: 500;
            color: var(--text-secondary, rgba(255, 255, 255, 0.6));
            text-transform: uppercase;
            letter-spacing: 0.5px;
          }

          .device-list-name {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary, rgba(255, 255, 255, 0.95));
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
          }

          .device-list-item.active .device-list-name {
            background: linear-gradient(to right, rgba(255, 255, 255, 0.95) 80%, transparent 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
          }

          .device-list-status {
            font-size: 13px;
            color: var(--text-secondary, rgba(255, 255, 255, 0.7));
          }

          .device-list-quick-action {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.15);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
          }

          .device-list-quick-action:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
          }

          .device-list-quick-action.active {
            background: rgba(0, 122, 255, 0.8);
            border-color: rgba(0, 122, 255, 1);
          }

          .sensor-list-value {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2px;
          }

          .sensor-list-value .value {
            font-size: 18px;
            font-weight: 700;
            line-height: 1;
          }

          .sensor-list-value .unit {
            font-size: 10px;
            opacity: 0.7;
            font-weight: 500;
          }

          /* Responsive */
          @media (max-width: 768px) {
            .device-list-item {
              padding: 12px 16px;
              gap: 12px;
            }

            .device-list-icon {
              width: 56px;
              height: 56px;
              min-width: 56px;
            }

            .device-list-area,
            .device-list-name,
            .device-list-status {
              font-size: 14px;
            }
          }
      `}),l(z.div,{ref:n,className:`device-list-item ${e?"active":""} ${t.domain==="settings"?"settings-item":""} ${t.domain==="marketplace"?"marketplace-item":""} ${t.domain==="automation"||t.domain==="scene"||t.domain==="script"?"actions-item":""}`,onClick:i,"data-entity":t.id,variants:s(),initial:"hidden",animate:r,whileHover:"hover",transition:{delay:o},children:[l("div",{className:`device-list-icon ${e?"icon-active":""}`,children:t.domain==="sensor"&&!isNaN(parseFloat(t.state))?l("div",{className:"sensor-list-value",children:[l("span",{className:"value",children:va(t.state,t.attributes,f).value}),l("span",{className:"unit",children:va(t.state,t.attributes,f).unit||""})]}):(t.is_system||ds(t.domain))&&Wa(t,32)?Wa(t,32):Lg(t,32)}),l("div",{className:"device-list-content",children:[l("div",{className:"device-list-area",children:c&&c()||u&&u()||(t.domain==="settings"?$("subcategories.system",f):t.domain==="marketplace"?$("subcategories.apps",f):t.area||$("general.noRoom",f))}),l("div",{className:"device-list-name",children:d&&d()||h&&h()||(t.domain==="settings"?$("deviceNames.settings",f):t.domain==="marketplace"?$("deviceNames.marketplace",f):t.attributes?.friendly_name||t.name)}),l("div",{className:"device-list-status",children:a()})]}),["light","climate","media_player","cover","fan","switch"].includes(t.domain)&&l("button",{className:`device-list-quick-action ${e?"active":""}`,onClick:p=>{p.stopPropagation()},children:l("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l("path",{d:"M7 6a7.75 7.75 0 1 0 10 0"}),l("path",{d:"M12 4l0 8"})]})})]})]}),I3=({device:t,isActive:e,cardRef:n,handleClick:i,getItemVariants:s,animateState:r,animationDelay:o,renderSensorValue:a,getDisplayState:c,getWeatherArea:d,getWeatherName:u,getNewsArea:h,getNewsName:f,lang:p})=>l(ae,{children:[l("style",{children:`
        .device-card {
          aspect-ratio: 1;
          width: 100%;
          min-width: 130px;
          min-height: 130px;
          background: rgba(255, 255, 255, 0.1);
          border-radius: 24px;
          padding: 20px;
          cursor: pointer;
          display: flex;
          flex-direction: column;
          justify-content: space-between;
          position: relative;
          overflow: hidden;
          box-sizing: border-box;
        }

        .device-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(135deg,
            rgba(255, 255, 255, 0.1) 0%,
            rgba(255, 255, 255, 0.05) 100%);
          opacity: 0;
          pointer-events: none;
        }

        .device-card:hover::before {
          opacity: 1;
        }

        .device-card:hover {
          background: rgba(255, 255, 255, 0.18);
        }

        /* Aktive Cards werden durch Framer Motion Variants gesteuert */

        /* Actions-Card - weiÃer Hintergrund fÃ¼r Automation, Scene, Script */
        .device-card.actions-card {
          backdrop-filter: none;
          -webkit-backdrop-filter: none;
          border: 1px solid rgba(0, 0, 0, 0.1);
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .device-card.actions-card .device-icon {
          color: rgba(0, 0, 0, 0.85);
          opacity: 1;
        }

        .device-card.actions-card .device-area,
        .device-card.actions-card .device-name,
        .device-card.actions-card .device-state {
          color: rgba(0, 0, 0, 0.9);
          opacity: 1;
        }

        .device-card.actions-card .device-area {
          background: linear-gradient(to right, rgba(0, 0, 0, 0.6) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.actions-card .device-name {
          background: linear-gradient(to right, rgba(0, 0, 0, 0.9) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.actions-card .device-state {
          background: linear-gradient(to right, rgba(0, 0, 0, 0.7) 85%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        /* Settings-Card - blau mit weiÃem Text */
        .device-card.settings-card {
          backdrop-filter: none;
          -webkit-backdrop-filter: none;
          border: 1px solid rgba(0, 145, 255, 0.5);
          box-shadow: 0 8px 32px rgba(0, 145, 255, 0.3);
        }

        .device-card.settings-card .device-icon {
          color: rgba(255, 255, 255, 0.95);
          opacity: 1;
        }

        .device-card.settings-card .device-area,
        .device-card.settings-card .device-name,
        .device-card.settings-card .device-state {
          color: rgba(255, 255, 255, 0.95);
          opacity: 1;
        }

        .device-card.settings-card .device-area {
          background: linear-gradient(to right, rgba(255, 255, 255, 0.7) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.settings-card .device-name {
          background: linear-gradient(to right, rgba(255, 255, 255, 0.95) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.settings-card .device-state {
          background: linear-gradient(to right, rgba(255, 255, 255, 0.7) 85%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        /* Marketplace-Card - grÃ¼n mit weiÃem Text */
        .device-card.marketplace-card {
          backdrop-filter: none;
          -webkit-backdrop-filter: none;
          border: 1px solid rgba(48, 209, 88, 0.5);
          box-shadow: 0 8px 32px rgba(48, 209, 88, 0.3);
        }

        .device-card.marketplace-card .device-icon {
          color: rgba(255, 255, 255, 0.95);
          opacity: 1;
        }

        .device-card.marketplace-card .device-area,
        .device-card.marketplace-card .device-name,
        .device-card.marketplace-card .device-state {
          color: rgba(255, 255, 255, 0.95);
          opacity: 1;
        }

        .device-card.marketplace-card .device-area {
          background: linear-gradient(to right, rgba(255, 255, 255, 0.7) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.marketplace-card .device-name {
          background: linear-gradient(to right, rgba(255, 255, 255, 0.95) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.marketplace-card .device-state {
          background: linear-gradient(to right, rgba(255, 255, 255, 0.7) 85%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        /* Pluginstore-Card - lila mit weiÃem Text */
        .device-card.pluginstore-card {
          backdrop-filter: none;
          -webkit-backdrop-filter: none;
          border: 1px solid rgba(175, 82, 222, 0.5);
          box-shadow: 0 8px 32px rgba(175, 82, 222, 0.3);
        }

        .device-card.pluginstore-card .device-icon {
          color: rgba(255, 255, 255, 0.95);
          opacity: 1;
        }

        .sensor-card .device-icon {
          color: rgba(0, 0, 0, 0.85);
          opacity: 1;
        }

        .sensor-value-display {
          display: flex;
          align-items: flex-start;
          gap: 3px;
          margin-bottom: auto;
        }

        .sensor-value {
          font-size: 48px;
          font-weight: 600;
          color: rgba(255, 255, 255, 0.95);
          line-height: 1;
          opacity: 0.6;
        }

        .sensor-unit {
          font-size: 21px;
          font-weight: 500;
          color: rgba(255, 255, 255, 0.7);
          opacity: 0.5;
          margin-top: 2px;
        }

        .device-card.active .sensor-value {
          color: rgba(0, 0, 0, 0.9);
          opacity: 1;
        }

        .device-card.active .sensor-unit {
          color: rgba(0, 0, 0, 0.6);
          opacity: 1;
        }

        .device-info {
          display: flex;
          flex-direction: column;
          gap: 0;
          text-align: left;
          width: 100%;
        }

        .device-area,
        .device-name,
        .device-state {
          font-size: 20px;
          line-height: 1.15;
          margin: 0;
          overflow: hidden;
          white-space: nowrap;
          position: relative;
        }

        .device-area {
          color: rgba(255, 255, 255, 0.7);
          opacity: 0.5;
          background: linear-gradient(to right, rgba(255, 255, 255, 0.7) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-name {
          font-weight: 600;
          color: rgba(255, 255, 255, 0.95);
          opacity: 0.6;
          background: linear-gradient(to right, rgba(255, 255, 255, 0.95) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-state {
          color: rgba(255, 255, 255, 0.7);
          opacity: 0.5;
          background: linear-gradient(to right, rgba(255, 255, 255, 0.7) 85%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.active .device-area {
          color: rgba(0, 0, 0, 0.6);
          opacity: 1;
          background: linear-gradient(to right, rgba(0, 0, 0, 0.6) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.active .device-name {
          color: rgba(0, 0, 0, 0.9);
          opacity: 1;
          background: linear-gradient(to right, rgba(0, 0, 0, 0.9) 80%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .device-card.active .device-state {
          color: rgba(0, 0, 0, 0.7);
          opacity: 1;
          background: linear-gradient(to right, rgba(0, 0, 0, 0.7) 85%, transparent 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        @media (max-width: 768px) {
          .device-card {
            padding: 16px;
          }

          .device-area,
          .device-name,
          .device-state {
            font-size: 16px;
          }

          .sensor-value {
            font-size: 38px;
          }

          .sensor-unit {
            font-size: 16px;
          }
        }

        @media (max-width: 480px) {
          .device-card {
            padding: 14px;
            min-width: 120px;
            min-height: 120px;
          }

          .device-area,
          .device-name,
          .device-state {
            font-size: 14px;
          }

          .sensor-value {
            font-size: 38px;
          }

          .sensor-unit {
            font-size: 16px;
          }
        }

        @media (max-width: 360px) {
          .device-card {
            padding: 12px;
            min-width: 110px;
            min-height: 110px;
          }

          .device-area,
          .device-name,
          .device-state {
            font-size: 13px;
          }

          .sensor-value {
            font-size: 38px;
          }

          .sensor-unit {
            font-size: 16px;
          }
        }
      `}),l(z.div,{ref:n,className:`device-card ${e?"active":""} ${t.domain==="sensor"?"sensor-card":""} ${t.domain==="settings"?"settings-card":""} ${t.domain==="marketplace"?"marketplace-card":""} ${t.domain==="automation"||t.domain==="scene"||t.domain==="script"?"actions-card":""}`,onClick:i,"data-entity":t.id,variants:s(),initial:"hidden",animate:r,whileHover:"hover",transition:{delay:o},children:[a(),l("div",{className:"device-info",children:[l("div",{className:"device-area",children:d&&d()||h&&h()||(t.domain==="settings"?$("subcategories.system",p):t.domain==="marketplace"?$("subcategories.apps",p):t.area||$("general.noRoom",p))}),l("div",{className:"device-name",children:u&&u()||f&&f()||(t.domain==="settings"?$("deviceNames.settings",p):t.domain==="marketplace"?$("deviceNames.marketplace",p):t.attributes?.friendly_name||t.name)}),l("div",{className:"device-state",children:c()})]})]})]}),Dg=am(({device:t,viewMode:e="grid",onClick:n,index:i=0,lang:s="de",animationKey:r="",roomIndex:o=0,itemsPerRoom:a=[],isPanelAnimationComplete:c=!1})=>{const d=J(null),[u,h]=E(48);G(()=>{const F=()=>{const O=window.innerWidth;O>768?h(56):O>480?h(48):O>360?h(36):h(32)};return F(),window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[]);const p=(()=>{let F=0;for(let O=0;O<o;O++)F+=a[O]||0;return F+i})(),y=r&&r.startsWith("expand-"),g=t.state==="Ein"||t.state==="ein"||t.state==="on"?!0:t.domain==="climate"?t.state!=="off"&&t.state!=="unavailable"&&t.state!=="unknown":t.domain==="cover"?t.state==="open"||t.state==="opening"||t.attributes?.current_position!==void 0&&t.attributes.current_position>0:(t.domain==="sensor"||t.domain==="binary_sensor")&&t.state&&t.state!=="unavailable"&&t.state!=="unknown"&&(!isNaN(parseFloat(t.state))||t.state==="on")?!0:t.isActive!==void 0?t.isActive:mv(t),m=g?"active":"inactive",v=(y?.4:0)+(p<30?p*.08:0),_=()=>{if(t.domain==="weather"){const F=we.getEntityByDomain("weather");if(F&&F.attributes&&F.attributes.current_temperature!==void 0)return`${Math.round(F.attributes.current_temperature)}Â°`}return null},k=()=>{if(t.domain==="weather"){const F=we.getEntityByDomain("weather");if(F&&F.attributes&&F.attributes.current_condition){const O={de:{"clear-night":"Klare Nacht",cloudy:"BewÃ¶lkt",fog:"Nebel",hail:"Hagel",lightning:"Gewitter","lightning-rainy":"Gewitter",partlycloudy:"Teilweise bewÃ¶lkt","partly-cloudy":"Teilweise bewÃ¶lkt",pouring:"Starkregen",rainy:"Regnerisch",snowy:"Schneefall","snowy-rainy":"Schneeregen",sunny:"Sonnig",windy:"Windig","windy-variant":"StÃ¼rmisch",exceptional:"AuÃergewÃ¶hnlich"},en:{"clear-night":"Clear",cloudy:"Cloudy",fog:"Fog",hail:"Hail",lightning:"Lightning","lightning-rainy":"Thunderstorm",partlycloudy:"Partly cloudy","partly-cloudy":"Partly cloudy",pouring:"Pouring",rainy:"Rainy",snowy:"Snowy","snowy-rainy":"Sleet",sunny:"Sunny",windy:"Windy","windy-variant":"Stormy",exceptional:"Exceptional"}};return(O[s]||O.de)[F.attributes.current_condition]||F.attributes.current_condition}}return null},w=()=>{if(t.domain==="news"){const F=we.getEntityByDomain("news");if(F&&F.attributes&&F.attributes.unread_count!==void 0){const O=F.attributes.unread_count;return s==="de"?O===1?"1 Neue":`${O} Neue`:O===1?"1 New":`${O} New`}}return null},C=()=>t.domain==="news"?s==="de"?"Nachrichten":"News":null,x=()=>t.is_system||we.isSystemEntity(t.domain)?"":t.domain==="sensor"&&!isNaN(parseFloat(t.state))?gv(t.state,t.attributes?.device_class,t.attributes?.unit_of_measurement,s)||"":(t.domain==="binary_sensor"||t.domain==="sensor",Dd(t.state,t.domain,t.attributes?.device_class,s)),S=()=>{if(t.domain==="sensor"&&!isNaN(parseFloat(t.state))){const F=va(t.state,t.attributes,s);return l("div",{className:"sensor-value-display",children:[l("span",{className:"sensor-value",children:F.value}),F.unit&&l("span",{className:"sensor-unit",children:F.unit})]})}if(t.is_system||ds(t.domain)){const F=Wa(t,u);if(F)return F}return Lg(t,u)},R=()=>{n&&n(t)},N=()=>{if(t.is_system||ds(t.domain)){const O=N3(t);if(O)return O}if(t.domain==="automation"||t.domain==="scene"||t.domain==="script")return Vv;const F=e==="list"?Rv:Ov;return g?{...F,hover:{...F.hover,backgroundColor:"#FFFFFF"}}:{...F,hover:{...F.hover,backgroundColor:"rgba(255, 255, 255, 0.18)"}}};return e==="list"?l(P3,{device:t,isActive:g,cardRef:d,handleClick:R,getItemVariants:N,animateState:m,animationDelay:v,getDisplayState:x,getWeatherArea:_,getWeatherName:k,getNewsArea:w,getNewsName:C,lang:s}):l(I3,{device:t,isActive:g,cardRef:d,handleClick:R,getItemVariants:N,animateState:m,animationDelay:v,renderSensorValue:S,getDisplayState:x,getWeatherArea:_,getWeatherName:k,getNewsArea:w,getNewsName:C,lang:s})});Dg.displayName="DeviceCard";const R3=({searchValue:t,onSend:e,isLoading:n,onSuggestionClick:i,onSubmit:s,lang:r="de"})=>{const[o,a]=E([]),[c,d]=E(!1),u=J(null);J("");const h=J(!1);G(()=>{u.current&&!h.current&&u.current.scrollTo({top:0,behavior:"smooth"})},[o]),G(()=>{s&&s>0&&t&&t.trim()&&f(t)},[s]);const f=v=>{if(!v||!v.trim()||c)return;const _={id:Date.now(),type:"user",content:v.trim(),timestamp:new Date().toISOString()};a(k=>[_,...k]),d(!0),setTimeout(()=>{const k={id:Date.now()+1,type:"assistant",content:p(v),badge:y(v),model:"GPT-4o mini",sources:v.toLowerCase().includes("wetter")?g():null,timestamp:new Date().toISOString()};a(w=>{const C=[...w];return C.splice(1,0,k),C}),d(!1)},1500)},p=v=>{const _=v.toLowerCase();return _.includes("licht")&&_.includes("aus")?"Ich habe alle Lichter im Wohnzimmer ausgeschaltet. Es waren 3 Lichter aktiv.":_.includes("wetter")?`Das aktuelle Wetter in MÃ¼nchen:
â¢ Temperatur: 22Â°C mit teilweise bewÃ¶lkt
â¢ Luftfeuchtigkeit: 65%
â¢ Wind: 15 km/h aus Westen
â¢ Regenwahrscheinlichkeit: 20%`:_.includes("heizung")?"Die Heizung wurde auf 22Â°C eingestellt. Die Ãnderung wird in den nÃ¤chsten 5 Minuten wirksam.":_.includes("zeit")||_.includes("uhr")?`Es ist aktuell ${new Date().toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})} Uhr.`:`Ich habe deine Anfrage "${v}" verstanden und werde dir mit deinem Smart Home helfen.`},y=v=>{const _=v.toLowerCase();return _.includes("wetter")||_.includes("weather")?{type:"web",text:$("aiMode.badges.webSearch",r),icon:"ð"}:_.includes("zeit")||_.includes("uhr")||_.includes("time")?{type:"location",text:$("aiMode.badges.location",r),icon:"ð"}:_.includes("licht")||_.includes("heizung")||_.includes("light")||_.includes("temperature")?{type:"device",text:$("aiMode.badges.deviceControl",r),icon:"ð "}:{type:"assistant",text:$("aiMode.badges.assistant",r),icon:"ð¤"}},g=()=>[{name:"weather.com",url:"#"},{name:"wetter.de",url:"#"},{name:"dwd.de",url:"#"}],m=(v,_)=>{console.log(`Feedback fÃ¼r Nachricht ${v}: ${_?"Positiv":"Negativ"}`)},b=[$("aiMode.suggestions.lightsOff",r),$("aiMode.suggestions.weather",r),$("aiMode.suggestions.temperature",r)];return l("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"0 0 35px 35px",display:"flex",flexDirection:"column",overflow:"hidden"},children:[l("style",{children:`
        .ai-chat-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .ai-chat-scrollbar::-webkit-scrollbar-track {
          background: rgba(255, 255, 255, 0.05);
          border-radius: 3px;
        }
        .ai-chat-scrollbar::-webkit-scrollbar-thumb {
          background: rgba(255, 255, 255, 0.2);
          border-radius: 3px;
        }
        .ai-chat-scrollbar::-webkit-scrollbar-thumb:hover {
          background: rgba(255, 255, 255, 0.3);
        }
        
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes pulse {
          0%, 60%, 100% {
            opacity: 0.5;
            transform: scale(0.8);
          }
          30% {
            opacity: 1;
            transform: scale(1.2);
          }
        }
      `}),o.length===0?l("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px 20px",animation:"fadeIn 0.3s ease"},children:[l("h2",{style:{fontSize:"48px",fontWeight:"600",color:"rgba(255, 255, 255, 0.95)",marginBottom:"16px",letterSpacing:"-1px"},children:$("aiMode.askAnything",r)}),l("p",{style:{fontSize:"18px",color:"rgba(255, 255, 255, 0.5)",marginBottom:"48px"},children:$("aiMode.subtitle",r)}),l("div",{style:{display:"flex",gap:"20px",marginBottom:"48px"},children:[{bg:"linear-gradient(135deg, #03A9F4, #00BCD4)",icon:"ð "},{bg:"linear-gradient(135deg, #10a37f, #1a9870)",icon:"ð¤"},{bg:"linear-gradient(135deg, #FF6B6B, #FF8E53)",icon:"ð¬"}].map((v,_)=>l("div",{style:{width:"72px",height:"72px",borderRadius:"18px",background:v.bg,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"32px",cursor:"pointer",transition:"transform 0.2s ease",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},onMouseEnter:k=>k.currentTarget.style.transform="scale(1.1)",onMouseLeave:k=>k.currentTarget.style.transform="scale(1)",children:v.icon},_))}),l("div",{style:{display:"flex",flexDirection:"column",gap:"12px",width:"100%",maxWidth:"450px"},children:b.map((v,_)=>l("button",{onClick:()=>i&&i(v),style:{padding:"16px 24px",background:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.15)",borderRadius:"12px",color:"rgba(255, 255, 255, 0.85)",fontSize:"15px",cursor:"pointer",transition:"all 0.2s ease",textAlign:"left"},onMouseEnter:k=>{k.currentTarget.style.background="rgba(255, 255, 255, 0.12)",k.currentTarget.style.borderColor="rgba(255, 255, 255, 0.25)",k.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:k=>{k.currentTarget.style.background="rgba(255, 255, 255, 0.08)",k.currentTarget.style.borderColor="rgba(255, 255, 255, 0.15)",k.currentTarget.style.transform="translateY(0)"},children:v},_))})]}):l("div",{ref:u,className:"ai-chat-scrollbar",style:{flex:1,overflowY:"auto",padding:"24px",display:"flex",flexDirection:"column",gap:"24px"},children:[c&&l("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"16px",animation:"fadeIn 0.3s ease"},children:[l("div",{style:{display:"flex",gap:"4px"},children:[0,1,2].map(v=>l("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"rgba(0, 122, 255, 0.6)",animation:"pulse 1.4s ease-in-out infinite",animationDelay:`${v*.2}s`}},v))}),l("span",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"14px"},children:$("aiMode.thinking",r)})]}),o.map(v=>{if(v.type==="user")return l("div",{style:{background:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"14px 18px",color:"rgba(255, 255, 255, 0.7)",fontSize:"15px",lineHeight:"1.5",animation:"fadeIn 0.3s ease"},children:v.content},v.id);if(v.type==="assistant"){const _={web:{bg:"rgba(255, 59, 48, 0.15)",color:"#FF3B30"},location:{bg:"rgba(255, 59, 48, 0.15)",color:"#FF3B30"},device:{bg:"rgba(52, 199, 89, 0.15)",color:"#34C759"},assistant:{bg:"rgba(0, 122, 255, 0.15)",color:"#007AFF"}},k=_[v.badge.type]||_.assistant;return l("div",{style:{display:"flex",flexDirection:"column",gap:"12px",animation:"fadeIn 0.3s ease"},children:[l("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 12px",borderRadius:"8px",fontSize:"13px",fontWeight:"500",background:k.bg,color:k.color},children:[l("span",{children:v.badge.icon}),l("span",{children:v.badge.text})]}),l("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"rgba(52, 199, 89, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",color:"#34C759",fontSize:"14px"},children:"â"})]}),l("div",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"15px",lineHeight:"1.6",whiteSpace:"pre-wrap"},children:v.content}),v.sources&&l("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",paddingTop:"12px",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:v.sources.map((w,C)=>l("a",{href:w.url,style:{display:"flex",alignItems:"center",gap:"6px",padding:"4px 10px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"6px",fontSize:"13px",color:"rgba(255, 255, 255, 0.6)",textDecoration:"none"},children:[l("span",{style:{fontSize:"12px"},children:"ð"}),l("span",{children:w.name}),l("span",{style:{fontSize:"10px",color:"rgba(255, 255, 255, 0.4)"},children:C+1})]},C))}),l("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:"12px",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[l("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px",color:"rgba(255, 255, 255, 0.4)"},children:[l("span",{style:{opacity:.7},children:"â¡"}),l("span",{children:v.model})]}),l("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l("span",{style:{fontSize:"13px",color:"rgba(255, 255, 255, 0.5)"},children:$("aiMode.wasHelpful",r)}),l("button",{onClick:()=>m(v.id,!1),style:{padding:"4px 10px",background:"transparent",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",color:"rgba(255, 255, 255, 0.6)",fontSize:"13px",cursor:"pointer"},onMouseEnter:w=>{w.currentTarget.style.borderColor="rgba(255, 59, 48, 0.5)",w.currentTarget.style.color="#FF3B30"},onMouseLeave:w=>{w.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)",w.currentTarget.style.color="rgba(255, 255, 255, 0.6)"},children:$("aiMode.no",r)}),l("button",{onClick:()=>m(v.id,!0),style:{padding:"4px 10px",background:"transparent",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",color:"rgba(255, 255, 255, 0.6)",fontSize:"13px",cursor:"pointer"},onMouseEnter:w=>{w.currentTarget.style.borderColor="rgba(52, 199, 89, 0.5)",w.currentTarget.style.color="#34C759"},onMouseLeave:w=>{w.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)",w.currentTarget.style.color="rgba(255, 255, 255, 0.6)"},children:$("aiMode.yes",r)})]})]})]},v.id)}return null})]})]})},Rh={devices:()=>l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l("rect",{x:"3",y:"3",width:"7",height:"7"}),l("rect",{x:"14",y:"3",width:"7",height:"7"}),l("rect",{x:"14",y:"14",width:"7",height:"7"}),l("rect",{x:"3",y:"14",width:"7",height:"7"})]}),sensors:()=>l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l("path",{d:"M12 22L12 2",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M20.5715 17.5498L3.42819 7.24904",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M3.42822 17.5498L20.5716 7.24904",strokeLinecap:"round",strokeLinejoin:"round"})]}),actions:()=>l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l("path",{d:"M4.40434 13.6099C3.51517 13.1448 3 12.5924 3 12C3 10.3431 7.02944 9 12 9C16.9706 9 21 10.3431 21 12C21 12.7144 20.2508 13.3705 19 13.8858"}),l("path",{d:"M12 11.01L12.01 10.9989"}),l("path",{d:"M16.8827 6C16.878 4.97702 16.6199 4.25309 16.0856 3.98084C14.6093 3.22864 11.5832 6.20912 9.32664 10.6379C7.07005 15.0667 6.43747 19.2668 7.91374 20.019C8.44117 20.2877 9.16642 20.08 9.98372 19.5"}),l("path",{d:"M9.60092 4.25164C8.94056 3.86579 8.35719 3.75489 7.91369 3.98086C6.43742 4.73306 7.06999 8.93309 9.32658 13.3619C11.5832 17.7907 14.6092 20.7712 16.0855 20.019C17.3977 19.3504 17.0438 15.9577 15.3641 12.1016"})]}),custom:()=>l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l("path",{d:"M21 7.35304L21 16.647C21 16.8649 20.8819 17.0656 20.6914 17.1715L12.2914 21.8381C12.1102 21.9388 11.8898 21.9388 11.7086 21.8381L3.30861 17.1715C3.11814 17.0656 3 16.8649 3 16.647L2.99998 7.35304C2.99998 7.13514 3.11812 6.93437 3.3086 6.82855L11.7086 2.16188C11.8898 2.06121 12.1102 2.06121 12.2914 2.16188L20.6914 6.82855C20.8818 6.93437 21 7.13514 21 7.35304Z"}),l("path",{d:"M20.5 16.7222L12.2914 12.1619C12.1102 12.0612 11.8898 12.0612 11.7086 12.1619L3.5 16.7222"}),l("path",{d:"M3.52844 7.29357L11.7086 11.8381C11.8898 11.9388 12.1102 11.9388 12.2914 11.8381L20.5 7.27777"}),l("path",{d:"M12 21L12 3"})]})},O3=({searchValue:t,fuzzyResults:e,devices:n,activeCategory:i,selectedSubcategory:s,activeSubFilter:r,favorites:o,predictiveSuggestions:a})=>{if(t&&t.trim()!=="")return e||[];if(s==="favorites"){const c=new Set(o);return n.filter(d=>c.has(d.entity_id))}return s==="suggestions"?a?.slice(0,12)||[]:n.filter(c=>{const d=i==="all";if(i==="devices"){if(c.is_system||["settings","marketplace","pluginstore"].includes(c.domain)||["script","automation","scene"].includes(c.domain))return!1;const u=c.domain==="binary_sensor"&&["door","window","opening","lock"].some(g=>c.attributes?.device_class?.includes(g)||c.entity_id?.includes(g)),h=c.domain==="binary_sensor"&&["motion","presence","occupancy"].some(g=>c.attributes?.device_class?.includes(g)||c.entity_id?.includes(g));if(["sensor","binary_sensor"].includes(c.domain)&&!(s==="security"&&(u||h)))return!1;if(s==="all"||!s)return!0;const f={light:"lights",switch:"switches",climate:"climate",fan:"climate",cover:"covers",media_player:"media",vacuum:"cleaning",washing_machine:"cleaning",dishwasher:"cleaning",air_purifier:"cleaning",camera:"security",lock:"security",siren:"security",alert:"security",alarm_control_panel:"security"};if(!["lights","switches","climate","covers","media","cleaning","security"].includes(s))return c.area===s;if(s==="security")return f[c.domain]==="security"||u||h;const y=f[c.domain];return s===y}else if(i==="sensors"){if(!["sensor","binary_sensor"].includes(c.domain))return!1;if(s==="all"||!s)return!0;const u=ba(c);return["temperature","humidity","motion","door_window","presence","light","energy","battery","pressure","security","water","other_sensors"].includes(s)?u===s:c.area===s}else if(i==="actions"){if(!["script","automation","scene"].includes(c.domain))return!1;if(s==="all"||!s)return!0;const u={script:"scripts",automation:"automations",scene:"scenes"};if(!["scripts","automations","scenes"].includes(s))return c.area===s;const f=u[c.domain];return s===f}else if(i==="custom")return c.is_system||["settings","marketplace","pluginstore"].includes(c.domain)?s==="all"||!s?!0:s==="system"?c.attributes?.category==="system"||c.category==="system":s==="apps"?["marketplace","pluginstore"].includes(c.domain)||c.entity_id?.includes("marketplace")||c.entity_id?.includes("pluginstore")||c.entity_id?.includes("plugin_"):!1:!1;return d})},V3=({searchValue:t,fuzzyResults:e,currentLanguage:n})=>{if(!t||!e||e.length===0)return null;const i={},s=$("general.noRoom",n);return e.forEach(o=>{const a=o.area||s;i[a]||(i[a]=[]),i[a].push(o)}),{rooms:Object.keys(i).sort((o,a)=>o===s?1:a===s?-1:o.localeCompare(a,"de")),devicesByRoom:i}},B3=({searchValue:t,filteredDevices:e,selectedSubcategory:n,currentLanguage:i,favorites:s,predictiveSuggestions:r})=>{if(t&&t.trim()!=="")return null;if(n==="suggestions"){const d={},u={frequentlyUsed:$("suggestions.frequentlyUsed",i),contextBased:$("suggestions.contextBased",i),timeBased:$("suggestions.timeBased",i),areaBased:$("suggestions.areaBased",i)};return r?.forEach(p=>{const y=p.suggestionType||"frequentlyUsed",g=u[y]||u.frequentlyUsed;d[g]||(d[g]=[]),d[g].push(p)}),{rooms:[u.timeBased,u.contextBased,u.areaBased,u.frequentlyUsed].filter(p=>d[p]),devicesByRoom:d}}if(n==="favorites"){const d={[$("categories.devices",i)||"GerÃ¤te"]:[],[$("categories.sensors",i)||"Sensoren"]:[],[$("categories.actions",i)||"Aktionen"]:[],[$("categories.custom",i)||"Benutzerdefiniert"]:[]};return e.forEach(h=>{h.is_system||["settings","marketplace","pluginstore"].includes(h.domain)?d[$("categories.custom",i)||"Benutzerdefiniert"].push(h):["script","automation","scene"].includes(h.domain)?d[$("categories.actions",i)||"Aktionen"].push(h):["sensor","binary_sensor"].includes(h.domain)?d[$("categories.sensors",i)||"Sensoren"].push(h):d[$("categories.devices",i)||"GerÃ¤te"].push(h)}),{rooms:Object.keys(d).filter(h=>d[h].length>0),devicesByRoom:d}}const o={},a=$("general.noRoom",i);return e.forEach(d=>{const u=d.area||a;o[u]||(o[u]=[]),o[u].push(d)}),{rooms:Object.keys(o).sort((d,u)=>d===a?1:u===a?-1:d.localeCompare(u,"de")),devicesByRoom:o}},$3=({aiMode:t,showCategories:e,hoveredCategory:n,activeCategory:i,currentLanguage:s})=>t?s==="en"?"Ask a follow-up question...":s==="fr"?"Posez une question de suivi...":s==="es"?"Haz una pregunta de seguimiento...":"Stelle eine Folgefrage...":e&&n?$(`placeholders.search${n.charAt(0).toUpperCase()+n.slice(1)}`,s).replace("...",""):$(`placeholders.search${i.charAt(0).toUpperCase()+i.slice(1)}`,s).replace("...",""),z3=t=>{const{setSearchValue:e,setFuzzySearchTerm:n,aiMode:i,devices:s,setSuggestionText:r,isExpanded:o,setIsExpanded:a,setAnimationKey:c}=t;return d=>{const u=d.target.value;if(e(u),n(u),u.length>=1&&!i){const h=u.toLowerCase(),f=s.filter(p=>(p.name||p.attributes?.friendly_name||p.entity_id||p.id||"").toLowerCase().includes(h));if(f.sort((p,y)=>{const g=(p.name||p.attributes?.friendly_name||"").toLowerCase(),m=(y.name||y.attributes?.friendly_name||"").toLowerCase(),b=g.startsWith(h),v=m.startsWith(h);if(b&&!v)return-1;if(!b&&v)return 1;const _=g.indexOf(h),k=m.indexOf(h);return _!==k?_-k:g.length-m.length}),f.length>0){const p=f[0],y=p.name||p.attributes?.friendly_name||p.entity_id||p.id||"",g=y.toLowerCase(),m=g.indexOf(h);m!==-1?(m===0||g[m-1]===" "||g[m-1]==="_"||g[m-1],r(y)):r("")}else r("");o||(a(!0),c(`expand-${Date.now()}`))}else r("")}},H3=t=>{const{searchValue:e,setAiMode:n,setSuggestionText:i,setIsExpanded:s,setAnimationKey:r,suggestionText:o,setSearchValue:a,setFuzzySearchTerm:c,aiMode:d,setAiSubmitTrigger:u,setAiResponse:h,setIsAiLoading:f}=t;return p=>{if((p.key==="a"||p.key==="A")&&p.altKey&&e){p.preventDefault(),n(!0),i(""),s(!0),r(`back-${Date.now()}`);return}if(p.key==="Tab"&&e){p.preventDefault(),p.stopPropagation(),o&&o.toLowerCase().startsWith(e.toLowerCase())?(a(o),c(o),i("")):d||(n(!0),i(""),s(!0),r(`back-${Date.now()}`));return}else p.key==="ArrowRight"&&o&&e&&!d?o.toLowerCase().startsWith(e.toLowerCase())&&(p.preventDefault(),a(o),c(o),i("")):p.key==="Enter"&&d?(p.preventDefault(),e.trim()&&(u(y=>y+1),setTimeout(()=>{a(""),i(""),c("")},100))):p.key==="Enter"&&!d?(p.preventDefault(),e.trim()&&(n(!0),i(""),s(!0),r(`back-${Date.now()}`),setTimeout(()=>{u(y=>y+1)},100),setTimeout(()=>{a(""),c("")},150))):p.key==="Escape"&&(d?(n(!1),h(""),f(!1)):(a(""),i("")))}},W3=t=>{const{aiMode:e,isExpanded:n,setIsExpanded:i,setAnimationKey:s,setShowCategories:r,searchPanelRef:o}=t;return a=>{e||(a&&(a.stopPropagation(),a.preventDefault()),n||(i(!0),s(`expand-${Date.now()}`),o.current&&(o.current.dataset.animating="true",o.current.dataset.openTime=Date.now().toString())),r(!1))}},j3=t=>{const{setSearchValue:e,setSuggestionText:n,setFuzzySearchTerm:i,aiMode:s,setAiMode:r,setAiResponse:o,setIsAiLoading:a}=t;return()=>{e(""),n(""),i(""),s||(r(!1),o(""),a(!1))}},U3=t=>{const{setIsExpanded:e,setShowCategories:n,showCategories:i,setIsCategoryHovered:s}=t;return()=>{e(!1),n(!i),s(!1)}},G3=t=>{const{activeCategory:e,setShowCategories:n,subcategoryPerCategory:i,setSelectedSubcategory:s,setActiveCategory:r,setIsExpanded:o,setAnimationKey:a}=t;return c=>{if(c===e){n(!1);return}const d=i[c]||"all";s(d),r(c),n(!1),o(!0),a(`category-${c}-${Date.now()}`)}},K3=t=>{const{setIsFilterOpen:e,isFilterOpen:n}=t;return()=>{e(!n)}},Y3=t=>{const{setSelectedSubcategory:e,setSubcategoryPerCategory:n,activeCategory:i,setAnimationKey:s}=t;return r=>{e(r),n(o=>({...o,[i]:r})),s(`${i}-${r}-${Date.now()}`)}},Z3=(t={})=>{const[e,n]=E(!1),[i,s]=E(!1),[r,o]=E(""),[a,c]=E(!1),[d,u]=E("devices"),[h,f]=E(!1),[p,y]=E("grid"),[g,m]=E("categories"),[b,v]=E("all"),[_,k]=E({devices:"all",sensors:"all",actions:"all"}),[w,C]=E(!1),[x,S]=E(!1),[R,N]=E(null);E(null);const F=J(null),O=J(null),T=J(null),H=J(!1),M=J(!1),A=J(!1),L=J(!1),[P,I]=E(""),[V,W]=E(null),[j,q]=E(!1),[U,D]=E(!1),[Y,K]=E(""),[te,qe]=E(!1),[B,ee]=E(0),[X,fe]=E("entity"),[Ee,dt]=E(!1),[Ve,de]=E(t.aiModeEnabled!==!1),[ze,Fe]=E(""),[ut,ht]=E(t.language||localStorage.getItem("userLanguage")||"de");return{isExpanded:e,setIsExpanded:n,isPanelAnimationComplete:i,setIsPanelAnimationComplete:s,searchValue:r,setSearchValue:o,isFilterOpen:a,setIsFilterOpen:c,activeCategory:d,setActiveCategory:u,showCategories:h,setShowCategories:f,activeFilter:p,setActiveFilter:y,activeSubFilter:g,setActiveSubFilter:m,selectedSubcategory:b,setSelectedSubcategory:v,subcategoryPerCategory:_,setSubcategoryPerCategory:k,isMobile:w,setIsMobile:C,showDetail:x,setShowDetail:S,selectedDevice:R,setSelectedDevice:N,containerRef:F,searchPanelRef:O,resultsRef:T,detailViewClosingRef:H,backButtonClickedRef:M,isExpandedRef:A,showDetailRef:L,suggestionText:P,setSuggestionText:I,hoveredCategory:V,setHoveredCategory:W,isCategoryHovered:j,setIsCategoryHovered:q,aiMode:U,setAiMode:D,aiResponse:Y,setAiResponse:K,isAiLoading:te,setIsAiLoading:qe,aiSubmitTrigger:B,setAiSubmitTrigger:ee,searchMode:X,setSearchMode:fe,showAIInterface:Ee,setShowAIInterface:dt,aiModeEnabled:Ve,setAiModeEnabled:de,animationKey:ze,setAnimationKey:Fe,currentLanguage:ut,setCurrentLanguage:ht}},Oh=()=>l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[l("path",{d:"M7 14C5.34315 14 4 15.3431 4 17C4 18.6569 5.34315 20 7 20C7.35064 20 7.68722 19.9398 8 19.8293"}),l("path",{d:"M4.26392 15.6046C2.9243 14.9582 2.00004 13.587 2.00004 12C2.00004 10.7883 2.53877 9.70251 3.38978 8.96898"}),l("path",{d:"M3.42053 8.8882C3.1549 8.49109 3 8.01363 3 7.5C3 6.11929 4.11929 5 5.5 5C6.06291 5 6.58237 5.18604 7.00024 5.5"}),l("path",{d:"M7.23769 5.56533C7.08524 5.24215 7 4.88103 7 4.5C7 3.11929 8.11929 2 9.5 2C10.8807 2 12 3.11929 12 4.5V20"}),l("path",{d:"M8 20C8 21.1046 8.89543 22 10 22C11.1046 22 12 21.1046 12 20"}),l("path",{d:"M12 7C12 8.65685 13.3431 10 15 10"}),l("path",{d:"M17 14C18.6569 14 20 15.3431 20 17C20 18.6569 18.6569 20 17 20C16.6494 20 16.3128 19.9398 16 19.8293"}),l("path",{d:"M19.7361 15.6046C21.0757 14.9582 22 13.587 22 12C22 10.7883 21.4612 9.70251 20.6102 8.96898"}),l("path",{d:"M20.5795 8.8882C20.8451 8.49109 21 8.01363 21 7.5C21 6.11929 19.8807 5 18.5 5C17.9371 5 17.4176 5.18604 16.9998 5.5"}),l("path",{d:"M12 4.5C12 3.11929 13.1193 2 14.5 2C15.8807 2 17 3.11929 17 4.5C17 4.88103 16.9148 5.24215 16.7623 5.56533"}),l("path",{d:"M16 20C16 21.1046 15.1046 22 14 22C12.8954 22 12 21.1046 12 20"})]}),Vh=({className:t})=>l("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l("path",{d:"M15 6L9 12L15 18",strokeLinecap:"round",strokeLinejoin:"round"})}),q3=()=>l("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"rgba(255, 255, 255, 0.7)",strokeWidth:"2",children:[l("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),l("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),X3=()=>l("svg",{viewBox:"0 0 24 24",children:[l("rect",{x:"5",y:"5",width:"5",height:"5"}),l("rect",{x:"14",y:"5",width:"5",height:"5"}),l("rect",{x:"5",y:"14",width:"5",height:"5"}),l("rect",{x:"14",y:"14",width:"5",height:"5"})]}),J3=()=>l("svg",{viewBox:"0 0 24 24",children:[l("path",{d:"M8 6L20 6",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M4 6.01L4.01 5.99889",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M4 12.01L4.01 11.9989",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M4 18.01L4.01 17.9989",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M8 12L20 12",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M8 18L20 18",strokeLinecap:"round",strokeLinejoin:"round"})]}),Q3=()=>l("svg",{viewBox:"0 0 24 24",children:l("path",{d:"M20.777 13.3453L13.4799 21.3721C12.6864 22.245 11.3136 22.245 10.5201 21.3721L3.22304 13.3453C2.52955 12.5825 2.52955 11.4175 3.22304 10.6547L10.5201 2.62787C11.3136 1.755 12.6864 1.755 13.4799 2.62787L20.777 10.6547C21.4705 11.4175 21.4705 12.5825 20.777 13.3453Z",strokeLinecap:"round",strokeLinejoin:"round"})}),eM=()=>l("svg",{viewBox:"0 0 24 24",children:[l("path",{d:"M10 18V15C10 13.8954 10.8954 13 12 13V13C13.1046 13 14 13.8954 14 15V18","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M2 8L11.7317 3.13416C11.9006 3.04971 12.0994 3.0497 12.2683 3.13416L22 8","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M20 11V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19V11","stroke-linecap":"round","stroke-linejoin":"round"})]}),tM=()=>l("svg",{viewBox:"0 0 24 24",children:[l("path",{d:"M3 13C6.6 5 17.4 5 21 13","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 17C10.3431 17 9 15.6569 9 14C9 12.3431 10.3431 11 12 11C13.6569 11 15 12.3431 15 14C15 15.6569 13.6569 17 12 17Z","stroke-linecap":"round","stroke-linejoin":"round"})]}),nM=()=>l("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"rgba(255, 255, 255, 0.8)",strokeWidth:"1.5",children:[l("path",{d:"M3 6H21",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M7 12L17 12",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M11 18L13 18",strokeLinecap:"round",strokeLinejoin:"round"})]}),iM=({isFilterOpen:t,activeFilter:e,activeSubFilter:n,setActiveFilter:i,setActiveSubFilter:s,handleFilterToggle:r})=>l("div",{className:"filter-container",children:[l($e,{children:t&&l(z.div,{className:"filter-groups",variants:Sv,initial:"initial",animate:"animate",exit:"exit",children:[l(z.div,{className:"filter-group",variants:Es,initial:"initial",animate:Es.animate(.1),exit:"exit",children:[l(z.button,{className:`filter-button ${e==="grid"?"active":""}`,onClick:()=>i("grid"),title:"Grid-Ansicht",whileHover:Mt.hover,whileTap:Mt.tap,animate:e==="grid"?"active":"inactive",variants:pi,children:l(X3,{})}),l(z.button,{className:`filter-button ${e==="list"?"active":""}`,onClick:()=>i("list"),title:"Listen-Ansicht",whileHover:Mt.hover,whileTap:Mt.tap,animate:e==="list"?"active":"inactive",variants:pi,children:l(J3,{})})]}),l(z.div,{className:"filter-group",variants:Es,initial:"initial",animate:Es.animate(.2),exit:"exit",children:[l(z.button,{className:`filter-button ${n==="categories"?"active":""}`,onClick:()=>s("categories"),title:"Kategorien",whileHover:Mt.hover,whileTap:Mt.tap,animate:n==="categories"?"active":"inactive",variants:pi,children:l(Q3,{})}),l(z.button,{className:`filter-button ${n==="areas"?"active":""}`,onClick:()=>s("areas"),title:"RÃ¤ume",whileHover:Mt.hover,whileTap:Mt.tap,animate:n==="areas"?"active":"inactive",variants:pi,children:l(eM,{})}),l(z.button,{className:`filter-button ${n==="types"?"active":""}`,onClick:()=>s("types"),title:"Typen",whileHover:Mt.hover,whileTap:Mt.tap,animate:n==="types"?"active":"inactive",variants:pi,children:l(tM,{})})]})]})}),l(z.button,{className:`filter-main-button${t?" active":""}`,variants:_v,initial:"inactive",animate:t?"active":"inactive",onClick:r,whileHover:"hover",whileTap:"tap",children:l(nM,{})})]}),Bh=({groupedData:t,isEmpty:e=!1,searchValue:n="",activeFilter:i,setSelectedDevice:s,setShowDetail:r,isExpanded:o,setIsExpanded:a,setAnimationKey:c,recordUserAction:d,currentLanguage:u,animationKey:h,isPanelAnimationComplete:f})=>{if(e)return l("div",{className:"grouped-search-results",children:l("div",{className:"empty-state",children:[l("div",{style:{fontSize:"32px",opacity:.5},children:"ð"}),l("h3",{style:{fontSize:"16px",fontWeight:600,color:"var(--text-primary)",margin:0},children:$("search.noResults",u,{term:n})}),l("p",{style:{fontSize:"13px",opacity:.7,margin:0},children:$("search.tryDifferent",u)})]})});if(!t||!t.rooms)return null;const p=y=>{console.log("ð¯ GroupedDeviceList onClick:",{entity_id:y.entity_id,domain:y.domain,is_system:y.is_system,is_plugin:y.is_plugin,fullDevice:y}),s(y),r(!0),o||(a(!0),c(`back-${Date.now()}`)),d&&typeof d=="function"&&d("device_click",y.entity_id||y.id)};return l("div",{className:"grouped-search-results",children:t.rooms.map((y,g)=>{const m=t.devicesByRoom[y],b=t.rooms.map(v=>t.devicesByRoom[v].length);return l("div",{className:"search-group",children:[l("h3",{className:"search-group-title",children:y}),l("div",{className:`${i==="list"?"device-list-container":"device-grid-container"}`,children:m.map((v,_)=>l(Dg,{device:v,viewMode:i,onClick:()=>p(v),index:_,lang:u,animationKey:h,roomIndex:g,itemsPerRoom:b,isPanelAnimationComplete:f},v.id))})]},y)})})},sM=({aiMode:t,searchValue:e,suggestionText:n,showCategories:i,hoveredCategory:s,activeCategory:r,currentLanguage:o,isExpanded:a,isFilterOpen:c,aiModeEnabled:d,categoryIcons:u,setAiMode:h,setAiResponse:f,setIsAiLoading:p,setIsExpanded:y,setIsCategoryHovered:g,setSuggestionText:m,setAnimationKey:b,handleSearchInput:v,handleKeyDown:_,handleSearchFocus:k,handleClear:w,handleCategoryClick:C})=>{const x=F=>{h(!1),f(""),p(!1),y(!1),g(!1),setTimeout(()=>{g(!1)},10)},S=F=>{C(),g(!1),setTimeout(()=>{g(!1)},10)},R=F=>{F.stopPropagation(),console.log("ð¢ AI-Mode Button clicked"),y(!0),h(!0),m(""),b(`ai-mode-${Date.now()}`)},N=F=>{F.stopPropagation(),F.preventDefault(),!a&&!t&&(y(!0),b(`expand-${Date.now()}`))};return l(ae,{children:[l("div",{className:`category-icon ${t?"ai-active":""}`,onClick:t?x:S,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),title:t?"AI-Modus beenden":"",children:t?l(ae,{children:[l("div",{className:"default-icon",children:l(Oh,{})}),l(Vh,{className:"chevron-icon"})]}):l(ae,{children:[l("div",{className:"default-icon",children:i&&s?u[s]():u[r]()}),l(Vh,{className:"chevron-icon"})]})}),l("div",{className:"search-input-container",children:[l("input",{type:"text",className:"search-suggestion",value:n,readOnly:!0,tabIndex:"-1","aria-hidden":"true"}),l("input",{type:"text",className:"search-input",placeholder:$3({aiMode:t,showCategories:i,hoveredCategory:s,activeCategory:r,currentLanguage:o}),value:e,onChange:v,onKeyDown:_,onFocus:k,onClick:N})]}),l($e,{children:e&&l(z.button,{className:"clear-button",onClick:w,variants:Ts,initial:"initial",animate:{...Ts.animate,x:c?-260:0},exit:"exit",whileHover:Id.hover,whileTap:Id.tap,children:l(q3,{})})}),l($e,{children:e&&!t&&d&&l(z.button,{className:"ai-mode-button",onClick:R,title:"AI-Modus aktivieren",variants:Ts,initial:"initial",animate:{...Ts.animate,x:c?-260:0},exit:"exit",whileHover:Nd.hover,whileTap:Nd.tap,children:l(Oh,{})})})]})},rM=({handleGenerateTestData:t,predictiveSuggestions:e})=>window.location.hostname!=="localhost"?null:l("div",{style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9999,display:"flex",gap:"10px",flexDirection:"column",alignItems:"flex-end"},children:[l("button",{onClick:t,style:{padding:"10px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"20px",cursor:"pointer",fontSize:"14px",fontWeight:"600",boxShadow:"0 4px 15px rgba(0,0,0,0.2)"},children:"ð§ª Generate Test Patterns"}),l("div",{style:{padding:"10px",background:"rgba(0,0,0,0.8)",color:"white",borderRadius:"10px",fontSize:"12px"},children:[l("div",{children:["Predictive Suggestions: ",e.length]}),l("div",{style:{fontSize:"10px",opacity:.7},children:"Refresh in 5min or click button"})]})]}),oM=({showCategories:t,categoryIcons:e,activeCategory:n,handleCategorySelect:i,setHoveredCategory:s})=>l($e,{children:t&&l(z.div,{className:"category-buttons-container",variants:Mv,initial:"hidden",animate:"visible",exit:"hidden",children:l("div",{className:"category-buttons",children:Object.entries(e).map(([r,o])=>l(z.button,{className:`category-button glass-panel ${n===r?"active":""}`,onClick:()=>i(r),onMouseEnter:()=>s(r),onMouseLeave:()=>s(null),title:r.charAt(0).toUpperCase()+r.slice(1),variants:wv,whileHover:Pd.hover,whileTap:Pd.tap,animate:kv(n===r),children:o()},r))})})}),aM=({aiMode:t,isExpanded:e,centralPanelVariants:n,searchValue:i,sendToAI:s,aiResponse:r,isAiLoading:o,handleAISuggestionClick:a,searchPanelRef:c,aiSubmitTrigger:d,currentLanguage:u})=>l($e,{children:t&&l(z.div,{initial:"collapsed",animate:e?"expanded":"collapsed",exit:"collapsed",variants:n,style:{position:"absolute",top:"72px",left:0,right:0,zIndex:1e3,pointerEvents:"auto",overflow:"hidden"},children:l(R3,{searchValue:i,onSend:s,response:r,isLoading:o,onSuggestionClick:a,containerBounds:c.current?c.current.getBoundingClientRect():null,onSubmit:d,lang:u})})}),lM=({showDetail:t,selectedDevice:e,setShowDetail:n,setAnimationKey:i,toggleFavorite:s,recordUserAction:r,favorites:o,currentLanguage:a,initialTab:c,devices:d,setSelectedDevice:u,setInitialTab:h,hass:f})=>{const p=()=>{n(!1),i(`back-${Date.now()}`)},y=m=>{s(m),r("toggle_favorite",m)},g=(m,b)=>{console.log("[SearchField] onActionNavigate received:",m,"Params:",b);let v=null;if(typeof m=="string"){if(console.log(`[SearchField] Finding device by ID: ${m}`),v=d.find(k=>k.entity_id===m||k.id===m),!v){console.error(`[SearchField] Could not find device with ID: ${m}`);return}}else typeof m=="object"&&m!==null&&(console.log("[SearchField] Received device/action object:",m),m.type&&["scene","script","automation"].includes(m.type)?v={id:m.id,entity_id:m.id,domain:m.type,name:m.name,area:m.area,state:"ready",attributes:{friendly_name:m.name,icon:m.icon}}:v={id:m.entity_id||m.id,entity_id:m.entity_id,domain:m.domain,name:m.attributes?.friendly_name||m.name,area:m.area,state:m.state,attributes:m.attributes});if(!v){console.error("[SearchField] Could not determine target device from:",m);return}const _=b?.openTab||null;console.log(`[SearchField] Setting device: ${v.name}, initial tab: ${_}`),u(v),h(_),t||n(!0),r("navigation",{target:v.entity_id||v.id,initialTab:_})};return t?l("div",{className:"detail-panel-wrapper",children:l(yS,{item:{entity_id:e?.id||e?.entity_id,id:e?.id,domain:e?.domain,name:e?.name,area:e?.area,state:e?.state,attributes:e?.attributes||{friendly_name:e?.name}},isVisible:t,onBack:p,onToggleFavorite:y,isFavorite:o.has(e?.entity_id)||o.has(e?.id),lang:a,initialTabName:c,onActionNavigate:g,hass:f})}):null},cM=()=>{const{isInitialized:t,isLoading:e,recordUserAction:n,generateTestPatterns:i}=St(),[s]=Tl(),[r,o]=o5(),[a,c]=ap(),[d,u,h]=l5(),[f]=a5(),p=s||[],y=Z3(a),{isExpanded:g,setIsExpanded:m,isPanelAnimationComplete:b,setIsPanelAnimationComplete:v,searchValue:_,setSearchValue:k,isFilterOpen:w,setIsFilterOpen:C,activeCategory:x,setActiveCategory:S,showCategories:R,setShowCategories:N,activeFilter:F,setActiveFilter:O,activeSubFilter:T,setActiveSubFilter:H,selectedSubcategory:M,setSelectedSubcategory:A,subcategoryPerCategory:L,setSubcategoryPerCategory:P,setIsMobile:I,showDetail:V,setShowDetail:W,initialTab:j,setInitialTab:q,selectedDevice:U,setSelectedDevice:D,containerRef:Y,searchPanelRef:K,resultsRef:te,isExpandedRef:qe,showDetailRef:B,suggestionText:ee,setSuggestionText:X,hoveredCategory:fe,setHoveredCategory:Ee,setIsCategoryHovered:dt,aiMode:Ve,setAiMode:de,aiResponse:ze,setAiResponse:Fe,isAiLoading:ut,setIsAiLoading:ht,aiSubmitTrigger:ui,setAiSubmitTrigger:pn,aiModeEnabled:Qr,setAiModeEnabled:eo,animationKey:ne,setAnimationKey:re,currentLanguage:be,setCurrentLanguage:Ue}=y,{setSearchTerm:pe,results:Rt,getSuggestions:Vg}=i3(p);Vg(_,5);const Bg=z3({setSearchValue:k,setFuzzySearchTerm:pe,aiMode:Ve,devices:p,setSuggestionText:X,isExpanded:g,setIsExpanded:m,setAnimationKey:re}),$g=H3({searchValue:_,setAiMode:de,setSuggestionText:X,setIsExpanded:m,setAnimationKey:re,suggestionText:ee,setSearchValue:k,setFuzzySearchTerm:pe,aiMode:Ve,setAiSubmitTrigger:pn,setAiResponse:Fe,setIsAiLoading:ht}),zg=W3({aiMode:Ve,isExpanded:g,setIsExpanded:m,setAnimationKey:re,setShowCategories:N,searchPanelRef:K}),Hg=j3({setSearchValue:k,setSuggestionText:X,setFuzzySearchTerm:pe,aiMode:Ve,setAiMode:de,setAiResponse:Fe,setIsAiLoading:ht}),Wg=U3({setIsExpanded:m,setShowCategories:N,showCategories:R,setIsCategoryHovered:dt}),jg=G3({activeCategory:x,setShowCategories:N,subcategoryPerCategory:L,setSelectedSubcategory:A,setActiveCategory:S,setIsExpanded:m,setAnimationKey:re}),Ug=K3({setIsFilterOpen:C,isFilterOpen:w}),Gg=Y3({setSelectedSubcategory:A,setSubcategoryPerCategory:P,activeCategory:x,setAnimationKey:re});G(()=>{const me=L[x]||"all";A(me)},[x]),G(()=>{const me=()=>{I(window.innerWidth<=768)};return me(),window.addEventListener("resize",me),()=>window.removeEventListener("resize",me)},[]),G(()=>{if(ne){const me=setTimeout(()=>{re("")},3e3);return()=>clearTimeout(me)}},[ne]);const Kg=async()=>{window.location.hostname==="localhost"&&(await i(),await h())};G(()=>{const me=ft=>{eo(ft.detail.enabled),c("aiModeEnabled",ft.detail.enabled)};return window.addEventListener("aiModeSettingChanged",me),()=>{window.removeEventListener("aiModeSettingChanged",me)}},[c]),G(()=>{qe.current=g,B.current=V},[g,V]),G(()=>{Ve&&!g&&(console.log("ð§ AI-Mode ist aktiv aber Panel nicht expanded - fixe das!"),m(!0))},[Ve,g]),G(()=>{const me=ft=>{Ue(ft.detail.language),c("language",ft.detail.language)};return window.addEventListener("languageChanged",me),()=>{window.removeEventListener("languageChanged",me)}},[c]),G(()=>{const me=ft=>{if(B.current||!qe.current)return;const to=ft.composedPath();Y.current&&!to.includes(Y.current)&&m(!1)};return document.addEventListener("click",me,!0),()=>{document.removeEventListener("click",me,!0)}},[]);const Yg=async me=>{ht(!0),setTimeout(()=>{const ft=["Ich habe alle Lichter im Wohnzimmer ausgeschaltet. Es waren 3 Lichter aktiv.","Die Temperatur im Schlafzimmer betrÃ¤gt aktuell 21Â°C. Die Heizung ist auf 22Â°C eingestellt.",`Ich habe eine neue Szene "${me}" erstellt mit gedimmtem Licht und entspannter AtmosphÃ¤re.`,"Folgende GerÃ¤te verbrauchen aktuell Strom: KÃ¼hlschrank (85W), TV Wohnzimmer (120W), Router (15W).","Die HaustÃ¼r ist seit 15:30 Uhr verschlossen. Alle Fenster sind ebenfalls geschlossen."],to=ft[Math.floor(Math.random()*ft.length)];Fe(to),ht(!1)},1500)},Zg=me=>{k(me),setTimeout(()=>{pn(ft=>ft+1)},50)},hi=Le(()=>O3({searchValue:_,fuzzyResults:Rt,devices:p,activeCategory:x,selectedSubcategory:M,activeSubFilter:T,favorites:r,predictiveSuggestions:d}),[_,Rt,p,x,M,T,r,d]),Yl=Le(()=>V3({searchValue:_,fuzzyResults:Rt,currentLanguage:be}),[_,Rt,be]),ks=Le(()=>B3({searchValue:_,filteredDevices:hi,selectedSubcategory:M,currentLanguage:be,favorites:r,predictiveSuggestions:d}),[_,hi,M,be,r,d]);return G(()=>{window.DEBUG_groupedFilteredDevices=ks,window.DEBUG_filteredDevices=hi,window.DEBUG_activeCategory=x,window.DEBUG_selectedSubcategory=M,window.DEBUG_isExpanded=g,window.DEBUG_showDetail=V,console.log("ð STATE UPDATE:",{groupedFilteredDevices:ks?.rooms?.length||0,filteredDevicesCount:hi?.length||0,activeCategory:x,selectedSubcategory:M,isExpanded:g,showDetail:V,searchValue:_})},[ks,hi,x,M,g,V,_]),Le(()=>!r||r.size===0?[]:p.filter(me=>r.has(me.entity_id)||r.has(me.id)),[r,p]),!t&&p.length===0?l("div",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:l("div",{className:"glass-panel",style:{padding:"20px 40px",borderRadius:"35px",background:"radial-gradient(circle at 50% 0%, rgba(255, 255, 255, 0.25), rgba(255, 255, 255, 0.15) 70%), rgba(40, 40, 40, 0.85)",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.15)",color:"rgba(255, 255, 255, 0.7)",fontSize:"16px"},children:e?l("span",{children:["â³ ",$("general.loading",be)||"Lade GerÃ¤te..."]}):l("span",{children:["ð ",$("general.initializing",be)||"Initialisiere..."]})})}):l("div",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',background:window.location.hostname==="localhost"?"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)":"transparent",minHeight:window.location.hostname==="localhost"?"100vh":"auto",padding:window.location.hostname==="localhost"?"40px 20px":"0"},children:l("div",{className:"main-container",ref:Y,children:[l(rM,{handleGenerateTestData:Kg,predictiveSuggestions:d}),l("div",{className:"search-row",children:[l("div",{className:`search-panel glass-panel ${V?"hidden":""} ${Ve?"ai-mode":""}`,ref:K,children:[l("div",{className:"search-wrapper",children:[l(sM,{aiMode:Ve,searchValue:_,suggestionText:ee,showCategories:R,hoveredCategory:fe,activeCategory:x,currentLanguage:be,isExpanded:g,isFilterOpen:w,aiModeEnabled:Qr,categoryIcons:Rh,setAiMode:de,setAiResponse:Fe,setIsAiLoading:ht,setIsExpanded:m,setIsCategoryHovered:dt,setSuggestionText:X,setAnimationKey:re,handleSearchInput:Bg,handleKeyDown:$g,handleSearchFocus:zg,handleClear:Hg,handleCategoryClick:Wg}),!Ve&&l(iM,{isFilterOpen:w,activeFilter:F,activeSubFilter:T,setActiveFilter:O,setActiveSubFilter:H,handleFilterToggle:Ug})]}),l(aM,{aiMode:Ve,isExpanded:g,centralPanelVariants:Fd,searchValue:_,sendToAI:Yg,aiResponse:ze,isAiLoading:ut,handleAISuggestionClick:Zg,searchPanelRef:K,aiSubmitTrigger:ui,currentLanguage:be}),l(z.div,{ref:te,className:"results-container",initial:"collapsed",animate:g?"expanded":"collapsed",variants:Fd,onAnimationComplete:()=>{v(!!g)},style:{display:Ve?"none":g?"block":"none"},children:l(ae,{children:[g&&!_&&l("div",{style:{marginBottom:"16px"},children:[" ",l(zv,{activeCategory:x,items:p.filter(me=>x==="devices"?!["script","automation","scene","sensor","binary_sensor","settings","marketplace"].includes(me.domain):x==="sensors"?["sensor","binary_sensor"].includes(me.domain):x==="actions"?["script","automation","scene"].includes(me.domain):x==="custom"?["settings","marketplace"].includes(me.domain):!1).map(me=>({...me,isFavorite:r.has(me.entity_id)||r.has(me.id)})),mode:T==="areas"?"areas":"categories",onSubcategoryChange:Gg,lang:be,activeSubcategory:M,suggestions:d,hasSuggestions:d.length>0})]}),_&&Yl?l(Bh,{groupedData:Yl,isEmpty:Rt.length===0,searchValue:_,activeFilter:F,setSelectedDevice:D,setShowDetail:W,isExpanded:g,setIsExpanded:m,setAnimationKey:re,recordUserAction:n,currentLanguage:be,animationKey:ne,isPanelAnimationComplete:b}):_?null:l(Bh,{groupedData:ks,activeFilter:F,setSelectedDevice:D,setShowDetail:W,isExpanded:g,setIsExpanded:m,setAnimationKey:re,recordUserAction:n,currentLanguage:be,animationKey:ne,isPanelAnimationComplete:b})]})})]}),l(oM,{showCategories:R,categoryIcons:Rh,activeCategory:x,handleCategorySelect:jg,setHoveredCategory:Ee}),l(lM,{showDetail:V,selectedDevice:U,setShowDetail:W,setAnimationKey:re,toggleFavorite:o,recordUserAction:n,favorites:r,currentLanguage:be,initialTab:j,devices:p,setSelectedDevice:D,setInitialTab:q,hass:f})]})]})})},dM=typeof window<"u"&&window.location?.hostname==="localhost";let wr=[];dM?(wr=[{entity_id:"light.test_device",domain:"light",name:"Test Light",area:"Test Room",state:"on",attributes:{brightness:180,friendly_name:"Test Light",supported_features:1},last_changed:new Date().toISOString(),last_updated:new Date().toISOString()}],console.log("[MockDevices] Development mode - loaded mock data")):console.log("[MockDevices] Production mode - no mock data");const uM=()=>{const{db:t,isInitialized:e}=St();G(()=>{e&&n()},[e]);const n=async()=>{try{const s=(await t.getAll("entities")).some(r=>r.entity_id==="light.test_device");if(!s&&wr.length>0){console.log(`[MockDataMigration] Adding ${wr.length} mock devices...`);for(const r of wr)await t.put("entities",{...r,entity_id:r.entity_id||r.id});console.log("[MockDataMigration] Mock devices added successfully!"),window.location.reload()}else console.log(s?"[MockDataMigration] Mock device already exists":"[MockDataMigration] No mock devices to add")}catch(i){console.error("[MockDataMigration] Error migrating mock data:",i)}};return null};function ja({hass:t,config:e}){const n=!t&&window.location.hostname==="localhost";return l(r5,{hass:t,config:e,children:[n&&l(uM,{}),l("div",{style:{position:"relative",width:"100%",background:"transparent"},children:l(cM,{})})]})}document.getElementById("app")&&or(l(ja,{}),document.getElementById("app"));typeof window<"u"&&(window.FastSearchCardApp={mount:function(t,e,n){console.log("[FastSearchCardApp] Mounting Preact app..."),t.innerHTML="";const i=document.createElement("div");i.id="fast-search-card-root",i.style.width="100%",i.style.height="672px",i.style.minHeight="672px",t.appendChild(i),t.__fastSearchCardRoot=i,or(l(ja,{hass:e,config:n}),i),console.log("[FastSearchCardApp] Preact app mounted")},updateHass:function(t,e){console.log("[FastSearchCardApp] Updating HASS...");const n=t.__fastSearchCardRoot;n?or(l(ja,{hass:e,config:t.__config}),n):console.warn("[FastSearchCardApp] No root element found for update")},unmount:function(t){console.log("[FastSearchCardApp] Unmounting...");const e=t.__fastSearchCardRoot;e&&(or(null,e),t.removeChild(e),delete t.__fastSearchCardRoot,delete t.__config),console.log("[FastSearchCardApp] Unmounted")}},console.log("[FastSearchCardApp] Interface registered globally"));class Fg extends it{constructor(){super({id:"settings",domain:"settings",name:"Einstellungen",icon:"mdi:cog",brandColor:"rgb(0, 145, 255)",category:"system",description:"Konfiguriere deine Fast Search Card",relevance:100,attributes:{sections:["general","appearance","privacy","about"],version:"1.2.0",buildDate:"2025.10.22"},permissions:["settings:read","settings:write","storage:manage","plugins:manage"],routes:{general:"/settings/general",appearance:"/settings/appearance",privacy:"/settings/privacy",about:"/settings/about",excludedPatterns:"/settings/privacy/excluded-patterns"},actions:{getSetting:async function(e){const{key:n}=e,i=this.getStorage();return i?await i.get(n):localStorage.getItem(n)},setSetting:async function(e){const{key:n,value:i}=e,s=this.getStorage();if(!s){localStorage.setItem(n,i);return}await s.set(n,i),window.dispatchEvent(new CustomEvent("settingChanged",{detail:{key:n,value:i}}))},getAllSettings:async function(){return{darkMode:localStorage.getItem("darkMode")||"auto",language:localStorage.getItem("userLanguage")||"de",aiModeEnabled:localStorage.getItem("aiModeEnabled")!=="false",notifications:localStorage.getItem("notificationsEnabled")!=="false",soundEffects:localStorage.getItem("soundEffects")!=="false",animations:localStorage.getItem("animations")!=="false",excludedPatterns:(()=>{try{const n=localStorage.getItem("excludedPatterns");return n?JSON.parse(n):[]}catch{return[]}})(),version:this.attributes.version,buildDate:this.attributes.buildDate}},resetSettings:async function(e){const{section:n}=e;n==="all"?(["darkMode","userLanguage","aiModeEnabled","notificationsEnabled","soundEffects","animations","excludedPatterns"].forEach(s=>{localStorage.removeItem(s)}),console.log("â All settings reset to defaults")):console.log(`â Reset settings for section: ${n}`),window.dispatchEvent(new CustomEvent("settingsReset",{detail:{section:n}}))},addExcludedPattern:async function(e){const{pattern:n}=e;try{const i=localStorage.getItem("excludedPatterns"),s=i?JSON.parse(i):[];s.includes(n)||(s.push(n),localStorage.setItem("excludedPatterns",JSON.stringify(s)),console.log(`â Added excluded pattern: ${n}`))}catch(i){throw console.error("Failed to add excluded pattern:",i),i}},removeExcludedPattern:async function(e){const{pattern:n}=e;try{const i=localStorage.getItem("excludedPatterns"),s=i?JSON.parse(i):[],r=s.indexOf(n);r>-1&&(s.splice(r,1),localStorage.setItem("excludedPatterns",JSON.stringify(s)),console.log(`â Removed excluded pattern: ${n}`))}catch(i){throw console.error("Failed to remove excluded pattern:",i),i}}},hasTabs:!0,hasCustomView:!1,showInDetailView:!0,viewComponent:()=>Ge(()=>Promise.resolve().then(()=>yM),void 0)})}async onMount(e){await super.onMount(e),console.log("âï¸ Settings Entity mounted with special initialization"),!localStorage.getItem("fastSearchCardInitialized")&&await this._initializeDefaults(),await this._checkVersionAndMigrate()}async _initializeDefaults(){console.log("ð First use detected, initializing defaults...");const e={darkMode:"auto",userLanguage:navigator.language.split("-")[0]||"de",aiModeEnabled:"true",notificationsEnabled:"true",soundEffects:"true",animations:"true",excludedPatterns:JSON.stringify([".*_battery_level$",".*_rssi$",".*_linkquality$"])};Object.entries(e).forEach(([n,i])=>{localStorage.getItem(n)||localStorage.setItem(n,i)}),localStorage.setItem("fastSearchCardInitialized","true"),localStorage.setItem("fastSearchCardVersion",this.attributes.version)}async _checkVersionAndMigrate(){const e=localStorage.getItem("fastSearchCardVersion"),n=this.attributes.version;e!==n&&(console.log(`ð Version change detected: ${e} â ${n}`),localStorage.setItem("fastSearchCardVersion",n))}}const $h=new Fg,zh=Object.freeze(Object.defineProperty({__proto__:null,SettingsEntity:Fg,default:$h,settingsEntity:$h},Symbol.toStringTag,{value:"Module"}));class Ng extends it{constructor(){super({id:"marketplace",domain:"marketplace",name:"Marketplace",icon:"mdi:shopping",brandColor:"rgb(48, 209, 88)",category:"apps",description:"Entdecke neue Integrationen und Add-ons",relevance:95,attributes:{sections:["browse","installed","updates","hacs"],addon_count:0,installed_count:0,updates_available:0,categories:["integration","addon","frontend","automation","theme","appdaemon","netdaemon","python_script"]},permissions:["marketplace:browse","marketplace:install","addons:manage","hacs:manage"],routes:{browse:"/marketplace/browse",installed:"/marketplace/installed",updates:"/marketplace/updates",hacs:"/marketplace/hacs",store:"/marketplace/store"},actions:{loadAddons:async function(e){const{hass:n}=e||{};if(!n)return console.warn("No HASS instance available"),this._getMockAddons();try{return(await n.callWS({type:"supervisor/api",endpoint:"/store",method:"get"})).addons||[]}catch(i){return console.warn("Failed to load addons from supervisor:",i),this._getMockAddons()}},loadInstalledAddons:async function(e){const{hass:n}=e||{};if(!n)return this._getMockInstalledAddons();try{return(await n.callWS({type:"supervisor/api",endpoint:"/addons",method:"get"})).addons||[]}catch(i){return console.warn("Failed to load installed addons:",i),this._getMockInstalledAddons()}},loadHACSRepositories:async function(e){const{hass:n}=e||{};if(!n)return this._getMockHACSRepos();try{return await n.callService("hacs","get_repositories")||[]}catch(i){return console.warn("HACS not installed or not accessible:",i),this._getMockHACSRepos()}},installAddon:async function(e){const{hass:n,addon_slug:i}=e;if(!n||!i)return console.error("Missing required parameters for addon installation"),!1;try{return await n.callWS({type:"supervisor/api",endpoint:`/addons/${i}/install`,method:"post"}),console.log(`â Addon ${i} installation started`),!0}catch(s){return console.error("Failed to install addon:",s),!1}},uninstallAddon:async function(e){const{hass:n,addon_slug:i}=e;if(!n||!i)return!1;try{return await n.callWS({type:"supervisor/api",endpoint:`/addons/${i}/uninstall`,method:"post"}),!0}catch(s){return console.error("Failed to uninstall addon:",s),!1}},checkForUpdates:async function(e){const{hass:n}=e||{};if(!n)return{updates:[],count:0};try{const i=await n.callWS({type:"supervisor/api",endpoint:"/supervisor/info",method:"get"}),s=[];return i.addons&&i.addons.forEach(r=>{r.update_available&&s.push({type:"addon",name:r.name,current_version:r.version,available_version:r.version_latest,slug:r.slug})}),this.updateAttributes({updates_available:s.length}),{updates:s,count:s.length}}catch(i){return console.error("Failed to check for updates:",i),{updates:[],count:0}}},_getMockAddons:function(){return[{slug:"core_ssh",name:"Terminal & SSH",description:"Allow logging in remotely to using SSH",version:"9.6.1",installed:!1,icon:"mdi:console",repository:"core",rating:4.8},{slug:"core_samba",name:"Samba share",description:"Expose your config folder with SMB/CIFS",version:"10.0.0",installed:!0,icon:"mdi:folder-network",repository:"core",rating:4.5},{slug:"a0d7b954_nodered",name:"Node-RED",description:"Flow-based programming for the Internet of Things",version:"14.0.0",installed:!1,icon:"mdi:sitemap",repository:"community",rating:4.9},{slug:"a0d7b954_grafana",name:"Grafana",description:"The open platform for beautiful analytics and monitoring",version:"8.2.2",installed:!1,icon:"mdi:chart-line",repository:"community",rating:4.7}]},_getMockInstalledAddons:function(){return[{slug:"core_samba",name:"Samba share",version:"10.0.0",state:"started",update_available:!1},{slug:"core_mosquitto",name:"Mosquitto broker",version:"6.1.3",state:"started",update_available:!0,version_latest:"6.2.0"}]},_getMockHACSRepos:function(){return[{id:"hacs/integration",name:"HACS",category:"integration",installed:!0,pending_upgrade:!1},{id:"kalkih/mini-graph-card",name:"Mini Graph Card",category:"frontend",installed:!0,pending_upgrade:!0},{id:"thomasloven/lovelace-card-mod",name:"Card-mod",category:"frontend",installed:!1,stars:850}]}},hasTabs:!1,hasCustomView:!0,showInDetailView:!0,viewComponent:()=>Ge(()=>Promise.resolve().then(()=>vM),void 0)})}async onMount(e){if(await super.onMount(e),console.log("ðï¸ Marketplace Entity mounted"),e.hass)try{const n=await this.executeAction("loadAddons",{hass:e.hass}),i=await this.executeAction("loadInstalledAddons",{hass:e.hass});this.updateAttributes({addon_count:n.length,installed_count:i.length}),this.executeAction("checkForUpdates",{hass:e.hass})}catch(n){console.warn("Failed to load initial marketplace data:",n)}}}const Hh=new Ng,Wh=Object.freeze(Object.defineProperty({__proto__:null,MarketplaceEntity:Ng,default:Hh,marketplaceEntity:Hh},Symbol.toStringTag,{value:"Module"}));class hM{constructor(){this.loadedModules=new Map,this.loadingPromises=new Map}async loadFromPath(e){if(this.loadedModules.has(e))return this.loadedModules.get(e);if(this.loadingPromises.has(e))return this.loadingPromises.get(e);const n=this._loadModule(e);this.loadingPromises.set(e,n);try{const i=await n;return this.loadedModules.set(e,i),this.loadingPromises.delete(e),i}catch(i){throw this.loadingPromises.delete(e),i}}async _loadModule(e){try{console.log(`ð¦ Loading entity from: ${e}`);const n=await import(e);let i=n.default||n.entity||n;return typeof i=="function"&&!(i.prototype instanceof it)&&(i=i()),i instanceof it||(i=new it(i)),we.register(i),console.log(`â Loaded entity: ${i.id}`),i}catch(n){throw console.error(`â Failed to load entity from ${e}:`,n),n}}async loadPluginFromURL(e){try{console.log(`ð Loading plugin from URL: ${e}`);let n=null;const i=e.replace(/\.js$/,".manifest.json");try{const o=await fetch(i);o.ok&&(n=await o.json())}catch{console.warn("No separate manifest found, will try to extract from plugin")}const s=await import(e),r=s.default||s;return n||(n=r.manifest||s.manifest),n||(n={id:`plugin-${Date.now()}`,name:"Unknown Plugin",version:"0.0.0",system_entity:{domain:`plugin${Date.now()}`,icon:"mdi:puzzle"},files:{main:e.split("/").pop()}}),this.validateManifest(n)||console.warn("Invalid manifest, using with defaults"),we.registerPlugin(r,n),console.log(`â Loaded plugin: ${n.id} v${n.version}`),{plugin:r,manifest:n}}catch(n){throw console.error("â Failed to load plugin from URL:",n),n}}async loadPluginFromGitHub(e,n="dist/bundle.js",i="main"){const s=`https://cdn.jsdelivr.net/gh/${e}@${i}/${n}`;return this.loadPluginFromURL(s)}async loadPluginFromZip(e){console.warn("â ï¸ ZIP-Upload ist aktuell deaktiviert."),console.warn("Alternative: Nutze URL oder GitHub Installation");const n=`
ZIP-Upload ist momentan nicht verfÃ¼gbar.

Alternative Installations-Methoden:
1. URL: Hoste dein Plugin online und nutze die URL-Installation
2. GitHub: Lade dein Plugin auf GitHub und nutze username/repo
3. Local: Kopiere dein Plugin in src/demo-plugins/

Um ZIP-Upload zu aktivieren:
npm install jszip
    `.trim();throw new Error(n)}validateManifest(e){const n=["id","name","version","system_entity","files"];for(const i of n)if(!e[i])return console.error(`Missing required field in manifest: ${i}`),!1;return e.system_entity.domain?e.files.main?this.isValidVersion(e.version)?e.requirements&&!this.checkRequirements(e.requirements)?(console.error("Plugin requirements not met"),!1):!0:(console.error(`Invalid version format: ${e.version}`),!1):(console.error("Missing files.main in manifest"),!1):(console.error("Missing system_entity.domain in manifest"),!1)}isValidVersion(e){return/^\d+\.\d+\.\d+(-[\w.]+)?(\+[\w.]+)?$/.test(e)}checkRequirements(e){if(e.min_version){const n=this.getAppVersion();if(!this.compareVersions(n,e.min_version))return console.error(`App version ${n} is below required ${e.min_version}`),!1}return!0}getAppVersion(){return"1.2.0"}compareVersions(e,n){const i=e.split(".").map(Number),s=n.split(".").map(Number);for(let r=0;r<3;r++){const o=i[r]||0,a=s[r]||0;if(o>a)return!0;if(o<a)return!1}return!0}async loadAllLocal(){try{const e=Object.assign({}),n=[];for(const i in e)n.push(this.loadFromPath(i));await Promise.all(n),console.log(`â Loaded ${n.length} local entities`)}catch(e){console.error("Failed to load local entities:",e)}}async uninstallPlugin(e){if(!we.getPlugin(e))throw new Error(`Plugin '${e}' not found`);await we.unregister(e);for(const[i,s]of this.loadedModules.entries())if(s.id===e){this.loadedModules.delete(i);break}console.log(`ðï¸ Uninstalled plugin: ${e}`)}getLoadedModules(){return new Map(this.loadedModules)}clearCache(){this.loadedModules.clear(),this.loadingPromises.clear(),console.log("ð Loader cache cleared")}}const xi=new hM;class Pg extends it{constructor(){super({id:"pluginstore",domain:"pluginstore",name:"Plugin Store",icon:"mdi:puzzle-plus",brandColor:"rgb(219, 52, 242)",category:"apps",description:"Erweitere deine Fast Search Card mit Plugins",relevance:90,attributes:{sections:["discover","installed","develop","upload"],plugin_count:0,installed_plugins:[],featured_plugins:[],categories:[{id:"integration",name:"Integrationen",icon:"ð"},{id:"visualization",name:"Visualisierungen",icon:"ð"},{id:"automation",name:"Automationen",icon:"ð¤"},{id:"utility",name:"Werkzeuge",icon:"ð§"},{id:"theme",name:"Themes",icon:"ð¨"},{id:"fun",name:"Fun & Games",icon:"ð®"}]},permissions:["plugins:browse","plugins:install","plugins:manage","plugins:develop"],routes:{discover:"/plugins/discover",installed:"/plugins/installed",develop:"/plugins/develop",upload:"/plugins/upload",details:"/plugins/details/:id"},actions:{loadAvailablePlugins:async function(){try{const n=(await Promise.all([this._loadOfficialPlugins(),this._loadCommunityPlugins(),this._loadLocalPlugins()])).flat();return n.sort((i,s)=>(s.downloads||0)-(i.downloads||0)),this.updateAttributes({plugin_count:n.length,featured_plugins:n.slice(0,6)}),n}catch(e){return console.error("Failed to load plugins:",e),this._getMockPlugins()}},installPluginFromURL:async function(e){const{url:n,autoEnable:i=!0}=e;try{console.log("ð¦ Installing plugin from:",n);const s=await xi.loadPluginFromURL(n),r=this._getInstalledPlugins();return r.push({id:s.manifest.id,name:s.manifest.name,version:s.manifest.version,url:n,enabled:i,installedAt:new Date().toISOString()}),localStorage.setItem("installed_plugins",JSON.stringify(r)),this.updateAttributes({installed_plugins:r}),{success:!0,plugin:s.plugin,manifest:s.manifest}}catch(s){return console.error("Plugin installation failed:",s),{success:!1,error:s.message}}},installPluginFromGitHub:async function(e){const{repo:n,path:i="dist/plugin.js",branch:s="main"}=e;try{const r=await xi.loadPluginFromGitHub(n,i,s),o=this._getInstalledPlugins();return o.push({id:r.manifest.id,name:r.manifest.name,version:r.manifest.version,source:"github",repo:n,enabled:!0,installedAt:new Date().toISOString()}),localStorage.setItem("installed_plugins",JSON.stringify(o)),{success:!0,plugin:r.plugin,manifest:r.manifest}}catch(r){return{success:!1,error:r.message}}},installPluginFromZip:async function(e){const{file:n}=e;if(!n||!(n instanceof File))return{success:!1,error:"Keine gÃ¼ltige Datei"};try{const i=await xi.loadPluginFromZip(n),s=this._getInstalledPlugins();return s.push({id:i.manifest.id,name:i.manifest.name,version:i.manifest.version,source:"local",fileName:n.name,enabled:!0,installedAt:new Date().toISOString()}),localStorage.setItem("installed_plugins",JSON.stringify(s)),{success:!0,plugin:i.plugin,manifest:i.manifest}}catch(i){return{success:!1,error:i.message}}},uninstallPlugin:async function(e){const{pluginId:n}=e;try{await xi.uninstallPlugin(n);const s=this._getInstalledPlugins().filter(r=>r.id!==n);return localStorage.setItem("installed_plugins",JSON.stringify(s)),this.updateAttributes({installed_plugins:s}),{success:!0}}catch(i){return{success:!1,error:i.message}}},togglePlugin:async function(e){const{pluginId:n}=e,i=this._getInstalledPlugins(),s=i.find(r=>r.id===n);return s?(s.enabled=!s.enabled,localStorage.setItem("installed_plugins",JSON.stringify(i)),{success:!0,enabled:s.enabled}):{success:!1,error:"Plugin nicht gefunden"}},createPluginTemplate:function(e){const{name:n,type:i="basic"}=e,s={basic:this._getBasicTemplate(n),visualization:this._getVisualizationTemplate(n),integration:this._getIntegrationTemplate(n)};return s[i]||s.basic},_getInstalledPlugins:function(){try{const e=localStorage.getItem("installed_plugins");return e?JSON.parse(e):[]}catch{return[]}},_loadOfficialPlugins:async function(){return[{id:"weather-card",name:"Weather Card",description:"Beautiful weather widget with forecast",author:"Fast Search Team",version:"1.0.0",category:"visualization",downloads:1250,rating:4.8,icon:"ð¤ï¸",official:!0,url:"https://example.com/plugins/weather.js"},{id:"energy-monitor",name:"Energy Monitor",description:"Real-time energy consumption tracking",author:"Fast Search Team",version:"1.2.0",category:"visualization",downloads:890,rating:4.9,icon:"â¡",official:!0,url:"https://example.com/plugins/energy.js"}]},_loadCommunityPlugins:async function(){return[{id:"spotify-controls",name:"Spotify Controls",description:"Control Spotify playback from Fast Search",author:"community-dev",version:"2.1.0",category:"integration",downloads:3400,rating:4.6,icon:"ðµ",github:"user/spotify-plugin"},{id:"vacuum-map",name:"Vacuum Map",description:"Live map for robot vacuums",author:"robo-fan",version:"3.0.0",category:"visualization",downloads:2100,rating:4.7,icon:"ð¤",github:"user/vacuum-map"},{id:"plant-care",name:"Plant Care Assistant",description:"Monitor and track your plants health",author:"green-thumb",version:"1.5.0",category:"utility",downloads:1560,rating:4.5,icon:"ð±",github:"user/plant-care"}]},_loadLocalPlugins:async function(){return this._getInstalledPlugins().map(e=>({...e,local:!0,icon:"ð¦"}))},_getMockPlugins:function(){return[{id:"demo-plugin",name:"Demo Plugin",description:"Ein Beispiel-Plugin zum Testen",author:"Fast Search",version:"0.1.0",category:"utility",icon:"ð¯",demo:!0}]},_getBasicTemplate:function(e){const n=e.replace(/[^a-zA-Z0-9]/g,"-").toLowerCase();return{"manifest.json":JSON.stringify({id:n,name:e,version:"1.0.0",description:"A custom plugin for Fast Search Card",author:"Your Name",system_entity:{domain:n,icon:"mdi:puzzle",category:"apps",relevance:80},files:{main:"index.js",view:"view.jsx"},requirements:{min_version:"1.2.0"}},null,2),"index.js":`/**
 * ${e} Plugin
 * 
 * A custom plugin for Fast Search Card
 */

export default {
  // Plugin initialization
  async init(context) {
    console.log('${e} plugin initialized');
    
    // Access to Home Assistant
    const { hass, storage } = context;
    
    return true;
  },
  
  // Plugin actions
  actions: {
    testAction: async (params) => {
      console.log('Test action called with:', params);
      return { success: true };
    }
  },
  
  // View component (optional)
  viewComponent: () => import('./view.jsx')
};`,"view.jsx":`import { h } from 'preact';
import { useState } from 'preact/hooks';

export default function ${e.replace(/[^a-zA-Z0-9]/g,"")}View({ entity, hass, lang }) {
  const [message, setMessage] = useState('Hello from ${e}!');
  
  return (
    <div style={{
      padding: '20px',
      textAlign: 'center'
    }}>
      <h2>${e}</h2>
      <p>{message}</p>
      <button onClick={() => setMessage('Button clicked!')}>
        Click Me
      </button>
    </div>
  );
}`}},_getVisualizationTemplate:function(e){const n=this._getBasicTemplate(e);return n["view.jsx"]=`import { h } from 'preact';
import { useState, useEffect } from 'preact/hooks';

export default function ${e.replace(/[^a-zA-Z0-9]/g,"")}View({ entity, hass, lang }) {
  const [data, setData] = useState([]);
  
  useEffect(() => {
    // Load data from Home Assistant
    loadData();
  }, []);
  
  const loadData = async () => {
    // Example: Load sensor data
    try {
      const states = Object.values(hass.states).filter(
        state => state.entity_id.startsWith('sensor.')
      );
      setData(states);
    } catch (error) {
      console.error('Failed to load data:', error);
    }
  };
  
  return (
    <div style={{padding: '20px'}}>
      <h2>${e}</h2>
      <div style={{
        display: 'grid',
        gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',
        gap: '16px'
      }}>
        {data.map(sensor => (
          <div key={sensor.entity_id} style={{
            padding: '12px',
            background: 'rgba(255,255,255,0.1)',
            borderRadius: '8px'
          }}>
            <div>{sensor.attributes.friendly_name}</div>
            <div style={{fontSize: '24px', fontWeight: 'bold'}}>
              {sensor.state} {sensor.attributes.unit_of_measurement}
            </div>
          </div>
        ))}
      </div>
    </div>
  );
}`,n},_getIntegrationTemplate:function(e){const n=this._getBasicTemplate(e);return n["index.js"]=`/**
 * ${e} Integration Plugin
 */

export default {
  async init(context) {
    const { hass } = context;
    
    // Register service
    this.registerService(hass);
    
    return true;
  },
  
  registerService(hass) {
    // Example: Register a custom service
    console.log('Registering ${e} service...');
  },
  
  actions: {
    callService: async (params) => {
      const { hass, service, data } = params;
      
      try {
        const result = await hass.callService(
          'domain',
          service,
          data
        );
        return { success: true, result };
      } catch (error) {
        return { success: false, error: error.message };
      }
    }
  }
};`,n}},hasTabs:!1,hasCustomView:!0,showInDetailView:!0,viewComponent:()=>Ge(()=>Promise.resolve().then(()=>wM),[])})}async onMount(e){await super.onMount(e),console.log("ð Plugin Store Entity mounted");const n=this._getInstalledPlugins();if(n.length>0){console.log(`Found ${n.length} installed plugins`);for(const i of n)if(i.enabled&&i.url)try{await xi.loadPluginFromURL(i.url),console.log(`â Reloaded plugin: ${i.name}`)}catch(s){console.warn(`Failed to reload plugin ${i.name}:`,s)}}this.updateAttributes({installed_plugins:n})}_getInstalledPlugins(){try{const e=localStorage.getItem("installed_plugins");return e?JSON.parse(e):[]}catch{return[]}}}const jh=new Pg,Uh=Object.freeze(Object.defineProperty({__proto__:null,PluginStoreEntity:Pg,default:jh,pluginStoreEntity:jh},Symbol.toStringTag,{value:"Module"}));class fM extends it{constructor(){super({id:"all_schedules",domain:"all_schedules",name:"ZeitplÃ¤ne Ãbersicht",icon:"mdi:calendar-clock",brandColor:"rgb(255, 146, 48)",category:"system",description:"Ãbersicht aller Timer und ZeitplÃ¤ne",relevance:95,hasTabs:!1,hasCustomView:!0,showInDetailView:!0,viewComponent:()=>Ge(()=>Promise.resolve().then(()=>xM),void 0)})}}const pM=new fM,Gh=Object.freeze(Object.defineProperty({__proto__:null,default:pM},Symbol.toStringTag,{value:"Module"}));class Ig extends it{constructor(){super({id:"weather",domain:"weather",name:"Wetter",icon:"mdi:weather-partly-cloudy",brandColor:"rgb(60, 211, 254)",category:"system",description:"Wetterinformationen und Vorhersage",relevance:90,attributes:{weather_entities:[],primary_entity:null,locations:[],last_update:null,current_condition:null,current_temperature:null,forecast_type:"daily",forecast_days:7,units:"metric",show_forecast:!0,show_alerts:!0,show_historical:!0,has_forecast:!1,has_alerts:!1,has_pressure:!1,has_humidity:!1,has_wind:!1},permissions:["weather:read","history:read","entities:read","storage:write"],routes:{current:"/weather/current",forecast:"/weather/forecast",locations:"/weather/locations",alerts:"/weather/alerts",history:"/weather/history"},actions:{getCurrentWeather:async function(e){const{hass:n,entity_id:i}=e||{};if(console.log("ð¤ï¸ getCurrentWeather called with:",{hasHass:!!n,entity_id:i}),!n)return console.warn("â No HASS instance available, using mock data"),this.actions._getMockWeatherData.call(this);if(!n.states)return console.warn("â HASS.states is undefined, using mock data"),this.actions._getMockWeatherData.call(this);try{const s=i||this.actions._getPrimaryWeatherEntity.call(this,n);if(console.log("ð Found weather entity:",s),!s){console.warn("â No weather entity found in Home Assistant");const o=Object.keys(n.states),a=o.filter(c=>c.startsWith("weather."));return console.log("Available weather entities:",a),console.log("Total entities in HA:",o.length),this.actions._getMockWeatherData.call(this)}const r=n.states[s];return r?(console.log("â Weather state found:",s,r),this.updateAttributes({last_update:new Date().toISOString(),current_condition:r.state,current_temperature:r.attributes.temperature,has_pressure:!!r.attributes.pressure,has_humidity:!!r.attributes.humidity,has_wind:!!r.attributes.wind_speed}),{entity_id:s,condition:r.state,temperature:r.attributes.temperature,temperature_unit:r.attributes.temperature_unit||"Â°C",humidity:r.attributes.humidity,pressure:r.attributes.pressure,pressure_unit:r.attributes.pressure_unit||"hPa",wind_speed:r.attributes.wind_speed,wind_speed_unit:r.attributes.wind_speed_unit||"km/h",wind_bearing:r.attributes.wind_bearing,wind_gust_speed:r.attributes.wind_gust_speed,visibility:r.attributes.visibility,visibility_unit:r.attributes.visibility_unit||"km",apparent_temperature:r.attributes.apparent_temperature,cloud_coverage:r.attributes.cloud_coverage,dew_point:r.attributes.dew_point,ozone:r.attributes.ozone,forecast:r.attributes.forecast||[],attribution:r.attributes.attribution||"",friendly_name:r.attributes.friendly_name||"Wetter"}):(console.warn(`â Weather entity ${s} not found in hass.states`),this.actions._getMockWeatherData.call(this))}catch(s){return console.error("Failed to get current weather:",s),this.actions._getMockWeatherData.call(this)}},getForecast:async function(e){const{hass:n,entity_id:i,type:s="daily"}=e||{};if(console.log(`ð¤ï¸ getForecast called with type: ${s}`),!n)return console.warn("â No HASS instance, using mock forecast"),this.actions._getMockForecast.call(this,s);try{const r=i||this.actions._getPrimaryWeatherEntity.call(this,n);if(!r)return console.warn("â No weather entity found, using mock forecast"),this.actions._getMockForecast.call(this,s);console.log(`ð Getting ${s} forecast for entity: ${r}`);try{console.log(`ð Calling weather.get_forecasts service with type: ${s}`);const a=await n.callWS({type:"call_service",domain:"weather",service:"get_forecasts",service_data:{entity_id:r,type:s},return_response:!0});if(console.log("ð¦ Service response:",a),a&&a.response&&a.response[r]&&a.response[r].forecast){const c=a.response[r].forecast;return console.log(`â Got ${s} forecast with ${c.length} entries`),c.length>0&&(console.log("   - First entry:",c[0]),console.log("   - Last entry:",c[c.length-1])),this.updateAttributes({has_forecast:!0,forecast_type:s}),c}else console.warn("â ï¸  Service response structure unexpected:",a)}catch(a){console.log(`â ï¸  weather.get_forecasts service failed for type ${s}:`,a.message),console.log("   Trying fallback: state.attributes.forecast")}const o=n.states[r];return o&&o.attributes.forecast?(console.log("â Using forecast from state.attributes"),console.log(`   - Forecast length: ${o.attributes.forecast.length}`),this.updateAttributes({has_forecast:!0}),o.attributes.forecast):(console.warn(`â No forecast data available for type ${s}, using mock data`),this.actions._getMockForecast.call(this,s))}catch(r){return console.error(`â Failed to get ${s} forecast:`,r),this.actions._getMockForecast.call(this,s)}},getHistoricalData:async function(e){const{hass:n,entity_id:i,hours:s=24}=e||{};if(!n)return this.actions._getMockHistoricalData.call(this);try{const r=i||this.actions._getPrimaryWeatherEntity.call(this,n);if(!r)return this.actions._getMockHistoricalData.call(this);const o=new Date,a=new Date(o.getTime()-s*60*60*1e3),c=await n.callWS({type:"history/history_during_period",start_time:a.toISOString(),end_time:o.toISOString(),entity_ids:[r],minimal_response:!0,no_attributes:!1});if(!c||!c[0])return this.actions._getMockHistoricalData.call(this);const d={temperature:[],humidity:[],pressure:[]};return c[0].forEach(u=>{const h=new Date(u.last_changed).getTime();u.attributes.temperature!==void 0&&d.temperature.push({timestamp:h,value:u.attributes.temperature}),u.attributes.humidity!==void 0&&d.humidity.push({timestamp:h,value:u.attributes.humidity}),u.attributes.pressure!==void 0&&d.pressure.push({timestamp:h,value:u.attributes.pressure})}),d}catch(r){return console.error("Failed to get historical data:",r),this.actions._getMockHistoricalData.call(this)}},getWeatherAlerts:async function(e){const{hass:n,entity_id:i}=e||{};if(!n)return[];try{const s=i||this._getPrimaryWeatherEntity(n);if(!s)return[];const r=n.states[s];if(r&&r.attributes.alerts)return this.updateAttributes({has_alerts:!0}),r.attributes.alerts;const o=Object.keys(n.states).filter(a=>a.startsWith("sensor.")&&a.includes("weather")&&a.includes("alert"));if(o.length>0){const a=o.map(c=>{const d=n.states[c];return{id:c,title:d.attributes.friendly_name||"Wetterwarnung",severity:d.state,description:d.attributes.description||"",start_time:d.attributes.start_time||null,end_time:d.attributes.end_time||null,areas:d.attributes.areas||[]}});return this.updateAttributes({has_alerts:!0}),a}return[]}catch(s){return console.error("Failed to get weather alerts:",s),[]}},addLocation:async function(e){const{entity_id:n,name:i,is_primary:s=!1}=e||{};if(!n)throw new Error("entity_id is required");try{const r=this.getStorage(),a=(r?await r.get("locations"):[])||[];if(a.find(u=>u.entity_id===n))return console.warn(`Location ${n} already exists`),{success:!1,message:"Location already exists"};const d={id:`loc_${Date.now()}`,entity_id:n,name:i||n,is_primary:s||a.length===0,added_at:new Date().toISOString()};return a.push(d),r&&await r.set("locations",a),d.is_primary?this.updateAttributes({primary_entity:n,locations:a}):this.updateAttributes({locations:a}),console.log(`â Added location: ${i} (${n})`),{success:!0,location:d}}catch(r){throw console.error("Failed to add location:",r),r}},removeLocation:async function(e){const{location_id:n}=e||{};if(!n)throw new Error("location_id is required");try{const i=this.getStorage(),r=(i?await i.get("locations"):[])||[],o=r.findIndex(c=>c.id===n);if(o===-1)return console.warn(`Location ${n} not found`),{success:!1,message:"Location not found"};const a=r[o].is_primary;return r.splice(o,1),a&&r.length>0&&(r[0].is_primary=!0,this.updateAttributes({primary_entity:r[0].entity_id})),i&&await i.set("locations",r),this.updateAttributes({locations:r}),console.log(`â Removed location: ${n}`),{success:!0}}catch(i){throw console.error("Failed to remove location:",i),i}},_getPrimaryWeatherEntity:function(e){if(console.log("ð _getPrimaryWeatherEntity called"),console.log("   - this.attributes.primary_entity:",this.attributes?.primary_entity),console.log("   - hass exists:",!!e),console.log("   - hass.states exists:",!!e?.states),this.attributes.primary_entity)return console.log("â Using saved primary entity:",this.attributes.primary_entity),this.attributes.primary_entity;if(!e||!e.states)return console.error("â Cannot search for weather entities: hass.states is undefined"),null;const n=Object.keys(e.states);console.log("   - Total states in hass:",n.length);const i=n.filter(s=>s.startsWith("weather."));if(console.log("   - Found weather entities:",i),i.length>0){const s=i[0];return console.log("â Selected primary weather entity:",s),this.updateAttributes({primary_entity:s,weather_entities:i}),s}return console.warn("â No weather.* entities found in Home Assistant"),null},_getMockWeatherData:function(){return{entity_id:"weather.home",condition:"sunny",temperature:22.5,temperature_unit:"Â°C",humidity:65,pressure:1013,pressure_unit:"hPa",wind_speed:12.5,wind_speed_unit:"km/h",wind_bearing:180,wind_gust_speed:20,visibility:10,visibility_unit:"km",apparent_temperature:20.5,cloud_coverage:30,dew_point:12,ozone:300,forecast:[],attribution:"Mock Data",friendly_name:"Zuhause"}},_getMockForecast:function(e="daily"){const n=["sunny","partly-cloudy","cloudy","rainy","pouring"],i=[];if(e==="hourly")for(let s=0;s<24;s++){const r=new Date;r.setHours(r.getHours()+s),i.push({datetime:r.toISOString(),condition:n[Math.floor(Math.random()*n.length)],temperature:18+Math.floor(Math.random()*10),precipitation:Math.floor(Math.random()*5),precipitation_probability:Math.floor(Math.random()*100),wind_speed:5+Math.floor(Math.random()*15),wind_bearing:Math.floor(Math.random()*360)})}else for(let s=0;s<10;s++){const r=new Date;r.setDate(r.getDate()+s),i.push({datetime:r.toISOString(),condition:n[Math.floor(Math.random()*n.length)],temperature:18+Math.floor(Math.random()*10),templow:12+Math.floor(Math.random()*6),precipitation:Math.floor(Math.random()*5),precipitation_probability:Math.floor(Math.random()*100),wind_speed:5+Math.floor(Math.random()*15),wind_bearing:Math.floor(Math.random()*360)})}return i},_getMockHistoricalData:function(){const e={temperature:[],humidity:[],pressure:[]},n=Date.now();for(let i=24;i>=0;i--){const s=n-i*60*60*1e3;e.temperature.push({timestamp:s,value:18+Math.sin(i/3)*5}),e.humidity.push({timestamp:s,value:60+Math.sin(i/2)*15}),e.pressure.push({timestamp:s,value:1010+Math.sin(i/4)*10})}return e}},hasTabs:!1,hasCustomView:!0,showInDetailView:!0,viewComponent:()=>Ge(()=>Promise.resolve().then(()=>FM),void 0)})}async onMount(e){if(await super.onMount(e),console.log("ð¤ï¸ Weather Entity mounted"),console.log("   - context exists:",!!e),console.log("   - context.hass exists:",!!e?.hass),console.log("   - context.hass.states exists:",!!e?.hass?.states),e&&e.hass)try{if(!e.hass.states){console.error("â context.hass.states is undefined at mount time!");return}const n=Object.keys(e.hass.states);console.log(`   - Total entities in HA: ${n.length}`);const i=n.filter(r=>r.startsWith("weather."));this.updateAttributes({weather_entities:i}),console.log(`â Found ${i.length} weather entities:`,i);const s=this.getStorage();if(s){const r=await s.get("locations");if(r&&r.length>0){this.updateAttributes({locations:r});const o=r.find(a=>a.is_primary);o&&this.updateAttributes({primary_entity:o.entity_id})}}console.log("ð¤ï¸ Loading initial weather data for DeviceCard...");try{await this.executeAction("getCurrentWeather",{hass:e.hass}),console.log("â Initial weather data loaded")}catch(r){console.warn("â ï¸ Failed to load initial weather data:",r)}}catch(n){console.warn("Failed to initialize weather data:",n)}}}const Kh=new Ig,Yh=Object.freeze(Object.defineProperty({__proto__:null,WeatherEntity:Ig,default:Kh,weatherEntity:Kh},Symbol.toStringTag,{value:"Module"}));class Rg extends it{constructor(){super({id:"news",domain:"news",name:"Nachrichten",icon:"mdi:newspaper",brandColor:"rgb(255, 149, 0)",category:"system",description:"RSS News Feeds und Nachrichten",relevance:85,attributes:{articles:[],unread_count:0,total_articles:0,last_update:null,active_feeds:[],categories:[],latest_article:null,max_articles:50,update_interval:15,article_retention_days:7,show_images:!0,auto_mark_read:!1,has_feedreader:!1,has_notifications:!0,has_tts:!1},hasTabs:!1,hasCustomView:!0,showInDetailView:!0,actionButtons:[{id:"back",action:"back",title:"ZurÃ¼ck"},{id:"settings",action:"settings",title:"Einstellungen"},{id:"refresh",action:"refresh",title:"Aktualisieren"}],viewComponent:()=>Ge(()=>Promise.resolve().then(()=>OM),void 0),permissions:["feedreader:read","entities:read","storage:write","storage:read"],routes:{feed:"/news/feed",article:"/news/article/:id",favorites:"/news/favorites",settings:"/news/settings",category:"/news/category/:category"},actions:{getArticles:async function(e){const{hass:n,refresh:i=!1}=e||{};console.log("ð° getArticles called",{hasHass:!!n,refresh:i});try{const s=await this.actions._checkFeedreaderAvailability.call(this,n);let r=[];return s?(console.log("ð° Loading articles from feedreader events"),r=await this.actions._fetchFromFeedreader.call(this,n)):(console.log("â ï¸ Feedreader not available, using mock data"),r=this.actions._getMockArticles.call(this)),this.updateAttributes({articles:r,total_articles:r.length,unread_count:r.filter(o=>!o.read).length,last_update:new Date().toISOString(),latest_article:r[0]||null,has_feedreader:s}),r}catch(s){return console.error("Failed to get articles:",s),this.actions._getMockArticles.call(this)}},markAsRead:async function(e){const{articleId:n}=e,i=this.attributes.articles||[],s=i.find(r=>r.id===n);return s?(s.read=!0,this.updateAttributes({articles:[...i],unread_count:i.filter(r=>!r.read).length}),this.actions._cacheArticles.call(this,i),{success:!0}):{success:!1}},toggleFavorite:async function(e){const{articleId:n}=e,i=this.attributes.articles||[],s=i.find(r=>r.id===n);return s?(s.favorite=!s.favorite,this.updateAttributes({articles:[...i]}),this.actions._cacheArticles.call(this,i),{success:!0,favorite:s.favorite}):{success:!1}},_checkFeedreaderAvailability:async function(e){if(console.log("ð° [CHECK] Checking Feedreader availability..."),console.log("   - hass exists:",!!e),console.log("   - hass.config exists:",!!e?.config),console.log("   - hass.config.components exists:",!!e?.config?.components),!e||!e.config||!e.config.components)return console.log("ð° [CHECK] â Feedreader check failed - missing hass/config/components"),!1;const n=e.config.components.includes("feedreader");return console.log("ð° [CHECK] Components:",e.config.components.filter(i=>i.includes("feed"))),console.log("ð° [CHECK] â Feedreader available:",n),n},_fetchFromFeedreader:async function(e){try{console.log("ð° FEEDREADER V4.0 - EVENT LISTENER + CACHE!");let n=this.actions._loadArticlesFromEventCache.call(this);if(n.length===0)return console.log("ð° Event-Cache ist leer, nutze Mock-Daten"),this.actions._getMockArticles.call(this);const i=this.actions._getCachedArticles.call(this);if(i&&i.length>0){const s=new Map(i.map(r=>[r.id,r]));n.forEach(r=>{const o=s.get(r.id);o&&(r.read=o.read||!1,r.favorite=o.favorite||!1)})}return console.log("ð° Articles ready:",n.length),n}catch(n){return console.error("ð° Failed to fetch from event cache:",n),this.actions._getMockArticles.call(this)}},_handleFeedreaderEvent:function(e){console.log("ð° [EVENT] ========================================"),console.log("ð° [EVENT] FEEDREADER EVENT RECEIVED!"),console.log("ð° [EVENT] Event:",e),console.log("ð° [EVENT] Event.data:",e.data);const n=e.data||{};let i=n.image||null;i||(i=this.actions._extractImageFromHtml.call(this,n.content||n.description||n.summary||"")),!i&&n.enclosure&&n.enclosure.url&&(i=n.enclosure.url),!i&&n.media_thumbnail&&(i=n.media_thumbnail);let s="news";if(n.feed_url){const o=this.actions._findEntityIdByFeedUrl.call(this,n.feed_url);o&&(s=this.actions._getCategoryForEntityId.call(this,o))}const r={id:n.id||n.link||n.guid,title:n.title||"Kein Titel",description:n.summary||n.description||"",content:n.content||n.summary||n.description||"",link:n.link,published:n.published_parsed?new Date(n.published_parsed):new Date,source:this.actions._extractSourceFromUrl.call(this,n.feed_url),category:s,thumbnail:i,read:!1,favorite:!1,priority:"normal"};console.log("ð° [EVENT] Created article:",r),console.log("ð° [EVENT] Category:",s),console.log("ð° [EVENT] Thumbnail:",i),this.actions._addArticleToEventCache.call(this,r),console.log("ð° [EVENT] ========================================")},_extractImageFromHtml:function(e){if(!e)return null;try{const n=e.match(/<img[^>]+src="([^">]+)"/i);if(n&&n[1])return console.log("ð° [IMAGE] Extracted from HTML:",n[1]),n[1];const i=e.match(/<meta[^>]+property="og:image"[^>]+content="([^">]+)"/i);if(i&&i[1])return console.log("ð° [IMAGE] Extracted from og:image:",i[1]),i[1]}catch(n){console.error("ð° [IMAGE] Failed to extract:",n)}return null},_loadArticlesFromEventCache:function(){try{const e=localStorage.getItem("news_event_cache");if(!e)return console.log("ð° No event cache found"),[];const n=JSON.parse(e);if(!Array.isArray(n))return[];const i=this.actions._loadSettings.call(this);let s=parseInt(i.display.maxAge)||7;s>30&&(s=30);const r=s*24*60*60*1e3,o=Date.now(),a=n.filter(u=>{const h=new Date(u.published).getTime();return o-h<=r});a.sort((u,h)=>new Date(h.published)-new Date(u.published));const c=a.slice(0,100);let d=0;return c.forEach(u=>{const h=this.actions._findEntityIdBySource.call(this,u.source);if(h){const f=this.actions._getCategoryForEntityId.call(this,h);u.category!==f&&(console.log(`ð° [CATEGORY UPDATE] "${u.title}" ${u.category} â ${f}`),u.category=f,d++)}}),d>0&&(console.log(`ð° Updated ${d} article categories from settings`),localStorage.setItem("news_event_cache",JSON.stringify(n))),console.log(`ð° Loaded ${c.length} articles from event cache (filtered from ${n.length})`),c}catch(e){return console.error("ð° Failed to load from event cache:",e),[]}},_addArticleToEventCache:function(e){try{let n=[];const i=localStorage.getItem("news_event_cache");if(i&&(n=JSON.parse(i)),n.some(r=>r.id===e.id)){console.log("ð° Article already in cache:",e.id);return}n.unshift(e),n.length>500&&(n=n.slice(0,500)),localStorage.setItem("news_event_cache",JSON.stringify(n)),console.log("ð° Added article to event cache:",e.title)}catch(n){console.error("ð° Failed to add article to event cache:",n)}},_extractSourceFromUrl:function(e){if(!e)return"Unknown";try{return new URL(e).hostname.replace("www.","")}catch{return"Unknown"}},_loadSettings:function(){const e=localStorage.getItem("newsSettings");return e?JSON.parse(e):{display:{maxAge:7,maxArticles:50},feeds:[]}},_getCategoryForEntityId:function(e){try{const i=this.actions._loadSettings.call(this).feeds?.[e];return i&&i.category?(console.log(`ð° [CATEGORY] Entity ${e} â ${i.category}`),i.category):(console.log(`ð° [CATEGORY] Entity ${e} â news (default)`),"news")}catch(n){return console.error("ð° [CATEGORY] Failed to get category:",n),"news"}},_findEntityIdByFeedUrl:function(e){try{if(!this._hass||!this._hass.states)return console.log("ð° [CATEGORY] No hass.states available for entity lookup"),null;for(const n in this._hass.states){if(!n.startsWith("event."))continue;if((this._hass.states[n].attributes||{}).feed_url===e)return console.log(`ð° [CATEGORY] Found entity ${n} for feed_url ${e}`),n}return console.log(`ð° [CATEGORY] No entity found for feed_url ${e}`),null}catch(n){return console.error("ð° [CATEGORY] Failed to find entity by feed_url:",n),null}},_findEntityIdBySource:function(e){try{if(!this._hass||!this._hass.states)return null;for(const n in this._hass.states){if(!n.startsWith("event."))continue;if((this._hass.states[n].attributes||{}).friendly_name===e||n.replace("event.","").replace(/_/g," ")===e.toLowerCase())return n}return null}catch(n){return console.error("ð° [CATEGORY] Failed to find entity by source:",n),null}},_cacheArticles:function(e){try{const n={timestamp:Date.now(),articles:e};localStorage.setItem("news_articles_cache",JSON.stringify(n))}catch(n){console.error("Failed to cache articles:",n)}},_getCachedArticles:function(){try{const e=localStorage.getItem("news_articles_cache");if(!e)return[];const n=JSON.parse(e),i=this.attributes.article_retention_days*24*60*60*1e3;return Date.now()-n.timestamp>i?(localStorage.removeItem("news_articles_cache"),[]):n.articles}catch(e){return console.error("Failed to load cached articles:",e),[]}},_getMockArticles:function(){return console.log("ð° _getMockArticles called - returning empty (use Event Entities)"),[]}},events:{"article:new":"Neuer Artikel verfÃ¼gbar","article:read":"Artikel wurde gelesen","article:favorite":"Artikel als Favorit markiert","feeds:updated":"Feeds wurden aktualisiert"}})}async onMount(e){await super.onMount(e),console.log("ð° ========================================"),console.log("ð° [LIFECYCLE] NewsEntity onMount START"),console.log("ð° [LIFECYCLE] Context:",e),console.log("ð° [LIFECYCLE] Context.hass exists:",!!e?.hass),console.log("ð° [LIFECYCLE] Context.hass.connection exists:",!!e?.hass?.connection),this._hass=e?.hass||null,this._feedreaderEventListener=null,e&&e.hass&&e.hass.connection?(console.log("ð° [LIFECYCLE] Registering Feedreader event listener..."),this._feedreaderEventListener=e.hass.connection.subscribeEvents(n=>{console.log("ð° [LISTENER] â¡ Event callback triggered!"),this.actions._handleFeedreaderEvent.call(this,n)},"feedreader"),console.log("ð° [LIFECYCLE] â Event listener registered successfully"),console.log("ð° [LIFECYCLE] Listener object:",this._feedreaderEventListener)):(console.error("ð° [LIFECYCLE] â Cannot register event listener:"),console.log("   - context exists:",!!e),console.log("   - context.hass exists:",!!e?.hass),console.log("   - context.hass.connection exists:",!!e?.hass?.connection)),console.log("ð° [LIFECYCLE] Loading initial news articles...");try{await this._loadFeedreaderHistory(e.hass),await this._loadFeedreaderEventEntities(e.hass),await this.executeAction("getArticles",{hass:e.hass}),console.log("ð° [LIFECYCLE] â Initial news articles loaded")}catch(n){console.error("ð° [LIFECYCLE] â Failed to load initial news articles:",n)}console.log("ð° [LIFECYCLE] NewsEntity onMount COMPLETE"),console.log("ð° ========================================")}async _loadFeedreaderHistory(e){if(console.log("ð° [HISTORY] ========================================"),console.log("ð° [HISTORY] Loading Feedreader event history..."),!e||!e.callWS){console.warn("ð° [HISTORY] No hass.callWS available");return}try{const n=this.actions._loadSettings.call(this);let i=parseInt(n.display.maxAge)||7;i>30&&(i=30);const s=new Date,r=new Date(s.getTime()-i*24*60*60*1e3);console.log("ð° [HISTORY] Fetching events from",r.toISOString(),"to",s.toISOString()),console.log("ð° [HISTORY] Max age:",i,"days");const o=await e.callWS({type:"logbook/get_events",start_time:r.toISOString(),end_time:s.toISOString(),event_types:["feedreader"]});if(console.log("ð° [HISTORY] Response:",o),!o||!Array.isArray(o)){console.warn("ð° [HISTORY] No events array in response"),console.log("ð° [HISTORY] Trying alternative API...");const c=await e.callWS({type:"recorder/get_events",start_time:r.toISOString(),end_time:s.toISOString(),event_types:["feedreader"]});if(console.log("ð° [HISTORY] Alternative response:",c),!c||!Array.isArray(c)){console.warn("ð° [HISTORY] Alternative API also failed");return}console.log(`ð° [HISTORY] Found ${c.length} events via alternative API`);let d=0;for(const u of c)u.data&&(this.actions._handleFeedreaderEvent.call(this,u),d++);console.log(`ð° [HISTORY] â Processed ${d} events`);return}console.log(`ð° [HISTORY] Found ${o.length} feedreader events in history`);let a=0;for(const c of o)c.data&&(this.actions._handleFeedreaderEvent.call(this,c),a++);console.log(`ð° [HISTORY] â Processed ${a} events from history`)}catch(n){console.error("ð° [HISTORY] â Failed to load history:"),console.error("   - Error:",n),console.error("   - Error message:",n?.message),console.error("   - Error code:",n?.code),console.error("   - Error stack:",n?.stack),console.log("ð° [HISTORY] Falling back to Event Entities...")}console.log("ð° [HISTORY] ========================================")}async _loadFeedreaderEventEntities(e){if(console.log("ð° [INIT] ========================================"),console.log("ð° [INIT] Loading Feedreader event entities..."),!e||!e.states){console.warn("ð° [INIT] No hass.states available");return}const n=Object.keys(e.states).filter(s=>s.startsWith("event.")).map(s=>e.states[s]);console.log(`ð° [INIT] Found ${n.length} total event entities`);const i=n.filter(s=>{const r=s.attributes?.event_type==="feedreader",o=s.attributes?.event_types?.includes("feedreader");return r||o});console.log(`ð° [INIT] Found ${i.length} feedreader event entities:`),i.forEach(s=>console.log("   -",s.entity_id));for(const s of i){console.log("ð° [INIT] ----------------------------------------"),console.log("ð° [INIT] Processing:",s.entity_id),console.log("   - State (timestamp):",s.state),console.log("   - Attributes:",s.attributes);const r=s.attributes||{};if(r.title&&r.link){let o=r.image||null;o||(o=this.actions._extractImageFromHtml.call(this,r.content||r.description||""));const a=this.actions._getCategoryForEntityId.call(this,s.entity_id),c={id:r.link||s.entity_id+"_"+Date.now(),title:r.title||"Kein Titel",description:r.description||"",content:r.content||r.description||"",link:r.link,published:s.state?new Date(s.state):new Date,source:r.friendly_name||s.entity_id.replace("event.","").replace(/_/g," "),category:a,thumbnail:o,read:!1,favorite:!1,priority:"normal"};console.log("ð° [INIT] â Created article:"),console.log("   - Title:",c.title),console.log("   - Source:",c.source),console.log("   - Category:",c.category),console.log("   - Published:",c.published),console.log("   - Thumbnail:",c.thumbnail||"NONE"),this.actions._addArticleToEventCache.call(this,c)}else console.log("ð° [INIT] â Skipping - missing title or link")}console.log("ð° [INIT] ========================================"),console.log("ð° [INIT] â Event entities processed")}async onUnmount(e){console.log("ð° [LIFECYCLE] NewsEntity onUnmount - Unregistering event listener"),this._feedreaderEventListener&&(this._feedreaderEventListener.then(n=>n()),this._feedreaderEventListener=null,console.log("ð° [LIFECYCLE] Event listener unregistered")),await super.onUnmount(e)}}const Et=new Rg;typeof window<"u"&&(window.newsEntity=Et,window.debugNews=()=>{console.group("ð° NEWS DEBUG"),console.log("Entity:",Et),console.log("Attributes:",Et.attributes),console.log("Articles:",Et.attributes.articles),console.log("Has Feedreader:",Et.attributes.has_feedreader),console.log("Event Listener Active:",Et._feedreaderEventListener!==null);const t=localStorage.getItem("news_event_cache"),e=localStorage.getItem("news_articles_cache"),n=localStorage.getItem("newsSettings");console.log("Event Cache:",t?JSON.parse(t).length+" articles":"empty"),console.log("Articles Cache:",e?JSON.parse(e).articles.length+" articles":"empty"),console.log("Settings:",n?JSON.parse(n):"default"),console.groupEnd()},window.testFeedreaderEvent=()=>{console.log("ð° Testing manual Feedreader event...");const t={data:{id:"test_"+Date.now(),title:"Test Artikel von manuellen Event",summary:"Dies ist ein Test-Event",link:"https://example.com/test",published_parsed:new Date,feed_url:"https://example.com/feed.xml",image:null}};Et.actions._handleFeedreaderEvent.call(Et,t),console.log("â Test event processed. Check event cache.")},console.log("ð° Debug functions available:"),console.log("   - window.debugNews() - Show news entity debug info"),console.log("   - window.testFeedreaderEvent() - Manually trigger test event"));const gM=Object.freeze(Object.defineProperty({__proto__:null,NewsEntity:Rg,default:Et,newsEntity:Et},Symbol.toStringTag,{value:"Module"}));function Og({entity:t,hass:e,lang:n="de",onBack:i,onNavigate:s,onServiceCall:r}){return console.log("ð¯ SettingsView mounted with entity:",t),l("div",{className:"system-entity-view settings-view",children:l(Or,{lang:n,onTabChange:o=>{if(console.log("Settings internal tab changed to:",o),t&&t.routes){const a=Object.keys(t.routes)[o];a&&s&&console.log("Route would be:",t.routes[a])}},systemEntity:t,hass:e})})}const mM=()=>Og,yM=Object.freeze(Object.defineProperty({__proto__:null,createSettingsView:mM,default:Og},Symbol.toStringTag,{value:"Module"}));function bM({entity:t,hass:e,lang:n="de",onBack:i,onNavigate:s,onServiceCall:r}){const[o,a]=E("browse"),[c,d]=E([]),[u,h]=E([]),[f,p]=E([]),[y,g]=E(""),[m,b]=E("all"),[v,_]=E(!0),[k,w]=E([]),C=[{id:"browse",label:"Browse",icon:"ð"},{id:"installed",label:"Installiert",icon:"ð¦"},{id:"updates",label:"Updates",icon:"ð",badge:k.length||null},{id:"hacs",label:"HACS",icon:"ð"}],x=[{id:"all",label:"Alle"},{id:"core",label:"Official"},{id:"community",label:"Community"},{id:"frontend",label:"Frontend"},{id:"automation",label:"Automation"},{id:"integration",label:"Integration"}];G(()=>{S()},[]);const S=async()=>{_(!0);try{const T=await t.executeAction("loadAddons",{hass:e});d(T);const H=await t.executeAction("loadInstalledAddons",{hass:e});h(H);const M=await t.executeAction("loadHACSRepositories",{hass:e});p(M);const A=await t.executeAction("checkForUpdates",{hass:e});w(A.updates||[])}catch(T){console.error("Failed to load marketplace data:",T)}finally{_(!1)}},R=async T=>{if(confirm(`${T.name} installieren?`))try{await t.executeAction("installAddon",{hass:e,addon_slug:T.slug})&&(alert(`${T.name} wird installiert. Dies kann einige Minuten dauern.`),setTimeout(S,5e3))}catch(M){alert(`Installation fehlgeschlagen: ${M.message}`)}},N=c.filter(T=>{if(m!=="all"&&T.repository!==m)return!1;if(y){const H=y.toLowerCase();return T.name.toLowerCase().includes(H)||T.description.toLowerCase().includes(H)}return!0}),F=({addon:T})=>l(z.div,{className:"addon-card",whileHover:{scale:1.02},whileTap:{scale:.98},children:[l("div",{className:"addon-header",children:[l("div",{className:"addon-icon",children:T.icon?l("span",{style:{fontSize:"24px"},children:T.icon}):l("span",{children:"ð¦"})}),l("div",{className:"addon-info",children:[l("h3",{children:T.name}),l("p",{className:"addon-version",children:["v",T.version]})]}),T.rating&&l("div",{className:"addon-rating",children:["â­ ",T.rating]})]}),l("p",{className:"addon-description",children:T.description}),l("div",{className:"addon-footer",children:[l("span",{className:`addon-badge ${T.repository}`,children:T.repository}),T.installed?l("button",{className:"addon-button installed",children:"â Installiert"}):l("button",{className:"addon-button install",onClick:()=>R(T),children:"Installieren"})]})]}),O=({update:T})=>l("div",{className:"update-card",children:[l("div",{className:"update-info",children:[l("h4",{children:T.name}),l("p",{children:[T.current_version," â ",T.available_version]})]}),l("button",{className:"update-button",children:"Update"})]});return l("div",{className:"marketplace-view",children:[l("style",{children:`
        .marketplace-view {
          display: flex;
          flex-direction: column;
          height: 100%;
          padding: 0;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .marketplace-header {
          padding: 20px;
          background: linear-gradient(135deg, 
            rgba(255, 146, 48, 0.1), 
            rgba(255, 69, 69, 0.1)
          );
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .marketplace-title {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 16px;
        }
        
        .marketplace-title h2 {
          margin: 0;
          font-size: 24px;
          font-weight: 600;
          color: white;
        }
        
        .marketplace-stats {
          display: flex;
          gap: 20px;
          font-size: 14px;
          color: rgba(255, 255, 255, 0.7);
        }
        
        .marketplace-tabs {
          display: flex;
          gap: 8px;
          padding: 0 20px;
          margin-top: 16px;
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .tab-button {
          display: flex;
          align-items: center;
          gap: 6px;
          padding: 12px 16px;
          background: transparent;
          border: none;
          color: rgba(255, 255, 255, 0.6);
          cursor: pointer;
          transition: all 0.2s ease;
          position: relative;
        }
        
        .tab-button.active {
          color: white;
        }
        
        .tab-button.active::after {
          content: '';
          position: absolute;
          bottom: -1px;
          left: 0;
          right: 0;
          height: 2px;
          background: linear-gradient(90deg, 
            rgba(255, 146, 48, 0.8),
            rgba(255, 69, 69, 0.8)
          );
        }
        
        .tab-badge {
          background: rgba(255, 69, 69, 0.8);
          color: white;
          padding: 2px 6px;
          border-radius: 10px;
          font-size: 11px;
          font-weight: bold;
        }
        
        .marketplace-controls {
          display: flex;
          gap: 12px;
          padding: 16px 20px;
          background: rgba(0, 0, 0, 0.2);
        }
        
        .search-input {
          flex: 1;
          padding: 10px 16px;
          background: rgba(255, 255, 255, 0.1);
          border: 1px solid rgba(255, 255, 255, 0.2);
          border-radius: 12px;
          color: white;
          font-size: 14px;
        }
        
        .search-input::placeholder {
          color: rgba(255, 255, 255, 0.5);
        }
        
        .category-select {
          padding: 10px 16px;
          background: rgba(255, 255, 255, 0.1);
          border: 1px solid rgba(255, 255, 255, 0.2);
          border-radius: 12px;
          color: white;
          font-size: 14px;
        }
        
        .marketplace-content {
          flex: 1;
          overflow-y: auto;
          padding: 20px;
        }
        
        .addons-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
          gap: 16px;
        }
        
        .addon-card {
          background: rgba(255, 255, 255, 0.05);
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 16px;
          padding: 16px;
          transition: all 0.3s ease;
        }
        
        .addon-card:hover {
          background: rgba(255, 255, 255, 0.08);
          border-color: rgba(255, 255, 255, 0.2);
        }
        
        .addon-header {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 12px;
        }
        
        .addon-icon {
          width: 40px;
          height: 40px;
          display: flex;
          align-items: center;
          justify-content: center;
          background: rgba(255, 255, 255, 0.1);
          border-radius: 10px;
        }
        
        .addon-info {
          flex: 1;
        }
        
        .addon-info h3 {
          margin: 0;
          font-size: 16px;
          font-weight: 600;
          color: white;
        }
        
        .addon-version {
          margin: 2px 0 0 0;
          font-size: 12px;
          color: rgba(255, 255, 255, 0.5);
        }
        
        .addon-rating {
          font-size: 14px;
          color: #FFD700;
        }
        
        .addon-description {
          font-size: 14px;
          line-height: 1.4;
          color: rgba(255, 255, 255, 0.7);
          margin: 0 0 12px 0;
        }
        
        .addon-footer {
          display: flex;
          justify-content: space-between;
          align-items: center;
        }
        
        .addon-badge {
          padding: 4px 8px;
          border-radius: 6px;
          font-size: 12px;
          font-weight: 500;
          text-transform: uppercase;
        }
        
        .addon-badge.core {
          background: rgba(0, 145, 255, 0.2);
          color: rgb(0, 145, 255);
        }
        
        .addon-badge.community {
          background: rgba(48, 209, 88, 0.2);
          color: rgb(48, 209, 88);
        }
        
        .addon-button {
          padding: 8px 16px;
          border: none;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
        }
        
        .addon-button.install {
          background: linear-gradient(135deg, 
            rgba(255, 146, 48, 0.8),
            rgba(255, 69, 69, 0.8)
          );
          color: white;
        }
        
        .addon-button.install:hover {
          transform: scale(1.05);
        }
        
        .addon-button.installed {
          background: rgba(48, 209, 88, 0.2);
          color: rgb(48, 209, 88);
          cursor: default;
        }
        
        .update-card {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 16px;
          background: rgba(255, 146, 48, 0.1);
          border: 1px solid rgba(255, 146, 48, 0.3);
          border-radius: 12px;
          margin-bottom: 12px;
        }
        
        .update-info h4 {
          margin: 0 0 4px 0;
          color: white;
        }
        
        .update-info p {
          margin: 0;
          font-size: 14px;
          color: rgba(255, 255, 255, 0.7);
        }
        
        .update-button {
          padding: 8px 16px;
          background: rgba(255, 146, 48, 0.8);
          border: none;
          border-radius: 8px;
          color: white;
          font-weight: 500;
          cursor: pointer;
        }
        
        .loading-state {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 300px;
          color: rgba(255, 255, 255, 0.5);
        }
        
        .empty-state {
          text-align: center;
          padding: 40px;
          color: rgba(255, 255, 255, 0.5);
        }
        
        .empty-state h3 {
          margin: 16px 0 8px 0;
          font-size: 18px;
        }
      `}),l("div",{className:"marketplace-header",children:[l("div",{className:"marketplace-title",children:[l("span",{style:{fontSize:"28px"},children:"ðï¸"}),l("h2",{children:"Home Assistant Marketplace"})]}),l("div",{className:"marketplace-stats",children:[l("span",{children:["ð¦ ",t.attributes?.addon_count||0," Add-ons verfÃ¼gbar"]}),l("span",{children:["â ",t.attributes?.installed_count||0," Installiert"]}),k.length>0&&l("span",{children:["ð ",k.length," Updates"]})]})]}),l("div",{className:"marketplace-tabs",children:C.map(T=>l("button",{className:`tab-button ${o===T.id?"active":""}`,onClick:()=>a(T.id),children:[l("span",{children:T.icon}),l("span",{children:T.label}),T.badge&&l("span",{className:"tab-badge",children:T.badge})]},T.id))}),o==="browse"&&l("div",{className:"marketplace-controls",children:[l("input",{type:"text",className:"search-input",placeholder:"Add-ons suchen...",value:y,onChange:T=>g(T.target.value)}),l("select",{className:"category-select",value:m,onChange:T=>b(T.target.value),children:x.map(T=>l("option",{value:T.id,children:T.label},T.id))})]}),l("div",{className:"marketplace-content",children:v?l("div",{className:"loading-state",children:[l("div",{className:"loading-spinner"}),l("p",{children:"Lade Marketplace-Daten..."})]}):l(ae,{children:[o==="browse"&&l("div",{className:"addons-grid",children:N.length>0?N.map(T=>l(F,{addon:T},T.slug)):l("div",{className:"empty-state",children:[l("span",{style:{fontSize:"48px"},children:"ð"}),l("h3",{children:"Keine Add-ons gefunden"}),l("p",{children:"Versuche einen anderen Suchbegriff oder Kategorie"})]})}),o==="installed"&&l("div",{className:"addons-grid",children:u.length>0?u.map(T=>l("div",{className:"addon-card",children:[l("div",{className:"addon-header",children:[l("div",{className:"addon-info",children:[l("h3",{children:T.name}),l("p",{className:"addon-version",children:["v",T.version]})]}),l("span",{className:`state-badge ${T.state}`,children:T.state==="started"?"ð¢ LÃ¤uft":"ð´ Gestoppt"})]}),T.update_available&&l("div",{className:"update-notice",children:["ð Update verfÃ¼gbar: v",T.version_latest]})]},T.slug)):l("div",{className:"empty-state",children:[l("span",{style:{fontSize:"48px"},children:"ð¦"}),l("h3",{children:"Keine Add-ons installiert"}),l("p",{children:"Durchsuche den Marketplace und installiere dein erstes Add-on"})]})}),o==="updates"&&l("div",{children:k.length>0?k.map(T=>l(O,{update:T},T.slug)):l("div",{className:"empty-state",children:[l("span",{style:{fontSize:"48px"},children:"â"}),l("h3",{children:"Alles aktuell!"}),l("p",{children:"Keine Updates verfÃ¼gbar"})]})}),o==="hacs"&&l("div",{className:"addons-grid",children:f.length>0?f.map(T=>l("div",{className:"addon-card",children:[l("div",{className:"addon-header",children:[l("div",{className:"addon-info",children:[l("h3",{children:T.name}),l("p",{className:"addon-version",children:T.category})]}),T.stars&&l("div",{className:"addon-rating",children:["â­ ",T.stars]})]}),l("div",{className:"addon-footer",children:[l("span",{className:`addon-badge ${T.category}`,children:T.category}),T.installed?l("button",{className:"addon-button installed",children:"â Installiert"}):l("button",{className:"addon-button install",children:"Installieren"})]})]},T.id)):l("div",{className:"empty-state",children:[l("span",{style:{fontSize:"48px"},children:"ð"}),l("h3",{children:"HACS nicht installiert"}),l("p",{children:"Installiere HACS um Community-Integrationen zu nutzen"})]})})]})})]})}const vM=Object.freeze(Object.defineProperty({__proto__:null,default:bM},Symbol.toStringTag,{value:"Module"}));function _M({entity:t,hass:e,lang:n="de",onBack:i,onNavigate:s,onServiceCall:r}){const[o,a]=E("discover"),[c,d]=E([]),[u,h]=E([]),[f,p]=E("all"),[y,g]=E(""),[m,b]=E(!1),[v,_]=E(""),[k,w]=E(""),[C,x]=E(null),[S,R]=E(!1),[N,F]=E(!1),O=J(null),T=[{id:"discover",label:"Entdecken",icon:"ð",badge:null},{id:"installed",label:"Installiert",icon:"ð¦",badge:u.length||null},{id:"upload",label:"Upload",icon:"â¬ï¸",badge:null},{id:"develop",label:"Entwickeln",icon:"ð¨âð»",badge:null}];G(()=>{H(),M()},[]);const H=async()=>{b(!0);try{const D=await t.executeAction("loadAvailablePlugins");d(D)}catch(D){console.error("Failed to load plugins:",D)}finally{b(!1)}},M=()=>{try{const D=localStorage.getItem("installed_plugins"),Y=D?JSON.parse(D):[];h(Y)}catch(D){console.error("Failed to load installed plugins:",D)}},A=async()=>{if(!v){alert("Bitte gib eine Plugin-URL ein");return}b(!0);try{const D=await t.executeAction("installPluginFromURL",{url:v});D.success?(alert(`â ${D.manifest.name} wurde erfolgreich installiert!`),_(""),M(),a("installed")):alert(`â Installation fehlgeschlagen: ${D.error}`)}catch(D){alert(`â Fehler: ${D.message}`)}finally{b(!1)}},L=async()=>{if(!k){alert("Bitte gib ein GitHub Repository ein (user/repo)");return}b(!0);try{const D=await t.executeAction("installPluginFromGitHub",{repo:k});D.success?(alert(`â ${D.manifest.name} wurde von GitHub installiert!`),w(""),M(),a("installed")):alert(`â Installation fehlgeschlagen: ${D.error}`)}catch(D){alert(`â Fehler: ${D.message}`)}finally{b(!1)}},P=async D=>{const Y=D.target.files[0];if(Y){if(!Y.name.endsWith(".zip")){alert("Bitte wÃ¤hle eine ZIP-Datei");return}b(!0);try{const K=await t.executeAction("installPluginFromZip",{file:Y});K.success?(alert(`â ${K.manifest.name} wurde aus ZIP installiert!`),M(),a("installed"),R(!1)):alert(`â Installation fehlgeschlagen: ${K.error}`)}catch(K){alert(`â Fehler: ${K.message}`)}finally{b(!1),D.target.value=""}}},I=async(D,Y)=>{if(confirm(`${Y} wirklich deinstallieren?`))try{const K=await t.executeAction("uninstallPlugin",{pluginId:D});K.success?(alert(`â ${Y} wurde deinstalliert`),M()):alert(`â Deinstallation fehlgeschlagen: ${K.error}`)}catch(K){alert(`â Fehler: ${K.message}`)}},V=async D=>{try{(await t.executeAction("togglePlugin",{pluginId:D})).success&&M()}catch(Y){console.error("Failed to toggle plugin:",Y)}},W=D=>{const Y=prompt("Plugin Name:");if(!Y)return;const K=t.executeAction("createPluginTemplate",{name:Y,type:D});j(Y,K),F(!1)},j=(D,Y)=>{alert(`Template fÃ¼r "${D}" wurde erstellt!

Dateien:
${Object.keys(Y).join(`
`)}`),console.group(`Plugin Template: ${D}`),Object.entries(Y).forEach(([K,te])=>{console.log(`ð ${K}:`),console.log(te)}),console.groupEnd()},q=c.filter(D=>{if(f!=="all"&&D.category!==f)return!1;if(y){const Y=y.toLowerCase();return D.name.toLowerCase().includes(Y)||D.description.toLowerCase().includes(Y)}return!0}),U=({plugin:D,installed:Y=!1})=>l(z.div,{className:"plugin-card",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>!Y&&x(D),children:[l("div",{className:"plugin-header",children:[l("div",{className:"plugin-icon",children:l("span",{style:{fontSize:"28px"},children:D.icon||"ð"})}),l("div",{className:"plugin-info",children:[l("h3",{children:D.name}),l("p",{className:"plugin-author",children:["von ",D.author]})]}),D.official&&l("span",{className:"official-badge",children:"â Official"})]}),l("p",{className:"plugin-description",children:D.description}),l("div",{className:"plugin-stats",children:[D.downloads&&l("span",{children:["ð¥ ",D.downloads]}),D.rating&&l("span",{children:["â­ ",D.rating]}),l("span",{className:"plugin-version",children:["v",D.version]})]}),l("div",{className:"plugin-footer",children:[l("span",{className:`category-badge ${D.category}`,children:t.attributes.categories.find(K=>K.id===D.category)?.name||D.category}),Y?l("div",{className:"plugin-actions",children:[l("button",{className:`toggle-btn ${D.enabled?"enabled":"disabled"}`,onClick:K=>{K.stopPropagation(),V(D.id)},children:D.enabled?"â":"â"}),l("button",{className:"uninstall-btn",onClick:K=>{K.stopPropagation(),I(D.id,D.name)},children:"ðï¸"})]}):l("button",{className:"install-btn",onClick:K=>{K.stopPropagation(),D.url?t.executeAction("installPluginFromURL",{url:D.url}).then(te=>{te.success&&(alert(`â ${D.name} installiert!`),M())}):D.github&&t.executeAction("installPluginFromGitHub",{repo:D.github}).then(te=>{te.success&&(alert(`â ${D.name} installiert!`),M())})},children:"Installieren"})]})]});return l("div",{className:"plugin-store-view",children:[l("style",{children:`
        .plugin-store-view {
          display: flex;
          flex-direction: column;
          height: 100%;
          font-family: -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        .store-header {
          padding: 20px;
          background: linear-gradient(135deg, 
            rgba(147, 51, 234, 0.1),
            rgba(79, 70, 229, 0.1)
          );
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .store-title {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 16px;
        }
        
        .store-title h2 {
          margin: 0;
          font-size: 24px;
          font-weight: 600;
          color: white;
        }
        
        .store-stats {
          display: flex;
          gap: 20px;
          font-size: 14px;
          color: rgba(255, 255, 255, 0.7);
        }
        
        .store-tabs {
          display: flex;
          gap: 8px;
          padding: 0 20px;
          margin-top: 16px;
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .tab-button {
          display: flex;
          align-items: center;
          gap: 6px;
          padding: 12px 16px;
          background: transparent;
          border: none;
          color: rgba(255, 255, 255, 0.6);
          cursor: pointer;
          transition: all 0.2s ease;
          position: relative;
        }
        
        .tab-button.active {
          color: white;
        }
        
        .tab-button.active::after {
          content: '';
          position: absolute;
          bottom: -1px;
          left: 0;
          right: 0;
          height: 2px;
          background: linear-gradient(90deg, 
            rgba(147, 51, 234, 0.8),
            rgba(79, 70, 229, 0.8)
          );
        }
        
        .tab-badge {
          background: rgba(147, 51, 234, 0.8);
          color: white;
          padding: 2px 6px;
          border-radius: 10px;
          font-size: 11px;
          font-weight: bold;
        }
        
        .store-controls {
          display: flex;
          gap: 12px;
          padding: 16px 20px;
          background: rgba(0, 0, 0, 0.2);
        }
        
        .search-input {
          flex: 1;
          padding: 10px 16px;
          background: rgba(255, 255, 255, 0.1);
          border: 1px solid rgba(255, 255, 255, 0.2);
          border-radius: 12px;
          color: white;
          font-size: 14px;
        }
        
        .category-filter {
          display: flex;
          gap: 8px;
        }
        
        .category-btn {
          padding: 8px 12px;
          background: rgba(255, 255, 255, 0.1);
          border: 1px solid rgba(255, 255, 255, 0.2);
          border-radius: 20px;
          color: rgba(255, 255, 255, 0.8);
          font-size: 13px;
          cursor: pointer;
          transition: all 0.2s;
        }
        
        .category-btn.active {
          background: rgba(147, 51, 234, 0.3);
          border-color: rgba(147, 51, 234, 0.5);
          color: white;
        }
        
        .store-content {
          flex: 1;
          overflow-y: auto;
          padding: 20px;
        }
        
        .plugins-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
          gap: 16px;
        }
        
        .plugin-card {
          background: rgba(255, 255, 255, 0.05);
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 16px;
          padding: 16px;
          cursor: pointer;
          transition: all 0.3s ease;
        }
        
        .plugin-card:hover {
          background: rgba(255, 255, 255, 0.08);
          border-color: rgba(147, 51, 234, 0.3);
          transform: translateY(-2px);
        }
        
        .plugin-header {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 12px;
        }
        
        .plugin-icon {
          width: 48px;
          height: 48px;
          display: flex;
          align-items: center;
          justify-content: center;
          background: rgba(255, 255, 255, 0.1);
          border-radius: 12px;
        }
        
        .plugin-info {
          flex: 1;
        }
        
        .plugin-info h3 {
          margin: 0;
          font-size: 16px;
          font-weight: 600;
          color: white;
        }
        
        .plugin-author {
          margin: 2px 0 0 0;
          font-size: 12px;
          color: rgba(255, 255, 255, 0.5);
        }
        
        .official-badge {
          background: rgba(34, 197, 94, 0.2);
          color: rgb(34, 197, 94);
          padding: 4px 8px;
          border-radius: 6px;
          font-size: 11px;
          font-weight: 600;
        }
        
        .plugin-description {
          font-size: 14px;
          line-height: 1.4;
          color: rgba(255, 255, 255, 0.7);
          margin: 0 0 12px 0;
        }
        
        .plugin-stats {
          display: flex;
          gap: 16px;
          margin-bottom: 12px;
          font-size: 13px;
          color: rgba(255, 255, 255, 0.6);
        }
        
        .plugin-footer {
          display: flex;
          justify-content: space-between;
          align-items: center;
        }
        
        .category-badge {
          padding: 4px 8px;
          border-radius: 6px;
          font-size: 12px;
          font-weight: 500;
          text-transform: capitalize;
          background: rgba(147, 51, 234, 0.2);
          color: rgb(147, 51, 234);
        }
        
        .install-btn {
          padding: 8px 16px;
          background: linear-gradient(135deg,
            rgba(147, 51, 234, 0.8),
            rgba(79, 70, 229, 0.8)
          );
          border: none;
          border-radius: 8px;
          color: white;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s;
        }
        
        .install-btn:hover {
          transform: scale(1.05);
        }
        
        .plugin-actions {
          display: flex;
          gap: 8px;
        }
        
        .toggle-btn {
          width: 32px;
          height: 32px;
          border-radius: 50%;
          border: 2px solid rgba(255, 255, 255, 0.3);
          background: transparent;
          color: white;
          cursor: pointer;
          transition: all 0.2s;
        }
        
        .toggle-btn.enabled {
          background: rgba(34, 197, 94, 0.2);
          border-color: rgb(34, 197, 94);
          color: rgb(34, 197, 94);
        }
        
        .uninstall-btn {
          width: 32px;
          height: 32px;
          border-radius: 50%;
          border: 1px solid rgba(255, 255, 255, 0.2);
          background: transparent;
          cursor: pointer;
          transition: all 0.2s;
        }
        
        .uninstall-btn:hover {
          background: rgba(239, 68, 68, 0.2);
          border-color: rgb(239, 68, 68);
        }
        
        .upload-section {
          padding: 20px;
          display: flex;
          flex-direction: column;
          gap: 20px;
        }
        
        .upload-card {
          background: rgba(255, 255, 255, 0.05);
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 16px;
          padding: 20px;
        }
        
        .upload-card h3 {
          margin: 0 0 12px 0;
          color: white;
          font-size: 18px;
        }
        
        .upload-card p {
          margin: 0 0 16px 0;
          color: rgba(255, 255, 255, 0.7);
          font-size: 14px;
        }
        
        .input-group {
          display: flex;
          gap: 12px;
          margin-bottom: 12px;
        }
        
        .input-group input {
          flex: 1;
          padding: 10px 16px;
          background: rgba(255, 255, 255, 0.1);
          border: 1px solid rgba(255, 255, 255, 0.2);
          border-radius: 8px;
          color: white;
          font-size: 14px;
        }
        
        .upload-btn {
          padding: 10px 20px;
          background: linear-gradient(135deg,
            rgba(147, 51, 234, 0.8),
            rgba(79, 70, 229, 0.8)
          );
          border: none;
          border-radius: 8px;
          color: white;
          font-weight: 500;
          cursor: pointer;
        }
        
        .file-drop-zone {
          border: 2px dashed rgba(255, 255, 255, 0.3);
          border-radius: 12px;
          padding: 40px;
          text-align: center;
          cursor: pointer;
          transition: all 0.3s;
        }
        
        .file-drop-zone:hover {
          border-color: rgba(147, 51, 234, 0.5);
          background: rgba(147, 51, 234, 0.05);
        }
        
        .develop-section {
          padding: 20px;
        }
        
        .template-cards {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
          gap: 16px;
          margin-top: 20px;
        }
        
        .template-card {
          background: rgba(255, 255, 255, 0.05);
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 12px;
          padding: 20px;
          text-align: center;
          cursor: pointer;
          transition: all 0.3s;
        }
        
        .template-card:hover {
          background: rgba(255, 255, 255, 0.08);
          border-color: rgba(147, 51, 234, 0.3);
        }
        
        .template-icon {
          font-size: 48px;
          margin-bottom: 12px;
        }
        
        .template-name {
          font-size: 16px;
          font-weight: 600;
          color: white;
          margin-bottom: 8px;
        }
        
        .template-description {
          font-size: 13px;
          color: rgba(255, 255, 255, 0.6);
        }
        
        .empty-state {
          text-align: center;
          padding: 60px 20px;
          color: rgba(255, 255, 255, 0.5);
        }
        
        .empty-state-icon {
          font-size: 64px;
          margin-bottom: 16px;
        }
        
        .loading-state {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 300px;
          color: rgba(255, 255, 255, 0.5);
        }
      `}),l("div",{className:"store-header",children:[l("div",{className:"store-title",children:[l("span",{style:{fontSize:"28px"},children:"ð"}),l("h2",{children:"Plugin Store"})]}),l("div",{className:"store-stats",children:[l("span",{children:["ð¯ ",c.length," Plugins verfÃ¼gbar"]}),l("span",{children:["ð¦ ",u.length," Installiert"]}),l("span",{children:"â­ Community-driven"})]})]}),l("div",{className:"store-tabs",children:T.map(D=>l("button",{className:`tab-button ${o===D.id?"active":""}`,onClick:()=>a(D.id),children:[l("span",{children:D.icon}),l("span",{children:D.label}),D.badge&&l("span",{className:"tab-badge",children:D.badge})]},D.id))}),l("div",{className:"store-content",children:[o==="discover"&&l(ae,{children:[l("div",{className:"store-controls",children:[l("input",{type:"text",className:"search-input",placeholder:"Plugins suchen...",value:y,onChange:D=>g(D.target.value)}),l("div",{className:"category-filter",children:[l("button",{className:`category-btn ${f==="all"?"active":""}`,onClick:()=>p("all"),children:"Alle"}),t.attributes.categories.map(D=>l("button",{className:`category-btn ${f===D.id?"active":""}`,onClick:()=>p(D.id),children:[D.icon," ",D.name]},D.id))]})]}),m?l("div",{className:"loading-state",children:[l("div",{className:"loading-spinner"}),l("p",{children:"Lade Plugins..."})]}):l("div",{className:"plugins-grid",children:q.length>0?q.map(D=>l(U,{plugin:D},D.id)):l("div",{className:"empty-state",children:[l("div",{className:"empty-state-icon",children:"ð"}),l("h3",{children:"Keine Plugins gefunden"}),l("p",{children:"Versuche einen anderen Suchbegriff oder Kategorie"})]})})]}),o==="installed"&&l("div",{className:"plugins-grid",children:u.length>0?u.map(D=>l(U,{plugin:D,installed:!0},D.id)):l("div",{className:"empty-state",children:[l("div",{className:"empty-state-icon",children:"ð¦"}),l("h3",{children:"Keine Plugins installiert"}),l("p",{children:"Entdecke Plugins im Store und erweitere deine Fast Search Card!"}),l("button",{className:"upload-btn",onClick:()=>a("discover"),style:{marginTop:"20px"},children:"Plugins entdecken"})]})}),o==="upload"&&l("div",{className:"upload-section",children:[l("div",{className:"upload-card",children:[l("h3",{children:"ð Plugin von URL installieren"}),l("p",{children:"Installiere ein Plugin direkt von einer URL (JavaScript-Datei)"}),l("div",{className:"input-group",children:[l("input",{type:"text",placeholder:"https://example.com/plugin.js",value:v,onChange:D=>_(D.target.value)}),l("button",{className:"upload-btn",onClick:A,disabled:m||!v,children:m?"Lade...":"Installieren"})]})]}),l("div",{className:"upload-card",children:[l("h3",{children:"ð Plugin von GitHub installieren"}),l("p",{children:"Installiere ein Plugin aus einem GitHub Repository"}),l("div",{className:"input-group",children:[l("input",{type:"text",placeholder:"username/repository",value:k,onChange:D=>w(D.target.value)}),l("button",{className:"upload-btn",onClick:L,disabled:m||!k,children:m?"Lade...":"Von GitHub installieren"})]})]}),l("div",{className:"upload-card",children:[l("h3",{children:"ð¦ Plugin ZIP hochladen"}),l("p",{children:"Lade ein Plugin als ZIP-Datei hoch"}),l("input",{type:"file",ref:O,accept:".zip",style:{display:"none"},onChange:P}),l("div",{className:"file-drop-zone",onClick:()=>O.current?.click(),children:[l("div",{className:"empty-state-icon",children:"â¬ï¸"}),l("h4",{children:"ZIP-Datei hier ablegen"}),l("p",{children:"oder klicken zum AuswÃ¤hlen"})]})]})]}),o==="develop"&&l("div",{className:"develop-section",children:[l("h3",{style:{color:"white",marginBottom:"8px"},children:"ð Plugin entwickeln"}),l("p",{style:{color:"rgba(255,255,255,0.7)",marginBottom:"20px"},children:"Erstelle dein eigenes Plugin mit unseren Templates"}),l("div",{className:"template-cards",children:[l("div",{className:"template-card",onClick:()=>W("basic"),children:[l("div",{className:"template-icon",children:"ð"}),l("div",{className:"template-name",children:"Basic Plugin"}),l("div",{className:"template-description",children:"Einfaches Plugin mit Basis-Funktionen"})]}),l("div",{className:"template-card",onClick:()=>W("visualization"),children:[l("div",{className:"template-icon",children:"ð"}),l("div",{className:"template-name",children:"Visualization Plugin"}),l("div",{className:"template-description",children:"Plugin fÃ¼r Daten-Visualisierung"})]}),l("div",{className:"template-card",onClick:()=>W("integration"),children:[l("div",{className:"template-icon",children:"ð"}),l("div",{className:"template-name",children:"Integration Plugin"}),l("div",{className:"template-description",children:"Service-Integration Plugin"})]})]}),l("div",{className:"upload-card",style:{marginTop:"30px"},children:[l("h3",{children:"ð Dokumentation"}),l("p",{children:"Lerne wie du Plugins fÃ¼r Fast Search Card entwickelst"}),l("ul",{style:{margin:"16px 0",paddingLeft:"20px",color:"rgba(255,255,255,0.7)",fontSize:"14px",lineHeight:"1.6"},children:[l("li",{children:"Plugins sind JavaScript/JSX Module"}),l("li",{children:"Nutze die SystemEntity API"}),l("li",{children:"Zugriff auf Home Assistant via hass"}),l("li",{children:"React/Preact fÃ¼r UI-Komponenten"}),l("li",{children:"Automatische Integration ins System"})]}),l("button",{className:"upload-btn",onClick:()=>{console.group("ð Plugin Development Guide"),console.log("1. Erstelle manifest.json mit Plugin-Metadaten"),console.log("2. Implementiere index.js mit init() und actions"),console.log("3. Optional: Erstelle view.jsx fÃ¼r UI"),console.log("4. Bundle als ZIP oder hoste auf GitHub"),console.log("5. Installiere via Plugin Store"),console.groupEnd(),alert("Dokumentation wurde in die Console geloggt!")},children:"VollstÃ¤ndige Anleitung"})]})]})]})]})}const wM=Object.freeze(Object.defineProperty({__proto__:null,default:_M},Symbol.toStringTag,{value:"Module"}));function kM({entity:t,hass:e,lang:n="de",onBack:i,onNavigate:s}){console.log("ð¥ AllSchedulesView RENDERED",{entity:t,hass:e,lang:n,hasOnNavigate:!!s});const r=J(e),[o,a]=E(!1);G(()=>{let M=!0;return(()=>{if(e&&e.states)r.current=e,M&&a(!0);else{console.log("â ï¸ HASS ohne states - hole echtes HASS aus DOM...");const L=document.querySelector("home-assistant");L&&L.hass&&L.hass.states?(console.log("â Echtes HASS gefunden:",Object.keys(L.hass.states).length,"entities"),r.current=L.hass,M&&a(!0)):(console.warn("â Kein echtes HASS im DOM gefunden"),r.current=e,M&&a(!1))}})(),()=>{M=!1}},[e]);const[c,d]=E("all"),[u,h]=E([]),[f,p]=E([]),[y,g]=E(!1),[m,b]=E(!0),[v,_]=E(0),[k,w]=E({x:0,width:0}),C=J(null),x=M=>$(`schedule.${M}`,n),S=M=>!o||!r.current?.states?.[M]?M:r.current.states[M].attributes?.friendly_name||M,R=ge(M=>({climate:"Klima",light:"Licht",switch:"Schalter",cover:"Rollladen",fan:"LÃ¼fter",media_player:"Medien",scene:"Szene",script:"Skript",automation:"Automation"})[M]||M,[n]),N=M=>M?.type==="timer"||M==="timer"?l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[l("path",{d:"M12 12C15.866 12 19 8.86599 19 5H5C5 8.86599 8.13401 12 12 12ZM12 12C15.866 12 19 15.134 19 19H5C5 15.134 8.13401 12 12 12Z",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M5 2L12 2L19 2",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M5 22H12L19 22",strokeLinecap:"round",strokeLinejoin:"round"})]}):l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[l("path",{d:"M9 2L15 2",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M12 10L12 14",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M12 22C16.4183 22 20 18.4183 20 14C20 9.58172 16.4183 6 12 6C7.58172 6 4 9.58172 4 14C4 18.4183 7.58172 22 12 22Z",strokeLinecap:"round",strokeLinejoin:"round"})]}),F=M=>{const A=[],L=[],P=[x("monday"),x("tuesday"),x("wednesday"),x("thursday"),x("friday"),x("saturday"),x("sunday")],I=["mon","tue","wed","thu","fri","sat","sun"];for(const V of M)try{const W=V.attributes,j=W.timeslots?.[0],q=W.actions?.[0];let U=x("noDays");const D=W.weekdays||[];D.includes("daily")?U=x("daily"):D.includes("weekdays")?U=x("weekdays"):D.includes("weekend")?U=x("weekend"):D.length>0&&(U=D.map(ee=>P[I.indexOf(ee)]||ee).join(", "));let Y=null;const K=q?.service,te=q?.data;K&&(K==="climate.set_temperature"?Y=te?.temperature?`${x("schedule.setTemperature")} - ${te.temperature}Â°C`:x("schedule.setTemperature"):K==="cover.open_cover"?Y=x("schedule.open"):K==="cover.close_cover"?Y=x("schedule.close"):K==="cover.set_cover_position"?Y=te?.position?`${x("schedule.setPosition")} - ${te.position}%`:x("schedule.setPosition"):K.includes("turn_on")?Y=x("schedule.turnOn"):K.includes("turn_off")?Y=x("schedule.turnOff"):Y=K);const qe=(W.entities?.[0]||"unknown.unknown").split(".")[0],B={id:V.entity_id,name:W.friendly_name||V.entity_id,enabled:V.state==="on",entities:W.entities||[],time:j?j.slice(0,5):"00:00",days:U,daysRaw:D,action:Y,actionRaw:q?.service,serviceData:te,repeat_type:W.repeat_type||"repeat",type:W.repeat_type==="single"?"timer":"schedule",domainLabel:R(qe),domainRaw:qe};B.type==="timer"?L.push(B):A.push(B)}catch(W){console.warn(`Konnte Schedule ${V.entity_id} nicht verarbeiten:`,W)}return{allSchedules:A,allTimers:L}};G(()=>{const M=()=>{if(C.current){const L=["all","timer","schedule"].indexOf(c),P=C.current.querySelectorAll(".filter-tab");if(P[L]){const I=P[L],V=C.current.getBoundingClientRect(),W=I.getBoundingClientRect(),j=W.left-V.left,q=W.width;w({x:Math.round(j),width:Math.round(q)})}}};return setTimeout(M,50),window.addEventListener("resize",M),()=>{window.removeEventListener("resize",M)}},[c]),G(()=>{const M=setTimeout(()=>g(!0),50);return()=>clearTimeout(M)},[]),G(()=>{o&&O()},[o,v]);const O=async()=>{b(!0);try{const M=r.current;if(!M?.states){console.error("â Kein HASS mit states gefunden (loadData)!"),b(!1);return}const L=Object.values(M.states).filter(V=>V.entity_id.startsWith("switch.schedule_")&&V.attributes.timeslots);console.log(`ð ${L.length} rohe Schedule-EntitÃ¤ten gefunden.`);const{allSchedules:P,allTimers:I}=F(L);console.log(`â Transformiert: ${P.length} Schedules, ${I.length} Timer`),p(P),h(I),b(!1)}catch(M){console.error("â Fehler beim Laden aller Schedules:",M),p([]),h([]),b(!1)}},T=ge(M=>{if(console.log("ð Schedule geklickt:",M),!M.entities||M.entities.length===0){console.warn("â ï¸ Schedule hat keine Entity:",M);return}const A=M.entities[0];console.log(`ð¯ Navigation zu ${A} mit ScheduleTab`),s?s(A,{openTab:"schedule"}):(console.warn("â ï¸ onNavigate Callback fehlt - Navigation nicht mÃ¶glich"),alert("Navigation nicht verfÃ¼gbar. Bitte onNavigate Prop setzen."))},[s]),H=c==="all"?[...f,...u].sort((M,A)=>M.time.localeCompare(A.time)):c==="timer"?u:c==="schedule"?f:[];return!o||m?l("div",{className:"all-schedules-view loading",children:l("div",{className:"loading-spinner",children:x("loading")||"LÃ¤dt..."})}):l("div",{className:`all-schedules-view ${y?"visible":""}`,children:[l("div",{className:"filter-tabs-container",ref:C,children:[l("div",{className:"filter-tabs",children:[l("button",{className:`filter-tab ${c==="all"?"active":""}`,onClick:()=>d("all"),children:x("all")||"Alle"}),l("button",{className:`filter-tab ${c==="timer"?"active":""}`,onClick:()=>d("timer"),children:x("timer")||"Timer"}),l("button",{className:`filter-tab ${c==="schedule"?"active":""}`,onClick:()=>d("schedule"),children:x("schedules")||"ZeitplÃ¤ne"})]}),l(z.div,{className:"tab-slider",animate:{x:k.x,width:k.width},transition:{type:"spring",stiffness:300,damping:30}})]}),l("div",{className:"schedules-list",children:H.length===0?l("div",{className:"empty-state",children:l("p",{children:x("noSchedules")||"Keine ZeitplÃ¤ne"})}):H.map((M,A)=>l(z.div,{className:"scheduler-item",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:A*.05},onClick:()=>T(M),style:{cursor:"pointer"},children:[l("div",{className:"item-icon",children:N(M)}),l("div",{className:"item-content",children:[l("div",{className:"item-name",children:[l("div",{className:"schedule-entity-info",children:l("span",{className:"entity-name",children:M.entities&&M.entities[0]?S(M.entities[0]):"Unbekannt"})}),l("span",{className:`item-type ${M.domainRaw}`,children:M.domainLabel})]}),l("div",{className:"item-time",children:[M.time&&l("span",{className:"schedule-time",children:["Um ",M.time]}),M.type==="schedule"&&M.days!==x("noDays")&&l(ae,{children:[l("span",{className:"separator",children:"-"}),l("span",{className:"schedule-days",children:M.days})]}),M.action&&l(ae,{children:[l("span",{className:"separator",children:"-"}),l("span",{className:"schedule-action",children:M.action})]})]})]})]},M.id))}),l("div",{className:"info-footer",children:l("p",{children:x("createInDetailView")||"ZeitplÃ¤ne kÃ¶nnen in der Detailansicht der jeweiligen GerÃ¤te erstellt werden."})})]})}const xM=Object.freeze(Object.defineProperty({__proto__:null,default:kM},Symbol.toStringTag,{value:"Module"}));function CM({tempLow:t,tempHigh:e,currentTemp:n=null,globalMin:i,globalMax:s,isToday:r=!1}){const o=s-i,a=(t-i)/o*100,c=(e-t)/o*100;let d=null;if(r&&n!==null){const u=(n-t)/(e-t);d=a+c*u}return l("div",{className:"temperature-bar-container",children:l("div",{className:"temperature-bar-track",children:l("div",{className:"temperature-bar-range",style:{left:`${a}%`,width:`${c}%`},children:r&&d!==null&&l("div",{className:"temperature-bar-current",style:{left:`${(n-t)/(e-t)*100}%`}})})})})}function SM(t){if(!t||t.length===0)return{min:0,max:30};const e=t.flatMap(n=>[n.templow||n.temperature,n.temperature]).filter(n=>n!=null);return{min:Math.min(...e),max:Math.max(...e)}}function MM(t,e,n="de"){const i=[];if(t.apparent_temperature!==void 0&&t.temperature!==void 0&&Math.abs(t.apparent_temperature-t.temperature)>2){const r=Math.round(t.apparent_temperature);i.push(n==="de"?`FÃ¼hlt sich an wie ${r}Â°`:`Feels like ${r}Â°`)}if(t.cloud_coverage!==void 0){const s=t.cloud_coverage;let r="";n==="de"?s>=90?r="Bedeckt den ganzen Tag":s>=70?r="Stark bewÃ¶lkt":s>=40?r="Teils bewÃ¶lkt":s>=20?r="Leicht bewÃ¶lkt":r="Klar":s>=90?r="Overcast all day":s>=70?r="Mostly cloudy":s>=40?r="Partly cloudy":s>=20?r="Mostly clear":r="Clear",i.push(r)}if(e&&e.precipitation_probability!==void 0&&e.precipitation_probability>20){const s=Math.round(e.precipitation_probability);i.push(n==="de"?`${s}% Regenwahrscheinlichkeit`:`${s}% chance of rain`)}if(t.visibility!==void 0&&t.visibility<10){const s=Math.round(t.visibility);i.push(n==="de"?`Sicht ${s} km`:`Visibility ${s} km`)}if(t.wind_gust_speed!==void 0&&t.wind_gust_speed>40){const s=Math.round(t.wind_gust_speed);i.push(n==="de"?`WindbÃ¶en bis ${s} km/h`:`Wind gusts up to ${s} km/h`)}return i.join(". ")+(i.length>0?".":"")}function AM({currentWeather:t,forecast:e,lang:n="de"}){if(!t)return null;const i=MM(t,e,n);return i?l("div",{className:"weather-summary-text",children:i}):null}const Zh={hidden:{opacity:0,scale:.8,transition:{duration:.15,ease:[.4,0,1,1]}},visible:{opacity:1,scale:1,backgroundColor:"rgba(0, 0, 0, 0.5)",transition:{duration:.25,ease:[.25,.46,.45,.94]}},hover:{scale:1.15,backgroundColor:"rgba(255, 255, 255, 0.25)",transition:{duration:.2}}};function LM({hourlyData:t=[],currentWeather:e=null,todayForecast:n=null,lang:i="de"}){const[s,r]=E(!1),[o,a]=E(!1),c=J(null);if(!t||t.length===0)return null;const d=()=>{if(!c.current)return;const{scrollLeft:f,scrollWidth:p,clientWidth:y}=c.current;r(f>0),a(f<p-y-5)};G(()=>{d();const f=c.current;if(f)return f.addEventListener("scroll",d),window.addEventListener("resize",d),()=>{f.removeEventListener("scroll",d),window.removeEventListener("resize",d)}},[t]);const u=(f,p)=>{if(f.preventDefault(),!c.current)return;const y=300,g=c.current.scrollLeft,m=p==="left"?g-y:g+y;c.current.scrollTo({left:m,behavior:"smooth"})},h=f=>{const y=new Date(f).getHours();return t[0]===t.find(g=>g.datetime===f)?"Jetzt":`${y}:00`};return l("div",{className:"hourly-forecast",style:{position:"relative"},children:[l(AM,{currentWeather:e,forecast:n,lang:i}),l("div",{className:"hourly-forecast-scroll",ref:c,children:t.slice(0,24).map((f,p)=>l(z.div,{className:"hourly-forecast-item",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{type:"spring",damping:25,stiffness:120,delay:.02*p},children:[l("div",{className:"hourly-time",children:h(f.datetime)}),l("div",{className:"hourly-icon",children:Jr(f.condition,22,"#FFFFFF",!0)}),l("div",{className:"hourly-temp",children:[Math.round(f.temperature),"Â°"]}),f.precipitation_probability!==void 0&&f.precipitation_probability>0&&l("div",{className:"hourly-precipitation",children:[l(Eg,{size:12,color:"white"}),l("span",{children:[Math.round(f.precipitation_probability),"%"]})]})]},f.datetime||p))}),l($e,{children:s&&l(z.div,{className:"scroll-indicator scroll-indicator-left",onClick:f=>u(f,"left"),variants:Zh,initial:"hidden",animate:"visible",exit:"hidden",whileHover:"hover",whileTap:{scale:.95},children:l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l("polyline",{points:"15 18 9 12 15 6"})})})}),l($e,{children:o&&l(z.div,{className:"scroll-indicator scroll-indicator-right",onClick:f=>u(f,"right"),variants:Zh,initial:"hidden",animate:"visible",exit:"hidden",whileHover:"hover",whileTap:{scale:.95},children:l("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l("polyline",{points:"9 18 15 12 9 6"})})})})]})}function TM({value:t,className:e=""}){const n=ya(t,{damping:20,stiffness:100,mass:.5});G(()=>{n.set(t)},[t,n]);const i=Jn(n,s=>Math.round(s));return l(z.span,{className:e,children:i})}function EM({entity:t,hass:e,lang:n="de",onBack:i,onNavigate:s,onServiceCall:r}){const[o,a]=E(null),[c,d]=E([]),[u,h]=E([]),[f,p]=E(!0),[y,g]=E(null),[m,b]=E([]),[v,_]=E(null);G(()=>{console.log("ð¤ï¸ WeatherView mounted/updated"),console.log("   - entity:",t),console.log("   - entity.id:",t?.id),console.log("   - entity.domain:",t?.domain),console.log("   - entity.executeAction:",typeof t?.executeAction),console.log("   - hass exists:",!!e),console.log("   - hass.states exists:",!!e?.states),k()},[v]);const k=async()=>{p(!0),g(null);try{if(!t||typeof t.executeAction!="function")throw console.error("Entity does not have executeAction method:",t),new Error("Invalid entity instance");const C=await t.executeAction("getCurrentWeather",{hass:e,entity_id:v});if(!C)throw new Error("No weather data returned");a(C);const x=await t.executeAction("getForecast",{hass:e,entity_id:v,type:"daily"});d(x||[]);try{const S=await t.executeAction("getForecast",{hass:e,entity_id:v,type:"hourly"});h(S||[])}catch(S){console.warn("Hourly forecast not available:",S),h([])}t.attributes.locations&&t.attributes.locations.length>0&&b(t.attributes.locations)}catch(C){console.error("Failed to load weather data:",C),g("Wetterdaten konnten nicht geladen werden")}finally{p(!1)}},w=C=>{const x=["So","Mo","Di","Mi","Do","Fr","Sa"],S=new Date(C);return x[S.getDay()]};return f?l("div",{className:"weather-view",children:l("div",{className:"weather-loading",children:l("div",{className:"loading-spinner",children:"LÃ¤dt Wetterdaten..."})})}):y||!o?l("div",{className:"weather-view",children:l("div",{className:"weather-error",children:[l("div",{style:{fontSize:"48px",opacity:.5},children:"â ï¸"}),l("p",{children:y||"Keine Wetterdaten verfÃ¼gbar"}),l("button",{onClick:k,className:"retry-button",children:"Erneut versuchen"})]})}):l("div",{className:"weather-view",children:[m.length>0&&l("div",{className:"weather-location-selector",children:l("select",{value:v||"",onChange:C=>_(C.target.value||null),className:"location-dropdown",children:[l("option",{value:"",children:"Standard"}),m.map(C=>l("option",{value:C.entity_id,children:[C.name," ",C.is_primary?"â­":""]},C.id))]})}),l(z.div,{className:"weather-current",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{type:"spring",damping:20,stiffness:100},children:[l("div",{className:"weather-location",children:o.friendly_name||o.location||t?.attributes?.friendly_name||t?.name||"Wetter"}),l("div",{className:"weather-temperature-large",children:[l(TM,{value:o.temperature,className:"temp-number"}),l("span",{className:"temp-unit",children:"Â°"})]}),l("div",{className:"weather-condition",children:DM(o.condition,n)}),c.length>0&&l("div",{className:"weather-high-low",children:["H:",Math.round(c[0].temperature),"Â° T:",Math.round(c[0].templow||c[0].temperature-5),"Â°"]}),l("div",{className:"weather-icon-large",children:l(F3,{condition:o.condition,size:96,color:"#FFFFFF",animated:!0})}),l("div",{className:"weather-metrics",children:[o.humidity!==void 0&&l("div",{className:"metric",children:[l("div",{className:"metric-icon",children:l(Eg,{size:20,color:"white"})}),l("div",{className:"metric-value",children:[Math.round(o.humidity),"%"]})]}),o.wind_speed!==void 0&&l("div",{className:"metric",children:[l("div",{className:"metric-icon",children:l(E3,{size:20,color:"white"})}),l("div",{className:"metric-value",children:[Math.round(o.wind_speed)," ",o.wind_speed_unit]})]}),o.pressure!==void 0&&l("div",{className:"metric",children:[l("div",{className:"metric-icon",children:l(D3,{size:20,color:"white"})}),l("div",{className:"metric-value",children:[Math.round(o.pressure)," ",o.pressure_unit]})]})]})]}),u.length>0&&l(LM,{hourlyData:u,currentWeather:o,todayForecast:c.length>0?c[0]:null,lang:n}),c.length>0&&(()=>{const{min:C,max:x}=SM(c.slice(0,10));return l(z.div,{className:"weather-forecast",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{type:"spring",damping:20,stiffness:100,delay:.1},children:[l("h3",{className:"forecast-title",children:"10-Tage Vorhersage"}),l("div",{className:"forecast-list",children:c.slice(0,10).map((S,R)=>{const N=R===0;return l(z.div,{className:"forecast-day",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{type:"spring",damping:25,stiffness:120,delay:.05*R},children:[l("div",{className:"forecast-weekday",children:N?"Heute":w(S.datetime)}),l("div",{className:"forecast-icon",children:Jr(S.condition,22,"#FFFFFF",!0)}),l("div",{className:"forecast-precipitation",children:S.precipitation_probability!==void 0&&S.precipitation_probability>0?`${Math.round(S.precipitation_probability)}%`:l("span",{style:{opacity:.3},children:"â"})}),l("div",{className:"forecast-temp-container",children:[l("span",{className:"temp-low",children:[Math.round(S.templow||S.temperature-5),"Â°"]}),l(CM,{tempLow:S.templow||S.temperature-5,tempHigh:S.temperature,currentTemp:N?o.temperature:null,globalMin:C,globalMax:x,isToday:N}),l("span",{className:"temp-high",children:[Math.round(S.temperature),"Â°"]})]})]},S.datetime)})})]})})()]})}function DM(t,e){const n={de:{"clear-night":"Klare Nacht",cloudy:"BewÃ¶lkt",fog:"Nebel",hail:"Hagel",lightning:"Gewitter","lightning-rainy":"Gewitter mit Regen",partlycloudy:"Teilweise bewÃ¶lkt","partly-cloudy":"Teilweise bewÃ¶lkt",pouring:"Starkregen",rainy:"Regnerisch",snowy:"Schneefall","snowy-rainy":"Schneeregen",sunny:"Sonnig",windy:"Windig","windy-variant":"StÃ¼rmisch",exceptional:"AuÃergewÃ¶hnlich"},en:{"clear-night":"Clear night",cloudy:"Cloudy",fog:"Fog",hail:"Hail",lightning:"Lightning","lightning-rainy":"Thunderstorm",partlycloudy:"Partly cloudy","partly-cloudy":"Partly cloudy",pouring:"Pouring",rainy:"Rainy",snowy:"Snowy","snowy-rainy":"Sleet",sunny:"Sunny",windy:"Windy","windy-variant":"Stormy",exceptional:"Exceptional"}};return(n[e]||n.de)[t]||t}const FM=Object.freeze(Object.defineProperty({__proto__:null,default:EM},Symbol.toStringTag,{value:"Module"}));function qh(){try{const t=localStorage.getItem("newsSettings");if(t)return JSON.parse(t)}catch(t){console.error("Failed to load settings:",t)}return{feeds:{},display:{maxAge:7,maxArticles:100,showImages:!0,autoMarkRead:!1,defaultFilter:"all"}}}function NM(t){try{localStorage.setItem("newsSettings",JSON.stringify(t)),console.log("ð° Settings saved:",t)}catch(e){console.error("Failed to save settings:",e)}}function PM(t){if(!t)return console.error("â NewsView: Props are undefined!"),l("div",{style:{padding:"40px",textAlign:"center",color:"white"},children:[l("h3",{children:"Error: Component Props Missing"}),l("p",{children:"NewsView was called without props"})]});console.log("ð° NewsView called with props:",t);const{entity:e,hass:n,lang:i="de",onBack:s}=t,[r,o]=E([]),[a,c]=E([]),[d,u]=E(!0),[h,f]=E(null),[p,y]=E(!1),[g,m]=E(null),[b,v]=E(!1),[_,k]=E("feeds"),[w,C]=E(()=>qh()),[x,S]=E(()=>qh().display.defaultFilter||"all"),[R,N]=E(!1),[F,O]=E(!1),T=J(null),H=()=>{if(g){m(null);return}if(b){v(!1);return}s&&s()};G(()=>(window._newsViewRef={handleOpenSettings:()=>v(!0),handleRefresh:L,handleBackNavigation:H},()=>{delete window._newsViewRef}),[g,b,s]),G(()=>{console.log("ð° NewsView mounted/updated"),console.log("   - entity:",e),console.log("   - entity.id:",e?.id),console.log("   - hass exists:",!!n),A()},[]),G(()=>{P(x)},[x,r]),G(()=>{const B=()=>{const X=T.current;if(!X)return;const{scrollLeft:fe,scrollWidth:Ee,clientWidth:dt}=X;N(fe>10),O(fe<Ee-dt-10)},ee=T.current;if(ee)return B(),ee.addEventListener("scroll",B),window.addEventListener("resize",B),()=>{ee.removeEventListener("scroll",B),window.removeEventListener("resize",B)}},[r,x]);const M=B=>{const ee=T.current;if(!ee)return;const X=200,fe=B==="left"?ee.scrollLeft-X:ee.scrollLeft+X;ee.scrollTo({left:fe,behavior:"smooth"})},A=async()=>{u(!0),f(null);try{if(!e||typeof e.executeAction!="function")throw console.error("Entity does not have executeAction method:",e),new Error("Invalid entity instance");const B=await e.executeAction("getArticles",{hass:n,refresh:!1});if(!B)throw new Error("No articles returned");console.log(`ð° Loaded ${B.length} articles`),o(B),c(B)}catch(B){console.error("Failed to load news:",B),f(B.message)}finally{u(!1)}},L=async()=>{y(!0);try{const B=await e.executeAction("refreshFeeds",{hass:n});o(B)}catch(B){console.error("Failed to refresh feeds:",B)}finally{y(!1)}},P=B=>{c(B==="all"?r:B==="unread"?r.filter(ee=>!ee.read):B==="favorites"?r.filter(ee=>ee.favorite):r.filter(ee=>ee.category===B))},I=async B=>{console.log("ð° Article clicked:",B.id),w.display.autoMarkRead&&(await e.executeAction("markAsRead",{articleId:B.id}),o(ee=>ee.map(X=>X.id===B.id?{...X,read:!0}:X)),B={...B,read:!0}),m(B)},V=async B=>{const ee=!B.read;ee?await e.executeAction("markAsRead",{articleId:B.id}):await e.executeAction("markAsUnread",{articleId:B.id}),o(X=>X.map(fe=>fe.id===B.id?{...fe,read:ee}:fe)),g&&g.id===B.id&&m({...B,read:ee})},W=B=>{B.link&&window.open(B.link,"_blank")},j=B=>{C(B),NM(B),A()},q=(B,ee)=>{const X={...w,feeds:{...w.feeds,[B]:{...w.feeds[B],category:ee,enabled:w.feeds[B]?.enabled!==!1}}};j(X)},U=B=>{const ee=w.feeds[B]?.enabled!==!1,X={...w,feeds:{...w.feeds,[B]:{...w.feeds[B],enabled:!ee}}};j(X)},D=async(B,ee)=>{ee&&ee.stopPropagation(),await e.executeAction("toggleFavorite",{articleId:B.id});let X=!1;o(fe=>fe.map(Ee=>Ee.id===B.id?(X=!Ee.favorite,{...Ee,favorite:X}):Ee)),g&&g.id===B.id&&m(fe=>({...fe,favorite:X}))},Y=()=>{const B=new Set(r.map(ee=>ee.category).filter(ee=>ee));return Array.from(B).sort()},K=B=>r.filter(ee=>ee.category===B).length,te=()=>r.filter(B=>!B.read).length;if(d)return l("div",{className:"news-view-container",children:l("div",{className:"news-loading",children:[l("div",{className:"loading-spinner"}),l("p",{children:i==="de"?"Lade Nachrichten...":"Loading news..."})]})});if(h)return l("div",{className:"news-view-container",children:l("div",{className:"news-error",children:[l("h3",{children:i==="de"?"Fehler":"Error"}),l("p",{children:h}),l("button",{onClick:A,className:"retry-button",children:i==="de"?"Erneut versuchen":"Retry"})]})});const qe=e?.attributes?.has_feedreader;if(!d&&!qe)return l("div",{className:"news-view-container",children:l("div",{className:"news-feedparser-hint",children:[l("div",{className:"hint-icon",children:l("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"2"}),l("path",{d:"M12 16v-4M12 8h.01",strokeWidth:"2",strokeLinecap:"round"})]})}),l("h2",{children:i==="de"?"Feedreader nicht konfiguriert":"Feedreader not configured"}),l("p",{className:"hint-description",children:i==="de"?"Um RSS Feeds zu nutzen, konfiguriere die Feedreader Integration in Home Assistant.":"To use RSS feeds, configure the Feedreader integration in Home Assistant."}),l("div",{className:"hint-steps",children:[l("h3",{children:i==="de"?"Einrichtung:":"Setup:"}),l("ol",{children:[l("li",{children:i==="de"?"Ãffne Einstellungen â GerÃ¤te & Dienste":"Open Settings â Devices & Services"}),l("li",{children:i==="de"?'Klicke auf "Integration hinzufÃ¼gen"':'Click "Add Integration"'}),l("li",{children:i==="de"?'Suche nach "Feedreader"':'Search for "Feedreader"'}),l("li",{children:i==="de"?"FÃ¼ge deine RSS Feed-URLs hinzu":"Add your RSS feed URLs"})]})]}),l("div",{className:"hint-example",children:[l("h3",{children:i==="de"?"Beispiel Feed-URLs:":"Example Feed URLs:"}),l("pre",{children:`https://www.heise.de/rss/heise.rdf
https://www.tagesschau.de/xml/rss2/
https://feeds.bbci.co.uk/news/rss.xml`})]}),l("a",{href:"https://www.home-assistant.io/integrations/feedreader/",target:"_blank",rel:"noopener noreferrer",className:"hint-link-button",children:[l("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l("polyline",{points:"15 3 21 3 21 9",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l("line",{x1:"10",y1:"14",x2:"21",y2:"3",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),i==="de"?"Zur Home Assistant Dokumentation":"Open Home Assistant Documentation"]})]})});if(g)return l("div",{className:"news-view-container",children:[l("div",{className:"news-detail-actions-container",style:{padding:"20px",display:"flex",justifyContent:"flex-end",gap:"8px"},children:[l("button",{onClick:()=>V(g),className:"news-action-button",title:g.read?i==="de"?"Als ungelesen markieren":"Mark as unread":i==="de"?"Als gelesen markieren":"Mark as read",children:l("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:g.read?"currentColor":"none",stroke:"currentColor",children:[l("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z",strokeWidth:"2"}),l("circle",{cx:"12",cy:"12",r:"3",strokeWidth:"2"})]})}),l("button",{onClick:B=>D(g,B),className:`news-action-button ${g.favorite?"active":""}`,title:i==="de"?"Favorit":"Favorite",children:l("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:g.favorite?"currentColor":"none",stroke:"currentColor",children:l("path",{d:"M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5C2 5.42 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.09C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.42 22 8.5C22 12.28 18.6 15.36 13.45 20.04L12 21.35Z",strokeWidth:"2"})})})]}),l("div",{className:"news-detail-content",children:l(z.div,{className:"news-detail-article",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[g.thumbnail&&w.display.showImages&&l("div",{className:"article-detail-thumbnail",children:l("img",{src:g.thumbnail,alt:g.title})}),l("div",{className:"article-detail-meta",children:[l("span",{className:"article-detail-source",children:g.source}),l("span",{className:"article-separator",children:"Â·"}),l("span",{className:"article-detail-time",children:RM(g.published,i)}),g.category&&l(ae,{children:[l("span",{className:"article-separator",children:"Â·"}),l("span",{className:`article-category-badge category-${g.category}`,children:g.category})]})]}),l("h1",{className:"article-detail-title",children:g.title}),g.description&&l("p",{className:"article-detail-description",children:g.description}),g.content&&g.content!==g.description&&l("div",{className:"article-detail-body",children:g.content}),l("button",{onClick:()=>W(g),className:"article-detail-link-button",children:[l("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[l("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l("polyline",{points:"15 3 21 3 21 9",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l("line",{x1:"10",y1:"14",x2:"21",y2:"3",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),i==="de"?"Artikel Ã¶ffnen":"Open Article"]})]})})]});if(b){const B=n&&n.states?Object.keys(n.states).filter(X=>X.startsWith("event.")&&(n.states[X].attributes?.event_type==="feedreader"||n.states[X].attributes?.event_types?.includes("feedreader"))):[];console.log("ð° Settings: Found feeds:",B);const ee=["news","tech","smarthome","sport","entertainment","politics","business"];return l("div",{className:"news-view-container",children:[l("div",{className:"news-settings-tabs",children:[l("button",{className:`settings-tab ${_==="feeds"?"active":""}`,onClick:()=>k("feeds"),children:["ð° ","Feeds"]}),l("button",{className:`settings-tab ${_==="settings"?"active":""}`,onClick:()=>k("settings"),children:["âï¸ ",i==="de"?"Einstellungen":"Settings"]})]}),l("div",{className:"news-settings-content",children:[_==="feeds"&&l("div",{className:"settings-feeds-list",children:[l("h2",{children:i==="de"?"Feed-Verwaltung":"Feed Management"}),l("p",{className:"settings-hint",children:i==="de"?"Ordne deinen Feeds Kategorien zu und aktiviere/deaktiviere sie.":"Assign categories to your feeds and enable/disable them."}),B.length===0?l("p",{className:"no-feeds-message",children:i==="de"?"Keine Feedreader-Feeds gefunden. Bitte konfiguriere Feedreader in Home Assistant.":"No Feedreader feeds found. Please configure Feedreader in Home Assistant."}):B.map(X=>{const fe=w.feeds[X]||{},Ee=fe.enabled!==!1,dt=fe.category||"news",Ve=n.states[X],de=Ve?.attributes?.friendly_name||X.replace("event.","").replace(/_/g," "),ze=r.filter(Fe=>Fe.source===de||Fe.source===Ve?.attributes?.friendly_name);return l("div",{className:"feed-item",children:[l("div",{className:"feed-item-header",children:[l("div",{className:"feed-info",children:[l("h3",{children:de}),l("span",{className:"feed-count",children:[ze.length," ",i==="de"?"Artikel":"Articles"]})]}),l("label",{className:"feed-toggle",children:[l("input",{type:"checkbox",checked:Ee,onChange:()=>U(X)}),l("span",{className:"toggle-slider"})]})]}),l("div",{className:"feed-item-category",children:[l("label",{children:i==="de"?"Kategorie:":"Category:"}),l("select",{value:dt,onChange:Fe=>q(X,Fe.target.value),disabled:!Ee,children:ee.map(Fe=>l("option",{value:Fe,children:Fe.charAt(0).toUpperCase()+Fe.slice(1)},Fe))})]})]},X)})]}),_==="settings"&&l("div",{className:"settings-options",children:[l("h2",{children:i==="de"?"Anzeige-Einstellungen":"Display Settings"}),l("div",{className:"setting-item",children:[l("label",{children:i==="de"?"ð Artikelalter":"ð Article Age"}),l("p",{className:"setting-description",children:i==="de"?"Zeige nur Artikel der letzten...":"Show only articles from the last..."}),l("select",{value:w.display.maxAge,onChange:X=>j({...w,display:{...w.display,maxAge:parseInt(X.target.value)}}),children:[l("option",{value:"1",children:i==="de"?"24 Stunden":"24 Hours"}),l("option",{value:"3",children:i==="de"?"3 Tage":"3 Days"}),l("option",{value:"7",children:i==="de"?"7 Tage (Standard)":"7 Days (Default)"}),l("option",{value:"14",children:i==="de"?"14 Tage":"14 Days"}),l("option",{value:"30",children:i==="de"?"30 Tage (Maximum)":"30 Days (Maximum)"})]}),l("p",{className:"setting-description",style:{marginTop:"8px",fontSize:"12px",opacity:.7},children:i==="de"?"Hinweis: Feedreader-Events sind maximal 30 Tage verfÃ¼gbar.":"Note: Feedreader events are available for maximum 30 days."})]}),l("div",{className:"setting-item",children:[l("label",{children:i==="de"?"ð¢ Maximale Artikel-Anzahl":"ð¢ Maximum Articles"}),l("input",{type:"number",min:"10",max:"500",value:w.display.maxArticles,onChange:X=>j({...w,display:{...w.display,maxArticles:parseInt(X.target.value)}})})]}),l("div",{className:"setting-item",children:l("label",{className:"checkbox-label",children:[l("input",{type:"checkbox",checked:w.display.showImages,onChange:X=>j({...w,display:{...w.display,showImages:X.target.checked}})}),i==="de"?"ð¼ï¸ Artikel-Bilder anzeigen":"ð¼ï¸ Show Article Images"]})}),l("div",{className:"setting-item",children:l("label",{className:"checkbox-label",children:[l("input",{type:"checkbox",checked:w.display.autoMarkRead,onChange:X=>j({...w,display:{...w.display,autoMarkRead:X.target.checked}})}),i==="de"?"ð Beim Ãffnen als gelesen markieren":"ð Mark as read when opening"]})}),l("div",{className:"setting-item",children:[l("label",{children:i==="de"?"ð¯ Standard-Filter":"ð¯ Default Filter"}),l("select",{value:w.display.defaultFilter,onChange:X=>j({...w,display:{...w.display,defaultFilter:X.target.value}}),children:[l("option",{value:"all",children:i==="de"?"Alle":"All"}),l("option",{value:"unread",children:i==="de"?"Ungelesen":"Unread"}),l("option",{value:"favorites",children:i==="de"?"Favoriten":"Favorites"})]})]})]})]})]})}return l("div",{className:"news-view-container",children:[l(z.div,{className:"news-filter-bar",initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},style:{position:"relative"},children:[l($e,{children:R&&l(z.div,{className:"news-scroll-indicator news-scroll-indicator-left",onClick:()=>M("left"),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},children:l("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l("path",{d:"M15 18L9 12L15 6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),l($e,{children:F&&l(z.div,{className:"news-scroll-indicator news-scroll-indicator-right",onClick:()=>M("right"),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},children:l("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l("path",{d:"M9 18L15 12L9 6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),l("div",{className:"filter-tabs",ref:T,children:[l("button",{className:`filter-tab ${x==="all"?"active":""}`,onClick:()=>S("all"),children:[i==="de"?"Alle":"All"," (",r.length,")"]}),l("button",{className:`filter-tab ${x==="unread"?"active":""}`,onClick:()=>S("unread"),children:[i==="de"?"Ungelesen":"Unread"," (",te(),")"]}),l("button",{className:`filter-tab ${x==="favorites"?"active":""}`,onClick:()=>S("favorites"),children:[i==="de"?"Favoriten":"Favorites"," (",r.filter(B=>B.favorite).length,")"]}),Y().map(B=>l("button",{className:`filter-tab category-${B} ${x===B?"active":""}`,onClick:()=>S(B),children:[B.charAt(0).toUpperCase()+B.slice(1)," (",K(B),")"]},B))]})]}),l("div",{className:"news-feed",children:l($e,{mode:"wait",children:a.length===0?l(z.div,{className:"news-empty",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:r.length===0?l(ae,{children:[l("div",{className:"empty-icon",children:"ð­"}),l("h3",{children:i==="de"?"Keine Artikel vorhanden":"No articles available"}),l("p",{children:i==="de"?"Warte auf neue Artikel oder passe deine Einstellungen an":"Waiting for new articles or adjust your settings"})]}):x==="unread"?l(ae,{children:[l("div",{className:"empty-icon",children:"â¨"}),l("h3",{children:i==="de"?"Alles gelesen!":"All caught up!"}),l("p",{children:i==="de"?"Du bist auf dem neuesten Stand":"You're up to date"})]}):x==="favorites"?l(ae,{children:[l("div",{className:"empty-icon",children:"â­"}),l("h3",{children:i==="de"?"Keine Favoriten":"No favorites"}),l("p",{children:i==="de"?"Markiere Artikel als Favoriten um sie hier zu sehen":"Mark articles as favorites to see them here"})]}):l(ae,{children:[l("div",{className:"empty-icon",children:"ð"}),l("h3",{children:i==="de"?"Keine Artikel in dieser Kategorie":"No articles in this category"}),l("p",{children:i==="de"?`Keine Artikel fÃ¼r "${x}" gefunden`:`No articles found for "${x}"`})]})}):l(z.div,{className:"news-articles-list",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.map((B,ee)=>l(z.div,{className:`news-article-card ${B.read?"read":"unread"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{type:"spring",damping:25,stiffness:120,delay:ee*.05},onClick:()=>I(B),children:[B.thumbnail&&w.display.showImages&&l("div",{className:"article-thumbnail",children:l("img",{src:B.thumbnail,alt:B.title})}),l("div",{className:"article-content",children:[B.category&&l("span",{className:`article-category-badge category-${B.category}`,children:B.category}),l("h3",{className:"article-title",children:B.title}),l("div",{className:"article-footer",children:[l("span",{className:"article-source",children:B.source}),l("span",{className:"article-separator",children:"Â·"}),l("span",{className:"article-reading-time",children:[IM(B.content||B.description)," ",i==="de"?"Min":"min"]}),l("span",{className:"article-separator",children:"Â·"}),l("span",{className:"article-date",children:new Date(B.published).toLocaleDateString(i==="de"?"de-DE":"en-US",{day:"numeric",month:"short"})})]})]}),l("button",{className:`article-favorite-button ${B.favorite?"active":""}`,onClick:X=>D(B,X),children:l("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:B.favorite?"currentColor":"none",children:l("path",{d:"M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5C2 5.42 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.09C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.42 22 8.5C22 12.28 18.6 15.36 13.45 20.04L12 21.35Z",stroke:"currentColor",strokeWidth:"2"})})})]},B.id))})})})]})}function IM(t){if(!t)return 1;const e=200,n=t.split(/\s+/).length,i=Math.ceil(n/e);return Math.max(1,i)}function RM(t,e="de"){const n=new Date,i=new Date(t),s=n-i,r=Math.floor(s/6e4),o=Math.floor(s/36e5),a=Math.floor(s/864e5);return e==="de"?r<1?"gerade eben":r<60?`vor ${r} Min`:o<24?`vor ${o} Std`:a<7?`vor ${a} Tag${a>1?"en":""}`:i.toLocaleDateString("de-DE"):r<1?"just now":r<60?`${r}m ago`:o<24?`${o}h ago`:a<7?`${a}d ago`:i.toLocaleDateString("en-US")}const OM=Object.freeze(Object.defineProperty({__proto__:null,default:PM},Symbol.toStringTag,{value:"Module"}));

// Final checks
if (!window.FastSearchCardApp) {
  console.error('[FastSearchCard] App interface not found after bundle load!');
}
