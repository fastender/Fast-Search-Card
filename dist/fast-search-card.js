!function(){"use strict";var t,e,n,r,i,s,o,a,u,l,c,h,d={},f=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,m=Array.isArray;function _(t,e){for(var n in e)t[n]=e[n];return t}function g(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function y(e,n,r){var i,s,o,a={};for(o in n)"key"==o?i=n[o]:"ref"==o?s=n[o]:a[o]=n[o];if(arguments.length>2&&(a.children=arguments.length>3?t.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return v(e,a,i,s,null)}function v(t,r,i,s,o){var a={type:t,props:r,key:i,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==o?++n:o,__i:-1,__u:0};return null==o&&null!=e.vnode&&e.vnode(a),a}function b(){return{current:null}}function x(t){return t.children}function A(t,e){this.props=t,this.context=e}function w(t,e){if(null==e)return t.__?w(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?w(t):null}function C(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return C(t)}}function S(t){(!t.__d&&(t.__d=!0)&&r.push(t)&&!M.__r++||i!=e.debounceRendering)&&((i=e.debounceRendering)||s)(M)}function M(){for(var t,n,i,s,a,u,l,c=1;r.length;)r.length>c&&r.sort(o),t=r.shift(),c=r.length,t.__d&&(i=void 0,a=(s=(n=t).__v).__e,u=[],l=[],n.__P&&((i=_({},s)).__v=s.__v+1,e.vnode&&e.vnode(i),P(n.__P,i,s,n.__n,n.__P.namespaceURI,32&s.__u?[a]:null,u,null==a?w(s):a,!!(32&s.__u),l),i.__v=s.__v,i.__.__k[i.__i]=i,R(u,i,l),i.__e!=a&&C(i)));M.__r=0}function k(t,e,n,r,i,s,o,a,u,l,c){var h,p,_,g,y,b,A,C=r&&r.__k||f,S=e.length;for(u=function(t,e,n,r,i){var s,o,a,u,l,c=n.length,h=c,d=0;for(t.__k=new Array(i),s=0;s<i;s++)null!=(o=e[s])&&"boolean"!=typeof o&&"function"!=typeof o?(u=s+d,(o=t.__k[s]="string"==typeof o||"number"==typeof o||"bigint"==typeof o||o.constructor==String?v(null,o,null,null,null):m(o)?v(x,{children:o},null,null,null):null==o.constructor&&o.__b>0?v(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=t,o.__b=t.__b+1,a=null,-1!=(l=o.__i=F(o,n,u,h))&&(h--,(a=n[l])&&(a.__u|=2)),null==a||null==a.__v?(-1==l&&(i>c?d--:i<c&&d++),"function"!=typeof o.type&&(o.__u|=4)):l!=u&&(l==u-1?d--:l==u+1?d++:(l>u?d--:d++,o.__u|=4))):t.__k[s]=null;if(h)for(s=0;s<c;s++)null!=(a=n[s])&&!(2&a.__u)&&(a.__e==r&&(r=w(a)),L(a,a));return r}(n,e,C,u,S),h=0;h<S;h++)null!=(_=n.__k[h])&&(p=-1==_.__i?d:C[_.__i]||d,_.__i=h,b=P(t,_,p,i,s,o,a,u,l,c),g=_.__e,_.ref&&p.ref!=_.ref&&(p.ref&&N(p.ref,null,_),c.push(_.ref,_.__c||g,_)),null==y&&null!=g&&(y=g),(A=!!(4&_.__u))||p.__k===_.__k?u=E(_,u,t,A):"function"==typeof _.type&&void 0!==b?u=b:g&&(u=g.nextSibling),_.__u&=-7);return n.__e=y,u}function E(t,e,n,r){var i,s;if("function"==typeof t.type){for(i=t.__k,s=0;i&&s<i.length;s++)i[s]&&(i[s].__=t,e=E(i[s],e,n,r));return e}t.__e!=e&&(r&&(e&&t.type&&!e.parentNode&&(e=w(t)),n.insertBefore(t.__e,e||null)),e=t.__e);do{e=e&&e.nextSibling}while(null!=e&&8==e.nodeType);return e}function T(t,e){return e=e||[],null==t||"boolean"==typeof t||(m(t)?t.some(function(t){T(t,e)}):e.push(t)),e}function F(t,e,n,r){var i,s,o,a=t.key,u=t.type,l=e[n],c=null!=l&&!(2&l.__u);if(null===l&&null==t.key||c&&a==l.key&&u==l.type)return n;if(r>(c?1:0))for(i=n-1,s=n+1;i>=0||s<e.length;)if(null!=(l=e[o=i>=0?i--:s++])&&!(2&l.__u)&&a==l.key&&u==l.type)return o;return-1}function D(t,e,n){"-"==e[0]?t.setProperty(e,null==n?"":n):t[e]=null==n?"":"number"!=typeof n||p.test(e)?n:n+"px"}function V(t,e,n,r,i){var s,o;t:if("style"==e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||D(t.style,e,"");if(n)for(e in n)r&&n[e]==r[e]||D(t.style,e,n[e])}else if("o"==e[0]&&"n"==e[1])s=e!=(e=e.replace(a,"$1")),o=e.toLowerCase(),e=o in t||"onFocusOut"==e||"onFocusIn"==e?o.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=u,t.addEventListener(e,s?c:l,s)):t.removeEventListener(e,s?c:l,s);else{if("http://www.w3.org/2000/svg"==i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=e&&"height"!=e&&"href"!=e&&"list"!=e&&"form"!=e&&"tabIndex"!=e&&"download"!=e&&"rowSpan"!=e&&"colSpan"!=e&&"role"!=e&&"popover"!=e&&e in t)try{t[e]=null==n?"":n;break t}catch(h){}"function"==typeof n||(null==n||!1===n&&"-"!=e[4]?t.removeAttribute(e):t.setAttribute(e,"popover"==e&&1==n?"":n))}}function B(t){return function(n){if(this.l){var r=this.l[n.type+t];if(null==n.t)n.t=u++;else if(n.t<r.u)return;return r(e.event?e.event(n):n)}}}function P(n,r,i,s,o,a,u,l,c,h){var f,p,y,v,b,C,S,M,E,T,F,D,B,P,R,N,L,$=r.type;if(null!=r.constructor)return null;128&i.__u&&(c=!!(32&i.__u),a=[l=r.__e=i.__e]),(f=e.__b)&&f(r);t:if("function"==typeof $)try{if(M=r.props,E="prototype"in $&&$.prototype.render,T=(f=$.contextType)&&s[f.__c],F=f?T?T.props.value:f.__:s,i.__c?S=(p=r.__c=i.__c).__=p.__E:(E?r.__c=p=new $(M,F):(r.__c=p=new A(M,F),p.constructor=$,p.render=W),T&&T.sub(p),p.props=M,p.state||(p.state={}),p.context=F,p.__n=s,y=p.__d=!0,p.__h=[],p._sb=[]),E&&null==p.__s&&(p.__s=p.state),E&&null!=$.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=_({},p.__s)),_(p.__s,$.getDerivedStateFromProps(M,p.__s))),v=p.props,b=p.state,p.__v=r,y)E&&null==$.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),E&&null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(E&&null==$.getDerivedStateFromProps&&M!==v&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(M,F),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(M,p.__s,F)||r.__v==i.__v){for(r.__v!=i.__v&&(p.props=M,p.state=p.__s,p.__d=!1),r.__e=i.__e,r.__k=i.__k,r.__k.some(function(t){t&&(t.__=r)}),D=0;D<p._sb.length;D++)p.__h.push(p._sb[D]);p._sb=[],p.__h.length&&u.push(p);break t}null!=p.componentWillUpdate&&p.componentWillUpdate(M,p.__s,F),E&&null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(v,b,C)})}if(p.context=F,p.props=M,p.__P=n,p.__e=!1,B=e.__r,P=0,E){for(p.state=p.__s,p.__d=!1,B&&B(r),f=p.render(p.props,p.state,p.context),R=0;R<p._sb.length;R++)p.__h.push(p._sb[R]);p._sb=[]}else do{p.__d=!1,B&&B(r),f=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++P<25);p.state=p.__s,null!=p.getChildContext&&(s=_(_({},s),p.getChildContext())),E&&!y&&null!=p.getSnapshotBeforeUpdate&&(C=p.getSnapshotBeforeUpdate(v,b)),N=f,null!=f&&f.type===x&&null==f.key&&(N=I(f.props.children)),l=k(n,m(N)?N:[N],r,i,s,o,a,u,l,c,h),p.base=r.__e,r.__u&=-161,p.__h.length&&u.push(p),S&&(p.__E=p.__=null)}catch(j){if(r.__v=null,c||null!=a)if(j.then){for(r.__u|=c?160:128;l&&8==l.nodeType&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,r.__e=l}else{for(L=a.length;L--;)g(a[L]);O(r)}else r.__e=i.__e,r.__k=i.__k,j.then||O(r);e.__e(j,r,i)}else null==a&&r.__v==i.__v?(r.__k=i.__k,r.__e=i.__e):l=r.__e=function(n,r,i,s,o,a,u,l,c){var h,f,p,_,y,v,b,x=i.props,A=r.props,C=r.type;if("svg"==C?o="http://www.w3.org/2000/svg":"math"==C?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),null!=a)for(h=0;h<a.length;h++)if((y=a[h])&&"setAttribute"in y==!!C&&(C?y.localName==C:3==y.nodeType)){n=y,a[h]=null;break}if(null==n){if(null==C)return document.createTextNode(A);n=document.createElementNS(o,C,A.is&&A),l&&(e.__m&&e.__m(r,a),l=!1),a=null}if(null==C)x===A||l&&n.data==A||(n.data=A);else{if(a=a&&t.call(n.childNodes),x=i.props||d,!l&&null!=a)for(x={},h=0;h<n.attributes.length;h++)x[(y=n.attributes[h]).name]=y.value;for(h in x)if(y=x[h],"children"==h);else if("dangerouslySetInnerHTML"==h)p=y;else if(!(h in A)){if("value"==h&&"defaultValue"in A||"checked"==h&&"defaultChecked"in A)continue;V(n,h,null,y,o)}for(h in A)y=A[h],"children"==h?_=y:"dangerouslySetInnerHTML"==h?f=y:"value"==h?v=y:"checked"==h?b=y:l&&"function"!=typeof y||x[h]===y||V(n,h,y,x[h],o);if(f)l||p&&(f.__html==p.__html||f.__html==n.innerHTML)||(n.innerHTML=f.__html),r.__k=[];else if(p&&(n.innerHTML=""),k("template"==r.type?n.content:n,m(_)?_:[_],r,i,s,"foreignObject"==C?"http://www.w3.org/1999/xhtml":o,a,u,a?a[0]:i.__k&&w(i,0),l,c),null!=a)for(h=a.length;h--;)g(a[h]);l||(h="value","progress"==C&&null==v?n.removeAttribute("value"):null!=v&&(v!==n[h]||"progress"==C&&!v||"option"==C&&v!=x[h])&&V(n,h,v,x[h],o),h="checked",null!=b&&b!=n[h]&&V(n,h,b,x[h],o))}return n}(i.__e,r,i,s,o,a,u,c,h);return(f=e.diffed)&&f(r),128&r.__u?void 0:l}function O(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(O)}function R(t,n,r){for(var i=0;i<r.length;i++)N(r[i],r[++i],r[++i]);e.__c&&e.__c(n,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(t){t.call(n)})}catch(r){e.__e(r,n.__v)}})}function I(t){return"object"!=typeof t||null==t||t.__b&&t.__b>0?t:m(t)?t.map(I):_({},t)}function N(t,n,r){try{if("function"==typeof t){var i="function"==typeof t.__u;i&&t.__u(),i&&null==n||(t.__u=t(n))}else t.current=n}catch(s){e.__e(s,r)}}function L(t,n,r){var i,s;if(e.unmount&&e.unmount(t),(i=t.ref)&&(i.current&&i.current!=t.__e||N(i,null,n)),null!=(i=t.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(o){e.__e(o,n)}i.base=i.__P=null}if(i=t.__k)for(s=0;s<i.length;s++)i[s]&&L(i[s],n,r||"function"!=typeof t.type);r||g(t.__e),t.__c=t.__=t.__e=void 0}function W(t,e,n){return this.constructor(t,n)}function $(n,r,i){var s,o,a,u;r==document&&(r=document.documentElement),e.__&&e.__(n,r),o=(s="function"==typeof i)?null:i&&i.__k||r.__k,a=[],u=[],P(r,n=(!s&&i||r).__k=y(x,null,[n]),o||d,d,r.namespaceURI,!s&&i?[i]:o?null:r.firstChild?t.call(r.childNodes):null,a,!s&&i?i:o?o.__e:r.firstChild,s,u),R(a,n,u)}function j(t,e){$(t,e,j)}function U(e,n,r){var i,s,o,a,u=_({},e.props);for(o in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),n)"key"==o?i=n[o]:"ref"==o?s=n[o]:u[o]=void 0===n[o]&&null!=a?a[o]:n[o];return arguments.length>2&&(u.children=arguments.length>3?t.call(arguments,2):r),v(e.type,u,i||e.key,s||e.ref,null)}function H(t){function e(t){var n,r;return this.getChildContext||(n=new Set,(r={})[e.__c]=this,this.getChildContext=function(){return r},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(t){this.props.value!=t.value&&n.forEach(function(t){t.__e=!0,S(t)})},this.sub=function(t){n.add(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n&&n.delete(t),e&&e.call(t)}}),t.children}return e.__c="__cC"+h++,e.__=t,e.Provider=e.__l=(e.Consumer=function(t,e){return t.children(e)}).contextType=e,e}t=f.slice,e={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&null!=s.getDerivedStateFromError&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},n=0,A.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=_({},this.state),"function"==typeof t&&(t=t(_({},n),this.props)),t&&_(n,t),null!=t&&this.__v&&(e&&this._sb.push(e),S(this))},A.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),S(this))},A.prototype.render=x,r=[],s="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,o=function(t,e){return t.__v.__b-e.__v.__b},M.__r=0,a=/(PointerCapture)$|Capture$/i,u=0,l=B(!1),c=B(!0),h=0;var z=0;function K(t,n,r,i,s,o){n||(n={});var a,u,l=n;if("ref"in l)for(u in l={},n)"ref"==u?a=n[u]:l[u]=n[u];var c={type:t,props:l,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--z,__i:-1,__u:0,__source:s,__self:o};if("function"==typeof t&&(a=t.defaultProps))for(u in a)void 0===l[u]&&(l[u]=a[u]);return e.vnode&&e.vnode(c),c}var Y,q,X,Z,G=0,Q=[],J=e,tt=J.__b,et=J.__r,nt=J.diffed,rt=J.__c,it=J.unmount,st=J.__;function ot(t,e){J.__h&&J.__h(q,t,G||e),G=0;var n=q.__H||(q.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function at(t){return G=1,ut(Ct,t)}function ut(t,e,n){var r=ot(Y++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):Ct(void 0,e),function(t){var e=r.__N?r.__N[0]:r.__[0],n=r.t(e,t);e!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=q,!q.__f)){var i=function(t,e,n){if(!r.__c.__H)return!0;var i=r.__c.__H.__.filter(function(t){return!!t.__c});if(i.every(function(t){return!t.__N}))return!s||s.call(this,t,e,n);var o=r.__c.props!==t;return i.forEach(function(t){if(t.__N){var e=t.__[0];t.__=t.__N,t.__N=void 0,e!==t.__[0]&&(o=!0)}}),s&&s.call(this,t,e,n)||o};q.__f=!0;var s=q.shouldComponentUpdate,o=q.componentWillUpdate;q.componentWillUpdate=function(t,e,n){if(this.__e){var r=s;s=void 0,i(t,e,n),s=r}o&&o.call(this,t,e,n)},q.shouldComponentUpdate=i}return r.__N||r.__}function lt(t,e){var n=ot(Y++,3);!J.__s&&wt(n.__H,e)&&(n.__=t,n.u=e,q.__H.__h.push(n))}function ct(t,e){var n=ot(Y++,4);!J.__s&&wt(n.__H,e)&&(n.__=t,n.u=e,q.__h.push(n))}function ht(t){return G=5,ft(function(){return{current:t}},[])}function dt(t,e,n){G=6,ct(function(){if("function"==typeof t){var n=t(e());return function(){t(null),n&&"function"==typeof n&&n()}}if(t)return t.current=e(),function(){return t.current=null}},null==n?n:n.concat(t))}function ft(t,e){var n=ot(Y++,7);return wt(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function pt(t,e){return G=8,ft(function(){return t},e)}function mt(t){var e=q.context[t.__c],n=ot(Y++,9);return n.c=t,e?(null==n.__&&(n.__=!0,e.sub(q)),e.props.value):t.__}function _t(t,e){J.useDebugValue&&J.useDebugValue(e?e(t):t)}function gt(){var t=ot(Y++,11);if(!t.__){for(var e=q.__v;null!==e&&!e.__m&&null!==e.__;)e=e.__;var n=e.__m||(e.__m=[0,0]);t.__="P"+n[0]+"-"+n[1]++}return t.__}function yt(){for(var t;t=Q.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(xt),t.__H.__h.forEach(At),t.__H.__h=[]}catch(e){t.__H.__h=[],J.__e(e,t.__v)}}J.__b=function(t){q=null,tt&&tt(t)},J.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),st&&st(t,e)},J.__r=function(t){et&&et(t),Y=0;var e=(q=t.__c).__H;e&&(X===q?(e.__h=[],q.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.u=t.__N=void 0})):(e.__h.forEach(xt),e.__h.forEach(At),e.__h=[],Y=0)),X=q},J.diffed=function(t){nt&&nt(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(1!==Q.push(e)&&Z===J.requestAnimationFrame||((Z=J.requestAnimationFrame)||bt)(yt)),e.__H.__.forEach(function(t){t.u&&(t.__H=t.u),t.u=void 0})),X=q=null},J.__c=function(t,e){e.some(function(t){try{t.__h.forEach(xt),t.__h=t.__h.filter(function(t){return!t.__||At(t)})}catch(n){e.some(function(t){t.__h&&(t.__h=[])}),e=[],J.__e(n,t.__v)}}),rt&&rt(t,e)},J.unmount=function(t){it&&it(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(t){try{xt(t)}catch(n){e=n}}),n.__H=void 0,e&&J.__e(e,n.__v))};var vt="function"==typeof requestAnimationFrame;function bt(t){var e,n=function(){clearTimeout(r),vt&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,35);vt&&(e=requestAnimationFrame(n))}function xt(t){var e=q,n=t.__c;"function"==typeof n&&(t.__c=void 0,n()),q=e}function At(t){var e=q;t.__c=t.__(),q=e}function wt(t,e){return!t||t.length!==e.length||e.some(function(e,n){return e!==t[n]})}function Ct(t,e){return"function"==typeof e?e(t):e}function St(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Mt=(t,e,n)=>n>e?e:n<t?t:n;const kt={},Et=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);const Tt=t=>/^0[^.\s]+$/u.test(t);function Ft(t){let e;return()=>(void 0===e&&(e=t()),e)}const Dt=t=>t,Vt=(t,e)=>n=>e(t(n)),Bt=(...t)=>t.reduce(Vt),Pt=(t,e,n)=>{const r=e-t;return 0===r?1:(n-t)/r};class Ot{constructor(){this.subscriptions=[]}add(t){var e,n;return e=this.subscriptions,n=t,-1===e.indexOf(n)&&e.push(n),()=>St(this.subscriptions,t)}notify(t,e,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](t,e,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Rt=t=>1e3*t,It=t=>t/1e3;function Nt(t,e){return e?t*(1e3/e):0}const Lt=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t;function Wt(t,e,n,r){if(t===e&&n===r)return Dt;const i=e=>function(t,e,n,r,i){let s,o,a=0;do{o=e+(n-e)/2,s=Lt(o,r,i)-t,s>0?n=o:e=o}while(Math.abs(s)>1e-7&&++a<12);return o}(e,0,1,t,n);return t=>0===t||1===t?t:Lt(i(t),e,r)}const $t=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,jt=t=>e=>1-t(1-e),Ut=Wt(.33,1.53,.69,.99),Ht=jt(Ut),zt=$t(Ht),Kt=t=>(t*=2)<1?.5*Ht(t):.5*(2-Math.pow(2,-10*(t-1))),Yt=t=>1-Math.sin(Math.acos(t)),qt=jt(Yt),Xt=$t(Yt),Zt=Wt(.42,0,1,1),Gt=Wt(0,0,.58,1),Qt=Wt(.42,0,.58,1),Jt=t=>Array.isArray(t)&&"number"!=typeof t[0];function te(t,e){return Jt(t)?t[((t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t})(0,t.length,e)]:t}const ee=t=>Array.isArray(t)&&"number"==typeof t[0],ne={linear:Dt,easeIn:Zt,easeInOut:Qt,easeOut:Gt,circIn:Yt,circInOut:Xt,circOut:qt,backIn:Ht,backInOut:zt,backOut:Ut,anticipate:Kt},re=t=>{if(ee(t)){t.length;const[e,n,r,i]=t;return Wt(e,n,r,i)}return"string"==typeof t?ne[t]:t},ie=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function se(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=ie.reduce((t,e)=>(t[e]=function(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(e){s.has(e)&&(u.schedule(e),t()),e(o)}const u={schedule:(t,i=!1,o=!1)=>{const a=o&&r?e:n;return i&&s.add(t),a.has(t)||a.add(t),t},cancel:t=>{n.delete(t),s.delete(t)},process:t=>{o=t,r?i=!0:(r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,u.process(t)))}};return u}(s),t),{}),{setup:a,read:u,resolveKeyframes:l,preUpdate:c,update:h,preRender:d,render:f,postRender:p}=o,m=()=>{const s=kt.useManualTiming?i.timestamp:performance.now();n=!1,kt.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1)),i.timestamp=s,i.isProcessing=!0,a.process(i),u.process(i),l.process(i),c.process(i),h.process(i),d.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))};return{schedule:ie.reduce((e,s)=>{const a=o[s];return e[s]=(e,s=!1,o=!1)=>(n||(n=!0,r=!0,i.isProcessing||t(m)),a.schedule(e,s,o)),e},{}),cancel:t=>{for(let e=0;e<ie.length;e++)o[ie[e]].cancel(t)},state:i,steps:o}}const{schedule:oe,cancel:ae,state:ue}=se("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:Dt,!0);let le;function ce(){le=void 0}const he={now:()=>(void 0===le&&he.set(ue.isProcessing||kt.useManualTiming?ue.timestamp:performance.now()),le),set:t=>{le=t,queueMicrotask(ce)}},de=t=>e=>"string"==typeof e&&e.startsWith(t),fe=de("--"),pe=de("var(--"),me=t=>!!pe(t)&&_e.test(t.split("/*")[0].trim()),_e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ge={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},ye={...ge,transform:t=>Mt(0,1,t)},ve={...ge,default:1},be=t=>Math.round(1e5*t)/1e5,xe=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const Ae=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,we=(t,e)=>n=>Boolean("string"==typeof n&&Ae.test(n)&&n.startsWith(t)||e&&!function(t){return null==t}(n)&&Object.prototype.hasOwnProperty.call(n,e)),Ce=(t,e,n)=>r=>{if("string"!=typeof r)return r;const[i,s,o,a]=r.match(xe);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},Se={...ge,transform:t=>Math.round((t=>Mt(0,255,t))(t))},Me={test:we("rgb","red"),parse:Ce("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Se.transform(t)+", "+Se.transform(e)+", "+Se.transform(n)+", "+be(ye.transform(r))+")"};const ke={test:we("#"),parse:function(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Me.transform},Ee=t=>({test:e=>"string"==typeof e&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),Te=Ee("deg"),Fe=Ee("%"),De=Ee("px"),Ve=Ee("vh"),Be=Ee("vw"),Pe=(()=>({...Fe,parse:t=>Fe.parse(t)/100,transform:t=>Fe.transform(100*t)}))(),Oe={test:we("hsl","hue"),parse:Ce("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Fe.transform(be(e))+", "+Fe.transform(be(n))+", "+be(ye.transform(r))+")"},Re={test:t=>Me.test(t)||ke.test(t)||Oe.test(t),parse:t=>Me.test(t)?Me.parse(t):Oe.test(t)?Oe.parse(t):ke.parse(t),transform:t=>"string"==typeof t?t:t.hasOwnProperty("red")?Me.transform(t):Oe.transform(t),getAnimatableNone:t=>{const e=Re.parse(t);return e.alpha=0,Re.transform(e)}},Ie=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const Ne="number",Le="color",We=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $e(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(We,t=>(Re.test(t)?(r.color.push(s),i.push(Le),n.push(Re.parse(t))):t.startsWith("var(")?(r.var.push(s),i.push("var"),n.push(t)):(r.number.push(s),i.push(Ne),n.push(parseFloat(t))),++s,"${}")).split("${}");return{values:n,split:o,indexes:r,types:i}}function je(t){return $e(t).values}function Ue(t){const{split:e,types:n}=$e(t),r=e.length;return t=>{let i="";for(let s=0;s<r;s++)if(i+=e[s],void 0!==t[s]){const e=n[s];i+=e===Ne?be(t[s]):e===Le?Re.transform(t[s]):t[s]}return i}}const He=t=>"number"==typeof t?0:Re.test(t)?Re.getAnimatableNone(t):t;const ze={test:function(t){var e,n;return isNaN(t)&&"string"==typeof t&&((null==(e=t.match(xe))?void 0:e.length)||0)+((null==(n=t.match(Ie))?void 0:n.length)||0)>0},parse:je,createTransformer:Ue,getAnimatableNone:function(t){const e=je(t);return Ue(t)(e.map(He))}};function Ke(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Ye(t,e){return n=>n>0?e:t}const qe=(t,e,n)=>t+(e-t)*n,Xe=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Ze=[ke,Me,Oe];function Ge(t){const e=(n=t,Ze.find(t=>t.test(n)));var n;if(!Boolean(e))return!1;let r=e.parse(t);return e===Oe&&(r=function({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,n/=100;let i=0,s=0,o=0;if(e/=100){const r=n<.5?n*(1+e):n+e-n*e,a=2*n-r;i=Ke(a,r,t+1/3),s=Ke(a,r,t),o=Ke(a,r,t-1/3)}else i=s=o=n;return{red:Math.round(255*i),green:Math.round(255*s),blue:Math.round(255*o),alpha:r}}(r)),r}const Qe=(t,e)=>{const n=Ge(t),r=Ge(e);if(!n||!r)return Ye(t,e);const i={...n};return t=>(i.red=Xe(n.red,r.red,t),i.green=Xe(n.green,r.green,t),i.blue=Xe(n.blue,r.blue,t),i.alpha=qe(n.alpha,r.alpha,t),Me.transform(i))},Je=new Set(["none","hidden"]);function tn(t,e){return n=>qe(t,e,n)}function en(t){return"number"==typeof t?tn:"string"==typeof t?me(t)?Ye:Re.test(t)?Qe:sn:Array.isArray(t)?nn:"object"==typeof t?Re.test(t)?Qe:rn:Ye}function nn(t,e){const n=[...t],r=n.length,i=t.map((t,n)=>en(t)(t,e[n]));return t=>{for(let e=0;e<r;e++)n[e]=i[e](t);return n}}function rn(t,e){const n={...t,...e},r={};for(const i in n)void 0!==t[i]&&void 0!==e[i]&&(r[i]=en(t[i])(t[i],e[i]));return t=>{for(const e in r)n[e]=r[e](t);return n}}const sn=(t,e)=>{const n=ze.createTransformer(e),r=$e(t),i=$e(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Je.has(t)&&!i.values.length||Je.has(e)&&!r.values.length?function(t,e){return Je.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}(t,e):Bt(nn(function(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}(r,i),i.values),n):Ye(t,e)};function on(t,e,n){if("number"==typeof t&&"number"==typeof e&&"number"==typeof n)return qe(t,e,n);return en(t)(t,e)}const an=t=>{const e=({timestamp:e})=>t(e);return{start:(t=!0)=>oe.update(e,t),stop:()=>ae(e),now:()=>ue.isProcessing?ue.timestamp:he.now()}},un=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(1e4*t(s/(i-1)))/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ln=2e4;function cn(t){let e=0;let n=t.next(e);for(;!n.done&&e<ln;)e+=50,n=t.next(e);return e>=ln?1/0:e}function hn(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(cn(r),ln);return{type:"keyframes",ease:t=>r.next(i*t).value/e,duration:It(i)}}function dn(t,e,n){const r=Math.max(e-5,0);return Nt(n-t(r),e-r)}const fn=100,pn=10,mn=1,_n=0,gn=800,yn=.3,vn=.3,bn={granular:.01,default:2},xn={granular:.005,default:.5},An=.01,wn=10,Cn=.05,Sn=1,Mn=.001;function kn({duration:t=gn,bounce:e=yn,velocity:n=_n,mass:r=mn}){let i,s,o=1-e;o=Mt(Cn,Sn,o),t=Mt(An,wn,It(t)),o<1?(i=e=>{const r=e*o,i=r*t,s=r-n,a=Tn(e,o),u=Math.exp(-i);return Mn-s/a*u},s=e=>{const r=e*o*t,s=r*n+n,a=Math.pow(o,2)*Math.pow(e,2)*t,u=Math.exp(-r),l=Tn(Math.pow(e,2),o);return(-i(e)+Mn>0?-1:1)*((s-a)*u)/l}):(i=e=>Math.exp(-e*t)*((e-n)*t+1)-.001,s=e=>Math.exp(-e*t)*(t*t*(n-e)));const a=function(t,e,n){let r=n;for(let i=1;i<En;i++)r-=t(r)/e(r);return r}(i,s,5/t);if(t=Rt(t),isNaN(a))return{stiffness:fn,damping:pn,duration:t};{const e=Math.pow(a,2)*r;return{stiffness:e,damping:2*o*Math.sqrt(r*e),duration:t}}}const En=12;function Tn(t,e){return t*Math.sqrt(1-e*e)}const Fn=["duration","bounce"],Dn=["stiffness","damping","mass"];function Vn(t,e){return e.some(e=>void 0!==t[e])}function Bn(t=vn,e=yn){const n="object"!=typeof t?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:u,damping:l,mass:c,duration:h,velocity:d,isResolvedFromDuration:f}=function(t){let e={velocity:_n,stiffness:fn,damping:pn,mass:mn,isResolvedFromDuration:!1,...t};if(!Vn(t,Dn)&&Vn(t,Fn))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,s=2*Mt(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:mn,stiffness:i,damping:s}}else{const n=kn(t);e={...e,...n,mass:mn},e.isResolvedFromDuration=!0}return e}({...n,velocity:-It(n.velocity||0)}),p=d||0,m=l/(2*Math.sqrt(u*c)),_=o-s,g=It(Math.sqrt(u/c)),y=Math.abs(_)<5;let v;if(r||(r=y?bn.granular:bn.default),i||(i=y?xn.granular:xn.default),m<1){const t=Tn(g,m);v=e=>{const n=Math.exp(-m*g*e);return o-n*((p+m*g*_)/t*Math.sin(t*e)+_*Math.cos(t*e))}}else if(1===m)v=t=>o-Math.exp(-g*t)*(_+(p+g*_)*t);else{const t=g*Math.sqrt(m*m-1);v=e=>{const n=Math.exp(-m*g*e),r=Math.min(t*e,300);return o-n*((p+m*g*_)*Math.sinh(r)+t*_*Math.cosh(r))/t}}const b={calculatedDuration:f&&h||null,next:t=>{const e=v(t);if(f)a.done=t>=h;else{let n=0===t?p:0;m<1&&(n=0===t?Rt(p):dn(v,t,e));const s=Math.abs(n)<=r,u=Math.abs(o-e)<=i;a.done=s&&u}return a.value=a.done?o:e,a},toString:()=>{const t=Math.min(cn(b),ln),e=un(e=>b.next(t*e).value,t,30);return t+"ms "+e},toTransition:()=>{}};return b}function Pn({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:u,restDelta:l=.5,restSpeed:c}){const h=t[0],d={done:!1,value:h},f=t=>void 0===a?u:void 0===u||Math.abs(a-t)<Math.abs(u-t)?a:u;let p=n*e;const m=h+p,_=void 0===o?m:o(m);_!==m&&(p=_-h);const g=t=>-p*Math.exp(-t/r),y=t=>_+g(t),v=t=>{const e=g(t),n=y(t);d.done=Math.abs(e)<=l,d.value=d.done?_:n};let b,x;const A=t=>{var e;(e=d.value,void 0!==a&&e<a||void 0!==u&&e>u)&&(b=t,x=Bn({keyframes:[d.value,f(d.value)],velocity:dn(y,t,d.value),damping:i,stiffness:s,restDelta:l,restSpeed:c}))};return A(0),{calculatedDuration:null,next:t=>{let e=!1;return x||void 0!==b||(e=!0,v(t),A(t)),void 0!==b&&t>=b?x.next(t-b):(!e&&v(t),d)}}}function On(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(e.length,1===s)return()=>e[0];if(2===s&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=function(t,e,n){const r=[],i=n||kt.mix||on,s=t.length-1;for(let o=0;o<s;o++){let n=i(t[o],t[o+1]);if(e){const t=Array.isArray(e)?e[o]||Dt:e;n=Bt(t,n)}r.push(n)}return r}(e,r,i),u=a.length,l=n=>{if(o&&n<t[0])return e[0];let r=0;if(u>1)for(;r<t.length-2&&!(n<t[r+1]);r++);const i=Pt(t[r],t[r+1],n);return a[r](i)};return n?e=>l(Mt(t[0],t[s-1],e)):l}function Rn(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Pt(0,e,r);t.push(qe(n,1,i))}}function In(t){const e=[0];return Rn(e,t.length-1),e}function Nn({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Jt(r)?r.map(re):re(r),s={done:!1,value:e[0]},o=function(t,e){return t.map(t=>t*e)}(n&&n.length===e.length?n:In(e),t),a=On(o,e,{ease:Array.isArray(i)?i:(u=e,l=i,u.map(()=>l||Qt).splice(0,u.length-1))});var u,l;return{calculatedDuration:t,next:e=>(s.value=a(e),s.done=e>=t,s)}}Bn.applyToOptions=t=>{const e=hn(t,100,Bn);return t.ease=e.ease,t.duration=Rt(e.duration),t.type="keyframes",t};const Ln=t=>null!==t;function Wn(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(Ln),o=i<0||e&&"loop"!==n&&e%2==1?0:s.length-1;return o&&void 0!==r?r:s[o]}const $n={decay:Pn,inertia:Pn,tween:Nn,keyframes:Nn,spring:Bn};function jn(t){"string"==typeof t.type&&(t.type=$n[t.type])}class Un{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const Hn=t=>t/100;class zn extends Un{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var t,e;const{motionValue:n}=this.options;n&&n.updatedAt!==he.now()&&this.tick(he.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null==(e=(t=this.options).onStop)||e.call(t))},this.options=t,this.initAnimation(),this.play(),!1===t.autoplay&&this.pause()}initAnimation(){const{options:t}=this;jn(t);const{type:e=Nn,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:s=0}=t;let{keyframes:o}=t;const a=e||Nn;a!==Nn&&"number"!=typeof o[0]&&(this.mixKeyframes=Bt(Hn,on(o[0],o[1])),o=[0,100]);const u=a({...t,keyframes:o});"mirror"===i&&(this.mirroredGenerator=a({...t,keyframes:[...o].reverse(),velocity:-s})),null===u.calculatedDuration&&(u.calculatedDuration=cn(u));const{calculatedDuration:l}=u;this.calculatedDuration=l,this.resolvedDuration=l+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=u}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:a}=this;if(null===this.startTime)return n.next(0);const{delay:u=0,keyframes:l,repeat:c,repeatType:h,repeatDelay:d,type:f,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const _=this.currentTime-u*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?_<0:_>r;this.currentTime=Math.max(_,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let y=this.currentTime,v=n;if(c){const t=Math.min(this.currentTime,r)/o;let e=Math.floor(t),n=t%1;!n&&t>=1&&(n=1),1===n&&e--,e=Math.min(e,c+1);Boolean(e%2)&&("reverse"===h?(n=1-n,d&&(n-=d/o)):"mirror"===h&&(v=s)),y=Mt(0,1,n)*o}const b=g?{done:!1,value:l[0]}:v.next(y);i&&(b.value=i(b.value));let{done:x}=b;g||null===a||(x=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const A=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return A&&f!==Pn&&(b.value=Wn(l,this.options,m,this.speed)),p&&p(b.value),A&&this.finish(),b}then(t,e){return this.finished.then(t,e)}get duration(){return It(this.calculatedDuration)}get time(){return It(this.currentTime)}set time(t){var e;t=Rt(t),this.currentTime=t,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),null==(e=this.driver)||e.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(he.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=It(this.currentTime))}play(){var t,e;if(this.isStopped)return;const{driver:n=an,startTime:r}=this.options;this.driver||(this.driver=n(t=>this.tick(t))),null==(e=(t=this.options).onPlay)||e.call(t);const i=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=i):null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime||(this.startTime=r??i),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(he.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,e;this.notifyFinished(),this.teardown(),this.state="finished",null==(e=(t=this.options).onComplete)||e.call(t)}cancel(){var t,e;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null==(e=(t=this.options).onCancel)||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var e;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null==(e=this.driver)||e.stop(),t.observe(this)}}const Kn=t=>180*t/Math.PI,Yn=t=>{const e=Kn(Math.atan2(t[1],t[0]));return Xn(e)},qn={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Yn,rotateZ:Yn,skewX:t=>Kn(Math.atan(t[1])),skewY:t=>Kn(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Xn=t=>((t%=360)<0&&(t+=360),t),Zn=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Gn=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Qn={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Zn,scaleY:Gn,scale:t=>(Zn(t)+Gn(t))/2,rotateX:t=>Xn(Kn(Math.atan2(t[6],t[5]))),rotateY:t=>Xn(Kn(Math.atan2(-t[2],t[0]))),rotateZ:Yn,rotate:Yn,skewX:t=>Kn(Math.atan(t[4])),skewY:t=>Kn(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Jn(t){return t.includes("scale")?1:0}function tr(t,e){if(!t||"none"===t)return Jn(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Qn,i=n;else{const e=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=qn,i=e}if(!i)return Jn(e);const s=r[e],o=i[1].split(",").map(er);return"function"==typeof s?s(o):o[s]}function er(t){return parseFloat(t.trim())}const nr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rr=(()=>new Set(nr))(),ir=t=>t===ge||t===De,sr=new Set(["x","y","z"]),or=nr.filter(t=>!sr.has(t));const ar={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>tr(e,"x"),y:(t,{transform:e})=>tr(e,"y")};ar.translateX=ar.x,ar.translateY=ar.y;const ur=new Set;let lr=!1,cr=!1,hr=!1;function dr(){if(cr){const t=Array.from(ur).filter(t=>t.needsMeasurement),e=new Set(t.map(t=>t.element)),n=new Map;e.forEach(t=>{const e=function(t){const e=[];return or.forEach(n=>{const r=t.getValue(n);void 0!==r&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}(t);e.length&&(n.set(t,e),t.render())}),t.forEach(t=>t.measureInitialState()),e.forEach(t=>{t.render();const e=n.get(t);e&&e.forEach(([e,n])=>{var r;null==(r=t.getValue(e))||r.set(n)})}),t.forEach(t=>t.measureEndState()),t.forEach(t=>{void 0!==t.suspendedScrollY&&window.scrollTo(0,t.suspendedScrollY)})}cr=!1,lr=!1,ur.forEach(t=>t.complete(hr)),ur.clear()}function fr(){ur.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(cr=!0)})}class pr{constructor(t,e,n,r,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=r,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(ur.add(this),lr||(lr=!0,oe.read(fr),oe.resolveKeyframes(dr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:n,motionValue:r}=this;if(null===t[0]){const i=null==r?void 0:r.get(),s=t[t.length-1];if(void 0!==i)t[0]=i;else if(n&&e){const r=n.readValue(e,s);null!=r&&(t[0]=r)}void 0===t[0]&&(t[0]=s),r&&void 0===i&&r.set(t[0])}!function(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ur.delete(this)}cancel(){"scheduled"===this.state&&(ur.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const mr=Ft(()=>void 0!==window.ScrollTimeline),_r={};function gr(t,e){const n=Ft(t);return()=>_r[e]??n()}const yr=gr(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),vr=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,br={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vr([0,.65,.55,1]),circOut:vr([.55,0,1,.45]),backIn:vr([.31,.01,.66,-.59]),backOut:vr([.33,1.53,.69,.99])};function xr(t,e){return t?"function"==typeof t?yr()?un(t,e):"ease-out":ee(t)?vr(t):Array.isArray(t)?t.map(t=>xr(t,e)||br.easeOut):br[t]:void 0}function Ar(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:u}={},l=void 0){const c={[e]:n};u&&(c.offset=u);const h=xr(a,i);Array.isArray(h)&&(c.easing=h);const d={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"};l&&(d.pseudoElement=l);return t.animate(c,d)}function wr(t){return"function"==typeof t&&"applyToOptions"in t}class Cr extends Un{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:n,keyframes:r,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:a}=t;this.isPseudoElement=Boolean(i),this.allowFlatten=s,this.options=t,t.type;const u=function({type:t,...e}){return wr(t)&&yr()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}(t);this.animation=Ar(e,n,r,u,i),!1===u.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const t=Wn(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(t):function(t,e,n){(t=>t.startsWith("--"))(e)?t.style.setProperty(e,n):t.style[e]=n}(e,n,t),this.animation.cancel()}null==a||a(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,e;null==(e=(t=this.animation).finish)||e.call(t)}cancel(){try{this.animation.cancel()}catch(t){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;"idle"!==t&&"finished"!==t&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,e;this.isPseudoElement||null==(e=(t=this.animation).commitStyles)||e.call(t)}get duration(){var t,e;const n=(null==(e=null==(t=this.animation.effect)?void 0:t.getComputedTiming)?void 0:e.call(t).duration)||0;return It(Number(n))}get time(){return It(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Rt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){var n;return this.allowFlatten&&(null==(n=this.animation.effect)||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&mr()?(this.animation.timeline=t,Dt):e(this)}}const Sr={anticipate:Kt,backInOut:zt,circInOut:Xt};function Mr(t){"string"==typeof t.ease&&t.ease in Sr&&(t.ease=Sr[t.ease])}class kr extends Cr{constructor(t){Mr(t),jn(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:n,onComplete:r,element:i,...s}=this.options;if(!e)return;if(void 0!==t)return void e.set(t);const o=new zn({...s,autoplay:!1}),a=Rt(this.finishedTime??this.time);e.setWithVelocity(o.sample(a-10).value,o.sample(a).value,10),o.stop()}}const Er=(t,e)=>"zIndex"!==e&&(!("number"!=typeof t&&!Array.isArray(t))||!("string"!=typeof t||!ze.test(t)&&"0"!==t||t.startsWith("url(")));function Tr(t){t.duration=0,t.type}const Fr=new Set(["opacity","clipPath","filter","transform"]),Dr=Ft(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class Vr extends Un{constructor({autoplay:t=!0,delay:e=0,type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:a,motionValue:u,element:l,...c}){var h;super(),this.stop=()=>{var t,e;this._animation&&(this._animation.stop(),null==(t=this.stopTimeline)||t.call(this)),null==(e=this.keyframeResolver)||e.cancel()},this.createdAt=he.now();const d={autoplay:t,delay:e,type:n,repeat:r,repeatDelay:i,repeatType:s,name:a,motionValue:u,element:l,...c},f=(null==l?void 0:l.KeyframeResolver)||pr;this.keyframeResolver=new f(o,(t,e,n)=>this.onKeyframesResolved(t,e,d,!n),a,u,l),null==(h=this.keyframeResolver)||h.scheduleResolve()}onKeyframesResolved(t,e,n,r){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:a,isHandoff:u,onUpdate:l}=n;this.resolvedAt=he.now(),function(t,e,n,r){const i=t[0];if(null===i)return!1;if("display"===e||"visibility"===e)return!0;const s=t[t.length-1],o=Er(i,e),a=Er(s,e);return!(!o||!a)&&(function(t){const e=t[0];if(1===t.length)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}(t)||("spring"===n||wr(n))&&r)}(t,i,s,o)||(!kt.instantAnimations&&a||null==l||l(Wn(t,n,e)),t[0]=t[t.length-1],Tr(n),n.repeat=0);const c={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:e,...n,keyframes:t},h=!u&&function(t){var e;const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=t;if(!((null==(e=null==n?void 0:n.owner)?void 0:e.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:l}=n.owner.getProps();return Dr()&&r&&Fr.has(r)&&("transform"!==r||!l)&&!u&&!i&&"mirror"!==s&&0!==o&&"inertia"!==a}(c)?new kr({...c,element:c.motionValue.owner.current}):new zn(c);h.finished.then(()=>this.notifyFinished()).catch(Dt),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||(null==(t=this.keyframeResolver)||t.resume(),hr=!0,fr(),dr(),hr=!1),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),null==(t=this.keyframeResolver)||t.cancel()}}class Br{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,e){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=e}attachTimeline(t){const e=this.animations.map(e=>e.attachTimeline(t));return()=>{e.forEach((t,e)=>{t&&t(),this.animations[e].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach(e=>e[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Pr extends Br{then(t,e){return this.finished.finally(t).then(()=>{})}}const Or=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Rr(t,e,n=1){const[r,i]=function(t){const e=Or.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const t=s.trim();return Et(t)?parseFloat(t):t}return me(i)?Rr(i,e,n+1):i}function Ir(t,e){return(null==t?void 0:t[e])??(null==t?void 0:t.default)??t}const Nr=new Set(["width","height","top","left","right","bottom",...nr]),Lr=t=>e=>e.test(t),Wr=[ge,De,Fe,Te,Be,Ve,{test:t=>"auto"===t,parse:t=>t}],$r=t=>Wr.find(Lr(t));function jr(t){return"number"==typeof t?0===t:null===t||("none"===t||"0"===t||Tt(t))}const Ur=new Set(["brightness","contrast","saturate","opacity"]);function Hr(t){const[e,n]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;const[r]=n.match(xe)||[];if(!r)return t;const i=n.replace(r,"");let s=Ur.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const zr=/\b([a-z-]*)\(.*?\)/gu,Kr={...ze,getAnimatableNone:t=>{const e=t.match(zr);return e?e.map(Hr).join(" "):t}},Yr={...ge,transform:Math.round},qr={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,backgroundPositionX:De,backgroundPositionY:De,...{rotate:Te,rotateX:Te,rotateY:Te,rotateZ:Te,scale:ve,scaleX:ve,scaleY:ve,scaleZ:ve,skew:Te,skewX:Te,skewY:Te,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:ye,originX:Pe,originY:Pe,originZ:De},zIndex:Yr,fillOpacity:ye,strokeOpacity:ye,numOctaves:Yr},Xr={...qr,color:Re,backgroundColor:Re,outlineColor:Re,fill:Re,stroke:Re,borderColor:Re,borderTopColor:Re,borderRightColor:Re,borderBottomColor:Re,borderLeftColor:Re,filter:Kr,WebkitFilter:Kr},Zr=t=>Xr[t];function Gr(t,e){let n=Zr(t);return n!==Kr&&(n=ze),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Qr=new Set(["auto","none","0"]);class Jr extends pr{constructor(t,e,n,r,i){super(t,e,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let a=0;a<t.length;a++){let n=t[a];if("string"==typeof n&&(n=n.trim(),me(n))){const r=Rr(n,e.current);void 0!==r&&(t[a]=r),a===t.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Nr.has(n)||2!==t.length)return;const[r,i]=t,s=$r(r),o=$r(i);if(s!==o)if(ir(s)&&ir(o))for(let a=0;a<t.length;a++){const e=t[a];"string"==typeof e&&(t[a]=parseFloat(e))}else ar[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,n=[];for(let r=0;r<t.length;r++)(null===t[r]||jr(t[r]))&&n.push(r);n.length&&function(t,e,n){let r,i=0;for(;i<t.length&&!r;){const e=t[i];"string"==typeof e&&!Qr.has(e)&&$e(e).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=Gr(n,r)}(t,n,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:n}=this;if(!t||!t.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ar[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const r=e[e.length-1];void 0!==r&&t.getValue(n,r).jump(r,!1)}measureEndState(){var t;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=ar[n](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),(null==(t=this.removedTransforms)?void 0:t.length)&&this.removedTransforms.forEach(([t,n])=>{e.getValue(t).set(n)}),this.resolveNoneKeyframes()}}const ti=(t,e)=>e&&"number"==typeof t?e.transform(t):t;class ei{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=t=>{var e;const n=he.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(t),this.current!==this.prev&&(null==(e=this.events.change)||e.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){var e;this.current=t,this.updatedAt=he.now(),null===this.canTrackVelocity&&void 0!==t&&(this.canTrackVelocity=(e=this.current,!isNaN(parseFloat(e))))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Ot);const n=this.events[t].add(e);return"change"===t?()=>{n(),oe.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;null==(t=this.events.change)||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=he.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Nt(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,e;null==(t=this.dependents)||t.clear(),null==(e=this.events.destroy)||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ni(t,e){return new ei(t,e)}const{schedule:ri}=se(queueMicrotask,!1);function ii(t){return"object"==typeof(e=t)&&null!==e&&"ownerSVGElement"in t;var e}function si(t=.1,{startDelay:e=0,from:n=0,ease:r}={}){return(i,s)=>{const o="number"==typeof n?n:function(t,e){if("first"===t)return 0;{const n=e-1;return"last"===t?n:n/2}}(n,s),a=Math.abs(o-i);let u=t*a;if(r){const e=s*t;u=re(r)(u/e)*e}return e+u}}const oi=t=>Boolean(t&&t.getVelocity),ai=[...Wr,Re,ze];function ui(t){return"object"==typeof t&&!Array.isArray(t)}function li(t,e,n,r){return"string"==typeof t&&ui(e)?function(t,e,n){if(t instanceof EventTarget)return[t];if("string"==typeof t){let e=document;const r=(null==n?void 0:n[t])??e.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}(t,0,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function ci(t,e,n){return t*(e+1)}function hi(t,e,n,r){return"number"==typeof e?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):"<"===e?n:e.startsWith("<")?Math.max(0,n+parseFloat(e.slice(1))):r.get(e)??t}function di(t,e,n,r,i,s){!function(t,e,n){for(let r=0;r<t.length;r++){const i=t[r];i.at>e&&i.at<n&&(St(t,i),r--)}}(t,i,s);for(let o=0;o<e.length;o++)t.push({value:e[o],at:qe(i,s,r[o]),easing:te(n,o)})}function fi(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function pi(t,e){return t.at===e.at?null===t.value?1:null===e.value?-1:0:t.at-e.at}function mi(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function _i(t,e){return e[t]||(e[t]=[]),e[t]}function gi(t){return Array.isArray(t)?t:[t]}function yi(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const vi=t=>"number"==typeof t,bi=t=>t.every(vi),xi=new WeakMap;function Ai(t){const e=[{},{}];return null==t||t.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function wi(t,e,n,r){if("function"==typeof e){const[i,s]=Ai(r);e=e(void 0!==n?n:t.custom,i,s)}if("string"==typeof e&&(e=t.variants&&t.variants[e]),"function"==typeof e){const[i,s]=Ai(r);e=e(void 0!==n?n:t.custom,i,s)}return e}function Ci(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ni(n))}function Si(t){return(t=>Array.isArray(t))(t)?t[t.length-1]||0:t}function Mi(t,e){const n=function(t,e){const n=t.getProps();return wi(n,e,n.custom,t)}(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){Ci(t,o,Si(s[o]))}}function ki(t,e){const n=t.getValue("willChange");if(r=n,Boolean(oi(r)&&r.add))return n.add(e);if(!n&&kt.WillChange){const n=new kt.WillChange("auto");t.addValue("willChange",n),n.add(e)}var r}const Ei=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ti="data-"+Ei("framerAppearId");function Fi(t){return t.props[Ti]}const Di=t=>null!==t;const Vi={type:"spring",stiffness:500,damping:25,restSpeed:10},Bi={type:"keyframes",duration:.8},Pi={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Oi=(t,{keyframes:e})=>e.length>2?Bi:rr.has(t)?t.startsWith("scale")?{type:"spring",stiffness:550,damping:0===e[1]?2*Math.sqrt(550):30,restSpeed:10}:Vi:Pi;const Ri=(t,e,n,r={},i,s)=>o=>{const a=Ir(r,t)||{},u=a.delay||r.delay||0;let{elapsed:l=0}=r;l-=Rt(u);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-l,onUpdate:t=>{e.set(t),a.onUpdate&&a.onUpdate(t)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};(function({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:u,elapsed:l,...c}){return!!Object.keys(c).length})(a)||Object.assign(c,Oi(t,c)),c.duration&&(c.duration=Rt(c.duration)),c.repeatDelay&&(c.repeatDelay=Rt(c.repeatDelay)),void 0!==c.from&&(c.keyframes[0]=c.from);let h=!1;if((!1===c.type||0===c.duration&&!c.repeatDelay)&&(Tr(c),0===c.delay&&(h=!0)),(kt.instantAnimations||kt.skipAnimations)&&(h=!0,Tr(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,h&&!s&&void 0!==e.get()){const t=function(t,{repeat:e,repeatType:n="loop"}){const r=t.filter(Di);return r[e&&"loop"!==n&&e%2==1?0:r.length-1]}(c.keyframes,a);if(void 0!==t)return void oe.update(()=>{c.onUpdate(t),c.onComplete()})}return a.isSync?new zn(c):new Vr(c)};function Ii({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&!0!==e[n];return e[n]=!1,r}function Ni(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const u=[],l=i&&t.animationState&&t.animationState.getState()[i];for(const c in a){const e=t.getValue(c,t.latestValues[c]??null),r=a[c];if(void 0===r||l&&Ii(l,c))continue;const i={delay:n,...Ir(s||{},c)},o=e.get();if(void 0!==o&&!e.isAnimating&&!Array.isArray(r)&&r===o&&!i.velocity)continue;let h=!1;if(window.MotionHandoffAnimation){const e=Fi(t);if(e){const t=window.MotionHandoffAnimation(e,c,oe);null!==t&&(i.startTime=t,h=!0)}}ki(t,c),e.start(Ri(c,e,r,t.shouldReduceMotion&&Nr.has(c)?{type:!1}:i,t,h));const d=e.animation;d&&u.push(d)}return o&&Promise.all(u).then(()=>{oe.update(()=>{o&&Mi(t,o)})}),u}const Li={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wi={};for(const qa in Li)Wi[qa]={isEnabled:t=>Li[qa].some(e=>!!t[e])};const $i=()=>({x:{min:0,max:0},y:{min:0,max:0}}),ji="undefined"!=typeof window,Ui={current:null},Hi={current:!1};const zi=["initial","animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"];function Ki(t){return null!==(e=t.animate)&&"object"==typeof e&&"function"==typeof e.start||zi.some(e=>function(t){return"string"==typeof t||Array.isArray(t)}(t[e]));var e}const Yi=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qi{scrapeMotionValuesFromProps(t,e,n){return{}}constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pr,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const t=he.now();this.renderScheduledAt<t&&(this.renderScheduledAt=t,oe.render(this.render,!1,!0))};const{latestValues:a,renderState:u}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=e.initial?{...a}:{},this.renderState=u,this.parent=t,this.props=e,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=Ki(e),this.isVariantNode=function(t){return Boolean(Ki(t)||t.variants)}(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:l,...c}=this.scrapeMotionValuesFromProps(e,{},this);for(const h in c){const t=c[h];void 0!==a[h]&&oi(t)&&t.set(a[h])}}mount(t){var e;this.current=t,xi.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,e)=>this.bindToMotionValue(e,t)),Hi.current||function(){if(Hi.current=!0,ji)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ui.current=t.matches;t.addEventListener("change",e),e()}else Ui.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Ui.current),null==(e=this.parent)||e.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ae(this.notifyUpdate),ae(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null==(t=this.parent)||t.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=rr.has(t);n&&this.onBindTransform&&this.onBindTransform();const r=e.on("change",e=>{this.latestValues[t]=e,this.props.onUpdate&&oe.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{r(),i&&i(),e.owner&&e.stop()})}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}updateFeatures(){let t="animation";for(t in Wi){const e=Wi[t];if(!e)continue;const{isEnabled:n,Feature:r}=e;if(!this.features[t]&&r&&n(this.props)&&(this.features[t]=new r(this)),this.features[t]){const e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<Yi.length;n++){const e=Yi[n];this.propEventSubscriptions[e]&&(this.propEventSubscriptions[e](),delete this.propEventSubscriptions[e]);const r=t["on"+e];r&&(this.propEventSubscriptions[e]=this.on(e,r))}this.prevMotionValues=function(t,e,n){for(const r in e){const i=e[r],s=n[r];if(oi(i))t.addValue(r,i);else if(oi(s))t.addValue(r,ni(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const e=t.getValue(r);!0===e.liveStyle?e.jump(i):e.hasAnimated||e.set(i)}else{const e=t.getStaticValue(r);t.addValue(r,ni(void 0!==e?e:i,{owner:t}))}}for(const r in n)void 0===e[r]&&t.removeValue(r);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return void 0===n&&void 0!==e&&(n=ni(null===e?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){let n=void 0===this.latestValues[t]&&this.current?this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options):this.latestValues[t];var r;return null!=n&&("string"==typeof n&&(Et(n)||Tt(n))?n=parseFloat(n):(r=n,!ai.find(Lr(r))&&ze.test(e)&&(n=Gr(t,e))),this.setBaseTarget(t,oi(n)?n.get():n)),oi(n)?n.get():n}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:n}=this.props;let r;if("string"==typeof n||"object"==typeof n){const i=wi(this.props,n,null==(e=this.presenceContext)?void 0:e.custom);i&&(r=i[t])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,t);return void 0===i||oi(i)?void 0!==this.initialValues[t]&&void 0===r?void 0:this.baseTarget[t]:i}on(t,e){return this.events[t]||(this.events[t]=new Ot),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){ri.render(this.render)}}class Xi extends qi{constructor(){super(...arguments),this.KeyframeResolver=Jr}sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:n}){delete e[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;oi(t)&&(this.childSubscription=t.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}const Zi={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Gi=nr.length;function Qi(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const u in e){const t=e[u];if(rr.has(u))o=!0;else if(fe(u))i[u]=t;else{const e=ti(t,qr[u]);u.startsWith("origin")?(a=!0,s[u]=e):r[u]=e}}if(e.transform||(o||n?r.transform=function(t,e,n){let r="",i=!0;for(let s=0;s<Gi;s++){const o=nr[s],a=t[o];if(void 0===a)continue;let u=!0;if(u="number"==typeof a?a===(o.startsWith("scale")?1:0):0===parseFloat(a),!u||n){const t=ti(a,qr[o]);u||(i=!1,r+=`${Zi[o]||o}(${t}) `),n&&(e[o]=t)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:t="50%",originY:e="50%",originZ:n=0}=s;r.transformOrigin=`${t} ${e} ${n}`}}function Ji(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];for(o in null==i||i.applyProjectionStyles(s,r),n)s.setProperty(o,n[o])}const ts={};function es(t,{layout:e,layoutId:n}){return rr.has(t)||t.startsWith("origin")||(e||void 0!==n)&&(!!ts[t]||"opacity"===t)}function ns(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(oi(i[o])||e.style&&oi(e.style[o])||es(o,t)||void 0!==(null==(r=null==n?void 0:n.getValue(o))?void 0:r.liveStyle))&&(s[o]=i[o]);return s}class rs extends Xi{constructor(){super(...arguments),this.type="html",this.renderInstance=Ji}readValueFromInstance(t,e){var n,r;if(rr.has(e))return(null==(n=this.projection)?void 0:n.isProjecting)?Jn(e):((t,e)=>{const{transform:n="none"}=getComputedStyle(t);return tr(n,e)})(t,e);{const n=(r=t,window.getComputedStyle(r)),i=(fe(e)?n.getPropertyValue(e):n[e])||0;return"string"==typeof i?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:e}){return function(t,e){return function({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}(function(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(t.getBoundingClientRect(),e))}(t,e)}build(t,e,n){Qi(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return ns(t,e,n)}}class is extends qi{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,e){if(function(t,e){return t in e}(e,t)){const n=t[e];if("string"==typeof n||"number"==typeof n)return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,e){delete e.output[t]}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}build(t,e){Object.assign(t.output,e)}renderInstance(t,{output:e}){Object.assign(t,e)}sortInstanceNodePosition(){return 0}}const ss={offset:"stroke-dashoffset",array:"stroke-dasharray"},os={offset:"strokeDashoffset",array:"strokeDasharray"};function as(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},u,l,c){if(Qi(t,a,l),u)return void(t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox));t.attrs=t.style,t.style={};const{attrs:h,style:d}=t;h.transform&&(d.transform=h.transform,delete h.transform),(d.transform||h.transformOrigin)&&(d.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),d.transform&&(d.transformBox=(null==c?void 0:c.transformBox)??"fill-box",delete h.transformBox),void 0!==e&&(h.x=e),void 0!==n&&(h.y=n),void 0!==r&&(h.scale=r),void 0!==i&&function(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?ss:os;t[s.offset]=De.transform(-r);const o=De.transform(e),a=De.transform(n);t[s.array]=`${o} ${a}`}(h,i,s,o,!1)}const us=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class ls extends Xi{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$i}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(rr.has(e)){const t=Zr(e);return t&&t.default||0}return e=us.has(e)?e:Ei(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return function(t,e,n){const r=ns(t,e,n);for(const i in t)(oi(t[i])||oi(e[i]))&&(r[-1!==nr.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=t[i]);return r}(t,e,n)}build(t,e,n){as(t,e,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,e,n,r){!function(t,e,n,r){Ji(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(us.has(i)?i:Ei(i),e.attrs[i])}(t,e,0,r)}mount(t){var e;this.isSVGTag="string"==typeof(e=t.tagName)&&"svg"===e.toLowerCase(),super.mount(t)}}function cs(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=ii(t)&&!function(t){return ii(t)&&"svg"===t.tagName}(t)?new ls(e):new rs(e);n.mount(t),xi.set(t,n)}function hs(t){const e=new is({presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}});e.mount(t),xi.set(t,e)}function ds(t,e,n,r){const i=[];if(function(t,e){return oi(t)||"number"==typeof t||"string"==typeof t&&!ui(e)}(t,e))i.push(function(t,e,n){const r=oi(t)?t:ni(t);return r.start(Ri("",r,e,n)),r.animation}(t,ui(e)&&e.default||e,n&&n.default||n));else{const r=li(t,e),s=r.length;for(let t=0;t<s;t++){const o=r[t],a=o instanceof Element?cs:hs;xi.has(o)||a(o);const u=xi.get(o),l={...n};"delay"in l&&"function"==typeof l.delay&&(l.delay=l.delay(t,s)),i.push(...Ni(u,{...e,transition:l},{}))}}return i}function fs(t,e,n){const r=[],i=function(t,{defaultTransition:e={},...n}={},r,i){const s=e.duration||.3,o=new Map,a=new Map,u={},l=new Map;let c=0,h=0,d=0;for(let f=0;f<t.length;f++){const n=t[f];if("string"==typeof n){l.set(n,h);continue}if(!Array.isArray(n)){l.set(n.name,hi(h,n.at,c,l));continue}let[r,o,p={}]=n;void 0!==p.at&&(h=hi(h,p.at,c,l));let m=0;const _=(t,n,r,o=0,a=0)=>{const u=gi(t),{delay:l=0,times:c=In(u),type:f="keyframes",repeat:p,repeatType:_,repeatDelay:g=0,...y}=n;let{ease:v=e.ease||"easeOut",duration:b}=n;const x="function"==typeof l?l(o,a):l,A=u.length,w=wr(f)?f:null==i?void 0:i[f||"keyframes"];if(A<=2&&w){let t=100;if(2===A&&bi(u)){const e=u[1]-u[0];t=Math.abs(e)}const e={...y};void 0!==b&&(e.duration=Rt(b));const n=hn(e,t,w);v=n.ease,b=n.duration}b??(b=s);const C=h+x;1===c.length&&0===c[0]&&(c[1]=1);const S=c.length-u.length;if(S>0&&Rn(c,S),1===u.length&&u.unshift(null),p){b=ci(b,p);const t=[...u],e=[...c];v=Array.isArray(v)?[...v]:[v];const n=[...v];for(let r=0;r<p;r++){u.push(...t);for(let i=0;i<t.length;i++)c.push(e[i]+(r+1)),v.push(0===i?"linear":te(n,i-1))}fi(c,p)}const M=C+b;di(r,u,v,c,C,M),m=Math.max(x+b,m),d=Math.max(M,d)};if(oi(r))_(o,p,_i("default",mi(r,a)));else{const t=li(r,o,0,u),e=t.length;for(let n=0;n<e;n++){const r=mi(t[n],a);for(const t in o)_(o[t],yi(p,t),_i(t,r),n,e)}}c=h,h+=m}return a.forEach((t,r)=>{for(const i in t){const s=t[i];s.sort(pi);const a=[],u=[],l=[];for(let t=0;t<s.length;t++){const{at:e,value:n,easing:r}=s[t];a.push(n),u.push(Pt(0,d,e)),l.push(r||"easeOut")}0!==u[0]&&(u.unshift(0),a.unshift(a[0]),l.unshift("easeInOut")),1!==u[u.length-1]&&(u.push(1),a.push(null)),o.has(r)||o.set(r,{keyframes:{},transition:{}});const c=o.get(r);c.keyframes[i]=a,c.transition[i]={...e,duration:d,ease:l,times:u,...n}}}),o}(t,e,0,{spring:Bn});return i.forEach(({keyframes:t,transition:e},n)=>{r.push(...ds(n,t,e))}),r}const ps=function(t,e,n){let r=[];var i;return i=t,r=Array.isArray(i)&&i.some(Array.isArray)?fs(t,e):ds(t,e,n),new Pr(r)},ms={},_s=t=>{let e;const n=new Set,r=(t,r)=>{const i="function"==typeof t?t(e):t;if(!Object.is(i,e)){const t=e;e=(null!=r?r:"object"!=typeof i||null===i)?i:Object.assign({},e,i),n.forEach(n=>n(e,t))}},i=()=>e,s={setState:r,getState:i,getInitialState:()=>o,subscribe:t=>(n.add(t),()=>n.delete(t)),destroy:()=>{"production"!==(ms?"production":void 0)&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},o=e=t(r,i,s);return s};function gs(t,e){for(var n in e)t[n]=e[n];return t}function ys(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}function vs(t,e){var n=e(),r=at({t:{__:n,u:e}}),i=r[0].t,s=r[1];return ct(function(){i.__=n,i.u=e,bs(i)&&s({t:i})},[t,n,e]),lt(function(){return bs(i)&&s({t:i}),t(function(){bs(i)&&s({t:i})})},[t]),n}function bs(t){var e,n,r=t.u,i=t.__;try{var s=r();return!((e=i)===(n=s)&&(0!==e||1/e==1/n)||e!=e&&n!=n)}catch(o){return!0}}function xs(t){t()}function As(t){return t}function ws(){return[!1,xs]}var Cs=ct;function Ss(t,e){this.props=t,this.context=e}function Ms(t,e){function n(t){var n=this.props.ref,r=n==t.ref;return!r&&n&&(n.call?n(null):n.current=null),e?!e(this.props,t)||!r:ys(this.props,t)}function r(e){return this.shouldComponentUpdate=n,y(t,e)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r.type=t,r}(Ss.prototype=new A).isPureReactComponent=!0,Ss.prototype.shouldComponentUpdate=function(t,e){return ys(this.props,t)||ys(this.state,e)};var ks=e.__b;e.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),ks&&ks(t)};var Es="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ts(t){function e(e){var n=gs({},e);return delete n.ref,t(n,e.ref||null)}return e.$$typeof=Es,e.render=t,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var Fs=function(t,e){return null==t?null:T(T(t).map(e))},Ds={map:Fs,forEach:Fs,count:function(t){return t?T(t).length:0},only:function(t){var e=T(t);if(1!==e.length)throw"Children.only";return e[0]},toArray:T},Vs=e.__e;e.__e=function(t,e,n,r){if(t.then)for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return null==e.__e&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e);Vs(t,e,n,r)};var Bs=e.unmount;function Ps(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(t){"function"==typeof t.__c&&t.__c()}),t.__c.__H=null),null!=(t=gs({},t)).__c&&(t.__c.__P===n&&(t.__c.__P=e),t.__c.__e=!0,t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return Ps(t,e,n)})),t}function Os(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return Os(t,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=n)),t}function Rs(){this.__u=0,this.o=null,this.__b=null}function Is(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Ns(t){var e,n,r;function i(i){if(e||(e=t()).then(function(t){n=t.default||t},function(t){r=t}),r)throw r;if(!n)throw e;return y(n,i)}return i.displayName="Lazy",i.__f=!0,i}function Ls(){this.i=null,this.l=null}e.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),Bs&&Bs(t)},(Rs.prototype=new A).__c=function(t,e){var n=e.__c,r=this;null==r.o&&(r.o=[]),r.o.push(n);var i=Is(r.__v),s=!1,o=function(){s||(s=!0,n.__R=null,i?i(a):a())};n.__R=o;var a=function(){if(! --r.__u){if(r.state.__a){var t=r.state.__a;r.__v.__k[0]=Os(t,t.__c.__P,t.__c.__O)}var e;for(r.setState({__a:r.__b=null});e=r.o.pop();)e.forceUpdate()}};r.__u++||32&e.__u||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},Rs.prototype.componentWillUnmount=function(){this.o=[]},Rs.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=Ps(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&y(x,null,t.fallback);return i&&(i.__u&=-33),[y(x,null,e.__a?null:t.children),i]};var Ws=function(t,e,n){if(++n[1]===n[0]&&t.l.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.l.size))for(n=t.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.i=n=n[2]}};function $s(t){return this.getChildContext=function(){return t.context},t.children}function js(t){var e=this,n=t.h;if(e.componentWillUnmount=function(){$(null,e.v),e.v=null,e.h=null},e.h&&e.h!==n&&e.componentWillUnmount(),!e.v){for(var r=e.__v;null!==r&&!r.__m&&null!==r.__;)r=r.__;e.h=n,e.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:r.__m},contains:function(){return!0},insertBefore:function(t,n){this.childNodes.push(t),e.h.insertBefore(t,n)},removeChild:function(t){this.childNodes.splice(this.childNodes.indexOf(t)>>>1,1),e.h.removeChild(t)}}}$(y($s,{context:e.context},t.__v),e.v)}function Us(t,e){var n=y(js,{__v:t,h:e});return n.containerInfo=e,n}(Ls.prototype=new A).__a=function(t){var e=this,n=Is(e.__v),r=e.l.get(t);return r[0]++,function(i){var s=function(){e.props.revealOrder?(r.push(i),Ws(e,t,r)):i()};n?n(s):s()}},Ls.prototype.render=function(t){this.i=null,this.l=new Map;var e=T(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var n=e.length;n--;)this.l.set(e[n],this.i=[1,0,this.i]);return t.children},Ls.prototype.componentDidUpdate=Ls.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(e,n){Ws(t,n,e)})};var Hs="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,zs=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ks=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Ys=/[A-Z0-9]/g,qs="undefined"!=typeof document,Xs=function(t){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(t)};function Zs(t,e,n){return null==e.__k&&(e.textContent=""),$(t,e),"function"==typeof n&&n(),t?t.__c:null}function Gs(t,e,n){return j(t,e),"function"==typeof n&&n(),t?t.__c:null}A.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(A.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Qs=e.event;function Js(){}function to(){return this.cancelBubble}function eo(){return this.defaultPrevented}e.event=function(t){return Qs&&(t=Qs(t)),t.persist=Js,t.isPropagationStopped=to,t.isDefaultPrevented=eo,t.nativeEvent=t};var no,ro={enumerable:!1,configurable:!0,get:function(){return this.class}},io=e.vnode;e.vnode=function(t){"string"==typeof t.type&&function(t){var e=t.props,n=t.type,r={},i=-1===n.indexOf("-");for(var s in e){var o=e[s];if(!("value"===s&&"defaultValue"in e&&null==o||qs&&"children"===s&&"noscript"===n||"class"===s||"className"===s)){var a=s.toLowerCase();"defaultValue"===s&&"value"in e&&null==e.value?s="value":"download"===s&&!0===o?o="":"translate"===a&&"no"===o?o=!1:"o"===a[0]&&"n"===a[1]?"ondoubleclick"===a?s="ondblclick":"onchange"!==a||"input"!==n&&"textarea"!==n||Xs(e.type)?"onfocus"===a?s="onfocusin":"onblur"===a?s="onfocusout":Ks.test(s)&&(s=a):a=s="oninput":i&&zs.test(s)?s=s.replace(Ys,"-$&").toLowerCase():null===o&&(o=void 0),"oninput"===a&&r[s=a]&&(s="oninputCapture"),r[s]=o}}"select"==n&&r.multiple&&Array.isArray(r.value)&&(r.value=T(e.children).forEach(function(t){t.props.selected=-1!=r.value.indexOf(t.props.value)})),"select"==n&&null!=r.defaultValue&&(r.value=T(e.children).forEach(function(t){t.props.selected=r.multiple?-1!=r.defaultValue.indexOf(t.props.value):r.defaultValue==t.props.value})),e.class&&!e.className?(r.class=e.class,Object.defineProperty(r,"className",ro)):(e.className&&!e.class||e.class&&e.className)&&(r.class=r.className=e.className),t.props=r}(t),t.$$typeof=Hs,io&&io(t)};var so=e.__r;e.__r=function(t){so&&so(t),no=t.__c};var oo=e.diffed;e.diffed=function(t){oo&&oo(t);var e=t.props,n=t.__e;null!=n&&"textarea"===t.type&&"value"in e&&e.value!==n.value&&(n.value=null==e.value?"":e.value),no=null};var ao={ReactCurrentDispatcher:{current:{readContext:function(t){return no.__n[t.__c].props.value},useCallback:pt,useContext:mt,useDebugValue:_t,useDeferredValue:As,useEffect:lt,useId:gt,useImperativeHandle:dt,useInsertionEffect:Cs,useLayoutEffect:ct,useMemo:ft,useReducer:ut,useRef:ht,useState:at,useSyncExternalStore:vs,useTransition:ws}}};function uo(t){return y.bind(null,t)}function lo(t){return!!t&&t.$$typeof===Hs}function co(t){return lo(t)&&t.type===x}function ho(t){return!!t&&!!t.displayName&&("string"==typeof t.displayName||t.displayName instanceof String)&&t.displayName.startsWith("Memo(")}function fo(t){return lo(t)?U.apply(null,arguments):t}function po(t){return!!t.__k&&($(null,t),!0)}function mo(t){return t&&(t.base||1===t.nodeType&&t)||null}var _o=function(t,e){return t(e)},go=function(t,e){return t(e)},yo=x,vo=lo,bo={useState:at,useId:gt,useReducer:ut,useEffect:lt,useLayoutEffect:ct,useInsertionEffect:Cs,useTransition:ws,useDeferredValue:As,useSyncExternalStore:vs,startTransition:xs,useRef:ht,useImperativeHandle:dt,useMemo:ft,useCallback:pt,useContext:mt,useDebugValue:_t,version:"18.3.1",Children:Ds,render:Zs,hydrate:Gs,unmountComponentAtNode:po,createPortal:Us,createElement:y,createContext:H,createFactory:uo,cloneElement:fo,createRef:b,Fragment:x,isValidElement:lo,isElement:vo,isFragment:co,isMemo:ho,findDOMNode:mo,Component:A,PureComponent:Ss,memo:Ms,forwardRef:Ts,flushSync:go,unstable_batchedUpdates:_o,StrictMode:yo,Suspense:Rs,SuspenseList:Ls,lazy:Ns,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ao};function xo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ao(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var n=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(e){var r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,r.get?r:{enumerable:!0,get:function(){return t[e]}})}),n}var wo={exports:{}},Co={};const So=Ao(Object.freeze(Object.defineProperty({__proto__:null,Children:Ds,Component:A,Fragment:x,PureComponent:Ss,StrictMode:yo,Suspense:Rs,SuspenseList:Ls,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ao,cloneElement:fo,createContext:H,createElement:y,createFactory:uo,createPortal:Us,createRef:b,default:bo,findDOMNode:mo,flushSync:go,forwardRef:Ts,hydrate:Gs,isElement:vo,isFragment:co,isMemo:ho,isValidElement:lo,lazy:Ns,memo:Ms,render:Zs,startTransition:xs,unmountComponentAtNode:po,unstable_batchedUpdates:_o,useCallback:pt,useContext:mt,useDebugValue:_t,useDeferredValue:As,useEffect:lt,useErrorBoundary:function(t){var e=ot(Y++,10),n=at();return e.__=t,q.componentDidCatch||(q.componentDidCatch=function(t,r){e.__&&e.__(t,r),n[1](t)}),[n[0],function(){n[1](void 0)}]},useId:gt,useImperativeHandle:dt,useInsertionEffect:Cs,useLayoutEffect:ct,useMemo:ft,useReducer:ut,useRef:ht,useState:at,useSyncExternalStore:vs,useTransition:ws,version:"18.3.1"},Symbol.toStringTag,{value:"Module"})));var Mo={exports:{}},ko={},Eo=So;var To="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},Fo=Eo.useState,Do=Eo.useEffect,Vo=Eo.useLayoutEffect,Bo=Eo.useDebugValue;function Po(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!To(t,n)}catch(r){return!0}}var Oo="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,e){return e()}:function(t,e){var n=e(),r=Fo({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Vo(function(){i.value=n,i.getSnapshot=e,Po(i)&&s({inst:i})},[t,n,e]),Do(function(){return Po(i)&&s({inst:i}),t(function(){Po(i)&&s({inst:i})})},[t]),Bo(n),n};ko.useSyncExternalStore=void 0!==Eo.useSyncExternalStore?Eo.useSyncExternalStore:Oo,Mo.exports=ko;var Ro=So,Io=Mo.exports;
/**
   * @license React
   * use-sync-external-store-shim/with-selector.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */var No="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},Lo=Io.useSyncExternalStore,Wo=Ro.useRef,$o=Ro.useEffect,jo=Ro.useMemo,Uo=Ro.useDebugValue;Co.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Wo(null);if(null===s.current){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=jo(function(){function t(t){if(!u){if(u=!0,s=t,t=r(t),void 0!==i&&o.hasValue){var e=o.value;if(i(e,t))return a=e}return a=t}if(e=a,No(s,t))return e;var n=r(t);return void 0!==i&&i(e,n)?(s=t,e):(s=t,a=n)}var s,a,u=!1,l=void 0===n?null:n;return[function(){return t(e())},null===l?void 0:function(){return t(l())}]},[e,n,r,i]);var a=Lo(t,s[0],s[1]);return $o(function(){o.hasValue=!0,o.value=a},[a]),Uo(a),a},wo.exports=Co;const Ho=xo(wo.exports),zo={},{useDebugValue:Ko}=bo,{useSyncExternalStoreWithSelector:Yo}=Ho;let qo=!1;const Xo=t=>t;const Zo=t=>{"production"!==(zo?"production":void 0)&&"function"!=typeof t&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e="function"==typeof t?(t=>t?_s(t):_s)(t):t,n=(t,n)=>function(t,e=Xo,n){"production"!==(zo?"production":void 0)&&n&&!qo&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),qo=!0);const r=Yo(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Ko(r),r}(e,t,n);return Object.assign(n,e),n},Go=(Qo=(t,e)=>({hass:null,config:{},favorites:[],searchQuery:"",selectedCategory:"all",viewMode:"grid",setHass:e=>t({hass:e}),setConfig:e=>t({config:e}),setSearchQuery:e=>t({searchQuery:e}),setSelectedCategory:e=>t({selectedCategory:e}),setViewMode:e=>t({viewMode:e}),toggleFavorite:e=>t(t=>({favorites:t.favorites.includes(e)?t.favorites.filter(t=>t!==e):[...t.favorites,e]}))}))?Zo(Qo):Zo;var Qo;function Jo(t,e){return{light:"on"===e?"mdi:lightbulb":"mdi:lightbulb-outline",switch:"on"===e?"mdi:toggle-switch":"mdi:toggle-switch-off",climate:"mdi:thermostat",cover:"mdi:window-shutter",media_player:"mdi:cast"}[t]||"mdi:home"}function ta(t){return Array.isArray?Array.isArray(t):"[object Array]"===aa(t)}function ea(t){return"string"==typeof t}function na(t){return"number"==typeof t}function ra(t){return!0===t||!1===t||function(t){return ia(t)&&null!==t}(t)&&"[object Boolean]"==aa(t)}function ia(t){return"object"==typeof t}function sa(t){return null!=t}function oa(t){return!t.trim().length}function aa(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const ua=Object.prototype.hasOwnProperty;class la{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach(t=>{let n=ca(t);this._keys.push(n),this._keyMap[n.id]=n,e+=n.weight}),this._keys.forEach(t=>{t.weight/=e})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function ca(t){let e=null,n=null,r=null,i=1,s=null;if(ea(t)||ta(t))r=t,e=ha(t),n=da(t);else{if(!ua.call(t,"name"))throw new Error((t=>`Missing ${t} property in key`)("name"));const o=t.name;if(r=o,ua.call(t,"weight")&&(i=t.weight,i<=0))throw new Error((t=>`Property 'weight' in key '${t}' must be a positive integer`)(o));e=ha(o),n=da(o),s=t.getFn}return{path:e,id:n,weight:i,src:r,getFn:s}}function ha(t){return ta(t)?t:t.split(".")}function da(t){return ta(t)?t.join("."):t}var fa={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(t,e){let n=[],r=!1;const i=(t,e,s)=>{if(sa(t))if(e[s]){const o=t[e[s]];if(!sa(o))return;if(s===e.length-1&&(ea(o)||na(o)||ra(o)))n.push(function(t){return null==t?"":function(t){if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(t)}(o));else if(ta(o)){r=!0;for(let t=0,n=o.length;t<n;t+=1)i(o[t],e,s+1)}else e.length&&i(o,e,s+1)}else n.push(t)};return i(t,ea(e)?e.split("."):e,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const pa=/[^ ]+/g;class ma{constructor({getFn:t=fa.getFn,fieldNormWeight:e=fa.fieldNormWeight}={}){this.norm=function(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(e){const i=e.match(pa).length;if(n.has(i))return n.get(i);const s=1/Math.pow(i,.5*t),o=parseFloat(Math.round(s*r)/r);return n.set(i,o),o},clear(){n.clear()}}}(e,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((t,e)=>{this._keysMap[t.id]=e})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,ea(this.docs[0])?this.docs.forEach((t,e)=>{this._addString(t,e)}):this.docs.forEach((t,e)=>{this._addObject(t,e)}),this.norm.clear())}add(t){const e=this.size();ea(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,n=this.size();e<n;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!sa(t)||oa(t))return;let n={v:t,i:e,n:this.norm.get(t)};this.records.push(n)}_addObject(t,e){let n={i:e,$:{}};this.keys.forEach((e,r)=>{let i=e.getFn?e.getFn(t):this.getFn(t,e.path);if(sa(i))if(ta(i)){let t=[];const e=[{nestedArrIndex:-1,value:i}];for(;e.length;){const{nestedArrIndex:n,value:r}=e.pop();if(sa(r))if(ea(r)&&!oa(r)){let e={v:r,i:n,n:this.norm.get(r)};t.push(e)}else ta(r)&&r.forEach((t,n)=>{e.push({nestedArrIndex:n,value:t})})}n.$[r]=t}else if(ea(i)&&!oa(i)){let t={v:i,n:this.norm.get(i)};n.$[r]=t}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function _a(t,e,{getFn:n=fa.getFn,fieldNormWeight:r=fa.fieldNormWeight}={}){const i=new ma({getFn:n,fieldNormWeight:r});return i.setKeys(t.map(ca)),i.setSources(e),i.create(),i}function ga(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:i=fa.distance,ignoreLocation:s=fa.ignoreLocation}={}){const o=e/t.length;if(s)return o;const a=Math.abs(r-n);return i?o+a/i:a?1:o}const ya=32;function va(t,e,n,{location:r=fa.location,distance:i=fa.distance,threshold:s=fa.threshold,findAllMatches:o=fa.findAllMatches,minMatchCharLength:a=fa.minMatchCharLength,includeMatches:u=fa.includeMatches,ignoreLocation:l=fa.ignoreLocation}={}){if(e.length>ya)throw new Error(`Pattern length exceeds max of ${ya}.`);const c=e.length,h=t.length,d=Math.max(0,Math.min(r,h));let f=s,p=d;const m=a>1||u,_=m?Array(h):[];let g;for(;(g=t.indexOf(e,p))>-1;){let t=ga(e,{currentLocation:g,expectedLocation:d,distance:i,ignoreLocation:l});if(f=Math.min(t,f),p=g+c,m){let t=0;for(;t<c;)_[g+t]=1,t+=1}}p=-1;let y=[],v=1,b=c+h;const x=1<<c-1;for(let w=0;w<c;w+=1){let r=0,s=b;for(;r<s;){ga(e,{errors:w,currentLocation:d+s,expectedLocation:d,distance:i,ignoreLocation:l})<=f?r=s:b=s,s=Math.floor((b-r)/2+r)}b=s;let a=Math.max(1,d-s+1),u=o?h:Math.min(d+s,h)+c,g=Array(u+2);g[u+1]=(1<<w)-1;for(let o=u;o>=a;o-=1){let r=o-1,s=n[t.charAt(r)];if(m&&(_[r]=+!!s),g[o]=(g[o+1]<<1|1)&s,w&&(g[o]|=(y[o+1]|y[o])<<1|1|y[o+1]),g[o]&x&&(v=ga(e,{errors:w,currentLocation:r,expectedLocation:d,distance:i,ignoreLocation:l}),v<=f)){if(f=v,p=r,p<=d)break;a=Math.max(1,2*d-p)}}if(ga(e,{errors:w+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:l})>f)break;y=g}const A={isMatch:p>=0,score:Math.max(.001,v)};if(m){const t=function(t=[],e=fa.minMatchCharLength){let n=[],r=-1,i=-1,s=0;for(let o=t.length;s<o;s+=1){let o=t[s];o&&-1===r?r=s:o||-1===r||(i=s-1,i-r+1>=e&&n.push([r,i]),r=-1)}return t[s-1]&&s-r>=e&&n.push([r,s-1]),n}(_,a);t.length?u&&(A.indices=t):A.isMatch=!1}return A}function ba(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const i=t.charAt(n);e[i]=(e[i]||0)|1<<r-n-1}return e}const xa=String.prototype.normalize?t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):t=>t;class Aa{constructor(t,{location:e=fa.location,threshold:n=fa.threshold,distance:r=fa.distance,includeMatches:i=fa.includeMatches,findAllMatches:s=fa.findAllMatches,minMatchCharLength:o=fa.minMatchCharLength,isCaseSensitive:a=fa.isCaseSensitive,ignoreDiacritics:u=fa.ignoreDiacritics,ignoreLocation:l=fa.ignoreLocation}={}){if(this.options={location:e,threshold:n,distance:r,includeMatches:i,findAllMatches:s,minMatchCharLength:o,isCaseSensitive:a,ignoreDiacritics:u,ignoreLocation:l},t=a?t:t.toLowerCase(),t=u?xa(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const c=(t,e)=>{this.chunks.push({pattern:t,alphabet:ba(t),startIndex:e})},h=this.pattern.length;if(h>ya){let t=0;const e=h%ya,n=h-e;for(;t<n;)c(this.pattern.substr(t,ya),t),t+=ya;if(e){const t=h-ya;c(this.pattern.substr(t),t)}}else c(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,ignoreDiacritics:n,includeMatches:r}=this.options;if(t=e?t:t.toLowerCase(),t=n?xa(t):t,this.pattern===t){let e={isMatch:!0,score:0};return r&&(e.indices=[[0,t.length-1]]),e}const{location:i,distance:s,threshold:o,findAllMatches:a,minMatchCharLength:u,ignoreLocation:l}=this.options;let c=[],h=0,d=!1;this.chunks.forEach(({pattern:e,alphabet:n,startIndex:f})=>{const{isMatch:p,score:m,indices:_}=va(t,e,n,{location:i+f,distance:s,threshold:o,findAllMatches:a,minMatchCharLength:u,includeMatches:r,ignoreLocation:l});p&&(d=!0),h+=m,p&&_&&(c=[...c,..._])});let f={isMatch:d,score:d?h/this.chunks.length:1};return d&&r&&(f.indices=c),f}}class wa{constructor(t){this.pattern=t}static isMultiMatch(t){return Ca(t,this.multiRegex)}static isSingleMatch(t){return Ca(t,this.singleRegex)}search(){}}function Ca(t,e){const n=t.match(e);return n?n[1]:null}class Sa extends wa{constructor(t,{location:e=fa.location,threshold:n=fa.threshold,distance:r=fa.distance,includeMatches:i=fa.includeMatches,findAllMatches:s=fa.findAllMatches,minMatchCharLength:o=fa.minMatchCharLength,isCaseSensitive:a=fa.isCaseSensitive,ignoreDiacritics:u=fa.ignoreDiacritics,ignoreLocation:l=fa.ignoreLocation}={}){super(t),this._bitapSearch=new Aa(t,{location:e,threshold:n,distance:r,includeMatches:i,findAllMatches:s,minMatchCharLength:o,isCaseSensitive:a,ignoreDiacritics:u,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Ma extends wa{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e,n=0;const r=[],i=this.pattern.length;for(;(e=t.indexOf(this.pattern,n))>-1;)n=e+i,r.push([e,n-1]);const s=!!r.length;return{isMatch:s,score:s?0:1,indices:r}}}const ka=[class extends wa{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},Ma,class extends wa{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},class extends wa{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends wa{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends wa{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},class extends wa{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=-1===t.indexOf(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},Sa],Ea=ka.length,Ta=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const Fa=new Set([Sa.type,Ma.type]);class Da{constructor(t,{isCaseSensitive:e=fa.isCaseSensitive,ignoreDiacritics:n=fa.ignoreDiacritics,includeMatches:r=fa.includeMatches,minMatchCharLength:i=fa.minMatchCharLength,ignoreLocation:s=fa.ignoreLocation,findAllMatches:o=fa.findAllMatches,location:a=fa.location,threshold:u=fa.threshold,distance:l=fa.distance}={}){this.query=null,this.options={isCaseSensitive:e,ignoreDiacritics:n,includeMatches:r,minMatchCharLength:i,findAllMatches:o,ignoreLocation:s,location:a,threshold:u,distance:l},t=e?t:t.toLowerCase(),t=n?xa(t):t,this.pattern=t,this.query=function(t,e={}){return t.split("|").map(t=>{let n=t.trim().split(Ta).filter(t=>t&&!!t.trim()),r=[];for(let i=0,s=n.length;i<s;i+=1){const t=n[i];let s=!1,o=-1;for(;!s&&++o<Ea;){const n=ka[o];let i=n.isMultiMatch(t);i&&(r.push(new n(i,e)),s=!0)}if(!s)for(o=-1;++o<Ea;){const n=ka[o];let i=n.isSingleMatch(t);if(i){r.push(new n(i,e));break}}}return r})}(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r,ignoreDiacritics:i}=this.options;t=r?t:t.toLowerCase(),t=i?xa(t):t;let s=0,o=[],a=0;for(let u=0,l=e.length;u<l;u+=1){const r=e[u];o.length=0,s=0;for(let e=0,i=r.length;e<i;e+=1){const i=r[e],{isMatch:u,indices:l,score:c}=i.search(t);if(!u){a=0,s=0,o.length=0;break}if(s+=1,a+=c,n){const t=i.constructor.type;Fa.has(t)?o=[...o,...l]:o.push(l)}}if(s){let t={isMatch:!0,score:a/s};return n&&(t.indices=o),t}}return{isMatch:!1,score:1}}}const Va=[];function Ba(t,e){for(let n=0,r=Va.length;n<r;n+=1){let r=Va[n];if(r.condition(t,e))return new r(t,e)}return new Aa(t,e)}const Pa="$and",Oa="$or",Ra="$path",Ia="$val",Na=t=>!(!t[Pa]&&!t[Oa]),La=t=>({[Pa]:Object.keys(t).map(e=>({[e]:t[e]}))});function Wa(t,e,{auto:n=!0}={}){const r=t=>{let i=Object.keys(t);const s=(t=>!!t[Ra])(t);if(!s&&i.length>1&&!Na(t))return r(La(t));if((t=>!ta(t)&&ia(t)&&!Na(t))(t)){const r=s?t[Ra]:i[0],o=s?t[Ia]:t[r];if(!ea(o))throw new Error((t=>`Invalid value for key ${t}`)(r));const a={keyId:da(r),pattern:o};return n&&(a.searcher=Ba(o,e)),a}let o={children:[],operator:i[0]};return i.forEach(e=>{const n=t[e];ta(n)&&n.forEach(t=>{o.children.push(r(t))})}),o};return Na(t)||(t=La(t)),r(t)}function $a(t,e){const n=t.matches;e.matches=[],sa(n)&&n.forEach(t=>{if(!sa(t.indices)||!t.indices.length)return;const{indices:n,value:r}=t;let i={indices:n,value:r};t.key&&(i.key=t.key.src),t.idx>-1&&(i.refIndex=t.idx),e.matches.push(i)})}function ja(t,e){e.score=t.score}class Ua{constructor(t,e={},n){this.options={...fa,...e},this.options.useExtendedSearch,this._keyStore=new la(this.options.keys),this.setCollection(t,n)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof ma))throw new Error("Incorrect 'index' type");this._myIndex=e||_a(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){sa(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const e=[];for(let n=0,r=this._docs.length;n<r;n+=1){const i=this._docs[n];t(i,n)&&(this.removeAt(n),n-=1,r-=1,e.push(i))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:i,sortFn:s,ignoreFieldNorm:o}=this.options;let a=ea(t)?ea(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return function(t,{ignoreFieldNorm:e=fa.ignoreFieldNorm}){t.forEach(t=>{let n=1;t.matches.forEach(({key:t,norm:r,score:i})=>{const s=t?t.weight:null;n*=Math.pow(0===i&&s?Number.EPSILON:i,(s||1)*(e?1:r))}),t.score=n})}(a,{ignoreFieldNorm:o}),i&&a.sort(s),na(e)&&e>-1&&(a=a.slice(0,e)),function(t,e,{includeMatches:n=fa.includeMatches,includeScore:r=fa.includeScore}={}){const i=[];return n&&i.push($a),r&&i.push(ja),t.map(t=>{const{idx:n}=t,r={item:e[n],refIndex:n};return i.length&&i.forEach(e=>{e(t,r)}),r})}(a,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(t){const e=Ba(t,this.options),{records:n}=this._myIndex,r=[];return n.forEach(({v:t,i:n,n:i})=>{if(!sa(t))return;const{isMatch:s,score:o,indices:a}=e.searchIn(t);s&&r.push({item:t,idx:n,matches:[{score:o,value:t,norm:i,indices:a}]})}),r}_searchLogical(t){const e=Wa(t,this.options),n=(t,e,r)=>{if(!t.children){const{keyId:n,searcher:i}=t,s=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(e,n),searcher:i});return s&&s.length?[{idx:r,item:e,matches:s}]:[]}const i=[];for(let s=0,o=t.children.length;s<o;s+=1){const o=t.children[s],a=n(o,e,r);if(a.length)i.push(...a);else if(t.operator===Pa)return[]}return i},r=this._myIndex.records,i={},s=[];return r.forEach(({$:t,i:r})=>{if(sa(t)){let o=n(e,t,r);o.length&&(i[r]||(i[r]={idx:r,item:t,matches:[]},s.push(i[r])),o.forEach(({matches:t})=>{i[r].matches.push(...t)}))}}),s}_searchObjectList(t){const e=Ba(t,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach(({$:t,i:r})=>{if(!sa(t))return;let s=[];n.forEach((n,r)=>{s.push(...this._findMatches({key:n,value:t[r],searcher:e}))}),s.length&&i.push({idx:r,item:t,matches:s})}),i}_findMatches({key:t,value:e,searcher:n}){if(!sa(e))return[];let r=[];if(ta(e))e.forEach(({v:e,i:i,n:s})=>{if(!sa(e))return;const{isMatch:o,score:a,indices:u}=n.searchIn(e);o&&r.push({score:a,key:t,value:e,idx:i,norm:s,indices:u})});else{const{v:i,n:s}=e,{isMatch:o,score:a,indices:u}=n.searchIn(i);o&&r.push({score:a,key:t,value:i,norm:s,indices:u})}return r}}function Ha({device:t,onToggle:e,onFavorite:n,isFavorite:r}){const i=ht(null),s=ht(null);return lt(()=>{s.current&&r&&ps(s.current,{scale:[1,1.2,1.1]},{duration:.3})},[r]),K("div",{ref:i,className:"device-card",onClick:()=>{i.current&&ps(i.current,{scale:[1,.98,1]},{duration:.2}),e&&e(t)},style:{padding:"14px",background:t.isOn?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",borderRadius:"10px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transition:"box-shadow 0.2s ease"},onMouseEnter:t=>{ps(t.currentTarget,{y:-2,boxShadow:"0 8px 16px rgba(0,0,0,0.2)"},{duration:.2})},onMouseLeave:t=>{ps(t.currentTarget,{y:0,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},{duration:.2})},children:[K("div",{style:{color:t.isOn?"white":"#333",flex:1},children:[K("div",{style:{fontWeight:"600",fontSize:"15px",marginBottom:"4px"},children:t.name}),K("div",{style:{fontSize:"12px",opacity:.8,textTransform:"capitalize"},children:[t.state," • ",t.domain]})]}),K("button",{ref:s,onClick:e=>{e.stopPropagation(),s.current&&ps(s.current,{rotate:[0,360],scale:[1,1.3,1]},{duration:.4,easing:Bn()}),n&&n(t.entity_id)},style:{background:"none",border:"none",fontSize:"22px",cursor:"pointer",padding:"4px",filter:t.isOn?"brightness(2)":"none"},children:r?"⭐":"☆"})]})}function za({value:t,onChange:e,categories:n,activeCategory:r,onCategoryChange:i}){const s=ht(null);lt(()=>{s.current&&ps(s.current.querySelectorAll("button"),{opacity:[0,1],x:[-20,0]},{delay:si(.05),duration:.3})},[]);return K("div",{style:{marginBottom:"20px"},children:[K("input",{type:"text",value:t,onInput:t=>e(t.target.value),placeholder:"Search devices...",style:{width:"100%",padding:"14px 16px",fontSize:"16px",border:"2px solid transparent",borderRadius:"12px",background:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",boxSizing:"border-box",transition:"all 0.3s ease",outline:"none"},onFocus:t=>{ps(t.currentTarget,{borderColor:"#667eea",boxShadow:"0 4px 12px rgba(102, 126, 234, 0.25)"},{duration:.2})},onBlur:t=>{ps(t.currentTarget,{borderColor:"transparent",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},{duration:.2})}}),K("div",{ref:s,style:{display:"flex",gap:"8px",marginTop:"12px",flexWrap:"wrap"},children:n.map(t=>K("button",{onClick:e=>((t,e)=>{ps(e.currentTarget,{scale:[1,.95,1]},{duration:.15}),i(t)})(t.id,e),style:{padding:"8px 16px",border:"none",borderRadius:"20px",background:r===t.id?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"white",color:r===t.id?"white":"#666",cursor:"pointer",fontSize:"14px",fontWeight:"500",boxShadow:r===t.id?"0 4px 12px rgba(102, 126, 234, 0.3)":"0 2px 6px rgba(0,0,0,0.08)",transition:"transform 0.2s ease"},onMouseEnter:t=>{ps(t.currentTarget,{scale:1.05},{duration:.2})},onMouseLeave:t=>{ps(t.currentTarget,{scale:1},{duration:.2})},children:t.label},t.id))})]})}function Ka({hass:t,config:e,onAction:n}){const r=ht(null),i=ht(null),s=ht(!1),{searchQuery:o,setSearchQuery:a,selectedCategory:u,setSelectedCategory:l,favorites:c,toggleFavorite:h}=Go(),d=function(t,e){return ft(()=>{if(!(null==t?void 0:t.states))return[];const n=(null==e?void 0:e.domains)||["light","switch","climate","cover","media_player"];return Object.values(t.states).filter(t=>{const e=t.entity_id.split(".")[0];return n.includes(e)}).map(t=>{const e=t.entity_id.split(".")[0];return{entity_id:t.entity_id,domain:e,state:t.state,name:t.attributes.friendly_name||t.entity_id,attributes:t.attributes,isOn:["on","open","playing"].includes(t.state),isAvailable:"unavailable"!==t.state,icon:t.attributes.icon||Jo(e,t.state)}})},[null==t?void 0:t.states,null==e?void 0:e.domains])}(t,e),f=function(t,e,n={}){const{category:r="all",favorites:i=[],maxResults:s=50}=n,o=ft(()=>new Set(i),[i]),a=ft(()=>t&&0!==t.length?new Ua(t,{keys:["name","entity_id"],threshold:.3}):null,[t]);return ft(()=>{let n=t||[];return"all"!==r&&(n=n.filter(t=>t.domain===r)),e&&a&&(n=a.search(e).map(t=>t.item)),n.sort((t,e)=>{const n=o.has(t.entity_id);return n!==o.has(e.entity_id)?n?-1:1:0}),n.slice(0,s)},[t,e,r,o,a,s])}(d,o,{category:u,favorites:c,maxResults:(null==e?void 0:e.max_results)||50});if(lt(()=>{if(i.current&&!s.current){s.current=!0;try{ps(i.current,{opacity:[0,1],y:[-20,0]},{duration:.5,easing:Bn()})}catch(t){console.warn("Animation failed:",t)}}},[]),lt(()=>{if(r.current&&f.length>0){const e=r.current.querySelectorAll(".device-card");if(e&&e.length>0)try{ps(Array.from(e),{opacity:[0,1],y:[20,0]},{delay:si(.03),duration:.4,easing:Bn({stiffness:300,damping:24})})}catch(t){console.warn("Device animation failed:",t)}}},[f.length,u]),!t)return K("div",{style:{padding:"16px",textAlign:"center"},children:K("div",{children:"Loading..."})});const p=async t=>{n&&await n({type:"TOGGLE",entityId:t.entity_id})};return K("div",{style:{padding:"16px",fontFamily:"system-ui, sans-serif"},children:[K("div",{ref:i,children:[K("h2",{style:{margin:"0 0 16px 0"},children:(null==e?void 0:e.title)||"Device Search"}),K(za,{value:o,onChange:a,categories:[{id:"all",label:"All"},{id:"light",label:"Lights"},{id:"switch",label:"Switches"},{id:"climate",label:"Climate"}],activeCategory:u,onCategoryChange:l})]}),K("div",{ref:r,style:{display:"grid",gap:"8px",marginTop:"16px"},children:f.length>0?f.map(t=>K(Ha,{device:t,onToggle:p,onFavorite:h,isFavorite:c.includes(t.entity_id)},t.entity_id)):K("div",{style:{padding:"48px",textAlign:"center",color:"#999"},children:o?`No devices found for "${o}"`:"No devices available"})}),K("div",{style:{marginTop:"16px",padding:"12px",background:"rgba(0,0,0,0.03)",borderRadius:"8px",fontSize:"12px",color:"#666",display:"flex",justifyContent:"space-between"},children:[K("span",{children:["Found ",f.length," devices"]}),K("span",{children:["Total: ",d.length]})]})]})}Ua.version="7.1.0",Ua.createIndex=_a,Ua.parseIndex=function(t,{getFn:e=fa.getFn,fieldNormWeight:n=fa.fieldNormWeight}={}){const{keys:r,records:i}=t,s=new ma({getFn:e,fieldNormWeight:n});return s.setKeys(r),s.setIndexRecords(i),s},Ua.config=fa,Ua.parseQuery=Wa,function(...t){Va.push(...t)}(Da);class Ya extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.handleAction=this.handleAction.bind(this)}connectedCallback(){this.render()}setConfig(t){this._config=t,Go.getState().setConfig(t),this.render()}set hass(t){this._hass=t,Go.getState().setHass(t),this.render()}async handleAction(t){if(this._hass)try{if("TOGGLE"===t.type)await this._hass.callService("homeassistant","toggle",{entity_id:t.entityId})}catch(e){console.error("Action failed:",e)}}render(){$(K(Ka,{hass:this._hass,config:this._config,onAction:this.handleAction}),this.shadowRoot)}static getStubConfig(){return{type:"custom:fast-search-card",title:"Search",domains:["light","switch","climate"],max_results:50}}getCardSize(){var t;return(null==(t=this._config)?void 0:t.card_height)||4}}customElements.get("fast-search-card")||customElements.define("fast-search-card",Ya),window.customCards=window.customCards||[],window.customCards.find(t=>"fast-search-card"===t.type)||window.customCards.push({type:"fast-search-card",name:"Fast Search Card",preview:!0,description:"Fast search card with Preact"}),console.info("%c FAST-SEARCH-CARD v2 ","background: #007AFF; color: white; font-weight: bold;")}();
